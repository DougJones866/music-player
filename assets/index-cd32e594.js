(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function fv(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function Ys(e){if(Ie(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Pt(r)?TO(r):Ys(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Pt(e))return e;if(it(e))return e}}const bO=/;(?![^(]*\))/g,IO=/:([^]+)/,EO=/\/\*.*?\*\//gs;function TO(e){const t={};return e.replace(EO,"").split(bO).forEach(n=>{if(n){const r=n.split(IO);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ln(e){let t="";if(Pt(e))t=e;else if(Ie(e))for(let n=0;n<e.length;n++){const r=ln(e[n]);r&&(t+=r+" ")}else if(it(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const AO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",SO=fv(AO);function RT(e){return!!e||e===""}function kO(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=eh(e[r],t[r]);return n}function eh(e,t){if(e===t)return!0;let n=Ub(e),r=Ub(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ja(e),r=ja(t),n||r)return e===t;if(n=Ie(e),r=Ie(t),n||r)return n&&r?kO(e,t):!1;if(n=it(e),r=it(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const a in e){const l=e.hasOwnProperty(a),f=t.hasOwnProperty(a);if(l&&!f||!l&&f||!eh(e[a],t[a]))return!1}}return String(e)===String(t)}function CO(e,t){return e.findIndex(n=>eh(n,t))}const Ot=e=>Pt(e)?e:e==null?"":Ie(e)||it(e)&&(e.toString===DT||!Le(e.toString))?JSON.stringify(e,NT,2):String(e),NT=(e,t)=>t&&t.__v_isRef?NT(e,t.value):Ks(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:nh(t)?{[`Set(${t.size})`]:[...t.values()]}:it(t)&&!Ie(t)&&!PT(t)?String(t):t,ut={},$s=[],_r=()=>{},xO=()=>!1,RO=/^on[^a-z]/,th=e=>RO.test(e),hv=e=>e.startsWith("onUpdate:"),tn=Object.assign,dv=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},NO=Object.prototype.hasOwnProperty,Ge=(e,t)=>NO.call(e,t),Ie=Array.isArray,Ks=e=>hc(e)==="[object Map]",nh=e=>hc(e)==="[object Set]",Ub=e=>hc(e)==="[object Date]",Le=e=>typeof e=="function",Pt=e=>typeof e=="string",ja=e=>typeof e=="symbol",it=e=>e!==null&&typeof e=="object",OT=e=>it(e)&&Le(e.then)&&Le(e.catch),DT=Object.prototype.toString,hc=e=>DT.call(e),OO=e=>hc(e).slice(8,-1),PT=e=>hc(e)==="[object Object]",pv=e=>Pt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,of=fv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},DO=/-(\w)/g,$r=rh(e=>e.replace(DO,(t,n)=>n?n.toUpperCase():"")),PO=/\B([A-Z])/g,Iu=rh(e=>e.replace(PO,"-$1").toLowerCase()),ih=rh(e=>e.charAt(0).toUpperCase()+e.slice(1)),Om=rh(e=>e?`on${ih(e)}`:""),Ba=(e,t)=>!Object.is(e,t),sf=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},vf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},oh=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let jb;const LO=()=>jb||(jb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Hn;class LT{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Hn,!t&&Hn&&(this.index=(Hn.scopes||(Hn.scopes=[])).push(this)-1)}run(t){if(this.active){const n=Hn;try{return Hn=this,t()}finally{Hn=n}}}on(){Hn=this}off(){Hn=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function MT(e){return new LT(e)}function MO(e,t=Hn){t&&t.active&&t.effects.push(e)}function FO(){return Hn}function VO(e){Hn&&Hn.cleanups.push(e)}const mv=e=>{const t=new Set(e);return t.w=0,t.n=0,t},FT=e=>(e.w&$i)>0,VT=e=>(e.n&$i)>0,UO=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=$i},jO=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];FT(o)&&!VT(o)?o.delete(e):t[n++]=o,o.w&=~$i,o.n&=~$i}t.length=n}},ag=new WeakMap;let Ta=0,$i=1;const cg=30;let vr;const Vo=Symbol(""),lg=Symbol("");class gv{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,MO(this,r)}run(){if(!this.active)return this.fn();let t=vr,n=Vi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=vr,vr=this,Vi=!0,$i=1<<++Ta,Ta<=cg?UO(this):Bb(this),this.fn()}finally{Ta<=cg&&jO(this),$i=1<<--Ta,vr=this.parent,Vi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){vr===this?this.deferStop=!0:this.active&&(Bb(this),this.onStop&&this.onStop(),this.active=!1)}}function Bb(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Vi=!0;const UT=[];function Eu(){UT.push(Vi),Vi=!1}function Tu(){const e=UT.pop();Vi=e===void 0?!0:e}function Qn(e,t,n){if(Vi&&vr){let r=ag.get(e);r||ag.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=mv()),jT(o)}}function jT(e,t){let n=!1;Ta<=cg?VT(e)||(e.n|=$i,n=!FT(e)):n=!e.has(vr),n&&(e.add(vr),vr.deps.push(e))}function si(e,t,n,r,o,s){const a=ag.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&Ie(e)){const f=oh(r);a.forEach((p,g)=>{(g==="length"||g>=f)&&l.push(p)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":Ie(e)?pv(n)&&l.push(a.get("length")):(l.push(a.get(Vo)),Ks(e)&&l.push(a.get(lg)));break;case"delete":Ie(e)||(l.push(a.get(Vo)),Ks(e)&&l.push(a.get(lg)));break;case"set":Ks(e)&&l.push(a.get(Vo));break}if(l.length===1)l[0]&&fg(l[0]);else{const f=[];for(const p of l)p&&f.push(...p);fg(mv(f))}}function fg(e,t){const n=Ie(e)?e:[...e];for(const r of n)r.computed&&qb(r);for(const r of n)r.computed||qb(r)}function qb(e,t){(e!==vr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const BO=fv("__proto__,__v_isRef,__isVue"),BT=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ja)),qO=vv(),HO=vv(!1,!0),$O=vv(!0),Hb=KO();function KO(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Xe(this);for(let s=0,a=this.length;s<a;s++)Qn(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(Xe)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Eu();const r=Xe(this)[t].apply(this,n);return Tu(),r}}),e}function vv(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?uD:GT:t?KT:$T).get(r))return r;const a=Ie(r);if(!e&&a&&Ge(Hb,o))return Reflect.get(Hb,o,s);const l=Reflect.get(r,o,s);return(ja(o)?BT.has(o):BO(o))||(e||Qn(r,"get",o),t)?l:ct(l)?a&&pv(o)?l:l.value:it(l)?e?zT(l):ai(l):l}}const GO=qT(),zO=qT(!0);function qT(e=!1){return function(n,r,o,s){let a=n[r];if(Qs(a)&&ct(a)&&!ct(o))return!1;if(!e&&(!yf(o)&&!Qs(o)&&(a=Xe(a),o=Xe(o)),!Ie(n)&&ct(a)&&!ct(o)))return a.value=o,!0;const l=Ie(n)&&pv(r)?Number(r)<n.length:Ge(n,r),f=Reflect.set(n,r,o,s);return n===Xe(s)&&(l?Ba(o,a)&&si(n,"set",r,o):si(n,"add",r,o)),f}}function WO(e,t){const n=Ge(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&si(e,"delete",t,void 0),r}function XO(e,t){const n=Reflect.has(e,t);return(!ja(t)||!BT.has(t))&&Qn(e,"has",t),n}function YO(e){return Qn(e,"iterate",Ie(e)?"length":Vo),Reflect.ownKeys(e)}const HT={get:qO,set:GO,deleteProperty:WO,has:XO,ownKeys:YO},QO={get:$O,set(e,t){return!0},deleteProperty(e,t){return!0}},JO=tn({},HT,{get:HO,set:zO}),yv=e=>e,sh=e=>Reflect.getPrototypeOf(e);function Fl(e,t,n=!1,r=!1){e=e.__v_raw;const o=Xe(e),s=Xe(t);n||(t!==s&&Qn(o,"get",t),Qn(o,"get",s));const{has:a}=sh(o),l=r?yv:n?bv:qa;if(a.call(o,t))return l(e.get(t));if(a.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function Vl(e,t=!1){const n=this.__v_raw,r=Xe(n),o=Xe(e);return t||(e!==o&&Qn(r,"has",e),Qn(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Ul(e,t=!1){return e=e.__v_raw,!t&&Qn(Xe(e),"iterate",Vo),Reflect.get(e,"size",e)}function $b(e){e=Xe(e);const t=Xe(this);return sh(t).has.call(t,e)||(t.add(e),si(t,"add",e,e)),this}function Kb(e,t){t=Xe(t);const n=Xe(this),{has:r,get:o}=sh(n);let s=r.call(n,e);s||(e=Xe(e),s=r.call(n,e));const a=o.call(n,e);return n.set(e,t),s?Ba(t,a)&&si(n,"set",e,t):si(n,"add",e,t),this}function Gb(e){const t=Xe(this),{has:n,get:r}=sh(t);let o=n.call(t,e);o||(e=Xe(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&si(t,"delete",e,void 0),s}function zb(){const e=Xe(this),t=e.size!==0,n=e.clear();return t&&si(e,"clear",void 0,void 0),n}function jl(e,t){return function(r,o){const s=this,a=s.__v_raw,l=Xe(a),f=t?yv:e?bv:qa;return!e&&Qn(l,"iterate",Vo),a.forEach((p,g)=>r.call(o,f(p),f(g),s))}}function Bl(e,t,n){return function(...r){const o=this.__v_raw,s=Xe(o),a=Ks(s),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,p=o[e](...r),g=n?yv:t?bv:qa;return!t&&Qn(s,"iterate",f?lg:Vo),{next(){const{value:h,done:m}=p.next();return m?{value:h,done:m}:{value:l?[g(h[0]),g(h[1])]:g(h),done:m}},[Symbol.iterator](){return this}}}}function bi(e){return function(...t){return e==="delete"?!1:this}}function ZO(){const e={get(s){return Fl(this,s)},get size(){return Ul(this)},has:Vl,add:$b,set:Kb,delete:Gb,clear:zb,forEach:jl(!1,!1)},t={get(s){return Fl(this,s,!1,!0)},get size(){return Ul(this)},has:Vl,add:$b,set:Kb,delete:Gb,clear:zb,forEach:jl(!1,!0)},n={get(s){return Fl(this,s,!0)},get size(){return Ul(this,!0)},has(s){return Vl.call(this,s,!0)},add:bi("add"),set:bi("set"),delete:bi("delete"),clear:bi("clear"),forEach:jl(!0,!1)},r={get(s){return Fl(this,s,!0,!0)},get size(){return Ul(this,!0)},has(s){return Vl.call(this,s,!0)},add:bi("add"),set:bi("set"),delete:bi("delete"),clear:bi("clear"),forEach:jl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Bl(s,!1,!1),n[s]=Bl(s,!0,!1),t[s]=Bl(s,!1,!0),r[s]=Bl(s,!0,!0)}),[e,n,t,r]}const[eD,tD,nD,rD]=ZO();function _v(e,t){const n=t?e?rD:nD:e?tD:eD;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Ge(n,o)&&o in r?n:r,o,s)}const iD={get:_v(!1,!1)},oD={get:_v(!1,!0)},sD={get:_v(!0,!1)},$T=new WeakMap,KT=new WeakMap,GT=new WeakMap,uD=new WeakMap;function aD(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cD(e){return e.__v_skip||!Object.isExtensible(e)?0:aD(OO(e))}function ai(e){return Qs(e)?e:wv(e,!1,HT,iD,$T)}function lD(e){return wv(e,!1,JO,oD,KT)}function zT(e){return wv(e,!0,QO,sD,GT)}function wv(e,t,n,r,o){if(!it(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=cD(e);if(a===0)return e;const l=new Proxy(e,a===2?r:n);return o.set(e,l),l}function Ui(e){return Qs(e)?Ui(e.__v_raw):!!(e&&e.__v_isReactive)}function Qs(e){return!!(e&&e.__v_isReadonly)}function yf(e){return!!(e&&e.__v_isShallow)}function WT(e){return Ui(e)||Qs(e)}function Xe(e){const t=e&&e.__v_raw;return t?Xe(t):e}function $o(e){return vf(e,"__v_skip",!0),e}const qa=e=>it(e)?ai(e):e,bv=e=>it(e)?zT(e):e;function XT(e){Vi&&vr&&(e=Xe(e),jT(e.dep||(e.dep=mv())))}function YT(e,t){e=Xe(e),e.dep&&fg(e.dep)}function ct(e){return!!(e&&e.__v_isRef===!0)}function Pn(e){return QT(e,!1)}function fD(e){return QT(e,!0)}function QT(e,t){return ct(e)?e:new hD(e,t)}class hD{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Xe(t),this._value=n?t:qa(t)}get value(){return XT(this),this._value}set value(t){const n=this.__v_isShallow||yf(t)||Qs(t);t=n?t:Xe(t),Ba(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:qa(t),YT(this))}}function he(e){return ct(e)?e.value:e}const dD={get:(e,t,n)=>he(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return ct(o)&&!ct(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function JT(e){return Ui(e)?e:new Proxy(e,dD)}function pD(e){const t=Ie(e)?new Array(e.length):{};for(const n in e)t[n]=Vr(e,n);return t}class mD{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Vr(e,t,n){const r=e[t];return ct(r)?r:new mD(e,t,n)}var ZT;class gD{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[ZT]=!1,this._dirty=!0,this.effect=new gv(t,()=>{this._dirty||(this._dirty=!0,YT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=Xe(this);return XT(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}ZT="__v_isReadonly";function vD(e,t,n=!1){let r,o;const s=Le(e);return s?(r=e,o=_r):(r=e.get,o=e.set),new gD(r,o,s||!o,n)}function ji(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){uh(s,t,n)}return o}function ur(e,t,n,r){if(Le(e)){const s=ji(e,t,n,r);return s&&OT(s)&&s.catch(a=>{uh(a,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(ur(e[s],t,n,r));return o}function uh(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,l=n;for(;s;){const p=s.ec;if(p){for(let g=0;g<p.length;g++)if(p[g](e,a,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){ji(f,null,10,[e,a,l]);return}}yD(e,n,o,r)}function yD(e,t,n,r=!0){console.error(e)}let Ha=!1,hg=!1;const cn=[];let Ur=0;const Gs=[];let Zr=null,xo=0;const eA=Promise.resolve();let Iv=null;function Fi(e){const t=Iv||eA;return e?t.then(this?e.bind(this):e):t}function _D(e){let t=Ur+1,n=cn.length;for(;t<n;){const r=t+n>>>1;$a(cn[r])<e?t=r+1:n=r}return t}function Ev(e){(!cn.length||!cn.includes(e,Ha&&e.allowRecurse?Ur+1:Ur))&&(e.id==null?cn.push(e):cn.splice(_D(e.id),0,e),tA())}function tA(){!Ha&&!hg&&(hg=!0,Iv=eA.then(rA))}function wD(e){const t=cn.indexOf(e);t>Ur&&cn.splice(t,1)}function bD(e){Ie(e)?Gs.push(...e):(!Zr||!Zr.includes(e,e.allowRecurse?xo+1:xo))&&Gs.push(e),tA()}function Wb(e,t=Ha?Ur+1:0){for(;t<cn.length;t++){const n=cn[t];n&&n.pre&&(cn.splice(t,1),t--,n())}}function nA(e){if(Gs.length){const t=[...new Set(Gs)];if(Gs.length=0,Zr){Zr.push(...t);return}for(Zr=t,Zr.sort((n,r)=>$a(n)-$a(r)),xo=0;xo<Zr.length;xo++)Zr[xo]();Zr=null,xo=0}}const $a=e=>e.id==null?1/0:e.id,ID=(e,t)=>{const n=$a(e)-$a(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function rA(e){hg=!1,Ha=!0,cn.sort(ID);const t=_r;try{for(Ur=0;Ur<cn.length;Ur++){const n=cn[Ur];n&&n.active!==!1&&ji(n,null,14)}}finally{Ur=0,cn.length=0,nA(),Ha=!1,Iv=null,(cn.length||Gs.length)&&rA()}}function ED(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ut;let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in r){const g=`${a==="modelValue"?"model":a}Modifiers`,{number:h,trim:m}=r[g]||ut;m&&(o=n.map(y=>Pt(y)?y.trim():y)),h&&(o=n.map(oh))}let l,f=r[l=Om(t)]||r[l=Om($r(t))];!f&&s&&(f=r[l=Om(Iu(t))]),f&&ur(f,e,6,o);const p=r[l+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,ur(p,e,6,o)}}function iA(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let a={},l=!1;if(!Le(e)){const f=p=>{const g=iA(p,t,!0);g&&(l=!0,tn(a,g))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(it(e)&&r.set(e,null),null):(Ie(s)?s.forEach(f=>a[f]=null):tn(a,s),it(e)&&r.set(e,a),a)}function ah(e,t){return!e||!th(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ge(e,t[0].toLowerCase()+t.slice(1))||Ge(e,Iu(t))||Ge(e,t))}let zn=null,oA=null;function _f(e){const t=zn;return zn=e,oA=e&&e.type.__scopeId||null,t}function kn(e,t=zn,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&iI(-1);const s=_f(t);let a;try{a=e(...o)}finally{_f(s),r._d&&iI(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Dm(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[a],slots:l,attrs:f,emit:p,render:g,renderCache:h,data:m,setupState:y,ctx:_,inheritAttrs:I}=e;let T,E;const R=_f(e);try{if(n.shapeFlag&4){const D=o||r;T=Fr(g.call(D,D,h,s,y,m,_)),E=f}else{const D=t;T=Fr(D.length>1?D(s,{attrs:f,slots:l,emit:p}):D(s,null)),E=t.props?f:TD(f)}}catch(D){Ca.length=0,uh(D,e,1),T=be(wr)}let k=T;if(E&&I!==!1){const D=Object.keys(E),{shapeFlag:B}=k;D.length&&B&7&&(a&&D.some(hv)&&(E=AD(E,a)),k=Gi(k,E))}return n.dirs&&(k=Gi(k),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),T=k,_f(R),T}const TD=e=>{let t;for(const n in e)(n==="class"||n==="style"||th(n))&&((t||(t={}))[n]=e[n]);return t},AD=(e,t)=>{const n={};for(const r in e)(!hv(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function SD(e,t,n){const{props:r,children:o,component:s}=e,{props:a,children:l,patchFlag:f}=t,p=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?Xb(r,a,p):!!a;if(f&8){const g=t.dynamicProps;for(let h=0;h<g.length;h++){const m=g[h];if(a[m]!==r[m]&&!ah(p,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?Xb(r,a,p):!0:!!a;return!1}function Xb(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!ah(n,s))return!0}return!1}function kD({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const CD=e=>e.__isSuspense;function xD(e,t){t&&t.pendingBranch?Ie(e)?t.effects.push(...e):t.effects.push(e):bD(e)}function zs(e,t){if(Ht){let n=Ht.provides;const r=Ht.parent&&Ht.parent.provides;r===n&&(n=Ht.provides=Object.create(r)),n[e]=t}}function ar(e,t,n=!1){const r=Ht||zn;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Le(t)?t.call(r.proxy):t}}function RD(e,t){return Tv(e,null,t)}const ql={};function Jt(e,t,n){return Tv(e,t,n)}function Tv(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:a}=ut){const l=Ht;let f,p=!1,g=!1;if(ct(e)?(f=()=>e.value,p=yf(e)):Ui(e)?(f=()=>e,r=!0):Ie(e)?(g=!0,p=e.some(k=>Ui(k)||yf(k)),f=()=>e.map(k=>{if(ct(k))return k.value;if(Ui(k))return Do(k);if(Le(k))return ji(k,l,2)})):Le(e)?t?f=()=>ji(e,l,2):f=()=>{if(!(l&&l.isUnmounted))return h&&h(),ur(e,l,3,[m])}:f=_r,t&&r){const k=f;f=()=>Do(k())}let h,m=k=>{h=E.onStop=()=>{ji(k,l,4)}},y;if(Ga)if(m=_r,t?n&&ur(t,l,3,[f(),g?[]:void 0,m]):f(),o==="sync"){const k=bP();y=k.__watcherHandles||(k.__watcherHandles=[])}else return _r;let _=g?new Array(e.length).fill(ql):ql;const I=()=>{if(E.active)if(t){const k=E.run();(r||p||(g?k.some((D,B)=>Ba(D,_[B])):Ba(k,_)))&&(h&&h(),ur(t,l,3,[k,_===ql?void 0:g&&_[0]===ql?[]:_,m]),_=k)}else E.run()};I.allowRecurse=!!t;let T;o==="sync"?T=I:o==="post"?T=()=>On(I,l&&l.suspense):(I.pre=!0,l&&(I.id=l.uid),T=()=>Ev(I));const E=new gv(f,T);t?n?I():_=E.run():o==="post"?On(E.run.bind(E),l&&l.suspense):E.run();const R=()=>{E.stop(),l&&l.scope&&dv(l.scope.effects,E)};return y&&y.push(R),R}function ND(e,t,n){const r=this.proxy,o=Pt(e)?e.includes(".")?sA(r,e):()=>r[e]:e.bind(r,r);let s;Le(t)?s=t:(s=t.handler,n=t);const a=Ht;Zs(this);const l=Tv(o,s.bind(r),n);return a?Zs(a):Uo(),l}function sA(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function Do(e,t){if(!it(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ct(e))Do(e.value,t);else if(Ie(e))for(let n=0;n<e.length;n++)Do(e[n],t);else if(nh(e)||Ks(e))e.forEach(n=>{Do(n,t)});else if(PT(e))for(const n in e)Do(e[n],t);return e}function OD(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fh(()=>{e.isMounted=!0}),hh(()=>{e.isUnmounting=!0}),e}const ir=[Function,Array],DD={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ir,onEnter:ir,onAfterEnter:ir,onEnterCancelled:ir,onBeforeLeave:ir,onLeave:ir,onAfterLeave:ir,onLeaveCancelled:ir,onBeforeAppear:ir,onAppear:ir,onAfterAppear:ir,onAppearCancelled:ir},setup(e,{slots:t}){const n=gh(),r=OD();let o;return()=>{const s=t.default&&cA(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const I of s)if(I.type!==wr){a=I;break}}const l=Xe(e),{mode:f}=l;if(r.isLeaving)return Pm(a);const p=Yb(a);if(!p)return Pm(a);const g=dg(p,l,r,n);pg(p,g);const h=n.subTree,m=h&&Yb(h);let y=!1;const{getTransitionKey:_}=p.type;if(_){const I=_();o===void 0?o=I:I!==o&&(o=I,y=!0)}if(m&&m.type!==wr&&(!Ro(p,m)||y)){const I=dg(m,l,r,n);if(pg(m,I),f==="out-in")return r.isLeaving=!0,I.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Pm(a);f==="in-out"&&p.type!==wr&&(I.delayLeave=(T,E,R)=>{const k=aA(r,m);k[String(m.key)]=m,T._leaveCb=()=>{E(),T._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=R})}return a}}},uA=DD;function aA(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function dg(e,t,n,r){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:p,onEnterCancelled:g,onBeforeLeave:h,onLeave:m,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:I,onAppear:T,onAfterAppear:E,onAppearCancelled:R}=t,k=String(e.key),D=aA(n,e),B=(L,X)=>{L&&ur(L,r,9,X)},P=(L,X)=>{const C=X[1];B(L,X),Ie(L)?L.every(Ee=>Ee.length<=1)&&C():L.length<=1&&C()},z={mode:s,persisted:a,beforeEnter(L){let X=l;if(!n.isMounted)if(o)X=I||l;else return;L._leaveCb&&L._leaveCb(!0);const C=D[k];C&&Ro(e,C)&&C.el._leaveCb&&C.el._leaveCb(),B(X,[L])},enter(L){let X=f,C=p,Ee=g;if(!n.isMounted)if(o)X=T||f,C=E||p,Ee=R||g;else return;let ie=!1;const Se=L._enterCb=Ce=>{ie||(ie=!0,Ce?B(Ee,[L]):B(C,[L]),z.delayedLeave&&z.delayedLeave(),L._enterCb=void 0)};X?P(X,[L,Se]):Se()},leave(L,X){const C=String(e.key);if(L._enterCb&&L._enterCb(!0),n.isUnmounting)return X();B(h,[L]);let Ee=!1;const ie=L._leaveCb=Se=>{Ee||(Ee=!0,X(),Se?B(_,[L]):B(y,[L]),L._leaveCb=void 0,D[C]===e&&delete D[C])};D[C]=e,m?P(m,[L,ie]):ie()},clone(L){return dg(L,t,n,r)}};return z}function Pm(e){if(ch(e))return e=Gi(e),e.children=null,e}function Yb(e){return ch(e)?e.children?e.children[0]:void 0:e}function pg(e,t){e.shapeFlag&6&&e.component?pg(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function cA(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let a=e[s];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Vt?(a.patchFlag&128&&o++,r=r.concat(cA(a.children,t,l))):(t||a.type!==wr)&&r.push(l!=null?Gi(a,{key:l}):a)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function Au(e){return Le(e)?{setup:e,name:e.name}:e}const uf=e=>!!e.type.__asyncLoader,ch=e=>e.type.__isKeepAlive;function PD(e,t){lA(e,"a",t)}function LD(e,t){lA(e,"da",t)}function lA(e,t,n=Ht){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(lh(t,r,n),n){let o=n.parent;for(;o&&o.parent;)ch(o.parent.vnode)&&MD(r,t,n,o),o=o.parent}}function MD(e,t,n,r){const o=lh(t,e,r,!0);fA(()=>{dv(r[t],o)},n)}function lh(e,t,n=Ht,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Eu(),Zs(n);const l=ur(t,n,e,a);return Uo(),Tu(),l});return r?o.unshift(s):o.push(s),s}}const ci=e=>(t,n=Ht)=>(!Ga||e==="sp")&&lh(e,(...r)=>t(...r),n),FD=ci("bm"),fh=ci("m"),VD=ci("bu"),UD=ci("u"),hh=ci("bum"),fA=ci("um"),jD=ci("sp"),BD=ci("rtg"),qD=ci("rtc");function HD(e,t=Ht){lh("ec",e,t)}function mg(e,t){const n=zn;if(n===null)return e;const r=vh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,l,f,p=ut]=t[s];a&&(Le(a)&&(a={mounted:a,updated:a}),a.deep&&Do(l),o.push({dir:a,instance:r,value:l,oldValue:void 0,arg:f,modifiers:p}))}return e}function Io(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let f=l.dir[r];f&&(Eu(),ur(f,n,8,[e.el,l,e,t]),Tu())}}const Av="components";function _t(e,t){return dA(Av,e,!0,t)||e}const hA=Symbol();function dh(e){return Pt(e)?dA(Av,e,!1)||e:e||hA}function dA(e,t,n=!0,r=!1){const o=zn||Ht;if(o){const s=o.type;if(e===Av){const l=yP(s,!1);if(l&&(l===t||l===$r(t)||l===ih($r(t))))return s}const a=Qb(o[e]||s[e],t)||Qb(o.appContext[e],t);return!a&&r?s:a}}function Qb(e,t){return e&&(e[t]||e[$r(t)]||e[ih($r(t))])}function dc(e,t,n,r){let o;const s=n&&n[r];if(Ie(e)||Pt(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,s&&s[a])}else if(it(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const p=a[l];o[l]=t(e[p],p,l,s&&s[l])}}else o=[];return n&&(n[r]=o),o}const gg=e=>e?AA(e)?vh(e)||e.proxy:gg(e.parent):null,ka=tn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gg(e.parent),$root:e=>gg(e.root),$emit:e=>e.emit,$options:e=>Sv(e),$forceUpdate:e=>e.f||(e.f=()=>Ev(e.update)),$nextTick:e=>e.n||(e.n=Fi.bind(e.proxy)),$watch:e=>ND.bind(e)}),Lm=(e,t)=>e!==ut&&!e.__isScriptSetup&&Ge(e,t),$D={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:a,type:l,appContext:f}=e;let p;if(t[0]!=="$"){const y=a[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Lm(r,t))return a[t]=1,r[t];if(o!==ut&&Ge(o,t))return a[t]=2,o[t];if((p=e.propsOptions[0])&&Ge(p,t))return a[t]=3,s[t];if(n!==ut&&Ge(n,t))return a[t]=4,n[t];vg&&(a[t]=0)}}const g=ka[t];let h,m;if(g)return t==="$attrs"&&Qn(e,"get",t),g(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==ut&&Ge(n,t))return a[t]=4,n[t];if(m=f.config.globalProperties,Ge(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return Lm(o,t)?(o[t]=n,!0):r!==ut&&Ge(r,t)?(r[t]=n,!0):Ge(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==ut&&Ge(e,a)||Lm(t,a)||(l=s[0])&&Ge(l,a)||Ge(r,a)||Ge(ka,a)||Ge(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ge(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let vg=!0;function KD(e){const t=Sv(e),n=e.proxy,r=e.ctx;vg=!1,t.beforeCreate&&Jb(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:l,provide:f,inject:p,created:g,beforeMount:h,mounted:m,beforeUpdate:y,updated:_,activated:I,deactivated:T,beforeDestroy:E,beforeUnmount:R,destroyed:k,unmounted:D,render:B,renderTracked:P,renderTriggered:z,errorCaptured:L,serverPrefetch:X,expose:C,inheritAttrs:Ee,components:ie,directives:Se,filters:Ce}=t;if(p&&GD(p,r,null,e.appContext.config.unwrapInjectedRef),a)for(const Oe in a){const we=a[Oe];Le(we)&&(r[Oe]=we.bind(n))}if(o){const Oe=o.call(n,n);it(Oe)&&(e.data=ai(Oe))}if(vg=!0,s)for(const Oe in s){const we=s[Oe],Tt=Le(we)?we.bind(n,n):Le(we.get)?we.get.bind(n,n):_r,mt=!Le(we)&&Le(we.set)?we.set.bind(n):_r,gt=Ye({get:Tt,set:mt});Object.defineProperty(r,Oe,{enumerable:!0,configurable:!0,get:()=>gt.value,set:lt=>gt.value=lt})}if(l)for(const Oe in l)pA(l[Oe],r,n,Oe);if(f){const Oe=Le(f)?f.call(n):f;Reflect.ownKeys(Oe).forEach(we=>{zs(we,Oe[we])})}g&&Jb(g,e,"c");function xe(Oe,we){Ie(we)?we.forEach(Tt=>Oe(Tt.bind(n))):we&&Oe(we.bind(n))}if(xe(FD,h),xe(fh,m),xe(VD,y),xe(UD,_),xe(PD,I),xe(LD,T),xe(HD,L),xe(qD,P),xe(BD,z),xe(hh,R),xe(fA,D),xe(jD,X),Ie(C))if(C.length){const Oe=e.exposed||(e.exposed={});C.forEach(we=>{Object.defineProperty(Oe,we,{get:()=>n[we],set:Tt=>n[we]=Tt})})}else e.exposed||(e.exposed={});B&&e.render===_r&&(e.render=B),Ee!=null&&(e.inheritAttrs=Ee),ie&&(e.components=ie),Se&&(e.directives=Se)}function GD(e,t,n=_r,r=!1){Ie(e)&&(e=yg(e));for(const o in e){const s=e[o];let a;it(s)?"default"in s?a=ar(s.from||o,s.default,!0):a=ar(s.from||o):a=ar(s),ct(a)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function Jb(e,t,n){ur(Ie(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function pA(e,t,n,r){const o=r.includes(".")?sA(n,r):()=>n[r];if(Pt(e)){const s=t[e];Le(s)&&Jt(o,s)}else if(Le(e))Jt(o,e.bind(n));else if(it(e))if(Ie(e))e.forEach(s=>pA(s,t,n,r));else{const s=Le(e.handler)?e.handler.bind(n):t[e.handler];Le(s)&&Jt(o,s,e)}}function Sv(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(p=>wf(f,p,a,!0)),wf(f,t,a)),it(t)&&s.set(t,f),f}function wf(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&wf(e,s,n,!0),o&&o.forEach(a=>wf(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=zD[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const zD={data:Zb,props:ko,emits:ko,methods:ko,computed:ko,beforeCreate:wn,created:wn,beforeMount:wn,mounted:wn,beforeUpdate:wn,updated:wn,beforeDestroy:wn,beforeUnmount:wn,destroyed:wn,unmounted:wn,activated:wn,deactivated:wn,errorCaptured:wn,serverPrefetch:wn,components:ko,directives:ko,watch:XD,provide:Zb,inject:WD};function Zb(e,t){return t?e?function(){return tn(Le(e)?e.call(this,this):e,Le(t)?t.call(this,this):t)}:t:e}function WD(e,t){return ko(yg(e),yg(t))}function yg(e){if(Ie(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function wn(e,t){return e?[...new Set([].concat(e,t))]:t}function ko(e,t){return e?tn(tn(Object.create(null),e),t):t}function XD(e,t){if(!e)return t;if(!t)return e;const n=tn(Object.create(null),e);for(const r in t)n[r]=wn(e[r],t[r]);return n}function YD(e,t,n,r=!1){const o={},s={};vf(s,mh,1),e.propsDefaults=Object.create(null),mA(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=r?o:lD(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function QD(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,l=Xe(o),[f]=e.propsOptions;let p=!1;if((r||a>0)&&!(a&16)){if(a&8){const g=e.vnode.dynamicProps;for(let h=0;h<g.length;h++){let m=g[h];if(ah(e.emitsOptions,m))continue;const y=t[m];if(f)if(Ge(s,m))y!==s[m]&&(s[m]=y,p=!0);else{const _=$r(m);o[_]=_g(f,l,_,y,e,!1)}else y!==s[m]&&(s[m]=y,p=!0)}}}else{mA(e,t,o,s)&&(p=!0);let g;for(const h in l)(!t||!Ge(t,h)&&((g=Iu(h))===h||!Ge(t,g)))&&(f?n&&(n[h]!==void 0||n[g]!==void 0)&&(o[h]=_g(f,l,h,void 0,e,!0)):delete o[h]);if(s!==l)for(const h in s)(!t||!Ge(t,h))&&(delete s[h],p=!0)}p&&si(e,"set","$attrs")}function mA(e,t,n,r){const[o,s]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(of(f))continue;const p=t[f];let g;o&&Ge(o,g=$r(f))?!s||!s.includes(g)?n[g]=p:(l||(l={}))[g]=p:ah(e.emitsOptions,f)||(!(f in r)||p!==r[f])&&(r[f]=p,a=!0)}if(s){const f=Xe(n),p=l||ut;for(let g=0;g<s.length;g++){const h=s[g];n[h]=_g(o,f,h,p[h],e,!Ge(p,h))}}return a}function _g(e,t,n,r,o,s){const a=e[n];if(a!=null){const l=Ge(a,"default");if(l&&r===void 0){const f=a.default;if(a.type!==Function&&Le(f)){const{propsDefaults:p}=o;n in p?r=p[n]:(Zs(o),r=p[n]=f.call(null,t),Uo())}else r=f}a[0]&&(s&&!l?r=!1:a[1]&&(r===""||r===Iu(n))&&(r=!0))}return r}function gA(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,a={},l=[];let f=!1;if(!Le(e)){const g=h=>{f=!0;const[m,y]=gA(h,t,!0);tn(a,m),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!s&&!f)return it(e)&&r.set(e,$s),$s;if(Ie(s))for(let g=0;g<s.length;g++){const h=$r(s[g]);eI(h)&&(a[h]=ut)}else if(s)for(const g in s){const h=$r(g);if(eI(h)){const m=s[g],y=a[h]=Ie(m)||Le(m)?{type:m}:Object.assign({},m);if(y){const _=rI(Boolean,y.type),I=rI(String,y.type);y[0]=_>-1,y[1]=I<0||_<I,(_>-1||Ge(y,"default"))&&l.push(h)}}}const p=[a,l];return it(e)&&r.set(e,p),p}function eI(e){return e[0]!=="$"}function tI(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function nI(e,t){return tI(e)===tI(t)}function rI(e,t){return Ie(t)?t.findIndex(n=>nI(n,e)):Le(t)&&nI(t,e)?0:-1}const vA=e=>e[0]==="_"||e==="$stable",kv=e=>Ie(e)?e.map(Fr):[Fr(e)],JD=(e,t,n)=>{if(t._n)return t;const r=kn((...o)=>kv(t(...o)),n);return r._c=!1,r},yA=(e,t,n)=>{const r=e._ctx;for(const o in e){if(vA(o))continue;const s=e[o];if(Le(s))t[o]=JD(o,s,r);else if(s!=null){const a=kv(s);t[o]=()=>a}}},_A=(e,t)=>{const n=kv(t);e.slots.default=()=>n},ZD=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Xe(t),vf(t,"_",n)):yA(t,e.slots={})}else e.slots={},t&&_A(e,t);vf(e.slots,mh,1)},eP=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,a=ut;if(r.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(tn(o,t),!n&&l===1&&delete o._):(s=!t.$stable,yA(t,o)),a=t}else t&&(_A(e,t),a={default:1});if(s)for(const l in o)!vA(l)&&!(l in a)&&delete o[l]};function wA(){return{app:null,config:{isNativeTag:xO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tP=0;function nP(e,t){return function(r,o=null){Le(r)||(r=Object.assign({},r)),o!=null&&!it(o)&&(o=null);const s=wA(),a=new Set;let l=!1;const f=s.app={_uid:tP++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:IP,get config(){return s.config},set config(p){},use(p,...g){return a.has(p)||(p&&Le(p.install)?(a.add(p),p.install(f,...g)):Le(p)&&(a.add(p),p(f,...g))),f},mixin(p){return s.mixins.includes(p)||s.mixins.push(p),f},component(p,g){return g?(s.components[p]=g,f):s.components[p]},directive(p,g){return g?(s.directives[p]=g,f):s.directives[p]},mount(p,g,h){if(!l){const m=be(r,o);return m.appContext=s,g&&t?t(m,p):e(m,p,h),l=!0,f._container=p,p.__vue_app__=f,vh(m.component)||m.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(p,g){return s.provides[p]=g,f}};return f}}function wg(e,t,n,r,o=!1){if(Ie(e)){e.forEach((m,y)=>wg(m,t&&(Ie(t)?t[y]:t),n,r,o));return}if(uf(r)&&!o)return;const s=r.shapeFlag&4?vh(r.component)||r.component.proxy:r.el,a=o?null:s,{i:l,r:f}=e,p=t&&t.r,g=l.refs===ut?l.refs={}:l.refs,h=l.setupState;if(p!=null&&p!==f&&(Pt(p)?(g[p]=null,Ge(h,p)&&(h[p]=null)):ct(p)&&(p.value=null)),Le(f))ji(f,l,12,[a,g]);else{const m=Pt(f),y=ct(f);if(m||y){const _=()=>{if(e.f){const I=m?Ge(h,f)?h[f]:g[f]:f.value;o?Ie(I)&&dv(I,s):Ie(I)?I.includes(s)||I.push(s):m?(g[f]=[s],Ge(h,f)&&(h[f]=g[f])):(f.value=[s],e.k&&(g[e.k]=f.value))}else m?(g[f]=a,Ge(h,f)&&(h[f]=a)):y&&(f.value=a,e.k&&(g[e.k]=a))};a?(_.id=-1,On(_,n)):_()}}}const On=xD;function rP(e){return iP(e)}function iP(e,t){const n=LO();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:a,createText:l,createComment:f,setText:p,setElementText:g,parentNode:h,nextSibling:m,setScopeId:y=_r,insertStaticContent:_}=e,I=(A,x,M,q=null,$=null,ne=null,ae=!1,re=null,N=!!x.dynamicChildren)=>{if(A===x)return;A&&!Ro(A,x)&&(q=Y(A),lt(A,$,ne,!0),A=null),x.patchFlag===-2&&(N=!1,x.dynamicChildren=null);const{type:O,ref:Q,shapeFlag:J}=x;switch(O){case ph:T(A,x,M,q);break;case wr:E(A,x,M,q);break;case af:A==null&&R(x,M,q,ae);break;case Vt:ie(A,x,M,q,$,ne,ae,re,N);break;default:J&1?B(A,x,M,q,$,ne,ae,re,N):J&6?Se(A,x,M,q,$,ne,ae,re,N):(J&64||J&128)&&O.process(A,x,M,q,$,ne,ae,re,N,Fe)}Q!=null&&$&&wg(Q,A&&A.ref,ne,x||A,!x)},T=(A,x,M,q)=>{if(A==null)r(x.el=l(x.children),M,q);else{const $=x.el=A.el;x.children!==A.children&&p($,x.children)}},E=(A,x,M,q)=>{A==null?r(x.el=f(x.children||""),M,q):x.el=A.el},R=(A,x,M,q)=>{[A.el,A.anchor]=_(A.children,x,M,q,A.el,A.anchor)},k=({el:A,anchor:x},M,q)=>{let $;for(;A&&A!==x;)$=m(A),r(A,M,q),A=$;r(x,M,q)},D=({el:A,anchor:x})=>{let M;for(;A&&A!==x;)M=m(A),o(A),A=M;o(x)},B=(A,x,M,q,$,ne,ae,re,N)=>{ae=ae||x.type==="svg",A==null?P(x,M,q,$,ne,ae,re,N):X(A,x,$,ne,ae,re,N)},P=(A,x,M,q,$,ne,ae,re)=>{let N,O;const{type:Q,props:J,shapeFlag:se,transition:ue,dirs:fe}=A;if(N=A.el=a(A.type,ne,J&&J.is,J),se&8?g(N,A.children):se&16&&L(A.children,N,null,q,$,ne&&Q!=="foreignObject",ae,re),fe&&Io(A,null,q,"created"),J){for(const De in J)De!=="value"&&!of(De)&&s(N,De,null,J[De],ne,A.children,q,$,V);"value"in J&&s(N,"value",null,J.value),(O=J.onVnodeBeforeMount)&&Lr(O,q,A)}z(N,A,A.scopeId,ae,q),fe&&Io(A,null,q,"beforeMount");const ce=(!$||$&&!$.pendingBranch)&&ue&&!ue.persisted;ce&&ue.beforeEnter(N),r(N,x,M),((O=J&&J.onVnodeMounted)||ce||fe)&&On(()=>{O&&Lr(O,q,A),ce&&ue.enter(N),fe&&Io(A,null,q,"mounted")},$)},z=(A,x,M,q,$)=>{if(M&&y(A,M),q)for(let ne=0;ne<q.length;ne++)y(A,q[ne]);if($){let ne=$.subTree;if(x===ne){const ae=$.vnode;z(A,ae,ae.scopeId,ae.slotScopeIds,$.parent)}}},L=(A,x,M,q,$,ne,ae,re,N=0)=>{for(let O=N;O<A.length;O++){const Q=A[O]=re?xi(A[O]):Fr(A[O]);I(null,Q,x,M,q,$,ne,ae,re)}},X=(A,x,M,q,$,ne,ae)=>{const re=x.el=A.el;let{patchFlag:N,dynamicChildren:O,dirs:Q}=x;N|=A.patchFlag&16;const J=A.props||ut,se=x.props||ut;let ue;M&&Eo(M,!1),(ue=se.onVnodeBeforeUpdate)&&Lr(ue,M,x,A),Q&&Io(x,A,M,"beforeUpdate"),M&&Eo(M,!0);const fe=$&&x.type!=="foreignObject";if(O?C(A.dynamicChildren,O,re,M,q,fe,ne):ae||we(A,x,re,null,M,q,fe,ne,!1),N>0){if(N&16)Ee(re,x,J,se,M,q,$);else if(N&2&&J.class!==se.class&&s(re,"class",null,se.class,$),N&4&&s(re,"style",J.style,se.style,$),N&8){const ce=x.dynamicProps;for(let De=0;De<ce.length;De++){const Ve=ce[De],on=J[Ve],gn=se[Ve];(gn!==on||Ve==="value")&&s(re,Ve,on,gn,$,A.children,M,q,V)}}N&1&&A.children!==x.children&&g(re,x.children)}else!ae&&O==null&&Ee(re,x,J,se,M,q,$);((ue=se.onVnodeUpdated)||Q)&&On(()=>{ue&&Lr(ue,M,x,A),Q&&Io(x,A,M,"updated")},q)},C=(A,x,M,q,$,ne,ae)=>{for(let re=0;re<x.length;re++){const N=A[re],O=x[re],Q=N.el&&(N.type===Vt||!Ro(N,O)||N.shapeFlag&70)?h(N.el):M;I(N,O,Q,null,q,$,ne,ae,!0)}},Ee=(A,x,M,q,$,ne,ae)=>{if(M!==q){if(M!==ut)for(const re in M)!of(re)&&!(re in q)&&s(A,re,M[re],null,ae,x.children,$,ne,V);for(const re in q){if(of(re))continue;const N=q[re],O=M[re];N!==O&&re!=="value"&&s(A,re,O,N,ae,x.children,$,ne,V)}"value"in q&&s(A,"value",M.value,q.value)}},ie=(A,x,M,q,$,ne,ae,re,N)=>{const O=x.el=A?A.el:l(""),Q=x.anchor=A?A.anchor:l("");let{patchFlag:J,dynamicChildren:se,slotScopeIds:ue}=x;ue&&(re=re?re.concat(ue):ue),A==null?(r(O,M,q),r(Q,M,q),L(x.children,M,Q,$,ne,ae,re,N)):J>0&&J&64&&se&&A.dynamicChildren?(C(A.dynamicChildren,se,M,$,ne,ae,re),(x.key!=null||$&&x===$.subTree)&&bA(A,x,!0)):we(A,x,M,Q,$,ne,ae,re,N)},Se=(A,x,M,q,$,ne,ae,re,N)=>{x.slotScopeIds=re,A==null?x.shapeFlag&512?$.ctx.activate(x,M,q,ae,N):Ce(x,M,q,$,ne,ae,N):Me(A,x,N)},Ce=(A,x,M,q,$,ne,ae)=>{const re=A.component=dP(A,q,$);if(ch(A)&&(re.ctx.renderer=Fe),pP(re),re.asyncDep){if($&&$.registerDep(re,xe),!A.el){const N=re.subTree=be(wr);E(null,N,x,M)}return}xe(re,A,x,M,$,ne,ae)},Me=(A,x,M)=>{const q=x.component=A.component;if(SD(A,x,M))if(q.asyncDep&&!q.asyncResolved){Oe(q,x,M);return}else q.next=x,wD(q.update),q.update();else x.el=A.el,q.vnode=x},xe=(A,x,M,q,$,ne,ae)=>{const re=()=>{if(A.isMounted){let{next:Q,bu:J,u:se,parent:ue,vnode:fe}=A,ce=Q,De;Eo(A,!1),Q?(Q.el=fe.el,Oe(A,Q,ae)):Q=fe,J&&sf(J),(De=Q.props&&Q.props.onVnodeBeforeUpdate)&&Lr(De,ue,Q,fe),Eo(A,!0);const Ve=Dm(A),on=A.subTree;A.subTree=Ve,I(on,Ve,h(on.el),Y(on),A,$,ne),Q.el=Ve.el,ce===null&&kD(A,Ve.el),se&&On(se,$),(De=Q.props&&Q.props.onVnodeUpdated)&&On(()=>Lr(De,ue,Q,fe),$)}else{let Q;const{el:J,props:se}=x,{bm:ue,m:fe,parent:ce}=A,De=uf(x);if(Eo(A,!1),ue&&sf(ue),!De&&(Q=se&&se.onVnodeBeforeMount)&&Lr(Q,ce,x),Eo(A,!0),J&&Ae){const Ve=()=>{A.subTree=Dm(A),Ae(J,A.subTree,A,$,null)};De?x.type.__asyncLoader().then(()=>!A.isUnmounted&&Ve()):Ve()}else{const Ve=A.subTree=Dm(A);I(null,Ve,M,q,A,$,ne),x.el=Ve.el}if(fe&&On(fe,$),!De&&(Q=se&&se.onVnodeMounted)){const Ve=x;On(()=>Lr(Q,ce,Ve),$)}(x.shapeFlag&256||ce&&uf(ce.vnode)&&ce.vnode.shapeFlag&256)&&A.a&&On(A.a,$),A.isMounted=!0,x=M=q=null}},N=A.effect=new gv(re,()=>Ev(O),A.scope),O=A.update=()=>N.run();O.id=A.uid,Eo(A,!0),O()},Oe=(A,x,M)=>{x.component=A;const q=A.vnode.props;A.vnode=x,A.next=null,QD(A,x.props,q,M),eP(A,x.children,M),Eu(),Wb(),Tu()},we=(A,x,M,q,$,ne,ae,re,N=!1)=>{const O=A&&A.children,Q=A?A.shapeFlag:0,J=x.children,{patchFlag:se,shapeFlag:ue}=x;if(se>0){if(se&128){mt(O,J,M,q,$,ne,ae,re,N);return}else if(se&256){Tt(O,J,M,q,$,ne,ae,re,N);return}}ue&8?(Q&16&&V(O,$,ne),J!==O&&g(M,J)):Q&16?ue&16?mt(O,J,M,q,$,ne,ae,re,N):V(O,$,ne,!0):(Q&8&&g(M,""),ue&16&&L(J,M,q,$,ne,ae,re,N))},Tt=(A,x,M,q,$,ne,ae,re,N)=>{A=A||$s,x=x||$s;const O=A.length,Q=x.length,J=Math.min(O,Q);let se;for(se=0;se<J;se++){const ue=x[se]=N?xi(x[se]):Fr(x[se]);I(A[se],ue,M,null,$,ne,ae,re,N)}O>Q?V(A,$,ne,!0,!1,J):L(x,M,q,$,ne,ae,re,N,J)},mt=(A,x,M,q,$,ne,ae,re,N)=>{let O=0;const Q=x.length;let J=A.length-1,se=Q-1;for(;O<=J&&O<=se;){const ue=A[O],fe=x[O]=N?xi(x[O]):Fr(x[O]);if(Ro(ue,fe))I(ue,fe,M,null,$,ne,ae,re,N);else break;O++}for(;O<=J&&O<=se;){const ue=A[J],fe=x[se]=N?xi(x[se]):Fr(x[se]);if(Ro(ue,fe))I(ue,fe,M,null,$,ne,ae,re,N);else break;J--,se--}if(O>J){if(O<=se){const ue=se+1,fe=ue<Q?x[ue].el:q;for(;O<=se;)I(null,x[O]=N?xi(x[O]):Fr(x[O]),M,fe,$,ne,ae,re,N),O++}}else if(O>se)for(;O<=J;)lt(A[O],$,ne,!0),O++;else{const ue=O,fe=O,ce=new Map;for(O=fe;O<=se;O++){const bt=x[O]=N?xi(x[O]):Fr(x[O]);bt.key!=null&&ce.set(bt.key,O)}let De,Ve=0;const on=se-fe+1;let gn=!1,wt=0;const hi=new Array(on);for(O=0;O<on;O++)hi[O]=0;for(O=ue;O<=J;O++){const bt=A[O];if(Ve>=on){lt(bt,$,ne,!0);continue}let Un;if(bt.key!=null)Un=ce.get(bt.key);else for(De=fe;De<=se;De++)if(hi[De-fe]===0&&Ro(bt,x[De])){Un=De;break}Un===void 0?lt(bt,$,ne,!0):(hi[Un-fe]=O+1,Un>=wt?wt=Un:gn=!0,I(bt,x[Un],M,null,$,ne,ae,re,N),Ve++)}const Sr=gn?oP(hi):$s;for(De=Sr.length-1,O=on-1;O>=0;O--){const bt=fe+O,Un=x[bt],Gt=bt+1<Q?x[bt+1].el:q;hi[O]===0?I(null,Un,M,Gt,$,ne,ae,re,N):gn&&(De<0||O!==Sr[De]?gt(Un,M,Gt,2):De--)}}},gt=(A,x,M,q,$=null)=>{const{el:ne,type:ae,transition:re,children:N,shapeFlag:O}=A;if(O&6){gt(A.component.subTree,x,M,q);return}if(O&128){A.suspense.move(x,M,q);return}if(O&64){ae.move(A,x,M,Fe);return}if(ae===Vt){r(ne,x,M);for(let J=0;J<N.length;J++)gt(N[J],x,M,q);r(A.anchor,x,M);return}if(ae===af){k(A,x,M);return}if(q!==2&&O&1&&re)if(q===0)re.beforeEnter(ne),r(ne,x,M),On(()=>re.enter(ne),$);else{const{leave:J,delayLeave:se,afterLeave:ue}=re,fe=()=>r(ne,x,M),ce=()=>{J(ne,()=>{fe(),ue&&ue()})};se?se(ne,fe,ce):ce()}else r(ne,x,M)},lt=(A,x,M,q=!1,$=!1)=>{const{type:ne,props:ae,ref:re,children:N,dynamicChildren:O,shapeFlag:Q,patchFlag:J,dirs:se}=A;if(re!=null&&wg(re,null,M,A,!0),Q&256){x.ctx.deactivate(A);return}const ue=Q&1&&se,fe=!uf(A);let ce;if(fe&&(ce=ae&&ae.onVnodeBeforeUnmount)&&Lr(ce,x,A),Q&6)G(A.component,M,q);else{if(Q&128){A.suspense.unmount(M,q);return}ue&&Io(A,null,x,"beforeUnmount"),Q&64?A.type.remove(A,x,M,$,Fe,q):O&&(ne!==Vt||J>0&&J&64)?V(O,x,M,!1,!0):(ne===Vt&&J&384||!$&&Q&16)&&V(N,x,M),q&&mn(A)}(fe&&(ce=ae&&ae.onVnodeUnmounted)||ue)&&On(()=>{ce&&Lr(ce,x,A),ue&&Io(A,null,x,"unmounted")},M)},mn=A=>{const{type:x,el:M,anchor:q,transition:$}=A;if(x===Vt){rn(M,q);return}if(x===af){D(A);return}const ne=()=>{o(M),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(A.shapeFlag&1&&$&&!$.persisted){const{leave:ae,delayLeave:re}=$,N=()=>ae(M,ne);re?re(A.el,ne,N):N()}else ne()},rn=(A,x)=>{let M;for(;A!==x;)M=m(A),o(A),A=M;o(x)},G=(A,x,M)=>{const{bum:q,scope:$,update:ne,subTree:ae,um:re}=A;q&&sf(q),$.stop(),ne&&(ne.active=!1,lt(ae,A,x,M)),re&&On(re,x),On(()=>{A.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},V=(A,x,M,q=!1,$=!1,ne=0)=>{for(let ae=ne;ae<A.length;ae++)lt(A[ae],x,M,q,$)},Y=A=>A.shapeFlag&6?Y(A.component.subTree):A.shapeFlag&128?A.suspense.next():m(A.anchor||A.el),ee=(A,x,M)=>{A==null?x._vnode&&lt(x._vnode,null,null,!0):I(x._vnode||null,A,x,null,null,null,M),Wb(),nA(),x._vnode=A},Fe={p:I,um:lt,m:gt,r:mn,mt:Ce,mc:L,pc:we,pbc:C,n:Y,o:e};let Ke,Ae;return t&&([Ke,Ae]=t(Fe)),{render:ee,hydrate:Ke,createApp:nP(ee,Ke)}}function Eo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function bA(e,t,n=!1){const r=e.children,o=t.children;if(Ie(r)&&Ie(o))for(let s=0;s<r.length;s++){const a=r[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=xi(o[s]),l.el=a.el),n||bA(a,l)),l.type===ph&&(l.el=a.el)}}function oP(e){const t=e.slice(),n=[0];let r,o,s,a,l;const f=e.length;for(r=0;r<f;r++){const p=e[r];if(p!==0){if(o=n[n.length-1],e[o]<p){t[r]=o,n.push(r);continue}for(s=0,a=n.length-1;s<a;)l=s+a>>1,e[n[l]]<p?s=l+1:a=l;p<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const sP=e=>e.__isTeleport,Vt=Symbol(void 0),ph=Symbol(void 0),wr=Symbol(void 0),af=Symbol(void 0),Ca=[];let yr=null;function He(e=!1){Ca.push(yr=e?null:[])}function uP(){Ca.pop(),yr=Ca[Ca.length-1]||null}let Ka=1;function iI(e){Ka+=e}function IA(e){return e.dynamicChildren=Ka>0?yr||$s:null,uP(),Ka>0&&yr&&yr.push(e),e}function rt(e,t,n,r,o,s){return IA(U(e,t,n,r,o,s,!0))}function Ki(e,t,n,r,o){return IA(be(e,t,n,r,o,!0))}function bg(e){return e?e.__v_isVNode===!0:!1}function Ro(e,t){return e.type===t.type&&e.key===t.key}const mh="__vInternal",EA=({key:e})=>e??null,cf=({ref:e,ref_key:t,ref_for:n})=>e!=null?Pt(e)||ct(e)||Le(e)?{i:zn,r:e,k:t,f:!!n}:e:null;function U(e,t=null,n=null,r=0,o=null,s=e===Vt?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&EA(t),ref:t&&cf(t),scopeId:oA,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:zn};return l?(Cv(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Pt(n)?8:16),Ka>0&&!a&&yr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&yr.push(f),f}const be=aP;function aP(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===hA)&&(e=wr),bg(e)){const l=Gi(e,t,!0);return n&&Cv(l,n),Ka>0&&!s&&yr&&(l.shapeFlag&6?yr[yr.indexOf(e)]=l:yr.push(l)),l.patchFlag|=-2,l}if(_P(e)&&(e=e.__vccOpts),t){t=cP(t);let{class:l,style:f}=t;l&&!Pt(l)&&(t.class=ln(l)),it(f)&&(WT(f)&&!Ie(f)&&(f=tn({},f)),t.style=Ys(f))}const a=Pt(e)?1:CD(e)?128:sP(e)?64:it(e)?4:Le(e)?2:0;return U(e,t,n,r,o,a,s,!0)}function cP(e){return e?WT(e)||mh in e?tn({},e):e:null}function Gi(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=e,l=t?TA(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&EA(l),ref:t&&t.ref?n&&o?Ie(o)?o.concat(cf(t)):[o,cf(t)]:cf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Vt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Gi(e.ssContent),ssFallback:e.ssFallback&&Gi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function Bi(e=" ",t=0){return be(ph,null,e,t)}function lP(e,t){const n=be(af,null,e);return n.staticCount=t,n}function Js(e="",t=!1){return t?(He(),Ki(wr,null,e)):be(wr,null,e)}function Fr(e){return e==null||typeof e=="boolean"?be(wr):Ie(e)?be(Vt,null,e.slice()):typeof e=="object"?xi(e):be(ph,null,String(e))}function xi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Gi(e)}function Cv(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ie(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Cv(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(mh in t)?t._ctx=zn:o===3&&zn&&(zn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Le(t)?(t={default:t,_ctx:zn},n=32):(t=String(t),r&64?(n=16,t=[Bi(t)]):n=8);e.children=t,e.shapeFlag|=n}function TA(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=ln([t.class,r.class]));else if(o==="style")t.style=Ys([t.style,r.style]);else if(th(o)){const s=t[o],a=r[o];a&&s!==a&&!(Ie(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=r[o])}return t}function Lr(e,t,n,r=null){ur(e,t,7,[n,r])}const fP=wA();let hP=0;function dP(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||fP,s={uid:hP++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new LT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gA(r,o),emitsOptions:iA(r,o),emit:null,emitted:null,propsDefaults:ut,inheritAttrs:r.inheritAttrs,ctx:ut,data:ut,props:ut,attrs:ut,slots:ut,refs:ut,setupState:ut,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=ED.bind(null,s),e.ce&&e.ce(s),s}let Ht=null;const gh=()=>Ht||zn,Zs=e=>{Ht=e,e.scope.on()},Uo=()=>{Ht&&Ht.scope.off(),Ht=null};function AA(e){return e.vnode.shapeFlag&4}let Ga=!1;function pP(e,t=!1){Ga=t;const{props:n,children:r}=e.vnode,o=AA(e);YD(e,n,o,t),ZD(e,r);const s=o?mP(e,t):void 0;return Ga=!1,s}function mP(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=$o(new Proxy(e.ctx,$D));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?vP(e):null;Zs(e),Eu();const s=ji(r,e,0,[e.props,o]);if(Tu(),Uo(),OT(s)){if(s.then(Uo,Uo),t)return s.then(a=>{oI(e,a,t)}).catch(a=>{uh(a,e,0)});e.asyncDep=s}else oI(e,s,t)}else SA(e,t)}function oI(e,t,n){Le(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:it(t)&&(e.setupState=JT(t)),SA(e,n)}let sI;function SA(e,t,n){const r=e.type;if(!e.render){if(!t&&sI&&!r.render){const o=r.template||Sv(e).template;if(o){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=r,p=tn(tn({isCustomElement:s,delimiters:l},a),f);r.render=sI(o,p)}}e.render=r.render||_r}Zs(e),Eu(),KD(e),Tu(),Uo()}function gP(e){return new Proxy(e.attrs,{get(t,n){return Qn(e,"get","$attrs"),t[n]}})}function vP(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=gP(e))},slots:e.slots,emit:e.emit,expose:t}}function vh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(JT($o(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ka)return ka[n](e)},has(t,n){return n in t||n in ka}}))}function yP(e,t=!0){return Le(e)?e.displayName||e.name:e.name||t&&e.__name}function _P(e){return Le(e)&&"__vccOpts"in e}const Ye=(e,t)=>vD(e,t,Ga);function Ko(e,t,n){const r=arguments.length;return r===2?it(t)&&!Ie(t)?bg(t)?be(e,null,[t]):be(e,t):be(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&bg(n)&&(n=[n]),be(e,t,n))}const wP=Symbol(""),bP=()=>ar(wP),IP="3.2.45",EP="http://www.w3.org/2000/svg",No=typeof document<"u"?document:null,uI=No&&No.createElement("template"),TP={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?No.createElementNS(EP,e):No.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>No.createTextNode(e),createComment:e=>No.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>No.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const a=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{uI.innerHTML=r?`<svg>${e}</svg>`:e;const l=uI.content;if(r){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function AP(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function SP(e,t,n){const r=e.style,o=Pt(n);if(n&&!o){for(const s in n)Ig(r,s,n[s]);if(t&&!Pt(t))for(const s in t)n[s]==null&&Ig(r,s,"")}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const aI=/\s*!important$/;function Ig(e,t,n){if(Ie(n))n.forEach(r=>Ig(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=kP(e,t);aI.test(n)?e.setProperty(Iu(r),n.replace(aI,""),"important"):e[r]=n}}const cI=["Webkit","Moz","ms"],Mm={};function kP(e,t){const n=Mm[t];if(n)return n;let r=$r(t);if(r!=="filter"&&r in e)return Mm[t]=r;r=ih(r);for(let o=0;o<cI.length;o++){const s=cI[o]+r;if(s in e)return Mm[t]=s}return t}const lI="http://www.w3.org/1999/xlink";function CP(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(lI,t.slice(6,t.length)):e.setAttributeNS(lI,t,n);else{const s=SO(t);n==null||s&&!RT(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function xP(e,t,n,r,o,s,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,o,s),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const f=n??"";(e.value!==f||e.tagName==="OPTION")&&(e.value=f),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=RT(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function kA(e,t,n,r){e.addEventListener(t,n,r)}function RP(e,t,n,r){e.removeEventListener(t,n,r)}function NP(e,t,n,r,o=null){const s=e._vei||(e._vei={}),a=s[t];if(r&&a)a.value=r;else{const[l,f]=OP(t);if(r){const p=s[t]=LP(r,o);kA(e,l,p,f)}else a&&(RP(e,l,a,f),s[t]=void 0)}}const fI=/(?:Once|Passive|Capture)$/;function OP(e){let t;if(fI.test(e)){t={};let r;for(;r=e.match(fI);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Iu(e.slice(2)),t]}let Fm=0;const DP=Promise.resolve(),PP=()=>Fm||(DP.then(()=>Fm=0),Fm=Date.now());function LP(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ur(MP(r,n.value),t,5,[r])};return n.value=e,n.attached=PP(),n}function MP(e,t){if(Ie(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const hI=/^on[a-z]/,FP=(e,t,n,r,o=!1,s,a,l,f)=>{t==="class"?AP(e,r,o):t==="style"?SP(e,n,r):th(t)?hv(t)||NP(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):VP(e,t,r,o))?xP(e,t,r,s,a,l,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),CP(e,t,r,o))};function VP(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&hI.test(t)&&Le(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||hI.test(t)&&Pt(n)?!1:t in e}const Ii="transition",ya="animation",xv=(e,{slots:t})=>Ko(uA,UP(e),t);xv.displayName="Transition";const CA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};xv.props=tn({},uA.props,CA);const To=(e,t=[])=>{Ie(e)?e.forEach(n=>n(...t)):e&&e(...t)},dI=e=>e?Ie(e)?e.some(t=>t.length>1):e.length>1:!1;function UP(e){const t={};for(const ie in e)ie in CA||(t[ie]=e[ie]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:f=s,appearActiveClass:p=a,appearToClass:g=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,_=jP(o),I=_&&_[0],T=_&&_[1],{onBeforeEnter:E,onEnter:R,onEnterCancelled:k,onLeave:D,onLeaveCancelled:B,onBeforeAppear:P=E,onAppear:z=R,onAppearCancelled:L=k}=t,X=(ie,Se,Ce)=>{Ao(ie,Se?g:l),Ao(ie,Se?p:a),Ce&&Ce()},C=(ie,Se)=>{ie._isLeaving=!1,Ao(ie,h),Ao(ie,y),Ao(ie,m),Se&&Se()},Ee=ie=>(Se,Ce)=>{const Me=ie?z:R,xe=()=>X(Se,ie,Ce);To(Me,[Se,xe]),pI(()=>{Ao(Se,ie?f:s),Ei(Se,ie?g:l),dI(Me)||mI(Se,r,I,xe)})};return tn(t,{onBeforeEnter(ie){To(E,[ie]),Ei(ie,s),Ei(ie,a)},onBeforeAppear(ie){To(P,[ie]),Ei(ie,f),Ei(ie,p)},onEnter:Ee(!1),onAppear:Ee(!0),onLeave(ie,Se){ie._isLeaving=!0;const Ce=()=>C(ie,Se);Ei(ie,h),HP(),Ei(ie,m),pI(()=>{ie._isLeaving&&(Ao(ie,h),Ei(ie,y),dI(D)||mI(ie,r,T,Ce))}),To(D,[ie,Ce])},onEnterCancelled(ie){X(ie,!1),To(k,[ie])},onAppearCancelled(ie){X(ie,!0),To(L,[ie])},onLeaveCancelled(ie){C(ie),To(B,[ie])}})}function jP(e){if(e==null)return null;if(it(e))return[Vm(e.enter),Vm(e.leave)];{const t=Vm(e);return[t,t]}}function Vm(e){return oh(e)}function Ei(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Ao(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function pI(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let BP=0;function mI(e,t,n,r){const o=e._endId=++BP,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:l,propCount:f}=qP(e,t);if(!a)return r();const p=a+"end";let g=0;const h=()=>{e.removeEventListener(p,m),s()},m=y=>{y.target===e&&++g>=f&&h()};setTimeout(()=>{g<f&&h()},l+1),e.addEventListener(p,m)}function qP(e,t){const n=window.getComputedStyle(e),r=_=>(n[_]||"").split(", "),o=r(`${Ii}Delay`),s=r(`${Ii}Duration`),a=gI(o,s),l=r(`${ya}Delay`),f=r(`${ya}Duration`),p=gI(l,f);let g=null,h=0,m=0;t===Ii?a>0&&(g=Ii,h=a,m=s.length):t===ya?p>0&&(g=ya,h=p,m=f.length):(h=Math.max(a,p),g=h>0?a>p?Ii:ya:null,m=g?g===Ii?s.length:f.length:0);const y=g===Ii&&/\b(transform|all)(,|$)/.test(r(`${Ii}Property`).toString());return{type:g,timeout:h,propCount:m,hasTransform:y}}function gI(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>vI(n)+vI(e[r])))}function vI(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function HP(){return document.body.offsetHeight}const yI=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ie(t)?n=>sf(t,n):t},$P={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=nh(t);kA(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?oh(bf(a)):bf(a));e._assign(e.multiple?o?new Set(s):s:s[0])}),e._assign=yI(r)},mounted(e,{value:t}){_I(e,t)},beforeUpdate(e,t,n){e._assign=yI(n)},updated(e,{value:t}){_I(e,t)}};function _I(e,t){const n=e.multiple;if(!(n&&!Ie(t)&&!nh(t))){for(let r=0,o=e.options.length;r<o;r++){const s=e.options[r],a=bf(s);if(n)Ie(t)?s.selected=CO(t,a)>-1:s.selected=t.has(a);else if(eh(bf(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function bf(e){return"_value"in e?e._value:e.value}const KP=["ctrl","shift","alt","meta"],GP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>KP.some(n=>e[`${n}Key`]&&!t.includes(n))},Yt=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=GP[t[o]];if(s&&s(n,t))return}return e(n,...r)},wI={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):_a(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),_a(e,!0),r.enter(e)):r.leave(e,()=>{_a(e,!1)}):_a(e,t))},beforeUnmount(e,{value:t}){_a(e,t)}};function _a(e,t){e.style.display=t?e._vod:"none"}const zP=tn({patchProp:FP},TP);let bI;function WP(){return bI||(bI=rP(zP))}const XP=(...e)=>{const t=WP().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=YP(r);if(!o)return;const s=t._component;!Le(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function YP(e){return Pt(e)?document.querySelector(e):e}var QP=!1;/*!
  * pinia v2.0.30
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let xA;const yh=e=>xA=e,RA=Symbol();function Eg(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var xa;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(xa||(xa={}));function JP(){const e=MT(!0),t=e.run(()=>Pn({}));let n=[],r=[];const o=$o({install(s){yh(o),o._a=s,s.provide(RA,o),s.config.globalProperties.$pinia=o,r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!QP?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const NA=()=>{};function II(e,t,n,r=NA){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&FO()&&VO(o),o}function Os(e,...t){e.slice().forEach(n=>{n(...t)})}function Tg(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];Eg(o)&&Eg(r)&&e.hasOwnProperty(n)&&!ct(r)&&!Ui(r)?e[n]=Tg(o,r):e[n]=r}return e}const ZP=Symbol();function eL(e){return!Eg(e)||!e.hasOwnProperty(ZP)}const{assign:Ri}=Object;function tL(e){return!!(ct(e)&&e.effect)}function nL(e,t,n,r){const{state:o,actions:s,getters:a}=t,l=n.state.value[e];let f;function p(){l||(n.state.value[e]=o?o():{});const g=pD(n.state.value[e]);return Ri(g,s,Object.keys(a||{}).reduce((h,m)=>(h[m]=$o(Ye(()=>{yh(n);const y=n._s.get(e);return a[m].call(y,y)})),h),{}))}return f=OA(e,p,t,n,r,!0),f.$reset=function(){const h=o?o():{};this.$patch(m=>{Ri(m,h)})},f}function OA(e,t,n={},r,o,s){let a;const l=Ri({actions:{}},n),f={deep:!0};let p,g,h=$o([]),m=$o([]),y;const _=r.state.value[e];!s&&!_&&(r.state.value[e]={}),Pn({});let I;function T(z){let L;p=g=!1,typeof z=="function"?(z(r.state.value[e]),L={type:xa.patchFunction,storeId:e,events:y}):(Tg(r.state.value[e],z),L={type:xa.patchObject,payload:z,storeId:e,events:y});const X=I=Symbol();Fi().then(()=>{I===X&&(p=!0)}),g=!0,Os(h,L,r.state.value[e])}const E=NA;function R(){a.stop(),h=[],m=[],r._s.delete(e)}function k(z,L){return function(){yh(r);const X=Array.from(arguments),C=[],Ee=[];function ie(Me){C.push(Me)}function Se(Me){Ee.push(Me)}Os(m,{args:X,name:z,store:B,after:ie,onError:Se});let Ce;try{Ce=L.apply(this&&this.$id===e?this:B,X)}catch(Me){throw Os(Ee,Me),Me}return Ce instanceof Promise?Ce.then(Me=>(Os(C,Me),Me)).catch(Me=>(Os(Ee,Me),Promise.reject(Me))):(Os(C,Ce),Ce)}}const D={_p:r,$id:e,$onAction:II.bind(null,m),$patch:T,$reset:E,$subscribe(z,L={}){const X=II(h,z,L.detached,()=>C()),C=a.run(()=>Jt(()=>r.state.value[e],Ee=>{(L.flush==="sync"?g:p)&&z({storeId:e,type:xa.direct,events:y},Ee)},Ri({},f,L)));return X},$dispose:R},B=ai(D);r._s.set(e,B);const P=r._e.run(()=>(a=MT(),a.run(()=>t())));for(const z in P){const L=P[z];if(ct(L)&&!tL(L)||Ui(L))s||(_&&eL(L)&&(ct(L)?L.value=_[z]:Tg(L,_[z])),r.state.value[e][z]=L);else if(typeof L=="function"){const X=k(z,L);P[z]=X,l.actions[z]=L}}return Ri(B,P),Ri(Xe(B),P),Object.defineProperty(B,"$state",{get:()=>r.state.value[e],set:z=>{T(L=>{Ri(L,z)})}}),r._p.forEach(z=>{Ri(B,a.run(()=>z({store:B,app:r._a,pinia:r,options:l})))}),_&&s&&n.hydrate&&n.hydrate(B.$state,_),p=!0,g=!0,B}function Rv(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function a(l,f){const p=gh();return l=l||p&&ar(RA,null),l&&yh(l),l=xA,l._s.has(r)||(s?OA(r,t,o,l):nL(r,o,l)),l._s.get(r)}return a.$id=r,a}let rL="Store";function iL(...e){return e.reduce((t,n)=>(t[n.$id+rL]=function(){return n(this.$pinia)},t),{})}function If(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const o=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function _h(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[r](...o)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[t[r]](...o)},n),{})}function DA(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(o){return e(this.$pinia)[r]=o}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(o){return e(this.$pinia)[t[r]]=o}},n),{})}const Ag=Rv("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var Sg=function(e,t){return Sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Sg(e,t)};function _e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Sg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var eu=function(){return eu=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},eu.apply(this,arguments)};function K(e,t,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(g){try{p(r.next(g))}catch(h){a(h)}}function f(g){try{p(r.throw(g))}catch(h){a(h)}}function p(g){g.done?s(g.value):o(g.value).then(l,f)}p((r=r.apply(e,t||[])).next())})}function H(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(p){return function(g){return f([p,g])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(s=p[0]&2?o.return:p[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,p[1])).done)return s;switch(o=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(g){p=[6,g],o=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function Um(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function dt(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PA=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},oL=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},sL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,p=f?e[o+2]:0,g=s>>2,h=(s&3)<<4|l>>4,m=(l&15)<<2|p>>6,y=p&63;f||(y=64,a||(m=64)),r.push(n[g],n[h],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(PA(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):oL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,p=f?n[e.charAt(o)]:64;++o;var g=o<e.length,h=g?n[e.charAt(o)]:64;if(++o,s==null||l==null||p==null||h==null)throw Error();var m=s<<2|l>>4;if(r.push(m),p!==64){var y=l<<4&240|p>>2;if(r.push(y),h!==64){var _=p<<6&192|h;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},uL=function(e){var t=PA(e);return sL.encodeByteArray(t,!0)},EI=function(e){return uL(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(e){return za(void 0,e)}function za(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!cL(r)||(e[r]=za(e[r],t[r]));return e}function cL(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lL=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=eu({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[EI(JSON.stringify(n)),EI(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Go())}function MA(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hL(){return typeof self=="object"&&self.self===self}function dL(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function pL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mL(){return Go().indexOf("Electron/")>=0}function gL(){var e=Go();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function vL(){return Go().indexOf("MSAppHost/")>=0}function yL(){return!MA()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _L="FirebaseError",FA=function(e){_e(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=_L,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Nv.prototype.create),s}return t}(Error),Nv=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?wL(a,o):"Error",f=this.serviceName+": "+l+" ("+s+").",p=new FA(s,f,o);return p},e}();function wL(e,t){return e.replace(bL,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var bL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function IL(e,t){var n=new EL(e,t);return n.subscribe.bind(n)}var EL=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TL(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=jm),s.error===void 0&&(s.error=jm),s.complete===void 0&&(s.complete=jm);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function TL(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(e){return e&&e._delegate?e._delegate:e}var pc=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new lL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(kL(t))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}try{for(var o=Um(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var a=Hl(s.value,2),l=a[0],f=a[1],p=this.normalizeInstanceIdentifier(l);try{var g=this.getOrInitializeService({instanceIdentifier:p});f.resolve(g)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Co),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return K(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(dt(dt([],Hl(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Hl(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Co),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Co),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var f=Um(this.instancesDeferred.entries()),p=f.next();!p.done;p=f.next()){var g=Hl(p.value,2),h=g[0],m=g[1],y=this.normalizeInstanceIdentifier(h);a===y&&m.resolve(l)}}catch(_){n={error:_}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);var a=this.instances.get(o);return a&&t(a,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o,s=this.onInitCallbacks.get(n);if(s)try{for(var a=Um(s),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(p){r={error:p}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:SL(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Co),this.component?this.component.multipleInstances?t:Co:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function SL(e){return e===Co?void 0:e}function kL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new AL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function gr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)r[o]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So,Ov=[],We;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(We||(We={}));var VA={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},xL=We.INFO,RL=(So={},So[We.DEBUG]="log",So[We.VERBOSE]="log",So[We.INFO]="info",So[We.WARN]="warn",So[We.ERROR]="error",So),NL=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=RL[t];if(s)console[s].apply(console,gr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},UA=function(){function e(t){this.name=t,this._logLevel=xL,this._logHandler=NL,this._userLogHandler=null,Ov.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in We))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?VA[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,We.DEBUG],t)),this._logHandler.apply(this,gr([this,We.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,We.VERBOSE],t)),this._logHandler.apply(this,gr([this,We.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,We.INFO],t)),this._logHandler.apply(this,gr([this,We.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,We.WARN],t)),this._logHandler.apply(this,gr([this,We.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,We.ERROR],t)),this._logHandler.apply(this,gr([this,We.ERROR],t))},e}();function OL(e){Ov.forEach(function(t){t.setLogLevel(e)})}function DL(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=VA[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,p){for(var g=[],h=2;h<arguments.length;h++)g[h-2]=arguments[h];var m=g.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");p>=(l??f.logLevel)&&e({level:We[p].toLowerCase(),message:m,args:g,type:f.name})}},r=0,o=Ov;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ti,PL=(Ti={},Ti["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ti["bad-app-name"]="Illegal App name: '{$appName}",Ti["duplicate-app"]="Firebase App named '{$appName}' already exists",Ti["app-deleted"]="Firebase App named '{$appName}' already deleted",Ti["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ti["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ti),Vs=new Nv("app","Firebase",PL),jA="@firebase/app",LL="0.6.30",ML="@firebase/analytics",FL="@firebase/app-check",VL="@firebase/auth",UL="@firebase/database",jL="@firebase/functions",BL="@firebase/installations",qL="@firebase/messaging",HL="@firebase/performance",$L="@firebase/remote-config",KL="@firebase/storage",GL="@firebase/firestore",zL="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,Ef="[DEFAULT]",WL=(sn={},sn[jA]="fire-core",sn[ML]="fire-analytics",sn[FL]="fire-app-check",sn[VL]="fire-auth",sn[UL]="fire-rtdb",sn[jL]="fire-fn",sn[BL]="fire-iid",sn[qL]="fire-fcm",sn[HL]="fire-perf",sn[$L]="fire-rc",sn[KL]="fire-gcs",sn[GL]="fire-fst",sn["fire-js"]="fire-js",sn[zL]="fire-js-all",sn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tu=new UA("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lf=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=aL(t),this.container=new CL(n.name),this._addComponent(new pc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=Ef),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Ef),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){tu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Vs.create("app-deleted",{appName:this.name_})},e}();lf.prototype.name&&lf.prototype.options||lf.prototype.delete||console.log("dc");var XL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:p,setLogLevel:OL,onLog:g,apps:null,SDK_VERSION:XL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:l});function o(m){delete t[m]}function s(m){if(m=m||Ef,!TI(t,m))throw Vs.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var _=y;y={name:_}}var I=y;I.name===void 0&&(I.name=Ef);var T=I.name;if(typeof T!="string"||!T)throw Vs.create("bad-app-name",{appName:String(T)});if(TI(t,T))throw Vs.create("duplicate-app",{appName:T});var E=new e(m,I,r);return t[T]=E,E}function l(){return Object.keys(t).map(function(m){return t[m]})}function f(m){var y=m.name;if(n.has(y))return tu.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var _=function(R){if(R===void 0&&(R=s()),typeof R[y]!="function")throw Vs.create("invalid-app-argument",{appName:y});return R[y]()};m.serviceProps!==void 0&&za(_,m.serviceProps),r[y]=_,e.prototype[y]=function(){for(var R=[],k=0;k<arguments.length;k++)R[k]=arguments[k];var D=this._getService.bind(this,y);return D.apply(this,m.multipleInstances?R:[])}}for(var I=0,T=Object.keys(t);I<T.length;I++){var E=T[I];t[E]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function p(m,y,_){var I,T=(I=WL[m])!==null&&I!==void 0?I:m;_&&(T+="-"+_);var E=T.match(/\s|\//),R=y.match(/\s|\//);if(E||R){var k=['Unable to register library "'+T+'" with version "'+y+'":'];E&&k.push('library name "'+T+'" contains illegal characters (whitespace or "/")'),E&&R&&k.push("and"),R&&k.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),tu.warn(k.join(" "));return}f(new pc(T+"-version",function(){return{library:T,version:y}},"VERSION"))}function g(m,y){if(m!==null&&typeof m!="function")throw Vs.create("invalid-log-argument");DL(m,y)}function h(m,y){if(y==="serverAuth")return null;var _=y;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){var e=YL(lf);e.INTERNAL=eu(eu({},e.INTERNAL),{createFirebaseNamespace:BA,extendNamespace:t,createSubscribe:IL,ErrorFactory:Nv,deepExtend:za});function t(n){za(e,n)}return e}var Dv=BA();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QL=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(JL(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function JL(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(e,t){e.INTERNAL.registerComponent(new pc("platform-logger",function(n){return new QL(n)},"PRIVATE")),e.registerVersion(jA,LL,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(hL()&&self.firebase!==void 0){tu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var AI=self.firebase.SDK_VERSION;AI&&AI.indexOf("LITE")>=0&&tu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var eM=Dv.initializeApp;Dv.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return MA()&&tu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),eM.apply(void 0,e)};var Te=Dv;ZL(Te);var tM="firebase",qA="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Te.registerVersion(tM,qA,"app");Te.SDK_VERSION=qA;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,u,c){i!=Array.prototype&&i!=Object.prototype&&(i[u]=c.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var u=0;u<i.length;++u){var c=i[u];if(c&&c.Math==Math)return c}return globalThis}var r=n(this);function o(i,u){if(u){var c=r;i=i.split(".");for(var d=0;d<i.length-1;d++){var v=i[d];v in c||(c[v]={}),c=c[v]}i=i[i.length-1],d=c[i],u=u(d),u!=d&&u!=null&&t(c,i,{configurable:!0,writable:!0,value:u})}}function s(i){var u=0;return function(){return u<i.length?{done:!1,value:i[u++]}:{done:!0}}}function a(i){var u=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return u?u.call(i):{next:s(i)}}o("Promise",function(i){function u(b){this.b=0,this.c=void 0,this.a=[];var S=this.f();try{b(S.resolve,S.reject)}catch(j){S.reject(j)}}function c(){this.a=null}function d(b){return b instanceof u?b:new u(function(S){S(b)})}if(i)return i;c.prototype.b=function(b){if(this.a==null){this.a=[];var S=this;this.c(function(){S.g()})}this.a.push(b)};var v=r.setTimeout;c.prototype.c=function(b){v(b,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var S=0;S<b.length;++S){var j=b[S];b[S]=null;try{j()}catch(W){this.f(W)}}}this.a=null},c.prototype.f=function(b){this.c(function(){throw b})},u.prototype.f=function(){function b(W){return function(Re){j||(j=!0,W.call(S,Re))}}var S=this,j=!1;return{resolve:b(this.m),reject:b(this.g)}},u.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof u)this.s(b);else{e:switch(typeof b){case"object":var S=b!=null;break e;case"function":S=!0;break e;default:S=!1}S?this.v(b):this.h(b)}},u.prototype.v=function(b){var S=void 0;try{S=b.then}catch(j){this.g(j);return}typeof S=="function"?this.u(S,b):this.h(b)},u.prototype.g=function(b){this.i(2,b)},u.prototype.h=function(b){this.i(1,b)},u.prototype.i=function(b,S){if(this.b!=0)throw Error("Cannot settle("+b+", "+S+"): Promise already settled in state"+this.b);this.b=b,this.c=S,this.l()},u.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)w.b(this.a[b]);this.a=null}};var w=new c;return u.prototype.s=function(b){var S=this.f();b.Ra(S.resolve,S.reject)},u.prototype.u=function(b,S){var j=this.f();try{b.call(S,j.resolve,j.reject)}catch(W){j.reject(W)}},u.prototype.then=function(b,S){function j(ze,Bt){return typeof ze=="function"?function(Qr){try{W(ze(Qr))}catch(Nm){Re(Nm)}}:Bt}var W,Re,Ze=new u(function(ze,Bt){W=ze,Re=Bt});return this.Ra(j(b,W),j(S,Re)),Ze},u.prototype.catch=function(b){return this.then(void 0,b)},u.prototype.Ra=function(b,S){function j(){switch(W.b){case 1:b(W.c);break;case 2:S(W.c);break;default:throw Error("Unexpected state: "+W.b)}}var W=this;this.a==null?w.b(j):this.a.push(j)},u.resolve=d,u.reject=function(b){return new u(function(S,j){j(b)})},u.race=function(b){return new u(function(S,j){for(var W=a(b),Re=W.next();!Re.done;Re=W.next())d(Re.value).Ra(S,j)})},u.all=function(b){var S=a(b),j=S.next();return j.done?d([]):new u(function(W,Re){function Ze(Qr){return function(Nm){ze[Qr]=Nm,Bt--,Bt==0&&W(ze)}}var ze=[],Bt=0;do ze.push(void 0),Bt++,d(j.value).Ra(Ze(ze.length-1),Re),j=S.next();while(!j.done)})},u});var l=l||{},f=this||self,p=/^[\w+/_-]+[=]{0,2}$/,g=null;function h(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&p.test(i)?i:""}function m(){}function y(i){var u=typeof i;return u!="object"?u:i?Array.isArray(i)?"array":u:"null"}function _(i){var u=y(i);return u=="array"||u=="object"&&typeof i.length=="number"}function I(i){return y(i)=="function"}function T(i){var u=typeof i;return u=="object"&&i!=null||u=="function"}function E(i){return Object.prototype.hasOwnProperty.call(i,R)&&i[R]||(i[R]=++k)}var R="closure_uid_"+(1e9*Math.random()>>>0),k=0;function D(i,u,c){return i.call.apply(i.bind,arguments)}function B(i,u,c){if(!i)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,d),i.apply(u,v)}}return function(){return i.apply(u,arguments)}}function P(i,u,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?P=D:P=B,P.apply(null,arguments)}function z(i,u){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),i.apply(this,d)}}function L(i,u){function c(){}c.prototype=u.prototype,i.bb=u.prototype,i.prototype=new c,i.prototype.constructor=i}function X(i){return i}function C(i,u,c){this.code=ie+i,this.message=u||Se[i]||"",this.a=c||null}L(C,Error),C.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},C.prototype.toJSON=function(){return this.w()};function Ee(i){var u=i&&i.code;return u?new C(u.substring(ie.length),i.message,i.serverResponse):null}var ie="auth/",Se={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ce={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Me(i){for(var u in Ce)if(Ce[u].id===i)return i=Ce[u],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var xe;xe=Me("__EID__")?"__EID__":void 0;function Oe(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function we(i){if(Error.captureStackTrace)Error.captureStackTrace(this,we);else{var u=Error().stack;u&&(this.stack=u)}i&&(this.message=String(i))}L(we,Error),we.prototype.name="CustomError";function Tt(i,u){i=i.split("%s");for(var c="",d=i.length-1,v=0;v<d;v++)c+=i[v]+(v<u.length?u[v]:"%s");we.call(this,c+i[d])}L(Tt,we),Tt.prototype.name="AssertionError";function mt(i,u){throw new Tt("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function gt(i,u){this.c=i,this.f=u,this.b=0,this.a=null}gt.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function lt(i,u){i.f(u),100>i.b&&(i.b++,u.next=i.a,i.a=u)}function mn(){this.b=this.a=null}var rn=new gt(function(){return new V},function(i){i.reset()});mn.prototype.add=function(i,u){var c=rn.get();c.set(i,u),this.b?this.b.next=c:this.a=c,this.b=c};function G(){var i=T_,u=null;return i.a&&(u=i.a,i.a=i.a.next,i.a||(i.b=null),u.next=null),u}function V(){this.next=this.b=this.a=null}V.prototype.set=function(i,u){this.a=i,this.b=u,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var Y=Array.prototype.indexOf?function(i,u){return Array.prototype.indexOf.call(i,u,void 0)}:function(i,u){if(typeof i=="string")return typeof u!="string"||u.length!=1?-1:i.indexOf(u,0);for(var c=0;c<i.length;c++)if(c in i&&i[c]===u)return c;return-1},ee=Array.prototype.forEach?function(i,u,c){Array.prototype.forEach.call(i,u,c)}:function(i,u,c){for(var d=i.length,v=typeof i=="string"?i.split(""):i,w=0;w<d;w++)w in v&&u.call(c,v[w],w,i)};function Fe(i,u){for(var c=typeof i=="string"?i.split(""):i,d=i.length-1;0<=d;--d)d in c&&u.call(void 0,c[d],d,i)}var Ke=Array.prototype.filter?function(i,u){return Array.prototype.filter.call(i,u,void 0)}:function(i,u){for(var c=i.length,d=[],v=0,w=typeof i=="string"?i.split(""):i,b=0;b<c;b++)if(b in w){var S=w[b];u.call(void 0,S,b,i)&&(d[v++]=S)}return d},Ae=Array.prototype.map?function(i,u){return Array.prototype.map.call(i,u,void 0)}:function(i,u){for(var c=i.length,d=Array(c),v=typeof i=="string"?i.split(""):i,w=0;w<c;w++)w in v&&(d[w]=u.call(void 0,v[w],w,i));return d},A=Array.prototype.some?function(i,u){return Array.prototype.some.call(i,u,void 0)}:function(i,u){for(var c=i.length,d=typeof i=="string"?i.split(""):i,v=0;v<c;v++)if(v in d&&u.call(void 0,d[v],v,i))return!0;return!1};function x(i){e:{for(var u=eR,c=i.length,d=typeof i=="string"?i.split(""):i,v=0;v<c;v++)if(v in d&&u.call(void 0,d[v],v,i)){u=v;break e}u=-1}return 0>u?null:typeof i=="string"?i.charAt(u):i[u]}function M(i,u){return 0<=Y(i,u)}function q(i,u){u=Y(i,u);var c;return(c=0<=u)&&Array.prototype.splice.call(i,u,1),c}function $(i,u){var c=0;Fe(i,function(d,v){u.call(void 0,d,v,i)&&Array.prototype.splice.call(i,v,1).length==1&&c++})}function ne(i){return Array.prototype.concat.apply([],arguments)}function ae(i){var u=i.length;if(0<u){for(var c=Array(u),d=0;d<u;d++)c[d]=i[d];return c}return[]}var re=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},N=/&/g,O=/</g,Q=/>/g,J=/"/g,se=/'/g,ue=/\x00/g,fe=/[\x00&<>"']/;function ce(i,u){return i.indexOf(u)!=-1}function De(i,u){return i<u?-1:i>u?1:0}var Ve;e:{var on=f.navigator;if(on){var gn=on.userAgent;if(gn){Ve=gn;break e}}Ve=""}function wt(i){return ce(Ve,i)}function hi(i,u){for(var c in i)u.call(void 0,i[c],c,i)}function Sr(i){for(var u in i)return!1;return!0}function bt(i){var u={},c;for(c in i)u[c]=i[c];return u}var Un="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gt(i,u){for(var c,d,v=1;v<arguments.length;v++){d=arguments[v];for(c in d)i[c]=d[c];for(var w=0;w<Un.length;w++)c=Un[w],Object.prototype.hasOwnProperty.call(d,c)&&(i[c]=d[c])}}function i_(i,u){e:{try{var c=i&&i.ownerDocument,d=c&&(c.defaultView||c.parentWindow);if(d=d||f,d.Element&&d.Location){var v=d;break e}}catch{}v=null}if(v&&typeof v[u]<"u"&&(!i||!(i instanceof v[u])&&(i instanceof v.Location||i instanceof v.Element))){if(T(i))try{var w=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{w="<object could not be stringified>"}else w=i===void 0?"undefined":i===null?"null":typeof i;mt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,w)}}function kr(i,u){this.a=i===Mc&&u||"",this.b=o_}kr.prototype.ta=!0,kr.prototype.sa=function(){return this.a},kr.prototype.toString=function(){return"Const{"+this.a+"}"};function id(i){return i instanceof kr&&i.constructor===kr&&i.b===o_?i.a:(mt("expected object of type Const, got '"+i+"'"),"type_error:Const")}var o_={},Mc={},Fc;function s_(){if(Fc===void 0){var i=null,u=f.trustedTypes;if(u&&u.createPolicy){try{i=u.createPolicy("goog#html",{createHTML:X,createScript:X,createScriptURL:X})}catch(c){f.console&&f.console.error(c.message)}Fc=i}else Fc=i}return Fc}function cs(i,u){this.a=u===a_?i:""}cs.prototype.ta=!0,cs.prototype.sa=function(){return this.a.toString()},cs.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function u_(i){return i instanceof cs&&i.constructor===cs?i.a:(mt("expected object of type TrustedResourceUrl, got '"+i+"' of type "+y(i)),"type_error:TrustedResourceUrl")}function od(i,u){var c=id(i);if(!RC.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return i=c.replace(xC,function(d,v){if(!Object.prototype.hasOwnProperty.call(u,v))throw Error('Found marker, "'+v+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(u));return d=u[v],d instanceof kr?id(d):encodeURIComponent(String(d))}),NC(i)}var xC=/%{(\w+)}/g,RC=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,a_={};function NC(i){var u=s_();return i=u?u.createScriptURL(i):i,new cs(i,a_)}function Cn(i,u){this.a=u===Mu?i:""}Cn.prototype.ta=!0,Cn.prototype.sa=function(){return this.a.toString()},Cn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Vc(i){return i instanceof Cn&&i.constructor===Cn?i.a:(mt("expected object of type SafeUrl, got '"+i+"' of type "+y(i)),"type_error:SafeUrl")}var OC=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,DC=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,c_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function l_(i){if(i instanceof Cn)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),c_.test(i))i=new Cn(i,Mu);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var u=i.match(DC);i=u&&OC.test(u[1])?new Cn(i,Mu):null}return i}function f_(i){return i instanceof Cn?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),c_.test(i)||(i="about:invalid#zClosurez"),new Cn(i,Mu))}var Mu={},h_=new Cn("about:invalid#zClosurez",Mu);function ls(i,u,c){this.a=c===d_?i:""}ls.prototype.ta=!0,ls.prototype.sa=function(){return this.a.toString()},ls.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function PC(i){return i instanceof ls&&i.constructor===ls?i.a:(mt("expected object of type SafeHtml, got '"+i+"' of type "+y(i)),"type_error:SafeHtml")}var d_={};function LC(i,u){i_(i,"HTMLScriptElement"),i.src=u_(u),(u=i.ownerDocument&&i.ownerDocument.defaultView)&&u!=f?u=h(u.document):(g===null&&(g=h(f.document)),u=g),u&&i.setAttribute("nonce",u)}function p_(i,u,c,d){return i=i instanceof Cn?i:f_(i),u=u||f,c=c instanceof kr?id(c):c||"",u.open(Vc(i),c,d,void 0)}function m_(i,u){for(var c=i.split("%s"),d="",v=Array.prototype.slice.call(arguments,1);v.length&&1<c.length;)d+=c.shift()+v.shift();return d+c.join("%s")}function sd(i){return fe.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(N,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(O,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(Q,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(J,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(se,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(ue,"&#0;"))),i}function ud(i){return ud[" "](i),i}ud[" "]=m;function MC(i,u){var c=jC;return Object.prototype.hasOwnProperty.call(c,i)?c[i]:c[i]=u(i)}var FC=wt("Opera"),cr=wt("Trident")||wt("MSIE"),g_=wt("Edge"),VC=g_||cr,v_=wt("Gecko")&&!(ce(Ve.toLowerCase(),"webkit")&&!wt("Edge"))&&!(wt("Trident")||wt("MSIE"))&&!wt("Edge"),UC=ce(Ve.toLowerCase(),"webkit")&&!wt("Edge");function y_(){var i=f.document;return i?i.documentMode:void 0}var Uc;e:{var ad="",cd=function(){var i=Ve;if(v_)return/rv:([^\);]+)(\)|;)/.exec(i);if(g_)return/Edge\/([\d\.]+)/.exec(i);if(cr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(UC)return/WebKit\/(\S+)/.exec(i);if(FC)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(cd&&(ad=cd?cd[1]:""),cr){var ld=y_();if(ld!=null&&ld>parseFloat(ad)){Uc=String(ld);break e}}Uc=ad}var jC={};function __(i){return MC(i,function(){for(var u=0,c=re(String(Uc)).split("."),d=re(String(i)).split("."),v=Math.max(c.length,d.length),w=0;u==0&&w<v;w++){var b=c[w]||"",S=d[w]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],b[0].length==0&&S[0].length==0)break;u=De(b[1].length==0?0:parseInt(b[1],10),S[1].length==0?0:parseInt(S[1],10))||De(b[2].length==0,S[2].length==0)||De(b[2],S[2]),b=b[3],S=S[3]}while(u==0)}return 0<=u})}var fd;if(f.document&&cr){var w_=y_();fd=w_||parseInt(Uc,10)||void 0}else fd=void 0;var di=fd;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var BC=!cr||9<=Number(di);function Fu(i){var u=document;return typeof i=="string"?u.getElementById(i):i}function b_(i,u){hi(u,function(c,d){c&&typeof c=="object"&&c.ta&&(c=c.sa()),d=="style"?i.style.cssText=c:d=="class"?i.className=c:d=="for"?i.htmlFor=c:I_.hasOwnProperty(d)?i.setAttribute(I_[d],c):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?i.setAttribute(d,c):i[d]=c})}var I_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function qC(i,u,c){var d=arguments,v=document,w=String(d[0]),b=d[1];if(!BC&&b&&(b.name||b.type)){if(w=["<",w],b.name&&w.push(' name="',sd(b.name),'"'),b.type){w.push(' type="',sd(b.type),'"');var S={};Gt(S,b),delete S.type,b=S}w.push(">"),w=w.join("")}return w=jc(v,w),b&&(typeof b=="string"?w.className=b:Array.isArray(b)?w.className=b.join(" "):b_(w,b)),2<d.length&&HC(v,w,d),w}function HC(i,u,c){function d(S){S&&u.appendChild(typeof S=="string"?i.createTextNode(S):S)}for(var v=2;v<c.length;v++){var w=c[v];if(!_(w)||T(w)&&0<w.nodeType)d(w);else{e:{if(w&&typeof w.length=="number"){if(T(w)){var b=typeof w.item=="function"||typeof w.item=="string";break e}if(I(w)){b=typeof w.item=="function";break e}}b=!1}ee(b?ae(w):w,d)}}}function jc(i,u){return u=String(u),i.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),i.createElement(u)}function E_(i){f.setTimeout(function(){throw i},0)}var hd;function $C(){var i=f.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!wt("Presto")&&(i=function(){var v=jc(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var w=v.contentWindow;v=w.document,v.open(),v.close();var b="callImmediate"+Math.random(),S=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;v=P(function(j){(S=="*"||j.origin==S)&&j.data==b&&this.port1.onmessage()},this),w.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(b,S)}}}),typeof i<"u"&&!wt("Trident")&&!wt("MSIE")){var u=new i,c={},d=c;return u.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var v=c.Hb;c.Hb=null,v()}},function(v){d.next={Hb:v},d=d.next,u.port2.postMessage(0)}}return function(v){f.setTimeout(v,0)}}function Bc(i,u){qc||KC(),dd||(qc(),dd=!0),T_.add(i,u)}var qc;function KC(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);qc=function(){i.then(A_)}}else qc=function(){var u=A_;!I(f.setImmediate)||f.Window&&f.Window.prototype&&!wt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(hd||(hd=$C()),hd(u)):f.setImmediate(u)}}var dd=!1,T_=new mn;function A_(){for(var i;i=G();){try{i.a.call(i.b)}catch(u){E_(u)}lt(rn,i)}dd=!1}function je(i,u){if(this.a=no,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=m)try{var c=this;i.call(u,function(d){ro(c,Vu,d)},function(d){if(!(d instanceof fs))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}ro(c,zr,d)})}catch(d){ro(this,zr,d)}}var no=0,Vu=2,zr=3;function S_(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}S_.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var k_=new gt(function(){return new S_},function(i){i.reset()});function pd(i,u,c){var d=k_.get();return d.g=i,d.b=u,d.f=c,d}function ye(i){if(i instanceof je)return i;var u=new je(m);return ro(u,Vu,i),u}function ft(i){return new je(function(u,c){c(i)})}function C_(i,u,c){O_(i,u,c,null)||Bc(z(u,i))}function GC(i){return new je(function(u,c){var d=i.length,v=[];if(d)for(var w=function(W,Re){d--,v[W]=Re,d==0&&u(v)},b=function(W){c(W)},S=0,j;S<i.length;S++)j=i[S],C_(j,z(w,S),b);else u(v)})}function x_(i){return new je(function(u){var c=i.length,d=[];if(c)for(var v=function(S,j,W){c--,d[S]=j?{Qb:!0,value:W}:{Qb:!1,reason:W},c==0&&u(d)},w=0,b;w<i.length;w++)b=i[w],C_(b,z(v,w,!0),z(v,w,!1));else u(d)})}je.prototype.then=function(i,u,c){return N_(this,I(i)?i:null,I(u)?u:null,c)},je.prototype.$goog_Thenable=!0,e=je.prototype,e.oa=function(i,u){return i=pd(i,i,u),i.c=!0,md(this,i),this},e.o=function(i,u){return N_(this,null,i,u)},e.cancel=function(i){if(this.a==no){var u=new fs(i);Bc(function(){R_(this,u)},this)}};function R_(i,u){if(i.a==no)if(i.c){var c=i.c;if(c.b){for(var d=0,v=null,w=null,b=c.b;b&&(b.c||(d++,b.a==i&&(v=b),!(v&&1<d)));b=b.next)v||(w=b);v&&(c.a==no&&d==1?R_(c,u):(w?(d=w,d.next==c.f&&(c.f=d),d.next=d.next.next):P_(c),L_(c,v,zr,u)))}i.c=null}else ro(i,zr,u)}function md(i,u){i.b||i.a!=Vu&&i.a!=zr||D_(i),i.f?i.f.next=u:i.b=u,i.f=u}function N_(i,u,c,d){var v=pd(null,null,null);return v.a=new je(function(w,b){v.g=u?function(S){try{var j=u.call(d,S);w(j)}catch(W){b(W)}}:w,v.b=c?function(S){try{var j=c.call(d,S);j===void 0&&S instanceof fs?b(S):w(j)}catch(W){b(W)}}:b}),v.a.c=i,md(i,v),v.a}e.$c=function(i){this.a=no,ro(this,Vu,i)},e.ad=function(i){this.a=no,ro(this,zr,i)};function ro(i,u,c){i.a==no&&(i===c&&(u=zr,c=new TypeError("Promise cannot resolve to itself")),i.a=1,O_(c,i.$c,i.ad,i)||(i.i=c,i.a=u,i.c=null,D_(i),u!=zr||c instanceof fs||WC(i,c)))}function O_(i,u,c,d){if(i instanceof je)return md(i,pd(u||m,c||null,d)),!0;if(Oe(i))return i.then(u,c,d),!0;if(T(i))try{var v=i.then;if(I(v))return zC(i,v,u,c,d),!0}catch(w){return c.call(d,w),!0}return!1}function zC(i,u,c,d,v){function w(j){S||(S=!0,d.call(v,j))}function b(j){S||(S=!0,c.call(v,j))}var S=!1;try{u.call(i,b,w)}catch(j){w(j)}}function D_(i){i.h||(i.h=!0,Bc(i.gc,i))}function P_(i){var u=null;return i.b&&(u=i.b,i.b=u.next,u.next=null),i.b||(i.f=null),u}e.gc=function(){for(var i;i=P_(this);)L_(this,i,this.a,this.i);this.h=!1};function L_(i,u,c,d){if(c==zr&&u.b&&!u.c)for(;i&&i.g;i=i.c)i.g=!1;if(u.a)u.a.c=null,M_(u,c,d);else try{u.c?u.g.call(u.f):M_(u,c,d)}catch(v){F_.call(null,v)}lt(k_,u)}function M_(i,u,c){u==Vu?i.g.call(i.f,c):i.b&&i.b.call(i.f,c)}function WC(i,u){i.g=!0,Bc(function(){i.g&&F_.call(null,u)})}var F_=E_;function fs(i){we.call(this,i)}L(fs,we),fs.prototype.name="cancel";function Hc(){this.ya=this.ya,this.pa=this.pa}var XC=0;Hc.prototype.ya=!1;function V_(i){!i.ya&&(i.ya=!0,i.Da(),XC!=0)&&E(i)}Hc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var YC=Object.freeze||function(i){return i},U_=!cr||9<=Number(di),QC=cr&&!__("9"),JC=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,u=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",m,u),f.removeEventListener("test",m,u)}catch{}return i}();function xn(i,u){this.type=i,this.b=this.target=u,this.defaultPrevented=!1}xn.prototype.preventDefault=function(){this.defaultPrevented=!0};function io(i,u){if(xn.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var c=this.type=i.type,d=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=u,u=i.relatedTarget){if(v_){e:{try{ud(u.nodeName);var v=!0;break e}catch{}v=!1}v||(u=null)}}else c=="mouseover"?u=i.fromElement:c=="mouseout"&&(u=i.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:ZC[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}L(io,xn);var ZC=YC({2:"touch",3:"pen",4:"mouse"});io.prototype.preventDefault=function(){io.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,QC)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},io.prototype.g=function(){return this.a};var Uu="closure_listenable_"+(1e6*Math.random()|0),ex=0;function tx(i,u,c,d,v){this.listener=i,this.proxy=null,this.src=u,this.type=c,this.capture=!!d,this.Wa=v,this.key=++ex,this.wa=this.Qa=!1}function $c(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function Kc(i){this.src=i,this.a={},this.b=0}Kc.prototype.add=function(i,u,c,d,v){var w=i.toString();i=this.a[w],i||(i=this.a[w]=[],this.b++);var b=vd(i,u,d,v);return-1<b?(u=i[b],c||(u.Qa=!1)):(u=new tx(u,this.src,w,!!d,v),u.Qa=c,i.push(u)),u};function gd(i,u){var c=u.type;c in i.a&&q(i.a[c],u)&&($c(u),i.a[c].length==0&&(delete i.a[c],i.b--))}function vd(i,u,c,d){for(var v=0;v<i.length;++v){var w=i[v];if(!w.wa&&w.listener==u&&w.capture==!!c&&w.Wa==d)return v}return-1}var yd="closure_lm_"+(1e6*Math.random()|0),_d={};function er(i,u,c,d,v){if(d&&d.once)wd(i,u,c,d,v);else if(Array.isArray(u))for(var w=0;w<u.length;w++)er(i,u[w],c,d,v);else c=Id(c),i&&i[Uu]?K_(i,u,c,T(d)?!!d.capture:!!d,v):j_(i,u,c,!1,d,v)}function j_(i,u,c,d,v,w){if(!u)throw Error("Invalid event type");var b=T(v)?!!v.capture:!!v,S=Gc(i);if(S||(i[yd]=S=new Kc(i)),c=S.add(u,c,d,b,w),!c.proxy)if(d=nx(),c.proxy=d,d.src=i,d.listener=c,i.addEventListener)JC||(v=b),v===void 0&&(v=!1),i.addEventListener(u.toString(),d,v);else if(i.attachEvent)i.attachEvent(q_(u.toString()),d);else if(i.addListener&&i.removeListener)i.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function nx(){var i=rx,u=U_?function(c){return i.call(u.src,u.listener,c)}:function(c){if(c=i.call(u.src,u.listener,c),!c)return c};return u}function wd(i,u,c,d,v){if(Array.isArray(u))for(var w=0;w<u.length;w++)wd(i,u[w],c,d,v);else c=Id(c),i&&i[Uu]?Ed(i,u,c,T(d)?!!d.capture:!!d,v):j_(i,u,c,!0,d,v)}function jn(i,u,c,d,v){if(Array.isArray(u))for(var w=0;w<u.length;w++)jn(i,u[w],c,d,v);else d=T(d)?!!d.capture:!!d,c=Id(c),i&&i[Uu]?(i=i.v,u=String(u).toString(),u in i.a&&(w=i.a[u],c=vd(w,c,d,v),-1<c&&($c(w[c]),Array.prototype.splice.call(w,c,1),w.length==0&&(delete i.a[u],i.b--)))):i&&(i=Gc(i))&&(u=i.a[u.toString()],i=-1,u&&(i=vd(u,c,d,v)),(c=-1<i?u[i]:null)&&B_(c))}function B_(i){if(typeof i!="number"&&i&&!i.wa){var u=i.src;if(u&&u[Uu])gd(u.v,i);else{var c=i.type,d=i.proxy;u.removeEventListener?u.removeEventListener(c,d,i.capture):u.detachEvent?u.detachEvent(q_(c),d):u.addListener&&u.removeListener&&u.removeListener(d),(c=Gc(u))?(gd(c,i),c.b==0&&(c.src=null,u[yd]=null)):$c(i)}}}function q_(i){return i in _d?_d[i]:_d[i]="on"+i}function H_(i,u,c,d){var v=!0;if((i=Gc(i))&&(u=i.a[u.toString()]))for(u=u.concat(),i=0;i<u.length;i++){var w=u[i];w&&w.capture==c&&!w.wa&&(w=$_(w,d),v=v&&w!==!1)}return v}function $_(i,u){var c=i.listener,d=i.Wa||i.src;return i.Qa&&B_(i),c.call(d,u)}function rx(i,u){if(i.wa)return!0;if(!U_){if(!u)e:{u=["window","event"];for(var c=f,d=0;d<u.length;d++)if(c=c[u[d]],c==null){u=null;break e}u=c}if(d=u,u=new io(d,this),c=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var v=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{v=!0}(v||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],v=u.b;v;v=v.parentNode)d.push(v);for(i=i.type,v=d.length-1;0<=v;v--){u.b=d[v];var w=H_(d[v],i,!0,u);c=c&&w}for(v=0;v<d.length;v++)u.b=d[v],w=H_(d[v],i,!1,u),c=c&&w}return c}return $_(i,new io(u,this))}function Gc(i){return i=i[yd],i instanceof Kc?i:null}var bd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Id(i){return I(i)?i:(i[bd]||(i[bd]=function(u){return i.handleEvent(u)}),i[bd])}function vn(){Hc.call(this),this.v=new Kc(this),this.bc=this,this.hb=null}L(vn,Hc),vn.prototype[Uu]=!0,vn.prototype.addEventListener=function(i,u,c,d){er(this,i,u,c,d)},vn.prototype.removeEventListener=function(i,u,c,d){jn(this,i,u,c,d)},vn.prototype.dispatchEvent=function(i){var u,c=this.hb;if(c)for(u=[];c;c=c.hb)u.push(c);c=this.bc;var d=i.type||i;if(typeof i=="string")i=new xn(i,c);else if(i instanceof xn)i.target=i.target||c;else{var v=i;i=new xn(d,c),Gt(i,v)}if(v=!0,u)for(var w=u.length-1;0<=w;w--){var b=i.b=u[w];v=zc(b,d,!0,i)&&v}if(b=i.b=c,v=zc(b,d,!0,i)&&v,v=zc(b,d,!1,i)&&v,u)for(w=0;w<u.length;w++)b=i.b=u[w],v=zc(b,d,!1,i)&&v;return v},vn.prototype.Da=function(){if(vn.bb.Da.call(this),this.v){var i=this.v,u;for(u in i.a){for(var c=i.a[u],d=0;d<c.length;d++)$c(c[d]);delete i.a[u],i.b--}}this.hb=null};function K_(i,u,c,d,v){i.v.add(String(u),c,!1,d,v)}function Ed(i,u,c,d,v){i.v.add(String(u),c,!0,d,v)}function zc(i,u,c,d){if(u=i.v.a[String(u)],!u)return!0;u=u.concat();for(var v=!0,w=0;w<u.length;++w){var b=u[w];if(b&&!b.wa&&b.capture==c){var S=b.listener,j=b.Wa||b.src;b.Qa&&gd(i.v,b),v=S.call(j,d)!==!1&&v}}return v&&!d.defaultPrevented}function Td(i,u,c){if(I(i))c&&(i=P(i,c));else if(i&&typeof i.handleEvent=="function")i=P(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:f.setTimeout(i,u||0)}function hs(i){var u=null;return new je(function(c,d){u=Td(function(){c(void 0)},i),u==-1&&d(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(u),c})}function G_(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(_(i)){for(var u=[],c=i.length,d=0;d<c;d++)u.push(i[d]);return u}u=[],c=0;for(d in i)u[c++]=i[d];return u}function z_(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(_(i)||typeof i=="string"){var u=[];i=i.length;for(var c=0;c<i;c++)u.push(c);return u}u=[],c=0;for(var d in i)u[c++]=d;return u}}function ix(i,u){if(i.forEach&&typeof i.forEach=="function")i.forEach(u,void 0);else if(_(i)||typeof i=="string")ee(i,u,void 0);else for(var c=z_(i),d=G_(i),v=d.length,w=0;w<v;w++)u.call(void 0,d[w],c&&c[w],i)}function ds(i,u){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(i)if(i instanceof ds)for(c=i.Y(),d=0;d<c.length;d++)this.set(c[d],i.get(c[d]));else for(d in i)this.set(d,i[d])}e=ds.prototype,e.X=function(){Ad(this);for(var i=[],u=0;u<this.a.length;u++)i.push(this.b[this.a[u]]);return i},e.Y=function(){return Ad(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Ad(i){if(i.c!=i.a.length){for(var u=0,c=0;u<i.a.length;){var d=i.a[u];oo(i.b,d)&&(i.a[c++]=d),u++}i.a.length=c}if(i.c!=i.a.length){var v={};for(c=u=0;u<i.a.length;)d=i.a[u],oo(v,d)||(i.a[c++]=d,v[d]=1),u++;i.a.length=c}}e.get=function(i,u){return oo(this.b,i)?this.b[i]:u},e.set=function(i,u){oo(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=u},e.forEach=function(i,u){for(var c=this.Y(),d=0;d<c.length;d++){var v=c[d],w=this.get(v);i.call(u,w,v,this)}};function oo(i,u){return Object.prototype.hasOwnProperty.call(i,u)}var W_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ox(i,u){if(i){i=i.split("&");for(var c=0;c<i.length;c++){var d=i[c].indexOf("="),v=null;if(0<=d){var w=i[c].substring(0,d);v=i[c].substring(d+1)}else w=i[c];u(w,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function pi(i,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;i instanceof pi?(this.i=u!==void 0?u:i.i,ju(this,i.c),this.l=i.l,this.a=i.a,Bu(this,i.g),this.f=i.f,Sd(this,J_(i.b)),this.h=i.h):i&&(c=String(i).match(W_))?(this.i=!!u,ju(this,c[1]||"",!0),this.l=qu(c[2]||""),this.a=qu(c[3]||"",!0),Bu(this,c[4]),this.f=qu(c[5]||"",!0),Sd(this,c[6]||"",!0),this.h=qu(c[7]||"")):(this.i=!!u,this.b=new so(null,this.i))}pi.prototype.toString=function(){var i=[],u=this.c;u&&i.push(Hu(u,X_,!0),":");var c=this.a;return(c||u=="file")&&(i.push("//"),(u=this.l)&&i.push(Hu(u,X_,!0),"@"),i.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&i.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&i.push("/"),i.push(Hu(c,c.charAt(0)=="/"?ax:ux,!0))),(c=this.b.toString())&&i.push("?",c),(c=this.h)&&i.push("#",Hu(c,lx)),i.join("")},pi.prototype.resolve=function(i){var u=new pi(this),c=!!i.c;c?ju(u,i.c):c=!!i.l,c?u.l=i.l:c=!!i.a,c?u.a=i.a:c=i.g!=null;var d=i.f;if(c)Bu(u,i.g);else if(c=!!i.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var v=u.f.lastIndexOf("/");v!=-1&&(d=u.f.substr(0,v+1)+d)}if(v=d,v==".."||v==".")d="";else if(ce(v,"./")||ce(v,"/.")){d=v.lastIndexOf("/",0)==0,v=v.split("/");for(var w=[],b=0;b<v.length;){var S=v[b++];S=="."?d&&b==v.length&&w.push(""):S==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),d&&b==v.length&&w.push("")):(w.push(S),d=!0)}d=w.join("/")}else d=v}return c?u.f=d:c=i.b.toString()!=="",c?Sd(u,J_(i.b)):c=!!i.h,c&&(u.h=i.h),u};function ju(i,u,c){i.c=c?qu(u,!0):u,i.c&&(i.c=i.c.replace(/:$/,""))}function Bu(i,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);i.g=u}else i.g=null}function Sd(i,u,c){u instanceof so?(i.b=u,fx(i.b,i.i)):(c||(u=Hu(u,cx)),i.b=new so(u,i.i))}function At(i,u,c){i.b.set(u,c)}function tr(i,u){return i.b.get(u)}function Rn(i){return i instanceof pi?new pi(i):new pi(i,void 0)}function Wc(i,u,c,d){var v=new pi(null,void 0);return i&&ju(v,i),u&&(v.a=u),c&&Bu(v,c),d&&(v.f=d),v}function qu(i,u){return i?u?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Hu(i,u,c){return typeof i=="string"?(i=encodeURI(i).replace(u,sx),c&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function sx(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var X_=/[#\/\?@]/g,ux=/[#\?:]/g,ax=/[#\?]/g,cx=/[#\?@]/g,lx=/#/g;function so(i,u){this.b=this.a=null,this.c=i||null,this.f=!!u}function mi(i){i.a||(i.a=new ds,i.b=0,i.c&&ox(i.c,function(u,c){i.add(decodeURIComponent(u.replace(/\+/g," ")),c)}))}function Y_(i){var u=z_(i);if(typeof u>"u")throw Error("Keys are undefined");var c=new so(null,void 0);i=G_(i);for(var d=0;d<u.length;d++){var v=u[d],w=i[d];Array.isArray(w)?Q_(c,v,w):c.add(v,w)}return c}e=so.prototype,e.add=function(i,u){mi(this),this.c=null,i=ps(this,i);var c=this.a.get(i);return c||this.a.set(i,c=[]),c.push(u),this.b+=1,this};function Cr(i,u){mi(i),u=ps(i,u),oo(i.a.b,u)&&(i.c=null,i.b-=i.a.get(u).length,i=i.a,oo(i.b,u)&&(delete i.b[u],i.c--,i.a.length>2*i.c&&Ad(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function kd(i,u){return mi(i),u=ps(i,u),oo(i.a.b,u)}e.forEach=function(i,u){mi(this),this.a.forEach(function(c,d){ee(c,function(v){i.call(u,v,d,this)},this)},this)},e.Y=function(){mi(this);for(var i=this.a.X(),u=this.a.Y(),c=[],d=0;d<u.length;d++)for(var v=i[d],w=0;w<v.length;w++)c.push(u[d]);return c},e.X=function(i){mi(this);var u=[];if(typeof i=="string")kd(this,i)&&(u=ne(u,this.a.get(ps(this,i))));else{i=this.a.X();for(var c=0;c<i.length;c++)u=ne(u,i[c])}return u},e.set=function(i,u){return mi(this),this.c=null,i=ps(this,i),kd(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[u]),this.b+=1,this},e.get=function(i,u){return i?(i=this.X(i),0<i.length?String(i[0]):u):u};function Q_(i,u,c){Cr(i,u),0<c.length&&(i.c=null,i.a.set(ps(i,u),ae(c)),i.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],u=this.a.Y(),c=0;c<u.length;c++){var d=u[c],v=encodeURIComponent(String(d));d=this.X(d);for(var w=0;w<d.length;w++){var b=v;d[w]!==""&&(b+="="+encodeURIComponent(String(d[w]))),i.push(b)}}return this.c=i.join("&")};function J_(i){var u=new so;return u.c=i.c,i.a&&(u.a=new ds(i.a),u.b=i.b),u}function ps(i,u){return u=String(u),i.f&&(u=u.toLowerCase()),u}function fx(i,u){u&&!i.f&&(mi(i),i.c=null,i.a.forEach(function(c,d){var v=d.toLowerCase();d!=v&&(Cr(this,d),Q_(this,v,c))},i)),i.f=u}function Z_(i){var u=[];return Cd(new hx,i,u),u.join("")}function hx(){}function Cd(i,u,c){if(u==null)c.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var d=u;u=d.length,c.push("[");for(var v="",w=0;w<u;w++)c.push(v),Cd(i,d[w],c),v=",";c.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{c.push("{"),v="";for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(w=u[d],typeof w!="function"&&(c.push(v),t0(d,c),c.push(":"),Cd(i,w,c),v=","));c.push("}");return}}switch(typeof u){case"string":t0(u,c);break;case"number":c.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":c.push(String(u));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var e0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},dx=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function t0(i,u){u.push('"',i.replace(dx,function(c){var d=e0[c];return d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),e0[c]=d),d}),'"')}function xd(){var i=zt();return cr&&!!di&&di==11||/Edge\/\d+/.test(i)}function $u(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function n0(i,u){u=u||f.window;var c="about:blank";i&&(c=Vc(l_(i)||h_)),u.location.href=c}function r0(i,u){var c=[],d;for(d in i)d in u?typeof i[d]!=typeof u[d]?c.push(d):typeof i[d]=="object"&&i[d]!=null&&u[d]!=null?0<r0(i[d],u[d]).length&&c.push(d):i[d]!==u[d]&&c.push(d):c.push(d);for(d in u)d in i||c.push(d);return c}function px(){var i=zt();return i=ms(i)!=u0?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!cr||!di||9<di}function i0(i){return i=(i||zt()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function uo(i){i=i||f.window;try{i.close()}catch{}}function o0(i,u,c){var d=Math.floor(1e9*Math.random()).toString();u=u||500,c=c||600;var v=(window.screen.availHeight-c)/2,w=(window.screen.availWidth-u)/2;u={width:u,height:c,top:0<v?v:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=zt().toLowerCase(),d&&(u.target=d,ce(c,"crios/")&&(u.target="_blank")),ms(zt())==Od&&(i=i||"http://localhost",u.scrollbars=!0),c=i||"",(i=u)||(i={}),d=window,u=c instanceof Cn?c:l_(typeof c.href<"u"?c.href:String(c))||h_,c=i.target||c.target,v=[];for(b in i)switch(b){case"width":case"height":case"top":case"left":v.push(b+"="+i[b]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(b+"="+(i[b]?1:0))}var b=v.join(",");if((wt("iPhone")&&!wt("iPod")&&!wt("iPad")||wt("iPad")||wt("iPod"))&&d.navigator&&d.navigator.standalone&&c&&c!="_self"?(b=jc(document,"A"),i_(b,"HTMLAnchorElement"),u=u instanceof Cn?u:f_(u),b.href=Vc(u),b.setAttribute("target",c),i.noreferrer&&b.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,d,1),b.dispatchEvent(i),b={}):i.noreferrer?(b=p_("",d,c,b),i=Vc(u),b&&(VC&&ce(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),b.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+sd(i)+'">',i=(d=s_())?d.createHTML(i):i,i=new ls(i,null,d_),d=b.document)&&(d.write(PC(i)),d.close())):(b=p_(u,d,c,b))&&i.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function mx(i){return new je(function(u){function c(){hs(2e3).then(function(){if(!i||i.closed)u();else return c()})}return c()})}var gx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vx=/^[^@]+@[^@]+$/;function Xc(){var i=null;return new je(function(u){f.document.readyState=="complete"?u():(i=function(){u()},wd(window,"load",i))}).o(function(u){throw jn(window,"load",i),u})}function yx(){return Rd(void 0)?Xc().then(function(){return new je(function(i,u){var c=f.document,d=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(d),i()},!1)})}):ft(Error("Cordova must run in an Android or iOS file scheme."))}function Rd(i){return i=i||zt(),!(vs()!=="file:"&&vs()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nd(){var i=f.window;try{return!(!i||i==i.top)}catch{return!1}}function lr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function xr(){return Te.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Te.INTERNAL.hasOwnProperty("node")?"Node":lr()?"Worker":"Browser"}function s0(){var i=xr();return i==="ReactNative"||i==="Node"}function _x(){for(var i=50,u=[];0<i;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return u.join("")}var Od="Firefox",u0="Chrome";function ms(i){var u=i.toLowerCase();if(ce(u,"opera/")||ce(u,"opr/")||ce(u,"opios/"))return"Opera";if(ce(u,"iemobile"))return"IEMobile";if(ce(u,"msie")||ce(u,"trident/"))return"IE";if(ce(u,"edge/"))return"Edge";if(ce(u,"firefox/"))return Od;if(ce(u,"silk/"))return"Silk";if(ce(u,"blackberry"))return"Blackberry";if(ce(u,"webos"))return"Webos";if(!ce(u,"safari/")||ce(u,"chrome/")||ce(u,"crios/")||ce(u,"android"))if(!ce(u,"chrome/")&&!ce(u,"crios/")||ce(u,"edge/")){if(ce(u,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return u0;else return"Safari";return"Other"}var a0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function gs(i,u){u=u||[];var c=[],d={},v;for(v in a0)d[a0[v]]=!0;for(v=0;v<u.length;v++)typeof d[u[v]]<"u"&&(delete d[u[v]],c.push(u[v]));return c.sort(),u=c,u.length||(u=["FirebaseCore-web"]),c=xr(),c==="Browser"?(d=zt(),c=ms(d)):c==="Worker"&&(d=zt(),c=ms(d)+"-"+c),c+"/JsCore/"+i+"/"+u.join(",")}function zt(){return f.navigator&&f.navigator.userAgent||""}function ht(i,u){i=i.split("."),u=u||f;for(var c=0;c<i.length&&typeof u=="object"&&u!=null;c++)u=u[i[c]];return c!=i.length&&(u=void 0),u}function Dd(){try{var i=f.localStorage,u=co();if(i)return i.setItem(u,"1"),i.removeItem(u),xd()?!!f.indexedDB:!0}catch{return lr()&&!!f.indexedDB}return!1}function ao(){return(Yc()||vs()==="chrome-extension:"||Rd())&&!s0()&&Dd()&&!lr()}function Yc(){return vs()==="http:"||vs()==="https:"}function vs(){return f.location&&f.location.protocol||null}function Ku(i){return i=i||zt(),!(i0(i)||ms(i)==Od)}function Gu(i){return typeof i>"u"?null:Z_(i)}function c0(i){var u={},c;for(c in i)i.hasOwnProperty(c)&&i[c]!==null&&i[c]!==void 0&&(u[c]=i[c]);return u}function ys(i){if(i!==null)return JSON.parse(i)}function co(i){return i||Math.floor(1e9*Math.random()).toString()}function l0(i){return i=i||zt(),!(ms(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function f0(){var i=f.___jsl;if(i&&i.H){for(var u in i.H)if(i.H[u].r=i.H[u].r||[],i.H[u].L=i.H[u].L||[],i.H[u].r=i.H[u].L.concat(),i.CP)for(var c=0;c<i.CP.length;c++)i.CP[c]=null}}function gi(i,u){if(i>u)throw Error("Short delay should be less than long delay!");this.a=i,this.c=u,i=zt(),u=xr(),this.b=i0(i)||u==="ReactNative"}gi.prototype.get=function(){var i=f.navigator;return!(i&&typeof i.onLine=="boolean"&&(Yc()||vs()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Pd(){var i=f.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function wx(){var i=f.document,u=null;return Pd()||!i?ye():new je(function(c){u=function(){Pd()&&(i.removeEventListener("visibilitychange",u,!1),c())},i.addEventListener("visibilitychange",u,!1)}).o(function(c){throw i.removeEventListener("visibilitychange",u,!1),c})}function zu(i){try{var u=new Date(parseInt(i,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(i))return u.toUTCString()}catch{}return null}function h0(){return!(!ht("fireauth.oauthhelper",f)&&!ht("fireauth.iframe",f))}function bx(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function Ix(){var i=f.navigator;return i&&i.serviceWorker?ye().then(function(){return i.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):ye(null)}var d0={};function Ld(i){d0[i]||(d0[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var Md;try{var Fd={};Object.defineProperty(Fd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Fd,"abcd",{configurable:!0,enumerable:!0,value:2}),Md=Fd.abcd==2}catch{Md=!1}function me(i,u,c){Md?Object.defineProperty(i,u,{configurable:!0,enumerable:!0,value:c}):i[u]=c}function yn(i,u){if(u)for(var c in u)u.hasOwnProperty(c)&&me(i,c,u[c])}function Rr(i){var u={};return yn(u,i),u}function Ex(i){var u={},c;for(c in i)i.hasOwnProperty(c)&&(u[c]=i[c]);return u}function Tx(i,u){if(!u||!u.length)return!0;if(!i)return!1;for(var c=0;c<u.length;c++){var d=i[u[c]];if(d==null||d==="")return!1}return!0}function Vd(i){var u=i;if(typeof i=="object"&&i!=null){u="length"in i?[]:{};for(var c in i)me(u,c,Vd(i[c]))}return u}function Ud(i){var u=i&&(i[Hd]?"phone":null);if(u&&i&&i[qd]){me(this,"uid",i[qd]),me(this,"displayName",i[p0]||null);var c=null;i[Bd]&&(c=new Date(i[Bd]).toUTCString()),me(this,"enrollmentTime",c),me(this,"factorId",u)}else throw new C("internal-error","Internal assert: invalid MultiFactorInfo object")}Ud.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function jd(i){try{var u=new Wu(i)}catch{u=null}return u}var p0="displayName",Bd="enrolledAt",qd="mfaEnrollmentId",Hd="phoneInfo";function Wu(i){Ud.call(this,i),me(this,"phoneNumber",i[Hd])}L(Wu,Ud),Wu.prototype.w=function(){var i=Wu.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function Ax(i){var u={},c=i[Sx],d=i[Cx],v=i[xx];if(i=jd(i[kx]),!v||v!=Qc&&v!=Xu&&!c||v==Xu&&!d||v==$d&&!i)throw Error("Invalid checkActionCode response!");v==Xu?(u[g0]=c||null,u[v0]=c||null,u[m0]=d):(u[g0]=d||null,u[v0]=d||null,u[m0]=c||null),u[Rx]=i||null,me(this,Ox,v),me(this,Nx,Vd(u))}var $d="REVERT_SECOND_FACTOR_ADDITION",Qc="EMAIL_SIGNIN",Xu="VERIFY_AND_CHANGE_EMAIL",Sx="email",kx="mfaInfo",Cx="newEmail",xx="requestType",m0="email",g0="fromEmail",Rx="multiFactorInfo",v0="previousEmail",Nx="data",Ox="operation";function Kd(i){i=Rn(i);var u=tr(i,y0)||null,c=tr(i,_0)||null,d=tr(i,w0)||null;if(d=d&&Mx[d]||null,!u||!c||!d)throw new C("argument-error",y0+", "+_0+"and "+w0+" are required in a valid action code URL.");yn(this,{apiKey:u,operation:d,code:c,continueUrl:tr(i,Dx)||null,languageCode:tr(i,Px)||null,tenantId:tr(i,Lx)||null})}var y0="apiKey",_0="oobCode",Dx="continueUrl",Px="languageCode",w0="mode",Lx="tenantId",Mx={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:$d,signIn:Qc,verifyAndChangeEmail:Xu,verifyEmail:"VERIFY_EMAIL"};function b0(i){try{return new Kd(i)}catch{return null}}function Jc(i){var u=i[Fx];if(typeof u>"u")throw new C("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new C("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var c=i[I0];if(c&&typeof c=="object"){u=c[k0];var d=c[A0];if(c=c[S0],typeof u=="string"&&u.length){if(this.a=u,typeof d<"u"&&typeof d!="boolean")throw new C("argument-error",A0+" property must be a boolean when specified.");if(this.g=!!d,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new C("argument-error",S0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof u<"u")throw new C("argument-error",k0+" property must be a non empty string when specified.");if(typeof d<"u"||typeof c<"u")throw new C("missing-android-pkg-name")}}else if(typeof c<"u")throw new C("argument-error",I0+" property must be a non null object when specified.");if(this.f=null,(u=i[T0])&&typeof u=="object"){if(u=u[C0],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new C("argument-error",C0+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new C("argument-error",T0+" property must be a non null object when specified.");if(u=i[Gd],typeof u<"u"&&typeof u!="boolean")throw new C("argument-error",Gd+" property must be a boolean when specified.");if(this.c=!!u,i=i[E0],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new C("argument-error",E0+" property must be a non empty string when specified.");this.i=i||null}var I0="android",E0="dynamicLinkDomain",Gd="handleCodeInApp",T0="iOS",Fx="url",A0="installApp",S0="minimumVersion",k0="packageName",C0="bundleId";function Zc(i){var u={};u.continueUrl=i.h,u.canHandleCodeInApp=i.c,(u.androidPackageName=i.a)&&(u.androidMinimumVersion=i.b,u.androidInstallApp=i.g),u.iOSBundleId=i.f,u.dynamicLinkDomain=i.i;for(var c in u)u[c]===null&&delete u[c];return u}function Vx(i){return Ae(i,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var Yu=null;function Ux(i){var u=[];return jx(i,function(c){u.push(c)}),u}function jx(i,u){function c(j){for(;d<i.length;){var W=i.charAt(d++),Re=Yu[W];if(Re!=null)return Re;if(!/^[\s\xa0]*$/.test(W))throw Error("Unknown base64 encoding at char: "+W)}return j}Bx();for(var d=0;;){var v=c(-1),w=c(0),b=c(64),S=c(64);if(S===64&&v===-1)break;u(v<<2|w>>4),b!=64&&(u(w<<4&240|b>>2),S!=64&&u(b<<6&192|S))}}function Bx(){if(!Yu){Yu={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var d=i.concat(u[c].split("")),v=0;v<d.length;v++){var w=d[v];Yu[w]===void 0&&(Yu[w]=v)}}}function el(i){var u=x0(i);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=i,this.a=u.exp,this.i=u.sub,i=Date.now()/1e3,this.g=u.iat||(i>this.a?this.a:i),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}el.prototype.T=function(){return this.f},el.prototype.l=function(){return this.c},el.prototype.toString=function(){return this.h};function tl(i){try{return new el(i)}catch{return null}}function x0(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var u=(4-i.length%4)%4,c=0;c<u;c++)i+=".";try{var d=Ux(i);for(i=[],c=u=0;u<d.length;){var v=d[u++];if(128>v)i[c++]=String.fromCharCode(v);else if(191<v&&224>v){var w=d[u++];i[c++]=String.fromCharCode((v&31)<<6|w&63)}else if(239<v&&365>v){w=d[u++];var b=d[u++],S=d[u++],j=((v&7)<<18|(w&63)<<12|(b&63)<<6|S&63)-65536;i[c++]=String.fromCharCode(55296+(j>>10)),i[c++]=String.fromCharCode(56320+(j&1023))}else w=d[u++],b=d[u++],i[c++]=String.fromCharCode((v&15)<<12|(w&63)<<6|b&63)}return JSON.parse(i.join(""))}catch{}return null}var R0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),nl=["client_id","response_type","scope","redirect_uri","state"],zd={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:nl},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:nl},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:nl},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:R0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Wd(i){for(var u in zd)if(zd[u].fa==i)return zd[u];return null}function N0(i){var u={};u["facebook.com"]=D0,u["google.com"]=L0,u["github.com"]=P0,u["twitter.com"]=M0;var c=i&&i[O0];try{if(c)return u[c]?new u[c](i):new Nr(i);if(typeof i[Xd]<"u")return new Yd(i)}catch{}return null}var Xd="idToken",O0="providerId";function Yd(i){var u=i[O0];if(!u&&i[Xd]){var c=tl(i[Xd]);c&&c.b&&(u=c.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),c=!1,typeof i.isNewUser<"u"?c=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),me(this,"providerId",u),me(this,"isNewUser",c)}function Nr(i){Yd.call(this,i),i=ys(i.rawUserInfo||"{}"),me(this,"profile",Vd(i||{}))}L(Nr,Yd);function D0(i){if(Nr.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}L(D0,Nr);function P0(i){if(Nr.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");me(this,"username",this.profile&&this.profile.login||null)}L(P0,Nr);function L0(i){if(Nr.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}L(L0,Nr);function M0(i){if(Nr.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");me(this,"username",i.screenName||null)}L(M0,Nr);function F0(i){var u=Rn(i),c=tr(u,"link"),d=tr(Rn(c),"link");return u=tr(u,"deep_link_id"),tr(Rn(u),"link")||u||d||c||i}function rl(i,u){if(!i&&!u)throw new C("internal-error","Internal assert: no raw session string available");if(i&&u)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=u||null,this.type=this.a?Qu:il}var Qu="enroll",il="signin";rl.prototype.Ha=function(){return this.a?ye(this.a):ye(this.b)},rl.prototype.w=function(){return this.type==Qu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function _s(){}_s.prototype.ka=function(){},_s.prototype.b=function(){},_s.prototype.c=function(){},_s.prototype.w=function(){};function ws(i,u){return i.then(function(c){if(c[dr]){var d=tl(c[dr]);if(!d||u!=d.i)throw new C("user-mismatch");return c}throw new C("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==ie+"user-not-found"?new C("user-mismatch"):c})}function lo(i,u){if(u)this.a=u;else throw new C("internal-error","failed to construct a credential");me(this,"providerId",i),me(this,"signInMethod",i)}lo.prototype.ka=function(i){return wp(i,Qd(this))},lo.prototype.b=function(i,u){var c=Qd(this);return c.idToken=u,bp(i,c)},lo.prototype.c=function(i,u){return ws(Ip(i,Qd(this)),u)};function Qd(i){return{pendingToken:i.a,requestUri:"http://localhost"}}lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function qx(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new lo(i.providerId,i.pendingToken)}catch{}return null}function Wr(i,u,c){if(this.a=null,u.idToken||u.accessToken)u.idToken&&me(this,"idToken",u.idToken),u.accessToken&&me(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&me(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)me(this,"accessToken",u.oauthToken),me(this,"secret",u.oauthTokenSecret);else throw new C("internal-error","failed to construct a credential");me(this,"providerId",i),me(this,"signInMethod",c)}Wr.prototype.ka=function(i){return wp(i,Jd(this))},Wr.prototype.b=function(i,u){var c=Jd(this);return c.idToken=u,bp(i,c)},Wr.prototype.c=function(i,u){var c=Jd(this);return ws(Ip(i,c),u)};function Jd(i){var u={};return i.idToken&&(u.id_token=i.idToken),i.accessToken&&(u.access_token=i.accessToken),i.secret&&(u.oauth_token_secret=i.secret),u.providerId=i.providerId,i.nonce&&!i.a&&(u.nonce=i.nonce),u={postBody:Y_(u).toString(),requestUri:"http://localhost"},i.a&&(delete u.postBody,u.pendingToken=i.a),u}Wr.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function Hx(i){if(i&&i.providerId&&i.signInMethod){var u={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new Wr(i.providerId,u,i.signInMethod)}catch{}}return null}function fo(i,u){this.Qc=u||[],yn(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(Wd(i)||{}).Ja||null,this.pb=null}fo.prototype.Ka=function(i){return this.Jb=bt(i),this};function V0(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');fo.call(this,i,[])}L(V0,fo);function Bn(i){fo.call(this,i,nl),this.a=[]}L(Bn,fo),Bn.prototype.Ca=function(i){return M(this.a,i)||this.a.push(i),this},Bn.prototype.Rb=function(){return ae(this.a)},Bn.prototype.credential=function(i,u){var c;if(T(i)?c={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:c={idToken:i||null,accessToken:u||null},!c.idToken&&!c.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new Wr(this.providerId,c,this.providerId)};function ho(){Bn.call(this,"facebook.com")}L(ho,Bn),me(ho,"PROVIDER_ID","facebook.com"),me(ho,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function U0(i){if(!i)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=i;return T(i)&&(u=i.accessToken),new ho().credential({accessToken:u})}function po(){Bn.call(this,"github.com")}L(po,Bn),me(po,"PROVIDER_ID","github.com"),me(po,"GITHUB_SIGN_IN_METHOD","github.com");function j0(i){if(!i)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=i;return T(i)&&(u=i.accessToken),new po().credential({accessToken:u})}function mo(){Bn.call(this,"google.com"),this.Ca("profile")}L(mo,Bn),me(mo,"PROVIDER_ID","google.com"),me(mo,"GOOGLE_SIGN_IN_METHOD","google.com");function B0(i,u){var c=i;return T(i)&&(c=i.idToken,u=i.accessToken),new mo().credential({idToken:c,accessToken:u})}function bs(){fo.call(this,"twitter.com",R0)}L(bs,fo),me(bs,"PROVIDER_ID","twitter.com"),me(bs,"TWITTER_SIGN_IN_METHOD","twitter.com");function q0(i,u){var c=i;if(T(c)||(c={oauthToken:i,oauthTokenSecret:u}),!c.oauthToken||!c.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Wr("twitter.com",c,"twitter.com")}function vi(i,u,c){this.a=i,this.f=u,me(this,"providerId","password"),me(this,"signInMethod",c===nr.EMAIL_LINK_SIGN_IN_METHOD?nr.EMAIL_LINK_SIGN_IN_METHOD:nr.EMAIL_PASSWORD_SIGN_IN_METHOD)}vi.prototype.ka=function(i){return this.signInMethod==nr.EMAIL_LINK_SIGN_IN_METHOD?Be(i,kR,{email:this.a,oobCode:this.f}):Be(i,gw,{email:this.a,password:this.f})},vi.prototype.b=function(i,u){return this.signInMethod==nr.EMAIL_LINK_SIGN_IN_METHOD?Be(i,CR,{idToken:u,email:this.a,oobCode:this.f}):Be(i,mw,{idToken:u,email:this.a,password:this.f})},vi.prototype.c=function(i,u){return ws(this.ka(i),u)},vi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function $x(i){return i&&i.email&&i.password?new vi(i.email,i.password,i.signInMethod):null}function nr(){yn(this,{providerId:"password",isOAuthProvider:!1})}function H0(i,u){if(u=Zd(u),!u)throw new C("argument-error","Invalid email link!");return new vi(i,u.code,nr.EMAIL_LINK_SIGN_IN_METHOD)}function Zd(i){return i=F0(i),(i=b0(i))&&i.operation===Qc?i:null}yn(nr,{PROVIDER_ID:"password"}),yn(nr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),yn(nr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function yi(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new C("internal-error");this.a=i,me(this,"providerId","phone"),this.fa="phone",me(this,"signInMethod","phone")}yi.prototype.ka=function(i){return i.gb(Ju(this))},yi.prototype.b=function(i,u){var c=Ju(this);return c.idToken=u,Be(i,WR,c)},yi.prototype.c=function(i,u){var c=Ju(this);return c.operation="REAUTH",i=Be(i,XR,c),ws(i,u)},yi.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function Kx(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var u={};return ee(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){i[c]&&(u[c]=i[c])}),new yi(u)}return null}function Ju(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function Xr(i){try{this.a=i||Te.auth()}catch{throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}yn(this,{providerId:"phone",isOAuthProvider:!1})}Xr.prototype.gb=function(i,u){var c=this.a.a;return ye(u.verify()).then(function(d){if(typeof d!="string")throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var v=T(i)?i.session:null,w=T(i)?i.phoneNumber:i,b;return v&&v.type==Qu?b=v.Ha().then(function(S){return yR(c,{idToken:S,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:d}})}):v&&v.type==il?b=v.Ha().then(function(S){return _R(c,{mfaPendingCredential:S,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):b=vR(c,{phoneNumber:w,recaptchaToken:d}),b.then(function(S){return typeof u.reset=="function"&&u.reset(),S},function(S){throw typeof u.reset=="function"&&u.reset(),S});default:throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function $0(i,u){if(!i)throw new C("missing-verification-id");if(!u)throw new C("missing-verification-code");return new yi({fb:i,eb:u})}yn(Xr,{PROVIDER_ID:"phone"}),yn(Xr,{PHONE_SIGN_IN_METHOD:"phone"});function ep(i){if(i.temporaryProof&&i.phoneNumber)return new yi({La:i.temporaryProof,ea:i.phoneNumber});var u=i&&i.providerId;if(!u||u==="password")return null;var c=i&&i.oauthAccessToken,d=i&&i.oauthTokenSecret,v=i&&i.nonce,w=i&&i.oauthIdToken,b=i&&i.pendingToken;try{switch(u){case"google.com":return B0(w,c);case"facebook.com":return U0(c);case"github.com":return j0(c);case"twitter.com":return q0(c,d);default:return c||d||w||b?b?u.indexOf("saml.")==0?new lo(u,b):new Wr(u,{pendingToken:b,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},u):new Bn(u).credential({idToken:w,accessToken:c,rawNonce:v}):null}}catch{return null}}function tp(i){if(!i.isOAuthProvider)throw new C("invalid-oauth-provider")}function fr(i,u,c,d,v,w,b){if(this.c=i,this.b=u||null,this.g=c||null,this.f=d||null,this.i=w||null,this.h=b||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}else throw new C("invalid-auth-event")}fr.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},fr.prototype.T=function(){return this.h},fr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function K0(i){return i=i||{},i.type?new fr(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&Ee(i.error),i.postBody,i.tenantId):null}function Gx(){this.b=null,this.a=[]}var np=null;function zx(i){var u=np;u.a.push(i),u.b||(u.b=function(c){for(var d=0;d<u.a.length;d++)u.a[d](c)},i=ht("universalLinks.subscribe",f),typeof i=="function"&&i(null,u.b))}function rp(i){var u="unauthorized-domain",c=void 0,d=Rn(i);i=d.a,d=d.c,d=="chrome-extension"?c=m_("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):d=="http"||d=="https"?c=m_("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):u="operation-not-supported-in-this-environment",C.call(this,u,c)}L(rp,C);function Zu(i,u,c){C.call(this,i,c),i=u||{},i.Kb&&me(this,"email",i.Kb),i.ea&&me(this,"phoneNumber",i.ea),i.credential&&me(this,"credential",i.credential),i.$b&&me(this,"tenantId",i.$b)}L(Zu,C),Zu.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Gt(i,u),i},Zu.prototype.toJSON=function(){return this.w()};function ol(i){if(i.code){var u=i.code||"";u.indexOf(ie)==0&&(u=u.substring(ie.length));var c={credential:ep(i),$b:i.tenantId};if(i.email)c.Kb=i.email;else if(i.phoneNumber)c.ea=i.phoneNumber;else if(!c.credential)return new C(u,i.message||void 0);return new Zu(u,c,i.message)}return null}function ea(){}ea.prototype.c=null;function G0(i){return i.c||(i.c=i.b())}var ip;function sl(){}L(sl,ea),sl.prototype.a=function(){var i=z0(this);return i?new ActiveXObject(i):new XMLHttpRequest},sl.prototype.b=function(){var i={};return z0(this)&&(i[0]=!0,i[1]=!0),i};function z0(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<u.length;c++){var d=u[c];try{return new ActiveXObject(d),i.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}ip=new sl;function ul(){}L(ul,ea),ul.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new W0;throw Error("Unsupported browser")},ul.prototype.b=function(){return{}};function W0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=P(this.qc,this),this.a.onerror=P(this.Tb,this),this.a.onprogress=P(this.rc,this),this.a.ontimeout=P(this.vc,this)}e=W0.prototype,e.open=function(i,u,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(i,u)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,op(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",op(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,op(this,1)};function op(i,u){i.readyState=u,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function sp(i,u,c){this.reset(i,u,c,void 0,void 0)}sp.prototype.a=null,sp.prototype.reset=function(i,u,c,d,v){delete this.a};function up(i){this.f=i,this.b=this.c=this.a=null}function ta(i,u){this.name=i,this.value=u}ta.prototype.toString=function(){return this.name};var X0=new ta("SEVERE",1e3),ap=new ta("WARNING",900),Wx=new ta("CONFIG",700),Xx=new ta("FINE",500);function Y0(i){return i.c?i.c:i.a?Y0(i.a):(mt("Root logger has no level set."),null)}up.prototype.log=function(i,u,c){if(i.value>=Y0(this).value)for(I(u)&&(u=u()),i=new sp(i,String(u),this.f),c&&(i.a=c),c=this;c;)c=c.a};var cp={},al=null;function lp(i){al||(al=new up(""),cp[""]=al,al.c=Wx);var u;if(!(u=cp[i])){u=new up(i);var c=i.lastIndexOf("."),d=i.substr(c+1);c=lp(i.substr(0,c)),c.b||(c.b={}),c.b[d]=u,u.a=c,cp[i]=u}return u}function rr(i,u){i&&i.log(Xx,u,void 0)}function cl(i){this.f=i}L(cl,ea),cl.prototype.a=function(){return new ll(this.f)},cl.prototype.b=function(i){return function(){return i}}({});function ll(i){vn.call(this),this.u=i,this.h=void 0,this.readyState=fp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=lp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}L(ll,vn);var fp=0;e=ll.prototype,e.open=function(i,u){if(this.readyState!=fp)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=u,this.readyState=1,ra(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(u.body=i),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,na(this)),this.readyState=fp},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,ra(this)),this.a&&(this.readyState=3,ra(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,Q0(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Q0(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}e.pc=function(i){if(this.a){var u=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});u&&(this.response=this.responseText+=u),i.done?na(this):ra(this),this.readyState==3&&Q0(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,na(this))},e.sc=function(i){this.a&&(this.response=i,na(this))},e.Va=function(i){var u=this.i;u&&u.log(ap,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&na(this)};function na(i){i.readyState=4,i.g=null,i.c=null,i.m=null,ra(i)}e.setRequestHeader=function(i,u){this.l.append(i,u)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(ap,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(ap,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var u=this.b.entries(),c=u.next();!c.done;)c=c.value,i.push(c[0]+": "+c[1]),c=u.next();return i.join(`\r
`)};function ra(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(ll.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function ia(i){vn.call(this),this.headers=new ds,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=J0,this.u=this.S=!1}L(ia,vn);var J0="";ia.prototype.b=lp("goog.net.XhrIo");var Yx=/^https?$/i,Qx=["POST","PUT"];function Jx(i,u,c,d,v){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+u);c=c?c.toUpperCase():"GET",i.l=u,i.h="",i.P=c,i.J=!1,i.c=!0,i.a=i.D?i.D.a():ip.a(),i.C=i.D?G0(i.D):G0(ip),i.a.onreadystatechange=P(i.Wb,i);try{rr(i.b,Yr(i,"Opening Xhr")),i.N=!0,i.a.open(c,String(u),!0),i.N=!1}catch(b){rr(i.b,Yr(i,"Error opening Xhr: "+b.message)),Z0(i,b);return}u=d||"";var w=new ds(i.headers);v&&ix(v,function(b,S){w.set(S,b)}),v=x(w.Y()),d=f.FormData&&u instanceof f.FormData,!M(Qx,c)||v||d||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(b,S){this.a.setRequestHeader(S,b)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{nw(i),0<i.g&&(i.u=Zx(i.a),rr(i.b,Yr(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=P(i.Ma,i)):i.s=Td(i.Ma,i.g,i)),rr(i.b,Yr(i,"Sending request")),i.i=!0,i.a.send(u),i.i=!1}catch(b){rr(i.b,Yr(i,"Send error: "+b.message)),Z0(i,b)}}function Zx(i){return cr&&__(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function eR(i){return i.toLowerCase()=="content-type"}e=ia.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",rr(this.b,Yr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Z0(i,u){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=u,ew(i),fl(i)}function ew(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(rr(this.b,Yr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),fl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),fl(this,!0)),ia.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?tw(this):this.Jc())},e.Jc=function(){tw(this)};function tw(i){if(i.c&&typeof l<"u"){if(i.C[1]&&oa(i)==4&&hl(i)==2)rr(i.b,Yr(i,"Local request error detected and ignored"));else if(i.i&&oa(i)==4)Td(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),oa(i)==4){rr(i.b,Yr(i,"Request complete")),i.c=!1;try{var u=hl(i);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var v;if(v=u===0){var w=String(i.l).match(W_)[1]||null;if(!w&&f.self&&f.self.location){var b=f.self.location.protocol;w=b.substr(0,b.length-1)}v=!Yx.test(w?w.toLowerCase():"")}d=v}if(d)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var S=2<oa(i)?i.a.statusText:""}catch(j){rr(i.b,"Can not get status: "+j.message),S=""}i.h=S+" ["+hl(i)+"]",ew(i)}}finally{fl(i)}}}}function fl(i,u){if(i.a){nw(i);var c=i.a,d=i.C[0]?m:null;i.a=null,i.C=null,u||i.dispatchEvent("ready");try{c.onreadystatechange=d}catch(v){(i=i.b)&&i.log(X0,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function nw(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function oa(i){return i.a?i.a.readyState:0}function hl(i){try{return 2<oa(i)?i.a.status:-1}catch{return-1}}function tR(i){try{return i.a?i.a.responseText:""}catch(u){return rr(i.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case J0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(X0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return rr(this.b,"Can not get response: "+u.message),null}};function Yr(i,u){return u+" ["+i.P+" "+i.l+" "+hl(i)+"]"}function go(i){var u=iR;this.g=[],this.u=u,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}go.prototype.cancel=function(i){if(this.a)this.c instanceof go&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,i?u.cancel(i):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new ua,dl(this),sa(this,!1,i))}},go.prototype.m=function(i,u){this.i=!1,sa(this,i,u)};function sa(i,u,c){i.a=!0,i.c=c,i.f=!u,iw(i)}function dl(i){if(i.a){if(!i.v)throw new pl;i.v=!1}}function nR(i,u){hp(i,null,u,void 0)}function hp(i,u,c,d){i.g.push([u,c,d]),i.a&&iw(i)}go.prototype.then=function(i,u,c){var d,v,w=new je(function(b,S){d=b,v=S});return hp(this,d,function(b){b instanceof ua?w.cancel():v(b)}),w.then(i,u,c)},go.prototype.$goog_Thenable=!0;function rw(i){return A(i.g,function(u){return I(u[1])})}function iw(i){if(i.h&&i.a&&rw(i)){var u=i.h,c=ml[u];c&&(f.clearTimeout(c.a),delete ml[u]),i.h=0}i.b&&(i.b.l--,delete i.b),u=i.c;for(var d=c=!1;i.g.length&&!i.i;){var v=i.g.shift(),w=v[0],b=v[1];if(v=v[2],w=i.f?b:w)try{var S=w.call(v||i.s,u);S!==void 0&&(i.f=i.f&&(S==u||S instanceof Error),i.c=u=S),(Oe(u)||typeof f.Promise=="function"&&u instanceof f.Promise)&&(d=!0,i.i=!0)}catch(j){u=j,i.f=!0,rw(i)||(c=!0)}}i.c=u,d&&(S=P(i.m,i,!0),d=P(i.m,i,!1),u instanceof go?(hp(u,S,d),u.C=!0):u.then(S,d)),c&&(u=new ow(u),ml[u.a]=u,i.h=u.a)}function pl(){we.call(this)}L(pl,we),pl.prototype.message="Deferred has already fired",pl.prototype.name="AlreadyCalledError";function ua(){we.call(this)}L(ua,we),ua.prototype.message="Deferred was canceled",ua.prototype.name="CanceledError";function ow(i){this.a=f.setTimeout(P(this.c,this),0),this.b=i}ow.prototype.c=function(){throw delete ml[this.a],this.b};var ml={};function dp(i){var u={},c=u.document||document,d=u_(i).toString(),v=jc(document,"SCRIPT"),w={Xb:v,Ma:void 0},b=new go(w),S=null,j=u.timeout!=null?u.timeout:5e3;return 0<j&&(S=window.setTimeout(function(){gl(v,!0);var W=new pp(sR,"Timeout reached for loading script "+d);dl(b),sa(b,!1,W)},j),w.Ma=S),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(gl(v,u.xd||!1,S),dl(b),sa(b,!0,null))},v.onerror=function(){gl(v,!0,S);var W=new pp(oR,"Error while loading script "+d);dl(b),sa(b,!1,W)},w=u.attributes||{},Gt(w,{type:"text/javascript",charset:"UTF-8"}),b_(v,w),LC(v,i),rR(c).appendChild(v),b}function rR(i){var u;return(u=(i||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:i.documentElement}function iR(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&gl(i,!0,this.Ma)}}function gl(i,u,c){c!=null&&f.clearTimeout(c),i.onload=m,i.onerror=m,i.onreadystatechange=m,u&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var oR=0,sR=1;function pp(i,u){var c="Jsloader error (code #"+i+")";u&&(c+=": "+u),we.call(this,c),this.code=i}L(pp,we);function vl(i){this.f=i}L(vl,ea),vl.prototype.a=function(){return new this.f},vl.prototype.b=function(){return{}};function hr(i,u,c){if(this.c=i,i=u||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||uR,this.g=bt(i.secureTokenHeaders||aR),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||cR,this.a=bt(i.firebaseHeaders||lR),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=xr()=="Node",c=f.XMLHttpRequest||c&&Te.INTERNAL.node&&Te.INTERNAL.node.XMLHttpRequest,!c&&!lr())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,lr()?this.f=new cl(self):s0()?this.f=new vl(c):this.f=new ul,this.b=null}var mp,dr="idToken",uR=new gi(3e4,6e4),aR={"Content-Type":"application/x-www-form-urlencoded"},cR=new gi(3e4,6e4),lR={"Content-Type":"application/json"};function sw(i,u){u?i.a["X-Firebase-Locale"]=u:delete i.a["X-Firebase-Locale"]}function yl(i,u){u&&(i.l=gp("https://securetoken.googleapis.com/v1/token",u),i.h=gp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),i.i=gp("https://identitytoolkit.googleapis.com/v2/",u))}function gp(i,u){return i=Rn(i),u=Rn(u.url),i.f=i.a+i.f,ju(i,u.c),i.a=u.a,Bu(i,u.g),i.toString()}function uw(i,u){u?(i.a["X-Client-Version"]=u,i.g["X-Client-Version"]=u):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}hr.prototype.T=function(){return this.b};function aw(i,u,c,d,v,w,b){px()||lr()?i=P(i.u,i):(mp||(mp=new je(function(S,j){hR(S,j)})),i=P(i.s,i)),i(u,c,d,v,w,b)}hr.prototype.u=function(i,u,c,d,v,w){if(lr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new ia(this.f);if(w){b.g=Math.max(0,w);var S=setTimeout(function(){b.dispatchEvent("timeout")},w)}K_(b,"complete",function(){S&&clearTimeout(S);var j=null;try{j=JSON.parse(tR(this))||null}catch{j=null}u&&u(j)}),Ed(b,"ready",function(){S&&clearTimeout(S),V_(this)}),Ed(b,"timeout",function(){S&&clearTimeout(S),V_(this),u&&u(null)}),Jx(b,i,c,d,v)};var fR=new kr(Mc,"https://apis.google.com/js/client.js?onload=%{onload}"),cw="__fcb"+Math.floor(1e6*Math.random()).toString();function hR(i,u){if(((window.gapi||{}).client||{}).request)i();else{f[cw]=function(){((window.gapi||{}).client||{}).request?i():u(Error("CORS_UNSUPPORTED"))};var c=od(fR,{onload:cw});nR(dp(c),function(){u(Error("CORS_UNSUPPORTED"))})}}hr.prototype.s=function(i,u,c,d,v){var w=this;mp.then(function(){window.gapi.client.setApiKey(w.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:c,body:d,headers:v,authType:"none",callback:function(S){window.gapi.auth.setToken(b),u&&u(S)}})}).o(function(b){u&&u({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function dR(i,u){return new je(function(c,d){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?aw(i,i.l+"?key="+encodeURIComponent(i.c),function(v){v?v.error?d(Tp(v)):v.access_token&&v.refresh_token?c(v):d(new C("internal-error")):d(new C("network-request-failed"))},"POST",Y_(u).toString(),i.g,i.m.get()):d(new C("internal-error"))})}function lw(i,u,c,d,v,w,b){var S=Rn(u+c);At(S,"key",i.c),b&&At(S,"cb",Date.now().toString());var j=d=="GET";if(j)for(var W in v)v.hasOwnProperty(W)&&At(S,W,v[W]);return new je(function(Re,Ze){aw(i,S.toString(),function(ze){ze?ze.error?Ze(Tp(ze,w||{})):Re(ze):Ze(new C("network-request-failed"))},d,j?void 0:Z_(c0(v)),i.a,i.v.get())})}function vo(i){if(i=i.email,typeof i!="string"||!vx.test(i))throw new C("invalid-email")}function fw(i){"email"in i&&vo(i)}function pR(i,u){return Be(i,TR,{identifier:u,continueUri:Yc()?$u():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function mR(i){return Be(i,MR,{}).then(function(u){return u.authorizedDomains||[]})}function Nn(i){if(!i[dr])throw i.mfaPendingCredential?new C("multi-factor-auth-required",null,bt(i)):new C("internal-error")}function vp(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new C("internal-error")}else{if(!i.sessionInfo)throw new C("missing-verification-id");if(!i.code)throw new C("missing-verification-code")}}hr.prototype.Ab=function(){return Be(this,jR,{})},hr.prototype.Cb=function(i,u){return Be(this,pw,{idToken:i,email:u})},hr.prototype.Db=function(i,u){return Be(this,mw,{idToken:i,password:u})};var gR={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=hr.prototype,e.Eb=function(i,u){var c={idToken:i},d=[];return hi(gR,function(v,w){var b=u[w];b===null?d.push(v):w in u&&(c[w]=b)}),d.length&&(c.deleteAttribute=d),Be(this,pw,c)},e.wb=function(i,u){return i={requestType:"PASSWORD_RESET",email:i},Gt(i,u),Be(this,LR,i)},e.xb=function(i,u){return i={requestType:"EMAIL_SIGNIN",email:i},Gt(i,u),Be(this,OR,i)},e.vb=function(i,u){return i={requestType:"VERIFY_EMAIL",idToken:i},Gt(i,u),Be(this,DR,i)},e.Fb=function(i,u,c){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:u},Gt(i,c),Be(this,PR,i)};function vR(i,u){return Be(i,UR,u)}e.gb=function(i){return Be(this,zR,i)};function yR(i,u){return Be(i,BR,u).then(function(c){return c.phoneSessionInfo.sessionInfo})}function hw(i){if(!i.phoneVerificationInfo)throw new C("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new C("missing-verification-code")}function _R(i,u){return Be(i,qR,u).then(function(c){return c.phoneResponseInfo.sessionInfo})}function wR(i,u,c){return Be(i,SR,{idToken:u,deleteProvider:c})}function yp(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new C("internal-error")}function _p(i,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(i.sessionId?u.nonce=i.sessionId:i.postBody&&(i=new so(i.postBody),kd(i,"nonce")&&(u.nonce=i.get("nonce")))),u}function dw(i){var u=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",u=ol(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",u=ol(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",u=ol(i)):i.errorMessage&&(u=vw(i.errorMessage)),u)throw u;Nn(i)}function wp(i,u){return u.returnIdpCredential=!0,Be(i,HR,u)}function bp(i,u){return u.returnIdpCredential=!0,Be(i,KR,u)}function Ip(i,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Be(i,$R,u)}function Ep(i){if(!i.oobCode)throw new C("invalid-action-code")}e.ob=function(i,u){return Be(this,VR,{oobCode:i,newPassword:u})},e.Sa=function(i){return Be(this,IR,{oobCode:i})},e.kb=function(i){return Be(this,bR,{oobCode:i})};var bR={endpoint:"setAccountInfo",A:Ep,Z:"email",B:!0},IR={endpoint:"resetPassword",A:Ep,G:function(i){var u=i.requestType;if(!u||!i.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new C("internal-error")},B:!0},ER={endpoint:"signupNewUser",A:function(i){if(vo(i),!i.password)throw new C("weak-password")},G:Nn,V:!0,B:!0},TR={endpoint:"createAuthUri",B:!0},AR={endpoint:"deleteAccount",O:["idToken"]},SR={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new C("internal-error")}},kR={endpoint:"emailLinkSignin",O:["email","oobCode"],A:vo,G:Nn,V:!0,B:!0},CR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:vo,G:Nn,V:!0},xR={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:hw,G:Nn,B:!0,Na:!0},RR={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:hw,G:Nn,B:!0,Na:!0},NR={endpoint:"getAccountInfo"},OR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new C("internal-error");vo(i)},Z:"email",B:!0},DR={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new C("internal-error")},Z:"email",B:!0},PR={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new C("internal-error")},Z:"email",B:!0},LR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new C("internal-error");vo(i)},Z:"email",B:!0},MR={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},FR={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new C("internal-error")}},VR={endpoint:"resetPassword",A:Ep,Z:"email",B:!0},UR={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},pw={endpoint:"setAccountInfo",O:["idToken"],A:fw,V:!0},mw={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(fw(i),!i.password)throw new C("weak-password")},G:Nn,V:!0},jR={endpoint:"signupNewUser",G:Nn,V:!0,B:!0},BR={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new C("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},qR={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},HR={endpoint:"verifyAssertion",A:yp,Za:_p,G:dw,V:!0,B:!0},$R={endpoint:"verifyAssertion",A:yp,Za:_p,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new C("user-not-found");if(i.errorMessage)throw vw(i.errorMessage);Nn(i)},V:!0,B:!0},KR={endpoint:"verifyAssertion",A:function(i){if(yp(i),!i.idToken)throw new C("internal-error")},Za:_p,G:dw,V:!0},GR={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new C("invalid-custom-token")},G:Nn,V:!0,B:!0},gw={endpoint:"verifyPassword",A:function(i){if(vo(i),!i.password)throw new C("wrong-password")},G:Nn,V:!0,B:!0},zR={endpoint:"verifyPhoneNumber",A:vp,G:Nn,B:!0},WR={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new C("internal-error");vp(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",ol(i);Nn(i)}},XR={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:vp,G:Nn,B:!0},YR={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[dr]^!!i.refreshToken)throw new C("internal-error")},B:!0,Na:!0};function Be(i,u,c){if(!Tx(c,u.O))return ft(new C("internal-error"));var d=!!u.Na,v=u.Vb||"POST",w;return ye(c).then(u.A).then(function(){return u.V&&(c.returnSecureToken=!0),u.B&&i.b&&typeof c.tenantId>"u"&&(c.tenantId=i.b),d?lw(i,i.i,u.endpoint,v,c,u.Ib,u.mb||!1):lw(i,i.h,u.endpoint,v,c,u.Ib,u.mb||!1)}).then(function(b){return w=b,u.Za?u.Za(c,w):w}).then(u.G).then(function(){if(!u.Z)return w;if(!(u.Z in w))throw new C("internal-error");return w[u.Z]})}function vw(i){return Tp({error:{errors:[{message:i}],code:400,message:i}})}function Tp(i,u){var c=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?new C(d[c]):null)return c;c=i.error&&i.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Gt(d,u||{}),u=(u=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var v in d)if(c.indexOf(v)===0)return new C(d[v],u);return!u&&i&&(u=Gu(i)),new C("internal-error",u)}function QR(i){this.b=i,this.a=null,this.sb=JR(this)}function JR(i){return iN().then(function(){return new je(function(u,c){ht("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:ht("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function v(){clearTimeout(w),u()}i.a=d,i.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){c(Error("Network Error"))},rN.get());d.ping(v).then(v,function(){c(Error("Network Error"))})})})})}function ZR(i,u){return i.sb.then(function(){return new je(function(c){i.a.send(u.type,u,c,ht("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function eN(i,u){i.sb.then(function(){i.a.register("authEvent",u,ht("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var tN=new kr(Mc,"https://apis.google.com/js/api.js?onload=%{onload}"),nN=new gi(3e4,6e4),rN=new gi(5e3,15e3),_l=null;function iN(){return _l||(_l=new je(function(i,u){function c(){f0(),ht("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){f0(),u(Error("Network Error"))},timeout:nN.get()})}if(ht("gapi.iframes.Iframe"))i();else if(ht("gapi.load"))c();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[d]=function(){ht("gapi.load")?c():u(Error("Network Error"))},d=od(tN,{onload:d}),ye(dp(d)).o(function(){u(Error("Network Error"))})}}).o(function(i){throw _l=null,i}))}function yw(i,u,c,d){this.l=i,this.h=u,this.i=c,this.g=d,this.f=null,this.g?(i=Rn(this.g.url),i=Wc(i.c,i.a,i.g,"/emulator/auth/iframe")):i=Wc("https",this.l,null,"/__/auth/iframe"),this.a=i,At(this.a,"apiKey",this.h),At(this.a,"appName",this.i),this.b=null,this.c=[]}yw.prototype.toString=function(){return this.f?At(this.a,"v",this.f):Cr(this.a.b,"v"),this.b?At(this.a,"eid",this.b):Cr(this.a.b,"eid"),this.c.length?At(this.a,"fw",this.c.join(",")):Cr(this.a.b,"fw"),this.a.toString()};function Ap(i,u,c,d,v,w){this.u=i,this.s=u,this.c=c,this.m=d,this.v=w,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}Ap.prototype.zb=function(i){return this.h=i,this},Ap.prototype.toString=function(){if(this.v){var i=Rn(this.v.url);i=Wc(i.c,i.a,i.g,"/emulator/auth/handler")}else i=Wc("https",this.u,null,"/__/auth/handler");if(At(i,"apiKey",this.s),At(i,"appName",this.c),At(i,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var c=Te.app(this.c).auth().la()}catch{c=null}u.pb=c,At(i,"providerId",this.a.providerId),c=this.a,u=c0(c.Jb);for(var d in u)u[d]=u[d].toString();d=c.Qc,u=bt(u);for(var v=0;v<d.length;v++){var w=d[v];w in u&&delete u[w]}c.qb&&c.pb&&!u[c.qb]&&(u[c.qb]=c.pb),Sr(u)||At(i,"customParameters",Gu(u))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&At(i,"scopes",c.join(","))),this.l?At(i,"redirectUrl",this.l):Cr(i.b,"redirectUrl"),this.g?At(i,"eventId",this.g):Cr(i.b,"eventId"),this.i?At(i,"v",this.i):Cr(i.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!tr(i,b)&&At(i,b,this.b[b]);return this.h?At(i,"tid",this.h):Cr(i.b,"tid"),this.f?At(i,"eid",this.f):Cr(i.b,"eid"),b=Sp(this.c),b.length&&At(i,"fw",b.join(",")),i.toString()};function Sp(i){try{return Te.app(i).auth().Ga()}catch{return[]}}function _w(i,u,c,d,v,w){this.s=i,this.g=u,this.b=c,this.f=w,this.c=d||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function ww(i){var u=$u();return mR(i).then(function(c){e:{var d=Rn(u),v=d.c;d=d.a;for(var w=0;w<c.length;w++){var b=c[w],S=d,j=v;if(b.indexOf("chrome-extension://")==0?S=Rn(b).a==S&&j=="chrome-extension":j!="http"&&j!="https"?S=!1:gx.test(b)?S=S==b:(b=b.split(".").join("\\."),S=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(S)),S){c=!0;break e}}c=!1}if(!c)throw new rp($u())})}function bw(i){return i.m||(i.m=Xc().then(function(){if(!i.u){var u=i.c,c=i.i,d=Sp(i.b),v=new yw(i.s,i.g,i.b,i.f);v.f=u,v.b=c,v.c=ae(d||[]),i.u=v.toString()}i.v=new QR(i.u),oN(i)})),i.m}e=_w.prototype,e.Pb=function(i,u,c){var d=new C("popup-closed-by-user"),v=new C("web-storage-unsupported"),w=this,b=!1;return this.ma().then(function(){sN(w).then(function(S){S||(i&&uo(i),u(v),b=!0)})}).o(function(){}).then(function(){if(!b)return mx(i)}).then(function(){if(!b)return hs(c).then(function(){u(d)})})},e.Yb=function(){var i=zt();return!Ku(i)&&!l0(i)},e.Ub=function(){return!1},e.Nb=function(i,u,c,d,v,w,b,S){if(!i)return ft(new C("popup-blocked"));if(b&&!Ku())return this.ma().o(function(W){uo(i),v(W)}),d(),ye();this.a||(this.a=ww(Iw(this)));var j=this;return this.a.then(function(){var W=j.ma().o(function(Re){throw uo(i),v(Re),Re});return d(),W}).then(function(){if(tp(c),!b){var W=aa(j.s,j.g,j.b,u,c,null,w,j.c,void 0,j.i,S,j.f);n0(W,i)}}).o(function(W){throw W.code=="auth/network-request-failed"&&(j.a=null),W})};function Iw(i){return i.l||(i.C=i.c?gs(i.c,Sp(i.b)):null,i.l=new hr(i.g,Me(i.i),i.C),i.f&&yl(i.l,i.f)),i.l}e.Ob=function(i,u,c,d){this.a||(this.a=ww(Iw(this)));var v=this;return this.a.then(function(){tp(u);var w=aa(v.s,v.g,v.b,i,u,$u(),c,v.c,void 0,v.i,d,v.f);n0(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(v.a=null),w})},e.ma=function(){var i=this;return bw(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new C("network-request-failed")})},e.ac=function(){return!0};function aa(i,u,c,d,v,w,b,S,j,W,Re,Ze){return i=new Ap(i,u,c,d,v,Ze),i.l=w,i.g=b,i.i=S,i.b=bt(j||null),i.f=W,i.zb(Re).toString()}function oN(i){if(!i.v)throw Error("IfcHandler must be initialized!");eN(i.v,function(u){var c={};if(u&&u.authEvent){var d=!1;for(u=K0(u.authEvent),c=0;c<i.h.length;c++)d=i.h[c](u)||d;return c={},c.status=d?"ACK":"ERROR",ye(c)}return c.status="ERROR",ye(c)})}function sN(i){var u={type:"webStorageSupport"};return bw(i).then(function(){return ZR(i.v,u)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Ta=function(i){$(this.h,function(u){return u==i})};function Ew(i){if(this.a=i||Te.INTERNAL.reactNative&&Te.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Ew.prototype,e.get=function(i){return ye(this.a.getItem(i)).then(function(u){return u&&ys(u)})},e.set=function(i,u){return ye(this.a.setItem(i,Gu(u)))},e.U=function(i){return ye(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function Tw(i){this.b=i,this.a={},this.f=P(this.c,this)}var Aw=[];function uN(){var i=lr()?self:null;if(ee(Aw,function(c){c.b==i&&(u=c)}),!u){var u=new Tw(i);Aw.push(u)}return u}Tw.prototype.c=function(i){var u=i.data.eventType,c=i.data.eventId,d=this.a[u];if(d&&0<d.length){i.ports[0].postMessage({status:"ack",eventId:c,eventType:u,response:null});var v=[];ee(d,function(w){v.push(ye().then(function(){return w(i.origin,i.data.data)}))}),x_(v).then(function(w){var b=[];ee(w,function(S){b.push({fulfilled:S.Qb,value:S.value,reason:S.reason?S.reason.message:void 0})}),ee(b,function(S){for(var j in S)typeof S[j]>"u"&&delete S[j]}),i.ports[0].postMessage({status:"done",eventId:c,eventType:u,response:b})})}};function Sw(i,u,c){Sr(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[u]>"u"&&(i.a[u]=[]),i.a[u].push(c)}function kw(i){this.a=i}kw.prototype.postMessage=function(i,u){this.a.postMessage(i,u)};function Cw(i){this.c=i,this.b=!1,this.a=[]}function xw(i,u,c,d){var v,w=c||{},b,S,j,W=null;if(i.b)return ft(Error("connection_unavailable"));var Re=d?800:50,Ze=typeof MessageChannel<"u"?new MessageChannel:null;return new je(function(ze,Bt){Ze?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ze.port1.start(),S=setTimeout(function(){Bt(Error("unsupported_event"))},Re),b=function(Qr){Qr.data.eventId===v&&(Qr.data.status==="ack"?(clearTimeout(S),j=setTimeout(function(){Bt(Error("timeout"))},3e3)):Qr.data.status==="done"?(clearTimeout(j),typeof Qr.data.response<"u"?ze(Qr.data.response):Bt(Error("unknown_error"))):(clearTimeout(S),clearTimeout(j),Bt(Error("invalid_response"))))},W={messageChannel:Ze,onMessage:b},i.a.push(W),Ze.port1.addEventListener("message",b),i.c.postMessage({eventType:u,eventId:v,data:w},[Ze.port2])):Bt(Error("connection_unavailable"))}).then(function(ze){return kp(i,W),ze}).o(function(ze){throw kp(i,W),ze})}function kp(i,u){if(u){var c=u.messageChannel,d=u.onMessage;c&&(c.port1.removeEventListener("message",d),c.port1.close()),$(i.a,function(v){return v==u})}}Cw.prototype.close=function(){for(;0<this.a.length;)kp(this,this.a[0]);this.b=!0};function Rw(){if(!Rp())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;lr()&&self?(this.v=uN(),Sw(this.v,"keyChanged",function(u,c){return Dw(i).then(function(d){return 0<d.length&&ee(i.a,function(v){v(d)}),{keyProcessed:M(d,c.key)}})}),Sw(this.v,"ping",function(){return ye(["keyChanged"])})):Ix().then(function(u){(i.h=u)&&(i.g=new Cw(new kw(u)),xw(i.g,"ping",null,!0).then(function(c){c[0].fulfilled&&M(c[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var Cp;function aN(i){return new je(function(u,c){var d=i.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){u()},d.onerror=function(v){c(Error(v.target.error))}})}function Nw(i){return new je(function(u,c){var d=i.m.open("firebaseLocalStorageDb",1);d.onerror=function(v){try{v.preventDefault()}catch{}c(Error(v.target.error))},d.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){c(w)}},d.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?u(v):aN(i).then(function(){return Nw(i)}).then(function(w){u(w)}).o(function(w){c(w)})}})}function xp(i){return i.i||(i.i=Nw(i)),i.i}function wl(i,u){function c(v,w){xp(i).then(u).then(v).o(function(b){if(3<++d)w(b);else return xp(i).then(function(S){return S.close(),i.i=void 0,c(v,w)}).o(function(S){w(S)})})}var d=0;return new je(c)}function Rp(){try{return!!f.indexedDB}catch{return!1}}function ca(i){return i.objectStore("firebaseLocalStorage")}function la(i,u){return i.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function Is(i){return new je(function(u,c){i.onsuccess=function(d){d&&d.target?u(d.target.result):u()},i.onerror=function(d){c(d.target.error)}})}e=Rw.prototype,e.set=function(i,u){var c=this,d=!1;return wl(this,function(v){return v=ca(la(v,!0)),Is(v.get(i))}).then(function(v){return wl(c,function(w){if(w=ca(la(w,!0)),v)return v.value=u,Is(w.put(v));c.b++,d=!0;var b={};return b.fbase_key=i,b.value=u,Is(w.add(b))})}).then(function(){return c.c[i]=u,Ow(c,i)}).oa(function(){d&&c.b--})};function Ow(i,u){return i.g&&i.h&&bx()===i.h?xw(i.g,"keyChanged",{key:u},i.s).then(function(){}).o(function(){}):ye()}e.get=function(i){return wl(this,function(u){return Is(ca(la(u,!1)).get(i))}).then(function(u){return u&&u.value})},e.U=function(i){var u=this,c=!1;return wl(this,function(d){return c=!0,u.b++,Is(ca(la(d,!0)).delete(i))}).then(function(){return delete u.c[i],Ow(u,i)}).oa(function(){c&&u.b--})};function Dw(i){return xp(i).then(function(u){var c=ca(la(u,!1));return c.getAll?Is(c.getAll()):new je(function(d,v){var w=[],b=c.openCursor();b.onsuccess=function(S){(S=S.target.result)?(w.push(S.value),S.continue()):d(w)},b.onerror=function(S){v(S.target.error)}})}).then(function(u){var c={},d=[];if(i.b==0){for(d=0;d<u.length;d++)c[u[d].fbase_key]=u[d].value;d=r0(i.c,c),i.c=c}return d})}e.ca=function(i){this.a.length==0&&cN(this),this.a.push(i)},e.ia=function(i){$(this.a,function(u){return u==i}),this.a.length==0&&Pw(this)};function cN(i){function u(){i.f=setTimeout(function(){i.l=Dw(i).then(function(c){0<c.length&&ee(i.a,function(d){d(c)})}).then(function(){u()}).o(function(c){c.message!="STOP_EVENT"&&u()})},800)}Pw(i),u()}function Pw(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function Lw(i){var u=this,c=null;this.a=[],this.type="indexedDB",this.c=i,this.b=ye().then(function(){if(Rp()){var d=co(),v="__sak"+d;return Cp||(Cp=new Rw),c=Cp,c.set(v,d).then(function(){return c.get(v)}).then(function(w){if(w!==d)throw Error("indexedDB not supported!");return c.U(v)}).then(function(){return c}).o(function(){return u.c})}return u.c}).then(function(d){return u.type=d.type,d.ca(function(v){ee(u.a,function(w){w(v)})}),d})}e=Lw.prototype,e.get=function(i){return this.b.then(function(u){return u.get(i)})},e.set=function(i,u){return this.b.then(function(c){return c.set(i,u)})},e.U=function(i){return this.b.then(function(u){return u.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){$(this.a,function(u){return u==i})};function fa(){this.a={},this.type="inMemory"}e=fa.prototype,e.get=function(i){return ye(this.a[i])},e.set=function(i,u){return this.a[i]=u,ye()},e.U=function(i){return delete this.a[i],ye()},e.ca=function(){},e.ia=function(){};function bl(){if(!lN())throw xr()=="Node"?new C("internal-error","The LocalStorage compatibility library was not found."):new C("web-storage-unsupported");this.a=Mw()||Te.INTERNAL.node.localStorage,this.type="localStorage"}function Mw(){try{var i=f.localStorage,u=co();return i&&(i.setItem(u,"1"),i.removeItem(u)),i}catch{return null}}function lN(){var i=xr()=="Node";if(i=Mw()||i&&Te.INTERNAL.node&&Te.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=bl.prototype,e.get=function(i){var u=this;return ye().then(function(){var c=u.a.getItem(i);return ys(c)})},e.set=function(i,u){var c=this;return ye().then(function(){var d=Gu(u);d===null?c.U(i):c.a.setItem(i,d)})},e.U=function(i){var u=this;return ye().then(function(){u.a.removeItem(i)})},e.ca=function(i){f.window&&er(f.window,"storage",i)},e.ia=function(i){f.window&&jn(f.window,"storage",i)};function Np(){this.type="nullStorage"}e=Np.prototype,e.get=function(){return ye(null)},e.set=function(){return ye()},e.U=function(){return ye()},e.ca=function(){},e.ia=function(){};function Op(){if(!fN())throw xr()=="Node"?new C("internal-error","The SessionStorage compatibility library was not found."):new C("web-storage-unsupported");this.a=Fw()||Te.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Fw(){try{var i=f.sessionStorage,u=co();return i&&(i.setItem(u,"1"),i.removeItem(u)),i}catch{return null}}function fN(){var i=xr()=="Node";if(i=Fw()||i&&Te.INTERNAL.node&&Te.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=Op.prototype,e.get=function(i){var u=this;return ye().then(function(){var c=u.a.getItem(i);return ys(c)})},e.set=function(i,u){var c=this;return ye().then(function(){var d=Gu(u);d===null?c.U(i):c.a.setItem(i,d)})},e.U=function(i){var u=this;return ye().then(function(){u.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function hN(){var i={};i.Browser=dN,i.Node=pN,i.ReactNative=mN,i.Worker=gN,this.a=i[xr()]}var Dp,dN={F:bl,cb:Op},pN={F:bl,cb:Op},mN={F:Ew,cb:Np},gN={F:bl,cb:Np},Es={rd:"local",NONE:"none",td:"session"};function vN(i){var u=new C("invalid-persistence-type"),c=new C("unsupported-persistence-type");e:{for(d in Es)if(Es[d]==i){var d=!0;break e}d=!1}if(!d||typeof i!="string")throw u;switch(xr()){case"ReactNative":if(i==="session")throw c;break;case"Node":if(i!=="none")throw c;break;case"Worker":if(i==="session"||!Rp()&&i!=="none")throw c;break;default:if(!Dd()&&i!=="none")throw c}}function Vw(){var i=!!(!l0(zt())&&Nd()),u=Ku(),c=Dd();this.m=i,this.h=u,this.l=c,this.a={},Dp||(Dp=new hN),i=Dp;try{this.g=!xd()&&h0()||!f.indexedDB?new i.a.F:new Lw(lr()?new fa:new i.a.F)}catch{this.g=new fa,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new fa}this.v=new fa,this.f=P(this.Zb,this),this.b={}}var Pp;function ha(){return Pp||(Pp=new Vw),Pp}function yo(i,u){switch(u){case"session":return i.i;case"none":return i.v;default:return i.g}}function Ts(i,u){return"firebase:"+i.name+(u?":"+u:"")}function yN(i,u,c){var d=Ts(u,c),v=yo(i,u.F);return i.get(u,c).then(function(w){var b=null;try{b=ys(f.localStorage.getItem(d))}catch{}if(b&&!w)return f.localStorage.removeItem(d),i.set(u,b,c);b&&w&&v.type!="localStorage"&&f.localStorage.removeItem(d)})}e=Vw.prototype,e.get=function(i,u){return yo(this,i.F).get(Ts(i,u))};function As(i,u,c){return c=Ts(u,c),u.F=="local"&&(i.b[c]=null),yo(i,u.F).U(c)}e.set=function(i,u,c){var d=Ts(i,c),v=this,w=yo(this,i.F);return w.set(d,u).then(function(){return w.get(d)}).then(function(b){i.F=="local"&&(v.b[d]=b)})},e.addListener=function(i,u,c){i=Ts(i,u),this.l&&(this.b[i]=f.localStorage.getItem(i)),Sr(this.a)&&(yo(this,"local").ca(this.f),this.h||(xd()||!h0())&&f.indexedDB||!this.l||_N(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(c)},e.removeListener=function(i,u,c){i=Ts(i,u),this.a[i]&&($(this.a[i],function(d){return d==c}),this.a[i].length==0&&delete this.a[i]),Sr(this.a)&&(yo(this,"local").ia(this.f),Lp(this))};function _N(i){Lp(i),i.c=setInterval(function(){for(var u in i.a){var c=f.localStorage.getItem(u),d=i.b[u];c!=d&&(i.b[u]=c,c=new io({type:"storage",key:u,target:window,oldValue:d,newValue:c,a:!0}),i.Zb(c))}},1e3)}function Lp(i){i.c&&(clearInterval(i.c),i.c=null)}e.Zb=function(i){if(i&&i.g){var u=i.a.key;if(u==null)for(var c in this.a){var d=this.b[c];typeof d>"u"&&(d=null);var v=f.localStorage.getItem(c);v!==d&&(this.b[c]=v,this.nb(c))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof i.a.a<"u"?yo(this,"local").ia(this.f):Lp(this),this.m){if(c=f.localStorage.getItem(u),d=i.a.newValue,d!==c)d!==null?f.localStorage.setItem(u,d):f.localStorage.removeItem(u);else if(this.b[u]===d&&typeof i.a.a>"u")return}var w=this;c=function(){(typeof i.a.a<"u"||w.b[u]!==f.localStorage.getItem(u))&&(w.b[u]=f.localStorage.getItem(u),w.nb(u))},cr&&di&&di==10&&f.localStorage.getItem(u)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(c,10):c()}}else ee(i,P(this.nb,this))},e.nb=function(i){this.a[i]&&ee(this.a[i],function(u){u()})};function wN(i){this.a=i,this.b=ha()}var Mp={name:"authEvent",F:"local"};function bN(i){return i.b.get(Mp,i.a).then(function(u){return K0(u)})}function IN(){this.a=ha()}function EN(){this.b=-1}function Il(i,u){this.b=Uw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=u,this.l=f.Int32Array?new Int32Array(64):Array(64),El===void 0&&(f.Int32Array?El=new Int32Array(qw):El=qw),this.reset()}var El;L(Il,EN);for(var Uw=64,TN=Uw-1,jw=[],Fp=0;Fp<TN;Fp++)jw[Fp]=0;var Bw=ne(128,jw);Il.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):ae(this.h)};function Vp(i){for(var u=i.f,c=i.l,d=0,v=0;v<u.length;)c[d++]=u[v]<<24|u[v+1]<<16|u[v+2]<<8|u[v+3],v=4*d;for(u=16;64>u;u++){v=c[u-15]|0,d=c[u-2]|0;var w=(c[u-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,b=(c[u-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[u]=w+b|0}d=i.a[0]|0,v=i.a[1]|0;var S=i.a[2]|0,j=i.a[3]|0,W=i.a[4]|0,Re=i.a[5]|0,Ze=i.a[6]|0;for(w=i.a[7]|0,u=0;64>u;u++){var ze=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&v^d&S^v&S)|0;b=W&Re^~W&Ze,w=w+((W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))|0,b=b+(El[u]|0)|0,b=w+(b+(c[u]|0)|0)|0,w=Ze,Ze=Re,Re=W,W=j+b|0,j=S,S=v,v=d,d=b+ze|0}i.a[0]=i.a[0]+d|0,i.a[1]=i.a[1]+v|0,i.a[2]=i.a[2]+S|0,i.a[3]=i.a[3]+j|0,i.a[4]=i.a[4]+W|0,i.a[5]=i.a[5]+Re|0,i.a[6]=i.a[6]+Ze|0,i.a[7]=i.a[7]+w|0}function Up(i,u,c){c===void 0&&(c=u.length);var d=0,v=i.c;if(typeof u=="string")for(;d<c;)i.f[v++]=u.charCodeAt(d++),v==i.b&&(Vp(i),v=0);else if(_(u))for(;d<c;){var w=u[d++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");i.f[v++]=w,v==i.b&&(Vp(i),v=0)}else throw Error("message must be string or array");i.c=v,i.g+=c}var qw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Hw(){Il.call(this,8,AN)}L(Hw,Il);var AN=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function $w(i,u,c,d,v,w){this.v=i,this.i=u,this.l=c,this.m=d||null,this.u=v||null,this.s=w,this.h=u+":"+c,this.C=new IN,this.g=new wN(this.h),this.f=null,this.b=[],this.a=this.c=null}function Tl(i){return new C("invalid-cordova-configuration",i)}e=$w.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=yx().then(function(){if(typeof ht("universalLinks.subscribe",f)!="function")throw Tl("cordova-universal-links-plugin-fix is not installed");if(typeof ht("BuildInfo.packageName",f)>"u")throw Tl("cordova-plugin-buildinfo is not installed");if(typeof ht("cordova.plugins.browsertab.openUrl",f)!="function")throw Tl("cordova-plugin-browsertab is not installed");if(typeof ht("cordova.InAppBrowser.open",f)!="function")throw Tl("cordova-plugin-inappbrowser is not installed")},function(){throw new C("cordova-not-ready")})};function SN(){for(var i=20,u=[];0<i;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return u.join("")}function kN(i){var u=new Hw;Up(u,i),i=[];var c=8*u.g;56>u.c?Up(u,Bw,56-u.c):Up(u,Bw,u.b-(u.c-56));for(var d=63;56<=d;d--)u.f[d]=c&255,c/=256;for(Vp(u),d=c=0;d<u.i;d++)for(var v=24;0<=v;v-=8)i[c++]=u.a[d]>>v&255;return Vx(i)}e.Pb=function(i,u){return u(new C("operation-not-supported-in-this-environment")),ye()},e.Nb=function(){return ft(new C("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(i,u,c,d){if(this.c)return ft(new C("redirect-operation-pending"));var v=this,w=f.document,b=null,S=null,j=null,W=null;return this.c=ye().then(function(){return tp(u),Gw(v)}).then(function(){return CN(v,i,u,c,d)}).then(function(){return new je(function(Re,Ze){S=function(){var ze=ht("cordova.plugins.browsertab.close",f);return Re(),typeof ze=="function"&&ze(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(S),j=function(){b||(b=hs(2e3).then(function(){Ze(new C("redirect-cancelled-by-user"))}))},W=function(){Pd()&&j()},w.addEventListener("resume",j,!1),zt().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",W,!1)}).o(function(Re){return jp(v).then(function(){throw Re})})}).oa(function(){j&&w.removeEventListener("resume",j,!1),W&&w.removeEventListener("visibilitychange",W,!1),b&&b.cancel(),S&&v.Ta(S),v.c=null})};function CN(i,u,c,d,v){var w=SN(),b=new fr(u,d,null,w,new C("no-auth-event"),null,v),S=ht("BuildInfo.packageName",f);if(typeof S!="string")throw new C("invalid-cordova-configuration");var j=ht("BuildInfo.displayName",f),W={};if(zt().toLowerCase().match(/iphone|ipad|ipod/))W.ibi=S;else if(zt().toLowerCase().match(/android/))W.apn=S;else return ft(new C("operation-not-supported-in-this-environment"));j&&(W.appDisplayName=j),w=kN(w),W.sessionId=w;var Re=aa(i.v,i.i,i.l,u,c,null,d,i.m,W,i.u,v,i.s);return i.ma().then(function(){var Ze=i.h;return i.C.a.set(Mp,b.w(),Ze)}).then(function(){var Ze=ht("cordova.plugins.browsertab.isAvailable",f);if(typeof Ze!="function")throw new C("invalid-cordova-configuration");var ze=null;Ze(function(Bt){if(Bt){if(ze=ht("cordova.plugins.browsertab.openUrl",f),typeof ze!="function")throw new C("invalid-cordova-configuration");ze(Re)}else{if(ze=ht("cordova.InAppBrowser.open",f),typeof ze!="function")throw new C("invalid-cordova-configuration");Bt=zt(),i.a=ze(Re,Bt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Bt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Kw(i,u){for(var c=0;c<i.b.length;c++)try{i.b[c](u)}catch{}}function Gw(i){return i.f||(i.f=i.ma().then(function(){return new je(function(u){function c(d){return u(d),i.Ta(c),!1}i.Ea(c),xN(i)})})),i.f}function jp(i){var u=null;return bN(i.g).then(function(c){return u=c,c=i.g,As(c.b,Mp,c.a)}).then(function(){return u})}function xN(i){function u(b){d=!0,v&&v.cancel(),jp(i).then(function(S){var j=c;if(S&&b&&b.url){var W=null;j=F0(b.url),j.indexOf("/__/auth/callback")!=-1&&(W=Rn(j),W=ys(tr(W,"firebaseError")||null),W=(W=typeof W=="object"?Ee(W):null)?new fr(S.c,S.b,null,null,W,null,S.T()):new fr(S.c,S.b,j,S.f,null,null,S.T())),j=W||c}Kw(i,j)})}var c=new fr("unknown",null,null,null,new C("no-auth-event")),d=!1,v=hs(500).then(function(){return jp(i).then(function(){d||Kw(i,c)})}),w=f.handleOpenURL;f.handleOpenURL=function(b){if(b.toLowerCase().indexOf(ht("BuildInfo.packageName",f).toLowerCase()+"://")==0&&u({url:b}),typeof w=="function")try{w(b)}catch(S){console.error(S)}},np||(np=new Gx),zx(u)}e.Ea=function(i){this.b.push(i),Gw(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new fr("unknown",null,null,null,new C("no-auth-event")),i(u))})},e.Ta=function(i){$(this.b,function(u){return u==i})};function RN(i){this.a=i,this.b=ha()}var Bp={name:"pendingRedirect",F:"session"};function NN(i){return i.b.set(Bp,"pending",i.a)}function qp(i){return As(i.b,Bp,i.a)}function ON(i){return i.b.get(Bp,i.a).then(function(u){return u=="pending"})}function Al(i,u,c,d){this.i={},this.u=0,this.D=i,this.v=u,this.m=c,this.J=d,this.h=[],this.f=!1,this.l=P(this.s,this),this.b=new kl,this.C=new nb,this.g=new RN(Zw(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=zw(this.D,this.v,this.m,xe,this.J)}function zw(i,u,c,d,v){var w=Te.SDK_VERSION||null;return Rd()?new $w(i,u,c,w,d,v):new _w(i,u,c,w,d,v)}Al.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=zw(this.D,this.v,this.m,null,this.J),this.i={}};function Ww(i){i.f||(i.f=!0,i.a.Ea(i.l));var u=i.a;return i.a.ma().o(function(c){throw i.a==u&&i.reset(),c})}function Xw(i){i.a.Yb()&&Ww(i).o(function(u){var c=new fr("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));$p(u)&&i.s(c)}),i.a.Ub()||eb(i.b)}function Sl(i,u){M(i.h,u)||i.h.push(u),i.f||ON(i.g).then(function(c){c?qp(i.g).then(function(){Ww(i).o(function(d){var v=new fr("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));$p(d)&&i.s(v)})}):Xw(i)}).o(function(){Xw(i)})}function Hp(i,u){$(i.h,function(c){return c==u})}Al.prototype.s=function(i){if(!i)throw new C("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var u=!1,c=0;c<this.h.length;c++){var d=this.h[c];if(d.Gb(i.c,i.b)){(u=this.c[i.c])&&(u.h(i,d),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),u=!0;break}}return eb(this.b),u};var DN=new gi(2e3,1e4),PN=new gi(3e4,6e4);Al.prototype.ra=function(){return this.b.ra()};function Yw(i,u,c,d,v,w,b){return i.a.Nb(u,c,d,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},v,w,b)}function $p(i){return!!(i&&i.code=="auth/cordova-not-ready")}function Qw(i,u,c,d,v){var w;return NN(i.g).then(function(){return i.a.Ob(u,c,d,v).o(function(b){if($p(b))throw new C("operation-not-supported-in-this-environment");return w=b,qp(i.g).then(function(){throw w})}).then(function(){return i.a.ac()?new je(function(){}):qp(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function Jw(i,u,c,d,v){return i.a.Pb(d,function(w){u.na(c,null,w,v)},DN.get())}var Kp={};function Zw(i,u,c){return i=i+":"+u,c&&(i=i+":"+c.url),i}function Gp(i,u,c,d){var v=Zw(u,c,d);return Kp[v]||(Kp[v]=new Al(i,u,c,d)),Kp[v]}function kl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}kl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},kl.prototype.h=function(i,u){if(i){this.reset(),this.g=!0;var c=i.c,d=i.b,v=i.a&&i.a.code=="auth/web-storage-unsupported",w=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!w),c!="unknown"||v||w?i.a?(_o(this,!0,null,i.a),ye()):u.Fa(c,d)?LN(this,i,u):ft(new C("invalid-auth-event")):(_o(this,!1,null,null),ye())}else ft(new C("invalid-auth-event"))};function eb(i){i.g||(i.g=!0,_o(i,!1,null,null))}function Cl(i){i.g&&!i.i&&_o(i,!1,null,null)}function LN(i,u,c){c=c.Fa(u.c,u.b);var d=u.g,v=u.f,w=u.i,b=u.T(),S=!!u.c.match(/Redirect$/);c(d,v,b,w).then(function(j){_o(i,S,j,null)}).o(function(j){_o(i,S,null,j)})}function MN(i,u){if(i.b=function(){return ft(u)},i.c.length)for(var c=0;c<i.c.length;c++)i.c[c](u)}function tb(i,u){if(i.b=function(){return ye(u)},i.f.length)for(var c=0;c<i.f.length;c++)i.f[c](u)}function _o(i,u,c,d){u?d?MN(i,d):tb(i,c):tb(i,{user:null}),i.f=[],i.c=[]}kl.prototype.ra=function(){var i=this;return new je(function(u,c){i.b?i.b().then(u,c):(i.f.push(u),i.c.push(c),FN(i))})};function FN(i){var u=new C("timeout");i.a&&i.a.cancel(),i.a=hs(PN.get()).then(function(){i.b||(i.g=!0,_o(i,!0,null,u))})}function nb(){}nb.prototype.h=function(i,u){if(i){var c=i.c,d=i.b;i.a?(u.na(i.c,null,i.a,i.b),ye()):u.Fa(c,d)?VN(i,u):ft(new C("invalid-auth-event"))}else ft(new C("invalid-auth-event"))};function VN(i,u){var c=i.b,d=i.c;u.Fa(d,c)(i.g,i.f,i.T(),i.i).then(function(v){u.na(d,v,null,c)}).o(function(v){u.na(d,null,v,c)})}function rb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function zp(i,u){this.a=u,me(this,"verificationId",i)}zp.prototype.confirm=function(i){return i=$0(this.verificationId,i),this.a(i)};function Wp(i,u,c,d){return new Xr(i).gb(u,c).then(function(v){return new zp(v,d)})}function UN(i){var u=x0(i);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");yn(this,{token:i,expirationTime:zu(1e3*u.exp),authTime:zu(1e3*u.auth_time),issuedAtTime:zu(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function Xp(i,u,c){var d=u&&u[ob];if(!d)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=bt(u),this.g=c,this.c=new rl(null,d),this.b=[];var v=this;ee(u[ib]||[],function(w){(w=jd(w))&&v.b.push(w)}),me(this,"auth",this.a),me(this,"session",this.c),me(this,"hints",this.b)}var ib="mfaInfo",ob="mfaPendingCredential";Xp.prototype.Rc=function(i){var u=this;return i.tb(this.a.a,this.c).then(function(c){var d=bt(u.f);return delete d[ib],delete d[ob],Gt(d,c),u.g(d)})};function Yp(i,u,c,d){C.call(this,"multi-factor-auth-required",d,u),this.b=new Xp(i,u,c),me(this,"resolver",this.b)}L(Yp,C);function sb(i,u,c){if(i&&T(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new Yp(u,i.serverResponse,c,i.message)}catch{}return null}function ub(){}ub.prototype.tb=function(i,u,c){return u.type==Qu?jN(this,i,u,c):BN(this,i,u)};function jN(i,u,c,d){return c.Ha().then(function(v){return v={idToken:v},typeof d<"u"&&(v.displayName=d),Gt(v,{phoneVerificationInfo:Ju(i.a)}),Be(u,xR,v)})}function BN(i,u,c){return c.Ha().then(function(d){return d={mfaPendingCredential:d},Gt(d,{phoneVerificationInfo:Ju(i.a)}),Be(u,RR,d)})}function Qp(i){me(this,"factorId",i.fa),this.a=i}L(Qp,ub);function ab(i){if(Qp.call(this,i),this.a.fa!=Xr.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}L(ab,Qp);function Ss(i,u){xn.call(this,i);for(var c in u)this[c]=u[c]}L(Ss,xn);function Jp(i,u){this.a=i,this.b=[],this.c=P(this.yc,this),er(this.a,"userReloaded",this.c);var c=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&ee(u.multiFactor.enrolledFactors,function(d){var v=null,w={};if(d){d.uid&&(w[qd]=d.uid),d.displayName&&(w[p0]=d.displayName),d.enrollmentTime&&(w[Bd]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(w[Hd]=d.phoneNumber);try{v=new Wu(w)}catch{}d=v}else d=null;d&&c.push(d)}),xl(this,c)}function qN(i){var u=[];return ee(i.mfaInfo||[],function(c){(c=jd(c))&&u.push(c)}),u}e=Jp.prototype,e.yc=function(i){xl(this,qN(i.hd))};function xl(i,u){i.b=u,me(i,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(i){return new rl(i,null)})},e.fc=function(i,u){var c=this,d=this.a.a;return this.Sb().then(function(v){return i.tb(d,v,u)}).then(function(v){return Or(c.a,v),c.a.reload()})},e.bd=function(i){var u=this,c=typeof i=="string"?i:i.uid,d=this.a.a;return this.a.I().then(function(v){return Be(d,YR,{idToken:v,mfaEnrollmentId:c})}).then(function(v){var w=Ke(u.b,function(b){return b.uid!=c});return xl(u,w),Or(u.a,v),u.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:Ae(this.b,function(i){return i.w()})}}};function Zp(i,u,c){if(this.h=i,this.i=u,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Zp.prototype.start=function(){this.a=this.c,em(this,!0)};function HN(i,u){return u?(i.a=i.c,i.g()):(u=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),u)}function em(i,u){i.stop(),i.b=hs(HN(i,u)).then(function(){return wx()}).then(function(){return i.h()}).then(function(){em(i,!0)}).o(function(c){i.i(c)&&em(i,!1)})}Zp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function tm(i){this.f=i,this.b=this.a=null,this.c=Date.now()}tm.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function cb(i,u){typeof u>"u"&&(i.b?(u=i.b,u=u.a-u.g):u=0),i.c=Date.now()+1e3*u}function lb(i,u){i.b=tl(u[dr]||""),i.a=u.refreshToken,u=u.expiresIn,cb(i,typeof u<"u"?Number(u):void 0)}function $N(i,u){i.b=u.b,i.a=u.a,i.c=u.c}function KN(i,u){return dR(i.f,u).then(function(c){return i.b=tl(c.access_token),i.a=c.refresh_token,cb(i,c.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(i.a=null),c})}tm.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?ft(new C("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?KN(this,{grant_type:"refresh_token",refresh_token:this.a}):ye(null):ye({accessToken:this.b.toString(),refreshToken:this.a})};function Rl(i,u){this.a=i||null,this.b=u||null,yn(this,{lastSignInTime:zu(u||null),creationTime:zu(i||null)})}function GN(i){return new Rl(i.a,i.b)}Rl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function zN(i,u,c,d,v,w){yn(this,{uid:i,displayName:d||null,photoURL:v||null,email:c||null,phoneNumber:w||null,providerId:u})}function qn(i,u,c){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var d=Te.SDK_VERSION?gs(Te.SDK_VERSION):null;this.a=new hr(this.l,Me(xe),d),(this.u=i.emulatorConfig||null)&&yl(this.a,this.u),this.h=new tm(this.a),am(this,u[dr]),lb(this.h,u),me(this,"refreshToken",this.h.a),hb(this,c||{}),vn.call(this),this.P=!1,this.s&&ao()&&(this.b=Gp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=WN(this),this.ba=P(this.ib,this);var v=this;this.za=null,this.Pa=function(w){v.xa(w.h)},this.qa=null,this.Ba=function(w){nm(v,w.c)},this.$=null,this.aa=[],this.Oa=function(w){da(v,w.f)},this.ja=null,this.S=new Jp(this,c),me(this,"multiFactor",this.S)}L(qn,vn),qn.prototype.xa=function(i){this.za=i,sw(this.a,i)};function nm(i,u){i.u=u,yl(i.a,u),i.b&&(u=i.b,i.b=Gp(i.s,i.l,i.m,i.u),i.P&&(Hp(u,i),Sl(i.b,i)))}qn.prototype.la=function(){return this.za};function rm(i,u){i.qa&&jn(i.qa,"languageCodeChanged",i.Pa),(i.qa=u)&&er(u,"languageCodeChanged",i.Pa)}function im(i,u){i.$&&jn(i.$,"emulatorConfigChanged",i.Ba),(i.$=u)&&er(u,"emulatorConfigChanged",i.Ba)}function da(i,u){i.aa=u,uw(i.a,Te.SDK_VERSION?gs(Te.SDK_VERSION,i.aa):null)}qn.prototype.Ga=function(){return ae(this.aa)};function om(i,u){i.ja&&jn(i.ja,"frameworkChanged",i.Oa),(i.ja=u)&&er(u,"frameworkChanged",i.Oa)}qn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function sm(i){try{return Te.app(i.m).auth()}catch{throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function WN(i){return new Zp(function(){return i.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=i.h.c-Date.now()-3e5;return 0<u?u:0})}function fb(i){i.J||i.D.b||(i.D.start(),jn(i,"tokenChanged",i.ba),er(i,"tokenChanged",i.ba))}function um(i){jn(i,"tokenChanged",i.ba),i.D.stop()}function am(i,u){i.Aa=u,me(i,"_lat",u)}function XN(i,u){$(i.W,function(c){return c==u})}function wo(i){for(var u=[],c=0;c<i.W.length;c++)u.push(i.W[c](i));return x_(u).then(function(){return i})}function pa(i){i.b&&!i.P&&(i.P=!0,Sl(i.b,i))}function hb(i,u){yn(i,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Rl(u.createdAt,u.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}me(qn.prototype,"providerId","firebase");function db(){}function cm(i){return ye().then(function(){if(i.J)throw new C("app-deleted")})}function lm(i){return Ae(i.providerData,function(u){return u.providerId})}function fm(i,u){u&&(pb(i,u.providerId),i.providerData.push(u))}function pb(i,u){$(i.providerData,function(c){return c.providerId==u})}function _i(i,u,c){(u!="uid"||c)&&i.hasOwnProperty(u)&&me(i,u,c)}function Nl(i,u){i!=u&&(yn(i,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?me(i,"metadata",GN(u.metadata)):me(i,"metadata",new Rl),ee(u.providerData,function(c){fm(i,c)}),$N(i.h,u.h),me(i,"refreshToken",i.h.a),xl(i.S,u.S.b))}e=qn.prototype,e.reload=function(){var i=this;return Ft(this,cm(this).then(function(){return hm(i).then(function(){return wo(i)}).then(db)}))};function hm(i){return i.I().then(function(u){var c=i.isAnonymous;return YN(i,u).then(function(){return c||_i(i,"isAnonymous",!1),u})})}e.oc=function(i){return this.I(i).then(function(u){return new UN(u)})},e.I=function(i){var u=this;return Ft(this,cm(this).then(function(){return u.h.getToken(i)}).then(function(c){if(!c)throw new C("internal-error");return c.accessToken!=u.Aa&&(am(u,c.accessToken),u.dispatchEvent(new Ss("tokenChanged"))),_i(u,"refreshToken",c.refreshToken),c.accessToken}))};function Or(i,u){u[dr]&&i.Aa!=u[dr]&&(lb(i.h,u),i.dispatchEvent(new Ss("tokenChanged")),am(i,u[dr]),_i(i,"refreshToken",i.h.a))}function YN(i,u){return Be(i.a,NR,{idToken:u}).then(P(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new C("internal-error");i=i[0],hb(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var u=QN(i),c=0;c<u.length;c++)fm(this,u[c]);_i(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Ss("userReloaded",{hd:i}))};function QN(i){return(i=i.providerUserInfo)&&i.length?Ae(i,function(u){return new zN(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(i){return Ld("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},e.ub=function(i){var u=this,c=null;return Ft(this,i.c(this.a,this.uid).then(function(d){return Or(u,d),c=ma(u,d,"reauthenticate"),u.i=null,u.reload()}).then(function(){return c}),!0)};function Ol(i,u){return hm(i).then(function(){if(M(lm(i),u))return wo(i).then(function(){throw new C("provider-already-linked")})})}e.Cc=function(i){return Ld("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},e.rb=function(i){var u=this,c=null;return Ft(this,Ol(this,i.providerId).then(function(){return u.I()}).then(function(d){return i.b(u.a,d)}).then(function(d){return c=ma(u,d,"link"),mb(u,d)}).then(function(){return c}))},e.Dc=function(i,u){var c=this;return Ft(this,Ol(this,"phone").then(function(){return Wp(sm(c),i,u,P(c.rb,c))}))},e.Mc=function(i,u){var c=this;return Ft(this,ye().then(function(){return Wp(sm(c),i,u,P(c.ub,c))}),!0)};function ma(i,u,c){var d=ep(u);return u=N0(u),Rr({user:i,credential:d,additionalUserInfo:u,operationType:c})}function mb(i,u){return Or(i,u),i.reload().then(function(){return i})}e.Cb=function(i){var u=this;return Ft(this,this.I().then(function(c){return u.a.Cb(c,i)}).then(function(c){return Or(u,c),u.reload()}))},e.ed=function(i){var u=this;return Ft(this,this.I().then(function(c){return i.b(u.a,c)}).then(function(c){return Or(u,c),u.reload()}))},e.Db=function(i){var u=this;return Ft(this,this.I().then(function(c){return u.a.Db(c,i)}).then(function(c){return Or(u,c),u.reload()}))},e.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return cm(this);var u=this;return Ft(this,this.I().then(function(c){return u.a.Eb(c,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(c){return Or(u,c),_i(u,"displayName",c.displayName||null),_i(u,"photoURL",c.photoUrl||null),ee(u.providerData,function(d){d.providerId==="password"&&(me(d,"displayName",u.displayName),me(d,"photoURL",u.photoURL))}),wo(u)}).then(db))},e.cd=function(i){var u=this;return Ft(this,hm(this).then(function(c){return M(lm(u),i)?wR(u.a,c,[i]).then(function(d){var v={};return ee(d.providerUserInfo||[],function(w){v[w.providerId]=!0}),ee(lm(u),function(w){v[w]||pb(u,w)}),v[Xr.PROVIDER_ID]||me(u,"phoneNumber",null),wo(u)}):wo(u).then(function(){throw new C("no-such-provider")})}))},e.delete=function(){var i=this;return Ft(this,this.I().then(function(u){return Be(i.a,AR,{idToken:u})}).then(function(){i.dispatchEvent(new Ss("userDeleted"))})).then(function(){for(var u=0;u<i.N.length;u++)i.N[u].cancel("app-deleted");rm(i,null),im(i,null),om(i,null),i.N=[],i.J=!0,um(i),me(i,"refreshToken",null),i.b&&Hp(i.b,i)})},e.Gb=function(i,u){return!!(i=="linkViaPopup"&&(this.g||null)==u&&this.f||i=="reauthViaPopup"&&(this.g||null)==u&&this.f||i=="linkViaRedirect"&&(this.ga||null)==u||i=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(i,u,c,d){i!="linkViaPopup"&&i!="reauthViaPopup"||d!=(this.g||null)||(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,u){return i=="linkViaPopup"&&u==(this.g||null)?P(this.Lb,this):i=="reauthViaPopup"&&u==(this.g||null)?P(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==u?P(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==u?P(this.Mb,this):null},e.Ec=function(i){var u=this;return gb(this,"linkViaPopup",i,function(){return Ol(u,i.providerId).then(function(){return wo(u)})},!1)},e.Nc=function(i){return gb(this,"reauthViaPopup",i,function(){return ye()},!0)};function gb(i,u,c,d,v){if(!ao())return ft(new C("operation-not-supported-in-this-environment"));if(i.i&&!v)return ft(i.i);var w=Wd(c.providerId),b=co(i.uid+":::"),S=null;(!Ku()||Nd())&&i.s&&c.isOAuthProvider&&(S=aa(i.s,i.l,i.m,u,c,null,b,Te.SDK_VERSION||null,null,null,i.tenantId,i.u));var j=o0(S,w&&w.va,w&&w.ua);return d=d().then(function(){if(yb(i),!v)return i.I().then(function(){})}).then(function(){return Yw(i.b,j,u,c,b,!!S,i.tenantId)}).then(function(){return new je(function(W,Re){i.na(u,null,new C("cancelled-popup-request"),i.g||null),i.f=W,i.C=Re,i.g=b,i.c=Jw(i.b,i,u,j,b)})}).then(function(W){return j&&uo(j),W?Rr(W):null}).o(function(W){throw j&&uo(j),W}),Ft(i,d,v)}e.Fc=function(i){var u=this;return vb(this,"linkViaRedirect",i,function(){return Ol(u,i.providerId)},!1)},e.Oc=function(i){return vb(this,"reauthViaRedirect",i,function(){return ye()},!0)};function vb(i,u,c,d,v){if(!ao())return ft(new C("operation-not-supported-in-this-environment"));if(i.i&&!v)return ft(i.i);var w=null,b=co(i.uid+":::");return d=d().then(function(){if(yb(i),!v)return i.I().then(function(){})}).then(function(){return i.ga=b,wo(i)}).then(function(S){return i.ha&&(S=i.ha,S=S.b.set(dm,i.w(),S.a)),S}).then(function(){return Qw(i.b,u,c,b,i.tenantId)}).o(function(S){if(w=S,i.ha)return wb(i.ha);throw w}).then(function(){if(w)throw w}),Ft(i,d,v)}function yb(i){if(!i.b||!i.P)throw i.b&&!i.P?new C("internal-error"):new C("auth-domain-config-required")}e.Lb=function(i,u,c,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return c=this.I().then(function(b){return bp(v.a,{requestUri:i,postBody:d,sessionId:u,idToken:b})}).then(function(b){return w=ma(v,b,"link"),mb(v,b)}).then(function(){return w}),Ft(this,c)},e.Mb=function(i,u,c,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var w=null,b=ye().then(function(){return ws(Ip(v.a,{requestUri:i,sessionId:u,postBody:d,tenantId:c}),v.uid)}).then(function(S){return w=ma(v,S,"reauthenticate"),Or(v,S),v.i=null,v.reload()}).then(function(){return w});return Ft(this,b,!0)},e.vb=function(i){var u=this,c=null;return Ft(this,this.I().then(function(d){return c=d,typeof i>"u"||Sr(i)?{}:Zc(new Jc(i))}).then(function(d){return u.a.vb(c,d)}).then(function(d){if(u.email!=d)return u.reload()}).then(function(){}))},e.Fb=function(i,u){var c=this,d=null;return Ft(this,this.I().then(function(v){return d=v,typeof u>"u"||Sr(u)?{}:Zc(new Jc(u))}).then(function(v){return c.a.Fb(d,i,v)}).then(function(v){if(c.email!=v)return c.reload()}).then(function(){}))};function Ft(i,u,c){var d=JN(i,u,c);return i.N.push(d),d.oa(function(){q(i.N,d)}),d.o(function(v){var w=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(w=sb(v.w(),sm(i),P(i.jc,i))),w||v})}e.jc=function(i){var u=null,c=this;return i=ws(ye(i),c.uid).then(function(d){return u=ma(c,d,"reauthenticate"),Or(c,d),c.i=null,c.reload()}).then(function(){return u}),Ft(this,i,!0)};function JN(i,u,c){return i.i&&!c?(u.cancel(),ft(i.i)):u.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new Ss("userInvalidated")),i.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Gt(i,this.metadata.w()),ee(this.providerData,function(u){i.providerData.push(Ex(u))}),Gt(i,this.S.w()),i};function _b(i){if(!i.apiKey)return null;var u={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},c={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){c[dr]=i.stsTokenManager.accessToken,c.refreshToken=i.stsTokenManager.refreshToken||null;var d=i.stsTokenManager.expirationTime;d&&(c.expiresIn=(d-Date.now())/1e3)}else return null;var v=new qn(u,c,i);return i.providerData&&ee(i.providerData,function(w){w&&fm(v,Rr(w))}),i.redirectEventId&&(v.ga=i.redirectEventId),v}function ZN(i,u,c,d){var v=new qn(i,u);return c&&(v.ha=c),d&&da(v,d),v.reload().then(function(){return v})}function eO(i,u,c,d){var v=i.h,w={};return w[dr]=v.b&&v.b.toString(),w.refreshToken=v.a,u=new qn(u||{apiKey:i.l,authDomain:i.s,appName:i.m},w),c&&(u.ha=c),d&&da(u,d),Nl(u,i),u}function tO(i){this.a=i,this.b=ha()}var dm={name:"redirectUser",F:"session"};function wb(i){return As(i.b,dm,i.a)}function nO(i,u){return i.b.get(dm,i.a).then(function(c){return c&&u&&(c.authDomain=u),_b(c||{})})}function pm(i){this.a=i,this.b=ha(),this.c=null,this.f=rO(this),this.b.addListener(Dr("local"),this.a,P(this.g,this))}pm.prototype.g=function(){var i=this,u=Dr("local");ks(this,function(){return ye().then(function(){return i.c&&i.c.F!="local"?i.b.get(u,i.a):null}).then(function(c){if(c)return mm(i,"local").then(function(){i.c=u})})})};function mm(i,u){var c=[],d;for(d in Es)Es[d]!==u&&c.push(As(i.b,Dr(Es[d]),i.a));return c.push(As(i.b,gm,i.a)),GC(c)}function rO(i){var u=Dr("local"),c=Dr("session"),d=Dr("none");return yN(i.b,u,i.a).then(function(){return i.b.get(c,i.a)}).then(function(v){return v?c:i.b.get(d,i.a).then(function(w){return w?d:i.b.get(u,i.a).then(function(b){return b?u:i.b.get(gm,i.a).then(function(S){return S?Dr(S):u})})})}).then(function(v){return i.c=v,mm(i,v.F)}).o(function(){i.c||(i.c=u)})}var gm={name:"persistence",F:"session"};function Dr(i){return{name:"authUser",F:i}}pm.prototype.yb=function(i){var u=null,c=this;return vN(i),ks(this,function(){return i!=c.c.F?c.b.get(c.c,c.a).then(function(d){return u=d,mm(c,i)}).then(function(){if(c.c=Dr(i),u)return c.b.set(c.c,u,c.a)}):ye()})};function iO(i){return ks(i,function(){return i.b.set(gm,i.c.F,i.a)})}function bb(i,u){return ks(i,function(){return i.b.set(i.c,u.w(),i.a)})}function Ib(i){return ks(i,function(){return As(i.b,i.c,i.a)})}function Eb(i,u,c){return ks(i,function(){return i.b.get(i.c,i.a).then(function(d){return d&&u&&(d.authDomain=u),d&&c&&(d.emulatorConfig=c),_b(d||{})})})}function ks(i,u){return i.f=i.f.then(u,u),i.f}function pr(i){if(this.l=!1,me(this,"settings",new rb),me(this,"app",i),tt(this).options&&tt(this).options.apiKey)i=Te.SDK_VERSION?gs(Te.SDK_VERSION):null,this.a=new hr(tt(this).options&&tt(this).options.apiKey,Me(xe),i);else throw new C("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Te.INTERNAL.createSubscribe(P(this.zc,this)),this.W=void 0,this.ib=Te.INTERNAL.createSubscribe(P(this.Ac,this)),Cs(this,null),this.i=new pm(tt(this).options.apiKey+":"+tt(this).name),this.D=new tO(tt(this).options.apiKey+":"+tt(this).name),this.$=It(this,lO(this)),this.h=It(this,fO(this)),this.ba=!1,this.ja=P(this.Zc,this),this.Ba=P(this.da,this),this.qa=P(this.mc,this),this.za=P(this.wc,this),this.Aa=P(this.xc,this),this.b=null,uO(this),this.INTERNAL={},this.INTERNAL.delete=P(this.delete,this),this.INTERNAL.logFramework=P(this.Gc,this),this.u=0,vn.call(this),sO(this),this.J=[],this.R=null}L(pr,vn);function Tb(i){xn.call(this,"languageCodeChanged"),this.h=i}L(Tb,xn);function Ab(i){xn.call(this,"emulatorConfigChanged"),this.c=i}L(Ab,xn);function Sb(i){xn.call(this,"frameworkChanged"),this.f=i}L(Sb,xn),e=pr.prototype,e.yb=function(i){return i=this.i.yb(i),It(this,i)},e.xa=function(i){this.aa===i||this.l||(this.aa=i,sw(this.a,this.aa),this.dispatchEvent(new Tb(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,u){if(!this.R){if(!/^https?:\/\//.test(i))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,oO(u),this.R={url:i,ec:u},this.settings.jb=!0,yl(this.a,this.R),this.dispatchEvent(new Ab(this.R))}};function oO(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&Xc().then(function(){var u=f.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),f.document.body.appendChild(u)})}e.Gc=function(i){this.J.push(i),uw(this.a,Te.SDK_VERSION?gs(Te.SDK_VERSION,this.J):null),this.dispatchEvent(new Sb(this.J))},e.Ga=function(){return ae(this.J)},e.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function sO(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var u=Rn(this.R.url);u=Rr({protocol:u.c,host:u.a,port:u.g,options:Rr({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:tt(this).options.apiKey,authDomain:tt(this).options.authDomain,appName:tt(this).name,currentUser:Pe(this)&&Pe(this).w()}};function vm(i){return i.Oa||ft(new C("auth-domain-config-required"))}function uO(i){var u=tt(i).options.authDomain,c=tt(i).options.apiKey;u&&ao()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=Gp(u,c,tt(i).name,i.R),Sl(i.b,i),Pe(i)&&pa(Pe(i)),i.m){pa(i.m);var d=i.m;d.xa(i.la()),rm(d,i),d=i.m,da(d,i.J),om(d,i),d=i.m,nm(d,i.R),im(d,i),i.m=null}return i.b}}))}e.Gb=function(i,u){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(i,u,c,d){i=="signInViaPopup"&&this.g==d&&(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,u){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==u&&this.f?P(this.ic,this):null},e.ic=function(i,u,c,d){var v=this,w={requestUri:i,postBody:d,sessionId:u,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return bo(v,wp(v.a,w))})},e.Xc=function(i){if(!ao())return ft(new C("operation-not-supported-in-this-environment"));var u=this,c=Wd(i.providerId),d=co(),v=null;(!Ku()||Nd())&&tt(this).options.authDomain&&i.isOAuthProvider&&(v=aa(tt(this).options.authDomain,tt(this).options.apiKey,tt(this).name,"signInViaPopup",i,null,d,Te.SDK_VERSION||null,null,null,this.T(),this.R));var w=o0(v,c&&c.va,c&&c.ua);return c=vm(this).then(function(b){return Yw(b,w,"signInViaPopup",i,d,!!v,u.T())}).then(function(){return new je(function(b,S){u.na("signInViaPopup",null,new C("cancelled-popup-request"),u.g),u.f=b,u.C=S,u.g=d,u.c=Jw(u.b,u,"signInViaPopup",w,d)})}).then(function(b){return w&&uo(w),b?Rr(b):null}).o(function(b){throw w&&uo(w),b}),It(this,c)},e.Yc=function(i){if(!ao())return ft(new C("operation-not-supported-in-this-environment"));var u=this,c=vm(this).then(function(){return iO(u.i)}).then(function(){return Qw(u.b,"signInViaRedirect",i,void 0,u.T())});return It(this,c)};function kb(i){if(!ao())return ft(new C("operation-not-supported-in-this-environment"));var u=vm(i).then(function(){return i.b.ra()}).then(function(c){return c?Rr(c):null});return It(i,u)}e.ra=function(){var i=this;return kb(this).then(function(u){return i.b&&Cl(i.b.b),u}).o(function(u){throw i.b&&Cl(i.b.b),u})},e.dd=function(i){if(!i)return ft(new C("null-user"));if(this.S!=i.tenantId)return ft(new C("tenant-id-mismatch"));var u=this,c={};c.apiKey=tt(this).options.apiKey,c.authDomain=tt(this).options.authDomain,c.appName=tt(this).name;var d=eO(i,c,u.D,u.Ga());return It(this,this.h.then(function(){if(tt(u).options.apiKey!=i.l)return d.reload()}).then(function(){return Pe(u)&&i.uid==Pe(u).uid?(Nl(Pe(u),i),u.da(i)):(Cs(u,d),pa(d),u.da(d))}).then(function(){ga(u)}))};function aO(i,u){var c={};return c.apiKey=tt(i).options.apiKey,c.authDomain=tt(i).options.authDomain,c.appName=tt(i).name,i.R&&(c.emulatorConfig=i.R),i.$.then(function(){return ZN(c,u,i.D,i.Ga())}).then(function(d){return Pe(i)&&d.uid==Pe(i).uid?(Nl(Pe(i),d),i.da(d)):(Cs(i,d),pa(d),i.da(d))}).then(function(){ga(i)})}function Cs(i,u){Pe(i)&&(XN(Pe(i),i.Ba),jn(Pe(i),"tokenChanged",i.qa),jn(Pe(i),"userDeleted",i.za),jn(Pe(i),"userInvalidated",i.Aa),um(Pe(i))),u&&(u.W.push(i.Ba),er(u,"tokenChanged",i.qa),er(u,"userDeleted",i.za),er(u,"userInvalidated",i.Aa),0<i.u&&fb(u)),me(i,"currentUser",u),u&&(u.xa(i.la()),rm(u,i),da(u,i.J),om(u,i),nm(u,i.R),im(u,i))}e.Bb=function(){var i=this,u=this.h.then(function(){return i.b&&Cl(i.b.b),Pe(i)?(Cs(i,null),Ib(i.i).then(function(){ga(i)})):ye()});return It(this,u)};function cO(i){var u=nO(i.D,tt(i).options.authDomain).then(function(c){return(i.m=c)&&(c.ha=i.D),wb(i.D)});return It(i,u)}function lO(i){var u=tt(i).options.authDomain,c=cO(i).then(function(){return Eb(i.i,u,i.R)}).then(function(d){return d?(d.ha=i.D,i.m&&(i.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return bb(i.i,d).then(function(){return d})}).o(function(v){return v.code=="auth/network-request-failed"?d:Ib(i.i)})):null}).then(function(d){Cs(i,d||null)});return It(i,c)}function fO(i){return i.$.then(function(){return kb(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var u=i.i;u.b.addListener(Dr("local"),u.a,i.ja)}})}e.Zc=function(){var i=this;return Eb(this.i,tt(this).options.authDomain).then(function(u){if(!i.l){var c;if(c=Pe(i)&&u){c=Pe(i).uid;var d=u.uid;c=c==null||c===""||d===void 0||d===null||d===""?!1:c==d}if(c)return Nl(Pe(i),u),Pe(i).I();(Pe(i)||u)&&(Cs(i,u),u&&(pa(u),u.ha=i.D),i.b&&Sl(i.b,i),ga(i))}})},e.da=function(i){return bb(this.i,i)},e.mc=function(){ga(this),this.da(Pe(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function bo(i,u){var c=null,d=null;return It(i,u.then(function(v){return c=ep(v),d=N0(v),aO(i,v)},function(v){var w=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(w=sb(v.w(),i,P(i.kc,i))),w||v}).then(function(){return Rr({user:Pe(i),credential:c,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(i){var u=this;return this.h.then(function(){return bo(u,ye(i))})},e.zc=function(i){var u=this;this.addAuthTokenListener(function(){i.next(Pe(u))})},e.Ac=function(i){var u=this;hO(this,function(){i.next(Pe(u))})},e.Ic=function(i,u,c){var d=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(Pe(d)):typeof i.next=="function"&&i.next(Pe(d))}),this.Pa(i,u,c)},e.Hc=function(i,u,c){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof i=="function"?i(Pe(d)):typeof i.next=="function"&&i.next(Pe(d))}),this.ib(i,u,c)},e.nc=function(i){var u=this,c=this.h.then(function(){return Pe(u)?Pe(u).I(i).then(function(d){return{accessToken:d}}):null});return It(this,c)},e.Tc=function(i){var u=this;return this.h.then(function(){return bo(u,Be(u.a,GR,{token:i}))}).then(function(c){var d=c.user;return _i(d,"isAnonymous",!1),u.da(d),c})},e.Uc=function(i,u){var c=this;return this.h.then(function(){return bo(c,Be(c.a,gw,{email:i,password:u}))})},e.dc=function(i,u){var c=this;return this.h.then(function(){return bo(c,Be(c.a,ER,{email:i,password:u}))})},e.ab=function(i){var u=this;return this.h.then(function(){return bo(u,i.ka(u.a))})},e.Sc=function(i){return Ld("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},e.Ab=function(){var i=this;return this.h.then(function(){var u=Pe(i);if(u&&u.isAnonymous){var c=Rr({providerId:null,isNewUser:!1});return Rr({user:u,credential:null,additionalUserInfo:c,operationType:"signIn"})}return bo(i,i.a.Ab()).then(function(d){var v=d.user;return _i(v,"isAnonymous",!0),i.da(v),d})})};function tt(i){return i.app}function Pe(i){return i.currentUser}e.getUid=function(){return Pe(this)&&Pe(this).uid||null};function Dl(i){return Pe(i)&&Pe(i)._lat||null}function ga(i){if(i.ba){for(var u=0;u<i.s.length;u++)i.s[u]&&i.s[u](Dl(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),u=0;u<i.N.length;u++)i.N[u]&&i.N[u](Dl(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&Pe(this)&&fb(Pe(this))},e.Pc=function(i){var u=this;ee(this.s,function(c){c==i&&u.u--}),0>this.u&&(this.u=0),this.u==0&&Pe(this)&&um(Pe(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var u=this;this.s.push(i),It(this,this.h.then(function(){u.l||M(u.s,i)&&i(Dl(u))}))},e.removeAuthTokenListener=function(i){$(this.s,function(u){return u==i})};function hO(i,u){i.N.push(u),It(i,i.h.then(function(){!i.l&&M(i.N,u)&&i.W!==i.getUid()&&(i.W=i.getUid(),u(Dl(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(Dr("local"),i.a,this.ja)),this.b&&(Hp(this.b,this),Cl(this.b.b)),Promise.resolve()};function It(i,u){return i.P.push(u),u.oa(function(){q(i.P,u)}),u}e.hc=function(i){return It(this,pR(this.a,i))},e.Bc=function(i){return!!Zd(i)},e.xb=function(i,u){var c=this;return It(this,ye().then(function(){var d=new Jc(u);if(!d.c)throw new C("argument-error",Gd+" must be true when sending sign in link to email");return Zc(d)}).then(function(d){return c.a.xb(i,d)}).then(function(){}))},e.jd=function(i){return this.Sa(i).then(function(u){return u.data.email})},e.ob=function(i,u){return It(this,this.a.ob(i,u).then(function(){}))},e.Sa=function(i){return It(this,this.a.Sa(i).then(function(u){return new Ax(u)}))},e.kb=function(i){return It(this,this.a.kb(i).then(function(){}))},e.wb=function(i,u){var c=this;return It(this,ye().then(function(){return typeof u>"u"||Sr(u)?{}:Zc(new Jc(u))}).then(function(d){return c.a.wb(i,d)}).then(function(){}))},e.Wc=function(i,u){return It(this,Wp(this,i,u,P(this.ab,this)))},e.Vc=function(i,u){var c=this;return It(this,ye().then(function(){var d=u||$u(),v=H0(i,d);if(d=Zd(d),!d)throw new C("argument-error","Invalid email link!");if(d.tenantId!==c.T())throw new C("tenant-id-mismatch");return c.ab(v)}))};function va(){}va.prototype.render=function(){},va.prototype.reset=function(){},va.prototype.getResponse=function(){},va.prototype.execute=function(){};function xs(){this.a={},this.b=1e12}var ym=null;xs.prototype.render=function(i,u){return this.a[this.b.toString()]=new Pl(i,u),this.b++},xs.prototype.reset=function(i){var u=_m(this,i);i=Cb(i),u&&i&&(u.delete(),delete this.a[i])},xs.prototype.getResponse=function(i){return(i=_m(this,i))?i.getResponse():null},xs.prototype.execute=function(i){(i=_m(this,i))&&i.execute()};function _m(i,u){return(u=Cb(u))&&i.a[u]||null}function Cb(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function Pl(i,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Fu(i);var c=this;this.i=function(){c.execute()},this.h?this.execute():er(this.f,"click",this.i)}Pl.prototype.getResponse=function(){return wm(this),this.b},Pl.prototype.execute=function(){wm(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=_x();var u=i.c.callback,c=i.c["expired-callback"];if(u)try{u(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,c)try{c()}catch{}i.h&&i.execute()},6e4)},500))},Pl.prototype.delete=function(){wm(this),this.g=!0,clearTimeout(this.a),this.a=null,jn(this.f,"click",this.i)};function wm(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function bm(){}me(bm,"FACTOR_ID","phone");function Im(){}Im.prototype.g=function(){return ym||(ym=new xs),ye(ym)},Im.prototype.c=function(){};var Em=null;function Tm(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var dO=new kr(Mc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),pO=new gi(3e4,6e4);Tm.prototype.g=function(i){var u=this;return new je(function(c,d){var v=setTimeout(function(){d(new C("network-request-failed"))},pO.get());if(!f.grecaptcha||i!==u.f&&!u.b){f[u.a]=function(){if(f.grecaptcha){u.f=i;var b=f.grecaptcha.render;f.grecaptcha.render=function(S,j){return S=b(S,j),u.b++,S},clearTimeout(v),c(f.grecaptcha)}else clearTimeout(v),d(new C("internal-error"));delete f[u.a]};var w=od(dO,{onload:u.a,hl:i||""});ye(dp(w)).o(function(){clearTimeout(v),d(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),c(f.grecaptcha)})},Tm.prototype.c=function(){this.b--};var Am=null;function Sm(i,u,c,d,v,w,b){if(me(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,b?(Em||(Em=new Im),b=Em):(Am||(Am=new Tm),b=Am),this.m=b,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[Nb])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[mO]==="invisible",!f.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Fu(u)||!this.i&&Fu(u).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new hr(i,w||null,v||null),this.u=d||function(){return null};var S=this;this.l=[];var j=this.a[xb];this.a[xb]=function(Re){if(Ob(S,Re),typeof j=="function")j(Re);else if(typeof j=="string"){var Ze=ht(j,f);typeof Ze=="function"&&Ze(Re)}};var W=this.a[Rb];this.a[Rb]=function(){if(Ob(S,null),typeof W=="function")W();else if(typeof W=="string"){var Re=ht(W,f);typeof Re=="function"&&Re()}}}var xb="callback",Rb="expired-callback",Nb="sitekey",mO="size";function Ob(i,u){for(var c=0;c<i.l.length;c++)try{i.l[c](u)}catch{}}function gO(i,u){$(i.l,function(c){return c==u})}function km(i,u){return i.h.push(u),u.oa(function(){q(i.h,u)}),u}e=Sm.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=km(this,ye().then(function(){if(Yc()&&!lr())return Xc();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(u){return i.g=u,Be(i.s,FR,{})}).then(function(u){i.a[Nb]=u.recaptchaSiteKey}).o(function(u){throw i.f=null,u}))},e.render=function(){Ll(this);var i=this;return km(this,this.Ia().then(function(){if(i.c===null){var u=i.v;if(!i.i){var c=Fu(u);u=qC("DIV"),c.appendChild(u)}i.c=i.g.render(u,i.a)}return i.c}))},e.verify=function(){Ll(this);var i=this;return km(this,this.render().then(function(u){return new je(function(c){var d=i.g.getResponse(u);if(d)c(d);else{var v=function(w){w&&(gO(i,v),c(w))};i.l.push(v),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){Ll(this),this.c!==null&&this.g.reset(this.c)};function Ll(i){if(i.J)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Ll(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=Fu(this.v);for(var u;u=i.firstChild;)i.removeChild(u)}};function Cm(i,u,c){var d=!1;try{this.b=c||Te.app()}catch{throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new C("invalid-api-key");var v=this,w=null;try{w=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=Te.SDK_VERSION?gs(Te.SDK_VERSION,w):null,Sm.call(this,c,i,u,function(){try{var b=v.b.auth().la()}catch{b=null}return b},w,Me(xe),d)}L(Cm,Sm);function Db(i,u,c,d){e:{c=Array.prototype.slice.call(c);for(var v=0,w=!1,b=0;b<u.length;b++)if(u[b].optional)w=!0;else{if(w)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(w=u.length,c.length<v||w<c.length)d="Expected "+(v==w?v==1?"1 argument":v+" arguments":v+"-"+w+" arguments")+" but got "+c.length+".";else{for(v=0;v<c.length;v++)if(w=u[v].optional&&c[v]===void 0,!u[v].M(c[v])&&!w){if(u=u[v],0>v||v>=Pb.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");c=Pb[v],d=(d?"":c+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}d=null}}if(d)throw new C("argument-error",i+" failed: "+d)}var Pb="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function pe(i,u){return{name:i||"",K:"a valid string",optional:!!u,M:function(c){return typeof c=="string"}}}function xm(i,u){return{name:i||"",K:"a boolean",optional:!!u,M:function(c){return typeof c=="boolean"}}}function xt(i,u){return{name:i||"",K:"a valid object",optional:!!u,M:T}}function Rs(i,u){return{name:i||"",K:"a function",optional:!!u,M:function(c){return typeof c=="function"}}}function Pr(i,u){return{name:i||"",K:"null",optional:!!u,M:function(c){return c===null}}}function vO(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function yO(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof pr)}}}function _O(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof Te.app.App)}}}function wi(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var c=!i||u.providerId===i;return!(!u.ka||!c)}}}function Lb(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function Ns(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function Rm(i,u){return T(i)&&typeof i.type=="string"&&i.type===u&&typeof i.Ha=="function"}function Mb(i){return T(i)&&typeof i.uid=="string"}function Ml(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function St(i,u,c,d){return{name:c||"",K:i.K+" or "+u.K,optional:!!d,M:function(v){return i.M(v)||u.M(v)}}}function vt(i,u){for(var c in u){var d=u[c].name;i[d]=Vb(d,i[c],u[c].j)}}function Fb(i,u){for(var c in u){var d=u[c].name;d!==c&&Object.defineProperty(i,d,{get:z(function(v){return this[v]},c),set:z(function(v,w,b,S){Db(v,[b],[S],!0),this[w]=S},d,c,u[c].lb),enumerable:!0})}}function kt(i,u,c,d){i[u]=Vb(u,c,d)}function Vb(i,u,c){function d(){var b=Array.prototype.slice.call(arguments);return Db(v,c,b),u.apply(this,b)}if(!c)return u;var v=wO(i),w;for(w in u)d[w]=u[w];for(w in u.prototype)d.prototype[w]=u.prototype[w];return d}function wO(i){return i=i.split("."),i[i.length-1]}vt(pr.prototype,{kb:{name:"applyActionCode",j:[pe("code")]},Sa:{name:"checkActionCode",j:[pe("code")]},ob:{name:"confirmPasswordReset",j:[pe("code"),pe("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[pe("email"),pe("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[pe("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[pe("emailLink")]},Hc:{name:"onAuthStateChanged",j:[St(xt(),Rs(),"nextOrObserver"),Rs("opt_error",!0),Rs("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[St(xt(),Rs(),"nextOrObserver"),Rs("opt_error",!0),Rs("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[pe("email"),St(xt("opt_actionCodeSettings",!0),Pr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[pe("email"),xt("actionCodeSettings")]},yb:{name:"setPersistence",j:[pe("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[wi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[wi()]},Tc:{name:"signInWithCustomToken",j:[pe("token")]},Uc:{name:"signInWithEmailAndPassword",j:[pe("email"),pe("password")]},Vc:{name:"signInWithEmailLink",j:[pe("email"),pe("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[pe("phoneNumber"),Ml()]},Xc:{name:"signInWithPopup",j:[Ns()]},Yc:{name:"signInWithRedirect",j:[Ns()]},dd:{name:"updateCurrentUser",j:[St(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(u){return!!(u&&u instanceof qn)}}}(),Pr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[pe(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[pe("url"),xt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[pe("code")]}}),Fb(pr.prototype,{lc:{name:"languageCode",lb:St(pe(),Pr(),"languageCode")},ti:{name:"tenantId",lb:St(pe(),Pr(),"tenantId")}}),pr.Persistence=Es,pr.Persistence.LOCAL="local",pr.Persistence.SESSION="session",pr.Persistence.NONE="none",vt(qn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[xm("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[xm("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[wi()]},rb:{name:"linkWithCredential",j:[wi()]},Dc:{name:"linkWithPhoneNumber",j:[pe("phoneNumber"),Ml()]},Ec:{name:"linkWithPopup",j:[Ns()]},Fc:{name:"linkWithRedirect",j:[Ns()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[wi()]},ub:{name:"reauthenticateWithCredential",j:[wi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[pe("phoneNumber"),Ml()]},Nc:{name:"reauthenticateWithPopup",j:[Ns()]},Oc:{name:"reauthenticateWithRedirect",j:[Ns()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[St(xt("opt_actionCodeSettings",!0),Pr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[pe(null,!0)]},cd:{name:"unlink",j:[pe("provider")]},Cb:{name:"updateEmail",j:[pe("email")]},Db:{name:"updatePassword",j:[pe("password")]},ed:{name:"updatePhoneNumber",j:[wi("phone")]},Eb:{name:"updateProfile",j:[xt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[pe("email"),St(xt("opt_actionCodeSettings",!0),Pr(null,!0),"opt_actionCodeSettings",!0)]}}),vt(xs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vt(va.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vt(je.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Fb(rb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:xm("appVerificationDisabledForTesting")}}),vt(zp.prototype,{confirm:{name:"confirm",j:[pe("verificationCode")]}}),kt(_s,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var u,c=[Hx,$x,Kx,qx],d=0;d<c.length;d++)if(u=c[d](i))return u;return null},[St(pe(),xt(),"json")]),kt(nr,"credential",function(i,u){return new vi(i,u)},[pe("email"),pe("password")]),vt(vi.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),vt(ho.prototype,{Ca:{name:"addScope",j:[pe("scope")]},Ka:{name:"setCustomParameters",j:[xt("customOAuthParameters")]}}),kt(ho,"credential",U0,[St(pe(),xt(),"token")]),kt(nr,"credentialWithLink",H0,[pe("email"),pe("emailLink")]),vt(po.prototype,{Ca:{name:"addScope",j:[pe("scope")]},Ka:{name:"setCustomParameters",j:[xt("customOAuthParameters")]}}),kt(po,"credential",j0,[St(pe(),xt(),"token")]),vt(mo.prototype,{Ca:{name:"addScope",j:[pe("scope")]},Ka:{name:"setCustomParameters",j:[xt("customOAuthParameters")]}}),kt(mo,"credential",B0,[St(pe(),St(xt(),Pr()),"idToken"),St(pe(),Pr(),"accessToken",!0)]),vt(bs.prototype,{Ka:{name:"setCustomParameters",j:[xt("customOAuthParameters")]}}),kt(bs,"credential",q0,[St(pe(),xt(),"token"),pe("secret",!0)]),vt(Bn.prototype,{Ca:{name:"addScope",j:[pe("scope")]},credential:{name:"credential",j:[St(pe(),St(xt(),Pr()),"optionsOrIdToken"),St(pe(),Pr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[xt("customOAuthParameters")]}}),vt(Wr.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),vt(lo.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),kt(Xr,"credential",$0,[pe("verificationId"),pe("verificationCode")]),vt(Xr.prototype,{gb:{name:"verifyPhoneNumber",j:[St(pe(),function(i,u){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(c){return c?c.session&&c.phoneNumber?Rm(c.session,Qu)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Rm(c.session,il)&&Mb(c.multiFactorHint):c.session&&c.multiFactorUid?Rm(c.session,il)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Ml()]}}),vt(yi.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),vt(C.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),vt(Zu.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),vt(rp.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),vt(Yp.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),vt(Xp.prototype,{Rc:{name:"resolveSignIn",j:[Lb()]}}),vt(Jp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Lb(),pe("displayName",!0)]},bd:{name:"unenroll",j:[St({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Mb},pe(),"multiFactorInfoIdentifier")]}}),vt(Cm.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),kt(Kd,"parseLink",b0,[pe("link")]),kt(bm,"assertion",function(i){return new ab(i)},[wi("phone")]),function(){if(typeof Te<"u"&&Te.INTERNAL&&Te.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Qc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:$d,VERIFY_AND_CHANGE_EMAIL:Xu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:pr,AuthCredential:_s,Error:C};kt(i,"EmailAuthProvider",nr,[]),kt(i,"FacebookAuthProvider",ho,[]),kt(i,"GithubAuthProvider",po,[]),kt(i,"GoogleAuthProvider",mo,[]),kt(i,"TwitterAuthProvider",bs,[]),kt(i,"OAuthProvider",Bn,[pe("providerId")]),kt(i,"SAMLAuthProvider",V0,[pe("providerId")]),kt(i,"PhoneAuthProvider",Xr,[yO()]),kt(i,"RecaptchaVerifier",Cm,[St(pe(),vO(),"recaptchaContainer"),xt("recaptchaParameters",!0),_O()]),kt(i,"ActionCodeURL",Kd,[]),kt(i,"PhoneMultiFactorGenerator",bm,[]),Te.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new pr(u)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),Te.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:P(u.getUid,u),getToken:P(u.nc,u),addAuthTokenListener:P(u.cc,u),removeAuthTokenListener:P(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Te.registerVersion("@firebase/auth","0.16.8"),Te.INTERNAL.extendNamespace({User:qn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kg=function(e,t){return kg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},kg(e,t)};function nM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");kg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function HA(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var rM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de,Pv=Pv||{},Ne=rM||self;function Tf(){}function Cg(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function mc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function iM(e){return Object.prototype.hasOwnProperty.call(e,Bm)&&e[Bm]||(e[Bm]=++oM)}var Bm="closure_uid_"+(1e9*Math.random()>>>0),oM=0;function sM(e,t,n){return e.call.apply(e.bind,arguments)}function uM(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function Zt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Zt=sM:Zt=uM,Zt.apply(null,arguments)}function $l(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function nn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,o,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(r,a)}}function Xi(){this.s=this.s,this.o=this.o}var aM=0;Xi.prototype.s=!1;Xi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),aM!=0)&&iM(this)};Xi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $A=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},KA=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function cM(e){e:{for(var t=eF,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function SI(e){return Array.prototype.concat.apply([],arguments)}function Lv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Af(e){return/^[\s\xa0]*$/.test(e)}var kI=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function En(e,t){return e.indexOf(t)!=-1}function qm(e,t){return e<t?-1:e>t?1:0}var Tn;e:{var CI=Ne.navigator;if(CI){var xI=CI.userAgent;if(xI){Tn=xI;break e}}Tn=""}function Mv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function GA(e){var t={};for(var n in e)t[n]=e[n];return t}var RI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zA(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<RI.length;s++)n=RI[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fv(e){return Fv[" "](e),e}Fv[" "]=Tf;function lM(e){var t=dM;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var fM=En(Tn,"Opera"),nu=En(Tn,"Trident")||En(Tn,"MSIE"),WA=En(Tn,"Edge"),xg=WA||nu,XA=En(Tn,"Gecko")&&!(En(Tn.toLowerCase(),"webkit")&&!En(Tn,"Edge"))&&!(En(Tn,"Trident")||En(Tn,"MSIE"))&&!En(Tn,"Edge"),hM=En(Tn.toLowerCase(),"webkit")&&!En(Tn,"Edge");function YA(){var e=Ne.document;return e?e.documentMode:void 0}var Sf;e:{var Hm="",$m=function(){var e=Tn;if(XA)return/rv:([^\);]+)(\)|;)/.exec(e);if(WA)return/Edge\/([\d\.]+)/.exec(e);if(nu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(hM)return/WebKit\/(\S+)/.exec(e);if(fM)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if($m&&(Hm=$m?$m[1]:""),nu){var Km=YA();if(Km!=null&&Km>parseFloat(Hm)){Sf=String(Km);break e}}Sf=Hm}var dM={};function pM(){return lM(function(){for(var e=0,t=kI(String(Sf)).split("."),n=kI("9").split("."),r=Math.max(t.length,n.length),o=0;e==0&&o<r;o++){var s=t[o]||"",a=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=qm(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||qm(s[2].length==0,a[2].length==0)||qm(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var Rg;if(Ne.document&&nu){var NI=YA();Rg=NI||parseInt(Sf,10)||void 0}else Rg=void 0;var mM=Rg,gM=function(){if(!Ne.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ne.addEventListener("test",Tf,t),Ne.removeEventListener("test",Tf,t)}catch{}return e}();function hn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};function Wa(e,t){if(hn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(XA){e:{try{Fv(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:vM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Wa.Z.h.call(this)}}nn(Wa,hn);var vM={2:"touch",3:"pen",4:"mouse"};Wa.prototype.h=function(){Wa.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var gc="closure_listenable_"+(1e6*Math.random()|0),yM=0;function _M(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++yM,this.ca=this.fa=!1}function wh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function bh(e){this.src=e,this.g={},this.h=0}bh.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=Og(e,t,r,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new _M(t,this.src,s,!!r,o),t.fa=n,e.push(t)),t};function Ng(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=$A(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(wh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Og(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return o}return-1}var Vv="closure_lm_"+(1e6*Math.random()|0),Gm={};function QA(e,t,n,r,o){if(r&&r.once)return ZA(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)QA(e,t[s],n,r,o);return null}return n=Bv(n),e&&e[gc]?e.N(t,n,mc(r)?!!r.capture:!!r,o):JA(e,t,n,!1,r,o)}function JA(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var a=mc(o)?!!o.capture:!!o,l=jv(e);if(l||(e[Vv]=l=new bh(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=wM(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)gM||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(tS(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function wM(){function e(n){return t.call(e.src,e.listener,n)}var t=bM;return e}function ZA(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ZA(e,t[s],n,r,o);return null}return n=Bv(n),e&&e[gc]?e.O(t,n,mc(r)?!!r.capture:!!r,o):JA(e,t,n,!0,r,o)}function eS(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)eS(e,t[s],n,r,o);else r=mc(r)?!!r.capture:!!r,n=Bv(n),e&&e[gc]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Og(s,n,r,o),-1<n&&(wh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=jv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Og(t,n,r,o)),(n=-1<e?t[e]:null)&&Uv(n))}function Uv(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[gc])Ng(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(tS(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=jv(t))?(Ng(n,e),n.h==0&&(n.src=null,t[Vv]=null)):wh(e)}}}function tS(e){return e in Gm?Gm[e]:Gm[e]="on"+e}function bM(e,t){if(e.ca)e=!0;else{t=new Wa(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Uv(e),e=n.call(r,t)}return e}function jv(e){return e=e[Vv],e instanceof bh?e:null}var zm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bv(e){return typeof e=="function"?e:(e[zm]||(e[zm]=function(t){return e.handleEvent(t)}),e[zm])}function Kt(){Xi.call(this),this.i=new bh(this),this.P=this,this.I=null}nn(Kt,Xi);Kt.prototype[gc]=!0;Kt.prototype.removeEventListener=function(e,t,n,r){eS(this,e,t,n,r)};function en(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new hn(t,e);else if(t instanceof hn)t.target=t.target||e;else{var o=t;t=new hn(r,e),zA(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];o=Kl(a,r,!0,t)&&o}if(a=t.g=e,o=Kl(a,r,!0,t)&&o,o=Kl(a,r,!1,t)&&o,n)for(s=0;s<n.length;s++)a=t.g=n[s],o=Kl(a,r,!1,t)&&o}Kt.prototype.M=function(){if(Kt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)wh(n[r]);delete e.g[t],e.h--}}this.I=null};Kt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Kt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Kl(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&Ng(e.i,a),o=l.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var qv=Ne.JSON.stringify;function IM(){var e=rS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var EM=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=nS.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),nS=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new TM},function(e){return e.reset()}),TM=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function AM(e){Ne.setTimeout(function(){throw e},0)}function Hv(e,t){Dg||SM(),Pg||(Dg(),Pg=!0),rS.add(e,t)}var Dg;function SM(){var e=Ne.Promise.resolve(void 0);Dg=function(){e.then(kM)}}var Pg=!1,rS=new EM;function kM(){for(var e;e=IM();){try{e.h.call(e.g)}catch(n){AM(n)}var t=nS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Pg=!1}function Ih(e,t){Kt.call(this),this.h=e||1,this.g=t||Ne,this.j=Zt(this.kb,this),this.l=Date.now()}nn(Ih,Kt);de=Ih.prototype;de.da=!1;de.S=null;de.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),en(this,"tick"),this.da&&($v(this),this.start()))}};de.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function $v(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}de.M=function(){Ih.Z.M.call(this),$v(this),delete this.g};function Kv(e,t,n){if(typeof e=="function")n&&(e=Zt(e,n));else if(e&&typeof e.handleEvent=="function")e=Zt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Ne.setTimeout(e,t||0)}function iS(e){e.g=Kv(function(){e.g=null,e.i&&(e.i=!1,iS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var CM=function(e){nM(t,e);function t(n,r){var o=e.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:iS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Xi);function Xa(e){Xi.call(this),this.h=e,this.g={}}nn(Xa,Xi);var OI=[];function oS(e,t,n,r){Array.isArray(n)||(n&&(OI[0]=n.toString()),n=OI);for(var o=0;o<n.length;o++){var s=QA(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function sS(e){Mv(e.g,function(t,n){this.g.hasOwnProperty(n)&&Uv(t)},e),e.g={}}Xa.prototype.M=function(){Xa.Z.M.call(this),sS(this)};Xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Eh(){this.g=!0}Eh.prototype.Aa=function(){this.g=!1};function xM(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),f=0;f<l.length;f++){var p=l[f].split("=");if(1<p.length){var g=p[0];p=p[1];var h=g.split("_");a=2<=h.length&&h[1]=="type"?a+(g+"="+p+"&"):a+(g+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function RM(e,t,n,r,o,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+a})}function qs(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+OM(e,n)+(r?" "+r:"")})}function NM(e,t){e.info(function(){return"TIMEOUT: "+t})}Eh.prototype.info=function(){};function OM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return qv(n)}catch{return t}}var ts={},DI=null;function Th(){return DI=DI||new Kt}ts.Ma="serverreachability";function uS(e){hn.call(this,ts.Ma,e)}nn(uS,hn);function Ya(e){var t=Th();en(t,new uS(t))}ts.STAT_EVENT="statevent";function aS(e,t){hn.call(this,ts.STAT_EVENT,e),this.stat=t}nn(aS,hn);function An(e){var t=Th();en(t,new aS(t,e))}ts.Na="timingevent";function cS(e,t){hn.call(this,ts.Na,e),this.size=t}nn(cS,hn);function vc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Ne.setTimeout(function(){e()},t)}var Ah={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},lS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Gv(){}Gv.prototype.h=null;function PI(e){return e.h||(e.h=e.i())}function fS(){}var yc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zv(){hn.call(this,"d")}nn(zv,hn);function Wv(){hn.call(this,"c")}nn(Wv,hn);var Lg;function Sh(){}nn(Sh,Gv);Sh.prototype.g=function(){return new XMLHttpRequest};Sh.prototype.i=function(){return{}};Lg=new Sh;function _c(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Xa(this),this.P=DM,e=xg?125:void 0,this.W=new Ih(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hS}function hS(){this.i=null,this.g="",this.h=!1}var DM=45e3,Mg={},kf={};de=_c.prototype;de.setTimeout=function(e){this.P=e};function Fg(e,t,n){e.K=1,e.v=Ch(ui(t)),e.s=n,e.U=!0,dS(e,null)}function dS(e,t){e.F=Date.now(),wc(e),e.A=ui(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),wS(n.h,"t",r),e.C=0,n=e.l.H,e.h=new hS,e.g=jS(e.l,n?t:null,!e.s),0<e.O&&(e.L=new CM(Zt(e.Ia,e,e.g),e.O)),oS(e.V,e.g,"readystatechange",e.gb),t=e.H?GA(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ya(),xM(e.j,e.u,e.A,e.m,e.X,e.s)}de.gb=function(e){e=e.target;var t=this.L;t&&ei(e)==3?t.l():this.Ia(e)};de.Ia=function(e){try{if(e==this.g)e:{var t=ei(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||xg||this.g&&(this.h.h||this.g.ga()||VI(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Ya(3):Ya(2)),kh(this);var o=this.g.ba();this.N=o;t:if(pS(this)){var s=VI(this.g);e="";var a=s.length,l=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Po(this),Ra(this);var f="";break t}this.h.i=new Ne.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,RM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var p,g=this.g;if((p=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Af(p)){var h=p;break t}}h=null}if(o=h)qs(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Vg(this,o);else{this.i=!1,this.o=3,An(12),Po(this),Ra(this);break e}}this.U?(mS(this,t,f),xg&&this.i&&t==3&&(oS(this.V,this.W,"tick",this.fb),this.W.start())):(qs(this.j,this.m,f,null),Vg(this,f)),t==4&&Po(this),this.i&&!this.I&&(t==4?MS(this.l,this):(this.i=!1,wc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,An(12)):(this.o=0,An(13)),Po(this),Ra(this)}}}catch{}finally{}};function pS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function mS(e,t,n){for(var r=!0,o;!e.I&&e.C<n.length;)if(o=PM(e,n),o==kf){t==4&&(e.o=4,An(14),r=!1),qs(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Mg){e.o=4,An(15),qs(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else qs(e.j,e.m,o,null),Vg(e,o);pS(e)&&o!=kf&&o!=Mg&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,An(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ry(t),t.L=!0,An(11))):(qs(e.j,e.m,n,"[Invalid Chunked Response]"),Po(e),Ra(e))}de.fb=function(){if(this.g){var e=ei(this.g),t=this.g.ga();this.C<t.length&&(kh(this),mS(this,e,t),this.i&&e!=4&&wc(this))}};function PM(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?kf:(n=Number(t.substring(n,r)),isNaN(n)?Mg:(r+=1,r+n>t.length?kf:(t=t.substr(r,n),e.C=r+n,t)))}de.cancel=function(){this.I=!0,Po(this)};function wc(e){e.Y=Date.now()+e.P,gS(e,e.P)}function gS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=vc(Zt(e.eb,e),t)}function kh(e){e.B&&(Ne.clearTimeout(e.B),e.B=null)}de.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(NM(this.j,this.A),this.K!=2&&(Ya(),An(17)),Po(this),this.o=2,Ra(this)):gS(this,this.Y-e)};function Ra(e){e.l.G==0||e.I||MS(e.l,e)}function Po(e){kh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,$v(e.W),sS(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Vg(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Ug(n.i,e))){if(n.I=e.N,!e.J&&Ug(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Nf(n),Nh(n);else break e;ny(n),An(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=vc(Zt(n.ab,n),6e3));if(1>=ES(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Lo(n,11)}else if((e.J||n.g==e)&&Nf(n),!Af(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var p=e.g;if(p){var g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var h=r.i;!h.g&&(En(g,"spdy")||En(g,"quic")||En(g,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Qv(h,h.h),h.h=null))}if(r.D){var m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,pt(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=US(r,r.H?r.la:null,r.W),y.J){TS(r.i,y);var _=y,I=r.K;I&&_.setTimeout(I),_.B&&(kh(_),wc(_)),r.g=y}else PS(r);0<n.l.length&&Oh(n)}else s[0]!="stop"&&s[0]!="close"||Lo(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Lo(n,7):ty(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Ya(4)}catch{}}function LM(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Cg(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Xv(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Cg(e)||typeof e=="string")KA(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Cg(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=LM(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function Su(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Su)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}de=Su.prototype;de.R=function(){Yv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};de.T=function(){return Yv(this),this.g.concat()};function Yv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];zo(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)r=e.g[t],zo(o,r)||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}de.get=function(e,t){return zo(this.h,e)?this.h[e]:t};de.set=function(e,t){zo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};de.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function zo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var vS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function MM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Wo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Wo){this.g=t!==void 0?t:e.g,Cf(this,e.j),this.s=e.s,xf(this,e.i),Rf(this,e.m),this.l=e.l,t=e.h;var n=new Qa;n.i=t.i,t.g&&(n.g=new Su(t.g),n.h=t.h),LI(this,n),this.o=e.o}else e&&(n=String(e).match(vS))?(this.g=!!t,Cf(this,n[1]||"",!0),this.s=Na(n[2]||""),xf(this,n[3]||"",!0),Rf(this,n[4]),this.l=Na(n[5]||"",!0),LI(this,n[6]||"",!0),this.o=Na(n[7]||"")):(this.g=!!t,this.h=new Qa(null,this.g))}Wo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Aa(t,MI,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Aa(t,MI,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Aa(n,n.charAt(0)=="/"?BM:jM,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Aa(n,HM)),e.join("")};function ui(e){return new Wo(e)}function Cf(e,t,n){e.j=n?Na(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function xf(e,t,n){e.i=n?Na(t,!0):t}function Rf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function LI(e,t,n){t instanceof Qa?(e.h=t,$M(e.h,e.g)):(n||(t=Aa(t,qM)),e.h=new Qa(t,e.g))}function pt(e,t,n){e.h.set(t,n)}function Ch(e){return pt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function FM(e){return e instanceof Wo?ui(e):new Wo(e,void 0)}function VM(e,t,n,r){var o=new Wo(null,void 0);return e&&Cf(o,e),t&&xf(o,t),n&&Rf(o,n),r&&(o.l=r),o}function Na(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Aa(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,UM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function UM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var MI=/[#\/\?@]/g,jM=/[#\?:]/g,BM=/[#\?]/g,qM=/[#\?@]/g,HM=/#/g;function Qa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Yi(e){e.g||(e.g=new Su,e.h=0,e.i&&MM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}de=Qa.prototype;de.add=function(e,t){Yi(this),this.i=null,e=ku(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function yS(e,t){Yi(e),t=ku(e,t),zo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,zo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Yv(e)))}function _S(e,t){return Yi(e),t=ku(e,t),zo(e.g.h,t)}de.forEach=function(e,t){Yi(this),this.g.forEach(function(n,r){KA(n,function(o){e.call(t,o,r,this)},this)},this)};de.T=function(){Yi(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};de.R=function(e){Yi(this);var t=[];if(typeof e=="string")_S(this,e)&&(t=SI(t,this.g.get(ku(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=SI(t,e[n])}return t};de.set=function(e,t){return Yi(this),this.i=null,e=ku(this,e),_S(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};de.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function wS(e,t,n){yS(e,t),0<n.length&&(e.i=null,e.g.set(ku(e,t),Lv(n)),e.h+=n.length)}de.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=o;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function ku(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function $M(e,t){t&&!e.j&&(Yi(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(yS(this,r),wS(this,o,n))},e)),e.j=t}var KM=function(){function e(t,n){this.h=t,this.g=n}return e}();function bS(e){this.l=e||GM,Ne.PerformanceNavigationTiming?(e=Ne.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Ne.g&&Ne.g.Ea&&Ne.g.Ea()&&Ne.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var GM=10;function IS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function ES(e){return e.h?1:e.g?e.g.size:0}function Ug(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Qv(e,t){e.g?e.g.add(t):e.h=t}function TS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}bS.prototype.cancel=function(){var e,t;if(this.i=AS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=HA(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function AS(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var o=HA(e.g.values()),s=o.next();!s.done;s=o.next()){var a=s.value;r=r.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return Lv(e.i)}function Jv(){}Jv.prototype.stringify=function(e){return Ne.JSON.stringify(e,void 0)};Jv.prototype.parse=function(e){return Ne.JSON.parse(e,void 0)};function zM(){this.g=new Jv}function WM(e,t,n){var r=n||"";try{Xv(e,function(o,s){var a=o;mc(o)&&(a=qv(o)),t.push(r+s+"="+encodeURIComponent(a))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function XM(e,t){var n=new Eh;if(Ne.Image){var r=new Image;r.onload=$l(Gl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=$l(Gl,n,r,"TestLoadImage: error",!1,t),r.onabort=$l(Gl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=$l(Gl,n,r,"TestLoadImage: timeout",!1,t),Ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Gl(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function bc(e){this.l=e.$b||null,this.j=e.ib||!1}nn(bc,Gv);bc.prototype.g=function(){return new xh(this.l,this.j)};bc.prototype.i=function(e){return function(){return e}}({});function xh(e,t){Kt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Zv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nn(xh,Kt);var Zv=0;de=xh.prototype;de.open=function(e,t){if(this.readyState!=Zv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ja(this)};de.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ne).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ic(this)),this.readyState=Zv};de.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ja(this)),this.g&&(this.readyState=3,Ja(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ne.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SS(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function SS(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}de.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ic(this):Ja(this),this.readyState==3&&SS(this)}};de.Ua=function(e){this.g&&(this.response=this.responseText=e,Ic(this))};de.Ta=function(e){this.g&&(this.response=e,Ic(this))};de.ha=function(){this.g&&Ic(this)};function Ic(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ja(e)}de.setRequestHeader=function(e,t){this.v.append(e,t)};de.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};de.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ja(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(xh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var YM=Ne.JSON.parse;function Lt(e){Kt.call(this),this.headers=new Su,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kS,this.K=this.L=!1}nn(Lt,Kt);var kS="",QM=/^https?$/i,JM=["POST","PUT"];de=Lt.prototype;de.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Lg.g(),this.C=this.u?PI(this.u):PI(Lg),this.g.onreadystatechange=Zt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){FI(this,s);return}e=n||"";var o=new Su(this.headers);r&&Xv(r,function(s,a){o.set(a,s)}),r=cM(o.T()),n=Ne.FormData&&e instanceof Ne.FormData,!(0<=$A(JM,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{RS(this),0<this.B&&((this.K=ZM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zt(this.pa,this)):this.A=Kv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){FI(this,s)}};function ZM(e){return nu&&pM()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function eF(e){return e.toLowerCase()=="content-type"}de.pa=function(){typeof Pv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,en(this,"timeout"),this.abort(8))};function FI(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,CS(e),Rh(e)}function CS(e){e.D||(e.D=!0,en(e,"complete"),en(e,"error"))}de.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,en(this,"complete"),en(this,"abort"),Rh(this))};de.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rh(this,!0)),Lt.Z.M.call(this)};de.Fa=function(){this.s||(this.F||this.v||this.l?xS(this):this.cb())};de.cb=function(){xS(this)};function xS(e){if(e.h&&typeof Pv<"u"&&(!e.C[1]||ei(e)!=4||e.ba()!=2)){if(e.v&&ei(e)==4)Kv(e.Fa,0,e);else if(en(e,"readystatechange"),ei(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.H).match(vS)[1]||null;if(!s&&Ne.self&&Ne.self.location){var a=Ne.self.location.protocol;s=a.substr(0,a.length-1)}o=!QM.test(s?s.toLowerCase():"")}r=o}if(r)en(e,"complete"),en(e,"success");else{e.m=6;try{var l=2<ei(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",CS(e)}}finally{Rh(e)}}}}function Rh(e,t){if(e.g){RS(e);var n=e.g,r=e.C[0]?Tf:null;e.g=null,e.C=null,t||en(e,"ready");try{n.onreadystatechange=r}catch{}}}function RS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ne.clearTimeout(e.A),e.A=null)}function ei(e){return e.g?e.g.readyState:0}de.ba=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}};de.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};de.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),YM(t)}};function VI(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case kS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}de.Da=function(){return this.m};de.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function tF(e){var t="";return Mv(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function ey(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tF(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):pt(e,t,n))}function wa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function NS(e){this.za=0,this.l=[],this.h=new Eh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=wa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=wa("baseRetryDelayMs",5e3,e),this.$a=wa("retryDelaySeedMs",1e4,e),this.Ya=wa("forwardChannelMaxRetries",2,e),this.ra=wa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new bS(e&&e.concurrentRequestLimit),this.Ca=new zM,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}de=NS.prototype;de.ma=8;de.G=1;function ty(e){if(OS(e),e.G==3){var t=e.V++,n=ui(e.F);pt(n,"SID",e.J),pt(n,"RID",t),pt(n,"TYPE","terminate"),Ec(e,n),t=new _c(e,e.h,t,void 0),t.K=2,t.v=Ch(ui(n)),n=!1,Ne.navigator&&Ne.navigator.sendBeacon&&(n=Ne.navigator.sendBeacon(t.v.toString(),"")),!n&&Ne.Image&&(new Image().src=t.v,n=!0),n||(t.g=jS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),wc(t)}VS(e)}de.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Nh(e){e.g&&(ry(e),e.g.cancel(),e.g=null)}function OS(e){Nh(e),e.u&&(Ne.clearTimeout(e.u),e.u=null),Nf(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Ne.clearTimeout(e.m),e.m=null)}function Wm(e,t){e.l.push(new KM(e.Za++,t)),e.G==3&&Oh(e)}function Oh(e){IS(e.i)||e.m||(e.m=!0,Hv(e.Ha,e),e.C=0)}function nF(e,t){return ES(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=vc(Zt(e.Ha,e,t),FS(e,e.C)),e.C++,!0)}de.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new _c(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=GA(n),zA(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=DS(this,t,r),o=ui(this.F),pt(o,"RID",e),pt(o,"CVER",22),this.D&&pt(o,"X-HTTP-Session-Id",this.D),Ec(this,o),this.o&&n&&ey(o,this.o,n),Qv(this.i,t),this.Ra&&pt(o,"TYPE","init"),this.ja?(pt(o,"$req",r),pt(o,"SID","null"),t.$=!0,Fg(t,o,null)):Fg(t,o,r),this.G=2}}else this.G==3&&(e?UI(this,e):this.l.length==0||IS(this.i)||UI(this))};function UI(e,t){var n;t?n=t.m:n=e.V++;var r=ui(e.F);pt(r,"SID",e.J),pt(r,"RID",n),pt(r,"AID",e.U),Ec(e,r),e.o&&e.s&&ey(r,e.o,e.s),n=new _c(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=DS(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Qv(e.i,n),Fg(n,r,t)}function Ec(e,t){e.j&&Xv({},function(n,r){pt(t,r,n)})}function DS(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Zt(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=o[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var p=o[f].h,g=o[f].g;if(p-=s,0>p)s=Math.max(0,o[f].h-100),l=!1;else try{WM(g,a,"req"+p+"_")}catch{r&&r(g)}}if(l){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function PS(e){e.g||e.u||(e.Y=1,Hv(e.Ga,e),e.A=0)}function ny(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=vc(Zt(e.Ga,e),FS(e,e.A)),e.A++,!0)}de.Ga=function(){if(this.u=null,LS(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=vc(Zt(this.bb,this),e)}};de.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,An(10),Nh(this),LS(this))};function ry(e){e.B!=null&&(Ne.clearTimeout(e.B),e.B=null)}function LS(e){e.g=new _c(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=ui(e.oa);pt(t,"RID","rpc"),pt(t,"SID",e.J),pt(t,"CI",e.N?"0":"1"),pt(t,"AID",e.U),Ec(e,t),pt(t,"TYPE","xmlhttp"),e.o&&e.s&&ey(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ch(ui(t)),n.s=null,n.U=!0,dS(n,e)}de.ab=function(){this.v!=null&&(this.v=null,Nh(this),ny(this),An(19))};function Nf(e){e.v!=null&&(Ne.clearTimeout(e.v),e.v=null)}function MS(e,t){var n=null;if(e.g==t){Nf(e),ry(e),e.g=null;var r=2}else if(Ug(e.i,t))n=t.D,TS(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;r=Th(),en(r,new cS(r,n)),Oh(e)}else PS(e);else if(o=t.o,o==3||o==0&&0<e.I||!(r==1&&nF(e,t)||r==2&&ny(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Lo(e,5);break;case 4:Lo(e,10);break;case 3:Lo(e,6);break;default:Lo(e,2)}}}function FS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Lo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Zt(e.jb,e);n||(n=new Wo("//www.google.com/images/cleardot.gif"),Ne.location&&Ne.location.protocol=="http"||Cf(n,"https"),Ch(n)),XM(n.toString(),r)}else An(2);e.G=0,e.j&&e.j.va(t),VS(e),OS(e)}de.jb=function(e){e?(this.h.info("Successfully pinged google.com"),An(2)):(this.h.info("Failed to ping google.com"),An(1))};function VS(e){e.G=0,e.I=-1,e.j&&((AS(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Lv(e.l),e.l.length=0),e.j.ua())}function US(e,t,n){var r=FM(n);if(r.i!="")t&&xf(r,t+"."+r.i),Rf(r,r.m);else{var o=Ne.location;r=VM(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Mv(e.aa,function(s,a){pt(r,a,s)}),t=e.D,n=e.sa,t&&n&&pt(r,t,n),pt(r,"VER",e.ma),Ec(e,r),r}function jS(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Lt(new bc({ib:!0})):new Lt(e.qa),t.L=e.H,t}function BS(){}de=BS.prototype;de.xa=function(){};de.wa=function(){};de.va=function(){};de.ua=function(){};de.Oa=function(){};function Of(){if(nu&&!(10<=Number(mM)))throw Error("Environmental error: no available transport.")}Of.prototype.g=function(e,t){return new Jn(e,t)};function Jn(e,t){Kt.call(this),this.g=new NS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Af(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Af(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Cu(this)}nn(Jn,Kt);Jn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Hv(Zt(e.hb,e,t))),An(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=US(e,null,e.W),Oh(e)};Jn.prototype.close=function(){ty(this.g)};Jn.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Wm(this.g,t)}else this.v?(t={},t.__data__=qv(e),Wm(this.g,t)):Wm(this.g,e)};Jn.prototype.M=function(){this.g.j=null,delete this.j,ty(this.g),delete this.g,Jn.Z.M.call(this)};function qS(e){zv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}nn(qS,zv);function HS(){Wv.call(this),this.status=1}nn(HS,Wv);function Cu(e){this.g=e}nn(Cu,BS);Cu.prototype.xa=function(){en(this.g,"a")};Cu.prototype.wa=function(e){en(this.g,new qS(e))};Cu.prototype.va=function(e){en(this.g,new HS)};Cu.prototype.ua=function(){en(this.g,"b")};Of.prototype.createWebChannel=Of.prototype.g;Jn.prototype.send=Jn.prototype.u;Jn.prototype.open=Jn.prototype.m;Jn.prototype.close=Jn.prototype.close;Ah.NO_ERROR=0;Ah.TIMEOUT=8;Ah.HTTP_ERROR=6;lS.COMPLETE="complete";fS.EventType=yc;yc.OPEN="a";yc.CLOSE="b";yc.ERROR="c";yc.MESSAGE="d";Kt.prototype.listen=Kt.prototype.N;Lt.prototype.listenOnce=Lt.prototype.O;Lt.prototype.getLastError=Lt.prototype.La;Lt.prototype.getLastErrorCode=Lt.prototype.Da;Lt.prototype.getStatus=Lt.prototype.ba;Lt.prototype.getResponseJson=Lt.prototype.Qa;Lt.prototype.getResponseText=Lt.prototype.ga;Lt.prototype.send=Lt.prototype.ea;var rF=function(){return new Of},iF=function(){return Th()},Xm=Ah,oF=lS,sF=ts,jI={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},uF=bc,zl=fS,aF=Lt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Wn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Z=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return _e(t,e),t}(Error),br=new UA("@firebase/firestore");function jg(){return br.logLevel}function oe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(br.logLevel<=We.DEBUG){var r=t.map(iy);br.debug.apply(br,dt(["Firestore (8.10.1): "+e],r))}}function Dt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(br.logLevel<=We.ERROR){var r=t.map(iy);br.error.apply(br,dt(["Firestore (8.10.1): "+e],r))}}function Df(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(br.logLevel<=We.WARN){var r=t.map(iy);br.warn.apply(br,dt(["Firestore (8.10.1): "+e],r))}}function iy(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Dt(t),new Error(t)}function ke(e,t){e||ge()}function le(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $S=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=cF(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function qe(e,t){return e<t?-1:e>t?1:0}function ru(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function KS(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Z(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Z(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Z(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?qe(this.nanoseconds,t.nanoseconds):qe(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ue=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Ln(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ns(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function GS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zS=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&ge(),r===void 0?r=t.length-n:r>t.length-n&&ge(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),a=n.get(o);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Qe=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new Z(F.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(zS),lF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return lF.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,a=function(){if(o.length===0)throw new Z(F.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new Z(F.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var p=n[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Z(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=p,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(a(),s++)}if(a(),l)throw new Z(F.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(zS),iu=function(){function e(t){this.fields=t,t.sort(Tr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return ru(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Mn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return qe(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Mn.EMPTY_BYTE_STRING=new Mn("");var fF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(e){if(ke(!!e),typeof e=="string"){var t=0,n=fF.exec(e);if(ke(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Nt(e.seconds),nanos:Nt(e.nanos)}}function Nt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ou(e){return typeof e=="string"?Mn.fromBase64String(e):Mn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function WS(e){var t=e.mapValue.fields.__previous_value__;return oy(t)?WS(t):t}function Za(e){var t=zi(e.mapValue.fields.__local_write_time__.timestampValue);return new Ln(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(e){return e==null}function Pf(e){return e===0&&1/e==-1/0}function XS(e){return typeof e=="number"&&Number.isInteger(e)&&!Pf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Qe.fromString(t))},e.fromName=function(t){return new e(Qe.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Qe.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Qe.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Qe(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oy(e)?4:10:ge()}function Kr(e,t){var n=Xo(e);if(n!==Xo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Za(e).isEqual(Za(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=zi(r.timestampValue),a=zi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return ou(r.bytesValue).isEqual(ou(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Nt(r.geoPointValue.latitude)===Nt(o.geoPointValue.latitude)&&Nt(r.geoPointValue.longitude)===Nt(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Nt(r.integerValue)===Nt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=Nt(r.doubleValue),a=Nt(o.doubleValue);return s===a?Pf(s)===Pf(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return ru(e.arrayValue.values||[],t.arrayValue.values||[],Kr);case 10:return function(r,o){var s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(BI(s)!==BI(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Kr(s[l],a[l])))return!1;return!0}(e,t);default:return ge()}}function ec(e,t){return(e.values||[]).find(function(n){return Kr(n,t)})!==void 0}function su(e,t){var n=Xo(e),r=Xo(t);if(n!==r)return qe(n,r);switch(n){case 0:return 0;case 1:return qe(e.booleanValue,t.booleanValue);case 2:return function(o,s){var a=Nt(o.integerValue||o.doubleValue),l=Nt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return qI(e.timestampValue,t.timestampValue);case 4:return qI(Za(e),Za(t));case 5:return qe(e.stringValue,t.stringValue);case 6:return function(o,s){var a=ou(o),l=ou(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var a=o.split("/"),l=s.split("/"),f=0;f<a.length&&f<l.length;f++){var p=qe(a[f],l[f]);if(p!==0)return p}return qe(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var a=qe(Nt(o.latitude),Nt(s.latitude));return a!==0?a:qe(Nt(o.longitude),Nt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var a=o.values||[],l=s.values||[],f=0;f<a.length&&f<l.length;++f){var p=su(a[f],l[f]);if(p)return p}return qe(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a=o.fields||{},l=Object.keys(a),f=s.fields||{},p=Object.keys(f);l.sort(),p.sort();for(var g=0;g<l.length&&g<p.length;++g){var h=qe(l[g],p[g]);if(h!==0)return h;var m=su(a[l[g]],f[p[g]]);if(m!==0)return m}return qe(l.length,p.length)}(e.mapValue,t.mapValue);default:throw ge()}}function qI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return qe(e,t);var n=zi(e),r=zi(t),o=qe(n.seconds,r.seconds);return o!==0?o:qe(n.nanos,r.nanos)}function sy(e){return Bg(e)}function Bg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=zi(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ou(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ve.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:o+=",",o+=Bg(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var f=l[a];s?s=!1:o+=",",o+=f+":"+Bg(r.fields[f])}return o+"}"}(e.mapValue):ge();var t,n}function Lf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function qg(e){return!!e&&"integerValue"in e}function uy(e){return!!e&&"arrayValue"in e}function HI(e){return!!e&&"nullValue"in e}function $I(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ff(e){return!!e&&"mapValue"in e}function Oa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ns(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Oa(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Oa(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!ff(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Oa(n)},e.prototype.setAll=function(t){var n=this,r=Tr.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!r.isImmediateParentOf(f)){var p=n.getFieldsMap(r);n.applyChanges(p,o,s),o={},s=[],r=f.popLast()}l?o[f.lastSegment()]=Oa(l):s.push(f.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Kr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var o=n.mapValue.fields[t.get(r)];ff(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){ns(n,function(l,f){return t[l]=f});for(var o=0,s=r;o<s.length;o++){var a=s[o];delete t[a]}},e.prototype.clone=function(){return new e(Oa(this.value))},e}();function YS(e){var t=[];return ns(e.fields,function(n,r){var o=new Tr([n]);if(ff(r)){var s=YS(r.mapValue).fields;if(s.length===0)t.push(o);else for(var a=0,l=s;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new iu(t)}var dn=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Ue.min(),Gn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Gn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Gn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),hF=function(e,t,n,r,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(e,t,n,r,o,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),new hF(e,t,n,r,o,s,a)}function Tc(e){var t=le(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+sy(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),rs(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ff(t.startAt)),t.endAt&&(n+="|ub:",n+=Ff(t.endAt)),t.h=n}return t.h}function Dh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!wF(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!Kr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zI(e.startAt,t.startAt)&&zI(e.endAt,t.endAt)}function Mf(e){return ve.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Xn=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return _e(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new dF(n,r,o):r==="array-contains"?new gF(n,o):r==="in"?new vF(n,o):r==="not-in"?new yF(n,o):r==="array-contains-any"?new _F(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new pF(n,o):new mF(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(su(r,this.value)):r!==null&&Xo(this.value)===Xo(r)&&this.m(su(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ge()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),dF=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=ve.fromName(o.referenceValue),s}return _e(t,e),t.prototype.matches=function(n){var r=ve.comparator(n.key,this.key);return this.m(r)},t}(Xn),pF=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=QS("in",r),o}return _e(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Xn),mF=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=QS("not-in",r),o}return _e(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Xn);function QS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ve.fromName(r.referenceValue)})}var gF=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return _e(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return uy(r)&&ec(r.arrayValue,this.value)},t}(Xn),vF=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return _e(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&ec(this.value.arrayValue,r)},t}(Xn),yF=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return _e(t,e),t.prototype.matches=function(n){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!ec(this.value.arrayValue,r)},t}(Xn),_F=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return _e(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!uy(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return ec(r.value.arrayValue,s)})},t}(Xn),tc=function(e,t){this.position=e,this.before=t};function Ff(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return sy(t)}).join(",")}var Ws=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function wF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function GI(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],a=e.position[o];if(r=s.field.isKeyField()?ve.comparator(ve.fromName(a.referenceValue),n.key):su(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function zI(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Kr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li=function(e,t,n,r,o,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function JS(e,t,n,r,o,s,a,l){return new li(e,t,n,r,o,s,a,l)}function Ac(e){return new li(e)}function hf(e){return!rs(e.limit)&&e.limitType==="F"}function Vf(e){return!rs(e.limit)&&e.limitType==="L"}function ay(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function cy(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function ly(e){return e.collectionGroup!==null}function uu(e){var t=le(e);if(t.p===null){t.p=[];var n=cy(t),r=ay(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Ws(n)),t.p.push(new Ws(Tr.keyField(),"asc"));else{for(var o=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ws(Tr.keyField(),f))}}}return t.p}function Gr(e){var t=le(e);if(!t.T)if(t.limitType==="F")t.T=KI(t.path,t.collectionGroup,uu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=uu(t);r<o.length;r++){var s=o[r],a=s.dir==="desc"?"asc":"desc";n.push(new Ws(s.field,a))}var l=t.endAt?new tc(t.endAt.position,!t.endAt.before):null,f=t.startAt?new tc(t.startAt.position,!t.startAt.before):null;t.T=KI(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function ZS(e,t,n){return new li(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sc(e,t){return Dh(Gr(e),Gr(t))&&e.limitType===t.limitType}function e1(e){return Tc(Gr(e))+"|lt:"+e.limitType}function Hg(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+sy(o.value);var o}).join(", ")+"]"),rs(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Ff(t.startAt)),t.endAt&&(n+=", endAt: "+Ff(t.endAt)),"Target("+n+")"}(Gr(e))+"; limitType="+e.limitType+")"}function kc(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ve.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var a=s[o];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!GI(n.startAt,uu(n),r))&&(!n.endAt||!GI(n.endAt,uu(n),r))}(e,t)}function t1(e){return function(t,n){for(var r=!1,o=0,s=uu(e);o<s.length;o++){var a=s[o],l=bF(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function bF(e,t,n){var r=e.field.isKeyField()?ve.comparator(t.key,n.key):function(o,s,a){var l=s.data.field(o),f=a.data.field(o);return l!==null&&f!==null?su(l,f):ge()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(t)?"-0":t}}function r1(e){return{integerValue:""+e}}function i1(e,t){return XS(t)?r1(t):n1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ph=function(){this._=void 0};function IF(e,t,n){return e instanceof au?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Yo?s1(e,t):e instanceof Qo?u1(e,t):function(r,o){var s=o1(r,o),a=WI(s)+WI(r.A);return qg(s)&&qg(r.A)?r1(a):n1(r.R,a)}(e,t)}function EF(e,t,n){return e instanceof Yo?s1(e,t):e instanceof Qo?u1(e,t):n}function o1(e,t){return e instanceof cu?qg(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var au=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t}(Ph),Yo=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return _e(t,e),t}(Ph);function s1(e,t){for(var n=a1(t),r=function(a){n.some(function(l){return Kr(l,a)})||n.push(a)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var Qo=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return _e(t,e),t}(Ph);function u1(e,t){for(var n=a1(t),r=function(a){n=n.filter(function(l){return!Kr(l,a)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var cu=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return _e(t,e),t}(Ph);function WI(e){return Nt(e.integerValue||e.doubleValue)}function a1(e){return uy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cc=function(e,t){this.field=e,this.transform=t},TF=function(e,t){this.version=e,this.transformResults=t},fn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function df(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Lh=function(){};function AF(e,t,n){e instanceof xc?function(r,o,s){var a=r.value.clone(),l=QI(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Qi?function(r,o,s){if(df(r.precondition,o)){var a=QI(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(c1(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function $g(e,t,n){e instanceof xc?function(r,o,s){if(df(r.precondition,o)){var a=r.value.clone(),l=JI(r.fieldTransforms,s,o);a.setAll(l),o.convertToFoundDocument(YI(o),a).setHasLocalMutations()}}(e,t,n):e instanceof Qi?function(r,o,s){if(df(r.precondition,o)){var a=JI(r.fieldTransforms,s,o),l=o.data;l.setAll(c1(r)),l.setAll(a),o.convertToFoundDocument(YI(o),l).setHasLocalMutations()}}(e,t,n):function(r,o){df(r.precondition,o)&&o.convertToNoDocument(Ue.min())}(e,t)}function SF(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],a=t.data.field(s.field),l=o1(s.transform,a||null);l!=null&&(n==null&&(n=Gn.empty()),n.set(s.field,l))}return n||null}function XI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ru(n,r,function(o,s){return function(a,l){return a.field.isEqual(l.field)&&function(f,p){return f instanceof Yo&&p instanceof Yo||f instanceof Qo&&p instanceof Qo?ru(f.elements,p.elements,Kr):f instanceof cu&&p instanceof cu?Kr(f.A,p.A):f instanceof au&&p instanceof au}(a.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function YI(e){return e.isFoundDocument()?e.version:Ue.min()}var xc=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=o,a.fieldTransforms=s,a.type=0,a}return _e(t,e),t}(Lh),Qi=function(e){function t(n,r,o,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=o,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return _e(t,e),t}(Lh);function c1(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function QI(e,t,n){var r=new Map;ke(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],a=s.transform,l=t.data.field(s.field);r.set(s.field,EF(a,l,n[o]))}return r}function JI(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var a=s[o],l=a.transform,f=n.data.field(a.field);r.set(a.field,IF(l,f,t))}return r}var Rt,$e,Rc=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return _e(t,e),t}(Lh),fy=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return _e(t,e),t}(Lh),kF=function(e){this.count=e};function l1(e){switch(e){case F.OK:return ge();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ge()}}function f1(e){if(e===void 0)return Dt("GRPC error has no .code"),F.UNKNOWN;switch(e){case Rt.OK:return F.OK;case Rt.CANCELLED:return F.CANCELLED;case Rt.UNKNOWN:return F.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return F.INTERNAL;case Rt.UNAVAILABLE:return F.UNAVAILABLE;case Rt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Rt.NOT_FOUND:return F.NOT_FOUND;case Rt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Rt.ABORTED:return F.ABORTED;case Rt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Rt.DATA_LOSS:return F.DATA_LOSS;default:return ge()}}($e=Rt||(Rt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn=function(){function e(t,n){this.comparator=t,this.root=n||Di.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Di.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Di.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Wl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Wl(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Wl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Wl(this.root,t,this.comparator,!0)},e}(),Wl=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Di=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t??this.key,n??this.value,r??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();var t=this.left.check();if(t!==this.right.check())throw ge();return t+(this.isRed()?0:1)},e}();Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1,Di.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ge()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new Di(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt=function(){function e(t){this.comparator=t,this.data=new pn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new ZI(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new ZI(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),ZI=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),CF=new pn(ve.comparator);function Ir(){return CF}var xF=new pn(ve.comparator);function Kg(){return xF}var RF=new pn(ve.comparator);function NF(){return RF}var OF=new jt(ve.comparator);function ot(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=OF,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var DF=new jt(qe);function Mh(){return DF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hy=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,dy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ue.min(),r,Mh(),Ir(),ot())},e}(),dy=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Mn.EMPTY_BYTE_STRING,n,ot(),ot(),ot())},e}(),pf=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},h1=function(e,t){this.targetId=e,this.V=t},d1=function(e,t,n,r){n===void 0&&(n=Mn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},eE=function(){function e(){this.S=0,this.D=nE(),this.C=Mn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=ot(),n=ot(),r=ot();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:ge()}}),new dy(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=nE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),PF=function(){function e(t){this.W=t,this.G=new Map,this.H=Ir(),this.J=tE(),this.Y=new jt(qe)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)o=a[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(t.resumeToken));break;default:ge()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(Mf(s))if(r===0){var a=new ve(s.path);this.tt(n,a,dn.newNoDocument(a,Ue.min()))}else ke(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Mf(f.target)){var p=new ve(f.target.path);n.H.get(p)!==null||n.at(l,p)||n.tt(l,p,dn.newNoDocument(p,t))}a.$&&(r.set(l,a.M()),a.L())}});var o=ot();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(p){var g=n.ot(p);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var s=new hy(t,r,this.Y,this.H,o);return this.H=Ir(),this.J=tE(),this.Y=new jt(qe),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new eE,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new jt(qe),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new eE),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function tE(){return new pn(ve.comparator)}function nE(){return new pn(ve.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LF={asc:"ASCENDING",desc:"DESCENDING"},MF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FF=function(e,t){this.databaseId=e,this.I=t};function nc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function p1(e,t){return e.I?t.toBase64():t.toUint8Array()}function VF(e,t){return nc(e,t.toTimestamp())}function Sn(e){return ke(!!e),Ue.fromTimestamp(function(t){var n=zi(t);return new Ln(n.seconds,n.nanos)}(e))}function py(e,t){return function(n){return new Qe(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function m1(e){var t=Qe.fromString(e);return ke(I1(t)),t}function rc(e,t){return py(e.databaseId,t.path)}function ni(e,t){var n=m1(t);if(n.get(1)!==e.databaseId.projectId)throw new Z(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Z(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ve(v1(n))}function Gg(e,t){return py(e.databaseId,t)}function g1(e){var t=m1(e);return t.length===4?Qe.emptyPath():v1(t)}function ic(e){return new Qe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function v1(e){return ke(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function rE(e,t,n){return{name:rc(e,t),fields:n.value.mapValue.fields}}function UF(e,t,n){var r=ni(e,t.name),o=Sn(t.updateTime),s=new Gn({mapValue:{fields:t.fields}}),a=dn.newFoundDocument(r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Uf(e,t){var n;if(t instanceof xc)n={update:rE(e,t.key,t.value)};else if(t instanceof Rc)n={delete:rc(e,t.key)};else if(t instanceof Qi)n={update:rE(e,t.key,t.data),updateMask:$F(t.fieldMask)};else{if(!(t instanceof fy))return ge();n={verify:rc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var a=s.transform;if(a instanceof au)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof cu)return{fieldPath:s.field.canonicalString(),increment:a.A};throw ge()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:VF(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge()}(e,t.precondition)),n}function iE(e,t){var n=t.currentDocument?function(p){return p.updateTime!==void 0?fn.updateTime(Sn(p.updateTime)):p.exists!==void 0?fn.exists(p.exists):fn.none()}(t.currentDocument):fn.none(),r=t.updateTransforms?t.updateTransforms.map(function(p){return function(g,h){var m=null;if("setToServerValue"in h)ke(h.setToServerValue==="REQUEST_TIME"),m=new au;else if("appendMissingElements"in h){var y=h.appendMissingElements.values||[];m=new Yo(y)}else if("removeAllFromArray"in h){var _=h.removeAllFromArray.values||[];m=new Qo(_)}else"increment"in h?m=new cu(g,h.increment):ge();var I=Tr.fromServerFormat(h.fieldPath);return new Cc(I,m)}(e,p)}):[];if(t.update){t.update.name;var o=ni(e,t.update.name),s=new Gn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(p){var g=p.fieldPaths||[];return new iu(g.map(function(h){return Tr.fromServerFormat(h)}))}(t.updateMask);return new Qi(o,s,a,n,r)}return new xc(o,s,n,r)}if(t.delete){var l=ni(e,t.delete);return new Rc(l,n)}if(t.verify){var f=ni(e,t.verify);return new fy(f,n)}return ge()}function y1(e,t){return{documents:[Gg(e,t.path)]}}function _1(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Gg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Gg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(p){return function(g){if(g.op==="=="){if($I(g.value))return{unaryFilter:{field:Ds(g.field),op:"IS_NAN"}};if(HI(g.value))return{unaryFilter:{field:Ds(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if($I(g.value))return{unaryFilter:{field:Ds(g.field),op:"IS_NOT_NAN"}};if(HI(g.value))return{unaryFilter:{field:Ds(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(g.field),op:BF(g.op),value:g.value}}}(p)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(p){return{field:Ds(p.field),direction:jF(p.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,f){return l.I||rs(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=oE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=oE(t.endAt)),n}function w1(e){var t=g1(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){ke(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=b1(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(h){return function(m){return new Ws(Hs(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h)}));var f=null;n.limit&&(f=function(h){var m;return rs(m=typeof h=="object"?h.value:h)?null:m}(n.limit));var p=null;n.startAt&&(p=sE(n.startAt));var g=null;return n.endAt&&(g=sE(n.endAt)),JS(t,o,l,a,f,"F",p,g)}function b1(e){return e?e.unaryFilter!==void 0?[HF(e)]:e.fieldFilter!==void 0?[qF(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return b1(t)}).reduce(function(t,n){return t.concat(n)}):ge():[]}function oE(e){return{before:e.before,values:e.position}}function sE(e){var t=!!e.before,n=e.values||[];return new tc(n,t)}function jF(e){return LF[e]}function BF(e){return MF[e]}function Ds(e){return{fieldPath:e.canonicalString()}}function Hs(e){return Tr.fromServerFormat(e.fieldPath)}function qF(e){return Xn.create(Hs(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ge()}}(e.fieldFilter.op),e.fieldFilter.value)}function HF(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Hs(e.unaryFilter.field);return Xn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Hs(e.unaryFilter.field);return Xn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Hs(e.unaryFilter.field);return Xn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Hs(e.unaryFilter.field);return Xn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ge()}}function $F(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function I1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=uE(t)),t=KF(e.get(n),t);return uE(t)}function KF(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function uE(e){return e+""}function ti(e){var t=e.length;if(ke(t>=2),t===2)return ke(e.charAt(0)===""&&e.charAt(1)===""),Qe.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&ge(),e.charAt(a+1)){case"":var l=e.substring(s,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),r.push(f);break;case"":o+=e.substring(s,a),o+="\0";break;case"":o+=e.substring(s,a+1);break;default:ge()}s=a+2}return new Qe(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GF=function(e,t){this.seconds=e,this.nanoseconds=t},$n=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};$n.store="owner",$n.key="owner";var qi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};qi.store="mutationQueues",qi.keyPath="userId";var st=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};st.store="mutations",st.keyPath="batchId",st.userMutationsIndex="userMutationsIndex",st.userMutationsKeyPath=["userId","batchId"];var un=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Er(n)]},e.key=function(t,n,r){return[t,Er(n),r]},e}();un.store="documentMutations",un.PLACEHOLDER=new un;var zF=function(e,t){this.path=e,this.readTime=t},WF=function(e,t){this.path=e,this.version=t},Et=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};Et.store="remoteDocuments",Et.readTimeIndex="readTimeIndex",Et.readTimeIndexPath="readTime",Et.collectionReadTimeIndex="collectionReadTimeIndex",Et.collectionReadTimeIndexPath=["parentPath","readTime"];var jr=function(e){this.byteSize=e};jr.store="remoteDocumentGlobal",jr.key="remoteDocumentGlobalKey";var Dn=function(e,t,n,r,o,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=a};Dn.store="targets",Dn.keyPath="targetId",Dn.queryTargetsIndexName="queryTargetsIndex",Dn.queryTargetsKeyPath=["canonicalId","targetId"];var Qt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Qt.store="targetDocuments",Qt.keyPath=["targetId","path"],Qt.documentTargetsIndex="documentTargetsIndex",Qt.documentTargetsKeyPath=["path","targetId"];var Kn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Kn.key="targetGlobalKey",Kn.store="targetGlobal";var jo=function(e,t){this.collectionId=e,this.parent=t};jo.store="collectionParents",jo.keyPath=["collectionId","parent"];var ri=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ri.store="clientMetadata",ri.keyPath="clientId";var lu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};lu.store="bundles",lu.keyPath="bundleId";var fu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};fu.store="namedQueries",fu.keyPath="name";var XF=dt(dt([],dt(dt([],dt(dt([],dt(dt([],[qi.store,st.store,un.store,Et.store,Dn.store,$n.store,Kn.store,Qt.store]),[ri.store])),[jr.store])),[jo.store])),[lu.store,fu.store]),E1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",T1=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Fn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},te=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(o,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,a=!1;t.forEach(function(l){++o,l.next(function(){++s,a&&s===o&&n()},function(f){return r(f)})}),a=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,a){o.push(n.call(r,s,a))}),this.waitFor(o)},e}(),A1=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Fn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Da(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=my(o.target.error);r.ft.reject(new Da(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new Da(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(oe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new QF(n)},e}(),hu=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Go())===12.2&&Dt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return oe("SimpleDb","Removing database:",t),Oo(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Go(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return K(this,void 0,void 0,function(){var n,r=this;return H(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(oe("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(f){var p=f.target.result;s(p)},l.onblocked=function(){a(new Da(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var p=f.target.error;p.name==="VersionError"?a(new Z(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Da(t,p))},l.onupgradeneeded=function(f){oe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var p=f.target.result;r.wt.Rt(p,l.transaction,f.oldVersion,r.version).next(function(){oe("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return K(this,void 0,void 0,function(){var s,a,l,f,p;return H(this,function(g){switch(g.label){case 0:s=n==="readonly",a=0,l=function(){var h,m,y,_,I;return H(this,function(T){switch(T.label){case 0:++a,T.label=1;case 1:return T.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=T.sent(),h=A1.open(f.db,t,s?"readonly":"readwrite",r),m=o(h).catch(function(E){return h.abort(E),te.reject(E)}).toPromise(),y={},m.catch(function(){}),[4,h.dt];case 3:return[2,(y.value=(T.sent(),m),y)];case 4:return _=T.sent(),I=_.name!=="FirebaseError"&&a<3,oe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",I),f.close(),I?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,l()];case 2:if(typeof(p=g.sent())=="object")return[2,p.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),YF=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Oo(this.Pt.delete())},e}(),Da=function(e){function t(n,r){var o=this;return(o=e.call(this,F.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return _e(t,e),t}(Z);function is(e){return e.name==="IndexedDbTransactionError"}var QF=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(oe("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(oe("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Oo(r)},e.prototype.add=function(t){return oe("SimpleDb","ADD",this.store.name,t,t),Oo(this.store.add(t))},e.prototype.get=function(t){var n=this;return Oo(this.store.get(t)).next(function(r){return r===void 0&&(r=null),oe("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return oe("SimpleDb","DELETE",this.store.name,t),Oo(this.store.delete(t))},e.prototype.count=function(){return oe("SimpleDb","COUNT",this.store.name),Oo(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){oe("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new te(function(r,o){n.onerror=function(s){var a=my(s.target.error);o(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new te(function(o,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new YF(l),p=n(l.primaryKey,l.value,f);if(p instanceof te){var g=p.catch(function(h){return f.done(),te.reject(h)});r.push(g)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return te.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Oo(e){return new te(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=my(r.target.error);n(o)}})}var aE=!1;function my(e){var t=hu._t(Go());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Z("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return aE||(aE=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cE=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return _e(t,e),t}(T1);function Vn(e,t){var n=le(e);return hu.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gy=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&AF(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&$g(a,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t.key)&&$g(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(Ue.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},ot())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&ru(this.mutations,t.mutations,function(n,r){return XI(n,r)})&&ru(this.baseMutations,t.baseMutations,function(n,r){return XI(n,r)})},e}(),JF=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){ke(t.mutations.length===r.length);for(var o=NF(),s=t.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,r[a].version);return new e(t,n,r,o)},e}(),Fh=function(){function e(t,n,r,o,s,a,l){s===void 0&&(s=Ue.min()),a===void 0&&(a=Ue.min()),l===void 0&&(l=Mn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),S1=function(e){this.Lt=e};function zg(e,t){if(t.document)return UF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ve.fromSegments(t.noDocument.path),r=pu(t.noDocument.readTime),o=dn.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=ve.fromSegments(t.unknownDocument.path);return r=pu(t.unknownDocument.version),dn.newUnknownDocument(s,r)}return ge()}function lE(e,t,n){var r=vy(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,m){return{name:rc(h,m.key),fields:m.data.value.mapValue.fields,updateTime:nc(h,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Et(null,null,s,a,r,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=du(t.version);return a=t.hasCommittedMutations,new Et(null,new zF(l,f),null,a,r,o)}if(t.isUnknownDocument()){var p=t.key.path.toArray(),g=du(t.version);return new Et(new WF(p,g),null,null,!0,r,o)}return ge()}function vy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function k1(e){var t=new Ln(e[0],e[1]);return Ue.fromTimestamp(t)}function du(e){var t=e.toTimestamp();return new GF(t.seconds,t.nanoseconds)}function pu(e){var t=new Ln(e.seconds,e.nanoseconds);return Ue.fromTimestamp(t)}function Us(e,t){for(var n=(t.baseMutations||[]).map(function(f){return iE(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(f){return iE(e.Lt,f)}),l=Ln.fromMillis(t.localWriteTimeMs);return new gy(t.batchId,l,n,a)}function Sa(e){var t,n,r=pu(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?pu(e.lastLimboFreeSnapshotVersion):Ue.min();return e.query.documents!==void 0?(ke((n=e.query).documents.length===1),t=Gr(Ac(g1(n.documents[0])))):t=function(s){return Gr(w1(s))}(e.query),new Fh(t,e.targetId,0,e.lastListenSequenceNumber,r,o,Mn.fromBase64String(e.resumeToken))}function C1(e,t){var n,r=du(t.snapshotVersion),o=du(t.lastLimboFreeSnapshotVersion);n=Mf(t.target)?y1(e.Lt,t.target):_1(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Dn(t.targetId,Tc(t.target),r,s,t.sequenceNumber,o,n)}function x1(e){var t=w1({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ZS(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZF=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return fE(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:pu(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return fE(t).put({bundleId:(r=n).id,createTime:du(Sn(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return hE(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:x1(o.bundledQuery),readTime:pu(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return hE(t).put(function(r){return{name:r.name,readTime:du(Sn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function fE(e){return Vn(e,lu.store)}function hE(e){return Vn(e,fu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eV=function(){function e(){this.Bt=new yy}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),te.resolve()},e.prototype.getCollectionParents=function(t,n){return te.resolve(this.Bt.getEntries(n))},e}(),yy=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new jt(Qe.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new jt(Qe.comparator)).toArray()},e}(),tV=function(){function e(){this.qt=new yy}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:o,parent:Er(s)};return dE(t).put(a)}return te.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[KS(n),""],!1,!0);return dE(t).Nt(o).next(function(s){for(var a=0,l=s;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;r.push(ti(f.parent))}return r})},e}();function dE(e){return Vn(e,jo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mr=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(e,t,n){var r=e.store(st.store),o=e.store(un.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,f=r.$t({range:a},function(_,I,T){return l++,T.delete()});s.push(f.next(function(){ke(l===1)}));for(var p=[],g=0,h=n.mutations;g<h.length;g++){var m=h[g],y=un.key(t,m.key.path,n.batchId);s.push(o.delete(y)),p.push(m.key)}return te.waitFor(s).next(function(){return p})}function jf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ge();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(41943040,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);var nV=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,r,o){return ke(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ai(t).$t({index:st.userMutationsIndex,range:r},function(o,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,a=js(t),l=Ai(t);return l.add({}).next(function(f){ke(typeof f=="number");for(var p=new gy(f,n,r,o),g=function(E,R,k){var D=k.baseMutations.map(function(P){return Uf(E.Lt,P)}),B=k.mutations.map(function(P){return Uf(E.Lt,P)});return new st(R,k.batchId,k.localWriteTime.toMillis(),D,B)}(s.R,s.userId,p),h=[],m=new jt(function(E,R){return qe(E.canonicalString(),R.canonicalString())}),y=0,_=o;y<_.length;y++){var I=_[y],T=un.key(s.userId,I.key.path,f);m=m.add(I.key.path.popLast()),h.push(l.put(g)),h.push(a.put(T,un.PLACEHOLDER))}return m.forEach(function(E){h.push(s.Ut.addToCollectionParentIndex(t,E))}),t.addOnCommittedListener(function(){s.Kt[f]=p.keys()}),te.waitFor(h).next(function(){return p})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Ai(t).get(n).next(function(o){return o?(ke(o.userId===r.userId),Us(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?te.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),a=null;return Ai(t).$t({index:st.userMutationsIndex,range:s},function(l,f,p){f.userId===r.userId&&(ke(f.batchId>=o),a=Us(r.R,f)),p.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Ai(t).$t({index:st.userMutationsIndex,range:n,reverse:!0},function(o,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ai(t).Nt(st.userMutationsIndex,r).next(function(o){return o.map(function(s){return Us(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=un.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),a=[];return js(t).$t({range:s},function(l,f,p){var g=l[0],h=l[1],m=l[2],y=ti(h);if(g===r.userId&&n.path.isEqual(y))return Ai(t).get(m).next(function(_){if(!_)throw ge();ke(_.userId===r.userId),a.push(Us(r.R,_))});p.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new jt(qe),s=[];return n.forEach(function(a){var l=un.prefixForPath(r.userId,a.path),f=IDBKeyRange.lowerBound(l),p=js(t).$t({range:f},function(g,h,m){var y=g[0],_=g[1],I=g[2],T=ti(_);y===r.userId&&a.path.isEqual(T)?o=o.add(I):m.done()});s.push(p)}),te.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,a=un.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new jt(qe);return js(t).$t({range:l},function(p,g,h){var m=p[0],y=p[1],_=p[2],I=ti(y);m===r.userId&&o.isPrefixOf(I)?I.length===s&&(f=f.add(_)):h.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(a){s.push(Ai(t).get(a).next(function(l){if(l===null)throw ge();ke(l.userId===r.userId),o.push(Us(r.R,l))}))}),te.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return R1(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),te.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return te.resolve();var o=IDBKeyRange.lowerBound(un.prefixForUser(n.userId)),s=[];return js(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var p=ti(a[1]);s.push(p)}else f.done()}).next(function(){ke(s.length===0)})})},e.prototype.containsKey=function(t,n){return N1(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return O1(t).get(this.userId).next(function(r){return r||new qi(n.userId,-1,"")})},e}();function N1(e,t,n){var r=un.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return js(e).$t({range:s,Ft:!0},function(l,f,p){var g=l[0],h=l[1];l[2],g===t&&h===o&&(a=!0),p.done()}).next(function(){return a})}function Ai(e){return Vn(e,st.store)}function js(e){return Vn(e,un.store)}function O1(e){return Vn(e,qi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),rV=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new Bf(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Ue.fromTimestamp(new Ln(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Ps(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return ke(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,a=[];return Ps(t).$t(function(l,f){var p=Sa(f);p.sequenceNumber<=n&&r.get(p.targetId)===null&&(s++,a.push(o.removeTargetData(t,p)))}).next(function(){return te.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Ps(t).$t(function(r,o){var s=Sa(o);n(s)})},e.prototype.Xt=function(t){return mE(t).get(Kn.key).next(function(n){return ke(n!==null),n})},e.prototype.Zt=function(t,n){return mE(t).put(Kn.key,n)},e.prototype.te=function(t,n){return Ps(t).put(C1(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Tc(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Ps(t).$t({range:o,index:Dn.queryTargetsIndexName},function(a,l,f){var p=Sa(l);Dh(n,p.target)&&(s=p,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],a=Pi(t);return n.forEach(function(l){var f=Er(l.path);s.push(a.put(new Qt(r,f))),s.push(o.referenceDelegate.addReference(t,r,l))}),te.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=Pi(t);return te.forEach(n,function(a){var l=Er(a.path);return te.waitFor([s.delete([r,l]),o.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Pi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=Pi(t),s=ot();return o.$t({range:r,Ft:!0},function(a,l,f){var p=ti(a[1]),g=new ve(p);s=s.add(g)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Er(n.path),o=IDBKeyRange.bound([r],[KS(r)],!1,!0),s=0;return Pi(t).$t({index:Qt.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var p=a[0];a[1],p!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Ps(t).get(n).next(function(r){return r?Sa(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(e){return Vn(e,Dn.store)}function mE(e){return Vn(e,Kn.store)}function Pi(e){return Vn(e,Qt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(e){return K(this,void 0,void 0,function(){return H(this,function(t){if(e.code!==F.FAILED_PRECONDITION||e.message!==E1)throw e;return oe("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],a=qe(n,o);return a===0?qe(r,s):a}var iV=function(){function e(t){this.ne=t,this.buffer=new jt(gE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();gE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),oV=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;oe("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return K(n,void 0,void 0,function(){var o;return H(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return is(o=s.sent())?(oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,os(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),sV=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return te.resolve(Wn.o);var o=new iV(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(pE)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),pE):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,a,l,f,p,g=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>g.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+m),o=g.params.maximumSequenceNumbersToCollect):o=m,a=Date.now(),g.nthSequenceNumber(t,o)}).next(function(m){return r=m,l=Date.now(),g.removeTargets(t,r,n)}).next(function(m){return s=m,f=Date.now(),g.removeOrphanedDocuments(t,r)}).next(function(m){return p=Date.now(),jg()<=We.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-h)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+m+" documents in "+(p-f)+`ms
Total Duration: `+(p-h)+"ms"),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:m})})},e}(),uV=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new sV(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return Xl(t,r)},e.prototype.removeReference=function(t,n,r){return Xl(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Xl(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return O1(r).Ot(function(a){return N1(r,a,o).next(function(l){return l&&(s=!0),te.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,f){if(f<=n){var p=r._e(t,l).next(function(g){if(!g)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Pi(t).delete([0,Er(l.path)])})});s.push(p)}}).next(function(){return te.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Xl(t,n)},e.prototype.we=function(t,n){var r,o=Pi(t),s=Wn.o;return o.$t({index:Qt.documentTargetsIndex},function(a,l){var f=a[0];a[1];var p=l.path,g=l.sequenceNumber;f===0?(s!==Wn.o&&n(new ve(ti(r)),s),s=g,r=p):s=Wn.o}).next(function(){s!==Wn.o&&n(new ve(ti(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Xl(e,t){return Pi(e).put(function(n,r){return new Qt(0,Er(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var a=s[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){ns(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var a=s[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return GS(this.inner)},e}(),D1=function(){function e(){this.changes=new xu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Ue.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:dn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?te.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),aV=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Ni(t).put(Yl(n),r)},e.prototype.removeEntry=function(t,n){var r=Ni(t),o=Yl(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return Ni(t).get(Yl(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return Ni(t).get(Yl(n)).next(function(o){return{document:r.ye(n,o),size:jf(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=Ir();return this.pe(t,n,function(s,a){var l=r.ye(s,a);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=Ir(),s=new pn(ve.comparator);return this.pe(t,n,function(a,l){var f=r.ye(a,l);o=o.insert(a,f),s=s.insert(a,jf(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return te.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Ni(t).$t({range:o},function(l,f,p){for(var g=ve.fromSegments(l);a&&ve.comparator(a,g)<0;)r(a,null),a=s.getNext();a&&a.isEqual(g)&&(r(a,f),a=s.hasNext()?s.getNext():null),a?p.Ct(a.path.toArray()):p.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=Ir(),a=n.path.length+1,l={};if(r.isEqual(Ue.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var p=n.path.toArray(),g=vy(r);l.range=IDBKeyRange.lowerBound([p,g],!0),l.index=Et.collectionReadTimeIndex}return Ni(t).$t(l,function(h,m,y){if(h.length===a){var _=zg(o.R,m);n.path.isPrefixOf(_.key.path)?kc(n,_)&&(s=s.insert(_.key,_)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new cV(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return vE(t).get(jr.key).next(function(n){return ke(!!n),n})},e.prototype.me=function(t,n){return vE(t).put(jr.key,n)},e.prototype.ye=function(t,n){if(n){var r=zg(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Ue.min()))return r}return dn.newInvalidDocument(t)},e}(),cV=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new xu(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),o}return _e(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,a=new jt(function(l,f){return qe(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var p=r.Ae.get(l);if(f.document.isValidDocument()){var g=lE(r.Ie.R,f.document,r.getReadTime(l));a=a.add(l.path.popLast());var h=jf(g);s+=h-p,o.push(r.Ie.addEntry(n,l,g))}else if(s-=p,r.trackRemovals){var m=lE(r.Ie.R,dn.newNoDocument(l,Ue.min()),r.getReadTime(l));o.push(r.Ie.addEntry(n,l,m))}else o.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),te.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(D1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(e){return Vn(e,jr.store)}function Ni(e){return Vn(e,Et.store)}function Yl(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lV=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;ke(r<o&&r>=0&&o<=11);var a=new A1("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore($n.store)}(t),function(f){f.createObjectStore(qi.store,{keyPath:qi.keyPath}),f.createObjectStore(st.store,{keyPath:st.keyPath,autoIncrement:!0}).createIndex(st.userMutationsIndex,st.userMutationsKeyPath,{unique:!0}),f.createObjectStore(un.store)}(t),yE(t),function(f){f.createObjectStore(Et.store)}(t));var l=te.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(Qt.store),f.deleteObjectStore(Dn.store),f.deleteObjectStore(Kn.store)}(t),yE(t)),l=l.next(function(){return function(f){var p=f.store(Kn.store),g=new Kn(0,0,Ue.min().toTimestamp(),0);return p.put(Kn.key,g)}(a)})),r<4&&o>=4&&(r!==0&&(l=l.next(function(){return function(f,p){return p.store(st.store).Nt().next(function(g){f.deleteObjectStore(st.store),f.createObjectStore(st.store,{keyPath:st.keyPath,autoIncrement:!0}).createIndex(st.userMutationsIndex,st.userMutationsKeyPath,{unique:!0});var h=p.store(st.store),m=g.map(function(y){return h.put(y)});return te.waitFor(m)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(ri.store,{keyPath:ri.keyPath})})(t)})),r<5&&o>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(jr.store)}(t),s.be(a)})),r<7&&o>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&o>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var p=f.objectStore(Et.store);p.createIndex(Et.readTimeIndex,Et.readTimeIndexPath,{unique:!1}),p.createIndex(Et.collectionReadTimeIndex,Et.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(lu.store,{keyPath:lu.keyPath})})(t),function(f){f.createObjectStore(fu.store,{keyPath:fu.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Et.store).$t(function(r,o){n+=jf(o)}).next(function(){var r=new jr(n);return t.store(jr.store).put(jr.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(qi.store),o=t.store(st.store);return r.Nt().next(function(s){return te.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(st.userMutationsIndex,l).next(function(f){return te.forEach(f,function(p){ke(p.userId===a.userId);var g=Us(n.R,p);return R1(t,a.userId,g).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Qt.store),r=t.store(Et.store);return t.store(Kn.store).get(Kn.key).next(function(o){var s=[];return r.$t(function(a,l){var f=new Qe(a),p=function(g){return[0,Er(g)]}(f);s.push(n.get(p).next(function(g){return g?te.resolve():function(h){return n.put(new Qt(0,Er(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return te.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(jo.store,{keyPath:jo.keyPath});var r=n.store(jo.store),o=new yy,s=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return r.put({collectionId:l,parent:Er(f)})}};return n.store(Et.store).$t({Ft:!0},function(a,l){var f=new Qe(a);return s(f.popLast())}).next(function(){return n.store(un.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var p=ti(f);return s(p.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Dn.store);return r.$t(function(o,s){var a=Sa(s),l=C1(n.R,a);return r.put(l)})},e}();function yE(e){e.createObjectStore(Qt.store,{keyPath:Qt.keyPath}).createIndex(Qt.documentTargetsIndex,Qt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Dn.store,{keyPath:Dn.keyPath}).createIndex(Dn.queryTargetsIndexName,Dn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Kn.store)}var Ym="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fV=function(){function e(t,n,r,o,s,a,l,f,p,g){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=p,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new Z(F.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uV(this,o),this.Le=n+"main",this.R=new S1(f),this.Be=new hu(this.Le,11,new lV(this.R)),this.qe=new rV(this.referenceDelegate,this.R),this.Ut=new tV,this.Ue=function(h,m){return new aV(h,m)}(this.R,this.Ut),this.Ke=new ZF,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&Dt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Z(F.FAILED_PRECONDITION,Ym);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Wn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return K(n,void 0,void 0,function(){return H(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return K(n,void 0,void 0,function(){return H(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return K(n,void 0,void 0,function(){return H(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Ql(n).put(new ri(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(is(n))return oe("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return ba(t).get($n.key).next(function(r){return te.resolve(n.tn(r))})},e.prototype.en=function(t){return Ql(t).delete(this.clientId)},e.prototype.nn=function(){return K(this,void 0,void 0,function(){var t,n,r,o,s=this;return H(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Vn(l,ri.store);return f.Nt().next(function(p){var g=s.rn(p,18e5),h=p.filter(function(m){return g.indexOf(m)===-1});return te.forEach(h,function(m){return f.delete(m.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?te.resolve(!0):ba(t).get($n.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new Z(F.FAILED_PRECONDITION,Ym);return!1}}return!(!n.networkEnabled||!n.inForeground)||Ql(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&oe("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return K(this,void 0,void 0,function(){var t=this;return H(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[$n.store,ri.store],function(r){var o=new cE(r,Wn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Ql(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return nV.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;oe("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,XF,function(l){return s=new cE(l,o.Ne?o.Ne.next():Wn.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw Dt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new Z(F.FAILED_PRECONDITION,E1);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return ba(t).get($n.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new Z(F.FAILED_PRECONDITION,Ym)})},e.prototype.Ze=function(t){var n=new $n(this.clientId,this.allowTabSynchronization,Date.now());return ba(t).put($n.key,n)},e.yt=function(){return hu.yt()},e.prototype.Xe=function(t){var n=this,r=ba(t);return r.get($n.key).next(function(o){return n.tn(o)?(oe("IndexedDbPersistence","Releasing primary lease."),r.delete($n.key)):te.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Dt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),yL()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return oe("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return Dt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Dt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function ba(e){return Vn(e,$n.store)}function Ql(e){return Vn(e,ri.store)}function _y(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var P1=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):ly(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new ve(n)).next(function(r){var o=Kg();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,a=Kg();return this.Ut.getCollectionParents(t,s).next(function(l){return te.forEach(l,function(f){var p=function(g,h){return new li(h,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(s));return o.An(t,p,r).next(function(g){g.forEach(function(h,m){a=a.insert(h,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var o,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,o).next(function(f){o=f;for(var p=0,g=s;p<g.length;p++)for(var h=g[p],m=0,y=h.mutations;m<y.length;m++){var _=y[m],I=_.key,T=o.get(I);T==null&&(T=dn.newInvalidDocument(I),o=o.insert(I,T)),$g(_,T,h.localWriteTime),T.isFoundDocument()||(o=o.remove(I))}})}).next(function(){return o.forEach(function(l,f){kc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,r){for(var o=ot(),s=0,a=n;s<a.length;s++)for(var l=0,f=a[s].mutations;l<f.length;l++){var p=f[l];p instanceof Qi&&r.get(p.key)===null&&(o=o.add(p.key))}var g=r;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(m,y){y.isFoundDocument()&&(g=g.insert(m,y))}),g})},e}(),hV=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=ot(),o=ot(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),L1=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Ue.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=s.Cn(n,a);return(hf(n)||Vf(n))&&s.Nn(n.limitType,l,o,r)?s.Dn(t,n):(jg()<=We.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Hg(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return l.forEach(function(p){f=f.insert(p.key,p)}),f}))})},e.prototype.Cn=function(t,n){var r=new jt(t1(t));return n.forEach(function(o,s){kc(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return jg()<=We.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Hg(n)),this.Sn.getDocumentsMatchingQuery(t,n,Ue.min())},e}(),dV=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new pn(qe),this.Fn=new xu(function(s){return Tc(s)},Dh),this.$n=Ue.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new P1(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(e,t,n,r){return new dV(e,t,n,r)}function F1(e,t){return K(this,void 0,void 0,function(){var n,r,o,s;return H(this,function(a){switch(a.label){case 0:return n=le(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(p){return f=p,r=n.persistence.getMutationQueue(t),o=new P1(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(p){for(var g=[],h=[],m=ot(),y=0,_=f;y<_.length;y++){var I=_[y];g.push(I.batchId);for(var T=0,E=I.mutations;T<E.length;T++){var R=E[T];m=m.add(R.key)}}for(var k=0,D=p;k<D.length;k++){var B=D[k];h.push(B.batchId);for(var P=0,z=B.mutations;P<z.length;P++){var L=z[P];m=m.add(L.key)}}return o.pn(l,m).next(function(X){return{Ln:X,removedBatchIds:g,addedBatchIds:h}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function pV(e,t){var n=le(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,p){var g=f.batch,h=g.keys(),m=te.resolve();return h.forEach(function(y){m=m.next(function(){return p.getEntry(l,y)}).next(function(_){var I=f.docVersions.get(y);ke(I!==null),_.version.compareTo(I)<0&&(g.applyToRemoteDocument(_,f),_.isValidDocument()&&p.addEntry(_,f.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,g)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function V1(e){var t=le(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function mV(e,t){var n=le(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(g,h){var m=o.get(h);if(m){l.push(n.qe.removeMatchingKeys(s,g.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,g.addedDocuments,h)}));var y=g.resumeToken;if(y.approximateByteSize()>0){var _=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,_),function(I,T,E){return ke(T.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,_,g)&&l.push(n.qe.updateTargetData(s,_))}}});var f=Ir();if(t.documentUpdates.forEach(function(g,h){t.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),l.push(gV(s,a,t.documentUpdates,r,void 0).next(function(g){f=g})),!r.isEqual(Ue.min())){var p=n.qe.getLastRemoteSnapshotVersion(s).next(function(g){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(p)}return te.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function gV(e,t,n,r,o){var s=ot();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=Ir();return n.forEach(function(f,p){var g=a.get(f),h=(o==null?void 0:o.get(f))||r;p.isNoDocument()&&p.version.isEqual(Ue.min())?(t.removeEntry(f,h),l=l.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p,h),l=l.insert(f,p)):oe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),l})}function vV(e,t){var n=le(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function qf(e,t){var n=le(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,te.resolve(o)):n.qe.allocateTargetId(r).next(function(a){return o=new Fh(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function mu(e,t,n){return K(this,void 0,void 0,function(){var r,o,s,a;return H(this,function(l){switch(l.label){case 0:r=le(e),o=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!is(a=l.sent()))throw a;return oe("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function Hf(e,t,n){var r=le(e),o=Ue.min(),s=ot();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,p){var g=le(l),h=g.Fn.get(p);return h!==void 0?te.resolve(g.kn.get(h)):g.qe.getTargetData(f,p)}(r,a,Gr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?o:Ue.min(),n?s:ot())}).next(function(l){return{documents:l,Bn:s}})})}function U1(e,t){var n=le(e),r=le(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function j1(e){var t=le(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var a=le(r),l=Ir(),f=vy(s),p=Ni(o),g=IDBKeyRange.lowerBound(f,!0);return p.$t({index:Et.readTimeIndex,range:g},function(h,m){var y=zg(a.R,m);l=l.insert(y.key,y),f=m.readTime}).next(function(){return{wn:l,readTime:k1(f)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,o=n.readTime;return t.$n=o,r})}function yV(e){return K(this,void 0,void 0,function(){var t;return H(this,function(n){return[2,(t=le(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=Ni(o),a=Ue.min();return s.$t({index:Et.readTimeIndex,reverse:!0},function(l,f,p){f.readTime&&(a=k1(f.readTime)),p.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _V=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return te.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Sn(r.createTime)}),te.resolve()},e.prototype.getNamedQuery=function(t,n){return te.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:x1(r.bundledQuery),readTime:Sn(r.readTime)}}(n)),te.resolve()},e}(),wy=function(){function e(){this.Wn=new jt(qt.Gn),this.zn=new jt(qt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new qt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new qt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new ve(new Qe([])),o=new qt(r,t),s=new qt(r,t+1),a=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new ve(new Qe([])),r=new qt(n,t),o=new qt(n,t+1),s=ot();return this.zn.forEachInRange([r,o],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new qt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),qt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return ve.comparator(t.key,n.key)||qe(t.ns,n.ns)},e.Hn=function(t,n){return qe(t.ns,n.ns)||ve.comparator(t.key,n.key)},e}(),wV=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new jt(qt.Gn)}return e.prototype.checkEmpty=function(t){return te.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new gy(s,n,r,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var p=f[l];this.rs=this.rs.add(new qt(p.key,s)),this.Ut.addToCollectionParentIndex(t,p.key.path.popLast())}return te.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return te.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return te.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return te.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return te.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new qt(n,0),s=new qt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,s],function(l){var f=r.os(l.ns);a.push(f)}),te.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new jt(qe);return n.forEach(function(s){var a=new qt(s,0),l=new qt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),te.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;ve.isDocumentKey(s)||(s=s.child(""));var a=new qt(new ve(s),0),l=new jt(qe);return this.rs.forEachWhile(function(f){var p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(l=l.add(f.ns)),!0)},a),te.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;ke(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return te.forEach(n.mutations,function(s){var a=new qt(s.key,n.batchId);return o=o.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new qt(n,0),o=this.rs.firstAfterOrEqual(r);return te.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,te.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),bV=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new pn(ve.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return te.resolve(r?r.document.clone():dn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=Ir();return n.forEach(function(s){var a=r.docs.get(s);o=o.insert(s,a?a.document.clone():dn.newInvalidDocument(s))}),te.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=Ir(),s=new ve(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),f=l.key,p=l.value,g=p.document,h=p.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(r)<=0||kc(n,g)&&(o=o.insert(g.key,g.clone()))}return te.resolve(o)},e.prototype.fs=function(t,n){return te.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new IV(this)},e.prototype.getSize=function(t){return te.resolve(this.size)},e}(),IV=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return _e(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?o.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),te.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(D1),EV=function(){function e(t){this.persistence=t,this.ds=new xu(function(n){return Tc(n)},Dh),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.ws=0,this._s=new wy,this.targetCount=0,this.ys=Bf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),te.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return te.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return te.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),te.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),te.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Bf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,te.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),te.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,te.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),te.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return te.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return te.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),te.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(a){s.push(o.markPotentiallyOrphaned(t,a))}),te.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),te.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return te.resolve(r)},e.prototype.containsKey=function(t,n){return te.resolve(this._s.containsKey(n))},e}(),TV=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Wn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new EV(this),this.Ut=new eV,this.Ue=function(o,s){return new bV(o,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new S1(n),this.Ke=new _V(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new wV(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;oe("MemoryPersistence","Starting transaction:",t);var s=new AV(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return o.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return te.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),AV=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return _e(t,e),t}(T1),SV=function(){function e(t){this.persistence=t,this.As=new wy,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ge()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),te.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),te.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),te.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.vs,function(o){var s=ve.fromPath(o);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return te.or([function(){return te.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Xt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(e,t){return"firestore_clients_"+e+"_"+t}function wE(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Qm(e,t){return"firestore_targets_"+e+"_"+t}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");var bE=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new Z(s.error.code,s.error.message)),a?new e(t,n,s.state,o):(Dt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Jm=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new Z(o.error.code,o.error.message)),s?new e(t,o.state,r):(Dt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),IE=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Mh(),a=0;o&&a<r.activeTargetIds.length;++a)o=XS(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return o?new e(t,s):(Dt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),kV=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Dt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Wg=function(){function e(){this.activeTargetIds=Mh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Zm=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new pn(qe),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=_E(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Wg),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return K(this,void 0,void 0,function(){var t,n,r,o,s,a,l,f,p,g,h,m=this;return H(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(_E(this.persistenceKey,o)))&&(a=IE.Vs(o,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),p=0,g=this.$s;p<g.length;p++)h=g[p],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(Qm(this.persistenceKey,t));if(r){var o=Jm.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Qm(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return oe("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){oe("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){oe("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(oe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Dt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return K(n,void 0,void 0,function(){var o,s,a,l,f,p;return H(this,function(g){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(p=function(h){var m=Wn.o;if(h!=null)try{var y=JSON.parse(h);ke(typeof y=="number"),m=y}catch(_){Dt("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(r.newValue))!==Wn.o&&this.sequenceNumberHandler(p);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new bE(this.currentUser,t,n,r),s=wE(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=wE(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=Qm(this.persistenceKey,t),s=new Jm(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return IE.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return bE.Vs(new Xt(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return Jm.Vs(o,n)},e.prototype.js=function(t){return kV.Vs(t)},e.prototype.ii=function(t){return K(this,void 0,void 0,function(){return H(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(oe("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(p){s.has(p)||l.push(p)}),s.forEach(function(p){a.has(p)||f.push(p)}),this.syncEngine.hi(l,f).then(function(){r.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Mh();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),B1=function(){function e(){this.li=new Wg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Wg,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),CV=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),EE=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),xV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},RV=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),NV=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return _e(t,e),t.prototype.Fi=function(n,r,o,s){return new Promise(function(a,l){var f=new aF;f.listenOnce(oF.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Xm.NO_ERROR:var g=f.getResponseJson();oe("Connection","XHR received:",JSON.stringify(g)),a(g);break;case Xm.TIMEOUT:oe("Connection",'RPC "'+n+'" timed out'),l(new Z(F.DEADLINE_EXCEEDED,"Request time out"));break;case Xm.HTTP_ERROR:var h=f.getStatus();if(oe("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var m=f.getResponseJson().error;if(m&&m.status&&m.message){var y=function(_){var I=_.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(I)>=0?I:F.UNKNOWN}(m.status);l(new Z(y,m.message))}else l(new Z(F.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new Z(F.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{oe("Connection",'RPC "'+n+'" completed.')}});var p=JSON.stringify(s);f.send(r,"POST",p,o,15)})},t.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=rF(),a=iF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new uF({})),this.ki(l.initMessageHeaders,r),fL()||pL()||mL()||gL()||vL()||dL()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");oe("Connection","Creating WebChannel: "+f,l);var p=s.createWebChannel(f,l),g=!1,h=!1,m=new RV({Ei:function(_){h?oe("Connection","Not sending because WebChannel is closed:",_):(g||(oe("Connection","Opening WebChannel transport."),p.open(),g=!0),oe("Connection","WebChannel sending:",_),p.send(_))},Ti:function(){return p.close()}}),y=function(_,I,T){_.listen(I,function(E){try{T(E)}catch(R){setTimeout(function(){throw R},0)}})};return y(p,zl.EventType.OPEN,function(){h||oe("Connection","WebChannel transport opened.")}),y(p,zl.EventType.CLOSE,function(){h||(h=!0,oe("Connection","WebChannel transport closed"),m.Vi())}),y(p,zl.EventType.ERROR,function(_){h||(h=!0,Df("Connection","WebChannel transport errored:",_),m.Vi(new Z(F.UNAVAILABLE,"The operation could not be completed")))}),y(p,zl.EventType.MESSAGE,function(_){var I;if(!h){var T=_.data[0];ke(!!T);var E=T,R=E.error||((I=E[0])===null||I===void 0?void 0:I.error);if(R){oe("Connection","WebChannel received error:",R);var k=R.status,D=function(P){var z=Rt[P];if(z!==void 0)return f1(z)}(k),B=R.message;D===void 0&&(D=F.INTERNAL,B="Unknown error status: "+k+" with message "+R.message),h=!0,m.Vi(new Z(D,B)),p.close()}else oe("Connection","WebChannel received:",T),m.Si(T)}}),y(a,sF.STAT_EVENT,function(_){_.stat===jI.PROXY?oe("Connection","Detected buffering proxy"):_.stat===jI.NOPROXY&&oe("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);oe("RestConnection","Sending: ",s,r);var a={};return this.ki(a,o),this.Fi(t,s,a,r).then(function(l){return oe("RestConnection","Received: ",l),l},function(l){throw Df("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=xV[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){return typeof window<"u"?window:null}function mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(e){return new FF(e,!0)}var by=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-o);s>0&&oe("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),H1=function(){function e(t,n,r,o,s,a){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new by(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return K(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return K(this,void 0,void 0,function(){return H(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return K(this,void 0,void 0,function(){return H(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Dt(n.toString()),Dt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===F.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new Z(F.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return K(t,void 0,void 0,function(){return H(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return oe("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),OV=function(e){function t(n,r,o,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,a)||this).R=s,l}return _e(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var f=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:ge()}(a.targetChange.targetChangeType||"NO_CHANGE"),p=a.targetChange.targetIds||[],g=function(T,E){return T.I?(ke(E===void 0||typeof E=="string"),Mn.fromBase64String(E||"")):(ke(E===void 0||E instanceof Uint8Array),Mn.fromUint8Array(E||new Uint8Array))}(s,a.targetChange.resumeToken),h=(m=a.targetChange.cause)&&function(T){var E=T.code===void 0?F.UNKNOWN:f1(T.code);return new Z(E,T.message||"")}(m);l=new d1(f,p,g,h||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,p=ni(s,f.document.name),g=Sn(f.document.updateTime);var m=new Gn({mapValue:{fields:f.document.fields}}),y=(h=dn.newFoundDocument(p,g,m),f.targetIds||[]),_=f.removedTargetIds||[];l=new pf(y,_,h.key,h)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,p=ni(s,f.document),g=f.readTime?Sn(f.readTime):Ue.min(),m=dn.newNoDocument(p,g),h=f.removedTargetIds||[],l=new pf([],h,m.key,m);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,p=ni(s,f.document),g=f.removedTargetIds||[],l=new pf([],g,p,null);else{if(!("filter"in a))return ge();a.filter;var I=a.filter;I.targetId,f=I.count||0,p=new kF(f),g=I.targetId,l=new h1(g,p)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return Ue.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Ue.min():a.readTime?Sn(a.readTime):Ue.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=ic(this.R),r.addTarget=function(s,a){var l,f=a.target;return(l=Mf(f)?{documents:y1(s,f)}:{query:_1(s,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=p1(s,a.resumeToken):a.snapshotVersion.compareTo(Ue.min())>0&&(l.readTime=nc(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,a){var l=function(f,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ge()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=ic(this.R),r.removeTarget=n,this.cr(r)},t}(H1),DV=function(e){function t(n,r,o,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,a)||this).R=s,l.gr=!1,l}return _e(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(ke(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(ke(a!==void 0),s.map(function(l){return function(f,p){var g=f.updateTime?Sn(f.updateTime):Sn(p);return g.isEqual(Ue.min())&&(g=Sn(p)),new TF(g,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=Sn(n.commitTime);return this.listener.Tr(o,r)}return ke(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=ic(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return Uf(r.R,s)})};this.cr(o)},t}(H1),PV=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return _e(t,e),t.prototype.br=function(){if(this.Rr)throw new Z(F.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new Z(F.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new Z(F.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),LV=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Dt(n),this.Vr=!1):oe("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),MV=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return K(s,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return Ji(this)?(oe("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return K(this,void 0,void 0,function(){var p;return H(this,function(g){switch(g.label){case 0:return(p=le(f)).Or.add(4),[4,Ru(p)];case 1:return g.sent(),p.Br.set("Unknown"),p.Or.delete(4),[4,Nc(p)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new LV(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(e){return K(this,void 0,void 0,function(){var t,n;return H(this,function(r){switch(r.label){case 0:if(!Ji(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ru(e){return K(this,void 0,void 0,function(){var t,n;return H(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Uh(e,t){var n=le(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Ty(n)?Ey(n):Ou(n).er()&&Iy(n,t))}function oc(e,t){var n=le(e),r=Ou(n);n.$r.delete(t),r.er()&&$1(n,t),n.$r.size===0&&(r.er()?r.ir():Ji(n)&&n.Br.set("Unknown"))}function Iy(e,t){e.qr.U(t.targetId),Ou(e).mr(t)}function $1(e,t){e.qr.U(t),Ou(e).yr(t)}function Ey(e){e.qr=new PF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ou(e).start(),e.Br.Sr()}function Ty(e){return Ji(e)&&!Ou(e).tr()&&e.$r.size>0}function Ji(e){return le(e).Or.size===0}function K1(e){e.qr=void 0}function FV(e){return K(this,void 0,void 0,function(){return H(this,function(t){return e.$r.forEach(function(n,r){Iy(e,n)}),[2]})})}function VV(e,t){return K(this,void 0,void 0,function(){return H(this,function(n){return K1(e),Ty(e)?(e.Br.Nr(t),Ey(e)):e.Br.set("Unknown"),[2]})})}function UV(e,t,n){return K(this,void 0,void 0,function(){var r,o,s;return H(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof d1&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return K(this,void 0,void 0,function(){var p,g,h,m;return H(this,function(y){switch(y.label){case 0:p=f.cause,g=0,h=f.targetIds,y.label=1;case 1:return g<h.length?(m=h[g],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,p)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),oe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,$f(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof pf?e.qr.X(t):t instanceof h1?e.qr.rt(t):e.qr.et(t),n.isEqual(Ue.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,V1(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var p=l.qr.ut(f);return p.targetChanges.forEach(function(g,h){if(g.resumeToken.approximateByteSize()>0){var m=l.$r.get(h);m&&l.$r.set(h,m.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach(function(g){var h=l.$r.get(g);if(h){l.$r.set(g,h.withResumeToken(Mn.EMPTY_BYTE_STRING,h.snapshotVersion)),$1(l,g);var m=new Fh(h.target,g,1,h.sequenceNumber);Iy(l,m)}}),l.remoteSyncer.applyRemoteEvent(p)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return oe("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,$f(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function $f(e,t,n){return K(this,void 0,void 0,function(){var r=this;return H(this,function(o){switch(o.label){case 0:if(!is(t))throw t;return e.Or.add(1),[4,Ru(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return V1(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return K(r,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return oe("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Nc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function G1(e,t){return t().catch(function(n){return $f(e,n,t)})}function Nu(e){return K(this,void 0,void 0,function(){var t,n,r,o,s;return H(this,function(a){switch(a.label){case 0:t=le(e),n=Wi(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Ji(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,vV(t.localStore,r)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(l,f){l.Fr.push(f);var p=Wi(l);p.er()&&p.pr&&p.Er(f.mutations)}(t,o),[3,6]);case 4:return s=a.sent(),[4,$f(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return z1(t)&&W1(t),[2]}})})}function z1(e){return Ji(e)&&!Wi(e).tr()&&e.Fr.length>0}function W1(e){Wi(e).start()}function jV(e){return K(this,void 0,void 0,function(){return H(this,function(t){return Wi(e).Ar(),[2]})})}function BV(e){return K(this,void 0,void 0,function(){var t,n,r,o;return H(this,function(s){for(t=Wi(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function qV(e,t,n){return K(this,void 0,void 0,function(){var r,o;return H(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),o=JF.from(r,t,n),[4,G1(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Nu(e)];case 2:return s.sent(),[2]}})})}function HV(e,t){return K(this,void 0,void 0,function(){return H(this,function(n){switch(n.label){case 0:return t&&Wi(e).pr?[4,function(r,o){return K(this,void 0,void 0,function(){var s,a;return H(this,function(l){switch(l.label){case 0:return l1(a=o.code)&&a!==F.ABORTED?(s=r.Fr.shift(),Wi(r).sr(),[4,G1(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Nu(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return z1(e)&&W1(e),[2]}})})}function Xg(e,t){return K(this,void 0,void 0,function(){var n;return H(this,function(r){switch(r.label){case 0:return n=le(e),t?(n.Or.delete(2),[4,Nc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Ru(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ou(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=le(n);return s.br(),new OV(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:FV.bind(null,e),Ri:VV.bind(null,e),_r:UV.bind(null,e)}),e.Mr.push(function(n){return K(t,void 0,void 0,function(){return H(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),Ty(e)?Ey(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),K1(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Wi(e){var t=this;return e.Kr||(e.Kr=function(n,r,o){var s=le(n);return s.br(),new DV(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:jV.bind(null,e),Ri:HV.bind(null,e),Ir:BV.bind(null,e),Tr:qV.bind(null,e)}),e.Mr.push(function(n){return K(t,void 0,void 0,function(){return H(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Nu(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(oe("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var $V=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new Fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,o,s){var a=new e(t,n,Date.now()+r,o,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Du(e,t){if(Dt("AsyncQueue",t+": "+e),is(e))return new Z(F.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X1=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||ve.comparator(n.key,r.key)}:function(n,r){return ve.comparator(n.key,r.key)},this.keyedMap=Kg(),this.sortedSet=new pn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),TE=function(){function e(){this.Qr=new pn(ve.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ge():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Kf=function(){function e(t,n,r,o,s,a,l,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,X1.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),KV=function(){this.Wr=void 0,this.listeners=[]},GV=function(){this.queries=new xu(function(e){return e1(e)},Sc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(e,t){return K(this,void 0,void 0,function(){var n,r,o,s,a,l,f;return H(this,function(p){switch(p.label){case 0:if(n=le(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new KV),!o)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=p.sent(),[3,4];case 3:return l=p.sent(),f=Du(l,"Initialization of query '"+Hg(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&ky(n),[2]}})})}function Sy(e,t){return K(this,void 0,void 0,function(){var n,r,o,s,a;return H(this,function(l){return n=le(e),r=t.query,o=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function zV(e,t){for(var n=le(e),r=!1,o=0,s=t;o<s.length;o++){var a=s[o],l=a.query,f=n.queries.get(l);if(f){for(var p=0,g=f.listeners;p<g.length;p++)g[p].Hr(a)&&(r=!0);f.Wr=a}}r&&ky(n)}function WV(e,t,n){var r=le(e),o=r.queries.get(t);if(o)for(var s=0,a=o.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function ky(e){e.Gr.forEach(function(t){t.next()})}var Cy=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new Kf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Kf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y1=function(e){this.key=e},Q1=function(e){this.key=e},J1=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=ot(),this.mutatedKeys=ot(),this.lo=t1(t),this.fo=new X1(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new TE,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,p=hf(this.query)&&s.size===this.query.limit?s.last():null,g=Vf(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var _=s.get(m),I=kc(r.query,y)?y:null,T=!!_&&r.mutatedKeys.has(_.key),E=!!I&&(I.hasLocalMutations||r.mutatedKeys.has(I.key)&&I.hasCommittedMutations),R=!1;_&&I?_.data.isEqual(I.data)?T!==E&&(o.track({type:3,doc:I}),R=!0):r.yo(_,I)||(o.track({type:2,doc:I}),R=!0,(p&&r.lo(I,p)>0||g&&r.lo(I,g)<0)&&(f=!0)):!_&&I?(o.track({type:0,doc:I}),R=!0):_&&!I&&(o.track({type:1,doc:_}),R=!0,(p||g)&&(f=!0)),R&&(I?(l=l.add(I),a=E?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),hf(this.query)||Vf(this.query))for(;l.size>this.query.limit;){var h=hf(this.query)?l.last():l.first();l=l.delete(h.key),a=a.delete(h.key),o.track({type:1,doc:h})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(g,h){return function(m,y){var _=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return _(m)-_(y)}(g.type,h.type)||o.lo(g.doc,h.doc)}),this.po(r);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,p=f!==this.ao;return this.ao=f,a.length!==0||p?{snapshot:new Kf(this.query,t.fo,s,a,t.mutatedKeys,f===0,p,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new TE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=ot(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new Q1(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new Y1(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ot();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Kf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),XV=function(e,t,n){this.query=e,this.targetId=t,this.view=n},YV=function(e){this.key=e,this.bo=!1},QV=function(){function e(t,n,r,o,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new xu(function(l){return e1(l)},Sc),this.Vo=new Map,this.So=new Set,this.Do=new pn(ve.comparator),this.Co=new Map,this.No=new wy,this.xo={},this.ko=new Map,this.Fo=Bf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function JV(e,t){return K(this,void 0,void 0,function(){var n,r,o,s,a,l;return H(this,function(f){switch(f.label){case 0:return n=Dy(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,qf(n.localStore,Gr(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,xy(n,t,r,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Uh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function xy(e,t,n,r){return K(this,void 0,void 0,function(){var o,s,a,l,f,p;return H(this,function(g){switch(g.label){case 0:return e.Oo=function(h,m,y){return function(_,I,T,E){return K(this,void 0,void 0,function(){var R,k,D;return H(this,function(B){switch(B.label){case 0:return R=I.view._o(T),R.Nn?[4,Hf(_.localStore,I.query,!1).then(function(P){var z=P.documents;return I.view._o(z,R)})]:[3,2];case 1:R=B.sent(),B.label=2;case 2:return k=E&&E.targetChanges.get(I.targetId),D=I.view.applyChanges(R,_.isPrimaryClient,k),[2,(Yg(_,I.targetId,D.To),D.snapshot)]}})})}(e,h,m,y)},[4,Hf(e.localStore,t,!0)];case 1:return o=g.sent(),s=new J1(t,o.Bn),a=s._o(o.documents),l=dy.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(a,e.isPrimaryClient,l),Yg(e,n,f.To),p=new XV(t,n,s),[2,(e.Po.set(t,p),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function ZV(e,t){return K(this,void 0,void 0,function(){var n,r,o;return H(this,function(s){switch(s.label){case 0:return n=le(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(a){return!Sc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,mu(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),oc(n.remoteStore,r.targetId),gu(n,r.targetId)}).catch(os)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return gu(n,r.targetId),[4,mu(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function eU(e,t,n){return K(this,void 0,void 0,function(){var r,o,s,a;return H(this,function(l){switch(l.label){case 0:r=Py(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,p){var g,h=le(f),m=Ln.now(),y=p.reduce(function(_,I){return _.add(I.key)},ot());return h.persistence.runTransaction("Locally write mutations","readwrite",function(_){return h.Mn.pn(_,y).next(function(I){g=I;for(var T=[],E=0,R=p;E<R.length;E++){var k=R[E],D=SF(k,g.get(k.key));D!=null&&T.push(new Qi(k.key,D,YS(D.value.mapValue),fn.exists(!0)))}return h._n.addMutationBatch(_,m,T,p)})}).then(function(_){return _.applyToLocalDocumentSet(g),{batchId:_.batchId,changes:g}})}(r.localStore,t)];case 2:return o=l.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){var h=f.xo[f.currentUser.toKey()];h||(h=new pn(qe)),h=h.insert(p,g),f.xo[f.currentUser.toKey()]=h}(r,o.batchId,n),[4,Zi(r,o.changes)];case 3:return l.sent(),[4,Nu(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Du(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function Z1(e,t){return K(this,void 0,void 0,function(){var n,r;return H(this,function(o){switch(o.label){case 0:n=le(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,mV(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?ke(l.bo):s.removedDocuments.size>0&&(ke(l.bo),l.bo=!1))}),[4,Zi(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,os(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function AE(e,t,n){var r=le(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,a){var l=le(s);l.onlineState=a;var f=!1;l.queries.forEach(function(p,g){for(var h=0,m=g.listeners;h<m.length;h++)m[h].zr(a)&&(f=!0)}),f&&ky(l)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function tU(e,t,n){return K(this,void 0,void 0,function(){var r,o,s,a,l,f;return H(this,function(p){switch(p.label){case 0:return(r=le(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(a=(a=new pn(ve.comparator)).insert(s,dn.newNoDocument(s,Ue.min())),l=ot().add(s),f=new hy(Ue.min(),new Map,new jt(qe),a,l),[4,Z1(r,f)]):[3,2];case 1:return p.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),Oy(r),[3,4];case 2:return[4,mu(r.localStore,t,!1).then(function(){return gu(r,t,n)}).catch(os)];case 3:p.sent(),p.label=4;case 4:return[2]}})})}function nU(e,t){return K(this,void 0,void 0,function(){var n,r,o;return H(this,function(s){switch(s.label){case 0:n=le(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,pV(n.localStore,t)];case 2:return o=s.sent(),Ny(n,r,null),Ry(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Zi(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,os(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function rU(e,t,n){return K(this,void 0,void 0,function(){var r,o;return H(this,function(s){switch(s.label){case 0:r=le(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var f=le(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(p){var g;return f._n.lookupMutationBatch(p,l).next(function(h){return ke(h!==null),g=h.keys(),f._n.removeMutationBatch(p,h)}).next(function(){return f._n.performConsistencyCheck(p)}).next(function(){return f.Mn.pn(p,g)})})}(r.localStore,t)];case 2:return o=s.sent(),Ny(r,t,n),Ry(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Zi(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,os(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function iU(e,t){return K(this,void 0,void 0,function(){var n,r,o,s,a;return H(this,function(l){switch(l.label){case 0:Ji((n=le(e)).remoteStore)||oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var p=le(f);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return p._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return s=l.sent(),a=Du(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Ry(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Ny(e,t,n){var r=le(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function gu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||ek(e,a)})}function ek(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(oc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Oy(e))}function Yg(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof Y1?(e.No.addReference(s.key,t),oU(e,s)):s instanceof Q1?(oe("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||ek(e,s.key)):ge()}}function oU(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(oe("SyncEngine","New document in limbo: "+n),e.So.add(r),Oy(e))}function Oy(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ve(Qe.fromString(t)),r=e.Fo.next();e.Co.set(r,new YV(n)),e.Do=e.Do.insert(n,r),Uh(e.remoteStore,new Fh(Gr(Ac(n.path)),r,2,Wn.o))}}function Zi(e,t,n){return K(this,void 0,void 0,function(){var r,o,s,a;return H(this,function(l){switch(l.label){case 0:return r=le(e),o=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,p){a.push(r.Oo(p,t,n).then(function(g){if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,g.fromCache?"not-current":"current"),o.push(g);var h=hV.Pn(p.targetId,g);s.push(h)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(o),[4,function(f,p){return K(this,void 0,void 0,function(){var g,h,m,y,_,I,T,E,R;return H(this,function(k){switch(k.label){case 0:g=le(f),k.label=1;case 1:return k.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(D){return te.forEach(p,function(B){return te.forEach(B.bn,function(P){return g.persistence.referenceDelegate.addReference(D,B.targetId,P)}).next(function(){return te.forEach(B.vn,function(P){return g.persistence.referenceDelegate.removeReference(D,B.targetId,P)})})})})];case 2:return k.sent(),[3,4];case 3:if(!is(h=k.sent()))throw h;return oe("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(m=0,y=p;m<y.length;m++)_=y[m],I=_.targetId,_.fromCache||(T=g.kn.get(I),E=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(E),g.kn=g.kn.insert(I,R));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function sU(e,t){return K(this,void 0,void 0,function(){var n,r;return H(this,function(o){switch(o.label){case 0:return(n=le(e)).currentUser.isEqual(t)?[3,3]:(oe("SyncEngine","User change. New user:",t.toKey()),[4,F1(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new Z(F.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Zi(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function uU(e,t){var n=le(e),r=n.Co.get(t);if(r&&r.bo)return ot().add(r.key);var o=ot(),s=n.Vo.get(t);if(!s)return o;for(var a=0,l=s;a<l.length;a++){var f=l[a],p=n.Po.get(f);o=o.unionWith(p.view.wo)}return o}function aU(e,t){return K(this,void 0,void 0,function(){var n,r,o;return H(this,function(s){switch(s.label){case 0:return[4,Hf((n=le(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&Yg(n,t.targetId,o.To),o)]}})})}function cU(e){return K(this,void 0,void 0,function(){var t;return H(this,function(n){return[2,j1((t=le(e)).localStore).then(function(r){return Zi(t,r)})]})})}function lU(e,t,n,r){return K(this,void 0,void 0,function(){var o,s;return H(this,function(a){switch(a.label){case 0:return[4,function(l,f){var p=le(l),g=le(p._n);return p.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return g.jt(h,f).next(function(m){return m?p.Mn.pn(h,m):te.resolve(null)})})}((o=le(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Nu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Ny(o,t,r||null),Ry(o,t),function(l,f){le(le(l)._n).Gt(f)}(o.localStore,t)):ge(),a.label=4;case 4:return[4,Zi(o,s)];case 5:return a.sent(),[3,7];case 6:oe("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function fU(e,t){return K(this,void 0,void 0,function(){var n,r,o,s,a,l,f,p;return H(this,function(g){switch(g.label){case 0:return Dy(n=le(e)),Py(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,SE(n,r.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,Xg(n.remoteStore,!0)];case 2:for(g.sent(),s=0,a=o;s<a.length;s++)l=a[s],Uh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],p=Promise.resolve(),n.Vo.forEach(function(h,m){n.sharedClientState.isLocalQueryTarget(m)?f.push(m):p=p.then(function(){return gu(n,m),mu(n.localStore,m,!0)}),oc(n.remoteStore,m)}),[4,p]);case 4:return g.sent(),[4,SE(n,f)];case 5:return g.sent(),function(h){var m=le(h);m.Co.forEach(function(y,_){oc(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new pn(ve.comparator)}(n),n.$o=!1,[4,Xg(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function SE(e,t,n){return K(this,void 0,void 0,function(){var r,o,s,a,l,f,p,g,h,m,y,_,I,T;return H(this,function(E){switch(E.label){case 0:r=le(e),o=[],s=[],a=0,l=t,E.label=1;case 1:return a<l.length?(f=l[a],p=void 0,(g=r.Vo.get(f))&&g.length!==0?[4,qf(r.localStore,Gr(g[0]))]:[3,7]):[3,13];case 2:p=E.sent(),h=0,m=g,E.label=3;case 3:return h<m.length?(y=m[h],_=r.Po.get(y),[4,aU(r,_)]):[3,6];case 4:(I=E.sent()).snapshot&&s.push(I.snapshot),E.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,U1(r.localStore,f)];case 8:return T=E.sent(),[4,qf(r.localStore,T)];case 9:return p=E.sent(),[4,xy(r,tk(T),f,!1)];case 10:E.sent(),E.label=11;case 11:o.push(p),E.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function tk(e){return JS(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function hU(e){var t=le(e);return le(le(t.localStore).persistence).fn()}function dU(e,t,n,r){return K(this,void 0,void 0,function(){var o,s,a;return H(this,function(l){switch(l.label){case 0:return(o=le(e)).$o?(oe("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,j1(o.localStore)];case 3:return s=l.sent(),a=hy.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Zi(o,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,mu(o.localStore,t,!0)];case 6:return l.sent(),gu(o,t,r),[3,8];case 7:ge(),l.label=8;case 8:return[2]}})})}function pU(e,t,n){return K(this,void 0,void 0,function(){var r,o,s,a,l,f,p,g,h,m;return H(this,function(y){switch(y.label){case 0:if(!(r=Dy(e)).$o)return[3,10];o=0,s=t,y.label=1;case 1:return o<s.length?(a=s[o],r.Vo.has(a)?(oe("SyncEngine","Adding an already active target "+a),[3,5]):[4,U1(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,qf(r.localStore,l)];case 3:return f=y.sent(),[4,xy(r,tk(l),f.targetId,!1)];case 4:y.sent(),Uh(r.remoteStore,f),y.label=5;case 5:return o++,[3,1];case 6:p=function(_){return H(this,function(I){switch(I.label){case 0:return r.Vo.has(_)?[4,mu(r.localStore,_,!1).then(function(){oc(r.remoteStore,_),gu(r,_)}).catch(os)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},g=0,h=n,y.label=7;case 7:return g<h.length?(m=h[g],[5,p(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function Dy(e){var t=le(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Z1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tU.bind(null,t),t.vo._r=zV.bind(null,t.eventManager),t.vo.Mo=WV.bind(null,t.eventManager),t}function Py(e){var t=le(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rU.bind(null,t),t}var nk=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return K(this,void 0,void 0,function(){return H(this,function(n){switch(n.label){case 0:return this.R=Vh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return M1(this.persistence,new L1,t.initialUser,this.R)},e.prototype.qo=function(t){return new TV(SV.bs,this.R)},e.prototype.Bo=function(t){return new B1},e.prototype.terminate=function(){return K(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),rk=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return _e(t,e),t.prototype.initialize=function(n){return K(this,void 0,void 0,function(){var r=this;return H(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,yV(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Py(this.Qo.syncEngine)];case 4:return o.sent(),[4,Nu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return M1(this.persistence,new L1,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new oV(r,n.asyncQueue)},t.prototype.qo=function(n){var r=_y(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new fV(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,q1(),mf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new B1},t}(nk),mU=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return _e(t,e),t.prototype.initialize=function(n){return K(this,void 0,void 0,function(){var r,o=this;return H(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Zm?(this.sharedClientState.syncEngine={ui:lU.bind(null,r),ai:dU.bind(null,r),hi:pU.bind(null,r),fn:hU.bind(null,r),ci:cU.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return K(o,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return[4,fU(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=q1();if(!Zm.yt(r))throw new Z(F.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=_y(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Zm(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(rk),Qg=function(){function e(){}return e.prototype.initialize=function(t,n){return K(this,void 0,void 0,function(){var r=this;return H(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return AE(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=sU.bind(null,this.syncEngine),[4,Xg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new GV},e.prototype.createDatastore=function(t){var n,r=Vh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new NV(n));return function(s,a,l){return new PV(s,a,l)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,a,l=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return AE(l.syncEngine,f,0)},a=EE.yt()?new EE:new CV,new MV(n,r,o,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,a,l,f,p){var g=new QV(r,o,s,a,l,f);return p&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return K(this,void 0,void 0,function(){var n;return H(this,function(r){switch(r.label){case 0:return n=le(t),oe("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Ru(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),gU=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return K(this,void 0,void 0,function(){var n,r=this;return H(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Z(F.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return K(this,void 0,void 0,function(){var l,f,p,g,h,m;return H(this,function(y){switch(y.label){case 0:return l=le(s),f=ic(l.R)+"/documents",p={documents:a.map(function(_){return rc(l.R,_)})},[4,l.$i("BatchGetDocuments",f,p)];case 1:return g=y.sent(),h=new Map,g.forEach(function(_){var I=function(T,E){return"found"in E?function(R,k){ke(!!k.found),k.found.name,k.found.updateTime;var D=ni(R,k.found.name),B=Sn(k.found.updateTime),P=new Gn({mapValue:{fields:k.found.fields}});return dn.newFoundDocument(D,B,P)}(T,E):"missing"in E?function(R,k){ke(!!k.missing),ke(!!k.readTime);var D=ni(R,k.missing),B=Sn(k.readTime);return dn.newNoDocument(D,B)}(T,E):ge()}(l.R,_);h.set(I.key.toString(),I)}),m=[],[2,(a.forEach(function(_){var I=h.get(_.toString());ke(!!I),m.push(I)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Rc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return K(this,void 0,void 0,function(){var t,n=this;return H(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var a=ve.fromPath(s);n.mutations.push(new fy(a,n.precondition(a)))}),[4,function(o,s){return K(this,void 0,void 0,function(){var a,l,f;return H(this,function(p){switch(p.label){case 0:return a=le(o),l=ic(a.R)+"/documents",f={writes:s.map(function(g){return Uf(a.R,g)})},[4,a.Ni("Commit",l,f)];case 1:return p.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ge();n=Ue.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new Z(F.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?fn.updateTime(n):fn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Ue.min()))throw new Z(F.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fn.updateTime(n)}return fn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),vU=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new by(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return K(t,void 0,void 0,function(){var n,r,o=this;return H(this,function(s){return n=new gU(this.datastore),(r=this.sc(n))&&r.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!rs(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!l1(n)}return!1},e}(),yU=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Xt.UNAUTHENTICATED,this.clientId=$S.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return K(o,void 0,void 0,function(){return H(this,function(a){switch(a.label){case 0:return oe("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return K(this,void 0,void 0,function(){return H(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Z(F.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return K(t,void 0,void 0,function(){var r,o;return H(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=Du(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(e,t){return K(this,void 0,void 0,function(){var n,r,o=this;return H(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return K(o,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,F1(t.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function ok(e,t){return K(this,void 0,void 0,function(){var n,r;return H(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Ly(e)];case 1:return n=o.sent(),oe("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return K(this,void 0,void 0,function(){var f,p;return H(this,function(g){switch(g.label){case 0:return(f=le(a)).asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials"),p=Ji(f),f.Or.add(3),[4,Ru(f)];case 1:return g.sent(),p&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return g.sent(),f.Or.delete(3),[4,Nc(f)];case 3:return g.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Ly(e){return K(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(oe("FirestoreClient","Using default OfflineComponentProvider"),[4,ik(e,new nk)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Bh(e){return K(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(oe("FirestoreClient","Using default OnlineComponentProvider"),[4,ok(e,new Qg)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function kE(e){return Ly(e).then(function(t){return t.persistence})}function sk(e){return Ly(e).then(function(t){return t.localStore})}function CE(e){return Bh(e).then(function(t){return t.remoteStore})}function uk(e){return Bh(e).then(function(t){return t.syncEngine})}function vu(e){return K(this,void 0,void 0,function(){var t,n;return H(this,function(r){switch(r.label){case 0:return[4,Bh(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=JV.bind(null,t.syncEngine),n.onUnlisten=ZV.bind(null,t.syncEngine),n)]}})})}function xE(e,t,n){var r=this;n===void 0&&(n={});var o=new Fn;return e.asyncQueue.enqueueAndForget(function(){return K(r,void 0,void 0,function(){var s;return H(this,function(a){switch(a.label){case 0:return s=function(l,f,p,g,h){var m=new jh({next:function(_){f.enqueueAndForget(function(){return Sy(l,y)});var I=_.docs.has(p);!I&&_.fromCache?h.reject(new Z(F.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&g&&g.source==="server"?h.reject(new Z(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new Cy(Ac(p.path),m,{includeMetadataChanges:!0,so:!0});return Ay(l,y)},[4,vu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function RE(e,t,n){var r=this;n===void 0&&(n={});var o=new Fn;return e.asyncQueue.enqueueAndForget(function(){return K(r,void 0,void 0,function(){var s;return H(this,function(a){switch(a.label){case 0:return s=function(l,f,p,g,h){var m=new jh({next:function(_){f.enqueueAndForget(function(){return Sy(l,y)}),_.fromCache&&g.source==="server"?h.reject(new Z(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new Cy(p,m,{includeMetadataChanges:!0,so:!0});return Ay(l,y)},[4,vu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var _U=function(e,t,n,r,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},Gf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),NE=new Map,ak=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},OE=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Xt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),wU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),bU=function(){function e(t){var n=this;this.currentUser=Xt.UNAUTHENTICATED,this.oc=new Fn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){oe("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?r(o):(oe("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(oe("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(ke(typeof o.accessToken=="string"),new ak(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return K(r,void 0,void 0,function(){return H(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ke(t===null||typeof t=="string"),new Xt(t)},e}(),IU=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),EU=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new IU(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Xt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(e,t,n){if(!n)throw new Z(F.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Fy(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new Z(F.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function ck(e,t,n,r){if(t===!0&&r===!0)throw new Z(F.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function DE(e){if(!ve.isDocumentKey(e))throw new Z(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function PE(e){if(ve.isDocumentKey(e))throw new Z(F.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function qh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ge()}function Je(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Z(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qh(e);throw new Z(F.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function LE(e,t){if(t<=0)throw new Z(F.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ME=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new Z(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Z(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ck("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),sc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ME({}),this._settingsFrozen=!1,t instanceof Gf?(this._databaseId=t,this._credentials=new OE):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Z(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gf(r.options.projectId)}(t),this._credentials=new bU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Z(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Z(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ME(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new OE;switch(n.type){case"gapi":var r=n.client;return ke(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new EU(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Z(F.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=NE.get(t))&&(oe("ComponentProvider","Removing Datastore"),NE.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),yt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Hi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Yn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Hi=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,Ac(o))||this)._path=o,s.type="collection",s}return _e(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new yt(this.firestore,null,new ve(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=nt(e),My("collection","path",t),e instanceof sc)return PE(n=Qe.fromString.apply(Qe,dt([t],r))),new Hi(e,null,n);if(!(e instanceof yt||e instanceof Hi))throw new Z(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return PE(n=Qe.fromString.apply(Qe,dt([e.path],r)).child(Qe.fromString(t))),new Hi(e.firestore,null,n)}function gf(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=nt(e),arguments.length===1&&(t=$S.u()),My("doc","path",t),e instanceof sc)return DE(n=Qe.fromString.apply(Qe,dt([t],r))),new yt(e,null,new ve(n));if(!(e instanceof yt||e instanceof Hi))throw new Z(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return DE(n=e._path.child(Qe.fromString.apply(Qe,dt([t],r)))),new yt(e.firestore,e instanceof Hi?e.converter:null,new ve(n))}function fk(e,t){return e=nt(e),t=nt(t),(e instanceof yt||e instanceof Hi)&&(t instanceof yt||t instanceof Hi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function hk(e,t){return e=nt(e),t=nt(t),e instanceof Yn&&t instanceof Yn&&e.firestore===t.firestore&&Sc(e._query,t._query)&&e.converter===t.converter}var TU=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new by(this,"async_queue_retry"),this.Ic=function(){var r=mf();r&&oe("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=mf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=mf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new Fn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return K(this,void 0,void 0,function(){var t,n=this;return H(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!is(t=r.sent()))throw t;return oe("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Dt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=$V.createAndSchedule(this,t,n,r,function(a){return o.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&ge()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return K(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function yu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var a=s[o];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var AU=-1,Ut=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new TU,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return _e(t,e),t.prototype._terminate=function(){return this._firestoreClient||dk(this),this._firestoreClient.terminate()},t}(sc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(e){return e._firestoreClient||dk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function dk(e){var t,n=e._freezeSettings(),r=function(o,s,a,l){return new _U(o,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new yU(e._credentials,e._queue,r)}function FE(e,t,n){var r=this,o=new Fn;return e.asyncQueue.enqueue(function(){return K(r,void 0,void 0,function(){var s;return H(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,ik(e,n)];case 1:return a.sent(),[4,ok(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===F.FAILED_PRECONDITION||l.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function VE(e){if(e._initialized||e._terminated)throw new Z(F.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new Z(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Jo=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Mn.fromBase64String(t))}catch(n){throw new Z(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Mn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),ss=function(e){this._methodName=e},Hh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new Z(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Z(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return qe(this._lat,t._lat)||qe(this._long,t._long)},e}(),SU=/^__.*__$/,kU=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Qi(t,this.data,this.fieldMask,n,this.fieldTransforms):new xc(t,this.data,n,this.fieldTransforms)},e}(),pk=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Qi(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}var gk=function(){function e(t,n,r,o,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return zf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(mk(this.Nc)&&SU.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),CU=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Vh(t)}return e.prototype.Uc=function(t,n,r,o){return o===void 0&&(o=!1),new gk({Nc:t,methodName:n,qc:r,path:Tr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function us(e){var t=e._freezeSettings(),n=Vh(e._databaseId);return new CU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $h(e,t,n,r,o,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);By("Data must be an object, but it was:",a,r);var l,f,p=_k(r,a);if(s.merge)l=new iu(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){for(var g=[],h=0,m=s.mergeFields;h<m.length;h++){var y=Jg(t,m[h],n);if(!a.contains(y))throw new Z(F.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");bk(g,y)||g.push(y)}l=new iu(g),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new kU(new Gn(p),l,f)}var Vy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(ss);function vk(e,t,n){return new gk({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var xU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype._toFieldTransform=function(n){return new Cc(n.path,new au)},t.prototype.isEqual=function(n){return n instanceof t},t}(ss),RU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return _e(t,e),t.prototype._toFieldTransform=function(n){var r=vk(this,n,!0),o=this.Kc.map(function(a){return as(a,r)}),s=new Yo(o);return new Cc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(ss),NU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return _e(t,e),t.prototype._toFieldTransform=function(n){var r=vk(this,n,!0),o=this.Kc.map(function(a){return as(a,r)}),s=new Qo(o);return new Cc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(ss),OU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Qc=r,o}return _e(t,e),t.prototype._toFieldTransform=function(n){var r=new cu(n.R,i1(n.R,this.Qc));return new Cc(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(ss);function Uy(e,t,n,r){var o=e.Uc(1,t,n);By("Data must be an object, but it was:",o,r);var s=[],a=Gn.empty();ns(r,function(f,p){var g=qy(t,f,n);p=nt(p);var h=o.Oc(g);if(p instanceof Vy)s.push(g);else{var m=as(p,h);m!=null&&(s.push(g),a.set(g,m))}});var l=new iu(s);return new pk(a,l,o.fieldTransforms)}function jy(e,t,n,r,o,s){var a=e.Uc(1,t,n),l=[Jg(t,r,n)],f=[o];if(s.length%2!=0)throw new Z(F.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<s.length;p+=2)l.push(Jg(t,s[p])),f.push(s[p+1]);for(var g=[],h=Gn.empty(),m=l.length-1;m>=0;--m)if(!bk(g,l[m])){var y=l[m],_=f[m];_=nt(_);var I=a.Oc(y);if(_ instanceof Vy)g.push(y);else{var T=as(_,I);T!=null&&(g.push(y),h.set(y,T))}}var E=new iu(g);return new pk(h,E,a.fieldTransforms)}function yk(e,t,n,r){return r===void 0&&(r=!1),as(n,e.Uc(r?4:3,t))}function as(e,t){if(wk(e=nt(e)))return By("Unsupported field value:",t,e),_k(e,t);if(e instanceof ss)return function(n,r){if(!mk(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,a=0,l=n;a<l.length;a++){var f=as(l[a],r.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=nt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return i1(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Ln.fromDate(n);return{timestampValue:nc(r.R,o)}}if(n instanceof Ln)return o=new Ln(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:nc(r.R,o)};if(n instanceof Hh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Jo)return{bytesValue:p1(r.R,n._byteString)};if(n instanceof yt){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:py(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+qh(n))}(e,t)}function _k(e,t){var n={};return GS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ns(e,function(r,o){var s=as(o,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ln||e instanceof Hh||e instanceof Jo||e instanceof yt||e instanceof ss)}function By(e,t,n){if(!wk(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=qh(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Jg(e,t,n){if((t=nt(t))instanceof Br)return t._internalPath;if(typeof t=="string")return qy(e,t);throw zf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var DU=new RegExp("[~\\*/\\[\\]]");function qy(e,t,n){if(t.search(DU)>=0)throw zf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Br.bind.apply(Br,dt([void 0],t.split("."))))()._internalPath}catch{throw zf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function zf(e,t,n,r,o){var s=r&&!r.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||a)&&(f+=" (found",s&&(f+=" in field "+r),a&&(f+=" in document "+o),f+=")"),new Z(F.INVALID_ARGUMENT,(l+=". ")+e+f)}function bk(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uc=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new yt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new PU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Wf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),PU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(uc);function Wf(e,t){return typeof t=="string"?qy(e,t):t instanceof Br?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ii=function(e){function t(n,r,o,s,a,l){var f=this;return(f=e.call(this,n,r,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return _e(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Pa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(Wf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(uc),Pa=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ii),Li=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Mo(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new Pa(r._firestore,r._userDataWriter,o.key,o,new Mo(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new Pa(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Mo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Pa(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Mo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),p=-1,g=-1;return l.type!==0&&(p=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(g=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:LU(l.type),doc:f,oldIndex:p,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function LU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}function Ik(e,t){return e instanceof ii&&t instanceof ii?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Li&&t instanceof Li&&e._firestore===t._firestore&&hk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(e){if(Vf(e)&&e.explicitOrderBy.length===0)throw new Z(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Oc=function(){};function Si(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var MU=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=o,s.type="where",s}return _e(t,e),t.prototype._apply=function(n){var r=us(n.firestore),o=function(s,a,l,f,p,g,h){var m;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Z(F.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){HE(h,g);for(var y=[],_=0,I=h;_<I.length;_++){var T=I[_];y.push(qE(f,s,T))}m={arrayValue:{values:y}}}else m=qE(f,s,h)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||HE(h,g),m=yk(l,"where",h,g==="in"||g==="not-in");var E=Xn.create(p,g,m);return function(R,k){if(k.g()){var D=cy(R);if(D!==null&&!D.isEqual(k.field))throw new Z(F.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+D.toString()+"' and '"+k.field.toString()+"'");var B=ay(R);B!==null&&Ak(R,k.field,B)}var P=function(z,L){for(var X=0,C=z.filters;X<C.length;X++){var Ee=C[X];if(L.indexOf(Ee.op)>=0)return Ee.op}return null}(R,function(z){switch(z){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(k.op));if(P!==null)throw P===k.op?new Z(F.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+k.op.toString()+"' filter."):new Z(F.INVALID_ARGUMENT,"Invalid query. You cannot use '"+k.op.toString()+"' filters with '"+P.toString()+"' filters.")}(s,E),E}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Yn(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new li(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(Oc),FU=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return _e(t,e),t.prototype._apply=function(n){var r=function(o,s,a){if(o.startAt!==null)throw new Z(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Z(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Ws(s,a);return function(f,p){if(ay(f)===null){var g=cy(f);g!==null&&Ak(f,g,p.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Yn(n.firestore,n.converter,function(o,s){var a=o.explicitOrderBy.concat([s]);return new li(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(Oc),UE=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return _e(t,e),t.prototype._apply=function(n){return new Yn(n.firestore,n.converter,ZS(n._query,this.Hc,this.Jc))},t}(Oc),jE=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return _e(t,e),t.prototype._apply=function(n){var r=Tk(n,this.type,this.Yc,this.Xc);return new Yn(n.firestore,n.converter,function(o,s){return new li(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(Oc),BE=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return _e(t,e),t.prototype._apply=function(n){var r=Tk(n,this.type,this.Yc,this.Xc);return new Yn(n.firestore,n.converter,function(o,s){return new li(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(Oc);function Tk(e,t,n,r){if(n[0]=nt(n[0]),n[0]instanceof uc)return function(s,a,l,f,p){if(!f)throw new Z(F.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var g=[],h=0,m=uu(s);h<m.length;h++){var y=m[h];if(y.field.isKeyField())g.push(Lf(a,f.key));else{var _=f.data.field(y.field);if(oy(_))throw new Z(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var I=y.field.canonicalString();throw new Z(F.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}g.push(_)}}return new tc(g,p)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=us(e.firestore);return function(s,a,l,f,p,g){var h=s.explicitOrderBy;if(p.length>h.length)throw new Z(F.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<p.length;y++){var _=p[y];if(h[y].field.isKeyField()){if(typeof _!="string")throw new Z(F.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!ly(s)&&_.indexOf("/")!==-1)throw new Z(F.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var I=s.path.child(Qe.fromString(_));if(!ve.isDocumentKey(I))throw new Z(F.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var T=new ve(I);m.push(Lf(a,T))}else{var E=yk(l,f,_);m.push(E)}}return new tc(m,g)}(e._query,e.firestore._databaseId,o,t,n,r)}function qE(e,t,n){if(typeof(n=nt(n))=="string"){if(n==="")throw new Z(F.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ly(t)&&n.indexOf("/")!==-1)throw new Z(F.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Qe.fromString(n));if(!ve.isDocumentKey(r))throw new Z(F.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Lf(e,new ve(r))}if(n instanceof yt)return Lf(e,n._key);throw new Z(F.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+qh(n)+".")}function HE(e,t){if(!Array.isArray(e)||e.length===0)throw new Z(F.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Z(F.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ak(e,t,n){if(!n.isEqual(t))throw new Z(F.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hy=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Xo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Nt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ou(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ge()}},e.prototype.convertObject=function(t,n){var r=this,o={};return ns(t.fields,function(s,a){o[s]=r.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new Hh(Nt(t.latitude),Nt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=WS(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Za(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=zi(t);return new Ln(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Qe.fromString(t);ke(I1(r));var o=new Gf(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return o.isEqual(n)||Dt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var VU=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return _e(t,e),t.prototype.convertBytes=function(n){return new Jo(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new yt(this.firestore,null,r)},t}(Hy),UU=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=us(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=Mi(t,this._firestore),s=Kh(o.converter,n,r),a=$h(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(a.toMutation(o._key,fn.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var a,l=Mi(t,this._firestore);return a=typeof(n=nt(n))=="string"||n instanceof Br?jy(this._dataReader,"WriteBatch.update",l._key,n,r,o):Uy(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,fn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Mi(t,this._firestore);return this._mutations=this._mutations.concat(new Rc(n._key,fn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Z(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(e,t){if((e=nt(e)).firestore!==t)throw new Z(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bo=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return _e(t,e),t.prototype.convertBytes=function(n){return new Jo(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new yt(this.firestore,null,r)},t}(Hy);function $E(e,t,n){e=Je(e,yt);var r=Je(e.firestore,Ut),o=Kh(e.converter,t,n);return Dc(r,[$h(us(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,fn.none())])}function KE(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=Je(e,yt);var s=Je(e.firestore,Ut),a=us(s);return Dc(s,[(typeof(t=nt(t))=="string"||t instanceof Br?jy(a,"updateDoc",e._key,t,n,r):Uy(a,"updateDoc",e._key,t)).toMutation(e._key,fn.exists(!0))])}function Sk(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=nt(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||yu(o[l])||(a=o[l],l++);var f,p,g,h={includeMetadataChanges:a.includeMetadataChanges};if(yu(o[l])){var m=o[l];o[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),o[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),o[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof yt)p=Je(e.firestore,Ut),g=Ac(e._key.path),f={next:function(I){o[l]&&o[l](Zg(p,e,I))},error:o[l+1],complete:o[l+2]};else{var y=Je(e,Yn);p=Je(y.firestore,Ut),g=y._query;var _=new Bo(p);f={next:function(I){o[l]&&o[l](new Li(p,_,y,I))},error:o[l+1],complete:o[l+2]},Ek(e._query)}return function(I,T,E,R){var k=this,D=new jh(R),B=new Cy(T,D,E);return I.asyncQueue.enqueueAndForget(function(){return K(k,void 0,void 0,function(){var P;return H(this,function(z){switch(z.label){case 0:return P=Ay,[4,vu(I)];case 1:return[2,P.apply(void 0,[z.sent(),B])]}})})}),function(){D.Wo(),I.asyncQueue.enqueueAndForget(function(){return K(k,void 0,void 0,function(){var P;return H(this,function(z){switch(z.label){case 0:return P=Sy,[4,vu(I)];case 1:return[2,P.apply(void 0,[z.sent(),B])]}})})})}}(an(p),g,h,f)}function Dc(e,t){return function(n,r){var o=this,s=new Fn;return n.asyncQueue.enqueueAndForget(function(){return K(o,void 0,void 0,function(){var a;return H(this,function(l){switch(l.label){case 0:return a=eU,[4,uk(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(an(e),t)}function Zg(e,t,n){var r=n.docs.get(t._key),o=new Bo(e);return new ii(e,o,t._key,r,new Mo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jU=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return _e(t,e),t.prototype.get=function(n){var r=this,o=Mi(n,this._firestore),s=new Bo(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new ii(r._firestore,s,o._key,a._document,new Mo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=us(t)}return e.prototype.get=function(t){var n=this,r=Mi(t,this._firestore),o=new VU(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return ge();var a=s[0];if(a.isFoundDocument())return new uc(n._firestore,o,a.key,a,r.converter);if(a.isNoDocument())return new uc(n._firestore,o,r._key,null,r.converter);throw ge()})},e.prototype.set=function(t,n,r){var o=Mi(t,this._firestore),s=Kh(o.converter,n,r),a=$h(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a,l=Mi(t,this._firestore);return a=typeof(n=nt(n))=="string"||n instanceof Br?jy(this._dataReader,"Transaction.update",l._key,n,r,o):Uy(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Mi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(){if(typeof Uint8Array>"u")throw new Z(F.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function zE(){if(typeof atob>"u")throw new Z(F.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var kk=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return zE(),new e(Jo.fromBase64String(t))},e.fromUint8Array=function(t){return GE(),new e(Jo.fromUint8Array(t))},e.prototype.toBase64=function(){return zE(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return GE(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),BU=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){VE(r=Je(r,Ut));var s=an(r),a=r._freezeSettings(),l=new Qg;return FE(s,l,new rk(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){VE(n=Je(n,Ut));var r=an(n),o=n._freezeSettings(),s=new Qg;return FE(r,s,new mU(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new Z(F.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Fn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return K(r,void 0,void 0,function(){var s;return H(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return K(this,void 0,void 0,function(){var f;return H(this,function(p){switch(p.label){case 0:return hu.yt()?(f=l+"main",[4,hu.delete(f)]):[2,Promise.resolve()];case 1:return p.sent(),[2]}})})}(_y(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return s=a.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),Ck=function(){function e(t,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Gf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Df("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,a,l){var f;l===void 0&&(l={});var p=(o=Je(o,sc))._getSettings();if(p.host!=="firestore.googleapis.com"&&p.host!==s&&Df("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},p),{host:s+":"+a,ssl:!1})),l.mockUserToken){var g,h;if(typeof l.mockUserToken=="string")g=l.mockUserToken,h=Xt.MOCK_USER;else{g=LA(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new Z(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Xt(m)}o._credentials=new wU(new ak(g,h))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return K(n,void 0,void 0,function(){var r,o;return H(this,function(s){switch(s.label){case 0:return[4,kE(t)];case 1:return r=s.sent(),[4,CE(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=le(a);return l.Or.delete(0),Nc(l)}(o))]}})})})}(an(Je(this._delegate,Ut)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return K(n,void 0,void 0,function(){var r,o;return H(this,function(s){switch(s.label){case 0:return[4,kE(t)];case 1:return r=s.sent(),[4,CE(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return K(this,void 0,void 0,function(){var l;return H(this,function(f){switch(f.label){case 0:return(l=le(a)).Or.add(0),[4,Ru(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(an(Je(this._delegate,Ut)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&ck("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new Fn;return t.asyncQueue.enqueueAndForget(function(){return K(n,void 0,void 0,function(){var o;return H(this,function(s){switch(s.label){case 0:return o=iU,[4,uk(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(an(Je(this._delegate,Ut)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var a=this,l=new jh(s);return o.asyncQueue.enqueueAndForget(function(){return K(a,void 0,void 0,function(){var f;return H(this,function(p){switch(p.label){case 0:return f=function(g,h){le(g).Gr.add(h),h.next()},[4,vu(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return K(a,void 0,void 0,function(){var f;return H(this,function(p){switch(p.label){case 0:return f=function(g,h){le(g).Gr.delete(h)},[4,vu(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})})}}(an(n=Je(n,Ut)),yu(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Z(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Xf(this,lk(this._delegate,t))}catch(n){throw bn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new qo(this,gf(this._delegate,t))}catch(n){throw bn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Wh(this,function(n,r){if(n=Je(n,sc),My("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Z(F.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Yn(n,null,function(o){return new li(Qe.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw bn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,a){var l=this,f=new Fn;return s.asyncQueue.enqueueAndForget(function(){return K(l,void 0,void 0,function(){var p;return H(this,function(g){switch(g.label){case 0:return[4,function(h){return Bh(h).then(function(m){return m.datastore})}(s)];case 1:return p=g.sent(),new vU(s.asyncQueue,p,a,f).run(),[2]}})})}),f.promise}(an(r),function(s){return o(new jU(r,s))})}(this._delegate,function(r){return t(new xk(n,r))})},e.prototype.batch=function(){var t=this;return an(this._delegate),new Rk(new UU(this._delegate,function(n){return Dc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new Z(F.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Z(F.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Gh=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return _e(t,e),t.prototype.convertBytes=function(n){return new kk(new Jo(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return qo.eu(r,this.firestore,null)},t}(Hy);function qU(e){var t;t=e,br.setLogLevel(t)}var xk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Gh(t)}return e.prototype.get=function(t){var n=this,r=Fo(t);return this._delegate.get(r).then(function(o){return new ac(n._firestore,new ii(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=Fo(t);return r?(Fy("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Fo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,dt([l,n,r],s)),this},e.prototype.delete=function(t){var n=Fo(t);return this._delegate.delete(n),this},e}(),Rk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=Fo(t);return r?(Fy("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Fo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,dt([l,n,r],s)),this},e.prototype.delete=function(t){var n=Fo(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),zh=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Pa(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new cc(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new Gh(t),n),o.set(n,s)),s},e}();zh.su=new WeakMap;var qo=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Gh(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Z(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new yt(n._delegate,r,new ve(t)))},e.eu=function(t,n,r){return new e(n,new yt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Xf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Xf(this.firestore,lk(this._delegate,t))}catch(n){throw bn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=nt(t))instanceof yt&&fk(this._delegate,t)},e.prototype.set=function(t,n){n=Fy("DocumentReference.set",n);try{return n?$E(this._delegate,t,n):$E(this._delegate,t)}catch(r){throw bn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?KE(this._delegate,t):KE.apply(void 0,dt([this._delegate,t,n],r))}catch(s){throw bn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Dc(Je((t=this._delegate).firestore,Ut),[new Rc(t._key,fn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=Nk(n),s=Ok(n,function(a){return new ac(t.firestore,new ii(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return Sk(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Je(r,yt);var o=Je(r.firestore,Ut),s=an(o),a=new Bo(o);return function(l,f){var p=this,g=new Fn;return l.asyncQueue.enqueueAndForget(function(){return K(p,void 0,void 0,function(){var h;return H(this,function(m){switch(m.label){case 0:return h=function(y,_,I){return K(this,void 0,void 0,function(){var T,E;return H(this,function(R){switch(R.label){case 0:return R.trys.push([0,2,,3]),[4,function(k,D){var B=le(k);return B.persistence.runTransaction("read document","readonly",function(P){return B.Mn.mn(P,D)})}(y,_)];case 1:return(E=R.sent()).isFoundDocument()?I.resolve(E):E.isNoDocument()?I.resolve(null):I.reject(new Z(F.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return T=R.sent(),E=Du(T,"Failed to get document '"+_+" from cache"),I.reject(E),[3,3];case 3:return[2]}})})},[4,sk(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,g])]}})})}),g.promise}(s,r._key).then(function(l){return new ii(o,a,r._key,l,new Mo(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Je(r,yt);var o=Je(r.firestore,Ut);return xE(an(o),r._key,{source:"server"}).then(function(s){return Zg(o,r,s)})}(this._delegate):function(r){r=Je(r,yt);var o=Je(r.firestore,Ut);return xE(an(o),r._key).then(function(s){return Zg(o,r,s)})}(this._delegate)).then(function(r){return new ac(n.firestore,new ii(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(zh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function bn(e,t,n){return e.message=e.message.replace(t,n),e}function Nk(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!yu(r))return r}return{}}function Ok(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=yu(e[0])?e[0]:yu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var ac=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new qo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return Ik(this._delegate,t._delegate)},e}(),cc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(ac),Wh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Gh(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Si(this._delegate,function(o,s,a){var l=s,f=Wf("where",o);return new MU(f,l,a)}(t,n,r)))}catch(o){throw bn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Si(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,a=Wf("orderBy",r);return new FU(a,s)}(t,n)))}catch(r){throw bn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Si(this._delegate,function(n){return LE("limit",n),new UE("limit",n,"F")}(t)))}catch(n){throw bn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Si(this._delegate,function(n){return LE("limitToLast",n),new UE("limitToLast",n,"L")}(t)))}catch(n){throw bn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Si(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new jE("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw bn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Si(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new jE("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw bn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Si(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new BE("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw bn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Si(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new BE("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw bn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return hk(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Je(r,Yn);var o=Je(r.firestore,Ut),s=an(o),a=new Bo(o);return function(l,f){var p=this,g=new Fn;return l.asyncQueue.enqueueAndForget(function(){return K(p,void 0,void 0,function(){var h;return H(this,function(m){switch(m.label){case 0:return h=function(y,_,I){return K(this,void 0,void 0,function(){var T,E,R,k,D;return H(this,function(B){switch(B.label){case 0:return B.trys.push([0,2,,3]),[4,Hf(y,_,!0)];case 1:return D=B.sent(),T=new J1(_,D.Bn),E=T._o(D.documents),R=T.applyChanges(E,!1),I.resolve(R.snapshot),[3,3];case 2:return k=B.sent(),D=Du(k,"Failed to execute query '"+_+" against cache"),I.reject(D),[3,3];case 3:return[2]}})})},[4,sk(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,g])]}})})}),g.promise}(s,r._query).then(function(l){return new Li(o,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Je(r,Yn);var o=Je(r.firestore,Ut),s=an(o),a=new Bo(o);return RE(s,r._query,{source:"server"}).then(function(l){return new Li(o,a,r,l)})}(this._delegate):function(r){r=Je(r,Yn);var o=Je(r.firestore,Ut),s=an(o),a=new Bo(o);return Ek(r._query),RE(s,r._query).then(function(l){return new Li(o,a,r,l)})}(this._delegate)).then(function(r){return new ev(n.firestore,new Li(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=Nk(n),s=Ok(n,function(a){return new ev(t.firestore,new Li(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return Sk(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(zh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),HU=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new cc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),ev=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Wh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new cc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new HU(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new cc(r._firestore,o))})},e.prototype.isEqual=function(t){return Ik(this._delegate,t._delegate)},e}(),Xf=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return _e(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new qo(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new qo(this.firestore,n===void 0?gf(this._delegate):gf(this._delegate,n))}catch(r){throw bn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var a=Je(o.firestore,Ut),l=gf(o),f=Kh(o.converter,s);return Dc(a,[$h(us(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,fn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new qo(r.firestore,o)})},t.prototype.isEqual=function(n){return fk(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(zh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Wh);function Fo(e){return Je(e,yt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $U=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Br.bind.apply(Br,dt([void 0],t)))}return e.documentId=function(){return new e(Tr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=nt(t))instanceof Br&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),KU=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new xU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Vy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new RU("arrayUnion",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new NU("arrayRemove",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new OU("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),GU={Firestore:Ck,GeoPoint:Hh,Timestamp:Ln,Blob:kk,Transaction:xk,WriteBatch:Rk,DocumentReference:qo,DocumentSnapshot:ac,Query:Wh,QueryDocumentSnapshot:cc,QuerySnapshot:ev,CollectionReference:Xf,FieldPath:$U,FieldValue:KU,setLogLevel:qU,CACHE_SIZE_UNLIMITED:AU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(e){(function(t,n){t.INTERNAL.registerComponent(new pc("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},GU)))})(e,function(t,n){return new Ck(t,new Ut(t,n),new BU)}),e.registerVersion("@firebase/firestore","2.4.1")}zU(Te);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dk="firebasestorage.googleapis.com",Pk="storageBucket",WU=2*60*1e3,XU=10*60*1e3,Mt=function(e){_e(t,e);function t(n,r){var o=e.call(this,eg(n),"Firebase Storage: "+r+" ("+eg(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return eg(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(FA);function eg(e){return"storage/"+e}function $y(){var e="An unknown error occurred, please check the error payload for server response.";return new Mt("unknown",e)}function YU(e){return new Mt("object-not-found","Object '"+e+"' does not exist.")}function QU(e){return new Mt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JU(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt("unauthenticated",e)}function ZU(){return new Mt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function ej(e){return new Mt("unauthorized","User does not have permission to access '"+e+"'.")}function tj(){return new Mt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Lk(){return new Mt("canceled","User canceled the upload/download.")}function nj(e){return new Mt("invalid-url","Invalid URL '"+e+"'.")}function rj(e){return new Mt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function ij(){return new Mt("no-default-bucket","No default bucket found. Did you set the '"+Pk+"' property when initializing the app?")}function Mk(){return new Mt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function oj(){return new Mt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function sj(){return new Mt("no-download-url","The given file does not have any download URLs.")}function Xs(e){return new Mt("invalid-argument",e)}function Fk(){return new Mt("app-deleted","The Firebase app was deleted.")}function Vk(e){return new Mt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function La(e,t){return new Mt("invalid-format","String does not match format '"+e+"': "+t)}function Jl(e){throw new Mt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},tg=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function Uk(e,t){switch(e){case or.RAW:return new tg(jk(t));case or.BASE64:case or.BASE64URL:return new tg(Bk(e,t));case or.DATA_URL:return new tg(cj(t),lj(t))}throw $y()}function jk(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function aj(e){var t;try{t=decodeURIComponent(e)}catch{throw La(or.DATA_URL,"Malformed data URL.")}return jk(t)}function Bk(e,t){switch(e){case or.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw La(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case or.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var o=s?"+":"/";throw La(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=uj(t)}catch{throw La(e,"Invalid character found")}for(var f=new Uint8Array(l.length),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);return f}var qk=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw La(or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=fj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function cj(e){var t=new qk(e);return t.base64?Bk(or.BASE64,t.rest):aj(t.rest)}function lj(e){var t=new qk(e);return t.contentType}function fj(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hj={STATE_CHANGED:"state_changed"},In={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ng(e){switch(e){case"running":case"pausing":case"canceling":return In.RUNNING;case"paused":return In.PAUSED;case"success":return In.SUCCESS;case"canceled":return In.CANCELED;case"error":return In.ERROR;default:return In.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ho;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ho||(Ho={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dj=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ho.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ho.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ho.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw Jl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Jl("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Jl("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function pj(){return new dj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mj=function(){function e(){}return e.prototype.createConnection=function(){return pj()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw rj(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function p(X){X.path_=decodeURIComponent(X.path)}for(var g="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+h+"/"+g+"/b/"+o+"/o"+m,"i"),_={bucket:1,path:3},I=n===Dk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",E=new RegExp("^https?://"+I+"/"+o+"/"+T,"i"),R={bucket:1,path:2},k=[{regex:l,indices:f,postModify:s},{regex:y,indices:_,postModify:p},{regex:E,indices:R,postModify:p}],D=0;D<k.length;D++){var B=k[D],P=B.regex.exec(t);if(P){var z=P[B.indices.bucket],L=P[B.indices.path];L||(L=""),r=new e(z,L),B.postModify(r);break}}if(r==null)throw nj(t);return r},e}(),gj=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(e,t,n){var r=1,o=null,s=!1,a=0;function l(){return a===2}var f=!1;function p(){for(var _=[],I=0;I<arguments.length;I++)_[I]=arguments[I];f||(f=!0,t.apply(null,_))}function g(_){o=setTimeout(function(){o=null,e(h,l())},_)}function h(_){for(var I=[],T=1;T<arguments.length;T++)I[T-1]=arguments[T];if(!f){if(_){p.call.apply(p,dt([null,_],I));return}var E=l()||s;if(E){p.call.apply(p,dt([null,_],I));return}r<64&&(r*=2);var R;a===1?(a=2,R=0):R=(r+Math.random())*1e3,g(R)}}var m=!1;function y(_){m||(m=!0,!f&&(o!==null?(_||(a=2),clearTimeout(o),g(0)):_||(a=1)))}return g(0),setTimeout(function(){s=!0,y(!0)},n),y}function yj(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(e){return e!==void 0}function wj(e){return typeof e=="function"}function bj(e){return typeof e=="object"&&!Array.isArray(e)}function Xh(e){return typeof e=="string"||e instanceof String}function WE(e){return Ky()&&e instanceof Blob}function Ky(){return typeof Blob<"u"}function tv(e,t,n,r){if(r<t)throw Xs("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Xs("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function Hk(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ij=function(){function e(t,n,r,o,s,a,l,f,p,g,h){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=g,this.timeout_=p,this.pool_=h,this.promise_=new Promise(function(y,_){m.resolve_=y,m.reject_=_,m.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new Zl(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(f){var p=f.loaded,g=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(p,g)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var f=a.getErrorCode()===Ho.NO_ERROR,p=a.getStatus();if(!f||t.isRetryStatusCode_(p)){var g=a.getErrorCode()===Ho.ABORT;o(!1,new Zl(!1,null,g));return}var h=t.successCodes_.indexOf(p)!==-1;o(!0,new Zl(h,a))})}function r(o,s){var a=t.resolve_,l=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var p=t.callback_(f,f.getResponseText());_j(p)?a(p):a()}catch(h){l(h)}else if(f!==null){var g=$y();g.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,g)):l(g)}else if(s.canceled){var g=t.appDelete_?Fk():Lk();l(g)}else{var g=tj();l(g)}}this.canceled_?r(!1,new Zl(!1,null,!0)):this.backoffId_=vj(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&yj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),Zl=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function Ej(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Tj(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Aj(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Sj(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function kj(e,t,n,r,o,s){var a=Hk(e.urlParams),l=e.url+a,f=Object.assign({},e.headers);return Aj(f,t),Ej(f,n),Tj(f,s),Sj(f,r),new Ij(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Cj();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(Ky())return new Blob(e);throw new Mt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function Rj(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gy=function(){function e(t,n){var r=0,o="";WE(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(WE(this.data_)){var r=this.data_,o=Rj(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Ky()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(xj.apply(null,r))}else{var o=t.map(function(f){return Xh(f)?Uk(or.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var a=new Uint8Array(s),l=0;return o.forEach(function(f){for(var p=0;p<f.length;p++)a[l++]=f[p]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(e){var t;try{t=JSON.parse(e)}catch{return null}return bj(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function Oj(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function $k(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(e,t){return t}var _n=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||Dj}return e}(),ef=null;function Pj(e){return!Xh(e)||e.length<2?e:$k(e)}function Yh(){if(ef)return ef;var e=[];e.push(new _n("bucket")),e.push(new _n("generation")),e.push(new _n("metageneration")),e.push(new _n("name","fullPath",!0));function t(s,a){return Pj(a)}var n=new _n("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var o=new _n("size");return o.xform=r,e.push(o),e.push(new _n("timeCreated")),e.push(new _n("updated")),e.push(new _n("md5Hash",null,!0)),e.push(new _n("cacheControl",null,!0)),e.push(new _n("contentDisposition",null,!0)),e.push(new _n("contentEncoding",null,!0)),e.push(new _n("contentLanguage",null,!0)),e.push(new _n("contentType",null,!0)),e.push(new _n("metadata","customMetadata",!0)),ef=e,ef}function Lj(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new sr(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Mj(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return Lj(r,e),r}function Kk(e,t,n){var r=zy(t);if(r===null)return null;var o=r;return Mj(e,o,n)}function Fj(e,t,n){var r=zy(t);if(r===null||!Xh(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,a=o.split(","),l=a.map(function(f){var p=e.bucket,g=e.fullPath,h="/b/"+s(p)+"/o/"+s(g),m=eo(h,n),y=Hk({alt:"media",token:f});return m+y});return l[0]}function Wy(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XE="prefixes",YE="items";function Vj(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[XE])for(var o=0,s=n[XE];o<s.length;o++){var a=s[o],l=a.replace(/\/$/,""),f=e._makeStorageReference(new sr(t,l));r.prefixes.push(f)}if(n[YE])for(var p=0,g=n[YE];p<g.length;p++){var h=g[p],f=e._makeStorageReference(new sr(t,h.name));r.items.push(f)}return r}function Uj(e,t,n){var r=zy(n);if(r===null)return null;var o=r;return Vj(e,t,o)}var fi=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(e){if(!e)throw $y()}function Qh(e,t){function n(r,o){var s=Kk(e,o,t);return qr(s!==null),s}return n}function jj(e,t){function n(r,o){var s=Uj(e,t,o);return qr(s!==null),s}return n}function Bj(e,t){function n(r,o){var s=Kk(e,o,t);return qr(s!==null),Fj(s,o,e.host)}return n}function Pu(e){function t(n,r){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=ZU():o=JU():n.getStatus()===402?o=QU(e.bucket):n.getStatus()===403?o=ej(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function Jh(e){var t=Pu(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=YU(e.path)),s.serverResponse=o.serverResponse,s}return n}function Gk(e,t,n){var r=t.fullServerUrl(),o=eo(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new fi(o,s,Qh(e,n),a);return l.errorHandler=Jh(t),l}function qj(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var a=t.bucketOnlyServerUrl(),l=eo(a,e.host),f="GET",p=e.maxOperationRetryTime,g=new fi(l,f,jj(e,t.bucket),p);return g.urlParams=s,g.errorHandler=Pu(t),g}function Hj(e,t,n){var r=t.fullServerUrl(),o=eo(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new fi(o,s,Bj(e,n),a);return l.errorHandler=Jh(t),l}function $j(e,t,n,r){var o=t.fullServerUrl(),s=eo(o,e.host),a="PATCH",l=Wy(n,r),f={"Content-Type":"application/json; charset=utf-8"},p=e.maxOperationRetryTime,g=new fi(s,a,Qh(e,r),p);return g.headers=f,g.body=l,g.errorHandler=Jh(t),g}function Kj(e,t){var n=t.fullServerUrl(),r=eo(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function a(f,p){}var l=new fi(r,o,a,s);return l.successCodes=[200,204],l.errorHandler=Jh(t),l}function Gj(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function zk(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Gj(null,t)),r}function zj(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var k="",D=0;D<2;D++)k=k+Math.random().toString().slice(2);return k}var f=l();a["Content-Type"]="multipart/related; boundary="+f;var p=zk(t,r,o),g=Wy(p,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,m=`\r
--`+f+"--",y=Gy.getBlob(h,r,m);if(y===null)throw Mk();var _={name:p.fullPath},I=eo(s,e.host),T="POST",E=e.maxUploadRetryTime,R=new fi(I,T,Qh(e,n),E);return R.urlParams=_,R.headers=a,R.body=y.uploadData(),R.errorHandler=Pu(t),R}var Yf=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function Xy(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{qr(!1)}var r=t||["active"];return qr(!!n&&r.indexOf(n)!==-1),n}function Wj(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),a=zk(t,r,o),l={name:a.fullPath},f=eo(s,e.host),p="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},h=Wy(a,n),m=e.maxUploadRetryTime;function y(I){Xy(I);var T;try{T=I.getResponseHeader("X-Goog-Upload-URL")}catch{qr(!1)}return qr(Xh(T)),T}var _=new fi(f,p,y,m);return _.urlParams=l,_.headers=g,_.body=h,_.errorHandler=Pu(t),_}function Xj(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(p){var g=Xy(p,["active","final"]),h=null;try{h=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qr(!1)}h||qr(!1);var m=Number(h);return qr(!isNaN(m)),new Yf(m,r.size(),g==="final")}var a="POST",l=e.maxUploadRetryTime,f=new fi(n,a,s,l);return f.headers=o,f.errorHandler=Pu(t),f}var QE=256*1024;function Yj(e,t,n,r,o,s,a,l){var f=new Yf(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw oj();var p=f.total-f.current,g=p;o>0&&(g=Math.min(g,o));var h=f.current,m=h+g,y=g===p?"upload, finalize":"upload",_={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+f.current},I=r.slice(h,m);if(I===null)throw Mk();function T(D,B){var P=Xy(D,["active","final"]),z=f.current+g,L=r.size(),X;return P==="final"?X=Qh(t,s)(D,B):X=null,new Yf(z,L,P==="final",X)}var E="POST",R=t.maxUploadRetryTime,k=new fi(n,E,T,R);return k.headers=_,k.body=I.uploadData(),k.progressCallback=l||null,k.errorHandler=Pu(e),k}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qj=function(){function e(t,n,r){var o=wj(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wk=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=Yh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,a){o._resolve=s,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var o=r[0],s=r[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var o=Wj(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,o){var s=Xj(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,o);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=QE*this._chunkMultiplier,r=new Yf(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=Yj(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(p){t._error=p,t._transition("error");return}var f=t._ref.storage._makeRequest(l,s,a);t._request=f,f.getPromise().then(function(p){t._increaseMultiplier(),t._request=void 0,t._updateProgress(p.current),p.finalized?(t._metadata=p.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=QE*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var o=Gk(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var o=zj(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Lk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=ng(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,a=new Qj(n,r,o);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(ng(this._state)){case In.SUCCESS:Ls(this._resolve.bind(null,this.snapshot))();break;case In.CANCELED:case In.ERROR:var n=this._reject;Ls(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=ng(this._state);switch(n){case In.RUNNING:case In.PAUSED:t.next&&Ls(t.next.bind(t,this.snapshot))();break;case In.SUCCESS:t.complete&&Ls(t.complete.bind(t))();break;case In.CANCELED:case In.ERROR:t.error&&Ls(t.error.bind(t,this._error))();break;default:t.error&&Ls(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zh=function(){function e(t,n){this._service=t,n instanceof sr?this._location=n:this._location=sr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new sr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return $k(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=Nj(this._location.path);if(t===null)return null;var n=new sr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw Vk(t)},e}();function Jj(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Wk(e,new Gy(t),n)}function Zj(e){var t={prefixes:[],items:[]};return Xk(e,t).then(function(){return t})}function Xk(e,t,n){return K(this,void 0,void 0,function(){var r,o,s,a;return H(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,Yk(e,r)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,Xk(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Yk(e,t){return K(this,void 0,void 0,function(){var n,r;return H(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&tv("options.maxResults",1,1e3,t.maxResults),n=t||{},r=qj(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function e2(e){return K(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Gk(e.storage,e._location,Yh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function t2(e,t){return K(this,void 0,void 0,function(){var n;return H(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=$j(e.storage,e._location,t,Yh()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function n2(e){return K(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=Hj(e.storage,e._location,Yh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw sj();return r})]}})})}function r2(e){return K(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=Kj(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Qk(e,t){var n=Oj(e._location.path,t),r=new sr(e._location.bucket,n);return new Zh(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(e){return/^[A-Za-z]+:\/\//.test(e)}function i2(e,t){return new Zh(e,t)}function Jk(e,t){if(e instanceof ed){var n=e;if(n._bucket==null)throw ij();var r=new Zh(n,n._bucket);return t!=null?Jk(r,t):r}else return t!==void 0?Qk(e,t):e}function o2(e,t){if(t&&nv(t)){if(e instanceof ed)return i2(e,t);throw Xs("To use ref(service, url), the first argument must be a Storage instance.")}else return Jk(e,t)}function JE(e,t){var n=t==null?void 0:t[Pk];return n==null?null:sr.makeFromBucketSpec(n,e)}function s2(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var o=r.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:LA(o,e.app.options.projectId))}var ed=function(){function e(t,n,r,o,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=Dk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WU,this._maxUploadRetryTime=XU,this._requests=new Set,s!=null?this._bucket=sr.makeFromBucketSpec(s,this._host):this._bucket=JE(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=sr.makeFromBucketSpec(this._url,t):this._bucket=JE(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){tv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){tv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return K(this,void 0,void 0,function(){var t,n;return H(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return K(this,void 0,void 0,function(){var t,n;return H(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Zh(this,t)},e.prototype._makeRequest=function(t,n,r){var o=this;if(this._deleted)return new gj(Fk());var s=kj(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return K(this,void 0,void 0,function(){var n,r,o;return H(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],o=n[1],[2,this._makeRequest(t,r,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(e,t,n){return e=nt(e),Jj(e,t,n)}function a2(e){return e=nt(e),e2(e)}function c2(e,t){return e=nt(e),t2(e,t)}function l2(e,t){return e=nt(e),Yk(e,t)}function f2(e){return e=nt(e),Zj(e)}function h2(e){return e=nt(e),n2(e)}function d2(e){return e=nt(e),r2(e)}function ZE(e,t){return e=nt(e),o2(e,t)}function p2(e,t){return Qk(e,t)}function m2(e,t,n,r){r===void 0&&(r={}),s2(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tf=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eT=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new tf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new tf(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new tf(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new tf(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,o||void 0)},e}(),tT=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new lc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new lc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=p2(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new eT(u2(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=or.RAW),this._throwIfRoot("putString");var o=Uk(n,t),s=eu({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new eT(new Wk(this._delegate,new Gy(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return f2(this._delegate).then(function(n){return new tT(n,t.storage)})},e.prototype.list=function(t){var n=this;return l2(this._delegate,t||void 0).then(function(r){return new tT(r,n.storage)})},e.prototype.getMetadata=function(){return a2(this._delegate)},e.prototype.updateMetadata=function(t){return c2(this._delegate,t)},e.prototype.getDownloadURL=function(){return h2(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),d2(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw Vk(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g2=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(nv(t))throw Xs("ref() expected a child path but got a URL, use refFromURL instead.");return new lc(ZE(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!nv(t))throw Xs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{sr.makeFromUrl(t,this._delegate.host)}catch{throw Xs("refFromUrl() expected a valid full URL but got an invalid one.")}return new lc(ZE(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),m2(this._delegate,t,n,r)},e}(),v2="@firebase/storage",y2="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _2="storage";function w2(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new g2(r,new ed(r,o,s,new mj,n,Te.SDK_VERSION));return a}function b2(e){var t={TaskState:In,TaskEvent:hj,StringFormat:or,Storage:ed,Reference:lc};e.INTERNAL.registerComponent(new pc(_2,w2,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(v2,y2)}b2(Te);const I2={apiKey:"AIzaSyCmrDsXaXqtJ-_bBhE6mijvEJRXGrQV1-8",authDomain:"music-123a9.firebaseapp.com",projectId:"music-123a9",storageBucket:"music-123a9.appspot.com",messagingSenderId:"353431526100",appId:"1:353431526100:web:2a3e6ba688ef0af5a97941"};Te.initializeApp(I2);const Hr=Te.auth(),Yy=Te.firestore(),Zk=Te.storage(),E2=Yy.collection("users"),oi=Yy.collection("songs"),nT=Yy.collection("comments"),Lu=Rv("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await Hr.createUserWithEmailAndPassword(e.email,e.password);await E2.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await Hr.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await Hr.signOut(),this.userLoggedIn=!1}}}),Zn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},T2={name:"TheHeader",computed:{...iL(Ag,Lu)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen,console.log(this.modalStore.isOpen)},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},A2={id:"header",class:"bg-gray-700"},S2={class:"container mx-auto flex justify-start items-center py-5 px-4"},k2={class:"flex flex-grow items-center"},C2={class:"flex flex-row mt-1"},x2={key:0};function R2(e,t,n,r,o,s){const a=_t("router-link");return He(),rt("header",A2,[U("nav",S2,[be(a,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:kn(()=>[Bi("Music")]),_:1}),U("div",k2,[U("ul",C2,[U("li",null,[be(a,{class:"px-2 text-white",to:"/about"},{default:kn(()=>[Bi("About")]),_:1})]),e.userStore.userLoggedIn?(He(),rt(Vt,{key:1},[U("li",null,[be(a,{class:"px-2 text-white",to:"manage"},{default:kn(()=>[Bi("Manage")]),_:1})]),U("li",null,[U("a",{class:"px-2 text-white hover:text-red-500 hover:font-bold",href:"#",onClick:t[1]||(t[1]=Yt((...l)=>s.signOut&&s.signOut(...l),["prevent"]))},"Logout")])],64)):(He(),rt("li",x2,[U("a",{class:"px-2 text-white",href:"#",onClick:t[0]||(t[0]=Yt((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},"Login / Register")]))])])])])}const N2=Zn(T2,[["render",R2]]),O2={name:"loginForm",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:100"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! You are being logged in."}},methods:{..._h(Lu,["authenticate"]),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_show_alert="bg-blue-500",this.login_alert_msg="Please wait! You are being logged in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_show_alert="bg-red-500",this.login_alert_msg="invalid Login Details";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="You are now logged in.",window.location.reload()}}},D2={class:"mb-3"},P2=U("label",{class:"inline-block mb-2"},"Email",-1),L2={class:"mb-3"},M2=U("label",{class:"inline-block mb-2"},"Password",-1),F2=["disabled"];function V2(e,t,n,r,o,s){const a=_t("vee-field"),l=_t("ErrorMessage"),f=_t("vee-form");return He(),rt(Vt,null,[o.login_show_alert?(He(),rt("div",{key:0,class:ln(["text-white text-center font-bold p-4 mb-4",o.login_alert_variant])},Ot(o.login_alert_msg),3)):Js("",!0),be(f,{"validation-schema":o.loginSchema,onSubmit:s.login},{default:kn(()=>[U("div",D2,[P2,be(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),be(l,{class:"text-red-600",name:"email"})]),U("div",L2,[M2,be(a,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),be(l,{class:"text-red-600",name:"password"})]),U("button",{type:"submit",disabled:o.login_in_submission,class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",8,F2)]),_:1},8,["validation-schema","onSubmit"])],64)}const U2=Zn(O2,[["render",V2]]),j2={name:"registerForm",data(){return{schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:120",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! You account is bring created."}},mounted(){console.log(this.userLoggedIn)},methods:{..._h(Lu,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! You account is bring created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occured. Please try again later.";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="You account has been created",window.location.reload()}}},B2={class:"mb-3"},q2=U("label",{class:"inline-block mb-2"},"Name",-1),H2={class:"mb-3"},$2=U("label",{class:"inline-block mb-2"},"Email",-1),K2={class:"mb-3"},G2=U("label",{class:"inline-block mb-2"},"Age",-1),z2={class:"mb-3"},W2=U("label",{class:"inline-block mb-2"},"Password",-1),X2={class:"mb-3"},Y2=U("label",{class:"inline-block mb-2"},"Confirm Password",-1),Q2={class:"mb-3"},J2=U("label",{class:"inline-block mb-2"},"Country",-1),Z2=U("option",{value:"USA"},"USA",-1),eB=U("option",{value:"Mexico"},"Mexico",-1),tB=U("option",{value:"Germany"},"Germany",-1),nB={class:"mb-3 pl-6"},rB=U("label",{class:"inline-block"},"Accept terms of service",-1),iB=U("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",-1);function oB(e,t,n,r,o,s){const a=_t("vee-field"),l=_t("ErrorMessage"),f=_t("vee-form");return He(),rt(Vt,null,[o.reg_show_alert?(He(),rt("div",{key:0,class:ln(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},Ot(o.reg_alert_msg),3)):Js("",!0),be(f,{"validation-schema":o.schema,onSubmit:s.register,"initial-values":o.userData},{default:kn(()=>[U("div",B2,[q2,be(a,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),be(l,{class:"text-red-600",name:"name"})]),U("div",H2,[$2,be(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),be(l,{class:"text-red-600",name:"email"})]),U("div",K2,[G2,be(a,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),be(l,{class:"text-red-600",name:"age"})]),U("div",z2,[W2,be(a,{name:"password",bails:!1},{default:kn(({field:p,errors:g})=>[U("input",TA({type:"password",placeholder:"Password"},p,{class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),null,16),(He(!0),rt(Vt,null,dc(g,h=>(He(),rt("div",{class:"text-red-600",key:h},Ot(h),1))),128))]),_:1}),be(l,{class:"text-red-600",name:"password"})]),U("div",X2,[Y2,be(a,{name:"confirm_password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),be(l,{class:"text-red-600",name:"confirm_password"})]),U("div",Q2,[J2,be(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:kn(()=>[Z2,eB,tB]),_:1}),be(l,{class:"text-red-600",name:"country"})]),U("div",nB,[be(a,{name:"tos",value:"1",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),be(l,{class:"text-red-600 block",name:"tos"}),rB]),iB]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const sB=Zn(j2,[["render",oB]]),uB={name:"TheAuth",components:{LoginForm:U2,RegisterForm:sB},data(){return{tab:"login"}},computed:{...If(Ag,["hiddenClass"]),...DA(Ag,{modalVisibility:"isOpen"})},methods:{}},aB={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},cB=U("div",{class:"fixed inset-0 transition-opacity"},[U("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),lB=U("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),fB={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},hB={class:"py-4 text-left px-6"},dB={class:"flex justify-between items-center pb-4"},pB=U("p",{class:"text-2xl font-bold"},"Your Account",-1),mB=U("i",{class:"fas fa-times"},null,-1),gB=[mB],vB={class:"flex flex-wrap mb-4"},yB={class:"flex-auto text-center"},_B={class:"flex-auto text-center"};function wB(e,t,n,r,o,s){const a=_t("login-form"),l=_t("register-form");return He(),rt("div",{class:ln(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[U("div",aB,[cB,lB,U("div",fB,[U("div",hB,[U("div",dB,[pB,U("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.modalVisibility=!1)},gB)]),U("ul",vB,[U("li",yB,[U("a",{class:ln(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=Yt(f=>o.tab="login",["prevent"]))},"Login",2)]),U("li",_B,[U("a",{class:ln(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=Yt(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(He(),Ki(a,{key:0})):(He(),Ki(l,{key:1}))])])])],2)}const bB=Zn(uB,[["render",wB]]);var Ia=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rv={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var m=this||n;if(h=parseFloat(h),m.ctx||g(),typeof h<"u"&&h>=0&&h<=1){if(m._volume=h,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),I=0;I<_.length;I++){var T=m._howls[y]._soundById(_[I]);T&&T._node&&(T._node.volume=T._volume*h)}return m}return m._volume},mute:function(h){var m=this||n;m.ctx||g(),m._muted=h,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h?0:m._volume,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),I=0;I<_.length;I++){var T=m._howls[y]._soundById(_[I]);T&&T._node&&(T._node.muted=h?!0:T._muted)}return m},stop:function(){for(var h=this||n,m=0;m<h._howls.length;m++)h._howls[m].stop();return h},unload:function(){for(var h=this||n,m=h._howls.length-1;m>=0;m--)h._howls[m].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,g()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var m=new Audio;typeof m.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var m=new Audio;m.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,m=null;try{m=typeof Audio<"u"?new Audio:null}catch{return h}if(!m||typeof m.canPlayType!="function")return h;var y=m.canPlayType("audio/mpeg;").replace(/^no$/,""),_=h._navigator?h._navigator.userAgent:"",I=_.match(/OPR\/([0-6].)/g),T=I&&parseInt(I[0].split("/")[1],10)<33,E=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,R=_.match(/Version\/(.*?) /),k=E&&R&&parseInt(R[1],10)<15;return h._codecs={mp3:!!(!T&&(y||m.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!y,opus:!!m.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(m.canPlayType('audio/wav; codecs="1"')||m.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!m.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!m.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/m4a;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(m.canPlayType("audio/x-m4b;")||m.canPlayType("audio/m4b;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(m.canPlayType("audio/x-mp4;")||m.canPlayType("audio/mp4;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!k&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!k&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!m.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(m.canPlayType("audio/x-flac;")||m.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var m=function(y){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,h._releaseHtml5Audio(_)}catch{h.noAudio=!0;break}for(var I=0;I<h._howls.length;I++)if(!h._howls[I]._webAudio)for(var T=h._howls[I]._getSoundIds(),E=0;E<T.length;E++){var R=h._howls[I]._soundById(T[E]);R&&R._node&&!R._node._unlocked&&(R._node._unlocked=!0,R._node.load())}h._autoResume();var k=h.ctx.createBufferSource();k.buffer=h._scratchBuffer,k.connect(h.ctx.destination),typeof k.start>"u"?k.noteOn(0):k.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),k.onended=function(){k.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",m,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",m,!0);for(var D=0;D<h._howls.length;D++)h._howls[D]._emit("unlock")}};return document.addEventListener("touchstart",m,!0),document.addEventListener("touchend",m,!0),document.addEventListener("click",m,!0),document.addEventListener("keydown",m,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var m=new Audio().play();return m&&typeof Promise<"u"&&(m instanceof Promise||typeof m.then=="function")&&m.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var m=this||n;return h._unlocked&&m._html5AudioPool.push(h),m},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var m=0;m<h._howls.length;m++)if(h._howls[m]._webAudio){for(var y=0;y<h._howls[m]._sounds.length;y++)if(!h._howls[m]._sounds[y]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var _=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(_,_)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var m=0;m<h._howls.length;m++)h._howls[m]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,r=function(h){var m=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}m.init(h)};r.prototype={init:function(h){var m=this;return n.ctx||g(),m._autoplay=h.autoplay||!1,m._format=typeof h.format!="string"?h.format:[h.format],m._html5=h.html5||!1,m._muted=h.mute||!1,m._loop=h.loop||!1,m._pool=h.pool||5,m._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,m._rate=h.rate||1,m._sprite=h.sprite||{},m._src=typeof h.src!="string"?h.src:[h.src],m._volume=h.volume!==void 0?h.volume:1,m._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},m._duration=0,m._state="unloaded",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=h.onend?[{fn:h.onend}]:[],m._onfade=h.onfade?[{fn:h.onfade}]:[],m._onload=h.onload?[{fn:h.onload}]:[],m._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],m._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],m._onpause=h.onpause?[{fn:h.onpause}]:[],m._onplay=h.onplay?[{fn:h.onplay}]:[],m._onstop=h.onstop?[{fn:h.onstop}]:[],m._onmute=h.onmute?[{fn:h.onmute}]:[],m._onvolume=h.onvolume?[{fn:h.onvolume}]:[],m._onrate=h.onrate?[{fn:h.onrate}]:[],m._onseek=h.onseek?[{fn:h.onseek}]:[],m._onunlock=h.onunlock?[{fn:h.onunlock}]:[],m._onresume=[],m._webAudio=n.usingWebAudio&&!m._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(m),m._autoplay&&m._queue.push({event:"play",action:function(){m.play()}}),m._preload&&m._preload!=="none"&&m.load(),m},load:function(){var h=this,m=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var y=0;y<h._src.length;y++){var _,I;if(h._format&&h._format[y])_=h._format[y];else{if(I=h._src[y],typeof I!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(I),_||(_=/\.([^.]+)$/.exec(I.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){m=h._src[y];break}}if(!m){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=m,h._state="loading",window.location.protocol==="https:"&&m.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&a(h),h},play:function(h,m){var y=this,_=null;if(typeof h=="number")_=h,h=null;else{if(typeof h=="string"&&y._state==="loaded"&&!y._sprite[h])return null;if(typeof h>"u"&&(h="__default",!y._playLock)){for(var I=0,T=0;T<y._sounds.length;T++)y._sounds[T]._paused&&!y._sounds[T]._ended&&(I++,_=y._sounds[T]._id);I===1?h=null:_=null}}var E=_?y._soundById(_):y._inactiveSound();if(!E)return null;if(_&&!h&&(h=E._sprite||"__default"),y._state!=="loaded"){E._sprite=h,E._ended=!1;var R=E._id;return y._queue.push({event:"play",action:function(){y.play(R)}}),R}if(_&&!E._paused)return m||y._loadQueue("play"),E._id;y._webAudio&&n._autoResume();var k=Math.max(0,E._seek>0?E._seek:y._sprite[h][0]/1e3),D=Math.max(0,(y._sprite[h][0]+y._sprite[h][1])/1e3-k),B=D*1e3/Math.abs(E._rate),P=y._sprite[h][0]/1e3,z=(y._sprite[h][0]+y._sprite[h][1])/1e3;E._sprite=h,E._ended=!1;var L=function(){E._paused=!1,E._seek=k,E._start=P,E._stop=z,E._loop=!!(E._loop||y._sprite[h][2])};if(k>=z){y._ended(E);return}var X=E._node;if(y._webAudio){var C=function(){y._playLock=!1,L(),y._refreshBuffer(E);var Ce=E._muted||y._muted?0:E._volume;X.gain.setValueAtTime(Ce,n.ctx.currentTime),E._playStart=n.ctx.currentTime,typeof X.bufferSource.start>"u"?E._loop?X.bufferSource.noteGrainOn(0,k,86400):X.bufferSource.noteGrainOn(0,k,D):E._loop?X.bufferSource.start(0,k,86400):X.bufferSource.start(0,k,D),B!==1/0&&(y._endTimers[E._id]=setTimeout(y._ended.bind(y,E),B)),m||setTimeout(function(){y._emit("play",E._id),y._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?C():(y._playLock=!0,y.once("resume",C),y._clearTimer(E._id))}else{var Ee=function(){X.currentTime=k,X.muted=E._muted||y._muted||n._muted||X.muted,X.volume=E._volume*n.volume(),X.playbackRate=E._rate;try{var Ce=X.play();if(Ce&&typeof Promise<"u"&&(Ce instanceof Promise||typeof Ce.then=="function")?(y._playLock=!0,L(),Ce.then(function(){y._playLock=!1,X._unlocked=!0,m?y._loadQueue():y._emit("play",E._id)}).catch(function(){y._playLock=!1,y._emit("playerror",E._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),E._ended=!0,E._paused=!0})):m||(y._playLock=!1,L(),y._emit("play",E._id)),X.playbackRate=E._rate,X.paused){y._emit("playerror",E._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||E._loop?y._endTimers[E._id]=setTimeout(y._ended.bind(y,E),B):(y._endTimers[E._id]=function(){y._ended(E),X.removeEventListener("ended",y._endTimers[E._id],!1)},X.addEventListener("ended",y._endTimers[E._id],!1))}catch(Me){y._emit("playerror",E._id,Me)}};X.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(X.src=y._src,X.load());var ie=window&&window.ejecta||!X.readyState&&n._navigator.isCocoonJS;if(X.readyState>=3||ie)Ee();else{y._playLock=!0,y._state="loading";var Se=function(){y._state="loaded",Ee(),X.removeEventListener(n._canPlayEvent,Se,!1)};X.addEventListener(n._canPlayEvent,Se,!1),y._clearTimer(E._id)}}return E._id},pause:function(h){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"pause",action:function(){m.pause(h)}}),m;for(var y=m._getSoundIds(h),_=0;_<y.length;_++){m._clearTimer(y[_]);var I=m._soundById(y[_]);if(I&&!I._paused&&(I._seek=m.seek(y[_]),I._rateSeek=0,I._paused=!0,m._stopFade(y[_]),I._node))if(m._webAudio){if(!I._node.bufferSource)continue;typeof I._node.bufferSource.stop>"u"?I._node.bufferSource.noteOff(0):I._node.bufferSource.stop(0),m._cleanBuffer(I._node)}else(!isNaN(I._node.duration)||I._node.duration===1/0)&&I._node.pause();arguments[1]||m._emit("pause",I?I._id:null)}return m},stop:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"stop",action:function(){y.stop(h)}}),y;for(var _=y._getSoundIds(h),I=0;I<_.length;I++){y._clearTimer(_[I]);var T=y._soundById(_[I]);T&&(T._seek=T._start||0,T._rateSeek=0,T._paused=!0,T._ended=!0,y._stopFade(_[I]),T._node&&(y._webAudio?T._node.bufferSource&&(typeof T._node.bufferSource.stop>"u"?T._node.bufferSource.noteOff(0):T._node.bufferSource.stop(0),y._cleanBuffer(T._node)):(!isNaN(T._node.duration)||T._node.duration===1/0)&&(T._node.currentTime=T._start||0,T._node.pause(),T._node.duration===1/0&&y._clearSound(T._node))),m||y._emit("stop",T._id))}return y},mute:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"mute",action:function(){y.mute(h,m)}}),y;if(typeof m>"u")if(typeof h=="boolean")y._muted=h;else return y._muted;for(var _=y._getSoundIds(m),I=0;I<_.length;I++){var T=y._soundById(_[I]);T&&(T._muted=h,T._interval&&y._stopFade(T._id),y._webAudio&&T._node?T._node.gain.setValueAtTime(h?0:T._volume,n.ctx.currentTime):T._node&&(T._node.muted=n._muted?!0:h),y._emit("mute",T._id))}return y},volume:function(){var h=this,m=arguments,y,_;if(m.length===0)return h._volume;if(m.length===1||m.length===2&&typeof m[1]>"u"){var I=h._getSoundIds(),T=I.indexOf(m[0]);T>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length>=2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var E;if(typeof y<"u"&&y>=0&&y<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,m)}}),h;typeof _>"u"&&(h._volume=y),_=h._getSoundIds(_);for(var R=0;R<_.length;R++)E=h._soundById(_[R]),E&&(E._volume=y,m[2]||h._stopFade(_[R]),h._webAudio&&E._node&&!E._muted?E._node.gain.setValueAtTime(y,n.ctx.currentTime):E._node&&!E._muted&&(E._node.volume=y*n.volume()),h._emit("volume",E._id))}else return E=_?h._soundById(_):h._sounds[0],E?E._volume:0;return h},fade:function(h,m,y,_){var I=this;if(I._state!=="loaded"||I._playLock)return I._queue.push({event:"fade",action:function(){I.fade(h,m,y,_)}}),I;h=Math.min(Math.max(0,parseFloat(h)),1),m=Math.min(Math.max(0,parseFloat(m)),1),y=parseFloat(y),I.volume(h,_);for(var T=I._getSoundIds(_),E=0;E<T.length;E++){var R=I._soundById(T[E]);if(R){if(_||I._stopFade(T[E]),I._webAudio&&!R._muted){var k=n.ctx.currentTime,D=k+y/1e3;R._volume=h,R._node.gain.setValueAtTime(h,k),R._node.gain.linearRampToValueAtTime(m,D)}I._startFadeInterval(R,h,m,y,T[E],typeof _>"u")}}return I},_startFadeInterval:function(h,m,y,_,I,T){var E=this,R=m,k=y-m,D=Math.abs(k/.01),B=Math.max(4,D>0?_/D:_),P=Date.now();h._fadeTo=y,h._interval=setInterval(function(){var z=(Date.now()-P)/_;P=Date.now(),R+=k*z,R=Math.round(R*100)/100,k<0?R=Math.max(y,R):R=Math.min(y,R),E._webAudio?h._volume=R:E.volume(R,h._id,!0),T&&(E._volume=R),(y<m&&R<=y||y>m&&R>=y)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,E.volume(y,h._id),E._emit("fade",h._id))},B)},_stopFade:function(h){var m=this,y=m._soundById(h);return y&&y._interval&&(m._webAudio&&y._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(y._interval),y._interval=null,m.volume(y._fadeTo,h),y._fadeTo=null,m._emit("fade",h)),m},loop:function(){var h=this,m=arguments,y,_,I;if(m.length===0)return h._loop;if(m.length===1)if(typeof m[0]=="boolean")y=m[0],h._loop=y;else return I=h._soundById(parseInt(m[0],10)),I?I._loop:!1;else m.length===2&&(y=m[0],_=parseInt(m[1],10));for(var T=h._getSoundIds(_),E=0;E<T.length;E++)I=h._soundById(T[E]),I&&(I._loop=y,h._webAudio&&I._node&&I._node.bufferSource&&(I._node.bufferSource.loop=y,y&&(I._node.bufferSource.loopStart=I._start||0,I._node.bufferSource.loopEnd=I._stop,h.playing(T[E])&&(h.pause(T[E],!0),h.play(T[E],!0)))));return h},rate:function(){var h=this,m=arguments,y,_;if(m.length===0)_=h._sounds[0]._id;else if(m.length===1){var I=h._getSoundIds(),T=I.indexOf(m[0]);T>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var E;if(typeof y=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,m)}}),h;typeof _>"u"&&(h._rate=y),_=h._getSoundIds(_);for(var R=0;R<_.length;R++)if(E=h._soundById(_[R]),E){h.playing(_[R])&&(E._rateSeek=h.seek(_[R]),E._playStart=h._webAudio?n.ctx.currentTime:E._playStart),E._rate=y,h._webAudio&&E._node&&E._node.bufferSource?E._node.bufferSource.playbackRate.setValueAtTime(y,n.ctx.currentTime):E._node&&(E._node.playbackRate=y);var k=h.seek(_[R]),D=(h._sprite[E._sprite][0]+h._sprite[E._sprite][1])/1e3-k,B=D*1e3/Math.abs(E._rate);(h._endTimers[_[R]]||!E._paused)&&(h._clearTimer(_[R]),h._endTimers[_[R]]=setTimeout(h._ended.bind(h,E),B)),h._emit("rate",E._id)}}else return E=h._soundById(_),E?E._rate:h._rate;return h},seek:function(){var h=this,m=arguments,y,_;if(m.length===0)h._sounds.length&&(_=h._sounds[0]._id);else if(m.length===1){var I=h._getSoundIds(),T=I.indexOf(m[0]);T>=0?_=parseInt(m[0],10):h._sounds.length&&(_=h._sounds[0]._id,y=parseFloat(m[0]))}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));if(typeof _>"u")return 0;if(typeof y=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,m)}}),h;var E=h._soundById(_);if(E)if(typeof y=="number"&&y>=0){var R=h.playing(_);R&&h.pause(_,!0),E._seek=y,E._ended=!1,h._clearTimer(_),!h._webAudio&&E._node&&!isNaN(E._node.duration)&&(E._node.currentTime=y);var k=function(){R&&h.play(_,!0),h._emit("seek",_)};if(R&&!h._webAudio){var D=function(){h._playLock?setTimeout(D,0):k()};setTimeout(D,0)}else k()}else if(h._webAudio){var B=h.playing(_)?n.ctx.currentTime-E._playStart:0,P=E._rateSeek?E._rateSeek-E._seek:0;return E._seek+(P+B*Math.abs(E._rate))}else return E._node.currentTime;return h},playing:function(h){var m=this;if(typeof h=="number"){var y=m._soundById(h);return y?!y._paused:!1}for(var _=0;_<m._sounds.length;_++)if(!m._sounds[_]._paused)return!0;return!1},duration:function(h){var m=this,y=m._duration,_=m._soundById(h);return _&&(y=m._sprite[_._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var h=this,m=h._sounds,y=0;y<m.length;y++)m[y]._paused||h.stop(m[y]._id),h._webAudio||(h._clearSound(m[y]._node),m[y]._node.removeEventListener("error",m[y]._errorFn,!1),m[y]._node.removeEventListener(n._canPlayEvent,m[y]._loadFn,!1),m[y]._node.removeEventListener("ended",m[y]._endFn,!1),n._releaseHtml5Audio(m[y]._node)),delete m[y]._node,h._clearTimer(m[y]._id);var _=n._howls.indexOf(h);_>=0&&n._howls.splice(_,1);var I=!0;for(y=0;y<n._howls.length;y++)if(n._howls[y]._src===h._src||h._src.indexOf(n._howls[y]._src)>=0){I=!1;break}return s&&I&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,m,y,_){var I=this,T=I["_on"+h];return typeof m=="function"&&T.push(_?{id:y,fn:m,once:_}:{id:y,fn:m}),I},off:function(h,m,y){var _=this,I=_["_on"+h],T=0;if(typeof m=="number"&&(y=m,m=null),m||y)for(T=0;T<I.length;T++){var E=y===I[T].id;if(m===I[T].fn&&E||!m&&E){I.splice(T,1);break}}else if(h)_["_on"+h]=[];else{var R=Object.keys(_);for(T=0;T<R.length;T++)R[T].indexOf("_on")===0&&Array.isArray(_[R[T]])&&(_[R[T]]=[])}return _},once:function(h,m,y){var _=this;return _.on(h,m,y,1),_},_emit:function(h,m,y){for(var _=this,I=_["_on"+h],T=I.length-1;T>=0;T--)(!I[T].id||I[T].id===m||h==="load")&&(setTimeout(function(E){E.call(this,m,y)}.bind(_,I[T].fn),0),I[T].once&&_.off(h,I[T].fn,I[T].id));return _._loadQueue(h),_},_loadQueue:function(h){var m=this;if(m._queue.length>0){var y=m._queue[0];y.event===h&&(m._queue.shift(),m._loadQueue()),h||y.action()}return m},_ended:function(h){var m=this,y=h._sprite;if(!m._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(m._ended.bind(m,h),100),m;var _=!!(h._loop||m._sprite[y][2]);if(m._emit("end",h._id),!m._webAudio&&_&&m.stop(h._id,!0).play(h._id),m._webAudio&&_){m._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var I=(h._stop-h._start)*1e3/Math.abs(h._rate);m._endTimers[h._id]=setTimeout(m._ended.bind(m,h),I)}return m._webAudio&&!_&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,m._clearTimer(h._id),m._cleanBuffer(h._node),n._autoSuspend()),!m._webAudio&&!_&&m.stop(h._id,!0),m},_clearTimer:function(h){var m=this;if(m._endTimers[h]){if(typeof m._endTimers[h]!="function")clearTimeout(m._endTimers[h]);else{var y=m._soundById(h);y&&y._node&&y._node.removeEventListener("ended",m._endTimers[h],!1)}delete m._endTimers[h]}return m},_soundById:function(h){for(var m=this,y=0;y<m._sounds.length;y++)if(h===m._sounds[y]._id)return m._sounds[y];return null},_inactiveSound:function(){var h=this;h._drain();for(var m=0;m<h._sounds.length;m++)if(h._sounds[m]._ended)return h._sounds[m].reset();return new o(h)},_drain:function(){var h=this,m=h._pool,y=0,_=0;if(!(h._sounds.length<m)){for(_=0;_<h._sounds.length;_++)h._sounds[_]._ended&&y++;for(_=h._sounds.length-1;_>=0;_--){if(y<=m)return;h._sounds[_]._ended&&(h._webAudio&&h._sounds[_]._node&&h._sounds[_]._node.disconnect(0),h._sounds.splice(_,1),y--)}}},_getSoundIds:function(h){var m=this;if(typeof h>"u"){for(var y=[],_=0;_<m._sounds.length;_++)y.push(m._sounds[_]._id);return y}else return[h]},_refreshBuffer:function(h){var m=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[m._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),m},_cleanBuffer:function(h){var m=this,y=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),y))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,m},_clearSound:function(h){var m=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);m||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,m._sounds.push(h),h.create(),h},create:function(){var h=this,m=h._parent,y=n._muted||h._muted||h._parent._muted?0:h._volume;return m._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(y,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=m._src,h._node.preload=m._preload===!0?"auto":m._preload,h._node.volume=y*n.volume(),h._node.load()),h},reset:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,m=h._parent;m._duration=Math.ceil(h._node.duration*10)/10,Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,m=h._parent;m._duration===1/0&&(m._duration=Math.ceil(h._node.duration*10)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=m._duration*1e3),m._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},a=function(h){var m=h._src;if(s[m]){h._duration=s[m].duration,p(h);return}if(/^data:[^;]+;base64,/.test(m)){for(var y=atob(m.split(",")[1]),_=new Uint8Array(y.length),I=0;I<y.length;++I)_[I]=y.charCodeAt(I);f(_.buffer,h)}else{var T=new XMLHttpRequest;T.open(h._xhr.method,m,!0),T.withCredentials=h._xhr.withCredentials,T.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(E){T.setRequestHeader(E,h._xhr.headers[E])}),T.onload=function(){var E=(T.status+"")[0];if(E!=="0"&&E!=="2"&&E!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+T.status+".");return}f(T.response,h)},T.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[m],h.load())},l(T)}},l=function(h){try{h.send()}catch{h.onerror()}},f=function(h,m){var y=function(){m._emit("loaderror",null,"Decoding audio data failed.")},_=function(I){I&&m._sounds.length>0?(s[m._src]=I,p(m,I)):y()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(_).catch(y):n.ctx.decodeAudioData(h,_,y)},p=function(h,m){m&&!h._duration&&(h._duration=m.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},g=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),m=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),y=m?parseInt(m[1],10):null;if(h&&y&&y<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof Ia<"u"?(Ia.HowlerGlobal=t,Ia.Howler=n,Ia.Howl=r,Ia.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,r,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,o,s,a,l){var f=this;if(!f.ctx||!f.ctx.listener)return f;var p=f._orientation;if(r=typeof r!="number"?p[1]:r,o=typeof o!="number"?p[2]:o,s=typeof s!="number"?p[3]:s,a=typeof a!="number"?p[4]:a,l=typeof l!="number"?p[5]:l,typeof n=="number")f._orientation=[n,r,o,s,a,l],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,o,s,a,l);else return p;return f},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var a=o._getSoundIds(r),l=0;l<a.length;l++){var f=o._soundById(a[l]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,r,o,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(n,r,o,s)}}),a;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")a._pos=[n,r,o];else return a._pos;for(var l=a._getSoundIds(s),f=0;f<l.length;f++){var p=a._soundById(l[f]);if(p)if(typeof n=="number")p._pos=[n,r,o],p._node&&((!p._panner||p._panner.pan)&&t(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setPosition(n,r,o)),a._emit("pos",p._id);else return p._pos}return a},Howl.prototype.orientation=function(n,r,o,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(n,r,o,s)}}),a;if(r=typeof r!="number"?a._orientation[1]:r,o=typeof o!="number"?a._orientation[2]:o,typeof s>"u")if(typeof n=="number")a._orientation=[n,r,o];else return a._orientation;for(var l=a._getSoundIds(s),f=0;f<l.length;f++){var p=a._soundById(l[f]);if(p)if(typeof n=="number")p._orientation=[n,r,o],p._node&&(p._panner||(p._pos||(p._pos=a._pos||[0,0,-.5]),t(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setOrientation(n,r,o)),a._emit("orientation",p._id);else return p._orientation}return a},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,s,a;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return a=n._soundById(parseInt(r[0],10)),a?a._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],s=parseInt(r[1],10));for(var l=n._getSoundIds(s),f=0;f<l.length;f++)if(a=n._soundById(l[f]),a){var p=a._pannerAttr;p={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:p.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:p.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:p.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:p.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:p.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:p.panningModel};var g=a._panner;g?(g.coneInnerAngle=p.coneInnerAngle,g.coneOuterAngle=p.coneOuterAngle,g.coneOuterGain=p.coneOuterGain,g.distanceModel=p.distanceModel,g.maxDistance=p.maxDistance,g.refDistance=p.refDistance,g.rolloffFactor=p.rolloffFactor,g.panningModel=p.panningModel):(a._pos||(a._pos=n._pos||[0,0,-.5]),t(a,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(rv);const rT={formatTime(e){const t=Math.floor(e/60)||0,n=Math.round(e-t*60)||0;return`${t}:${n<10?"0":""}${n}`}},Qf=Rv("player",{state:()=>({current_song:{},sound:{},seek:"00.00",duration:"00.00",playerProgress:"0%"}),actions:{async newSong(e){this.sound instanceof rv.Howl&&this.sound.unload(),this.current_song=e,this.sound=new rv.Howl({src:[e.url],html5:!0}),this.sound.play(),this.sound.on("play",()=>{requestAnimationFrame(this.progress)})},async toggleAudio(){this.sound.playing&&(this.sound.playing()?this.sound.pause():this.sound.play())},progress(){this.seek=rT.formatTime(this.sound.seek()),this.duration=rT.formatTime(this.sound.duration()),this.playerProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing()&&requestAnimationFrame(this.progress)},updateSeek(e){if(!this.sound.playing)return;const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),o=(e.clientX-t)/n,s=this.sound.duration()*o;this.sound.seek(s),this.sound.once("seek",this.progress)}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1}}),IB={name:"Player",methods:{..._h(Qf,["toggleAudio","updateSeek"])},computed:{...If(Qf,["playing","duration","seek","playerProgress","current_song"])}},EB={class:"fixed bottom-0 left-0 bg-white px-4 py-2 w-full"},TB={key:0,class:"text-center"},AB={class:"song-title font-bold"},SB={class:"song-artist"},kB={class:"flex flex-nowrap gap-4 items-center"},CB={class:"player-currenttime"},xB=U("i",{class:"fas fa-circle"},null,-1),RB=[xB],NB={class:"player-duration"};function OB(e,t,n,r,o,s){return He(),rt("div",EB,[e.current_song.modified_name?(He(),rt("div",TB,[U("span",AB,Ot(e.current_song.modified_name),1),Bi(" by "),U("span",SB,Ot(e.current_song.display_name),1)])):Js("",!0),U("div",kB,[U("button",{type:"button",onClick:t[0]||(t[0]=Yt((...a)=>e.toggleAudio&&e.toggleAudio(...a),["prevent"]))},[U("i",{class:ln(["fa text-gray-500 text-xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),U("div",CB,Ot(e.seek),1),U("div",{class:"w-full h-2 rounded bg-gray-200 relative cursor-pointer",onClick:t[1]||(t[1]=Yt((...a)=>e.updateSeek&&e.updateSeek(...a),["prevent"]))},[U("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-800 text-lg",style:Ys({left:e.playerProgress})},RB,4),U("span",{class:"block h-2 rounded bg-gradient-to-r from-green-500 to-green-400",style:Ys({width:e.playerProgress})},null,4)]),U("div",NB,Ot(e.duration),1)])])}const DB=Zn(IB,[["render",OB]]);const PB={name:"App",components:{TheHeader:N2,TheAuth:bB,AppPlayer:DB},computed:{...DA(Lu,["userLoggedIn"])},created(){Hr.currentUser&&(this.userLoggedIn=!0)}};function LB(e,t,n,r,o,s){const a=_t("the-header"),l=_t("router-view"),f=_t("app-player"),p=_t("the-auth");return He(),rt(Vt,null,[be(a),be(l,null,{default:kn(({Component:g})=>[be(xv,{name:"fade",mode:"out-in"},{default:kn(()=>[(He(),Ki(dh(g)))]),_:2},1024)]),_:1}),be(f),be(p)],64)}const MB=Zn(PB,[["render",LB]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Bs=typeof window<"u";function FB(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const et=Object.assign;function rg(e,t){const n={};for(const r in t){const o=t[r];n[r]=Ar(o)?o.map(e):e(o)}return n}const Ma=()=>{},Ar=Array.isArray,VB=/\/$/,UB=e=>e.replace(VB,"");function ig(e,t,n="/"){let r,o={},s="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(r=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=HB(r??t,n),{fullPath:r+(s&&"?")+s+a,path:r,query:o,hash:a}}function jB(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function iT(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function BB(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&_u(t.matched[r],n.matched[o])&&eC(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function _u(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function eC(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!qB(e[n],t[n]))return!1;return!0}function qB(e,t){return Ar(e)?oT(e,t):Ar(t)?oT(t,e):e===t}function oT(e,t){return Ar(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function HB(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var fc;(function(e){e.pop="pop",e.push="push"})(fc||(fc={}));var Fa;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Fa||(Fa={}));function $B(e){if(!e)if(Bs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),UB(e)}const KB=/^[^#]+#/;function GB(e,t){return e.replace(KB,"#")+t}function zB(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const td=()=>({left:window.pageXOffset,top:window.pageYOffset});function WB(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=zB(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function sT(e,t){return(history.state?history.state.position-t:-1)+e}const iv=new Map;function XB(e,t){iv.set(e,t)}function YB(e){const t=iv.get(e);return iv.delete(e),t}let QB=()=>location.protocol+"//"+location.host;function tC(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),iT(f,"")}return iT(n,e)+r+o}function JB(e,t,n,r){let o=[],s=[],a=null;const l=({state:m})=>{const y=tC(e,location),_=n.value,I=t.value;let T=0;if(m){if(n.value=y,t.value=m,a&&a===_){a=null;return}T=I?m.position-I.position:0}else r(y);o.forEach(E=>{E(n.value,_,{delta:T,type:fc.pop,direction:T?T>0?Fa.forward:Fa.back:Fa.unknown})})};function f(){a=n.value}function p(m){o.push(m);const y=()=>{const _=o.indexOf(m);_>-1&&o.splice(_,1)};return s.push(y),y}function g(){const{history:m}=window;m.state&&m.replaceState(et({},m.state,{scroll:td()}),"")}function h(){for(const m of s)m();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",g),{pauseListeners:f,listen:p,destroy:h}}function uT(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?td():null}}function ZB(e){const{history:t,location:n}=window,r={value:tC(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,p,g){const h=e.indexOf("#"),m=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:QB()+e+f;try{t[g?"replaceState":"pushState"](p,"",m),o.value=p}catch(y){console.error(y),n[g?"replace":"assign"](m)}}function a(f,p){const g=et({},t.state,uT(o.value.back,f,o.value.forward,!0),p,{position:o.value.position});s(f,g,!0),r.value=f}function l(f,p){const g=et({},o.value,t.state,{forward:f,scroll:td()});s(g.current,g,!0);const h=et({},uT(r.value,f,null),{position:g.position+1},p);s(f,h,!1),r.value=f}return{location:r,state:o,push:l,replace:a}}function eq(e){e=$B(e);const t=ZB(e),n=JB(e,t.state,t.location,t.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=et({location:"",base:e,go:r,createHref:GB.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function tq(e){return typeof e=="string"||e&&typeof e=="object"}function nC(e){return typeof e=="string"||typeof e=="symbol"}const ki={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},rC=Symbol("");var aT;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(aT||(aT={}));function wu(e,t){return et(new Error,{type:e,[rC]:!0},t)}function Jr(e,t){return e instanceof Error&&rC in e&&(t==null||!!(e.type&t))}const cT="[^/]+?",nq={sensitive:!1,strict:!1,start:!0,end:!0},rq=/[.+*?^${}()[\]/\\]/g;function iq(e,t){const n=et({},nq,t),r=[];let o=n.start?"^":"";const s=[];for(const p of e){const g=p.length?[]:[90];n.strict&&!p.length&&(o+="/");for(let h=0;h<p.length;h++){const m=p[h];let y=40+(n.sensitive?.25:0);if(m.type===0)h||(o+="/"),o+=m.value.replace(rq,"\\$&"),y+=40;else if(m.type===1){const{value:_,repeatable:I,optional:T,regexp:E}=m;s.push({name:_,repeatable:I,optional:T});const R=E||cT;if(R!==cT){y+=10;try{new RegExp(`(${R})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${_}" (${R}): `+D.message)}}let k=I?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;h||(k=T&&p.length<2?`(?:/${k})`:"/"+k),T&&(k+="?"),o+=k,y+=20,T&&(y+=-8),I&&(y+=-20),R===".*"&&(y+=-50)}g.push(y)}r.push(g)}if(n.strict&&n.end){const p=r.length-1;r[p][r[p].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(p){const g=p.match(a),h={};if(!g)return null;for(let m=1;m<g.length;m++){const y=g[m]||"",_=s[m-1];h[_.name]=y&&_.repeatable?y.split("/"):y}return h}function f(p){let g="",h=!1;for(const m of e){(!h||!g.endsWith("/"))&&(g+="/"),h=!1;for(const y of m)if(y.type===0)g+=y.value;else if(y.type===1){const{value:_,repeatable:I,optional:T}=y,E=_ in p?p[_]:"";if(Ar(E)&&!I)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const R=Ar(E)?E.join("/"):E;if(!R)if(T)m.length<2&&(g.endsWith("/")?g=g.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);g+=R}}return g||"/"}return{re:a,score:r,keys:s,parse:l,stringify:f}}function oq(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function sq(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=oq(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(lT(r))return 1;if(lT(o))return-1}return o.length-r.length}function lT(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const uq={type:0,value:""},aq=/[a-zA-Z0-9_]/;function cq(e){if(!e)return[[]];if(e==="/")return[[uq]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${p}": ${y}`)}let n=0,r=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let l=0,f,p="",g="";function h(){p&&(n===0?s.push({type:0,value:p}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:p,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),p="")}function m(){p+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(p&&h(),a()):f===":"?(h(),n=1):m();break;case 4:m(),n=r;break;case 1:f==="("?n=2:aq.test(f)?m():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,g="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${p}"`),h(),a(),o}function lq(e,t,n){const r=iq(cq(e.path),n),o=et(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function fq(e,t){const n=[],r=new Map;t=dT({strict:!1,end:!0,sensitive:!1},t);function o(g){return r.get(g)}function s(g,h,m){const y=!m,_=hq(g);_.aliasOf=m&&m.record;const I=dT(t,g),T=[_];if("alias"in g){const k=typeof g.alias=="string"?[g.alias]:g.alias;for(const D of k)T.push(et({},_,{components:m?m.record.components:_.components,path:D,aliasOf:m?m.record:_}))}let E,R;for(const k of T){const{path:D}=k;if(h&&D[0]!=="/"){const B=h.record.path,P=B[B.length-1]==="/"?"":"/";k.path=h.record.path+(D&&P+D)}if(E=lq(k,h,I),m?m.alias.push(E):(R=R||E,R!==E&&R.alias.push(E),y&&g.name&&!hT(E)&&a(g.name)),_.children){const B=_.children;for(let P=0;P<B.length;P++)s(B[P],E,m&&m.children[P])}m=m||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&f(E)}return R?()=>{a(R)}:Ma}function a(g){if(nC(g)){const h=r.get(g);h&&(r.delete(g),n.splice(n.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=n.indexOf(g);h>-1&&(n.splice(h,1),g.record.name&&r.delete(g.record.name),g.children.forEach(a),g.alias.forEach(a))}}function l(){return n}function f(g){let h=0;for(;h<n.length&&sq(g,n[h])>=0&&(g.record.path!==n[h].record.path||!iC(g,n[h]));)h++;n.splice(h,0,g),g.record.name&&!hT(g)&&r.set(g.record.name,g)}function p(g,h){let m,y={},_,I;if("name"in g&&g.name){if(m=r.get(g.name),!m)throw wu(1,{location:g});I=m.record.name,y=et(fT(h.params,m.keys.filter(R=>!R.optional).map(R=>R.name)),g.params&&fT(g.params,m.keys.map(R=>R.name))),_=m.stringify(y)}else if("path"in g)_=g.path,m=n.find(R=>R.re.test(_)),m&&(y=m.parse(_),I=m.record.name);else{if(m=h.name?r.get(h.name):n.find(R=>R.re.test(h.path)),!m)throw wu(1,{location:g,currentLocation:h});I=m.record.name,y=et({},h.params,g.params),_=m.stringify(y)}const T=[];let E=m;for(;E;)T.unshift(E.record),E=E.parent;return{name:I,path:_,params:y,matched:T,meta:pq(T)}}return e.forEach(g=>s(g)),{addRoute:s,resolve:p,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function fT(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function hq(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:dq(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function dq(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function hT(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function pq(e){return e.reduce((t,n)=>et(t,n.meta),{})}function dT(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function iC(e,t){return t.children.some(n=>n===e||iC(e,n))}const oC=/#/g,mq=/&/g,gq=/\//g,vq=/=/g,yq=/\?/g,sC=/\+/g,_q=/%5B/g,wq=/%5D/g,uC=/%5E/g,bq=/%60/g,aC=/%7B/g,Iq=/%7C/g,cC=/%7D/g,Eq=/%20/g;function Qy(e){return encodeURI(""+e).replace(Iq,"|").replace(_q,"[").replace(wq,"]")}function Tq(e){return Qy(e).replace(aC,"{").replace(cC,"}").replace(uC,"^")}function ov(e){return Qy(e).replace(sC,"%2B").replace(Eq,"+").replace(oC,"%23").replace(mq,"%26").replace(bq,"`").replace(aC,"{").replace(cC,"}").replace(uC,"^")}function Aq(e){return ov(e).replace(vq,"%3D")}function Sq(e){return Qy(e).replace(oC,"%23").replace(yq,"%3F")}function kq(e){return e==null?"":Sq(e).replace(gq,"%2F")}function Jf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Cq(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(sC," "),a=s.indexOf("="),l=Jf(a<0?s:s.slice(0,a)),f=a<0?null:Jf(s.slice(a+1));if(l in t){let p=t[l];Ar(p)||(p=t[l]=[p]),p.push(f)}else t[l]=f}return t}function pT(e){let t="";for(let n in e){const r=e[n];if(n=Aq(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ar(r)?r.map(s=>s&&ov(s)):[r&&ov(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function xq(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ar(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const Rq=Symbol(""),mT=Symbol(""),Jy=Symbol(""),lC=Symbol(""),sv=Symbol("");function Ea(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Oi(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=h=>{h===!1?l(wu(4,{from:n,to:t})):h instanceof Error?l(h):tq(h)?l(wu(2,{from:t,to:h})):(s&&r.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),a())},p=e.call(r&&r.instances[o],t,n,f);let g=Promise.resolve(p);e.length<3&&(g=g.then(f)),g.catch(h=>l(h))})}function og(e,t,n,r){const o=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(Nq(l)){const p=(l.__vccOpts||l)[t];p&&o.push(Oi(p,n,r,s,a))}else{let f=l();o.push(()=>f.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const g=FB(p)?p.default:p;s.components[a]=g;const m=(g.__vccOpts||g)[t];return m&&Oi(m,n,r,s,a)()}))}}return o}function Nq(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function gT(e){const t=ar(Jy),n=ar(lC),r=Ye(()=>t.resolve(he(e.to))),o=Ye(()=>{const{matched:f}=r.value,{length:p}=f,g=f[p-1],h=n.matched;if(!g||!h.length)return-1;const m=h.findIndex(_u.bind(null,g));if(m>-1)return m;const y=vT(f[p-2]);return p>1&&vT(g)===y&&h[h.length-1].path!==y?h.findIndex(_u.bind(null,f[p-2])):m}),s=Ye(()=>o.value>-1&&Lq(n.params,r.value.params)),a=Ye(()=>o.value>-1&&o.value===n.matched.length-1&&eC(n.params,r.value.params));function l(f={}){return Pq(f)?t[he(e.replace)?"replace":"push"](he(e.to)).catch(Ma):Promise.resolve()}return{route:r,href:Ye(()=>r.value.href),isActive:s,isExactActive:a,navigate:l}}const Oq=Au({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:gT,setup(e,{slots:t}){const n=ai(gT(e)),{options:r}=ar(Jy),o=Ye(()=>({[yT(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[yT(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Ko("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),Dq=Oq;function Pq(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Lq(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Ar(o)||o.length!==r.length||r.some((s,a)=>s!==o[a]))return!1}return!0}function vT(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const yT=(e,t,n)=>e??t??n,Mq=Au({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ar(sv),o=Ye(()=>e.route||r.value),s=ar(mT,0),a=Ye(()=>{let p=he(s);const{matched:g}=o.value;let h;for(;(h=g[p])&&!h.components;)p++;return p}),l=Ye(()=>o.value.matched[a.value]);zs(mT,Ye(()=>a.value+1)),zs(Rq,l),zs(sv,o);const f=Pn();return Jt(()=>[f.value,l.value,e.name],([p,g,h],[m,y,_])=>{g&&(g.instances[h]=p,y&&y!==g&&p&&p===m&&(g.leaveGuards.size||(g.leaveGuards=y.leaveGuards),g.updateGuards.size||(g.updateGuards=y.updateGuards))),p&&g&&(!y||!_u(g,y)||!m)&&(g.enterCallbacks[h]||[]).forEach(I=>I(p))},{flush:"post"}),()=>{const p=o.value,g=e.name,h=l.value,m=h&&h.components[g];if(!m)return _T(n.default,{Component:m,route:p});const y=h.props[g],_=y?y===!0?p.params:typeof y=="function"?y(p):y:null,T=Ko(m,et({},_,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(h.instances[g]=null)},ref:f}));return _T(n.default,{Component:T,route:p})||T}}});function _T(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Fq=Mq;function Vq(e){const t=fq(e.routes,e),n=e.parseQuery||Cq,r=e.stringifyQuery||pT,o=e.history,s=Ea(),a=Ea(),l=Ea(),f=fD(ki);let p=ki;Bs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=rg.bind(null,G=>""+G),h=rg.bind(null,kq),m=rg.bind(null,Jf);function y(G,V){let Y,ee;return nC(G)?(Y=t.getRecordMatcher(G),ee=V):ee=G,t.addRoute(ee,Y)}function _(G){const V=t.getRecordMatcher(G);V&&t.removeRoute(V)}function I(){return t.getRoutes().map(G=>G.record)}function T(G){return!!t.getRecordMatcher(G)}function E(G,V){if(V=et({},V||f.value),typeof G=="string"){const A=ig(n,G,V.path),x=t.resolve({path:A.path},V),M=o.createHref(A.fullPath);return et(A,x,{params:m(x.params),hash:Jf(A.hash),redirectedFrom:void 0,href:M})}let Y;if("path"in G)Y=et({},G,{path:ig(n,G.path,V.path).path});else{const A=et({},G.params);for(const x in A)A[x]==null&&delete A[x];Y=et({},G,{params:h(G.params)}),V.params=h(V.params)}const ee=t.resolve(Y,V),Fe=G.hash||"";ee.params=g(m(ee.params));const Ke=jB(r,et({},G,{hash:Tq(Fe),path:ee.path})),Ae=o.createHref(Ke);return et({fullPath:Ke,hash:Fe,query:r===pT?xq(G.query):G.query||{}},ee,{redirectedFrom:void 0,href:Ae})}function R(G){return typeof G=="string"?ig(n,G,f.value.path):et({},G)}function k(G,V){if(p!==G)return wu(8,{from:V,to:G})}function D(G){return z(G)}function B(G){return D(et(R(G),{replace:!0}))}function P(G){const V=G.matched[G.matched.length-1];if(V&&V.redirect){const{redirect:Y}=V;let ee=typeof Y=="function"?Y(G):Y;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=R(ee):{path:ee},ee.params={}),et({query:G.query,hash:G.hash,params:"path"in ee?{}:G.params},ee)}}function z(G,V){const Y=p=E(G),ee=f.value,Fe=G.state,Ke=G.force,Ae=G.replace===!0,A=P(Y);if(A)return z(et(R(A),{state:typeof A=="object"?et({},Fe,A.state):Fe,force:Ke,replace:Ae}),V||Y);const x=Y;x.redirectedFrom=V;let M;return!Ke&&BB(r,ee,Y)&&(M=wu(16,{to:x,from:ee}),mt(ee,ee,!0,!1)),(M?Promise.resolve(M):X(x,ee)).catch(q=>Jr(q)?Jr(q,2)?q:Tt(q):Oe(q,x,ee)).then(q=>{if(q){if(Jr(q,2))return z(et({replace:Ae},R(q.to),{state:typeof q.to=="object"?et({},Fe,q.to.state):Fe,force:Ke}),V||x)}else q=Ee(x,ee,!0,Ae,Fe);return C(x,ee,q),q})}function L(G,V){const Y=k(G,V);return Y?Promise.reject(Y):Promise.resolve()}function X(G,V){let Y;const[ee,Fe,Ke]=Uq(G,V);Y=og(ee.reverse(),"beforeRouteLeave",G,V);for(const A of ee)A.leaveGuards.forEach(x=>{Y.push(Oi(x,G,V))});const Ae=L.bind(null,G,V);return Y.push(Ae),Ms(Y).then(()=>{Y=[];for(const A of s.list())Y.push(Oi(A,G,V));return Y.push(Ae),Ms(Y)}).then(()=>{Y=og(Fe,"beforeRouteUpdate",G,V);for(const A of Fe)A.updateGuards.forEach(x=>{Y.push(Oi(x,G,V))});return Y.push(Ae),Ms(Y)}).then(()=>{Y=[];for(const A of G.matched)if(A.beforeEnter&&!V.matched.includes(A))if(Ar(A.beforeEnter))for(const x of A.beforeEnter)Y.push(Oi(x,G,V));else Y.push(Oi(A.beforeEnter,G,V));return Y.push(Ae),Ms(Y)}).then(()=>(G.matched.forEach(A=>A.enterCallbacks={}),Y=og(Ke,"beforeRouteEnter",G,V),Y.push(Ae),Ms(Y))).then(()=>{Y=[];for(const A of a.list())Y.push(Oi(A,G,V));return Y.push(Ae),Ms(Y)}).catch(A=>Jr(A,8)?A:Promise.reject(A))}function C(G,V,Y){for(const ee of l.list())ee(G,V,Y)}function Ee(G,V,Y,ee,Fe){const Ke=k(G,V);if(Ke)return Ke;const Ae=V===ki,A=Bs?history.state:{};Y&&(ee||Ae?o.replace(G.fullPath,et({scroll:Ae&&A&&A.scroll},Fe)):o.push(G.fullPath,Fe)),f.value=G,mt(G,V,Y,Ae),Tt()}let ie;function Se(){ie||(ie=o.listen((G,V,Y)=>{if(!rn.listening)return;const ee=E(G),Fe=P(ee);if(Fe){z(et(Fe,{replace:!0}),ee).catch(Ma);return}p=ee;const Ke=f.value;Bs&&XB(sT(Ke.fullPath,Y.delta),td()),X(ee,Ke).catch(Ae=>Jr(Ae,12)?Ae:Jr(Ae,2)?(z(Ae.to,ee).then(A=>{Jr(A,20)&&!Y.delta&&Y.type===fc.pop&&o.go(-1,!1)}).catch(Ma),Promise.reject()):(Y.delta&&o.go(-Y.delta,!1),Oe(Ae,ee,Ke))).then(Ae=>{Ae=Ae||Ee(ee,Ke,!1),Ae&&(Y.delta&&!Jr(Ae,8)?o.go(-Y.delta,!1):Y.type===fc.pop&&Jr(Ae,20)&&o.go(-1,!1)),C(ee,Ke,Ae)}).catch(Ma)}))}let Ce=Ea(),Me=Ea(),xe;function Oe(G,V,Y){Tt(G);const ee=Me.list();return ee.length?ee.forEach(Fe=>Fe(G,V,Y)):console.error(G),Promise.reject(G)}function we(){return xe&&f.value!==ki?Promise.resolve():new Promise((G,V)=>{Ce.add([G,V])})}function Tt(G){return xe||(xe=!G,Se(),Ce.list().forEach(([V,Y])=>G?Y(G):V()),Ce.reset()),G}function mt(G,V,Y,ee){const{scrollBehavior:Fe}=e;if(!Bs||!Fe)return Promise.resolve();const Ke=!Y&&YB(sT(G.fullPath,0))||(ee||!Y)&&history.state&&history.state.scroll||null;return Fi().then(()=>Fe(G,V,Ke)).then(Ae=>Ae&&WB(Ae)).catch(Ae=>Oe(Ae,G,V))}const gt=G=>o.go(G);let lt;const mn=new Set,rn={currentRoute:f,listening:!0,addRoute:y,removeRoute:_,hasRoute:T,getRoutes:I,resolve:E,options:e,push:D,replace:B,go:gt,back:()=>gt(-1),forward:()=>gt(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:Me.add,isReady:we,install(G){const V=this;G.component("RouterLink",Dq),G.component("RouterView",Fq),G.config.globalProperties.$router=V,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>he(f)}),Bs&&!lt&&f.value===ki&&(lt=!0,D(o.location).catch(Fe=>{}));const Y={};for(const Fe in ki)Y[Fe]=Ye(()=>f.value[Fe]);G.provide(Jy,V),G.provide(lC,ai(Y)),G.provide(sv,f);const ee=G.unmount;mn.add(G),G.unmount=function(){mn.delete(G),mn.size<1&&(p=ki,ie&&ie(),ie=null,f.value=ki,lt=!1,xe=!1),ee()}}};return rn}function Ms(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function Uq(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const l=t.matched[a];l&&(e.matched.find(p=>_u(p,l))?r.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(p=>_u(p,f))||o.push(f))}return[n,r,o]}const jq={name:"SongItem",props:["song"]},Bq={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-200 border-b-4 m-5 rounded"},qq={class:"text-gray-500 text-sm"},Hq={class:"text-gray-600 text-lg"},$q=["onClick"],Kq=U("i",{class:"fa fa-comments text-gray-600"},null,-1);function Gq(e,t,n,r,o,s){const a=_t("router-link");return He(),Ki(a,{to:{name:"song",params:{id:n.song.docID}}},{default:kn(()=>[U("li",Bq,[U("div",null,[be(a,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block text-gray-600"},{default:kn(()=>[Bi(Ot(n.song.modified_name),1)]),_:1},8,["to"]),U("span",qq,Ot(n.song.name),1)]),U("div",Hq,[be(a,{custom:"",to:{name:"song",params:{id:n.song.docID},hash:"#comments"}},{default:kn(({navigate:l})=>[U("span",{class:"comments",onClick:l},[Kq,Bi(" "+Ot(n.song.comment_count),1)],8,$q)]),_:1},8,["to"])])])]),_:1},8,["to"])}const zq=Zn(jq,[["render",Gq]]),Wq="/music-player/assets/img/introduction-music.png",Xq={name:"Home",components:{AppSongItem:zq},data(){return{songs:[],maxPerPage:25,pendingRequest:!1}},async created(){this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n>t-100&&console.log("Bottom of window")},async getSongs(){if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const t=await oi.doc(this.songs[this.songs.length-1].docID).get();e=await oi.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get()}else e=await oi.orderBy("modified_name").limit(this.maxPerPage).get();e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})}),this.pendingRequest=!1}}},Yq=lP('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Listen to Great Music!</h1><p class="w-full md:w-8/12 mx-auto">Checkout some cool music here!</p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+Wq+'"></section>',1),Qq={class:"container mx-auto"},Jq={class:"bg-white rounded border border-gray-200 relative flex flex-col"},Zq=U("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[U("span",{class:"card-title"},"Songs"),U("i",{class:"fa fa-headphones-alt float-right text-green-400 text-xl"})],-1),e4={id:"playlist"};function t4(e,t,n,r,o,s){const a=_t("app-song-item");return He(),rt("main",null,[Yq,U("section",Qq,[U("div",Jq,[Zq,U("ol",e4,[(He(!0),rt(Vt,null,dc(o.songs,l=>(He(),Ki(a,{key:l.docID,song:l},null,8,["song"]))),128))])])])])}const n4=Zn(Xq,[["render",t4]]);const r4={},i4={class:"about"},o4=U("h1",null,"This is a music application made using VueJs",-1),s4=[o4];function u4(e,t){return He(),rt("div",i4,s4)}const a4=Zn(r4,[["render",u4]]),c4={name:"Upload",data(){return{is_dragover:!1,uploads:[]}},props:["addSong"],methods:{upload(e){this.is_dragover=!1;const t=e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files];t.forEach(n=>{if(n.type!=="audio/mpeg")return;const s=Zk.ref().child(`songs/${n.name}`).put(n),a=this.uploads.push({task:s,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;s.on("state_changed",l=>{const f=l.bytesTransferred/l.totalBytes*100;this.uploads[a].current_progress=f},l=>{this.uploads[a].variant="bg-red-400",this.uploads[a].icon="fas fa-times",this.uploads[a].text_class="text-red-400",console.log(l)},async()=>{const l={uid:Hr.currentUser.uid,display_name:Hr.currentUser.displayName,original_name:s.snapshot.ref.name,modified_name:s.snapshot.ref.name,genre:"",comment_count:0};l.url=await s.snapshot.ref.getDownloadURL();const p=await(await oi.add(l)).get();this.addSong(p),this.uploads[a].variant="bg-green-400",this.uploads[a].icon="fas fa-check",this.uploads[a].text_class="text-green-400"})}),console.log(t)},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},l4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},f4=U("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[U("span",{class:"card-title"},"Upload"),U("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),h4={class:"p-6"},d4=U("h5",null,"Drop your files here",-1),p4=[d4],m4=U("hr",{class:"my-6"},null,-1),g4={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function v4(e,t,n,r,o,s){return He(),rt("div",l4,[f4,U("div",h4,[U("div",{class:ln(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=Yt(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Yt(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Yt(a=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Yt(a=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Yt(a=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Yt(a=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Yt(a=>s.upload(a),["prevent","stop"]))},p4,34),U("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=a=>s.upload(a))},null,32),m4,(He(!0),rt(Vt,null,dc(o.uploads,a=>(He(),rt("div",{class:"mb-4",key:a.name},[U("div",{class:ln(["font-bold text-sm",a.text_class])},[U("i",{class:ln(a.icon)},null,2),Bi(Ot(a.name),1)],2),U("div",g4,[U("div",{class:ln(["transition-all progress-bar",a.variant]),style:Ys({width:a.current_progress+"%"})},null,6)])]))),128))])])}const y4=Zn(c4,[["render",v4]]),_4={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_message:"Please Wait! Updating Song Info"}},methods:{async edit(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_message="Please Wait! Updating Song Info";try{await oi.doc(this.song.docID).update(e)}catch{this.in_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Try again later";return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Success!"},async deleteSong(){await Zk.ref().child(`songs/${this.song.original_name}`).delete(),await oi.doc(this.song.docID).delete(),this.removeSong(this.index)}}},w4={class:"border border-gray-200 p-3 mb-4 rounded"},b4={class:"inline-block text-2xl font-bold"},I4=U("i",{class:"fa fa-times"},null,-1),E4=[I4],T4=U("i",{class:"fa fa-pencil-alt"},null,-1),A4=[T4],S4={class:"mb-3"},k4=U("label",{class:"inline-block mb-2"},"Song Title",-1),C4={class:"mb-3"},x4=U("label",{class:"inline-block mb-2"},"Genre",-1),R4=["disabled"],N4=["disabled"];function O4(e,t,n,r,o,s){const a=_t("vee-field"),l=_t("ErrorMessage"),f=_t("vee-form");return He(),rt("div",w4,[mg(U("div",null,[U("h4",b4,Ot(n.song.modified_name),1),U("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right",onClick:t[0]||(t[0]=Yt((...p)=>s.deleteSong&&s.deleteSong(...p),["prevent"]))},E4),U("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right",onClick:t[1]||(t[1]=Yt(p=>o.showForm=!o.showForm,["prevent"]))},A4)],512),[[wI,!o.showForm]]),mg(U("div",null,[o.show_alert?(He(),rt("div",{key:0,class:ln(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},Ot(o.alert_message),3)):Js("",!0),be(f,{"validation-schema":o.schema,"initial-values":n.song,onSubmit:s.edit},{default:kn(()=>[U("div",S4,[k4,be(a,{name:"modified_name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=p=>n.updateUnsavedFlag(!0))}),be(l,{class:"text-red-600",name:"modified_name"})]),U("div",C4,[x4,be(a,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=p=>n.updateUnsavedFlag(!0))}),be(l,{class:"text-red-600",name:"genre"})]),U("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600",disabled:o.in_submission}," Submit ",8,R4),U("button",{type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.in_submission,onClick:t[4]||(t[4]=Yt(p=>o.showForm=!1,["prevent"]))}," Go Back ",8,N4)]),_:1},8,["validation-schema","initial-values","onSubmit"])],512),[[wI,o.showForm]])])}const D4=Zn(_4,[["render",O4]]),P4={name:"manage",components:{AppUpload:y4,CompositionItem:D4},data(){return{songs:[],unsavedFlag:!1}},async created(){(await oi.where("uid","==",Hr.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const r=confirm("You have unsaved changes. Are you sure you want to leave?");n(r)}}},L4={class:"container mx-auto mt-6"},M4={class:"md:grid md:grid-cols-3 md:gap-4"},F4={class:"col-span-1"},V4={class:"col-span-2"},U4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},j4=U("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[U("span",{class:"card-title"},"My Songs"),U("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),B4={class:"p-6"};function q4(e,t,n,r,o,s){const a=_t("app-upload"),l=_t("composition-item");return He(),rt("section",L4,[U("div",M4,[U("div",F4,[be(a,{ref:"upload",addSong:s.addSong},null,8,["addSong"])]),U("div",V4,[U("div",U4,[j4,U("div",B4,[(He(!0),rt(Vt,null,dc(o.songs,(f,p)=>(He(),Ki(l,{key:f.docID,song:f,updateSong:s.updateSong,index:p,removeSong:s.removeSong,updateUnsavedFlag:s.updateUnsavedFlag},null,8,["song","updateSong","index","removeSong","updateUnsavedFlag"]))),128))])])])])])}const H4=Zn(P4,[["render",q4]]),$4="data:image/gif;base64,R0lGODlhgABwAMQRAKCAcNDAoLAAALCggJCg0MDQ4NAgAPDQoODgwPDw8IBQQLBgUPBAANCAYOCQcPCwgGBAMP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAABEALAAAAACAAHAAAAX/YCSOZGmeaKqubOu+cCzPdG3feH4ueu//MR5wSKwJRYtjZNEoOnsQiCgqXSVJTOxVpeg+ndRpVTEmkxropJepGKEbR3ijXWLC6d+hNAwh9xdRXVVLDQ5wC2todEwPDkJMkFiFh3lFe1RUCmpqUpp2iF1MhqAKDY2fC42OoYUOo5WWmIF/c2x/qKKuD3cLupOOpg4PiL2uo0nFb8hKsDGyUYAQkHKu1Ia6wo2t19gP3t5o2IeF4HbKy80wz9CIcqLj1eTcxt6639/C2bvV2cbH6TYCkfGkiWAaMmmQjWol78EBBwccejsQ8V6ji6qOFTNGCeCKTM8K9imF6FYogr0O/2lL+VCixIoUXV570y/hm44eR6zL5CcQJ5HSpHXRdKcQolEXW8KMSDGfvW8J1QwdiszjzlmypvbZurWkNF7HgKnal9QlRaYVDU3ygmJqs6twBQnc2pMg0S5pOA4LBrFfNqV+4ylDMSgP3J09uSr+Q4YYIIVp9l7LSHns2YdGk9zcAvCw58RZBQ0k9hWSo3euiu0KVw8fvnikqsLyHPcw0D9055zr9S7XJHk1841DI8JTJdpXQWPyMzRTNMbTNDkINd3OMYbYNKemiscw8u9ZvQ7sWTI6G1asDBGF1Fv7HcbewcvHzVWuJnZM+sAZmd/THZL/mQPKSD51p8d8tS1n3/9cBAoFCVF0lcQKIAU9SMxBDLKlRwQIIhbSciDV11gS+g3EGH9egSIVLfv5xKGBPnS4jnIfmqggLSdSKGEo4o1mnx3MCQGjDjIWSeNoDeTo40gFjcecXCPNIVBxQBRp5If8zXWfSDuKFgpWs8zxYiyXWIlcXSF6wmCSJ91Hl5fRJNYYHYX9UKaZCfoUGlCNBUWVUAQO+CVdzhnGIRUCCGDAogYw4CijjTrKwKKTQhqFAIhiEmlWDW7FJnT0jfbmc9IcquETiTIq6aqstspqFAZQESsVkmLCwDOzQjCdp4EyJw2FJ7oYSCWJFmsspJFG6uqtEBiAKQTMNlsrrbleOqv/AAyY6ECvz5E0HqmIvDgkEKmquuy5jvaRLrS3KhttpM9ayyy2szCAaZ+OUNFLhHUJ0UcexiqKrLvnKlDrqusoW62i89JL7Z+TPltKhN0eMW6MlwascbmQtsruqs4mTGui6zKM6KSiRhzrlvyRp9MX+jJ2LKXoLhvyYY5iy6yzk8rq6HjYOjurjaGYOsUXs+poonapxKTAzAMjG+9Om0LL8LM6M9tFoySvLKK/dTqhNW5zGlUPRAf4QUxYHB1EI61R5LyutOs+rbK9vnYlRiVzQ4MVHPUkgXZz7rRSzoA459zorApvtXikpu4x0N5I2zu1r5qUcwhED6jtyUX6rPS2/6yqYuruvTo32uyhYwzLId+pJifcIUk4xCZ1rYVez3s7BZNkx+9Omi0EUxf379GVCzy1LKfQLkdEueWuCkObvd1ARArcsyisjCqn0/FhD8E1w9Uyz971p0DEnD66T88RJ89cf1k2EGC0DglRIP+F4lxftYtmEVnIAXRkEYuMYioIpJEpzma7XdyvCvlrRs7IBxdTAC4jcHiIdAr4klMQ4IMghNLb9hERUj3jZc2AF6XKlxVvpAIqSXgII9JyD6Z4sAA4LAAB8gOXXUCPU2HQHywmuMLDWDAfy4CIKWj4F4fEpBEEKEACElCABSQARLIwxAFkEa6clABeDLOXbYRhQf/a5cM1Z3zJEyEixQTskAwEeACgoLFEAkDAjsfzIgkmGMblrSMVZFzGNtBYQydWZCKYudBpNPMN7EVBTHocARhpRpvs4UMzhnMKPZp4mRoGUC3UwEhMUsEML1KqWJSkzQLvIRZNDpKThjSgIVZDj0YGMJIkOKXQpvUZW8IDdDTpRiMNeRm0gA4jTjwFLiMAKUWFUYyqLCboOALKTRZSmhN5TRqT2YRINtOZjVsMmL4Sy9f85hfdgKUNC+iPv9zSm4xKVdbqthxSpWd3gBRMONCZxnUW8JO1TCY847moeeLNc7YQyIS0o0+a/OKV/9RmO4VxFgfkBAAAGMAAAhAABCj/j1W5uk8vTNSmoaABgzdJ6S+Omc2JBDR0Z2mER6ZI0yleDaT6IsYwFIoMk4oDlCoNhzA9WRkGWqSb6agpTVfYqnuJInvRUJFUSuFKoKZ0Mv3soCNAKchJlLISCUBAAAaAUQAwFaT+yQZ3PCGVYGDQqvts5zWb0iISRSKSZc3rWUGmnW/wyDFSwYY/zhnXoaoxphoJxjLzitEF7HVV1qkHWx3znzO2M6jWHGYxD0mTXSw2r8hYnKsMQI7ALWM9oBAsNa/qj38iVi27q8ZnGxvaSrnKcKdYBjIOoYBNDraag+RgNXS7W9nikrbLeNxta4LJcTxoGxNlbftgw9BFiuKr/wARpB2U2yoDiMMcwynKQ1db2NylobSIPMtNLtaMXIAydcuSR3PPexDrjFe6pm3t2eT6hmVGgKLaQEPqCPaoQKoUvKxw6EwKS8ZaUrerafCvId/L3VaZYr43UYuKVGrVyw72EDvRDHubEdP1Vhikp3Fohv/jn6AGkx/Dtc5lP+HfCDzxHI8jsKOGs+CHTgXDHL4sejf7yRGTGIa1ta2r5gtU2CAQyFfNsC2J3Agjw+Ieuh2wzczRtm0o4snglcNmWONJbE6nxqDL8qNoZuG4/ua7CWyxMsSMWw4aELseaU2Wk6XjSb14pWScQ5x36+KAStQXeAZIP3SrAD6fS6htE/8si8EcZkhHl7VwMAEAWhAAIGSE0VljM0iF6j5gCjrObA1yl12c6RFoVASdTkFHgeAU2iUhjKIGWSa1kc5JDxrKrN7nAsq6UQRsNAEDQEGxE0Dr9y0D131mAKmdwkpfo5q4wY7KsmuKgE2TAKMb5Siymx1jESusz961LDLxCeY4UyGjCIg3TeONAKXaO6zFFqtGORrvACQg1j8YbHMXEGp073qbh+sqKZoDgQGE9eHyniK9O1rvsNJ74hWP+BTHSoQPp7Tg5/LuMZ+yu6v+jxRRgDfE613xeXOU4h1VqsYlHgBvD6G1XX5mriWV7pHrrsnZSIgfMOpvbltc5i9v+cX/JS5xYzuBHjGJR6N5Hu2DIzMtco26lFJ+7Icb/d4Xb7m9xRqBjHZ0rDa/gS5iGmCCUx3d2zT0fqF+FsWYnelfv7fFZ85tvrucrDSg6BopTHWbodeoMpmH4OXoFQjcHexih3zkWX70v6ddBuXM+bnh/nN9YB26o4AA7xy/7MhXXu+oXznlkX55FozVnCYGmcFl6flPqphCLOY6xekN8bAWPfWop3zG0V5WGODb44eYp2hHyz5eD3N6vNXPpHUf9uqLO/W8BzvNW/8Cmg4ANu54ppK7u8Az4jbqUqeOr1Nudn73ft7Abzrw+z2Dlo+1cGxwV7QnhcbJtNTJvZFA79Z1/6aHd/HndwZIdjCgccamGeyhf9FmANKjFu50NrzgVQsHJRlFgPDHdAU4eR8YcQDXAtk3RWSlZrL3aLkDY4g0PQwldAiECe2XgHhXgF5Xg9wWALsQAK3GAmHnfQDwbN0Vcj5HZmsEDynWUzHIftendAZ4g2LHcksnc+qVaCIgVlNobEF4a/pXM3zRZRWYGhsxcFPFcAoAADEHhb4HhRkHf/LGgBJ3GVZocbvne2SlCASzczw3Ewu2dlrXCycHXoJ0DF2AhlLYezHXhm0of3xXbwFQTD1oAm94cWZ3h441hDazap0VSycViF2lX4pgdhk3iYk4b4fYdCUocQNQZtgVdv8dRVaV6Ap5WDNoc4SsgVgLZGvQRUwBdobiJoXytntKl4WTuHrGxnbC8FVLJ1Z5pVEA4AAGJTwhR2SflF674EIyRkzIiAZRUHrAiIXGKHyouIw010mvUALCGFaM5YzRKI2jpY3YhEjDRQ7U+HnRgIb+xnssx29vuHcR943vJ1bS5Agl4Hu8B4vENgDiVzOOUov1eEilVo8WmCRU4I1hNwD9yIjDt4z/+IjFRJAj8I3dhpDgZlYMCVJlRo0ZIXiddEgxJoO/CI6+l47+WIwymX0CKU1HwHsdxVjN2I7oInJ2Bo9LEROfFxUY0nCJWH355nU/aJD9JoWJqIPWKARLV3P/xMZYQBmUEyV3xmRDANWVHEEG+EiH/YZvFOeUdRiVdYhvLPdPBPlvvOeTebWQDJluUEeUMNFB0uRP4CAIFsmT/Kh6+ghzq8eD4MZBTeCI8ZZR66hXJ8kqq8SXRDllD7lOglCWZylWaNmW4Hhx/JaG+LYLAGBnCxCM3UaXdRmZIKNZZsGXYAmWQ+lX3TiVh2hs7jeKaYmFZ+d1VDmUDZCWWOmYzYhRdlkzQjmbaOGSs8lBmRmT+Vh0Y+WZYiWMZ1eKxjabDiCTj6mV+xdfzZlNFZVZ4dk5tbmPjNmZOImbE8dRpfdvzRmVWqiajvmd71ie5qhu5fmc+ciZnPlv4caALWMFmmOFkW8Yn1FJnFkJmaz5KJOpnK+1buHpB6VnmHY4mKqYb9VZbDG3ikMZAgA7",K4={name:"Song",data(){return{song:{},schema:{comment:"required|min:3"},comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Please Wait! Your comment is being submitted",comments:[],sort:"1"}},computed:{...If(Lu,["userLoggedIn"]),...If(Qf,["playing"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.datePosted)-new Date(e.datePosted):new Date(e.datePosted)-new Date(t.datePosted))}},async created(){const e=await oi.doc(this.$route.params.id).get();if(!e.exists){this.$router.push({name:"home"});return}const{sort:t}=this.$route.query;this.sort=t,this.song=e.data(),this.getComments()},methods:{..._h(Qf,["newSong"]),async addComment(e,{resetForm:t}){this.comment_in_submission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please Wait! Your comment is being submitted";const n={content:e.comment,datePosted:new Date().toString(),sid:this.$route.params.id,name:Hr.currentUser.displayName,uid:Hr.currentUser.uid};await nT.add(n),this.song.comment_count+=1,await oi.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant="bg-green-500",this.comment_alert_message="Comment added!",t()},async getComments(){const e=await nT.where("sid","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>[this.comments.push({docID:t.id,...t.data()})])}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}}},G4={class:"w-full mb-8 py-14 text-center text-white relative"},z4=U("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:{"background-image":"url(/assets/img/song-header.png)"}},null,-1),W4={class:"container mx-auto flex items-center"},X4={class:"z-50 text-left ml-8"},Y4={class:"text-3xl font-bold"},Q4={class:"container mx-auto mt-6",id:"comments"},J4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},Z4={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},e3={class:"card-title"},t3=U("i",{class:"fa fa-comments float-right text-green-400 text-2xl"},null,-1),n3={class:"p-6"},r3=["disabled"],i3=U("option",{value:"1"},"Latest",-1),o3=U("option",{value:"2"},"Oldest",-1),s3=[i3,o3],u3={class:"container mx-auto"},a3={class:"mb-5"},c3=U("img",{src:$4,class:"h-10 w-10"},null,-1),l3={class:"font-bold"},f3={class:"text-xs"};function h3(e,t,n,r,o,s){const a=_t("vee-field"),l=_t("ErrorMessage"),f=_t("vee-form");return He(),rt("main",null,[U("section",G4,[z4,U("div",W4,[U("button",{type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none",onClick:t[0]||(t[0]=Yt(p=>e.newSong(o.song),["prevent"]))},[U("i",{class:ln(["fas",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),U("div",X4,[U("div",Y4,Ot(o.song.modified_name),1),U("div",null,Ot(o.song.genre),1)])])]),U("section",Q4,[U("div",J4,[U("div",Z4,[U("span",e3,"Comments ("+Ot(o.song.comment_count)+")",1),t3]),U("div",n3,[o.comment_show_alert?(He(),rt("div",{key:0,class:ln(["text-white text-center font-bold p-4 mb-4",o.comment_alert_variant])},Ot(o.comment_alert_message),3)):Js("",!0),e.userLoggedIn?(He(),Ki(f,{key:1,"validation-schema":o.schema,onSubmit:s.addComment},{default:kn(()=>[be(a,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4",placeholder:"Your comment here..."}),be(l,{class:"text-red-600",name:"comment"}),U("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Submit ",8,r3)]),_:1},8,["validation-schema","onSubmit"])):Js("",!0),mg(U("select",{class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded","onUpdate:modelValue":t[1]||(t[1]=p=>o.sort=p)},s3,512),[[$P,o.sort]])])])]),U("ul",u3,[(He(!0),rt(Vt,null,dc(s.sortedComments,p=>(He(),rt("li",{class:"p-6 bg-gray-50 border border-gray-200 m-3",key:p.docID},[U("div",a3,[c3,U("div",l3,Ot(p.name),1),U("time",f3,Ot(p.datePosted),1)]),U("p",null,Ot(p.content),1)]))),128))])])}const d3=Zn(K4,[["render",h3]]),p3=[{name:"home",path:"/",component:n4},{home:"about",path:"/about",component:a4},{name:"manage",path:"/manage-music",component:H4,beforeEnter:(e,t,n)=>{console.log("Manage Route Guard"),n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:d3},{path:"/:catchAll(.*)",redirect:{name:"home"}}],fC=Vq({history:eq("/music-player/"),routes:p3,linkExactActiveClass:"text-yellow-500"});fC.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}Lu().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.7.3
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */function Zo(e){return typeof e=="function"}function Va(e){return e==null}const es=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function hC(e){return Number(e)>=0}function m3(e){const t=parseFloat(e);return isNaN(t)?e:t}const dC={};function mr(e,t){v3(e,t),dC[e]=t}function g3(e){return dC[e]}function v3(e,t){if(!Zo(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const Pc=Symbol("vee-validate-form"),y3=Symbol("vee-validate-field-instance"),Zf=Symbol("Default empty value"),_3=typeof window<"u";function uv(e){return Zo(e)&&!!e.__locatorRef}function Ua(e){return!!e&&Zo(e.validate)}function bu(e){return e==="checkbox"||e==="radio"}function w3(e){return es(e)||Array.isArray(e)}function pC(e){return Array.isArray(e)?e.length===0:es(e)&&Object.keys(e).length===0}function nd(e){return/^\[.+\]$/i.test(e)}function b3(e){return mC(e)&&e.multiple}function mC(e){return e.tagName==="SELECT"}function I3(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function E3(e,t){return!I3(e,t)&&t.type!=="file"&&!bu(t.type)}function gC(e){return Zy(e)&&e.target&&"submit"in e.target}function Zy(e){return e?!!(typeof Event<"u"&&Zo(Event)&&e instanceof Event||e&&e.srcElement):!1}function wT(e,t){return t in e&&e[t]!==Zf}function $t(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!$t(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!$t(r[1],t.get(r[0])))return!1;return!0}if(bT(e)&&bT(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){var s=o[r];if(!$t(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function bT(e){return _3?e instanceof File:!1}function IT(e,t,n){typeof n.value=="object"&&(n.value=at(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function at(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(at(a))})):s==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(at(l),at(a))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(at(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)IT(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||IT(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function e_(e){return nd(e)?e.replace(/\[|\]/gi,""):e}function Ct(e,t,n){return e?nd(t)?e[e_(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>w3(o)&&s in o?o[s]:n,e):n}function Ci(e,t,n){if(nd(t)){e[e_(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||Va(o[r[s]]))&&(o[r[s]]=hC(r[s+1])?[]:{}),o=o[r[s]]}}function sg(e,t){if(Array.isArray(e)&&hC(t)){e.splice(Number(t),1);return}es(e)&&delete e[t]}function nf(e,t){if(nd(t)){delete e[e_(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){sg(r,n[s]);break}if(!(n[s]in r)||Va(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,a)=>Ct(e,n.slice(0,a).join(".")));for(let s=o.length-1;s>=0;s--)if(pC(o[s])){if(s===0){sg(e,n[0]);continue}sg(o[s-1],n[s-1])}}function Wt(e){return Object.keys(e)}function t_(e,t=void 0){const n=gh();return(n==null?void 0:n.provides[e])||ar(e,t)}function av(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.findIndex(s=>$t(s,t));return o>=0?r.splice(o,1):r.push(t),r}return $t(e,t)?n:t}function ET(e,t=0){let n=null,r=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...o);r.forEach(a=>a(s)),r=[]},t),new Promise(s=>r.push(s))}}function T3(e,t){return es(t)&&t.number?m3(e):e}function cv(e,t){let n;return async function(...o){const s=e(...o);n=s;const a=await s;return s!==n||(n=void 0,t(a,o)),a}}function A3({get:e,set:t}){const n=Pn(at(e()));return Jt(e,r=>{$t(r,n.value)||(n.value=at(r))},{deep:!0}),Jt(n,r=>{$t(r,e())||t(at(r))},{deep:!0}),n}const rd=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default;function ug(e){if(vC(e))return e._value}function vC(e){return"_value"in e}function n_(e){if(!Zy(e))return e;const t=e.target;if(bu(t.type)&&vC(t))return ug(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(b3(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(ug);if(mC(t)){const n=Array.from(t.options).find(r=>r.selected);return n?ug(n):t.value}return t.value}function yC(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?es(e)&&e._$$isNormalized?e:es(e)?Object.keys(e).reduce((n,r)=>{const o=S3(e[r]);return e[r]!==!1&&(n[r]=TT(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=k3(r);return o.name&&(n[o.name]=TT(o.params)),n},t):t}function S3(e){return e===!0?[]:Array.isArray(e)||es(e)?e:[e]}function TT(e){const t=n=>typeof n=="string"&&n[0]==="@"?C3(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const k3=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function C3(e){const t=n=>Ct(n,e)||n[e];return t.__locatorRef=e,t}function x3(e){return Array.isArray(e)?e.filter(uv):Wt(e).filter(t=>uv(e[t])).map(t=>e[t])}const R3={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let lv=Object.assign({},R3);const r_=()=>lv,N3=e=>{lv=Object.assign(Object.assign({},lv),e)},O3=N3;async function _C(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,bails:r??!0,formData:(n==null?void 0:n.values)||{}},a=(await D3(o,e)).errors;return{errors:a,valid:!a.length}}async function D3(e,t){if(Ua(e.rules))return P3(t,e.rules,{bails:e.bails});if(Zo(e.rules)||Array.isArray(e.rules)){const a={field:e.name,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,p=[];for(let g=0;g<f;g++){const h=l[g],m=await h(t,a);if(typeof m!="string"&&m)continue;const _=typeof m=="string"?m:wC(a);if(p.push(_),e.bails)return{errors:p}}return{errors:p}}const n=Object.assign(Object.assign({},e),{rules:yC(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let a=0;a<s;a++){const l=o[a],f=await L3(n,t,{name:l,params:n.rules[l]});if(f.error&&(r.push(f.error),e.bails))return{errors:r}}return{errors:r}}async function P3(e,t,n){var r;return{errors:await t.validate(e,{abortEarly:(r=n.bails)!==null&&r!==void 0?r:!0}).then(()=>[]).catch(s=>{if(s.name==="ValidationError")return s.errors;throw s})}}async function L3(e,t,n){const r=g3(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=M3(n.params,e.formData),s={field:e.name,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await r(t,o,s);return typeof a=="string"?{error:a}:{error:a?void 0:wC(s)}}function wC(e){const t=r_().generateMessage;return t?t(e):"Field is invalid"}function M3(e,t){const n=r=>uv(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function F3(e,t){const n=await e.validate(t,{abortEarly:!1}).then(()=>[]).catch(s=>{if(s.name!=="ValidationError")throw s;return s.inner||[]}),r={},o={};for(const s of n){const a=s.errors;r[s.path]={valid:!a.length,errors:a},a.length&&(o[s.path]=a[0])}return{valid:!n.length,results:r,errors:o}}async function V3(e,t,n){const o=Wt(e).map(async p=>{var g,h,m;const y=await _C(Ct(t,p),e[p],{name:((g=n==null?void 0:n.names)===null||g===void 0?void 0:g[p])||p,values:t,bails:(m=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[p])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},y),{path:p})});let s=!0;const a=await Promise.all(o),l={},f={};for(const p of a)l[p.path]={valid:p.valid,errors:p.errors},p.valid||(s=!1,f[p.path]=p.errors[0]);return{valid:s,results:l,errors:f}}let AT=0;function U3(e,t){const{value:n,initialValue:r,setInitialValue:o}=bC(e,t.modelValue,t.form),{errorMessage:s,errors:a,setErrors:l}=B3(e,t.form),f=j3(n,r,a),p=AT>=Number.MAX_SAFE_INTEGER?0:++AT;function g(h){var m;"value"in h&&(n.value=h.value),"errors"in h&&l(h.errors),"touched"in h&&(f.touched=(m=h.touched)!==null&&m!==void 0?m:f.touched),"initialValue"in h&&o(h.initialValue)}return{id:p,path:e,value:n,initialValue:r,meta:f,errors:a,errorMessage:s,setState:g}}function bC(e,t,n){const r=Pn(he(t));function o(){return n?Ct(n.meta.value.initialValues,he(e),he(r)):he(r)}function s(p){if(!n){r.value=p;return}n.stageInitialValue(he(e),p,!0)}const a=Ye(o);if(!n)return{value:Pn(o()),initialValue:a,setInitialValue:s};const l=t?he(t):Ct(n.values,he(e),he(a));return n.stageInitialValue(he(e),l,!0),{value:Ye({get(){return Ct(n.values,he(e))},set(p){n.setFieldValue(he(e),p)}}),initialValue:a,setInitialValue:s}}function j3(e,t,n){const r=ai({touched:!1,pending:!1,valid:!0,validated:!!he(n).length,initialValue:Ye(()=>he(t)),dirty:Ye(()=>!$t(he(e),he(t)))});return Jt(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function B3(e,t){function n(o){return o?Array.isArray(o)?o:[o]:[]}if(!t){const o=Pn([]);return{errors:o,errorMessage:Ye(()=>o.value[0]),setErrors:s=>{o.value=n(s)}}}const r=Ye(()=>t.errorBag.value[he(e)]||[]);return{errors:r,errorMessage:Ye(()=>r.value[0]),setErrors:o=>{t.setFieldErrorBag(he(e),n(o))}}}function q3(e,t,n){return bu(n==null?void 0:n.type)?K3(e,t,n):IC(e,t,n)}function IC(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:a,checkedValue:l,label:f,validateOnValueUpdate:p,uncheckedValue:g,controlled:h,keepValueOnUnmount:m,modelPropName:y,syncVModel:_,form:I}=H3(he(e),n),T=h?t_(Pc):void 0,E=I||T;let R=!1;const{id:k,value:D,initialValue:B,meta:P,setState:z,errors:L,errorMessage:X}=U3(e,{modelValue:r,form:E});_&&G3({value:D,prop:y,handleChange:xe});const C=()=>{P.touched=!0},Ee=Ye(()=>{let V=he(t);const Y=he(E==null?void 0:E.schema);return Y&&!Ua(Y)&&(V=$3(Y,he(e))||V),Ua(V)||Zo(V)||Array.isArray(V)?V:yC(V)});async function ie(V){var Y,ee;return E!=null&&E.validateSchema?(Y=(await E.validateSchema(V)).results[he(e)])!==null&&Y!==void 0?Y:{valid:!0,errors:[]}:_C(D.value,Ee.value,{name:he(f)||he(e),values:(ee=E==null?void 0:E.values)!==null&&ee!==void 0?ee:{},bails:s})}const Se=cv(async()=>(P.pending=!0,P.validated=!0,ie("validated-only")),V=>(R&&(V.valid=!0,V.errors=[]),z({errors:V.errors}),P.pending=!1,V)),Ce=cv(async()=>ie("silent"),V=>(R&&(V.valid=!0),P.valid=V.valid,V));function Me(V){return(V==null?void 0:V.mode)==="silent"?Ce():Se()}function xe(V,Y=!0){const ee=n_(V);D.value=ee,!p&&Y&&Se()}fh(()=>{if(o)return Se();(!E||!E.validateSchema)&&Ce()});function Oe(V){P.touched=V}let we,Tt=at(D.value);function mt(){we=Jt(D,(V,Y)=>{if($t(V,Y)&&$t(V,Tt))return;(p?Se:Ce)(),Tt=at(V)},{deep:!0})}mt();function gt(V){var Y;we==null||we();const ee=V&&"value"in V?V.value:B.value;z({value:at(ee),initialValue:at(ee),touched:(Y=V==null?void 0:V.touched)!==null&&Y!==void 0?Y:!1,errors:(V==null?void 0:V.errors)||[]}),P.pending=!1,P.validated=!1,Ce(),Fi(()=>{mt()})}function lt(V){D.value=V}function mn(V){z({errors:Array.isArray(V)?V:[V]})}const rn={id:k,name:e,label:f,value:D,meta:P,errors:L,errorMessage:X,type:a,checkedValue:l,uncheckedValue:g,bails:s,keepValueOnUnmount:m,resetField:gt,handleReset:()=>gt(),validate:Me,handleChange:xe,handleBlur:C,setState:z,setTouched:Oe,setErrors:mn,setValue:lt};if(zs(y3,rn),ct(t)&&typeof he(t)!="function"&&Jt(t,(V,Y)=>{$t(V,Y)||(P.validated?Se():Ce())},{deep:!0}),!E)return rn;E.register(rn),hh(()=>{R=!0,E.unregister(rn)});const G=Ye(()=>{const V=Ee.value;return!V||Zo(V)||Ua(V)||Array.isArray(V)?{}:Object.keys(V).reduce((Y,ee)=>{const Fe=x3(V[ee]).map(Ke=>Ke.__locatorRef).reduce((Ke,Ae)=>{const A=Ct(E.values,Ae)||E.values[Ae];return A!==void 0&&(Ke[Ae]=A),Ke},{});return Object.assign(Y,Fe),Y},{})});return Jt(G,(V,Y)=>{if(!Object.keys(V).length)return;!$t(V,Y)&&(P.validated?Se():Ce())}),rn}function H3(e,t){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:e,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0});if(!t)return n();const r="valueProp"in t?t.valueProp:t.checkedValue,o="standalone"in t?!t.standalone:t.controlled;return Object.assign(Object.assign(Object.assign({},n()),t||{}),{controlled:o??!0,checkedValue:r})}function $3(e,t){if(e)return e[t]}function K3(e,t,n){const r=n!=null&&n.standalone?void 0:t_(Pc),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,p=Ye(()=>{const h=he(l.value),m=he(o);return Array.isArray(h)?h.findIndex(y=>$t(y,m))>=0:$t(m,h)});function g(h,m=!0){var y;if(p.value===((y=h==null?void 0:h.target)===null||y===void 0?void 0:y.checked)){m&&l.validate();return}let _=n_(h);r||(_=av(he(l.value),he(o),he(s))),f(_,m)}return Object.assign(Object.assign({},l),{checked:p,checkedValue:o,uncheckedValue:s,handleChange:g})}return a(IC(e,t,n))}function G3({prop:e,value:t,handleChange:n}){const r=gh();if(!r)return;const o=e||"modelValue",s=`update:${o}`;o in r.props&&(Jt(t,a=>{$t(a,ST(r,o))||r.emit(s,a)}),Jt(()=>ST(r,o),a=>{if(a===Zf&&t.value===void 0)return;const l=a===Zf?void 0:a;$t(l,T3(t.value,r.props.modelModifiers))||n(l)}))}function ST(e,t){return e.props[t]}const z3=Au({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>r_().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Zf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Vr(e,"rules"),r=Vr(e,"name"),o=Vr(e,"label"),s=Vr(e,"uncheckedValue"),a=Vr(e,"keepValue"),{errors:l,value:f,errorMessage:p,validate:g,handleChange:h,handleBlur:m,setTouched:y,resetField:_,handleReset:I,meta:T,checked:E,setErrors:R}=q3(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:X3(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a}),k=function(X,C=!0){h(X,C),t.emit("update:modelValue",f.value)},D=L=>{bu(t.attrs.type)||(f.value=n_(L))},B=function(X){D(X),t.emit("update:modelValue",f.value)},P=Ye(()=>{const{validateOnInput:L,validateOnChange:X,validateOnBlur:C,validateOnModelUpdate:Ee}=W3(e),ie=[m,t.attrs.onBlur,C?g:void 0].filter(Boolean),Se=[Oe=>k(Oe,L),t.attrs.onInput].filter(Boolean),Ce=[Oe=>k(Oe,X),t.attrs.onChange].filter(Boolean),Me={name:e.name,onBlur:ie,onInput:Se,onChange:Ce};Me["onUpdate:modelValue"]=Oe=>k(Oe,Ee),bu(t.attrs.type)&&E&&(Me.checked=E.value);const xe=kT(e,t);return E3(xe,t.attrs)&&(Me.value=f.value),Me});function z(){return{field:P.value,value:f.value,meta:T,errors:l.value,errorMessage:p.value,validate:g,resetField:_,handleChange:k,handleInput:B,handleReset:I,handleBlur:m,setTouched:y,setErrors:R}}return t.expose({setErrors:R,setTouched:y,reset:_,validate:g,handleChange:h}),()=>{const L=dh(kT(e,t)),X=rd(L,t,z);return L?Ko(L,Object.assign(Object.assign({},t.attrs),P.value),X):X}}});function kT(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function W3(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=r_();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function X3(e,t){return bu(t.attrs.type)?wT(e,"modelValue")?e.modelValue:void 0:wT(e,"modelValue")?e.modelValue:t.attrs.value}const Y3=z3;let Q3=0;function J3(e){var t;const n=Q3++,r=new Set;let o=!1;const s=Pn({}),a=Pn(!1),l=Pn(0),f=[],p=ai(at(he(e==null?void 0:e.initialValues)||{})),{errorBag:g,setErrorBag:h,setFieldErrorBag:m}=tH(e==null?void 0:e.initialErrors),y=Ye(()=>Wt(g.value).reduce((N,O)=>{const Q=g.value[O];return Q&&Q.length&&(N[O]=Q[0]),N},{}));function _(N){const O=s.value[N];return Array.isArray(O)?O[0]:O}function I(N){return!!s.value[N]}const T=Ye(()=>Wt(s.value).reduce((N,O)=>{const Q=_(O);return Q&&(N[O]=he(Q.label||Q.name)||""),N},{})),E=Ye(()=>Wt(s.value).reduce((N,O)=>{var Q;const J=_(O);return J&&(N[O]=(Q=J.bails)!==null&&Q!==void 0?Q:!0),N},{})),R=Object.assign({},(e==null?void 0:e.initialErrors)||{}),k=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:D,originalInitialValues:B,setInitialValues:P}=eH(s,p,e==null?void 0:e.initialValues),z=Z3(s,p,B,y),L=Ye(()=>[...r,...Wt(s.value)].reduce((N,O)=>{const Q=Ct(p,O);return Ci(N,O,Q),N},{})),X=e==null?void 0:e.validationSchema,C=ET(ae,5),Ee=ET(ae,5),ie=cv(async N=>await N==="silent"?C():Ee(),(N,[O])=>{const Q=xe.fieldsByPath.value||{},J=Wt(xe.errorBag.value);return[...new Set([...Wt(N.results),...Wt(Q),...J])].reduce((ue,fe)=>{const ce=Q[fe],De=(N.results[fe]||{errors:[]}).errors,Ve={errors:De,valid:!De.length};if(ue.results[fe]=Ve,Ve.valid||(ue.errors[fe]=Ve.errors[0]),!ce)return mt(fe,De),ue;if(we(ce,gn=>gn.meta.valid=Ve.valid),O==="silent")return ue;const on=Array.isArray(ce)?ce.some(gn=>gn.meta.validated):ce.meta.validated;return O==="validated-only"&&!on||we(ce,gn=>gn.setState({errors:Ve.errors})),ue},{valid:N.valid,results:{},errors:{}})});function Se(N){return function(Q,J){return function(ue){return ue instanceof Event&&(ue.preventDefault(),ue.stopPropagation()),Y(Wt(s.value).reduce((fe,ce)=>(fe[ce]=!0,fe),{})),a.value=!0,l.value++,x().then(fe=>{const ce=at(p);if(fe.valid&&typeof Q=="function"){const De=at(L.value);return Q(N?De:ce,{evt:ue,controlledValues:De,setErrors:gt,setFieldError:mt,setTouched:Y,setFieldTouched:V,setValues:mn,setFieldValue:lt,resetForm:ee})}!fe.valid&&typeof J=="function"&&J({values:ce,evt:ue,errors:fe.errors,results:fe.results})}).then(fe=>(a.value=!1,fe),fe=>{throw a.value=!1,fe})}}}const Me=Se(!1);Me.withControlled=Se(!0);const xe={formId:n,fieldsByPath:s,values:p,controlledValues:L,errorBag:g,errors:y,schema:X,submitCount:l,meta:z,isSubmitting:a,fieldArrays:f,keepValuesOnUnmount:k,validateSchema:he(X)?ie:void 0,validate:x,register:Ae,unregister:A,setFieldErrorBag:m,validateField:M,setFieldValue:lt,setValues:mn,setErrors:gt,setFieldError:mt,setFieldTouched:V,setTouched:Y,resetForm:ee,handleSubmit:Me,stageInitialValue:$,unsetInitialValue:q,setFieldInitialValue:ne,useFieldModel:G};function Oe(N){return Array.isArray(N)}function we(N,O){return Array.isArray(N)?N.forEach(O):O(N)}function Tt(N){Object.values(s.value).forEach(O=>{O&&we(O,N)})}function mt(N,O){m(N,O)}function gt(N){h(N)}function lt(N,O,{force:Q}={force:!1}){var J;const se=s.value[N],ue=at(O);if(!se){Ci(p,N,ue);return}if(Oe(se)&&((J=se[0])===null||J===void 0?void 0:J.type)==="checkbox"&&!Array.isArray(O)){const ce=at(av(Ct(p,N)||[],O,void 0));Ci(p,N,ce);return}let fe=ue;!Oe(se)&&se.type==="checkbox"&&!Q&&!o&&(fe=at(av(Ct(p,N),O,he(se.uncheckedValue)))),Ci(p,N,fe)}function mn(N){Wt(p).forEach(O=>{delete p[O]}),Wt(N).forEach(O=>{lt(O,N[O])}),f.forEach(O=>O&&O.reset())}function rn(N){const{value:O}=bC(N,void 0,xe);return Jt(O,()=>{I(he(N))||x({mode:"validated-only"})},{deep:!0}),r.add(he(N)),O}function G(N){return Array.isArray(N)?N.map(rn):rn(N)}function V(N,O){const Q=s.value[N];Q&&we(Q,J=>J.setTouched(O))}function Y(N){Wt(N).forEach(O=>{V(O,!!N[O])})}function ee(N){o=!0,Tt(Q=>Q.resetField());const O=N!=null&&N.values?N.values:B.value;P(O),mn(O),N!=null&&N.touched&&Y(N.touched),gt((N==null?void 0:N.errors)||{}),l.value=(N==null?void 0:N.submitCount)||0,Fi(()=>{o=!1})}function Fe(N,O){const Q=$o(N),J=O;if(!s.value[J]){s.value[J]=Q;return}const se=s.value[J];se&&!Array.isArray(se)&&(s.value[J]=[se]),s.value[J]=[...s.value[J],Q]}function Ke(N,O){const Q=O,J=s.value[Q];if(J){if(!Oe(J)&&N.id===J.id){delete s.value[Q];return}if(Oe(J)){const se=J.findIndex(ue=>ue.id===N.id);if(se===-1)return;J.splice(se,1),J.length||delete s.value[Q]}}}function Ae(N){const O=he(N.name);Fe(N,O),ct(N.name)&&Jt(N.name,async(J,se)=>{await Fi(),Ke(N,se),Fe(N,J),(y.value[se]||y.value[J])&&(mt(se,void 0),M(J)),await Fi(),I(se)||nf(p,se)});const Q=he(N.errorMessage);Q&&(R==null?void 0:R[O])!==Q&&M(O),delete R[O]}function A(N){const O=he(N.name),Q=s.value[O],J=!!Q&&Oe(Q);Ke(N,O),Fi(()=>{var se;const ue=(se=he(N.keepValueOnUnmount))!==null&&se!==void 0?se:he(k),fe=Ct(p,O);if(J&&(Q===s.value[O]||!s.value[O])&&!ue)if(Array.isArray(fe)){const De=fe.findIndex(Ve=>$t(Ve,he(N.checkedValue)));if(De>-1){const Ve=[...fe];Ve.splice(De,1),lt(O,Ve,{force:!0})}}else fe===he(N.checkedValue)&&nf(p,O);if(!I(O)){if(mt(O,void 0),ue||J&&Array.isArray(fe)&&!pC(fe))return;nf(p,O)}})}async function x(N){const O=(N==null?void 0:N.mode)||"force";if(O==="force"&&Tt(ue=>ue.meta.validated=!0),xe.validateSchema)return xe.validateSchema(O);const Q=await Promise.all(Object.values(s.value).map(ue=>{const fe=Array.isArray(ue)?ue[0]:ue;return fe?fe.validate(N).then(ce=>({key:he(fe.name),valid:ce.valid,errors:ce.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),J={},se={};for(const ue of Q)J[ue.key]={valid:ue.valid,errors:ue.errors},ue.errors.length&&(se[ue.key]=ue.errors[0]);return{valid:Q.every(ue=>ue.valid),results:J,errors:se}}async function M(N){const O=s.value[N];return O?Array.isArray(O)?O.map(Q=>Q.validate())[0]:O.validate():Promise.resolve({errors:[],valid:!0})}function q(N){nf(D.value,N)}function $(N,O,Q=!1){Ci(p,N,O),ne(N,O),Q&&!(e!=null&&e.initialValues)&&Ci(B.value,N,at(O))}function ne(N,O){Ci(D.value,N,at(O))}async function ae(){const N=he(X);return N?Ua(N)?await F3(N,p):await V3(N,p,{names:T.value,bailsMap:E.value}):{valid:!0,results:{},errors:{}}}const re=Me((N,{evt:O})=>{gC(O)&&O.target.submit()});return fh(()=>{if(e!=null&&e.initialErrors&&gt(e.initialErrors),e!=null&&e.initialTouched&&Y(e.initialTouched),e!=null&&e.validateOnMount){x();return}xe.validateSchema&&xe.validateSchema("silent")}),ct(X)&&Jt(X,()=>{var N;(N=xe.validateSchema)===null||N===void 0||N.call(xe,"validated-only")}),zs(Pc,xe),Object.assign(Object.assign({},xe),{handleReset:()=>ee(),submitForm:re})}function Z3(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=Ye(()=>!$t(t,he(n)));function a(){const f=Object.values(e.value).flat(1).filter(Boolean);return Wt(o).reduce((p,g)=>{const h=o[g];return p[g]=f[h](m=>m.meta[g]),p},{})}const l=ai(a());return RD(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Ye(()=>Object.assign(Object.assign({initialValues:he(n)},l),{valid:l.valid&&!Wt(r.value).length,dirty:s.value}))}function eH(e,t,n){const r=Pn(at(he(n))||{}),o=Pn(at(he(n))||{});function s(a,l=!1){r.value=at(a),o.value=at(a),l&&Wt(e.value).forEach(f=>{const p=e.value[f],g=Array.isArray(p)?p.some(m=>m.meta.touched):p==null?void 0:p.meta.touched;if(!p||g)return;const h=Ct(r.value,f);Ci(t,f,at(h))})}return ct(n)&&Jt(n,a=>{s(a,!0)},{deep:!0}),{initialValues:r,originalInitialValues:o,setInitialValues:s}}function tH(e){const t=Pn({});function n(s){return Array.isArray(s)?s:s?[s]:[]}function r(s,a){if(!a){delete t.value[s];return}t.value[s]=n(a)}function o(s){t.value=Wt(s).reduce((a,l)=>{const f=s[l];return f&&(a[l]=n(f)),a},{})}return e&&o(e),{errorBag:t,setErrorBag:o,setFieldErrorBag:r}}const nH=Au({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Vr(e,"initialValues"),r=Vr(e,"validationSchema"),o=Vr(e,"keepValues"),{errors:s,values:a,meta:l,isSubmitting:f,submitCount:p,controlledValues:g,validate:h,validateField:m,handleReset:y,resetForm:_,handleSubmit:I,setErrors:T,setFieldError:E,setFieldValue:R,setValues:k,setFieldTouched:D,setTouched:B}=J3({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),P=I((Ee,{evt:ie})=>{gC(ie)&&ie.target.submit()},e.onInvalidSubmit),z=e.onSubmit?I(e.onSubmit,e.onInvalidSubmit):P;function L(Ee){Zy(Ee)&&Ee.preventDefault(),y(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function X(Ee,ie){return I(typeof Ee=="function"&&!ie?Ee:ie,e.onInvalidSubmit)(Ee)}function C(){return{meta:l.value,errors:s.value,values:a,isSubmitting:f.value,submitCount:p.value,controlledValues:g.value,validate:h,validateField:m,handleSubmit:X,handleReset:y,submitForm:P,setErrors:T,setFieldError:E,setFieldValue:R,setValues:k,setFieldTouched:D,setTouched:B,resetForm:_}}return t.expose({setFieldError:E,setErrors:T,setFieldValue:R,setValues:k,setFieldTouched:D,setTouched:B,resetForm:_,validate:h,validateField:m}),function(){const ie=e.as==="form"?e.as:dh(e.as),Se=rd(ie,t,C);if(!e.as)return Se;const Ce=e.as==="form"?{novalidate:!0}:{};return Ko(ie,Object.assign(Object.assign(Object.assign({},Ce),t.attrs),{onSubmit:z,onReset:L}),Se)}}}),rH=nH;function iH(e){const t=t_(Pc,void 0),n=Pn([]),r=()=>{},o={fields:n,remove:r,push:r,swap:r,insert:r,update:r,replace:r,prepend:r,move:r};if(!t||!he(e))return o;const s=t.fieldArrays.find(k=>he(k.path)===he(e));if(s)return s;let a=0;function l(){const k=Ct(t==null?void 0:t.values,he(e),[])||[];n.value=k.map(p),f()}l();function f(){const k=n.value.length;for(let D=0;D<k;D++){const B=n.value[D];B.isFirst=D===0,B.isLast=D===k-1}}function p(k){const D=a++;return{key:D,value:A3({get(){const P=Ct(t==null?void 0:t.values,he(e),[])||[],z=n.value.findIndex(L=>L.key===D);return z===-1?k:P[z]},set(P){const z=n.value.findIndex(L=>L.key===D);z!==-1&&I(z,P)}}),isFirst:!1,isLast:!1}}function g(k){const D=he(e),B=Ct(t==null?void 0:t.values,D);if(!B||!Array.isArray(B))return;const P=[...B];P.splice(k,1),t==null||t.unsetInitialValue(D+`[${k}]`),t==null||t.setFieldValue(D,P),n.value.splice(k,1),f()}function h(k){const D=he(e),B=Ct(t==null?void 0:t.values,D),P=Va(B)?[]:B;if(!Array.isArray(P))return;const z=[...P];z.push(k),t==null||t.stageInitialValue(D+`[${z.length-1}]`,k),t==null||t.setFieldValue(D,z),n.value.push(p(k)),f()}function m(k,D){const B=he(e),P=Ct(t==null?void 0:t.values,B);if(!Array.isArray(P)||!(k in P)||!(D in P))return;const z=[...P],L=[...n.value],X=z[k];z[k]=z[D],z[D]=X;const C=L[k];L[k]=L[D],L[D]=C,t==null||t.setFieldValue(B,z),n.value=L,f()}function y(k,D){const B=he(e),P=Ct(t==null?void 0:t.values,B);if(!Array.isArray(P)||P.length<k)return;const z=[...P],L=[...n.value];z.splice(k,0,D),L.splice(k,0,p(D)),t==null||t.setFieldValue(B,z),n.value=L,f()}function _(k){const D=he(e);t==null||t.setFieldValue(D,k),l()}function I(k,D){const B=he(e),P=Ct(t==null?void 0:t.values,B);!Array.isArray(P)||P.length-1<k||(t==null||t.setFieldValue(`${B}[${k}]`,D),t==null||t.validate({mode:"validated-only"}))}function T(k){const D=he(e),B=Ct(t==null?void 0:t.values,D),P=Va(B)?[]:B;if(!Array.isArray(P))return;const z=[k,...P];t==null||t.stageInitialValue(D+`[${z.length-1}]`,k),t==null||t.setFieldValue(D,z),n.value.unshift(p(k)),f()}function E(k,D){const B=he(e),P=Ct(t==null?void 0:t.values,B),z=Va(P)?[]:[...P];if(!Array.isArray(P)||!(k in P)||!(D in P))return;const L=[...n.value],X=L[k];L.splice(k,1),L.splice(D,0,X);const C=z[k];z.splice(k,1),z.splice(D,0,C),t==null||t.setFieldValue(B,z),n.value=L,f()}const R={fields:n,remove:g,push:h,swap:m,insert:y,update:I,replace:_,prepend:T,move:E};return t.fieldArrays.push(Object.assign({path:e,reset:l},R)),hh(()=>{const k=t.fieldArrays.findIndex(D=>he(D.path)===he(e));k>=0&&t.fieldArrays.splice(k,1)}),R}Au({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:r,swap:o,insert:s,replace:a,update:l,prepend:f,move:p,fields:g}=iH(Vr(e,"name"));function h(){return{fields:g.value,push:n,remove:r,swap:o,insert:s,update:l,replace:a,prepend:f,move:p}}return t.expose({push:n,remove:r,swap:o,insert:s,update:l,replace:a,prepend:f,move:p}),()=>rd(void 0,t,h)}});const oH=Au({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=ar(Pc,void 0),r=Ye(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?dh(e.as):e.as,a=rd(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Ko(s||"span",l,r.value):Ko(s,l,a)}}}),sH=oH;/**
  * vee-validate v4.7.3
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */const rf={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},uH=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Lc(e,t){return Array.isArray(e)?e[0]:e[t]}function to(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const EC=(e,t)=>{if(to(e))return!0;const n=uH(t);if(Array.isArray(e))return e.every(o=>EC(o,{locale:n}));const r=String(e);return n?(rf[n]||rf.en).test(r):Object.keys(rf).some(o=>rf[o].test(r))},aH=(e,t)=>{const n=Lc(t,"target");return String(e)===String(n)},cH=e=>{if(to(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function lH(e){return e==null}function fH(e){return Array.isArray(e)&&e.length===0}const TC=(e,t)=>{if(to(e))return!0;const n=Lc(t,"length");return Array.isArray(e)?e.every(r=>TC(r,{length:n})):String(e).length<=Number(n)},AC=(e,t)=>{if(to(e))return!0;const n=Lc(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>AC(r,{max:n})):Number(e)<=Number(n)},SC=(e,t)=>{if(to(e))return!0;const n=Lc(t,"length");return Array.isArray(e)?e.every(r=>SC(r,{length:n})):String(e).length>=Number(n)},kC=(e,t)=>{if(to(e))return!0;const n=Lc(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>kC(r,{min:n})):Number(e)>=Number(n)},CC=(e,t)=>to(e)?!0:Array.isArray(e)?e.every(n=>CC(n,t)):Array.from(t).some(n=>n==e),CT=(e,t)=>to(e)?!0:!CC(e,t),xT=e=>lH(e)||fH(e)||e===!1?!1:!!String(e).trim().length,hH={install(e){e.component("VeeForm",rH),e.component("VeeField",Y3),e.component("ErrorMessage",sH),mr("required",xT),mr("tos",xT),mr("min",SC),mr("max",TC),mr("alpha_spaces",EC),mr("email",cH),mr("min_value",kC),mr("max_value",AC),mr("passwords_mismatch",aH),mr("excluded",CT),mr("country_excluded",CT),O3({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too long.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces.`,email:` The field ${t.field} must be a valid email.`,min_val:`The field ${t.field} is too low.`,max_val:`The field ${t.field} is too high.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",passwords_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service"};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let Fs;Hr.onAuthStateChanged(()=>{Fs||(Fs=XP(MB),Fs.use(JP()),Fs.use(fC),Fs.use(hH),Fs.mount("#app"))});
