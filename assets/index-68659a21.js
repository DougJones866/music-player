(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Km(e,t){const n=Object.create(null),i=e.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function jf(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=Rt(i)?ZR(i):jf(i);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Rt(e))return e;if(ht(e))return e}}const QR=/;(?![^(]*\))/g,YR=/:([^]+)/,JR=/\/\*.*?\*\//gs;function ZR(e){const t={};return e.replace(JR,"").split(QR).forEach(n=>{if(n){const i=n.split(YR);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Hn(e){let t="";if(Rt(e))t=e;else if(ke(e))for(let n=0;n<e.length;n++){const i=Hn(e[n]);i&&(t+=i+" ")}else if(ht(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const eO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tO=Km(eO);function nT(e){return!!e||e===""}const Bs=e=>Rt(e)?e:e==null?"":ke(e)||ht(e)&&(e.toString===sT||!Oe(e.toString))?JSON.stringify(e,rT,2):String(e),rT=(e,t)=>t&&t.__v_isRef?rT(e,t.value):Ms(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:iT(t)?{[`Set(${t.size})`]:[...t.values()]}:ht(t)&&!ke(t)&&!uT(t)?String(t):t,it={},Ls=[],mr=()=>{},nO=()=>!1,rO=/^on[^a-z]/,Vf=e=>rO.test(e),zm=e=>e.startsWith("onUpdate:"),cn=Object.assign,Gm=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},iO=Object.prototype.hasOwnProperty,$e=(e,t)=>iO.call(e,t),ke=Array.isArray,Ms=e=>Bf(e)==="[object Map]",iT=e=>Bf(e)==="[object Set]",Oe=e=>typeof e=="function",Rt=e=>typeof e=="string",Wm=e=>typeof e=="symbol",ht=e=>e!==null&&typeof e=="object",oT=e=>ht(e)&&Oe(e.then)&&Oe(e.catch),sT=Object.prototype.toString,Bf=e=>sT.call(e),oO=e=>Bf(e).slice(8,-1),uT=e=>Bf(e)==="[object Object]",Xm=e=>Rt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Kl=Km(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},sO=/-(\w)/g,Vr=qf(e=>e.replace(sO,(t,n)=>n?n.toUpperCase():"")),uO=/\B([A-Z])/g,du=qf(e=>e.replace(uO,"-$1").toLowerCase()),$f=qf(e=>e.charAt(0).toUpperCase()+e.slice(1)),pg=qf(e=>e?`on${$f(e)}`:""),Ca=(e,t)=>!Object.is(e,t),gg=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},nf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},aT=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let b_;const aO=()=>b_||(b_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Vn;class cT{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Vn,!t&&Vn&&(this.index=(Vn.scopes||(Vn.scopes=[])).push(this)-1)}run(t){if(this.active){const n=Vn;try{return Vn=this,t()}finally{Vn=n}}}on(){Vn=this}off(){Vn=this.parent}stop(t){if(this.active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function lT(e){return new cT(e)}function cO(e,t=Vn){t&&t.active&&t.effects.push(e)}function lO(){return Vn}function fO(e){Vn&&Vn.cleanups.push(e)}const Qm=e=>{const t=new Set(e);return t.w=0,t.n=0,t},fT=e=>(e.w&ji)>0,hT=e=>(e.n&ji)>0,hO=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ji},dO=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const o=t[i];fT(o)&&!hT(o)?o.delete(e):t[n++]=o,o.w&=~ji,o.n&=~ji}t.length=n}},Hg=new WeakMap;let ha=0,ji=1;const Kg=30;let pr;const xo=Symbol(""),zg=Symbol("");class Ym{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,cO(this,i)}run(){if(!this.active)return this.fn();let t=pr,n=Di;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=pr,pr=this,Di=!0,ji=1<<++ha,ha<=Kg?hO(this):__(this),this.fn()}finally{ha<=Kg&&dO(this),ji=1<<--ha,pr=this.parent,Di=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){pr===this?this.deferStop=!0:this.active&&(__(this),this.onStop&&this.onStop(),this.active=!1)}}function __(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Di=!0;const dT=[];function pu(){dT.push(Di),Di=!1}function gu(){const e=dT.pop();Di=e===void 0?!0:e}function Xn(e,t,n){if(Di&&pr){let i=Hg.get(e);i||Hg.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=Qm()),pT(o)}}function pT(e,t){let n=!1;ha<=Kg?hT(e)||(e.n|=ji,n=!fT(e)):n=!e.has(pr),n&&(e.add(pr),pr.deps.push(e))}function ri(e,t,n,i,o,s){const a=Hg.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&ke(e)){const f=aT(i);a.forEach((d,p)=>{(p==="length"||p>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":ke(e)?Xm(n)&&l.push(a.get("length")):(l.push(a.get(xo)),Ms(e)&&l.push(a.get(zg)));break;case"delete":ke(e)||(l.push(a.get(xo)),Ms(e)&&l.push(a.get(zg)));break;case"set":Ms(e)&&l.push(a.get(xo));break}if(l.length===1)l[0]&&Gg(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);Gg(Qm(f))}}function Gg(e,t){const n=ke(e)?e:[...e];for(const i of n)i.computed&&E_(i);for(const i of n)i.computed||E_(i)}function E_(e,t){(e!==pr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const pO=Km("__proto__,__v_isRef,__isVue"),gT=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Wm)),gO=Jm(),mO=Jm(!1,!0),vO=Jm(!0),I_=yO();function yO(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=ze(this);for(let s=0,a=this.length;s<a;s++)Xn(i,"get",s+"");const o=i[t](...n);return o===-1||o===!1?i[t](...n.map(ze)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){pu();const i=ze(this)[t].apply(this,n);return gu(),i}}),e}function Jm(e=!1,t=!1){return function(i,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?PO:bT:t?wT:yT).get(i))return i;const a=ke(i);if(!e&&a&&$e(I_,o))return Reflect.get(I_,o,s);const l=Reflect.get(i,o,s);return(Wm(o)?gT.has(o):pO(o))||(e||Xn(i,"get",o),t)?l:st(l)?a&&Xm(o)?l:l.value:ht(l)?e?_T(l):oi(l):l}}const wO=mT(),bO=mT(!0);function mT(e=!1){return function(n,i,o,s){let a=n[i];if(qs(a)&&st(a)&&!st(o))return!1;if(!e&&(!rf(o)&&!qs(o)&&(a=ze(a),o=ze(o)),!ke(n)&&st(a)&&!st(o)))return a.value=o,!0;const l=ke(n)&&Xm(i)?Number(i)<n.length:$e(n,i),f=Reflect.set(n,i,o,s);return n===ze(s)&&(l?Ca(o,a)&&ri(n,"set",i,o):ri(n,"add",i,o)),f}}function _O(e,t){const n=$e(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&ri(e,"delete",t,void 0),i}function EO(e,t){const n=Reflect.has(e,t);return(!Wm(t)||!gT.has(t))&&Xn(e,"has",t),n}function IO(e){return Xn(e,"iterate",ke(e)?"length":xo),Reflect.ownKeys(e)}const vT={get:gO,set:wO,deleteProperty:_O,has:EO,ownKeys:IO},TO={get:vO,set(e,t){return!0},deleteProperty(e,t){return!0}},SO=cn({},vT,{get:mO,set:bO}),Zm=e=>e,Hf=e=>Reflect.getPrototypeOf(e);function Tl(e,t,n=!1,i=!1){e=e.__v_raw;const o=ze(e),s=ze(t);n||(t!==s&&Xn(o,"get",t),Xn(o,"get",s));const{has:a}=Hf(o),l=i?Zm:n?nv:xa;if(a.call(o,t))return l(e.get(t));if(a.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function Sl(e,t=!1){const n=this.__v_raw,i=ze(n),o=ze(e);return t||(e!==o&&Xn(i,"has",e),Xn(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Al(e,t=!1){return e=e.__v_raw,!t&&Xn(ze(e),"iterate",xo),Reflect.get(e,"size",e)}function T_(e){e=ze(e);const t=ze(this);return Hf(t).has.call(t,e)||(t.add(e),ri(t,"add",e,e)),this}function S_(e,t){t=ze(t);const n=ze(this),{has:i,get:o}=Hf(n);let s=i.call(n,e);s||(e=ze(e),s=i.call(n,e));const a=o.call(n,e);return n.set(e,t),s?Ca(t,a)&&ri(n,"set",e,t):ri(n,"add",e,t),this}function A_(e){const t=ze(this),{has:n,get:i}=Hf(t);let o=n.call(t,e);o||(e=ze(e),o=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return o&&ri(t,"delete",e,void 0),s}function k_(){const e=ze(this),t=e.size!==0,n=e.clear();return t&&ri(e,"clear",void 0,void 0),n}function kl(e,t){return function(i,o){const s=this,a=s.__v_raw,l=ze(a),f=t?Zm:e?nv:xa;return!e&&Xn(l,"iterate",xo),a.forEach((d,p)=>i.call(o,f(d),f(p),s))}}function Nl(e,t,n){return function(...i){const o=this.__v_raw,s=ze(o),a=Ms(s),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,d=o[e](...i),p=n?Zm:t?nv:xa;return!t&&Xn(s,"iterate",f?zg:xo),{next(){const{value:m,done:v}=d.next();return v?{value:m,done:v}:{value:l?[p(m[0]),p(m[1])]:p(m),done:v}},[Symbol.iterator](){return this}}}}function yi(e){return function(...t){return e==="delete"?!1:this}}function AO(){const e={get(s){return Tl(this,s)},get size(){return Al(this)},has:Sl,add:T_,set:S_,delete:A_,clear:k_,forEach:kl(!1,!1)},t={get(s){return Tl(this,s,!1,!0)},get size(){return Al(this)},has:Sl,add:T_,set:S_,delete:A_,clear:k_,forEach:kl(!1,!0)},n={get(s){return Tl(this,s,!0)},get size(){return Al(this,!0)},has(s){return Sl.call(this,s,!0)},add:yi("add"),set:yi("set"),delete:yi("delete"),clear:yi("clear"),forEach:kl(!0,!1)},i={get(s){return Tl(this,s,!0,!0)},get size(){return Al(this,!0)},has(s){return Sl.call(this,s,!0)},add:yi("add"),set:yi("set"),delete:yi("delete"),clear:yi("clear"),forEach:kl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Nl(s,!1,!1),n[s]=Nl(s,!0,!1),t[s]=Nl(s,!1,!0),i[s]=Nl(s,!0,!0)}),[e,n,t,i]}const[kO,NO,CO,xO]=AO();function ev(e,t){const n=t?e?xO:CO:e?NO:kO;return(i,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get($e(n,o)&&o in i?n:i,o,s)}const RO={get:ev(!1,!1)},OO={get:ev(!1,!0)},DO={get:ev(!0,!1)},yT=new WeakMap,wT=new WeakMap,bT=new WeakMap,PO=new WeakMap;function LO(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function MO(e){return e.__v_skip||!Object.isExtensible(e)?0:LO(oO(e))}function oi(e){return qs(e)?e:tv(e,!1,vT,RO,yT)}function FO(e){return tv(e,!1,SO,OO,wT)}function _T(e){return tv(e,!0,TO,DO,bT)}function tv(e,t,n,i,o){if(!ht(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=MO(e);if(a===0)return e;const l=new Proxy(e,a===2?i:n);return o.set(e,l),l}function Pi(e){return qs(e)?Pi(e.__v_raw):!!(e&&e.__v_isReactive)}function qs(e){return!!(e&&e.__v_isReadonly)}function rf(e){return!!(e&&e.__v_isShallow)}function ET(e){return Pi(e)||qs(e)}function ze(e){const t=e&&e.__v_raw;return t?ze(t):e}function Mo(e){return nf(e,"__v_skip",!0),e}const xa=e=>ht(e)?oi(e):e,nv=e=>ht(e)?_T(e):e;function IT(e){Di&&pr&&(e=ze(e),pT(e.dep||(e.dep=Qm())))}function TT(e,t){e=ze(e),e.dep&&Gg(e.dep)}function st(e){return!!(e&&e.__v_isRef===!0)}function Rn(e){return ST(e,!1)}function UO(e){return ST(e,!0)}function ST(e,t){return st(e)?e:new jO(e,t)}class jO{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ze(t),this._value=n?t:xa(t)}get value(){return IT(this),this._value}set value(t){const n=this.__v_isShallow||rf(t)||qs(t);t=n?t:ze(t),Ca(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:xa(t),TT(this))}}function fe(e){return st(e)?e.value:e}const VO={get:(e,t,n)=>fe(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return st(o)&&!st(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function AT(e){return Pi(e)?e:new Proxy(e,VO)}function BO(e){const t=ke(e)?new Array(e.length):{};for(const n in e)t[n]=Lr(e,n);return t}class qO{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Lr(e,t,n){const i=e[t];return st(i)?i:new qO(e,t,n)}var kT;class $O{constructor(t,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[kT]=!1,this._dirty=!0,this.effect=new Ym(t,()=>{this._dirty||(this._dirty=!0,TT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=ze(this);return IT(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}kT="__v_isReadonly";function HO(e,t,n=!1){let i,o;const s=Oe(e);return s?(i=e,o=mr):(i=e.get,o=e.set),new $O(i,o,s||!o,n)}function Li(e,t,n,i){let o;try{o=i?e(...i):e()}catch(s){Kf(s,t,n)}return o}function ir(e,t,n,i){if(Oe(e)){const s=Li(e,t,n,i);return s&&oT(s)&&s.catch(a=>{Kf(a,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(ir(e[s],t,n,i));return o}function Kf(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,l=n;for(;s;){const d=s.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,a,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){Li(f,null,10,[e,a,l]);return}}KO(e,n,o,i)}function KO(e,t,n,i=!0){console.error(e)}let Ra=!1,Wg=!1;const sn=[];let Mr=0;const Fs=[];let Qr=null,_o=0;const NT=Promise.resolve();let rv=null;function Oi(e){const t=rv||NT;return e?t.then(this?e.bind(this):e):t}function zO(e){let t=Mr+1,n=sn.length;for(;t<n;){const i=t+n>>>1;Oa(sn[i])<e?t=i+1:n=i}return t}function iv(e){(!sn.length||!sn.includes(e,Ra&&e.allowRecurse?Mr+1:Mr))&&(e.id==null?sn.push(e):sn.splice(zO(e.id),0,e),CT())}function CT(){!Ra&&!Wg&&(Wg=!0,rv=NT.then(RT))}function GO(e){const t=sn.indexOf(e);t>Mr&&sn.splice(t,1)}function WO(e){ke(e)?Fs.push(...e):(!Qr||!Qr.includes(e,e.allowRecurse?_o+1:_o))&&Fs.push(e),CT()}function N_(e,t=Ra?Mr+1:0){for(;t<sn.length;t++){const n=sn[t];n&&n.pre&&(sn.splice(t,1),t--,n())}}function xT(e){if(Fs.length){const t=[...new Set(Fs)];if(Fs.length=0,Qr){Qr.push(...t);return}for(Qr=t,Qr.sort((n,i)=>Oa(n)-Oa(i)),_o=0;_o<Qr.length;_o++)Qr[_o]();Qr=null,_o=0}}const Oa=e=>e.id==null?1/0:e.id,XO=(e,t)=>{const n=Oa(e)-Oa(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function RT(e){Wg=!1,Ra=!0,sn.sort(XO);const t=mr;try{for(Mr=0;Mr<sn.length;Mr++){const n=sn[Mr];n&&n.active!==!1&&Li(n,null,14)}}finally{Mr=0,sn.length=0,xT(),Ra=!1,rv=null,(sn.length||Fs.length)&&RT()}}function QO(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||it;let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in i){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:m,trim:v}=i[p]||it;v&&(o=n.map(b=>Rt(b)?b.trim():b)),m&&(o=n.map(aT))}let l,f=i[l=pg(t)]||i[l=pg(Vr(t))];!f&&s&&(f=i[l=pg(du(t))]),f&&ir(f,e,6,o);const d=i[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,ir(d,e,6,o)}}function OT(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const s=e.emits;let a={},l=!1;if(!Oe(e)){const f=d=>{const p=OT(d,t,!0);p&&(l=!0,cn(a,p))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(ht(e)&&i.set(e,null),null):(ke(s)?s.forEach(f=>a[f]=null):cn(a,s),ht(e)&&i.set(e,a),a)}function zf(e,t){return!e||!Vf(t)?!1:(t=t.slice(2).replace(/Once$/,""),$e(e,t[0].toLowerCase()+t.slice(1))||$e(e,du(t))||$e(e,t))}let Kn=null,DT=null;function of(e){const t=Kn;return Kn=e,DT=e&&e.type.__scopeId||null,t}function Zr(e,t=Kn,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&j_(-1);const s=of(t);let a;try{a=e(...o)}finally{of(s),i._d&&j_(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function mg(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[a],slots:l,attrs:f,emit:d,render:p,renderCache:m,data:v,setupState:b,ctx:_,inheritAttrs:I}=e;let C,x;const P=of(e);try{if(n.shapeFlag&4){const L=o||i;C=Pr(p.call(L,L,m,s,b,v,_)),x=f}else{const L=t;C=Pr(L.length>1?L(s,{attrs:f,slots:l,emit:d}):L(s,null)),x=t.props?f:YO(f)}}catch(L){ma.length=0,Kf(L,e,1),C=Te(vr)}let N=C;if(x&&I!==!1){const L=Object.keys(x),{shapeFlag:B}=N;L.length&&B&7&&(a&&L.some(zm)&&(x=JO(x,a)),N=Vi(N,x))}return n.dirs&&(N=Vi(N),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&(N.transition=n.transition),C=N,of(P),C}const YO=e=>{let t;for(const n in e)(n==="class"||n==="style"||Vf(n))&&((t||(t={}))[n]=e[n]);return t},JO=(e,t)=>{const n={};for(const i in e)(!zm(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function ZO(e,t,n){const{props:i,children:o,component:s}=e,{props:a,children:l,patchFlag:f}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?C_(i,a,d):!!a;if(f&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const v=p[m];if(a[v]!==i[v]&&!zf(d,v))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?C_(i,a,d):!0:!!a;return!1}function C_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const s=i[o];if(t[s]!==e[s]&&!zf(n,s))return!0}return!1}function eD({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const tD=e=>e.__isSuspense;function nD(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):WO(e)}function Us(e,t){if(Vt){let n=Vt.provides;const i=Vt.parent&&Vt.parent.provides;i===n&&(n=Vt.provides=Object.create(i)),n[e]=t}}function or(e,t,n=!1){const i=Vt||Kn;if(i){const o=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Oe(t)?t.call(i.proxy):t}}function rD(e,t){return ov(e,null,t)}const Cl={};function Xt(e,t,n){return ov(e,t,n)}function ov(e,t,{immediate:n,deep:i,flush:o,onTrack:s,onTrigger:a}=it){const l=Vt;let f,d=!1,p=!1;if(st(e)?(f=()=>e.value,d=rf(e)):Pi(e)?(f=()=>e,i=!0):ke(e)?(p=!0,d=e.some(N=>Pi(N)||rf(N)),f=()=>e.map(N=>{if(st(N))return N.value;if(Pi(N))return So(N);if(Oe(N))return Li(N,l,2)})):Oe(e)?t?f=()=>Li(e,l,2):f=()=>{if(!(l&&l.isUnmounted))return m&&m(),ir(e,l,3,[v])}:f=mr,t&&i){const N=f;f=()=>So(N())}let m,v=N=>{m=x.onStop=()=>{Li(N,l,4)}},b;if(Pa)if(v=mr,t?n&&ir(t,l,3,[f(),p?[]:void 0,v]):f(),o==="sync"){const N=WD();b=N.__watcherHandles||(N.__watcherHandles=[])}else return mr;let _=p?new Array(e.length).fill(Cl):Cl;const I=()=>{if(x.active)if(t){const N=x.run();(i||d||(p?N.some((L,B)=>Ca(L,_[B])):Ca(N,_)))&&(m&&m(),ir(t,l,3,[N,_===Cl?void 0:p&&_[0]===Cl?[]:_,v]),_=N)}else x.run()};I.allowRecurse=!!t;let C;o==="sync"?C=I:o==="post"?C=()=>Nn(I,l&&l.suspense):(I.pre=!0,l&&(I.id=l.uid),C=()=>iv(I));const x=new Ym(f,C);t?n?I():_=x.run():o==="post"?Nn(x.run.bind(x),l&&l.suspense):x.run();const P=()=>{x.stop(),l&&l.scope&&Gm(l.scope.effects,x)};return b&&b.push(P),P}function iD(e,t,n){const i=this.proxy,o=Rt(e)?e.includes(".")?PT(i,e):()=>i[e]:e.bind(i,i);let s;Oe(t)?s=t:(s=t.handler,n=t);const a=Vt;$s(this);const l=ov(o,s.bind(i),n);return a?$s(a):Ro(),l}function PT(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function So(e,t){if(!ht(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),st(e))So(e.value,t);else if(ke(e))for(let n=0;n<e.length;n++)So(e[n],t);else if(iT(e)||Ms(e))e.forEach(n=>{So(n,t)});else if(uT(e))for(const n in e)So(e[n],t);return e}function oD(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xf(()=>{e.isMounted=!0}),Qf(()=>{e.isUnmounting=!0}),e}const tr=[Function,Array],sD={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:tr,onEnter:tr,onAfterEnter:tr,onEnterCancelled:tr,onBeforeLeave:tr,onLeave:tr,onAfterLeave:tr,onLeaveCancelled:tr,onBeforeAppear:tr,onAppear:tr,onAfterAppear:tr,onAppearCancelled:tr},setup(e,{slots:t}){const n=Zf(),i=oD();let o;return()=>{const s=t.default&&MT(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const I of s)if(I.type!==vr){a=I;break}}const l=ze(e),{mode:f}=l;if(i.isLeaving)return vg(a);const d=x_(a);if(!d)return vg(a);const p=Xg(d,l,i,n);Qg(d,p);const m=n.subTree,v=m&&x_(m);let b=!1;const{getTransitionKey:_}=d.type;if(_){const I=_();o===void 0?o=I:I!==o&&(o=I,b=!0)}if(v&&v.type!==vr&&(!Eo(d,v)||b)){const I=Xg(v,l,i,n);if(Qg(v,I),f==="out-in")return i.isLeaving=!0,I.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},vg(a);f==="in-out"&&d.type!==vr&&(I.delayLeave=(C,x,P)=>{const N=LT(i,v);N[String(v.key)]=v,C._leaveCb=()=>{x(),C._leaveCb=void 0,delete p.delayedLeave},p.delayedLeave=P})}return a}}},uD=sD;function LT(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function Xg(e,t,n,i){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:m,onLeave:v,onAfterLeave:b,onLeaveCancelled:_,onBeforeAppear:I,onAppear:C,onAfterAppear:x,onAppearCancelled:P}=t,N=String(e.key),L=LT(n,e),B=(D,ue)=>{D&&ir(D,i,9,ue)},O=(D,ue)=>{const S=ue[1];B(D,ue),ke(D)?D.every(Ae=>Ae.length<=1)&&S():D.length<=1&&S()},W={mode:s,persisted:a,beforeEnter(D){let ue=l;if(!n.isMounted)if(o)ue=I||l;else return;D._leaveCb&&D._leaveCb(!0);const S=L[N];S&&Eo(e,S)&&S.el._leaveCb&&S.el._leaveCb(),B(ue,[D])},enter(D){let ue=f,S=d,Ae=p;if(!n.isMounted)if(o)ue=C||f,S=x||d,Ae=P||p;else return;let De=!1;const Ge=D._enterCb=We=>{De||(De=!0,We?B(Ae,[D]):B(S,[D]),W.delayedLeave&&W.delayedLeave(),D._enterCb=void 0)};ue?O(ue,[D,Ge]):Ge()},leave(D,ue){const S=String(e.key);if(D._enterCb&&D._enterCb(!0),n.isUnmounting)return ue();B(m,[D]);let Ae=!1;const De=D._leaveCb=Ge=>{Ae||(Ae=!0,ue(),Ge?B(_,[D]):B(b,[D]),D._leaveCb=void 0,L[S]===e&&delete L[S])};L[S]=e,v?O(v,[D,De]):De()},clone(D){return Xg(D,t,n,i)}};return W}function vg(e){if(Gf(e))return e=Vi(e),e.children=null,e}function x_(e){return Gf(e)?e.children?e.children[0]:void 0:e}function Qg(e,t){e.shapeFlag&6&&e.component?Qg(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function MT(e,t=!1,n){let i=[],o=0;for(let s=0;s<e.length;s++){let a=e[s];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Gt?(a.patchFlag&128&&o++,i=i.concat(MT(a.children,t,l))):(t||a.type!==vr)&&i.push(l!=null?Vi(a,{key:l}):a)}if(o>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function mu(e){return Oe(e)?{setup:e,name:e.name}:e}const zl=e=>!!e.type.__asyncLoader,Gf=e=>e.type.__isKeepAlive;function aD(e,t){FT(e,"a",t)}function cD(e,t){FT(e,"da",t)}function FT(e,t,n=Vt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Wf(t,i,n),n){let o=n.parent;for(;o&&o.parent;)Gf(o.parent.vnode)&&lD(i,t,n,o),o=o.parent}}function lD(e,t,n,i){const o=Wf(t,e,i,!0);UT(()=>{Gm(i[t],o)},n)}function Wf(e,t,n=Vt,i=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;pu(),$s(n);const l=ir(t,n,e,a);return Ro(),gu(),l});return i?o.unshift(s):o.push(s),s}}const si=e=>(t,n=Vt)=>(!Pa||e==="sp")&&Wf(e,(...i)=>t(...i),n),fD=si("bm"),Xf=si("m"),hD=si("bu"),dD=si("u"),Qf=si("bum"),UT=si("um"),pD=si("sp"),gD=si("rtg"),mD=si("rtc");function vD(e,t=Vt){Wf("ec",e,t)}function R_(e,t){const n=Kn;if(n===null)return e;const i=eh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,l,f,d=it]=t[s];a&&(Oe(a)&&(a={mounted:a,updated:a}),a.deep&&So(l),o.push({dir:a,instance:i,value:l,oldValue:void 0,arg:f,modifiers:d}))}return e}function mo(e,t,n,i){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let f=l.dir[i];f&&(pu(),ir(f,n,8,[e.el,l,e,t]),gu())}}const sv="components";function Qt(e,t){return VT(sv,e,!0,t)||e}const jT=Symbol();function uv(e){return Rt(e)?VT(sv,e,!1)||e:e||jT}function VT(e,t,n=!0,i=!1){const o=Kn||Vt;if(o){const s=o.type;if(e===sv){const l=KD(s,!1);if(l&&(l===t||l===Vr(t)||l===$f(Vr(t))))return s}const a=O_(o[e]||s[e],t)||O_(o.appContext[e],t);return!a&&i?s:a}}function O_(e,t){return e&&(e[t]||e[Vr(t)]||e[$f(Vr(t))])}function av(e,t,n,i){let o;const s=n&&n[i];if(ke(e)||Rt(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,s&&s[a])}else if(ht(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=t(e[d],d,l,s&&s[l])}}else o=[];return n&&(n[i]=o),o}const Yg=e=>e?ZT(e)?eh(e)||e.proxy:Yg(e.parent):null,ga=cn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Yg(e.parent),$root:e=>Yg(e.root),$emit:e=>e.emit,$options:e=>cv(e),$forceUpdate:e=>e.f||(e.f=()=>iv(e.update)),$nextTick:e=>e.n||(e.n=Oi.bind(e.proxy)),$watch:e=>iD.bind(e)}),yg=(e,t)=>e!==it&&!e.__isScriptSetup&&$e(e,t),yD={get({_:e},t){const{ctx:n,setupState:i,data:o,props:s,accessCache:a,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(yg(i,t))return a[t]=1,i[t];if(o!==it&&$e(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&$e(d,t))return a[t]=3,s[t];if(n!==it&&$e(n,t))return a[t]=4,n[t];Jg&&(a[t]=0)}}const p=ga[t];let m,v;if(p)return t==="$attrs"&&Xn(e,"get",t),p(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==it&&$e(n,t))return a[t]=4,n[t];if(v=f.config.globalProperties,$e(v,t))return v[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;return yg(o,t)?(o[t]=n,!0):i!==it&&$e(i,t)?(i[t]=n,!0):$e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==it&&$e(e,a)||yg(t,a)||(l=s[0])&&$e(l,a)||$e(i,a)||$e(ga,a)||$e(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:$e(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Jg=!0;function wD(e){const t=cv(e),n=e.proxy,i=e.ctx;Jg=!1,t.beforeCreate&&D_(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:l,provide:f,inject:d,created:p,beforeMount:m,mounted:v,beforeUpdate:b,updated:_,activated:I,deactivated:C,beforeDestroy:x,beforeUnmount:P,destroyed:N,unmounted:L,render:B,renderTracked:O,renderTriggered:W,errorCaptured:D,serverPrefetch:ue,expose:S,inheritAttrs:Ae,components:De,directives:Ge,filters:We}=t;if(d&&bD(d,i,null,e.appContext.config.unwrapInjectedRef),a)for(const Ce in a){const we=a[Ce];Oe(we)&&(i[Ce]=we.bind(n))}if(o){const Ce=o.call(n,n);ht(Ce)&&(e.data=oi(Ce))}if(Jg=!0,s)for(const Ce in s){const we=s[Ce],Et=Oe(we)?we.bind(n,n):Oe(we.get)?we.get.bind(n,n):mr,dt=!Oe(we)&&Oe(we.set)?we.set.bind(n):mr,pt=Xe({get:Et,set:dt});Object.defineProperty(i,Ce,{enumerable:!0,configurable:!0,get:()=>pt.value,set:ut=>pt.value=ut})}if(l)for(const Ce in l)BT(l[Ce],i,n,Ce);if(f){const Ce=Oe(f)?f.call(n):f;Reflect.ownKeys(Ce).forEach(we=>{Us(we,Ce[we])})}p&&D_(p,e,"c");function Ne(Ce,we){ke(we)?we.forEach(Et=>Ce(Et.bind(n))):we&&Ce(we.bind(n))}if(Ne(fD,m),Ne(Xf,v),Ne(hD,b),Ne(dD,_),Ne(aD,I),Ne(cD,C),Ne(vD,D),Ne(mD,O),Ne(gD,W),Ne(Qf,P),Ne(UT,L),Ne(pD,ue),ke(S))if(S.length){const Ce=e.exposed||(e.exposed={});S.forEach(we=>{Object.defineProperty(Ce,we,{get:()=>n[we],set:Et=>n[we]=Et})})}else e.exposed||(e.exposed={});B&&e.render===mr&&(e.render=B),Ae!=null&&(e.inheritAttrs=Ae),De&&(e.components=De),Ge&&(e.directives=Ge)}function bD(e,t,n=mr,i=!1){ke(e)&&(e=Zg(e));for(const o in e){const s=e[o];let a;ht(s)?"default"in s?a=or(s.from||o,s.default,!0):a=or(s.from||o):a=or(s),st(a)&&i?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function D_(e,t,n){ir(ke(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function BT(e,t,n,i){const o=i.includes(".")?PT(n,i):()=>n[i];if(Rt(e)){const s=t[e];Oe(s)&&Xt(o,s)}else if(Oe(e))Xt(o,e.bind(n));else if(ht(e))if(ke(e))e.forEach(s=>BT(s,t,n,i));else{const s=Oe(e.handler)?e.handler.bind(n):t[e.handler];Oe(s)&&Xt(o,s,e)}}function cv(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!i?f=t:(f={},o.length&&o.forEach(d=>sf(f,d,a,!0)),sf(f,t,a)),ht(t)&&s.set(t,f),f}function sf(e,t,n,i=!1){const{mixins:o,extends:s}=t;s&&sf(e,s,n,!0),o&&o.forEach(a=>sf(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const l=_D[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const _D={data:P_,props:wo,emits:wo,methods:wo,computed:wo,beforeCreate:vn,created:vn,beforeMount:vn,mounted:vn,beforeUpdate:vn,updated:vn,beforeDestroy:vn,beforeUnmount:vn,destroyed:vn,unmounted:vn,activated:vn,deactivated:vn,errorCaptured:vn,serverPrefetch:vn,components:wo,directives:wo,watch:ID,provide:P_,inject:ED};function P_(e,t){return t?e?function(){return cn(Oe(e)?e.call(this,this):e,Oe(t)?t.call(this,this):t)}:t:e}function ED(e,t){return wo(Zg(e),Zg(t))}function Zg(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function vn(e,t){return e?[...new Set([].concat(e,t))]:t}function wo(e,t){return e?cn(cn(Object.create(null),e),t):t}function ID(e,t){if(!e)return t;if(!t)return e;const n=cn(Object.create(null),e);for(const i in t)n[i]=vn(e[i],t[i]);return n}function TD(e,t,n,i=!1){const o={},s={};nf(s,Jf,1),e.propsDefaults=Object.create(null),qT(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=i?o:FO(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function SD(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,l=ze(o),[f]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let m=0;m<p.length;m++){let v=p[m];if(zf(e.emitsOptions,v))continue;const b=t[v];if(f)if($e(s,v))b!==s[v]&&(s[v]=b,d=!0);else{const _=Vr(v);o[_]=em(f,l,_,b,e,!1)}else b!==s[v]&&(s[v]=b,d=!0)}}}else{qT(e,t,o,s)&&(d=!0);let p;for(const m in l)(!t||!$e(t,m)&&((p=du(m))===m||!$e(t,p)))&&(f?n&&(n[m]!==void 0||n[p]!==void 0)&&(o[m]=em(f,l,m,void 0,e,!0)):delete o[m]);if(s!==l)for(const m in s)(!t||!$e(t,m))&&(delete s[m],d=!0)}d&&ri(e,"set","$attrs")}function qT(e,t,n,i){const[o,s]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(Kl(f))continue;const d=t[f];let p;o&&$e(o,p=Vr(f))?!s||!s.includes(p)?n[p]=d:(l||(l={}))[p]=d:zf(e.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(s){const f=ze(n),d=l||it;for(let p=0;p<s.length;p++){const m=s[p];n[m]=em(o,f,m,d[m],e,!$e(d,m))}}return a}function em(e,t,n,i,o,s){const a=e[n];if(a!=null){const l=$e(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&Oe(f)){const{propsDefaults:d}=o;n in d?i=d[n]:($s(o),i=d[n]=f.call(null,t),Ro())}else i=f}a[0]&&(s&&!l?i=!1:a[1]&&(i===""||i===du(n))&&(i=!0))}return i}function $T(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const s=e.props,a={},l=[];let f=!1;if(!Oe(e)){const p=m=>{f=!0;const[v,b]=$T(m,t,!0);cn(a,v),b&&l.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!s&&!f)return ht(e)&&i.set(e,Ls),Ls;if(ke(s))for(let p=0;p<s.length;p++){const m=Vr(s[p]);L_(m)&&(a[m]=it)}else if(s)for(const p in s){const m=Vr(p);if(L_(m)){const v=s[p],b=a[m]=ke(v)||Oe(v)?{type:v}:Object.assign({},v);if(b){const _=U_(Boolean,b.type),I=U_(String,b.type);b[0]=_>-1,b[1]=I<0||_<I,(_>-1||$e(b,"default"))&&l.push(m)}}}const d=[a,l];return ht(e)&&i.set(e,d),d}function L_(e){return e[0]!=="$"}function M_(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function F_(e,t){return M_(e)===M_(t)}function U_(e,t){return ke(t)?t.findIndex(n=>F_(n,e)):Oe(t)&&F_(t,e)?0:-1}const HT=e=>e[0]==="_"||e==="$stable",lv=e=>ke(e)?e.map(Pr):[Pr(e)],AD=(e,t,n)=>{if(t._n)return t;const i=Zr((...o)=>lv(t(...o)),n);return i._c=!1,i},KT=(e,t,n)=>{const i=e._ctx;for(const o in e){if(HT(o))continue;const s=e[o];if(Oe(s))t[o]=AD(o,s,i);else if(s!=null){const a=lv(s);t[o]=()=>a}}},zT=(e,t)=>{const n=lv(t);e.slots.default=()=>n},kD=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ze(t),nf(t,"_",n)):KT(t,e.slots={})}else e.slots={},t&&zT(e,t);nf(e.slots,Jf,1)},ND=(e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,a=it;if(i.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(cn(o,t),!n&&l===1&&delete o._):(s=!t.$stable,KT(t,o)),a=t}else t&&(zT(e,t),a={default:1});if(s)for(const l in o)!HT(l)&&!(l in a)&&delete o[l]};function GT(){return{app:null,config:{isNativeTag:nO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let CD=0;function xD(e,t){return function(i,o=null){Oe(i)||(i=Object.assign({},i)),o!=null&&!ht(o)&&(o=null);const s=GT(),a=new Set;let l=!1;const f=s.app={_uid:CD++,_component:i,_props:o,_container:null,_context:s,_instance:null,version:XD,get config(){return s.config},set config(d){},use(d,...p){return a.has(d)||(d&&Oe(d.install)?(a.add(d),d.install(f,...p)):Oe(d)&&(a.add(d),d(f,...p))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,p){return p?(s.components[d]=p,f):s.components[d]},directive(d,p){return p?(s.directives[d]=p,f):s.directives[d]},mount(d,p,m){if(!l){const v=Te(i,o);return v.appContext=s,p&&t?t(v,d):e(v,d,m),l=!0,f._container=d,d.__vue_app__=f,eh(v.component)||v.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,p){return s.provides[d]=p,f}};return f}}function tm(e,t,n,i,o=!1){if(ke(e)){e.forEach((v,b)=>tm(v,t&&(ke(t)?t[b]:t),n,i,o));return}if(zl(i)&&!o)return;const s=i.shapeFlag&4?eh(i.component)||i.component.proxy:i.el,a=o?null:s,{i:l,r:f}=e,d=t&&t.r,p=l.refs===it?l.refs={}:l.refs,m=l.setupState;if(d!=null&&d!==f&&(Rt(d)?(p[d]=null,$e(m,d)&&(m[d]=null)):st(d)&&(d.value=null)),Oe(f))Li(f,l,12,[a,p]);else{const v=Rt(f),b=st(f);if(v||b){const _=()=>{if(e.f){const I=v?$e(m,f)?m[f]:p[f]:f.value;o?ke(I)&&Gm(I,s):ke(I)?I.includes(s)||I.push(s):v?(p[f]=[s],$e(m,f)&&(m[f]=p[f])):(f.value=[s],e.k&&(p[e.k]=f.value))}else v?(p[f]=a,$e(m,f)&&(m[f]=a)):b&&(f.value=a,e.k&&(p[e.k]=a))};a?(_.id=-1,Nn(_,n)):_()}}}const Nn=nD;function RD(e){return OD(e)}function OD(e,t){const n=aO();n.__VUE__=!0;const{insert:i,remove:o,patchProp:s,createElement:a,createText:l,createComment:f,setText:d,setElementText:p,parentNode:m,nextSibling:v,setScopeId:b=mr,insertStaticContent:_}=e,I=(E,A,M,V=null,$=null,ee=null,se=!1,te=null,k=!!A.dynamicChildren)=>{if(E===A)return;E&&!Eo(E,A)&&(V=G(E),ut(E,$,ee,!0),E=null),A.patchFlag===-2&&(k=!1,A.dynamicChildren=null);const{type:R,ref:X,shapeFlag:Q}=A;switch(R){case Yf:C(E,A,M,V);break;case vr:x(E,A,M,V);break;case Gl:E==null&&P(A,M,V,se);break;case Gt:De(E,A,M,V,$,ee,se,te,k);break;default:Q&1?B(E,A,M,V,$,ee,se,te,k):Q&6?Ge(E,A,M,V,$,ee,se,te,k):(Q&64||Q&128)&&R.process(E,A,M,V,$,ee,se,te,k,Pe)}X!=null&&$&&tm(X,E&&E.ref,ee,A||E,!A)},C=(E,A,M,V)=>{if(E==null)i(A.el=l(A.children),M,V);else{const $=A.el=E.el;A.children!==E.children&&d($,A.children)}},x=(E,A,M,V)=>{E==null?i(A.el=f(A.children||""),M,V):A.el=E.el},P=(E,A,M,V)=>{[E.el,E.anchor]=_(E.children,A,M,V,E.el,E.anchor)},N=({el:E,anchor:A},M,V)=>{let $;for(;E&&E!==A;)$=v(E),i(E,M,V),E=$;i(A,M,V)},L=({el:E,anchor:A})=>{let M;for(;E&&E!==A;)M=v(E),o(E),E=M;o(A)},B=(E,A,M,V,$,ee,se,te,k)=>{se=se||A.type==="svg",E==null?O(A,M,V,$,ee,se,te,k):ue(E,A,$,ee,se,te,k)},O=(E,A,M,V,$,ee,se,te)=>{let k,R;const{type:X,props:Q,shapeFlag:re,transition:oe,dirs:le}=E;if(k=E.el=a(E.type,ee,Q&&Q.is,Q),re&8?p(k,E.children):re&16&&D(E.children,k,null,V,$,ee&&X!=="foreignObject",se,te),le&&mo(E,null,V,"created"),Q){for(const xe in Q)xe!=="value"&&!Kl(xe)&&s(k,xe,null,Q[xe],ee,E.children,V,$,U);"value"in Q&&s(k,"value",null,Q.value),(R=Q.onVnodeBeforeMount)&&Or(R,V,E)}W(k,E,E.scopeId,se,V),le&&mo(E,null,V,"beforeMount");const ae=(!$||$&&!$.pendingBranch)&&oe&&!oe.persisted;ae&&oe.beforeEnter(k),i(k,A,M),((R=Q&&Q.onVnodeMounted)||ae||le)&&Nn(()=>{R&&Or(R,V,E),ae&&oe.enter(k),le&&mo(E,null,V,"mounted")},$)},W=(E,A,M,V,$)=>{if(M&&b(E,M),V)for(let ee=0;ee<V.length;ee++)b(E,V[ee]);if($){let ee=$.subTree;if(A===ee){const se=$.vnode;W(E,se,se.scopeId,se.slotScopeIds,$.parent)}}},D=(E,A,M,V,$,ee,se,te,k=0)=>{for(let R=k;R<E.length;R++){const X=E[R]=te?Ti(E[R]):Pr(E[R]);I(null,X,A,M,V,$,ee,se,te)}},ue=(E,A,M,V,$,ee,se)=>{const te=A.el=E.el;let{patchFlag:k,dynamicChildren:R,dirs:X}=A;k|=E.patchFlag&16;const Q=E.props||it,re=A.props||it;let oe;M&&vo(M,!1),(oe=re.onVnodeBeforeUpdate)&&Or(oe,M,A,E),X&&mo(A,E,M,"beforeUpdate"),M&&vo(M,!0);const le=$&&A.type!=="foreignObject";if(R?S(E.dynamicChildren,R,te,M,V,le,ee):se||we(E,A,te,null,M,V,le,ee,!1),k>0){if(k&16)Ae(te,A,Q,re,M,V,$);else if(k&2&&Q.class!==re.class&&s(te,"class",null,re.class,$),k&4&&s(te,"style",Q.style,re.style,$),k&8){const ae=A.dynamicProps;for(let xe=0;xe<ae.length;xe++){const Le=ae[xe],tn=Q[Le],dn=re[Le];(dn!==tn||Le==="value")&&s(te,Le,tn,dn,$,E.children,M,V,U)}}k&1&&E.children!==A.children&&p(te,A.children)}else!se&&R==null&&Ae(te,A,Q,re,M,V,$);((oe=re.onVnodeUpdated)||X)&&Nn(()=>{oe&&Or(oe,M,A,E),X&&mo(A,E,M,"updated")},V)},S=(E,A,M,V,$,ee,se)=>{for(let te=0;te<A.length;te++){const k=E[te],R=A[te],X=k.el&&(k.type===Gt||!Eo(k,R)||k.shapeFlag&70)?m(k.el):M;I(k,R,X,null,V,$,ee,se,!0)}},Ae=(E,A,M,V,$,ee,se)=>{if(M!==V){if(M!==it)for(const te in M)!Kl(te)&&!(te in V)&&s(E,te,M[te],null,se,A.children,$,ee,U);for(const te in V){if(Kl(te))continue;const k=V[te],R=M[te];k!==R&&te!=="value"&&s(E,te,R,k,se,A.children,$,ee,U)}"value"in V&&s(E,"value",M.value,V.value)}},De=(E,A,M,V,$,ee,se,te,k)=>{const R=A.el=E?E.el:l(""),X=A.anchor=E?E.anchor:l("");let{patchFlag:Q,dynamicChildren:re,slotScopeIds:oe}=A;oe&&(te=te?te.concat(oe):oe),E==null?(i(R,M,V),i(X,M,V),D(A.children,M,X,$,ee,se,te,k)):Q>0&&Q&64&&re&&E.dynamicChildren?(S(E.dynamicChildren,re,M,$,ee,se,te),(A.key!=null||$&&A===$.subTree)&&WT(E,A,!0)):we(E,A,M,X,$,ee,se,te,k)},Ge=(E,A,M,V,$,ee,se,te,k)=>{A.slotScopeIds=te,E==null?A.shapeFlag&512?$.ctx.activate(A,M,V,se,k):We(A,M,V,$,ee,se,k):Ve(E,A,k)},We=(E,A,M,V,$,ee,se)=>{const te=E.component=VD(E,V,$);if(Gf(E)&&(te.ctx.renderer=Pe),BD(te),te.asyncDep){if($&&$.registerDep(te,Ne),!E.el){const k=te.subTree=Te(vr);x(null,k,A,M)}return}Ne(te,E,A,M,$,ee,se)},Ve=(E,A,M)=>{const V=A.component=E.component;if(ZO(E,A,M))if(V.asyncDep&&!V.asyncResolved){Ce(V,A,M);return}else V.next=A,GO(V.update),V.update();else A.el=E.el,V.vnode=A},Ne=(E,A,M,V,$,ee,se)=>{const te=()=>{if(E.isMounted){let{next:X,bu:Q,u:re,parent:oe,vnode:le}=E,ae=X,xe;vo(E,!1),X?(X.el=le.el,Ce(E,X,se)):X=le,Q&&gg(Q),(xe=X.props&&X.props.onVnodeBeforeUpdate)&&Or(xe,oe,X,le),vo(E,!0);const Le=mg(E),tn=E.subTree;E.subTree=Le,I(tn,Le,m(tn.el),G(tn),E,$,ee),X.el=Le.el,ae===null&&eD(E,Le.el),re&&Nn(re,$),(xe=X.props&&X.props.onVnodeUpdated)&&Nn(()=>Or(xe,oe,X,le),$)}else{let X;const{el:Q,props:re}=A,{bm:oe,m:le,parent:ae}=E,xe=zl(A);if(vo(E,!1),oe&&gg(oe),!xe&&(X=re&&re.onVnodeBeforeMount)&&Or(X,ae,A),vo(E,!0),Q&&_e){const Le=()=>{E.subTree=mg(E),_e(Q,E.subTree,E,$,null)};xe?A.type.__asyncLoader().then(()=>!E.isUnmounted&&Le()):Le()}else{const Le=E.subTree=mg(E);I(null,Le,M,V,E,$,ee),A.el=Le.el}if(le&&Nn(le,$),!xe&&(X=re&&re.onVnodeMounted)){const Le=A;Nn(()=>Or(X,ae,Le),$)}(A.shapeFlag&256||ae&&zl(ae.vnode)&&ae.vnode.shapeFlag&256)&&E.a&&Nn(E.a,$),E.isMounted=!0,A=M=V=null}},k=E.effect=new Ym(te,()=>iv(R),E.scope),R=E.update=()=>k.run();R.id=E.uid,vo(E,!0),R()},Ce=(E,A,M)=>{A.component=E;const V=E.vnode.props;E.vnode=A,E.next=null,SD(E,A.props,V,M),ND(E,A.children,M),pu(),N_(),gu()},we=(E,A,M,V,$,ee,se,te,k=!1)=>{const R=E&&E.children,X=E?E.shapeFlag:0,Q=A.children,{patchFlag:re,shapeFlag:oe}=A;if(re>0){if(re&128){dt(R,Q,M,V,$,ee,se,te,k);return}else if(re&256){Et(R,Q,M,V,$,ee,se,te,k);return}}oe&8?(X&16&&U(R,$,ee),Q!==R&&p(M,Q)):X&16?oe&16?dt(R,Q,M,V,$,ee,se,te,k):U(R,$,ee,!0):(X&8&&p(M,""),oe&16&&D(Q,M,V,$,ee,se,te,k))},Et=(E,A,M,V,$,ee,se,te,k)=>{E=E||Ls,A=A||Ls;const R=E.length,X=A.length,Q=Math.min(R,X);let re;for(re=0;re<Q;re++){const oe=A[re]=k?Ti(A[re]):Pr(A[re]);I(E[re],oe,M,null,$,ee,se,te,k)}R>X?U(E,$,ee,!0,!1,Q):D(A,M,V,$,ee,se,te,k,Q)},dt=(E,A,M,V,$,ee,se,te,k)=>{let R=0;const X=A.length;let Q=E.length-1,re=X-1;for(;R<=Q&&R<=re;){const oe=E[R],le=A[R]=k?Ti(A[R]):Pr(A[R]);if(Eo(oe,le))I(oe,le,M,null,$,ee,se,te,k);else break;R++}for(;R<=Q&&R<=re;){const oe=E[Q],le=A[re]=k?Ti(A[re]):Pr(A[re]);if(Eo(oe,le))I(oe,le,M,null,$,ee,se,te,k);else break;Q--,re--}if(R>Q){if(R<=re){const oe=re+1,le=oe<X?A[oe].el:V;for(;R<=re;)I(null,A[R]=k?Ti(A[R]):Pr(A[R]),M,le,$,ee,se,te,k),R++}}else if(R>re)for(;R<=Q;)ut(E[R],$,ee,!0),R++;else{const oe=R,le=R,ae=new Map;for(R=le;R<=re;R++){const wt=A[R]=k?Ti(A[R]):Pr(A[R]);wt.key!=null&&ae.set(wt.key,R)}let xe,Le=0;const tn=re-le+1;let dn=!1,yt=0;const ci=new Array(tn);for(R=0;R<tn;R++)ci[R]=0;for(R=oe;R<=Q;R++){const wt=E[R];if(Le>=tn){ut(wt,$,ee,!0);continue}let Mn;if(wt.key!=null)Mn=ae.get(wt.key);else for(xe=le;xe<=re;xe++)if(ci[xe-le]===0&&Eo(wt,A[xe])){Mn=xe;break}Mn===void 0?ut(wt,$,ee,!0):(ci[Mn-le]=R+1,Mn>=yt?yt=Mn:dn=!0,I(wt,A[Mn],M,null,$,ee,se,te,k),Le++)}const Ir=dn?DD(ci):Ls;for(xe=Ir.length-1,R=tn-1;R>=0;R--){const wt=le+R,Mn=A[wt],$t=wt+1<X?A[wt+1].el:V;ci[R]===0?I(null,Mn,M,$t,$,ee,se,te,k):dn&&(xe<0||R!==Ir[xe]?pt(Mn,M,$t,2):xe--)}}},pt=(E,A,M,V,$=null)=>{const{el:ee,type:se,transition:te,children:k,shapeFlag:R}=E;if(R&6){pt(E.component.subTree,A,M,V);return}if(R&128){E.suspense.move(A,M,V);return}if(R&64){se.move(E,A,M,Pe);return}if(se===Gt){i(ee,A,M);for(let Q=0;Q<k.length;Q++)pt(k[Q],A,M,V);i(E.anchor,A,M);return}if(se===Gl){N(E,A,M);return}if(V!==2&&R&1&&te)if(V===0)te.beforeEnter(ee),i(ee,A,M),Nn(()=>te.enter(ee),$);else{const{leave:Q,delayLeave:re,afterLeave:oe}=te,le=()=>i(ee,A,M),ae=()=>{Q(ee,()=>{le(),oe&&oe()})};re?re(ee,le,ae):ae()}else i(ee,A,M)},ut=(E,A,M,V=!1,$=!1)=>{const{type:ee,props:se,ref:te,children:k,dynamicChildren:R,shapeFlag:X,patchFlag:Q,dirs:re}=E;if(te!=null&&tm(te,null,M,E,!0),X&256){A.ctx.deactivate(E);return}const oe=X&1&&re,le=!zl(E);let ae;if(le&&(ae=se&&se.onVnodeBeforeUnmount)&&Or(ae,A,E),X&6)K(E.component,M,V);else{if(X&128){E.suspense.unmount(M,V);return}oe&&mo(E,null,A,"beforeUnmount"),X&64?E.type.remove(E,A,M,$,Pe,V):R&&(ee!==Gt||Q>0&&Q&64)?U(R,A,M,!1,!0):(ee===Gt&&Q&384||!$&&X&16)&&U(k,A,M),V&&hn(E)}(le&&(ae=se&&se.onVnodeUnmounted)||oe)&&Nn(()=>{ae&&Or(ae,A,E),oe&&mo(E,null,A,"unmounted")},M)},hn=E=>{const{type:A,el:M,anchor:V,transition:$}=E;if(A===Gt){en(M,V);return}if(A===Gl){L(E);return}const ee=()=>{o(M),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(E.shapeFlag&1&&$&&!$.persisted){const{leave:se,delayLeave:te}=$,k=()=>se(M,ee);te?te(E.el,ee,k):k()}else ee()},en=(E,A)=>{let M;for(;E!==A;)M=v(E),o(E),E=M;o(A)},K=(E,A,M)=>{const{bum:V,scope:$,update:ee,subTree:se,um:te}=E;V&&gg(V),$.stop(),ee&&(ee.active=!1,ut(se,E,A,M)),te&&Nn(te,A),Nn(()=>{E.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},U=(E,A,M,V=!1,$=!1,ee=0)=>{for(let se=ee;se<E.length;se++)ut(E[se],A,M,V,$)},G=E=>E.shapeFlag&6?G(E.component.subTree):E.shapeFlag&128?E.suspense.next():v(E.anchor||E.el),J=(E,A,M)=>{E==null?A._vnode&&ut(A._vnode,null,null,!0):I(A._vnode||null,E,A,null,null,null,M),N_(),xT(),A._vnode=E},Pe={p:I,um:ut,m:pt,r:hn,mt:We,mc:D,pc:we,pbc:S,n:G,o:e};let qe,_e;return t&&([qe,_e]=t(Pe)),{render:J,hydrate:qe,createApp:xD(J,qe)}}function vo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function WT(e,t,n=!1){const i=e.children,o=t.children;if(ke(i)&&ke(o))for(let s=0;s<i.length;s++){const a=i[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Ti(o[s]),l.el=a.el),n||WT(a,l)),l.type===Yf&&(l.el=a.el)}}function DD(e){const t=e.slice(),n=[0];let i,o,s,a,l;const f=e.length;for(i=0;i<f;i++){const d=e[i];if(d!==0){if(o=n[n.length-1],e[o]<d){t[i]=o,n.push(i);continue}for(s=0,a=n.length-1;s<a;)l=s+a>>1,e[n[l]]<d?s=l+1:a=l;d<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const PD=e=>e.__isTeleport,Gt=Symbol(void 0),Yf=Symbol(void 0),vr=Symbol(void 0),Gl=Symbol(void 0),ma=[];let gr=null;function vt(e=!1){ma.push(gr=e?null:[])}function LD(){ma.pop(),gr=ma[ma.length-1]||null}let Da=1;function j_(e){Da+=e}function XT(e){return e.dynamicChildren=Da>0?gr||Ls:null,LD(),Da>0&&gr&&gr.push(e),e}function Lt(e,t,n,i,o,s){return XT(ie(e,t,n,i,o,s,!0))}function uf(e,t,n,i,o){return XT(Te(e,t,n,i,o,!0))}function nm(e){return e?e.__v_isVNode===!0:!1}function Eo(e,t){return e.type===t.type&&e.key===t.key}const Jf="__vInternal",QT=({key:e})=>e??null,Wl=({ref:e,ref_key:t,ref_for:n})=>e!=null?Rt(e)||st(e)||Oe(e)?{i:Kn,r:e,k:t,f:!!n}:e:null;function ie(e,t=null,n=null,i=0,o=null,s=e===Gt?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&QT(t),ref:t&&Wl(t),scopeId:DT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Kn};return l?(hv(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Rt(n)?8:16),Da>0&&!a&&gr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&gr.push(f),f}const Te=MD;function MD(e,t=null,n=null,i=0,o=null,s=!1){if((!e||e===jT)&&(e=vr),nm(e)){const l=Vi(e,t,!0);return n&&hv(l,n),Da>0&&!s&&gr&&(l.shapeFlag&6?gr[gr.indexOf(e)]=l:gr.push(l)),l.patchFlag|=-2,l}if(zD(e)&&(e=e.__vccOpts),t){t=FD(t);let{class:l,style:f}=t;l&&!Rt(l)&&(t.class=Hn(l)),ht(f)&&(ET(f)&&!ke(f)&&(f=cn({},f)),t.style=jf(f))}const a=Rt(e)?1:tD(e)?128:PD(e)?64:ht(e)?4:Oe(e)?2:0;return ie(e,t,n,i,o,a,s,!0)}function FD(e){return e?ET(e)||Jf in e?cn({},e):e:null}function Vi(e,t,n=!1){const{props:i,ref:o,patchFlag:s,children:a}=e,l=t?JT(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&QT(l),ref:t&&t.ref?n&&o?ke(o)?o.concat(Wl(t)):[o,Wl(t)]:Wl(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Gt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Vi(e.ssContent),ssFallback:e.ssFallback&&Vi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function va(e=" ",t=0){return Te(Yf,null,e,t)}function YT(e,t){const n=Te(Gl,null,e);return n.staticCount=t,n}function fv(e="",t=!1){return t?(vt(),uf(vr,null,e)):Te(vr,null,e)}function Pr(e){return e==null||typeof e=="boolean"?Te(vr):ke(e)?Te(Gt,null,e.slice()):typeof e=="object"?Ti(e):Te(Yf,null,String(e))}function Ti(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Vi(e)}function hv(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ke(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),hv(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Jf in t)?t._ctx=Kn:o===3&&Kn&&(Kn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Oe(t)?(t={default:t,_ctx:Kn},n=32):(t=String(t),i&64?(n=16,t=[va(t)]):n=8);e.children=t,e.shapeFlag|=n}function JT(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=Hn([t.class,i.class]));else if(o==="style")t.style=jf([t.style,i.style]);else if(Vf(o)){const s=t[o],a=i[o];a&&s!==a&&!(ke(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=i[o])}return t}function Or(e,t,n,i=null){ir(e,t,7,[n,i])}const UD=GT();let jD=0;function VD(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||UD,s={uid:jD++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new cT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$T(i,o),emitsOptions:OT(i,o),emit:null,emitted:null,propsDefaults:it,inheritAttrs:i.inheritAttrs,ctx:it,data:it,props:it,attrs:it,slots:it,refs:it,setupState:it,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=QO.bind(null,s),e.ce&&e.ce(s),s}let Vt=null;const Zf=()=>Vt||Kn,$s=e=>{Vt=e,e.scope.on()},Ro=()=>{Vt&&Vt.scope.off(),Vt=null};function ZT(e){return e.vnode.shapeFlag&4}let Pa=!1;function BD(e,t=!1){Pa=t;const{props:n,children:i}=e.vnode,o=ZT(e);TD(e,n,o,t),kD(e,i);const s=o?qD(e,t):void 0;return Pa=!1,s}function qD(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Mo(new Proxy(e.ctx,yD));const{setup:i}=n;if(i){const o=e.setupContext=i.length>1?HD(e):null;$s(e),pu();const s=Li(i,e,0,[e.props,o]);if(gu(),Ro(),oT(s)){if(s.then(Ro,Ro),t)return s.then(a=>{V_(e,a,t)}).catch(a=>{Kf(a,e,0)});e.asyncDep=s}else V_(e,s,t)}else eS(e,t)}function V_(e,t,n){Oe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ht(t)&&(e.setupState=AT(t)),eS(e,n)}let B_;function eS(e,t,n){const i=e.type;if(!e.render){if(!t&&B_&&!i.render){const o=i.template||cv(e).template;if(o){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=i,d=cn(cn({isCustomElement:s,delimiters:l},a),f);i.render=B_(o,d)}}e.render=i.render||mr}$s(e),pu(),wD(e),gu(),Ro()}function $D(e){return new Proxy(e.attrs,{get(t,n){return Xn(e,"get","$attrs"),t[n]}})}function HD(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=$D(e))},slots:e.slots,emit:e.emit,expose:t}}function eh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(AT(Mo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ga)return ga[n](e)},has(t,n){return n in t||n in ga}}))}function KD(e,t=!0){return Oe(e)?e.displayName||e.name:e.name||t&&e.__name}function zD(e){return Oe(e)&&"__vccOpts"in e}const Xe=(e,t)=>HO(e,t,Pa);function Hs(e,t,n){const i=arguments.length;return i===2?ht(t)&&!ke(t)?nm(t)?Te(e,null,[t]):Te(e,t):Te(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&nm(n)&&(n=[n]),Te(e,t,n))}const GD=Symbol(""),WD=()=>or(GD),XD="3.2.45",QD="http://www.w3.org/2000/svg",Io=typeof document<"u"?document:null,q_=Io&&Io.createElement("template"),YD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t?Io.createElementNS(QD,e):Io.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>Io.createTextNode(e),createComment:e=>Io.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Io.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,s){const a=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{q_.innerHTML=i?`<svg>${e}</svg>`:e;const l=q_.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function JD(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function ZD(e,t,n){const i=e.style,o=Rt(n);if(n&&!o){for(const s in n)rm(i,s,n[s]);if(t&&!Rt(t))for(const s in t)n[s]==null&&rm(i,s,"")}else{const s=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=s)}}const $_=/\s*!important$/;function rm(e,t,n){if(ke(n))n.forEach(i=>rm(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=eP(e,t);$_.test(n)?e.setProperty(du(i),n.replace($_,""),"important"):e[i]=n}}const H_=["Webkit","Moz","ms"],wg={};function eP(e,t){const n=wg[t];if(n)return n;let i=Vr(t);if(i!=="filter"&&i in e)return wg[t]=i;i=$f(i);for(let o=0;o<H_.length;o++){const s=H_[o]+i;if(s in e)return wg[t]=s}return t}const K_="http://www.w3.org/1999/xlink";function tP(e,t,n,i,o){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(K_,t.slice(6,t.length)):e.setAttributeNS(K_,t,n);else{const s=tO(t);n==null||s&&!nT(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function nP(e,t,n,i,o,s,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,o,s),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const f=n??"";(e.value!==f||e.tagName==="OPTION")&&(e.value=f),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=nT(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function rP(e,t,n,i){e.addEventListener(t,n,i)}function iP(e,t,n,i){e.removeEventListener(t,n,i)}function oP(e,t,n,i,o=null){const s=e._vei||(e._vei={}),a=s[t];if(i&&a)a.value=i;else{const[l,f]=sP(t);if(i){const d=s[t]=cP(i,o);rP(e,l,d,f)}else a&&(iP(e,l,a,f),s[t]=void 0)}}const z_=/(?:Once|Passive|Capture)$/;function sP(e){let t;if(z_.test(e)){t={};let i;for(;i=e.match(z_);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):du(e.slice(2)),t]}let bg=0;const uP=Promise.resolve(),aP=()=>bg||(uP.then(()=>bg=0),bg=Date.now());function cP(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;ir(lP(i,n.value),t,5,[i])};return n.value=e,n.attached=aP(),n}function lP(e,t){if(ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const G_=/^on[a-z]/,fP=(e,t,n,i,o=!1,s,a,l,f)=>{t==="class"?JD(e,i,o):t==="style"?ZD(e,n,i):Vf(t)?zm(t)||oP(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):hP(e,t,i,o))?nP(e,t,i,s,a,l,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),tP(e,t,i,o))};function hP(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&G_.test(t)&&Oe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||G_.test(t)&&Rt(n)?!1:t in e}const dP={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};uD.props;const pP=["ctrl","shift","alt","meta"],gP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>pP.some(n=>e[`${n}Key`]&&!t.includes(n))},Cn=(e,t)=>(n,...i)=>{for(let o=0;o<t.length;o++){const s=gP[t[o]];if(s&&s(n,t))return}return e(n,...i)},W_={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):aa(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),aa(e,!0),i.enter(e)):i.leave(e,()=>{aa(e,!1)}):aa(e,t))},beforeUnmount(e,{value:t}){aa(e,t)}};function aa(e,t){e.style.display=t?e._vod:"none"}const mP=cn({patchProp:fP},YD);let X_;function vP(){return X_||(X_=RD(mP))}const yP=(...e)=>{const t=vP().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=wP(i);if(!o)return;const s=t._component;!Oe(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function wP(e){return Rt(e)?document.querySelector(e):e}var bP=!1;/*!
  * pinia v2.0.30
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let tS;const th=e=>tS=e,nS=Symbol();function im(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ya;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ya||(ya={}));function _P(){const e=lT(!0),t=e.run(()=>Rn({}));let n=[],i=[];const o=Mo({install(s){th(o),o._a=s,s.provide(nS,o),s.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(s){return!this._a&&!bP?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const rS=()=>{};function Q_(e,t,n,i=rS){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&lO()&&fO(o),o}function Is(e,...t){e.slice().forEach(n=>{n(...t)})}function om(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];im(o)&&im(i)&&e.hasOwnProperty(n)&&!st(i)&&!Pi(i)?e[n]=om(o,i):e[n]=i}return e}const EP=Symbol();function IP(e){return!im(e)||!e.hasOwnProperty(EP)}const{assign:Si}=Object;function TP(e){return!!(st(e)&&e.effect)}function SP(e,t,n,i){const{state:o,actions:s,getters:a}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const p=BO(n.state.value[e]);return Si(p,s,Object.keys(a||{}).reduce((m,v)=>(m[v]=Mo(Xe(()=>{th(n);const b=n._s.get(e);return a[v].call(b,b)})),m),{}))}return f=iS(e,d,t,n,i,!0),f.$reset=function(){const m=o?o():{};this.$patch(v=>{Si(v,m)})},f}function iS(e,t,n={},i,o,s){let a;const l=Si({actions:{}},n),f={deep:!0};let d,p,m=Mo([]),v=Mo([]),b;const _=i.state.value[e];!s&&!_&&(i.state.value[e]={}),Rn({});let I;function C(W){let D;d=p=!1,typeof W=="function"?(W(i.state.value[e]),D={type:ya.patchFunction,storeId:e,events:b}):(om(i.state.value[e],W),D={type:ya.patchObject,payload:W,storeId:e,events:b});const ue=I=Symbol();Oi().then(()=>{I===ue&&(d=!0)}),p=!0,Is(m,D,i.state.value[e])}const x=rS;function P(){a.stop(),m=[],v=[],i._s.delete(e)}function N(W,D){return function(){th(i);const ue=Array.from(arguments),S=[],Ae=[];function De(Ve){S.push(Ve)}function Ge(Ve){Ae.push(Ve)}Is(v,{args:ue,name:W,store:B,after:De,onError:Ge});let We;try{We=D.apply(this&&this.$id===e?this:B,ue)}catch(Ve){throw Is(Ae,Ve),Ve}return We instanceof Promise?We.then(Ve=>(Is(S,Ve),Ve)).catch(Ve=>(Is(Ae,Ve),Promise.reject(Ve))):(Is(S,We),We)}}const L={_p:i,$id:e,$onAction:Q_.bind(null,v),$patch:C,$reset:x,$subscribe(W,D={}){const ue=Q_(m,W,D.detached,()=>S()),S=a.run(()=>Xt(()=>i.state.value[e],Ae=>{(D.flush==="sync"?p:d)&&W({storeId:e,type:ya.direct,events:b},Ae)},Si({},f,D)));return ue},$dispose:P},B=oi(L);i._s.set(e,B);const O=i._e.run(()=>(a=lT(),a.run(()=>t())));for(const W in O){const D=O[W];if(st(D)&&!TP(D)||Pi(D))s||(_&&IP(D)&&(st(D)?D.value=_[W]:om(D,_[W])),i.state.value[e][W]=D);else if(typeof D=="function"){const ue=N(W,D);O[W]=ue,l.actions[W]=D}}return Si(B,O),Si(ze(B),O),Object.defineProperty(B,"$state",{get:()=>i.state.value[e],set:W=>{C(D=>{Si(D,W)})}}),i._p.forEach(W=>{Si(B,a.run(()=>W({store:B,app:i._a,pinia:i,options:l})))}),_&&s&&n.hydrate&&n.hydrate(B.$state,_),d=!0,p=!0,B}function oS(e,t,n){let i,o;const s=typeof t=="function";typeof e=="string"?(i=e,o=s?n:t):(o=e,i=e.id);function a(l,f){const d=Zf();return l=l||d&&or(nS,null),l&&th(l),l=tS,l._s.has(i)||(s?iS(i,t,o,l):SP(i,o,l)),l._s.get(i)}return a.$id=i,a}let AP="Store";function kP(...e){return e.reduce((t,n)=>(t[n.$id+AP]=function(){return n(this.$pinia)},t),{})}function NP(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(){return e(this.$pinia)[i]},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(){const o=e(this.$pinia),s=t[i];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function sS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[i](...o)},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[t[i]](...o)},n),{})}function uS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[i]},set(o){return e(this.$pinia)[i]=o}},n),{}):Object.keys(t).reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[t[i]]},set(o){return e(this.$pinia)[t[i]]=o}},n),{})}const sm=oS("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var um=function(e,t){return um=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},um(e,t)};function ye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");um(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ks=function(){return Ks=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ks.apply(this,arguments)};function H(e,t,n,i){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{d(i.next(p))}catch(m){a(m)}}function f(p){try{d(i.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):o(p.value).then(l,f)}d((i=i.apply(e,t||[])).next())})}function q(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(p){return f([d,p])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],o=0}finally{i=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function _g(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function lt(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,s;i<o;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aS=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},CP=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[i++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},xP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var s=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,p=s>>2,m=(s&3)<<4|l>>4,v=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(v=64)),i.push(n[p],n[m],n[v],n[b])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(aS(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):CP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var s=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var p=o<e.length,m=p?n[e.charAt(o)]:64;if(++o,s==null||l==null||d==null||m==null)throw Error();var v=s<<2|l>>4;if(i.push(v),d!==64){var b=l<<4&240|d>>2;if(i.push(b),m!==64){var _=d<<6&192|m;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},RP=function(e){var t=aS(e);return xP.encodeByteArray(t,!0)},Y_=function(e){return RP(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(e){return La(void 0,e)}function La(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!DP(i)||(e[i]=La(e[i],t[i]));return e}function DP(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PP=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Ks({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Y_(JSON.stringify(n)),Y_(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fo())}function lS(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MP(){return typeof self=="object"&&self.self===self}function FP(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function UP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jP(){return Fo().indexOf("Electron/")>=0}function VP(){var e=Fo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function BP(){return Fo().indexOf("MSAppHost/")>=0}function qP(){return!lS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $P="FirebaseError",fS=function(e){ye(t,e);function t(n,i,o){var s=e.call(this,i)||this;return s.code=n,s.customData=o,s.name=$P,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,dv.prototype.create),s}return t}(Error),dv=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?HP(a,o):"Error",f=this.serviceName+": "+l+" ("+s+").",d=new fS(s,f,o);return d},e}();function HP(e,t){return e.replace(KP,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var KP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function zP(e,t){var n=new GP(e,t);return n.subscribe.bind(n)}var GP=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");WP(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Eg),s.error===void 0&&(s.error=Eg),s.complete===void 0&&(s.complete=Eg);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function WP(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Eg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(e){return e&&e._delegate?e._delegate:e}var ec=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XP=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new PP;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(YP(t))try{this.getOrInitializeService({instanceIdentifier:bo})}catch{}try{for(var o=_g(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var a=xl(s.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:d});f.resolve(p)}catch{}}}catch(m){n={error:m}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=bo),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(lt(lt([],xl(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),xl(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=bo),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=bo),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var f=_g(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var p=xl(d.value,2),m=p[0],v=p[1],b=this.normalizeInstanceIdentifier(m);a===b&&v.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(o,s);var a=this.instances.get(o);return a&&t(a,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,s=this.onInitCallbacks.get(n);if(s)try{for(var a=_g(s),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QP(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=bo),this.component?this.component.multipleInstances?t:bo:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function QP(e){return e===bo?void 0:e}function YP(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JP=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new XP(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function dr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)i[o]=s[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yo,pv=[],Ke;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ke||(Ke={}));var hS={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},ZP=Ke.INFO,eL=(yo={},yo[Ke.DEBUG]="log",yo[Ke.VERBOSE]="log",yo[Ke.INFO]="info",yo[Ke.WARN]="warn",yo[Ke.ERROR]="error",yo),tL=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=eL[t];if(s)console[s].apply(console,dr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},dS=function(){function e(t){this.name=t,this._logLevel=ZP,this._logHandler=tL,this._userLogHandler=null,pv.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Ke))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?hS[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,dr([this,Ke.DEBUG],t)),this._logHandler.apply(this,dr([this,Ke.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,dr([this,Ke.VERBOSE],t)),this._logHandler.apply(this,dr([this,Ke.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,dr([this,Ke.INFO],t)),this._logHandler.apply(this,dr([this,Ke.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,dr([this,Ke.WARN],t)),this._logHandler.apply(this,dr([this,Ke.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,dr([this,Ke.ERROR],t)),this._logHandler.apply(this,dr([this,Ke.ERROR],t))},e}();function nL(e){pv.forEach(function(t){t.setLogLevel(e)})}function rL(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=hS[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var p=[],m=2;m<arguments.length;m++)p[m-2]=arguments[m];var v=p.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&e({level:Ke[d].toLowerCase(),message:v,args:p,type:f.name})}},i=0,o=pv;i<o.length;i++){var s=o[i];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wi,iL=(wi={},wi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",wi["bad-app-name"]="Illegal App name: '{$appName}",wi["duplicate-app"]="Firebase App named '{$appName}' already exists",wi["app-deleted"]="Firebase App named '{$appName}' already deleted",wi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",wi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",wi),Cs=new dv("app","Firebase",iL),pS="@firebase/app",oL="0.6.30",sL="@firebase/analytics",uL="@firebase/app-check",aL="@firebase/auth",cL="@firebase/database",lL="@firebase/functions",fL="@firebase/installations",hL="@firebase/messaging",dL="@firebase/performance",pL="@firebase/remote-config",gL="@firebase/storage",mL="@firebase/firestore",vL="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,af="[DEFAULT]",yL=(nn={},nn[pS]="fire-core",nn[sL]="fire-analytics",nn[uL]="fire-app-check",nn[aL]="fire-auth",nn[cL]="fire-rtdb",nn[lL]="fire-fn",nn[fL]="fire-iid",nn[hL]="fire-fcm",nn[dL]="fire-perf",nn[pL]="fire-rc",nn[gL]="fire-gcs",nn[mL]="fire-fst",nn["fire-js"]="fire-js",nn[vL]="fire-js-all",nn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zs=new dS("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xl=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=OP(t),this.container=new JP(n.name),this._addComponent(new ec("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=af),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=af),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){zs.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Cs.create("app-deleted",{appName:this.name_})},e}();Xl.prototype.name&&Xl.prototype.options||Xl.prototype.delete||console.log("dc");var wL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(e){var t={},n=new Map,i={__esModule:!0,initializeApp:a,app:s,registerVersion:d,setLogLevel:nL,onLog:p,apps:null,SDK_VERSION:wL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:m}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(v){delete t[v]}function s(v){if(v=v||af,!J_(t,v))throw Cs.create("no-app",{appName:v});return t[v]}s.App=e;function a(v,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var _=b;b={name:_}}var I=b;I.name===void 0&&(I.name=af);var C=I.name;if(typeof C!="string"||!C)throw Cs.create("bad-app-name",{appName:String(C)});if(J_(t,C))throw Cs.create("duplicate-app",{appName:C});var x=new e(v,I,i);return t[C]=x,x}function l(){return Object.keys(t).map(function(v){return t[v]})}function f(v){var b=v.name;if(n.has(b))return zs.debug("There were multiple attempts to register component "+b+"."),v.type==="PUBLIC"?i[b]:null;if(n.set(b,v),v.type==="PUBLIC"){var _=function(P){if(P===void 0&&(P=s()),typeof P[b]!="function")throw Cs.create("invalid-app-argument",{appName:b});return P[b]()};v.serviceProps!==void 0&&La(_,v.serviceProps),i[b]=_,e.prototype[b]=function(){for(var P=[],N=0;N<arguments.length;N++)P[N]=arguments[N];var L=this._getService.bind(this,b);return L.apply(this,v.multipleInstances?P:[])}}for(var I=0,C=Object.keys(t);I<C.length;I++){var x=C[I];t[x]._addComponent(v)}return v.type==="PUBLIC"?i[b]:null}function d(v,b,_){var I,C=(I=yL[v])!==null&&I!==void 0?I:v;_&&(C+="-"+_);var x=C.match(/\s|\//),P=b.match(/\s|\//);if(x||P){var N=['Unable to register library "'+C+'" with version "'+b+'":'];x&&N.push('library name "'+C+'" contains illegal characters (whitespace or "/")'),x&&P&&N.push("and"),P&&N.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),zs.warn(N.join(" "));return}f(new ec(C+"-version",function(){return{library:C,version:b}},"VERSION"))}function p(v,b){if(v!==null&&typeof v!="function")throw Cs.create("invalid-log-argument");rL(v,b)}function m(v,b){if(b==="serverAuth")return null;var _=b;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){var e=bL(Xl);e.INTERNAL=Ks(Ks({},e.INTERNAL),{createFirebaseNamespace:gS,extendNamespace:t,createSubscribe:zP,ErrorFactory:dv,deepExtend:La});function t(n){La(e,n)}return e}var gv=gS();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _L=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(EL(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function EL(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(e,t){e.INTERNAL.registerComponent(new ec("platform-logger",function(n){return new _L(n)},"PRIVATE")),e.registerVersion(pS,oL,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(MP()&&self.firebase!==void 0){zs.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var Z_=self.firebase.SDK_VERSION;Z_&&Z_.indexOf("LITE")>=0&&zs.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var TL=gv.initializeApp;gv.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return lS()&&zs.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),TL.apply(void 0,e)};var be=gv;IL(be);var SL="firebase",mS="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */be.registerVersion(SL,mS,"app");be.SDK_VERSION=mS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,u,c){r!=Array.prototype&&r!=Object.prototype&&(r[u]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var u=0;u<r.length;++u){var c=r[u];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,u){if(u){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var g=r[h];g in c||(c[g]={}),c=c[g]}r=r[r.length-1],h=c[r],u=u(h),u!=h&&u!=null&&t(c,r,{configurable:!0,writable:!0,value:u})}}function s(r){var u=0;return function(){return u<r.length?{done:!1,value:r[u++]}:{done:!0}}}function a(r){var u=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return u?u.call(r):{next:s(r)}}o("Promise",function(r){function u(w){this.b=0,this.c=void 0,this.a=[];var T=this.f();try{w(T.resolve,T.reject)}catch(j){T.reject(j)}}function c(){this.a=null}function h(w){return w instanceof u?w:new u(function(T){T(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var T=this;this.c(function(){T.g()})}this.a.push(w)};var g=i.setTimeout;c.prototype.c=function(w){g(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var T=0;T<w.length;++T){var j=w[T];w[T]=null;try{j()}catch(z){this.f(z)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},u.prototype.f=function(){function w(z){return function(Ie){j||(j=!0,z.call(T,Ie))}}var T=this,j=!1;return{resolve:w(this.m),reject:w(this.g)}},u.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof u)this.s(w);else{e:switch(typeof w){case"object":var T=w!=null;break e;case"function":T=!0;break e;default:T=!1}T?this.v(w):this.h(w)}},u.prototype.v=function(w){var T=void 0;try{T=w.then}catch(j){this.g(j);return}typeof T=="function"?this.u(T,w):this.h(w)},u.prototype.g=function(w){this.i(2,w)},u.prototype.h=function(w){this.i(1,w)},u.prototype.i=function(w,T){if(this.b!=0)throw Error("Cannot settle("+w+", "+T+"): Promise already settled in state"+this.b);this.b=w,this.c=T,this.l()},u.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)y.b(this.a[w]);this.a=null}};var y=new c;return u.prototype.s=function(w){var T=this.f();w.Ra(T.resolve,T.reject)},u.prototype.u=function(w,T){var j=this.f();try{w.call(T,j.resolve,j.reject)}catch(z){j.reject(z)}},u.prototype.then=function(w,T){function j(He,Ut){return typeof He=="function"?function(Wr){try{z(He(Wr))}catch(dg){Ie(dg)}}:Ut}var z,Ie,Je=new u(function(He,Ut){z=He,Ie=Ut});return this.Ra(j(w,z),j(T,Ie)),Je},u.prototype.catch=function(w){return this.then(void 0,w)},u.prototype.Ra=function(w,T){function j(){switch(z.b){case 1:w(z.c);break;case 2:T(z.c);break;default:throw Error("Unexpected state: "+z.b)}}var z=this;this.a==null?y.b(j):this.a.push(j)},u.resolve=h,u.reject=function(w){return new u(function(T,j){j(w)})},u.race=function(w){return new u(function(T,j){for(var z=a(w),Ie=z.next();!Ie.done;Ie=z.next())h(Ie.value).Ra(T,j)})},u.all=function(w){var T=a(w),j=T.next();return j.done?h([]):new u(function(z,Ie){function Je(Wr){return function(dg){He[Wr]=dg,Ut--,Ut==0&&z(He)}}var He=[],Ut=0;do He.push(void 0),Ut++,h(j.value).Ra(Je(He.length-1),Ie),j=T.next();while(!j.done)})},u});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,p=null;function m(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function v(){}function b(r){var u=typeof r;return u!="object"?u:r?Array.isArray(r)?"array":u:"null"}function _(r){var u=b(r);return u=="array"||u=="object"&&typeof r.length=="number"}function I(r){return b(r)=="function"}function C(r){var u=typeof r;return u=="object"&&r!=null||u=="function"}function x(r){return Object.prototype.hasOwnProperty.call(r,P)&&r[P]||(r[P]=++N)}var P="closure_uid_"+(1e9*Math.random()>>>0),N=0;function L(r,u,c){return r.call.apply(r.bind,arguments)}function B(r,u,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,h),r.apply(u,g)}}return function(){return r.apply(u,arguments)}}function O(r,u,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=L:O=B,O.apply(null,arguments)}function W(r,u){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function D(r,u){function c(){}c.prototype=u.prototype,r.bb=u.prototype,r.prototype=new c,r.prototype.constructor=r}function ue(r){return r}function S(r,u,c){this.code=De+r,this.message=u||Ge[r]||"",this.a=c||null}D(S,Error),S.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},S.prototype.toJSON=function(){return this.w()};function Ae(r){var u=r&&r.code;return u?new S(u.substring(De.length),r.message,r.serverResponse):null}var De="auth/",Ge={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},We={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ve(r){for(var u in We)if(We[u].id===r)return r=We[u],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var Ne;Ne=Ve("__EID__")?"__EID__":void 0;function Ce(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function we(r){if(Error.captureStackTrace)Error.captureStackTrace(this,we);else{var u=Error().stack;u&&(this.stack=u)}r&&(this.message=String(r))}D(we,Error),we.prototype.name="CustomError";function Et(r,u){r=r.split("%s");for(var c="",h=r.length-1,g=0;g<h;g++)c+=r[g]+(g<u.length?u[g]:"%s");we.call(this,c+r[h])}D(Et,we),Et.prototype.name="AssertionError";function dt(r,u){throw new Et("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function pt(r,u){this.c=r,this.f=u,this.b=0,this.a=null}pt.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function ut(r,u){r.f(u),100>r.b&&(r.b++,u.next=r.a,r.a=u)}function hn(){this.b=this.a=null}var en=new pt(function(){return new U},function(r){r.reset()});hn.prototype.add=function(r,u){var c=en.get();c.set(r,u),this.b?this.b.next=c:this.a=c,this.b=c};function K(){var r=o0,u=null;return r.a&&(u=r.a,r.a=r.a.next,r.a||(r.b=null),u.next=null),u}function U(){this.next=this.b=this.a=null}U.prototype.set=function(r,u){this.a=r,this.b=u,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var G=Array.prototype.indexOf?function(r,u){return Array.prototype.indexOf.call(r,u,void 0)}:function(r,u){if(typeof r=="string")return typeof u!="string"||u.length!=1?-1:r.indexOf(u,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===u)return c;return-1},J=Array.prototype.forEach?function(r,u,c){Array.prototype.forEach.call(r,u,c)}:function(r,u,c){for(var h=r.length,g=typeof r=="string"?r.split(""):r,y=0;y<h;y++)y in g&&u.call(c,g[y],y,r)};function Pe(r,u){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&u.call(void 0,c[h],h,r)}var qe=Array.prototype.filter?function(r,u){return Array.prototype.filter.call(r,u,void 0)}:function(r,u){for(var c=r.length,h=[],g=0,y=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in y){var T=y[w];u.call(void 0,T,w,r)&&(h[g++]=T)}return h},_e=Array.prototype.map?function(r,u){return Array.prototype.map.call(r,u,void 0)}:function(r,u){for(var c=r.length,h=Array(c),g=typeof r=="string"?r.split(""):r,y=0;y<c;y++)y in g&&(h[y]=u.call(void 0,g[y],y,r));return h},E=Array.prototype.some?function(r,u){return Array.prototype.some.call(r,u,void 0)}:function(r,u){for(var c=r.length,h=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in h&&u.call(void 0,h[g],g,r))return!0;return!1};function A(r){e:{for(var u=CC,c=r.length,h=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in h&&u.call(void 0,h[g],g,r)){u=g;break e}u=-1}return 0>u?null:typeof r=="string"?r.charAt(u):r[u]}function M(r,u){return 0<=G(r,u)}function V(r,u){u=G(r,u);var c;return(c=0<=u)&&Array.prototype.splice.call(r,u,1),c}function $(r,u){var c=0;Pe(r,function(h,g){u.call(void 0,h,g,r)&&Array.prototype.splice.call(r,g,1).length==1&&c++})}function ee(r){return Array.prototype.concat.apply([],arguments)}function se(r){var u=r.length;if(0<u){for(var c=Array(u),h=0;h<u;h++)c[h]=r[h];return c}return[]}var te=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},k=/&/g,R=/</g,X=/>/g,Q=/"/g,re=/'/g,oe=/\x00/g,le=/[\x00&<>"']/;function ae(r,u){return r.indexOf(u)!=-1}function xe(r,u){return r<u?-1:r>u?1:0}var Le;e:{var tn=f.navigator;if(tn){var dn=tn.userAgent;if(dn){Le=dn;break e}}Le=""}function yt(r){return ae(Le,r)}function ci(r,u){for(var c in r)u.call(void 0,r[c],c,r)}function Ir(r){for(var u in r)return!1;return!0}function wt(r){var u={},c;for(c in r)u[c]=r[c];return u}var Mn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $t(r,u){for(var c,h,g=1;g<arguments.length;g++){h=arguments[g];for(c in h)r[c]=h[c];for(var y=0;y<Mn.length;y++)c=Mn[y],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function jy(r,u){e:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var g=h;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!r||!(r instanceof g[u])&&(r instanceof g.Location||r instanceof g.Element))){if(C(r))try{var y=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{y="<object could not be stringified>"}else y=r===void 0?"undefined":r===null?"null":typeof r;dt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,y)}}function Tr(r,u){this.a=r===Ic&&u||"",this.b=Vy}Tr.prototype.ta=!0,Tr.prototype.sa=function(){return this.a},Tr.prototype.toString=function(){return"Const{"+this.a+"}"};function Vh(r){return r instanceof Tr&&r.constructor===Tr&&r.b===Vy?r.a:(dt("expected object of type Const, got '"+r+"'"),"type_error:Const")}var Vy={},Ic={},Tc;function By(){if(Tc===void 0){var r=null,u=f.trustedTypes;if(u&&u.createPolicy){try{r=u.createPolicy("goog#html",{createHTML:ue,createScript:ue,createScriptURL:ue})}catch(c){f.console&&f.console.error(c.message)}Tc=r}else Tc=r}return Tc}function es(r,u){this.a=u===$y?r:""}es.prototype.ta=!0,es.prototype.sa=function(){return this.a.toString()},es.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function qy(r){return r instanceof es&&r.constructor===es?r.a:(dt("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function Bh(r,u){var c=Vh(r);if(!oN.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(iN,function(h,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(u));return h=u[g],h instanceof Tr?Vh(h):encodeURIComponent(String(h))}),sN(r)}var iN=/%{(\w+)}/g,oN=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,$y={};function sN(r){var u=By();return r=u?u.createScriptURL(r):r,new es(r,$y)}function Tn(r,u){this.a=u===Au?r:""}Tn.prototype.ta=!0,Tn.prototype.sa=function(){return this.a.toString()},Tn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Sc(r){return r instanceof Tn&&r.constructor===Tn?r.a:(dt("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var uN=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,aN=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Hy=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ky(r){if(r instanceof Tn)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),Hy.test(r))r=new Tn(r,Au);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var u=r.match(aN);r=u&&uN.test(u[1])?new Tn(r,Au):null}return r}function zy(r){return r instanceof Tn?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),Hy.test(r)||(r="about:invalid#zClosurez"),new Tn(r,Au))}var Au={},Gy=new Tn("about:invalid#zClosurez",Au);function ts(r,u,c){this.a=c===Wy?r:""}ts.prototype.ta=!0,ts.prototype.sa=function(){return this.a.toString()},ts.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function cN(r){return r instanceof ts&&r.constructor===ts?r.a:(dt("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var Wy={};function lN(r,u){jy(r,"HTMLScriptElement"),r.src=qy(u),(u=r.ownerDocument&&r.ownerDocument.defaultView)&&u!=f?u=m(u.document):(p===null&&(p=m(f.document)),u=p),u&&r.setAttribute("nonce",u)}function Xy(r,u,c,h){return r=r instanceof Tn?r:zy(r),u=u||f,c=c instanceof Tr?Vh(c):c||"",u.open(Sc(r),c,h,void 0)}function Qy(r,u){for(var c=r.split("%s"),h="",g=Array.prototype.slice.call(arguments,1);g.length&&1<c.length;)h+=c.shift()+g.shift();return h+c.join("%s")}function qh(r){return le.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(k,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(R,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(X,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(Q,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(re,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(oe,"&#0;"))),r}function $h(r){return $h[" "](r),r}$h[" "]=v;function fN(r,u){var c=gN;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=u(r)}var hN=yt("Opera"),sr=yt("Trident")||yt("MSIE"),Yy=yt("Edge"),dN=Yy||sr,Jy=yt("Gecko")&&!(ae(Le.toLowerCase(),"webkit")&&!yt("Edge"))&&!(yt("Trident")||yt("MSIE"))&&!yt("Edge"),pN=ae(Le.toLowerCase(),"webkit")&&!yt("Edge");function Zy(){var r=f.document;return r?r.documentMode:void 0}var Ac;e:{var Hh="",Kh=function(){var r=Le;if(Jy)return/rv:([^\);]+)(\)|;)/.exec(r);if(Yy)return/Edge\/([\d\.]+)/.exec(r);if(sr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(pN)return/WebKit\/(\S+)/.exec(r);if(hN)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Kh&&(Hh=Kh?Kh[1]:""),sr){var zh=Zy();if(zh!=null&&zh>parseFloat(Hh)){Ac=String(zh);break e}}Ac=Hh}var gN={};function e0(r){return fN(r,function(){for(var u=0,c=te(String(Ac)).split("."),h=te(String(r)).split("."),g=Math.max(c.length,h.length),y=0;u==0&&y<g;y++){var w=c[y]||"",T=h[y]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],T=/(\d*)(\D*)(.*)/.exec(T)||["","","",""],w[0].length==0&&T[0].length==0)break;u=xe(w[1].length==0?0:parseInt(w[1],10),T[1].length==0?0:parseInt(T[1],10))||xe(w[2].length==0,T[2].length==0)||xe(w[2],T[2]),w=w[3],T=T[3]}while(u==0)}return 0<=u})}var Gh;if(f.document&&sr){var t0=Zy();Gh=t0||parseInt(Ac,10)||void 0}else Gh=void 0;var li=Gh;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var mN=!sr||9<=Number(li);function ku(r){var u=document;return typeof r=="string"?u.getElementById(r):r}function n0(r,u){ci(u,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:r0.hasOwnProperty(h)?r.setAttribute(r0[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var r0={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function vN(r,u,c){var h=arguments,g=document,y=String(h[0]),w=h[1];if(!mN&&w&&(w.name||w.type)){if(y=["<",y],w.name&&y.push(' name="',qh(w.name),'"'),w.type){y.push(' type="',qh(w.type),'"');var T={};$t(T,w),delete T.type,w=T}y.push(">"),y=y.join("")}return y=kc(g,y),w&&(typeof w=="string"?y.className=w:Array.isArray(w)?y.className=w.join(" "):n0(y,w)),2<h.length&&yN(g,y,h),y}function yN(r,u,c){function h(T){T&&u.appendChild(typeof T=="string"?r.createTextNode(T):T)}for(var g=2;g<c.length;g++){var y=c[g];if(!_(y)||C(y)&&0<y.nodeType)h(y);else{e:{if(y&&typeof y.length=="number"){if(C(y)){var w=typeof y.item=="function"||typeof y.item=="string";break e}if(I(y)){w=typeof y.item=="function";break e}}w=!1}J(w?se(y):y,h)}}}function kc(r,u){return u=String(u),r.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),r.createElement(u)}function i0(r){f.setTimeout(function(){throw r},0)}var Wh;function wN(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!yt("Presto")&&(r=function(){var g=kc(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var y=g.contentWindow;g=y.document,g.open(),g.close();var w="callImmediate"+Math.random(),T=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;g=O(function(j){(T=="*"||j.origin==T)&&j.data==w&&this.port1.onmessage()},this),y.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(w,T)}}}),typeof r<"u"&&!yt("Trident")&&!yt("MSIE")){var u=new r,c={},h=c;return u.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var g=c.Hb;c.Hb=null,g()}},function(g){h.next={Hb:g},h=h.next,u.port2.postMessage(0)}}return function(g){f.setTimeout(g,0)}}function Nc(r,u){Cc||bN(),Xh||(Cc(),Xh=!0),o0.add(r,u)}var Cc;function bN(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);Cc=function(){r.then(s0)}}else Cc=function(){var u=s0;!I(f.setImmediate)||f.Window&&f.Window.prototype&&!yt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Wh||(Wh=wN()),Wh(u)):f.setImmediate(u)}}var Xh=!1,o0=new hn;function s0(){for(var r;r=K();){try{r.a.call(r.b)}catch(u){i0(u)}ut(en,r)}Xh=!1}function Fe(r,u){if(this.a=Qi,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=v)try{var c=this;r.call(u,function(h){Yi(c,Nu,h)},function(h){if(!(h instanceof ns))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Yi(c,Hr,h)})}catch(h){Yi(this,Hr,h)}}var Qi=0,Nu=2,Hr=3;function u0(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}u0.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var a0=new pt(function(){return new u0},function(r){r.reset()});function Qh(r,u,c){var h=a0.get();return h.g=r,h.b=u,h.f=c,h}function ve(r){if(r instanceof Fe)return r;var u=new Fe(v);return Yi(u,Nu,r),u}function at(r){return new Fe(function(u,c){c(r)})}function c0(r,u,c){d0(r,u,c,null)||Nc(W(u,r))}function _N(r){return new Fe(function(u,c){var h=r.length,g=[];if(h)for(var y=function(z,Ie){h--,g[z]=Ie,h==0&&u(g)},w=function(z){c(z)},T=0,j;T<r.length;T++)j=r[T],c0(j,W(y,T),w);else u(g)})}function l0(r){return new Fe(function(u){var c=r.length,h=[];if(c)for(var g=function(T,j,z){c--,h[T]=j?{Qb:!0,value:z}:{Qb:!1,reason:z},c==0&&u(h)},y=0,w;y<r.length;y++)w=r[y],c0(w,W(g,y,!0),W(g,y,!1));else u(h)})}Fe.prototype.then=function(r,u,c){return h0(this,I(r)?r:null,I(u)?u:null,c)},Fe.prototype.$goog_Thenable=!0,e=Fe.prototype,e.oa=function(r,u){return r=Qh(r,r,u),r.c=!0,Yh(this,r),this},e.o=function(r,u){return h0(this,null,r,u)},e.cancel=function(r){if(this.a==Qi){var u=new ns(r);Nc(function(){f0(this,u)},this)}};function f0(r,u){if(r.a==Qi)if(r.c){var c=r.c;if(c.b){for(var h=0,g=null,y=null,w=c.b;w&&(w.c||(h++,w.a==r&&(g=w),!(g&&1<h)));w=w.next)g||(y=w);g&&(c.a==Qi&&h==1?f0(c,u):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):g0(c),m0(c,g,Hr,u)))}r.c=null}else Yi(r,Hr,u)}function Yh(r,u){r.b||r.a!=Nu&&r.a!=Hr||p0(r),r.f?r.f.next=u:r.b=u,r.f=u}function h0(r,u,c,h){var g=Qh(null,null,null);return g.a=new Fe(function(y,w){g.g=u?function(T){try{var j=u.call(h,T);y(j)}catch(z){w(z)}}:y,g.b=c?function(T){try{var j=c.call(h,T);j===void 0&&T instanceof ns?w(T):y(j)}catch(z){w(z)}}:w}),g.a.c=r,Yh(r,g),g.a}e.$c=function(r){this.a=Qi,Yi(this,Nu,r)},e.ad=function(r){this.a=Qi,Yi(this,Hr,r)};function Yi(r,u,c){r.a==Qi&&(r===c&&(u=Hr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,d0(c,r.$c,r.ad,r)||(r.i=c,r.a=u,r.c=null,p0(r),u!=Hr||c instanceof ns||IN(r,c)))}function d0(r,u,c,h){if(r instanceof Fe)return Yh(r,Qh(u||v,c||null,h)),!0;if(Ce(r))return r.then(u,c,h),!0;if(C(r))try{var g=r.then;if(I(g))return EN(r,g,u,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function EN(r,u,c,h,g){function y(j){T||(T=!0,h.call(g,j))}function w(j){T||(T=!0,c.call(g,j))}var T=!1;try{u.call(r,w,y)}catch(j){y(j)}}function p0(r){r.h||(r.h=!0,Nc(r.gc,r))}function g0(r){var u=null;return r.b&&(u=r.b,r.b=u.next,u.next=null),r.b||(r.f=null),u}e.gc=function(){for(var r;r=g0(this);)m0(this,r,this.a,this.i);this.h=!1};function m0(r,u,c,h){if(c==Hr&&u.b&&!u.c)for(;r&&r.g;r=r.c)r.g=!1;if(u.a)u.a.c=null,v0(u,c,h);else try{u.c?u.g.call(u.f):v0(u,c,h)}catch(g){y0.call(null,g)}ut(a0,u)}function v0(r,u,c){u==Nu?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function IN(r,u){r.g=!0,Nc(function(){r.g&&y0.call(null,u)})}var y0=i0;function ns(r){we.call(this,r)}D(ns,we),ns.prototype.name="cancel";function xc(){this.ya=this.ya,this.pa=this.pa}var TN=0;xc.prototype.ya=!1;function w0(r){!r.ya&&(r.ya=!0,r.Da(),TN!=0)&&x(r)}xc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var SN=Object.freeze||function(r){return r},b0=!sr||9<=Number(li),AN=sr&&!e0("9"),kN=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,u=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",v,u),f.removeEventListener("test",v,u)}catch{}return r}();function Sn(r,u){this.type=r,this.b=this.target=u,this.defaultPrevented=!1}Sn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Ji(r,u){if(Sn.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=u,u=r.relatedTarget){if(Jy){e:{try{$h(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else c=="mouseover"?u=r.fromElement:c=="mouseout"&&(u=r.toElement);this.relatedTarget=u,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:NN[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}D(Ji,Sn);var NN=SN({2:"touch",3:"pen",4:"mouse"});Ji.prototype.preventDefault=function(){Ji.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,AN)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},Ji.prototype.g=function(){return this.a};var Cu="closure_listenable_"+(1e6*Math.random()|0),CN=0;function xN(r,u,c,h,g){this.listener=r,this.proxy=null,this.src=u,this.type=c,this.capture=!!h,this.Wa=g,this.key=++CN,this.wa=this.Qa=!1}function Rc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function Oc(r){this.src=r,this.a={},this.b=0}Oc.prototype.add=function(r,u,c,h,g){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.b++);var w=Zh(r,u,h,g);return-1<w?(u=r[w],c||(u.Qa=!1)):(u=new xN(u,this.src,y,!!h,g),u.Qa=c,r.push(u)),u};function Jh(r,u){var c=u.type;c in r.a&&V(r.a[c],u)&&(Rc(u),r.a[c].length==0&&(delete r.a[c],r.b--))}function Zh(r,u,c,h){for(var g=0;g<r.length;++g){var y=r[g];if(!y.wa&&y.listener==u&&y.capture==!!c&&y.Wa==h)return g}return-1}var ed="closure_lm_"+(1e6*Math.random()|0),td={};function Yn(r,u,c,h,g){if(h&&h.once)nd(r,u,c,h,g);else if(Array.isArray(u))for(var y=0;y<u.length;y++)Yn(r,u[y],c,h,g);else c=id(c),r&&r[Cu]?A0(r,u,c,C(h)?!!h.capture:!!h,g):_0(r,u,c,!1,h,g)}function _0(r,u,c,h,g,y){if(!u)throw Error("Invalid event type");var w=C(g)?!!g.capture:!!g,T=Dc(r);if(T||(r[ed]=T=new Oc(r)),c=T.add(u,c,h,w,y),!c.proxy)if(h=RN(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)kN||(g=w),g===void 0&&(g=!1),r.addEventListener(u.toString(),h,g);else if(r.attachEvent)r.attachEvent(I0(u.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function RN(){var r=ON,u=b0?function(c){return r.call(u.src,u.listener,c)}:function(c){if(c=r.call(u.src,u.listener,c),!c)return c};return u}function nd(r,u,c,h,g){if(Array.isArray(u))for(var y=0;y<u.length;y++)nd(r,u[y],c,h,g);else c=id(c),r&&r[Cu]?od(r,u,c,C(h)?!!h.capture:!!h,g):_0(r,u,c,!0,h,g)}function Fn(r,u,c,h,g){if(Array.isArray(u))for(var y=0;y<u.length;y++)Fn(r,u[y],c,h,g);else h=C(h)?!!h.capture:!!h,c=id(c),r&&r[Cu]?(r=r.v,u=String(u).toString(),u in r.a&&(y=r.a[u],c=Zh(y,c,h,g),-1<c&&(Rc(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete r.a[u],r.b--)))):r&&(r=Dc(r))&&(u=r.a[u.toString()],r=-1,u&&(r=Zh(u,c,h,g)),(c=-1<r?u[r]:null)&&E0(c))}function E0(r){if(typeof r!="number"&&r&&!r.wa){var u=r.src;if(u&&u[Cu])Jh(u.v,r);else{var c=r.type,h=r.proxy;u.removeEventListener?u.removeEventListener(c,h,r.capture):u.detachEvent?u.detachEvent(I0(c),h):u.addListener&&u.removeListener&&u.removeListener(h),(c=Dc(u))?(Jh(c,r),c.b==0&&(c.src=null,u[ed]=null)):Rc(r)}}}function I0(r){return r in td?td[r]:td[r]="on"+r}function T0(r,u,c,h){var g=!0;if((r=Dc(r))&&(u=r.a[u.toString()]))for(u=u.concat(),r=0;r<u.length;r++){var y=u[r];y&&y.capture==c&&!y.wa&&(y=S0(y,h),g=g&&y!==!1)}return g}function S0(r,u){var c=r.listener,h=r.Wa||r.src;return r.Qa&&E0(r),c.call(h,u)}function ON(r,u){if(r.wa)return!0;if(!b0){if(!u)e:{u=["window","event"];for(var c=f,h=0;h<u.length;h++)if(c=c[u[h]],c==null){u=null;break e}u=c}if(h=u,u=new Ji(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var g=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{g=!0}(g||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],g=u.b;g;g=g.parentNode)h.push(g);for(r=r.type,g=h.length-1;0<=g;g--){u.b=h[g];var y=T0(h[g],r,!0,u);c=c&&y}for(g=0;g<h.length;g++)u.b=h[g],y=T0(h[g],r,!1,u),c=c&&y}return c}return S0(r,new Ji(u,this))}function Dc(r){return r=r[ed],r instanceof Oc?r:null}var rd="__closure_events_fn_"+(1e9*Math.random()>>>0);function id(r){return I(r)?r:(r[rd]||(r[rd]=function(u){return r.handleEvent(u)}),r[rd])}function pn(){xc.call(this),this.v=new Oc(this),this.bc=this,this.hb=null}D(pn,xc),pn.prototype[Cu]=!0,pn.prototype.addEventListener=function(r,u,c,h){Yn(this,r,u,c,h)},pn.prototype.removeEventListener=function(r,u,c,h){Fn(this,r,u,c,h)},pn.prototype.dispatchEvent=function(r){var u,c=this.hb;if(c)for(u=[];c;c=c.hb)u.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new Sn(r,c);else if(r instanceof Sn)r.target=r.target||c;else{var g=r;r=new Sn(h,c),$t(r,g)}if(g=!0,u)for(var y=u.length-1;0<=y;y--){var w=r.b=u[y];g=Pc(w,h,!0,r)&&g}if(w=r.b=c,g=Pc(w,h,!0,r)&&g,g=Pc(w,h,!1,r)&&g,u)for(y=0;y<u.length;y++)w=r.b=u[y],g=Pc(w,h,!1,r)&&g;return g},pn.prototype.Da=function(){if(pn.bb.Da.call(this),this.v){var r=this.v,u;for(u in r.a){for(var c=r.a[u],h=0;h<c.length;h++)Rc(c[h]);delete r.a[u],r.b--}}this.hb=null};function A0(r,u,c,h,g){r.v.add(String(u),c,!1,h,g)}function od(r,u,c,h,g){r.v.add(String(u),c,!0,h,g)}function Pc(r,u,c,h){if(u=r.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,y=0;y<u.length;++y){var w=u[y];if(w&&!w.wa&&w.capture==c){var T=w.listener,j=w.Wa||w.src;w.Qa&&Jh(r.v,w),g=T.call(j,h)!==!1&&g}}return g&&!h.defaultPrevented}function sd(r,u,c){if(I(r))c&&(r=O(r,c));else if(r&&typeof r.handleEvent=="function")r=O(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:f.setTimeout(r,u||0)}function rs(r){var u=null;return new Fe(function(c,h){u=sd(function(){c(void 0)},r),u==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(u),c})}function k0(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var u=[],c=r.length,h=0;h<c;h++)u.push(r[h]);return u}u=[],c=0;for(h in r)u[c++]=r[h];return u}function N0(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var u=[];r=r.length;for(var c=0;c<r;c++)u.push(c);return u}u=[],c=0;for(var h in r)u[c++]=h;return u}}function DN(r,u){if(r.forEach&&typeof r.forEach=="function")r.forEach(u,void 0);else if(_(r)||typeof r=="string")J(r,u,void 0);else for(var c=N0(r),h=k0(r),g=h.length,y=0;y<g;y++)u.call(void 0,h[y],c&&c[y],r)}function is(r,u){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof is)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}e=is.prototype,e.X=function(){ud(this);for(var r=[],u=0;u<this.a.length;u++)r.push(this.b[this.a[u]]);return r},e.Y=function(){return ud(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function ud(r){if(r.c!=r.a.length){for(var u=0,c=0;u<r.a.length;){var h=r.a[u];Zi(r.b,h)&&(r.a[c++]=h),u++}r.a.length=c}if(r.c!=r.a.length){var g={};for(c=u=0;u<r.a.length;)h=r.a[u],Zi(g,h)||(r.a[c++]=h,g[h]=1),u++;r.a.length=c}}e.get=function(r,u){return Zi(this.b,r)?this.b[r]:u},e.set=function(r,u){Zi(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=u},e.forEach=function(r,u){for(var c=this.Y(),h=0;h<c.length;h++){var g=c[h],y=this.get(g);r.call(u,y,g,this)}};function Zi(r,u){return Object.prototype.hasOwnProperty.call(r,u)}var C0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function PN(r,u){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),g=null;if(0<=h){var y=r[c].substring(0,h);g=r[c].substring(h+1)}else y=r[c];u(y,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function fi(r,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof fi?(this.i=u!==void 0?u:r.i,xu(this,r.c),this.l=r.l,this.a=r.a,Ru(this,r.g),this.f=r.f,ad(this,D0(r.b)),this.h=r.h):r&&(c=String(r).match(C0))?(this.i=!!u,xu(this,c[1]||"",!0),this.l=Ou(c[2]||""),this.a=Ou(c[3]||"",!0),Ru(this,c[4]),this.f=Ou(c[5]||"",!0),ad(this,c[6]||"",!0),this.h=Ou(c[7]||"")):(this.i=!!u,this.b=new eo(null,this.i))}fi.prototype.toString=function(){var r=[],u=this.c;u&&r.push(Du(u,x0,!0),":");var c=this.a;return(c||u=="file")&&(r.push("//"),(u=this.l)&&r.push(Du(u,x0,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(Du(c,c.charAt(0)=="/"?FN:MN,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",Du(c,jN)),r.join("")},fi.prototype.resolve=function(r){var u=new fi(this),c=!!r.c;c?xu(u,r.c):c=!!r.l,c?u.l=r.l:c=!!r.a,c?u.a=r.a:c=r.g!=null;var h=r.f;if(c)Ru(u,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var g=u.f.lastIndexOf("/");g!=-1&&(h=u.f.substr(0,g+1)+h)}if(g=h,g==".."||g==".")h="";else if(ae(g,"./")||ae(g,"/.")){h=g.lastIndexOf("/",0)==0,g=g.split("/");for(var y=[],w=0;w<g.length;){var T=g[w++];T=="."?h&&w==g.length&&y.push(""):T==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&w==g.length&&y.push("")):(y.push(T),h=!0)}h=y.join("/")}else h=g}return c?u.f=h:c=r.b.toString()!=="",c?ad(u,D0(r.b)):c=!!r.h,c&&(u.h=r.h),u};function xu(r,u,c){r.c=c?Ou(u,!0):u,r.c&&(r.c=r.c.replace(/:$/,""))}function Ru(r,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);r.g=u}else r.g=null}function ad(r,u,c){u instanceof eo?(r.b=u,VN(r.b,r.i)):(c||(u=Du(u,UN)),r.b=new eo(u,r.i))}function It(r,u,c){r.b.set(u,c)}function Jn(r,u){return r.b.get(u)}function An(r){return r instanceof fi?new fi(r):new fi(r,void 0)}function Lc(r,u,c,h){var g=new fi(null,void 0);return r&&xu(g,r),u&&(g.a=u),c&&Ru(g,c),h&&(g.f=h),g}function Ou(r,u){return r?u?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Du(r,u,c){return typeof r=="string"?(r=encodeURI(r).replace(u,LN),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function LN(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var x0=/[#\/\?@]/g,MN=/[#\?:]/g,FN=/[#\?]/g,UN=/[#\?@]/g,jN=/#/g;function eo(r,u){this.b=this.a=null,this.c=r||null,this.f=!!u}function hi(r){r.a||(r.a=new is,r.b=0,r.c&&PN(r.c,function(u,c){r.add(decodeURIComponent(u.replace(/\+/g," ")),c)}))}function R0(r){var u=N0(r);if(typeof u>"u")throw Error("Keys are undefined");var c=new eo(null,void 0);r=k0(r);for(var h=0;h<u.length;h++){var g=u[h],y=r[h];Array.isArray(y)?O0(c,g,y):c.add(g,y)}return c}e=eo.prototype,e.add=function(r,u){hi(this),this.c=null,r=os(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(u),this.b+=1,this};function Sr(r,u){hi(r),u=os(r,u),Zi(r.a.b,u)&&(r.c=null,r.b-=r.a.get(u).length,r=r.a,Zi(r.b,u)&&(delete r.b[u],r.c--,r.a.length>2*r.c&&ud(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function cd(r,u){return hi(r),u=os(r,u),Zi(r.a.b,u)}e.forEach=function(r,u){hi(this),this.a.forEach(function(c,h){J(c,function(g){r.call(u,g,h,this)},this)},this)},e.Y=function(){hi(this);for(var r=this.a.X(),u=this.a.Y(),c=[],h=0;h<u.length;h++)for(var g=r[h],y=0;y<g.length;y++)c.push(u[h]);return c},e.X=function(r){hi(this);var u=[];if(typeof r=="string")cd(this,r)&&(u=ee(u,this.a.get(os(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)u=ee(u,r[c])}return u},e.set=function(r,u){return hi(this),this.c=null,r=os(this,r),cd(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[u]),this.b+=1,this},e.get=function(r,u){return r?(r=this.X(r),0<r.length?String(r[0]):u):u};function O0(r,u,c){Sr(r,u),0<c.length&&(r.c=null,r.a.set(os(r,u),se(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],u=this.a.Y(),c=0;c<u.length;c++){var h=u[c],g=encodeURIComponent(String(h));h=this.X(h);for(var y=0;y<h.length;y++){var w=g;h[y]!==""&&(w+="="+encodeURIComponent(String(h[y]))),r.push(w)}}return this.c=r.join("&")};function D0(r){var u=new eo;return u.c=r.c,r.a&&(u.a=new is(r.a),u.b=r.b),u}function os(r,u){return u=String(u),r.f&&(u=u.toLowerCase()),u}function VN(r,u){u&&!r.f&&(hi(r),r.c=null,r.a.forEach(function(c,h){var g=h.toLowerCase();h!=g&&(Sr(this,h),O0(this,g,c))},r)),r.f=u}function P0(r){var u=[];return ld(new BN,r,u),u.join("")}function BN(){}function ld(r,u,c){if(u==null)c.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var h=u;u=h.length,c.push("[");for(var g="",y=0;y<u;y++)c.push(g),ld(r,h[y],c),g=",";c.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{c.push("{"),g="";for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&(y=u[h],typeof y!="function"&&(c.push(g),M0(h,c),c.push(":"),ld(r,y,c),g=","));c.push("}");return}}switch(typeof u){case"string":M0(u,c);break;case"number":c.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":c.push(String(u));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var L0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},qN=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function M0(r,u){u.push('"',r.replace(qN,function(c){var h=L0[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),L0[c]=h),h}),'"')}function fd(){var r=Ht();return sr&&!!li&&li==11||/Edge\/\d+/.test(r)}function Pu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function F0(r,u){u=u||f.window;var c="about:blank";r&&(c=Sc(Ky(r)||Gy)),u.location.href=c}function U0(r,u){var c=[],h;for(h in r)h in u?typeof r[h]!=typeof u[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&u[h]!=null?0<U0(r[h],u[h]).length&&c.push(h):r[h]!==u[h]&&c.push(h):c.push(h);for(h in u)h in r||c.push(h);return c}function $N(){var r=Ht();return r=ss(r)!=q0?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!sr||!li||9<li}function j0(r){return r=(r||Ht()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function to(r){r=r||f.window;try{r.close()}catch{}}function V0(r,u,c){var h=Math.floor(1e9*Math.random()).toString();u=u||500,c=c||600;var g=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-u)/2;u={width:u,height:c,top:0<g?g:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=Ht().toLowerCase(),h&&(u.target=h,ae(c,"crios/")&&(u.target="_blank")),ss(Ht())==pd&&(r=r||"http://localhost",u.scrollbars=!0),c=r||"",(r=u)||(r={}),h=window,u=c instanceof Tn?c:Ky(typeof c.href<"u"?c.href:String(c))||Gy,c=r.target||c.target,g=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":g.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(w+"="+(r[w]?1:0))}var w=g.join(",");if((yt("iPhone")&&!yt("iPod")&&!yt("iPad")||yt("iPad")||yt("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=kc(document,"A"),jy(w,"HTMLAnchorElement"),u=u instanceof Tn?u:zy(u),w.href=Sc(u),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=Xy("",h,c,w),r=Sc(u),w&&(dN&&ae(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qh(r)+'">',r=(h=By())?h.createHTML(r):r,r=new ts(r,null,Wy),h=w.document)&&(h.write(cN(r)),h.close())):(w=Xy(u,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function HN(r){return new Fe(function(u){function c(){rs(2e3).then(function(){if(!r||r.closed)u();else return c()})}return c()})}var KN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zN=/^[^@]+@[^@]+$/;function Mc(){var r=null;return new Fe(function(u){f.document.readyState=="complete"?u():(r=function(){u()},nd(window,"load",r))}).o(function(u){throw Fn(window,"load",r),u})}function GN(){return hd(void 0)?Mc().then(function(){return new Fe(function(r,u){var c=f.document,h=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):at(Error("Cordova must run in an Android or iOS file scheme."))}function hd(r){return r=r||Ht(),!(as()!=="file:"&&as()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function dd(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function ur(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Ar(){return be.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":be.INTERNAL.hasOwnProperty("node")?"Node":ur()?"Worker":"Browser"}function B0(){var r=Ar();return r==="ReactNative"||r==="Node"}function WN(){for(var r=50,u=[];0<r;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return u.join("")}var pd="Firefox",q0="Chrome";function ss(r){var u=r.toLowerCase();if(ae(u,"opera/")||ae(u,"opr/")||ae(u,"opios/"))return"Opera";if(ae(u,"iemobile"))return"IEMobile";if(ae(u,"msie")||ae(u,"trident/"))return"IE";if(ae(u,"edge/"))return"Edge";if(ae(u,"firefox/"))return pd;if(ae(u,"silk/"))return"Silk";if(ae(u,"blackberry"))return"Blackberry";if(ae(u,"webos"))return"Webos";if(!ae(u,"safari/")||ae(u,"chrome/")||ae(u,"crios/")||ae(u,"android"))if(!ae(u,"chrome/")&&!ae(u,"crios/")||ae(u,"edge/")){if(ae(u,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return q0;else return"Safari";return"Other"}var $0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function us(r,u){u=u||[];var c=[],h={},g;for(g in $0)h[$0[g]]=!0;for(g=0;g<u.length;g++)typeof h[u[g]]<"u"&&(delete h[u[g]],c.push(u[g]));return c.sort(),u=c,u.length||(u=["FirebaseCore-web"]),c=Ar(),c==="Browser"?(h=Ht(),c=ss(h)):c==="Worker"&&(h=Ht(),c=ss(h)+"-"+c),c+"/JsCore/"+r+"/"+u.join(",")}function Ht(){return f.navigator&&f.navigator.userAgent||""}function ct(r,u){r=r.split("."),u=u||f;for(var c=0;c<r.length&&typeof u=="object"&&u!=null;c++)u=u[r[c]];return c!=r.length&&(u=void 0),u}function gd(){try{var r=f.localStorage,u=ro();if(r)return r.setItem(u,"1"),r.removeItem(u),fd()?!!f.indexedDB:!0}catch{return ur()&&!!f.indexedDB}return!1}function no(){return(Fc()||as()==="chrome-extension:"||hd())&&!B0()&&gd()&&!ur()}function Fc(){return as()==="http:"||as()==="https:"}function as(){return f.location&&f.location.protocol||null}function Lu(r){return r=r||Ht(),!(j0(r)||ss(r)==pd)}function Mu(r){return typeof r>"u"?null:P0(r)}function H0(r){var u={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(u[c]=r[c]);return u}function cs(r){if(r!==null)return JSON.parse(r)}function ro(r){return r||Math.floor(1e9*Math.random()).toString()}function K0(r){return r=r||Ht(),!(ss(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function z0(){var r=f.___jsl;if(r&&r.H){for(var u in r.H)if(r.H[u].r=r.H[u].r||[],r.H[u].L=r.H[u].L||[],r.H[u].r=r.H[u].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function di(r,u){if(r>u)throw Error("Short delay should be less than long delay!");this.a=r,this.c=u,r=Ht(),u=Ar(),this.b=j0(r)||u==="ReactNative"}di.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Fc()||as()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function md(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function XN(){var r=f.document,u=null;return md()||!r?ve():new Fe(function(c){u=function(){md()&&(r.removeEventListener("visibilitychange",u,!1),c())},r.addEventListener("visibilitychange",u,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",u,!1),c})}function Fu(r){try{var u=new Date(parseInt(r,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(r))return u.toUTCString()}catch{}return null}function G0(){return!(!ct("fireauth.oauthhelper",f)&&!ct("fireauth.iframe",f))}function QN(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function YN(){var r=f.navigator;return r&&r.serviceWorker?ve().then(function(){return r.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):ve(null)}var W0={};function vd(r){W0[r]||(W0[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var yd;try{var wd={};Object.defineProperty(wd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(wd,"abcd",{configurable:!0,enumerable:!0,value:2}),yd=wd.abcd==2}catch{yd=!1}function pe(r,u,c){yd?Object.defineProperty(r,u,{configurable:!0,enumerable:!0,value:c}):r[u]=c}function gn(r,u){if(u)for(var c in u)u.hasOwnProperty(c)&&pe(r,c,u[c])}function kr(r){var u={};return gn(u,r),u}function JN(r){var u={},c;for(c in r)r.hasOwnProperty(c)&&(u[c]=r[c]);return u}function ZN(r,u){if(!u||!u.length)return!0;if(!r)return!1;for(var c=0;c<u.length;c++){var h=r[u[c]];if(h==null||h==="")return!1}return!0}function bd(r){var u=r;if(typeof r=="object"&&r!=null){u="length"in r?[]:{};for(var c in r)pe(u,c,bd(r[c]))}return u}function _d(r){var u=r&&(r[Sd]?"phone":null);if(u&&r&&r[Td]){pe(this,"uid",r[Td]),pe(this,"displayName",r[X0]||null);var c=null;r[Id]&&(c=new Date(r[Id]).toUTCString()),pe(this,"enrollmentTime",c),pe(this,"factorId",u)}else throw new S("internal-error","Internal assert: invalid MultiFactorInfo object")}_d.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Ed(r){try{var u=new Uu(r)}catch{u=null}return u}var X0="displayName",Id="enrolledAt",Td="mfaEnrollmentId",Sd="phoneInfo";function Uu(r){_d.call(this,r),pe(this,"phoneNumber",r[Sd])}D(Uu,_d),Uu.prototype.w=function(){var r=Uu.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function eC(r){var u={},c=r[tC],h=r[rC],g=r[iC];if(r=Ed(r[nC]),!g||g!=Uc&&g!=ju&&!c||g==ju&&!h||g==Ad&&!r)throw Error("Invalid checkActionCode response!");g==ju?(u[Y0]=c||null,u[J0]=c||null,u[Q0]=h):(u[Y0]=h||null,u[J0]=h||null,u[Q0]=c||null),u[oC]=r||null,pe(this,uC,g),pe(this,sC,bd(u))}var Ad="REVERT_SECOND_FACTOR_ADDITION",Uc="EMAIL_SIGNIN",ju="VERIFY_AND_CHANGE_EMAIL",tC="email",nC="mfaInfo",rC="newEmail",iC="requestType",Q0="email",Y0="fromEmail",oC="multiFactorInfo",J0="previousEmail",sC="data",uC="operation";function kd(r){r=An(r);var u=Jn(r,Z0)||null,c=Jn(r,ew)||null,h=Jn(r,tw)||null;if(h=h&&fC[h]||null,!u||!c||!h)throw new S("argument-error",Z0+", "+ew+"and "+tw+" are required in a valid action code URL.");gn(this,{apiKey:u,operation:h,code:c,continueUrl:Jn(r,aC)||null,languageCode:Jn(r,cC)||null,tenantId:Jn(r,lC)||null})}var Z0="apiKey",ew="oobCode",aC="continueUrl",cC="languageCode",tw="mode",lC="tenantId",fC={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Ad,signIn:Uc,verifyAndChangeEmail:ju,verifyEmail:"VERIFY_EMAIL"};function nw(r){try{return new kd(r)}catch{return null}}function jc(r){var u=r[hC];if(typeof u>"u")throw new S("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new S("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var c=r[rw];if(c&&typeof c=="object"){u=c[aw];var h=c[sw];if(c=c[uw],typeof u=="string"&&u.length){if(this.a=u,typeof h<"u"&&typeof h!="boolean")throw new S("argument-error",sw+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new S("argument-error",uw+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof u<"u")throw new S("argument-error",aw+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new S("missing-android-pkg-name")}}else if(typeof c<"u")throw new S("argument-error",rw+" property must be a non null object when specified.");if(this.f=null,(u=r[ow])&&typeof u=="object"){if(u=u[cw],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new S("argument-error",cw+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new S("argument-error",ow+" property must be a non null object when specified.");if(u=r[Nd],typeof u<"u"&&typeof u!="boolean")throw new S("argument-error",Nd+" property must be a boolean when specified.");if(this.c=!!u,r=r[iw],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new S("argument-error",iw+" property must be a non empty string when specified.");this.i=r||null}var rw="android",iw="dynamicLinkDomain",Nd="handleCodeInApp",ow="iOS",hC="url",sw="installApp",uw="minimumVersion",aw="packageName",cw="bundleId";function Vc(r){var u={};u.continueUrl=r.h,u.canHandleCodeInApp=r.c,(u.androidPackageName=r.a)&&(u.androidMinimumVersion=r.b,u.androidInstallApp=r.g),u.iOSBundleId=r.f,u.dynamicLinkDomain=r.i;for(var c in u)u[c]===null&&delete u[c];return u}function dC(r){return _e(r,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var Vu=null;function pC(r){var u=[];return gC(r,function(c){u.push(c)}),u}function gC(r,u){function c(j){for(;h<r.length;){var z=r.charAt(h++),Ie=Vu[z];if(Ie!=null)return Ie;if(!/^[\s\xa0]*$/.test(z))throw Error("Unknown base64 encoding at char: "+z)}return j}mC();for(var h=0;;){var g=c(-1),y=c(0),w=c(64),T=c(64);if(T===64&&g===-1)break;u(g<<2|y>>4),w!=64&&(u(y<<4&240|w>>2),T!=64&&u(w<<6&192|T))}}function mC(){if(!Vu){Vu={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(u[c].split("")),g=0;g<h.length;g++){var y=h[g];Vu[y]===void 0&&(Vu[y]=g)}}}function Bc(r){var u=lw(r);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=r,this.a=u.exp,this.i=u.sub,r=Date.now()/1e3,this.g=u.iat||(r>this.a?this.a:r),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Bc.prototype.T=function(){return this.f},Bc.prototype.l=function(){return this.c},Bc.prototype.toString=function(){return this.h};function qc(r){try{return new Bc(r)}catch{return null}}function lw(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var u=(4-r.length%4)%4,c=0;c<u;c++)r+=".";try{var h=pC(r);for(r=[],c=u=0;u<h.length;){var g=h[u++];if(128>g)r[c++]=String.fromCharCode(g);else if(191<g&&224>g){var y=h[u++];r[c++]=String.fromCharCode((g&31)<<6|y&63)}else if(239<g&&365>g){y=h[u++];var w=h[u++],T=h[u++],j=((g&7)<<18|(y&63)<<12|(w&63)<<6|T&63)-65536;r[c++]=String.fromCharCode(55296+(j>>10)),r[c++]=String.fromCharCode(56320+(j&1023))}else y=h[u++],w=h[u++],r[c++]=String.fromCharCode((g&15)<<12|(y&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var fw="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),$c=["client_id","response_type","scope","redirect_uri","state"],Cd={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:$c},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:$c},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:$c},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:fw},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function xd(r){for(var u in Cd)if(Cd[u].fa==r)return Cd[u];return null}function hw(r){var u={};u["facebook.com"]=pw,u["google.com"]=mw,u["github.com"]=gw,u["twitter.com"]=vw;var c=r&&r[dw];try{if(c)return u[c]?new u[c](r):new Nr(r);if(typeof r[Rd]<"u")return new Od(r)}catch{}return null}var Rd="idToken",dw="providerId";function Od(r){var u=r[dw];if(!u&&r[Rd]){var c=qc(r[Rd]);c&&c.b&&(u=c.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),pe(this,"providerId",u),pe(this,"isNewUser",c)}function Nr(r){Od.call(this,r),r=cs(r.rawUserInfo||"{}"),pe(this,"profile",bd(r||{}))}D(Nr,Od);function pw(r){if(Nr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}D(pw,Nr);function gw(r){if(Nr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");pe(this,"username",this.profile&&this.profile.login||null)}D(gw,Nr);function mw(r){if(Nr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}D(mw,Nr);function vw(r){if(Nr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");pe(this,"username",r.screenName||null)}D(vw,Nr);function yw(r){var u=An(r),c=Jn(u,"link"),h=Jn(An(c),"link");return u=Jn(u,"deep_link_id"),Jn(An(u),"link")||u||h||c||r}function Hc(r,u){if(!r&&!u)throw new S("internal-error","Internal assert: no raw session string available");if(r&&u)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=u||null,this.type=this.a?Bu:Kc}var Bu="enroll",Kc="signin";Hc.prototype.Ha=function(){return this.a?ve(this.a):ve(this.b)},Hc.prototype.w=function(){return this.type==Bu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ls(){}ls.prototype.ka=function(){},ls.prototype.b=function(){},ls.prototype.c=function(){},ls.prototype.w=function(){};function fs(r,u){return r.then(function(c){if(c[lr]){var h=qc(c[lr]);if(!h||u!=h.i)throw new S("user-mismatch");return c}throw new S("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==De+"user-not-found"?new S("user-mismatch"):c})}function io(r,u){if(u)this.a=u;else throw new S("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",r)}io.prototype.ka=function(r){return np(r,Dd(this))},io.prototype.b=function(r,u){var c=Dd(this);return c.idToken=u,rp(r,c)},io.prototype.c=function(r,u){return fs(ip(r,Dd(this)),u)};function Dd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}io.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function vC(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new io(r.providerId,r.pendingToken)}catch{}return null}function Kr(r,u,c){if(this.a=null,u.idToken||u.accessToken)u.idToken&&pe(this,"idToken",u.idToken),u.accessToken&&pe(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&pe(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)pe(this,"accessToken",u.oauthToken),pe(this,"secret",u.oauthTokenSecret);else throw new S("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",c)}Kr.prototype.ka=function(r){return np(r,Pd(this))},Kr.prototype.b=function(r,u){var c=Pd(this);return c.idToken=u,rp(r,c)},Kr.prototype.c=function(r,u){var c=Pd(this);return fs(ip(r,c),u)};function Pd(r){var u={};return r.idToken&&(u.id_token=r.idToken),r.accessToken&&(u.access_token=r.accessToken),r.secret&&(u.oauth_token_secret=r.secret),u.providerId=r.providerId,r.nonce&&!r.a&&(u.nonce=r.nonce),u={postBody:R0(u).toString(),requestUri:"http://localhost"},r.a&&(delete u.postBody,u.pendingToken=r.a),u}Kr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function yC(r){if(r&&r.providerId&&r.signInMethod){var u={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Kr(r.providerId,u,r.signInMethod)}catch{}}return null}function oo(r,u){this.Qc=u||[],gn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(xd(r)||{}).Ja||null,this.pb=null}oo.prototype.Ka=function(r){return this.Jb=wt(r),this};function ww(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');oo.call(this,r,[])}D(ww,oo);function Un(r){oo.call(this,r,$c),this.a=[]}D(Un,oo),Un.prototype.Ca=function(r){return M(this.a,r)||this.a.push(r),this},Un.prototype.Rb=function(){return se(this.a)},Un.prototype.credential=function(r,u){var c;if(C(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:u||null},!c.idToken&&!c.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new Kr(this.providerId,c,this.providerId)};function so(){Un.call(this,"facebook.com")}D(so,Un),pe(so,"PROVIDER_ID","facebook.com"),pe(so,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function bw(r){if(!r)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=r;return C(r)&&(u=r.accessToken),new so().credential({accessToken:u})}function uo(){Un.call(this,"github.com")}D(uo,Un),pe(uo,"PROVIDER_ID","github.com"),pe(uo,"GITHUB_SIGN_IN_METHOD","github.com");function _w(r){if(!r)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=r;return C(r)&&(u=r.accessToken),new uo().credential({accessToken:u})}function ao(){Un.call(this,"google.com"),this.Ca("profile")}D(ao,Un),pe(ao,"PROVIDER_ID","google.com"),pe(ao,"GOOGLE_SIGN_IN_METHOD","google.com");function Ew(r,u){var c=r;return C(r)&&(c=r.idToken,u=r.accessToken),new ao().credential({idToken:c,accessToken:u})}function hs(){oo.call(this,"twitter.com",fw)}D(hs,oo),pe(hs,"PROVIDER_ID","twitter.com"),pe(hs,"TWITTER_SIGN_IN_METHOD","twitter.com");function Iw(r,u){var c=r;if(C(c)||(c={oauthToken:r,oauthTokenSecret:u}),!c.oauthToken||!c.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Kr("twitter.com",c,"twitter.com")}function pi(r,u,c){this.a=r,this.f=u,pe(this,"providerId","password"),pe(this,"signInMethod",c===Zn.EMAIL_LINK_SIGN_IN_METHOD?Zn.EMAIL_LINK_SIGN_IN_METHOD:Zn.EMAIL_PASSWORD_SIGN_IN_METHOD)}pi.prototype.ka=function(r){return this.signInMethod==Zn.EMAIL_LINK_SIGN_IN_METHOD?Ue(r,nx,{email:this.a,oobCode:this.f}):Ue(r,Yw,{email:this.a,password:this.f})},pi.prototype.b=function(r,u){return this.signInMethod==Zn.EMAIL_LINK_SIGN_IN_METHOD?Ue(r,rx,{idToken:u,email:this.a,oobCode:this.f}):Ue(r,Qw,{idToken:u,email:this.a,password:this.f})},pi.prototype.c=function(r,u){return fs(this.ka(r),u)},pi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function wC(r){return r&&r.email&&r.password?new pi(r.email,r.password,r.signInMethod):null}function Zn(){gn(this,{providerId:"password",isOAuthProvider:!1})}function Tw(r,u){if(u=Ld(u),!u)throw new S("argument-error","Invalid email link!");return new pi(r,u.code,Zn.EMAIL_LINK_SIGN_IN_METHOD)}function Ld(r){return r=yw(r),(r=nw(r))&&r.operation===Uc?r:null}gn(Zn,{PROVIDER_ID:"password"}),gn(Zn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),gn(Zn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function gi(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new S("internal-error");this.a=r,pe(this,"providerId","phone"),this.fa="phone",pe(this,"signInMethod","phone")}gi.prototype.ka=function(r){return r.gb(qu(this))},gi.prototype.b=function(r,u){var c=qu(this);return c.idToken=u,Ue(r,Ix,c)},gi.prototype.c=function(r,u){var c=qu(this);return c.operation="REAUTH",r=Ue(r,Tx,c),fs(r,u)},gi.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function bC(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var u={};return J(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(u[c]=r[c])}),new gi(u)}return null}function qu(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function zr(r){try{this.a=r||be.auth()}catch{throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}gn(this,{providerId:"phone",isOAuthProvider:!1})}zr.prototype.gb=function(r,u){var c=this.a.a;return ve(u.verify()).then(function(h){if(typeof h!="string")throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=C(r)?r.session:null,y=C(r)?r.phoneNumber:r,w;return g&&g.type==Bu?w=g.Ha().then(function(T){return GC(c,{idToken:T,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):g&&g.type==Kc?w=g.Ha().then(function(T){return WC(c,{mfaPendingCredential:T,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=zC(c,{phoneNumber:y,recaptchaToken:h}),w.then(function(T){return typeof u.reset=="function"&&u.reset(),T},function(T){throw typeof u.reset=="function"&&u.reset(),T});default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Sw(r,u){if(!r)throw new S("missing-verification-id");if(!u)throw new S("missing-verification-code");return new gi({fb:r,eb:u})}gn(zr,{PROVIDER_ID:"phone"}),gn(zr,{PHONE_SIGN_IN_METHOD:"phone"});function Md(r){if(r.temporaryProof&&r.phoneNumber)return new gi({La:r.temporaryProof,ea:r.phoneNumber});var u=r&&r.providerId;if(!u||u==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,g=r&&r.nonce,y=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(u){case"google.com":return Ew(y,c);case"facebook.com":return bw(c);case"github.com":return _w(c);case"twitter.com":return Iw(c,h);default:return c||h||y||w?w?u.indexOf("saml.")==0?new io(u,w):new Kr(u,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},u):new Un(u).credential({idToken:y,accessToken:c,rawNonce:g}):null}}catch{return null}}function Fd(r){if(!r.isOAuthProvider)throw new S("invalid-oauth-provider")}function ar(r,u,c,h,g,y,w){if(this.c=r,this.b=u||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=w||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}else throw new S("invalid-auth-event")}ar.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},ar.prototype.T=function(){return this.h},ar.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Aw(r){return r=r||{},r.type?new ar(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Ae(r.error),r.postBody,r.tenantId):null}function _C(){this.b=null,this.a=[]}var Ud=null;function EC(r){var u=Ud;u.a.push(r),u.b||(u.b=function(c){for(var h=0;h<u.a.length;h++)u.a[h](c)},r=ct("universalLinks.subscribe",f),typeof r=="function"&&r(null,u.b))}function jd(r){var u="unauthorized-domain",c=void 0,h=An(r);r=h.a,h=h.c,h=="chrome-extension"?c=Qy("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=Qy("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):u="operation-not-supported-in-this-environment",S.call(this,u,c)}D(jd,S);function $u(r,u,c){S.call(this,r,c),r=u||{},r.Kb&&pe(this,"email",r.Kb),r.ea&&pe(this,"phoneNumber",r.ea),r.credential&&pe(this,"credential",r.credential),r.$b&&pe(this,"tenantId",r.$b)}D($u,S),$u.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&$t(r,u),r},$u.prototype.toJSON=function(){return this.w()};function zc(r){if(r.code){var u=r.code||"";u.indexOf(De)==0&&(u=u.substring(De.length));var c={credential:Md(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new S(u,r.message||void 0);return new $u(u,c,r.message)}return null}function Hu(){}Hu.prototype.c=null;function kw(r){return r.c||(r.c=r.b())}var Vd;function Gc(){}D(Gc,Hu),Gc.prototype.a=function(){var r=Nw(this);return r?new ActiveXObject(r):new XMLHttpRequest},Gc.prototype.b=function(){var r={};return Nw(this)&&(r[0]=!0,r[1]=!0),r};function Nw(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<u.length;c++){var h=u[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}Vd=new Gc;function Wc(){}D(Wc,Hu),Wc.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new Cw;throw Error("Unsupported browser")},Wc.prototype.b=function(){return{}};function Cw(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Tb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=Cw.prototype,e.open=function(r,u,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,u)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Bd(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Bd(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Bd(this,1)};function Bd(r,u){r.readyState=u,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function qd(r,u,c){this.reset(r,u,c,void 0,void 0)}qd.prototype.a=null,qd.prototype.reset=function(r,u,c,h,g){delete this.a};function $d(r){this.f=r,this.b=this.c=this.a=null}function Ku(r,u){this.name=r,this.value=u}Ku.prototype.toString=function(){return this.name};var xw=new Ku("SEVERE",1e3),Hd=new Ku("WARNING",900),IC=new Ku("CONFIG",700),TC=new Ku("FINE",500);function Rw(r){return r.c?r.c:r.a?Rw(r.a):(dt("Root logger has no level set."),null)}$d.prototype.log=function(r,u,c){if(r.value>=Rw(this).value)for(I(u)&&(u=u()),r=new qd(r,String(u),this.f),c&&(r.a=c),c=this;c;)c=c.a};var Kd={},Xc=null;function zd(r){Xc||(Xc=new $d(""),Kd[""]=Xc,Xc.c=IC);var u;if(!(u=Kd[r])){u=new $d(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=zd(r.substr(0,c)),c.b||(c.b={}),c.b[h]=u,u.a=c,Kd[r]=u}return u}function er(r,u){r&&r.log(TC,u,void 0)}function Qc(r){this.f=r}D(Qc,Hu),Qc.prototype.a=function(){return new Yc(this.f)},Qc.prototype.b=function(r){return function(){return r}}({});function Yc(r){pn.call(this),this.u=r,this.h=void 0,this.readyState=Gd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=zd("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}D(Yc,pn);var Gd=0;e=Yc.prototype,e.open=function(r,u){if(this.readyState!=Gd)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=u,this.readyState=1,Gu(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(u.body=r),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,zu(this)),this.readyState=Gd},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Gu(this)),this.a&&(this.readyState=3,Gu(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,Ow(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Ow(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var u=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});u&&(this.response=this.responseText+=u),r.done?zu(this):Gu(this),this.readyState==3&&Ow(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,zu(this))},e.sc=function(r){this.a&&(this.response=r,zu(this))},e.Va=function(r){var u=this.i;u&&u.log(Hd,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&zu(this)};function zu(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Gu(r)}e.setRequestHeader=function(r,u){this.l.append(r,u)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(Hd,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(Hd,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var u=this.b.entries(),c=u.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=u.next();return r.join(`\r
`)};function Gu(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(Yc.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Wu(r){pn.call(this),this.headers=new is,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Dw,this.u=this.S=!1}D(Wu,pn);var Dw="";Wu.prototype.b=zd("goog.net.XhrIo");var SC=/^https?$/i,AC=["POST","PUT"];function kC(r,u,c,h,g){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+u);c=c?c.toUpperCase():"GET",r.l=u,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():Vd.a(),r.C=r.D?kw(r.D):kw(Vd),r.a.onreadystatechange=O(r.Wb,r);try{er(r.b,Gr(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(u),!0),r.N=!1}catch(w){er(r.b,Gr(r,"Error opening Xhr: "+w.message)),Pw(r,w);return}u=h||"";var y=new is(r.headers);g&&DN(g,function(w,T){y.set(T,w)}),g=A(y.Y()),h=f.FormData&&u instanceof f.FormData,!M(AC,c)||g||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(w,T){this.a.setRequestHeader(T,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{Fw(r),0<r.g&&(r.u=NC(r.a),er(r.b,Gr(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=O(r.Ma,r)):r.s=sd(r.Ma,r.g,r)),er(r.b,Gr(r,"Sending request")),r.i=!0,r.a.send(u),r.i=!1}catch(w){er(r.b,Gr(r,"Send error: "+w.message)),Pw(r,w)}}function NC(r){return sr&&e0(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function CC(r){return r.toLowerCase()=="content-type"}e=Wu.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",er(this.b,Gr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Pw(r,u){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=u,Lw(r),Jc(r)}function Lw(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(er(this.b,Gr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Jc(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Jc(this,!0)),Wu.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Mw(this):this.Jc())},e.Jc=function(){Mw(this)};function Mw(r){if(r.c&&typeof l<"u"){if(r.C[1]&&Xu(r)==4&&Zc(r)==2)er(r.b,Gr(r,"Local request error detected and ignored"));else if(r.i&&Xu(r)==4)sd(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),Xu(r)==4){er(r.b,Gr(r,"Request complete")),r.c=!1;try{var u=Zc(r);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var h;if(!(h=c)){var g;if(g=u===0){var y=String(r.l).match(C0)[1]||null;if(!y&&f.self&&f.self.location){var w=f.self.location.protocol;y=w.substr(0,w.length-1)}g=!SC.test(y?y.toLowerCase():"")}h=g}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var T=2<Xu(r)?r.a.statusText:""}catch(j){er(r.b,"Can not get status: "+j.message),T=""}r.h=T+" ["+Zc(r)+"]",Lw(r)}}finally{Jc(r)}}}}function Jc(r,u){if(r.a){Fw(r);var c=r.a,h=r.C[0]?v:null;r.a=null,r.C=null,u||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(g){(r=r.b)&&r.log(xw,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function Fw(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function Xu(r){return r.a?r.a.readyState:0}function Zc(r){try{return 2<Xu(r)?r.a.status:-1}catch{return-1}}function xC(r){try{return r.a?r.a.responseText:""}catch(u){return er(r.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Dw:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(xw,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return er(this.b,"Can not get response: "+u.message),null}};function Gr(r,u){return u+" ["+r.P+" "+r.l+" "+Zc(r)+"]"}function co(r){var u=DC;this.g=[],this.u=u,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}co.prototype.cancel=function(r){if(this.a)this.c instanceof co&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,r?u.cancel(r):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new Yu,el(this),Qu(this,!1,r))}},co.prototype.m=function(r,u){this.i=!1,Qu(this,r,u)};function Qu(r,u,c){r.a=!0,r.c=c,r.f=!u,jw(r)}function el(r){if(r.a){if(!r.v)throw new tl;r.v=!1}}function RC(r,u){Wd(r,null,u,void 0)}function Wd(r,u,c,h){r.g.push([u,c,h]),r.a&&jw(r)}co.prototype.then=function(r,u,c){var h,g,y=new Fe(function(w,T){h=w,g=T});return Wd(this,h,function(w){w instanceof Yu?y.cancel():g(w)}),y.then(r,u,c)},co.prototype.$goog_Thenable=!0;function Uw(r){return E(r.g,function(u){return I(u[1])})}function jw(r){if(r.h&&r.a&&Uw(r)){var u=r.h,c=nl[u];c&&(f.clearTimeout(c.a),delete nl[u]),r.h=0}r.b&&(r.b.l--,delete r.b),u=r.c;for(var h=c=!1;r.g.length&&!r.i;){var g=r.g.shift(),y=g[0],w=g[1];if(g=g[2],y=r.f?w:y)try{var T=y.call(g||r.s,u);T!==void 0&&(r.f=r.f&&(T==u||T instanceof Error),r.c=u=T),(Ce(u)||typeof f.Promise=="function"&&u instanceof f.Promise)&&(h=!0,r.i=!0)}catch(j){u=j,r.f=!0,Uw(r)||(c=!0)}}r.c=u,h&&(T=O(r.m,r,!0),h=O(r.m,r,!1),u instanceof co?(Wd(u,T,h),u.C=!0):u.then(T,h)),c&&(u=new Vw(u),nl[u.a]=u,r.h=u.a)}function tl(){we.call(this)}D(tl,we),tl.prototype.message="Deferred has already fired",tl.prototype.name="AlreadyCalledError";function Yu(){we.call(this)}D(Yu,we),Yu.prototype.message="Deferred was canceled",Yu.prototype.name="CanceledError";function Vw(r){this.a=f.setTimeout(O(this.c,this),0),this.b=r}Vw.prototype.c=function(){throw delete nl[this.a],this.b};var nl={};function Xd(r){var u={},c=u.document||document,h=qy(r).toString(),g=kc(document,"SCRIPT"),y={Xb:g,Ma:void 0},w=new co(y),T=null,j=u.timeout!=null?u.timeout:5e3;return 0<j&&(T=window.setTimeout(function(){rl(g,!0);var z=new Qd(LC,"Timeout reached for loading script "+h);el(w),Qu(w,!1,z)},j),y.Ma=T),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(rl(g,u.xd||!1,T),el(w),Qu(w,!0,null))},g.onerror=function(){rl(g,!0,T);var z=new Qd(PC,"Error while loading script "+h);el(w),Qu(w,!1,z)},y=u.attributes||{},$t(y,{type:"text/javascript",charset:"UTF-8"}),n0(g,y),lN(g,r),OC(c).appendChild(g),w}function OC(r){var u;return(u=(r||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:r.documentElement}function DC(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&rl(r,!0,this.Ma)}}function rl(r,u,c){c!=null&&f.clearTimeout(c),r.onload=v,r.onerror=v,r.onreadystatechange=v,u&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var PC=0,LC=1;function Qd(r,u){var c="Jsloader error (code #"+r+")";u&&(c+=": "+u),we.call(this,c),this.code=r}D(Qd,we);function il(r){this.f=r}D(il,Hu),il.prototype.a=function(){return new this.f},il.prototype.b=function(){return{}};function cr(r,u,c){if(this.c=r,r=u||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||MC,this.g=wt(r.secureTokenHeaders||FC),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||UC,this.a=wt(r.firebaseHeaders||jC),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Ar()=="Node",c=f.XMLHttpRequest||c&&be.INTERNAL.node&&be.INTERNAL.node.XMLHttpRequest,!c&&!ur())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ur()?this.f=new Qc(self):B0()?this.f=new il(c):this.f=new Wc,this.b=null}var Yd,lr="idToken",MC=new di(3e4,6e4),FC={"Content-Type":"application/x-www-form-urlencoded"},UC=new di(3e4,6e4),jC={"Content-Type":"application/json"};function Bw(r,u){u?r.a["X-Firebase-Locale"]=u:delete r.a["X-Firebase-Locale"]}function ol(r,u){u&&(r.l=Jd("https://securetoken.googleapis.com/v1/token",u),r.h=Jd("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),r.i=Jd("https://identitytoolkit.googleapis.com/v2/",u))}function Jd(r,u){return r=An(r),u=An(u.url),r.f=r.a+r.f,xu(r,u.c),r.a=u.a,Ru(r,u.g),r.toString()}function qw(r,u){u?(r.a["X-Client-Version"]=u,r.g["X-Client-Version"]=u):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}cr.prototype.T=function(){return this.b};function $w(r,u,c,h,g,y,w){$N()||ur()?r=O(r.u,r):(Yd||(Yd=new Fe(function(T,j){BC(T,j)})),r=O(r.s,r)),r(u,c,h,g,y,w)}cr.prototype.u=function(r,u,c,h,g,y){if(ur()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Wu(this.f);if(y){w.g=Math.max(0,y);var T=setTimeout(function(){w.dispatchEvent("timeout")},y)}A0(w,"complete",function(){T&&clearTimeout(T);var j=null;try{j=JSON.parse(xC(this))||null}catch{j=null}u&&u(j)}),od(w,"ready",function(){T&&clearTimeout(T),w0(this)}),od(w,"timeout",function(){T&&clearTimeout(T),w0(this),u&&u(null)}),kC(w,r,c,h,g)};var VC=new Tr(Ic,"https://apis.google.com/js/client.js?onload=%{onload}"),Hw="__fcb"+Math.floor(1e6*Math.random()).toString();function BC(r,u){if(((window.gapi||{}).client||{}).request)r();else{f[Hw]=function(){((window.gapi||{}).client||{}).request?r():u(Error("CORS_UNSUPPORTED"))};var c=Bh(VC,{onload:Hw});RC(Xd(c),function(){u(Error("CORS_UNSUPPORTED"))})}}cr.prototype.s=function(r,u,c,h,g){var y=this;Yd.then(function(){window.gapi.client.setApiKey(y.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:g,authType:"none",callback:function(T){window.gapi.auth.setToken(w),u&&u(T)}})}).o(function(w){u&&u({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function qC(r,u){return new Fe(function(c,h){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?$w(r,r.l+"?key="+encodeURIComponent(r.c),function(g){g?g.error?h(sp(g)):g.access_token&&g.refresh_token?c(g):h(new S("internal-error")):h(new S("network-request-failed"))},"POST",R0(u).toString(),r.g,r.m.get()):h(new S("internal-error"))})}function Kw(r,u,c,h,g,y,w){var T=An(u+c);It(T,"key",r.c),w&&It(T,"cb",Date.now().toString());var j=h=="GET";if(j)for(var z in g)g.hasOwnProperty(z)&&It(T,z,g[z]);return new Fe(function(Ie,Je){$w(r,T.toString(),function(He){He?He.error?Je(sp(He,y||{})):Ie(He):Je(new S("network-request-failed"))},h,j?void 0:P0(H0(g)),r.a,r.v.get())})}function lo(r){if(r=r.email,typeof r!="string"||!zN.test(r))throw new S("invalid-email")}function zw(r){"email"in r&&lo(r)}function $C(r,u){return Ue(r,ZC,{identifier:u,continueUri:Fc()?Pu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function HC(r){return Ue(r,fx,{}).then(function(u){return u.authorizedDomains||[]})}function kn(r){if(!r[lr])throw r.mfaPendingCredential?new S("multi-factor-auth-required",null,wt(r)):new S("internal-error")}function Zd(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new S("internal-error")}else{if(!r.sessionInfo)throw new S("missing-verification-id");if(!r.code)throw new S("missing-verification-code")}}cr.prototype.Ab=function(){return Ue(this,gx,{})},cr.prototype.Cb=function(r,u){return Ue(this,Xw,{idToken:r,email:u})},cr.prototype.Db=function(r,u){return Ue(this,Qw,{idToken:r,password:u})};var KC={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=cr.prototype,e.Eb=function(r,u){var c={idToken:r},h=[];return ci(KC,function(g,y){var w=u[y];w===null?h.push(g):y in u&&(c[y]=w)}),h.length&&(c.deleteAttribute=h),Ue(this,Xw,c)},e.wb=function(r,u){return r={requestType:"PASSWORD_RESET",email:r},$t(r,u),Ue(this,lx,r)},e.xb=function(r,u){return r={requestType:"EMAIL_SIGNIN",email:r},$t(r,u),Ue(this,ux,r)},e.vb=function(r,u){return r={requestType:"VERIFY_EMAIL",idToken:r},$t(r,u),Ue(this,ax,r)},e.Fb=function(r,u,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:u},$t(r,c),Ue(this,cx,r)};function zC(r,u){return Ue(r,px,u)}e.gb=function(r){return Ue(this,Ex,r)};function GC(r,u){return Ue(r,mx,u).then(function(c){return c.phoneSessionInfo.sessionInfo})}function Gw(r){if(!r.phoneVerificationInfo)throw new S("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new S("missing-verification-code")}function WC(r,u){return Ue(r,vx,u).then(function(c){return c.phoneResponseInfo.sessionInfo})}function XC(r,u,c){return Ue(r,tx,{idToken:u,deleteProvider:c})}function ep(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new S("internal-error")}function tp(r,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(r.sessionId?u.nonce=r.sessionId:r.postBody&&(r=new eo(r.postBody),cd(r,"nonce")&&(u.nonce=r.get("nonce")))),u}function Ww(r){var u=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",u=zc(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",u=zc(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",u=zc(r)):r.errorMessage&&(u=Jw(r.errorMessage)),u)throw u;kn(r)}function np(r,u){return u.returnIdpCredential=!0,Ue(r,yx,u)}function rp(r,u){return u.returnIdpCredential=!0,Ue(r,bx,u)}function ip(r,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Ue(r,wx,u)}function op(r){if(!r.oobCode)throw new S("invalid-action-code")}e.ob=function(r,u){return Ue(this,dx,{oobCode:r,newPassword:u})},e.Sa=function(r){return Ue(this,YC,{oobCode:r})},e.kb=function(r){return Ue(this,QC,{oobCode:r})};var QC={endpoint:"setAccountInfo",A:op,Z:"email",B:!0},YC={endpoint:"resetPassword",A:op,G:function(r){var u=r.requestType;if(!u||!r.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new S("internal-error")},B:!0},JC={endpoint:"signupNewUser",A:function(r){if(lo(r),!r.password)throw new S("weak-password")},G:kn,V:!0,B:!0},ZC={endpoint:"createAuthUri",B:!0},ex={endpoint:"deleteAccount",O:["idToken"]},tx={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new S("internal-error")}},nx={endpoint:"emailLinkSignin",O:["email","oobCode"],A:lo,G:kn,V:!0,B:!0},rx={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:lo,G:kn,V:!0},ix={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Gw,G:kn,B:!0,Na:!0},ox={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Gw,G:kn,B:!0,Na:!0},sx={endpoint:"getAccountInfo"},ux={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new S("internal-error");lo(r)},Z:"email",B:!0},ax={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new S("internal-error")},Z:"email",B:!0},cx={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new S("internal-error")},Z:"email",B:!0},lx={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new S("internal-error");lo(r)},Z:"email",B:!0},fx={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},hx={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new S("internal-error")}},dx={endpoint:"resetPassword",A:op,Z:"email",B:!0},px={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Xw={endpoint:"setAccountInfo",O:["idToken"],A:zw,V:!0},Qw={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(zw(r),!r.password)throw new S("weak-password")},G:kn,V:!0},gx={endpoint:"signupNewUser",G:kn,V:!0,B:!0},mx={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new S("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},vx={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},yx={endpoint:"verifyAssertion",A:ep,Za:tp,G:Ww,V:!0,B:!0},wx={endpoint:"verifyAssertion",A:ep,Za:tp,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new S("user-not-found");if(r.errorMessage)throw Jw(r.errorMessage);kn(r)},V:!0,B:!0},bx={endpoint:"verifyAssertion",A:function(r){if(ep(r),!r.idToken)throw new S("internal-error")},Za:tp,G:Ww,V:!0},_x={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new S("invalid-custom-token")},G:kn,V:!0,B:!0},Yw={endpoint:"verifyPassword",A:function(r){if(lo(r),!r.password)throw new S("wrong-password")},G:kn,V:!0,B:!0},Ex={endpoint:"verifyPhoneNumber",A:Zd,G:kn,B:!0},Ix={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new S("internal-error");Zd(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",zc(r);kn(r)}},Tx={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Zd,G:kn,B:!0},Sx={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[lr]^!!r.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function Ue(r,u,c){if(!ZN(c,u.O))return at(new S("internal-error"));var h=!!u.Na,g=u.Vb||"POST",y;return ve(c).then(u.A).then(function(){return u.V&&(c.returnSecureToken=!0),u.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?Kw(r,r.i,u.endpoint,g,c,u.Ib,u.mb||!1):Kw(r,r.h,u.endpoint,g,c,u.Ib,u.mb||!1)}).then(function(w){return y=w,u.Za?u.Za(c,y):y}).then(u.G).then(function(){if(!u.Z)return y;if(!(u.Z in y))throw new S("internal-error");return y[u.Z]})}function Jw(r){return sp({error:{errors:[{message:r}],code:400,message:r}})}function sp(r,u){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new S(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},$t(h,u||{}),u=(u=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in h)if(c.indexOf(g)===0)return new S(h[g],u);return!u&&r&&(u=Mu(r)),new S("internal-error",u)}function Ax(r){this.b=r,this.a=null,this.sb=kx(this)}function kx(r){return Dx().then(function(){return new Fe(function(u,c){ct("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:ct("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function g(){clearTimeout(y),u()}r.a=h,r.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},Ox.get());h.ping(g).then(g,function(){c(Error("Network Error"))})})})})}function Nx(r,u){return r.sb.then(function(){return new Fe(function(c){r.a.send(u.type,u,c,ct("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Cx(r,u){r.sb.then(function(){r.a.register("authEvent",u,ct("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var xx=new Tr(Ic,"https://apis.google.com/js/api.js?onload=%{onload}"),Rx=new di(3e4,6e4),Ox=new di(5e3,15e3),sl=null;function Dx(){return sl||(sl=new Fe(function(r,u){function c(){z0(),ct("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){z0(),u(Error("Network Error"))},timeout:Rx.get()})}if(ct("gapi.iframes.Iframe"))r();else if(ct("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){ct("gapi.load")?c():u(Error("Network Error"))},h=Bh(xx,{onload:h}),ve(Xd(h)).o(function(){u(Error("Network Error"))})}}).o(function(r){throw sl=null,r}))}function Zw(r,u,c,h){this.l=r,this.h=u,this.i=c,this.g=h,this.f=null,this.g?(r=An(this.g.url),r=Lc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Lc("https",this.l,null,"/__/auth/iframe"),this.a=r,It(this.a,"apiKey",this.h),It(this.a,"appName",this.i),this.b=null,this.c=[]}Zw.prototype.toString=function(){return this.f?It(this.a,"v",this.f):Sr(this.a.b,"v"),this.b?It(this.a,"eid",this.b):Sr(this.a.b,"eid"),this.c.length?It(this.a,"fw",this.c.join(",")):Sr(this.a.b,"fw"),this.a.toString()};function up(r,u,c,h,g,y){this.u=r,this.s=u,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}up.prototype.zb=function(r){return this.h=r,this},up.prototype.toString=function(){if(this.v){var r=An(this.v.url);r=Lc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Lc("https",this.u,null,"/__/auth/handler");if(It(r,"apiKey",this.s),It(r,"appName",this.c),It(r,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var c=be.app(this.c).auth().la()}catch{c=null}u.pb=c,It(r,"providerId",this.a.providerId),c=this.a,u=H0(c.Jb);for(var h in u)u[h]=u[h].toString();h=c.Qc,u=wt(u);for(var g=0;g<h.length;g++){var y=h[g];y in u&&delete u[y]}c.qb&&c.pb&&!u[c.qb]&&(u[c.qb]=c.pb),Ir(u)||It(r,"customParameters",Mu(u))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&It(r,"scopes",c.join(","))),this.l?It(r,"redirectUrl",this.l):Sr(r.b,"redirectUrl"),this.g?It(r,"eventId",this.g):Sr(r.b,"eventId"),this.i?It(r,"v",this.i):Sr(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Jn(r,w)&&It(r,w,this.b[w]);return this.h?It(r,"tid",this.h):Sr(r.b,"tid"),this.f?It(r,"eid",this.f):Sr(r.b,"eid"),w=ap(this.c),w.length&&It(r,"fw",w.join(",")),r.toString()};function ap(r){try{return be.app(r).auth().Ga()}catch{return[]}}function eb(r,u,c,h,g,y){this.s=r,this.g=u,this.b=c,this.f=y,this.c=h||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function tb(r){var u=Pu();return HC(r).then(function(c){e:{var h=An(u),g=h.c;h=h.a;for(var y=0;y<c.length;y++){var w=c[y],T=h,j=g;if(w.indexOf("chrome-extension://")==0?T=An(w).a==T&&j=="chrome-extension":j!="http"&&j!="https"?T=!1:KN.test(w)?T=T==w:(w=w.split(".").join("\\."),T=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(T)),T){c=!0;break e}}c=!1}if(!c)throw new jd(Pu())})}function nb(r){return r.m||(r.m=Mc().then(function(){if(!r.u){var u=r.c,c=r.i,h=ap(r.b),g=new Zw(r.s,r.g,r.b,r.f);g.f=u,g.b=c,g.c=se(h||[]),r.u=g.toString()}r.v=new Ax(r.u),Px(r)})),r.m}e=eb.prototype,e.Pb=function(r,u,c){var h=new S("popup-closed-by-user"),g=new S("web-storage-unsupported"),y=this,w=!1;return this.ma().then(function(){Lx(y).then(function(T){T||(r&&to(r),u(g),w=!0)})}).o(function(){}).then(function(){if(!w)return HN(r)}).then(function(){if(!w)return rs(c).then(function(){u(h)})})},e.Yb=function(){var r=Ht();return!Lu(r)&&!K0(r)},e.Ub=function(){return!1},e.Nb=function(r,u,c,h,g,y,w,T){if(!r)return at(new S("popup-blocked"));if(w&&!Lu())return this.ma().o(function(z){to(r),g(z)}),h(),ve();this.a||(this.a=tb(rb(this)));var j=this;return this.a.then(function(){var z=j.ma().o(function(Ie){throw to(r),g(Ie),Ie});return h(),z}).then(function(){if(Fd(c),!w){var z=Ju(j.s,j.g,j.b,u,c,null,y,j.c,void 0,j.i,T,j.f);F0(z,r)}}).o(function(z){throw z.code=="auth/network-request-failed"&&(j.a=null),z})};function rb(r){return r.l||(r.C=r.c?us(r.c,ap(r.b)):null,r.l=new cr(r.g,Ve(r.i),r.C),r.f&&ol(r.l,r.f)),r.l}e.Ob=function(r,u,c,h){this.a||(this.a=tb(rb(this)));var g=this;return this.a.then(function(){Fd(u);var y=Ju(g.s,g.g,g.b,r,u,Pu(),c,g.c,void 0,g.i,h,g.f);F0(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(g.a=null),y})},e.ma=function(){var r=this;return nb(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new S("network-request-failed")})},e.ac=function(){return!0};function Ju(r,u,c,h,g,y,w,T,j,z,Ie,Je){return r=new up(r,u,c,h,g,Je),r.l=y,r.g=w,r.i=T,r.b=wt(j||null),r.f=z,r.zb(Ie).toString()}function Px(r){if(!r.v)throw Error("IfcHandler must be initialized!");Cx(r.v,function(u){var c={};if(u&&u.authEvent){var h=!1;for(u=Aw(u.authEvent),c=0;c<r.h.length;c++)h=r.h[c](u)||h;return c={},c.status=h?"ACK":"ERROR",ve(c)}return c.status="ERROR",ve(c)})}function Lx(r){var u={type:"webStorageSupport"};return nb(r).then(function(){return Nx(r.v,u)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){$(this.h,function(u){return u==r})};function ib(r){if(this.a=r||be.INTERNAL.reactNative&&be.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=ib.prototype,e.get=function(r){return ve(this.a.getItem(r)).then(function(u){return u&&cs(u)})},e.set=function(r,u){return ve(this.a.setItem(r,Mu(u)))},e.U=function(r){return ve(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function ob(r){this.b=r,this.a={},this.f=O(this.c,this)}var sb=[];function Mx(){var r=ur()?self:null;if(J(sb,function(c){c.b==r&&(u=c)}),!u){var u=new ob(r);sb.push(u)}return u}ob.prototype.c=function(r){var u=r.data.eventType,c=r.data.eventId,h=this.a[u];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:u,response:null});var g=[];J(h,function(y){g.push(ve().then(function(){return y(r.origin,r.data.data)}))}),l0(g).then(function(y){var w=[];J(y,function(T){w.push({fulfilled:T.Qb,value:T.value,reason:T.reason?T.reason.message:void 0})}),J(w,function(T){for(var j in T)typeof T[j]>"u"&&delete T[j]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:u,response:w})})}};function ub(r,u,c){Ir(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[u]>"u"&&(r.a[u]=[]),r.a[u].push(c)}function ab(r){this.a=r}ab.prototype.postMessage=function(r,u){this.a.postMessage(r,u)};function cb(r){this.c=r,this.b=!1,this.a=[]}function lb(r,u,c,h){var g,y=c||{},w,T,j,z=null;if(r.b)return at(Error("connection_unavailable"));var Ie=h?800:50,Je=typeof MessageChannel<"u"?new MessageChannel:null;return new Fe(function(He,Ut){Je?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),Je.port1.start(),T=setTimeout(function(){Ut(Error("unsupported_event"))},Ie),w=function(Wr){Wr.data.eventId===g&&(Wr.data.status==="ack"?(clearTimeout(T),j=setTimeout(function(){Ut(Error("timeout"))},3e3)):Wr.data.status==="done"?(clearTimeout(j),typeof Wr.data.response<"u"?He(Wr.data.response):Ut(Error("unknown_error"))):(clearTimeout(T),clearTimeout(j),Ut(Error("invalid_response"))))},z={messageChannel:Je,onMessage:w},r.a.push(z),Je.port1.addEventListener("message",w),r.c.postMessage({eventType:u,eventId:g,data:y},[Je.port2])):Ut(Error("connection_unavailable"))}).then(function(He){return cp(r,z),He}).o(function(He){throw cp(r,z),He})}function cp(r,u){if(u){var c=u.messageChannel,h=u.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),$(r.a,function(g){return g==u})}}cb.prototype.close=function(){for(;0<this.a.length;)cp(this,this.a[0]);this.b=!0};function fb(){if(!hp())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;ur()&&self?(this.v=Mx(),ub(this.v,"keyChanged",function(u,c){return pb(r).then(function(h){return 0<h.length&&J(r.a,function(g){g(h)}),{keyProcessed:M(h,c.key)}})}),ub(this.v,"ping",function(){return ve(["keyChanged"])})):YN().then(function(u){(r.h=u)&&(r.g=new cb(new ab(u)),lb(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&M(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var lp;function Fx(r){return new Fe(function(u,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){u()},h.onerror=function(g){c(Error(g.target.error))}})}function hb(r){return new Fe(function(u,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(g){try{g.preventDefault()}catch{}c(Error(g.target.error))},h.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):Fx(r).then(function(){return hb(r)}).then(function(y){u(y)}).o(function(y){c(y)})}})}function fp(r){return r.i||(r.i=hb(r)),r.i}function ul(r,u){function c(g,y){fp(r).then(u).then(g).o(function(w){if(3<++h)y(w);else return fp(r).then(function(T){return T.close(),r.i=void 0,c(g,y)}).o(function(T){y(T)})})}var h=0;return new Fe(c)}function hp(){try{return!!f.indexedDB}catch{return!1}}function Zu(r){return r.objectStore("firebaseLocalStorage")}function ea(r,u){return r.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function ds(r){return new Fe(function(u,c){r.onsuccess=function(h){h&&h.target?u(h.target.result):u()},r.onerror=function(h){c(h.target.error)}})}e=fb.prototype,e.set=function(r,u){var c=this,h=!1;return ul(this,function(g){return g=Zu(ea(g,!0)),ds(g.get(r))}).then(function(g){return ul(c,function(y){if(y=Zu(ea(y,!0)),g)return g.value=u,ds(y.put(g));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=u,ds(y.add(w))})}).then(function(){return c.c[r]=u,db(c,r)}).oa(function(){h&&c.b--})};function db(r,u){return r.g&&r.h&&QN()===r.h?lb(r.g,"keyChanged",{key:u},r.s).then(function(){}).o(function(){}):ve()}e.get=function(r){return ul(this,function(u){return ds(Zu(ea(u,!1)).get(r))}).then(function(u){return u&&u.value})},e.U=function(r){var u=this,c=!1;return ul(this,function(h){return c=!0,u.b++,ds(Zu(ea(h,!0)).delete(r))}).then(function(){return delete u.c[r],db(u,r)}).oa(function(){c&&u.b--})};function pb(r){return fp(r).then(function(u){var c=Zu(ea(u,!1));return c.getAll?ds(c.getAll()):new Fe(function(h,g){var y=[],w=c.openCursor();w.onsuccess=function(T){(T=T.target.result)?(y.push(T.value),T.continue()):h(y)},w.onerror=function(T){g(T.target.error)}})}).then(function(u){var c={},h=[];if(r.b==0){for(h=0;h<u.length;h++)c[u[h].fbase_key]=u[h].value;h=U0(r.c,c),r.c=c}return h})}e.ca=function(r){this.a.length==0&&Ux(this),this.a.push(r)},e.ia=function(r){$(this.a,function(u){return u==r}),this.a.length==0&&gb(this)};function Ux(r){function u(){r.f=setTimeout(function(){r.l=pb(r).then(function(c){0<c.length&&J(r.a,function(h){h(c)})}).then(function(){u()}).o(function(c){c.message!="STOP_EVENT"&&u()})},800)}gb(r),u()}function gb(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function mb(r){var u=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=ve().then(function(){if(hp()){var h=ro(),g="__sak"+h;return lp||(lp=new fb),c=lp,c.set(g,h).then(function(){return c.get(g)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(g)}).then(function(){return c}).o(function(){return u.c})}return u.c}).then(function(h){return u.type=h.type,h.ca(function(g){J(u.a,function(y){y(g)})}),h})}e=mb.prototype,e.get=function(r){return this.b.then(function(u){return u.get(r)})},e.set=function(r,u){return this.b.then(function(c){return c.set(r,u)})},e.U=function(r){return this.b.then(function(u){return u.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){$(this.a,function(u){return u==r})};function ta(){this.a={},this.type="inMemory"}e=ta.prototype,e.get=function(r){return ve(this.a[r])},e.set=function(r,u){return this.a[r]=u,ve()},e.U=function(r){return delete this.a[r],ve()},e.ca=function(){},e.ia=function(){};function al(){if(!jx())throw Ar()=="Node"?new S("internal-error","The LocalStorage compatibility library was not found."):new S("web-storage-unsupported");this.a=vb()||be.INTERNAL.node.localStorage,this.type="localStorage"}function vb(){try{var r=f.localStorage,u=ro();return r&&(r.setItem(u,"1"),r.removeItem(u)),r}catch{return null}}function jx(){var r=Ar()=="Node";if(r=vb()||r&&be.INTERNAL.node&&be.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=al.prototype,e.get=function(r){var u=this;return ve().then(function(){var c=u.a.getItem(r);return cs(c)})},e.set=function(r,u){var c=this;return ve().then(function(){var h=Mu(u);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var u=this;return ve().then(function(){u.a.removeItem(r)})},e.ca=function(r){f.window&&Yn(f.window,"storage",r)},e.ia=function(r){f.window&&Fn(f.window,"storage",r)};function dp(){this.type="nullStorage"}e=dp.prototype,e.get=function(){return ve(null)},e.set=function(){return ve()},e.U=function(){return ve()},e.ca=function(){},e.ia=function(){};function pp(){if(!Vx())throw Ar()=="Node"?new S("internal-error","The SessionStorage compatibility library was not found."):new S("web-storage-unsupported");this.a=yb()||be.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function yb(){try{var r=f.sessionStorage,u=ro();return r&&(r.setItem(u,"1"),r.removeItem(u)),r}catch{return null}}function Vx(){var r=Ar()=="Node";if(r=yb()||r&&be.INTERNAL.node&&be.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=pp.prototype,e.get=function(r){var u=this;return ve().then(function(){var c=u.a.getItem(r);return cs(c)})},e.set=function(r,u){var c=this;return ve().then(function(){var h=Mu(u);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var u=this;return ve().then(function(){u.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function Bx(){var r={};r.Browser=qx,r.Node=$x,r.ReactNative=Hx,r.Worker=Kx,this.a=r[Ar()]}var gp,qx={F:al,cb:pp},$x={F:al,cb:pp},Hx={F:ib,cb:dp},Kx={F:al,cb:dp},ps={rd:"local",NONE:"none",td:"session"};function zx(r){var u=new S("invalid-persistence-type"),c=new S("unsupported-persistence-type");e:{for(h in ps)if(ps[h]==r){var h=!0;break e}h=!1}if(!h||typeof r!="string")throw u;switch(Ar()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!hp()&&r!=="none")throw c;break;default:if(!gd()&&r!=="none")throw c}}function wb(){var r=!!(!K0(Ht())&&dd()),u=Lu(),c=gd();this.m=r,this.h=u,this.l=c,this.a={},gp||(gp=new Bx),r=gp;try{this.g=!fd()&&G0()||!f.indexedDB?new r.a.F:new mb(ur()?new ta:new r.a.F)}catch{this.g=new ta,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new ta}this.v=new ta,this.f=O(this.Zb,this),this.b={}}var mp;function na(){return mp||(mp=new wb),mp}function fo(r,u){switch(u){case"session":return r.i;case"none":return r.v;default:return r.g}}function gs(r,u){return"firebase:"+r.name+(u?":"+u:"")}function Gx(r,u,c){var h=gs(u,c),g=fo(r,u.F);return r.get(u,c).then(function(y){var w=null;try{w=cs(f.localStorage.getItem(h))}catch{}if(w&&!y)return f.localStorage.removeItem(h),r.set(u,w,c);w&&y&&g.type!="localStorage"&&f.localStorage.removeItem(h)})}e=wb.prototype,e.get=function(r,u){return fo(this,r.F).get(gs(r,u))};function ms(r,u,c){return c=gs(u,c),u.F=="local"&&(r.b[c]=null),fo(r,u.F).U(c)}e.set=function(r,u,c){var h=gs(r,c),g=this,y=fo(this,r.F);return y.set(h,u).then(function(){return y.get(h)}).then(function(w){r.F=="local"&&(g.b[h]=w)})},e.addListener=function(r,u,c){r=gs(r,u),this.l&&(this.b[r]=f.localStorage.getItem(r)),Ir(this.a)&&(fo(this,"local").ca(this.f),this.h||(fd()||!G0())&&f.indexedDB||!this.l||Wx(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,u,c){r=gs(r,u),this.a[r]&&($(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),Ir(this.a)&&(fo(this,"local").ia(this.f),vp(this))};function Wx(r){vp(r),r.c=setInterval(function(){for(var u in r.a){var c=f.localStorage.getItem(u),h=r.b[u];c!=h&&(r.b[u]=c,c=new Ji({type:"storage",key:u,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function vp(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var u=r.a.key;if(u==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var g=f.localStorage.getItem(c);g!==h&&(this.b[c]=g,this.nb(c))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof r.a.a<"u"?fo(this,"local").ia(this.f):vp(this),this.m){if(c=f.localStorage.getItem(u),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(u,h):f.localStorage.removeItem(u);else if(this.b[u]===h&&typeof r.a.a>"u")return}var y=this;c=function(){(typeof r.a.a<"u"||y.b[u]!==f.localStorage.getItem(u))&&(y.b[u]=f.localStorage.getItem(u),y.nb(u))},sr&&li&&li==10&&f.localStorage.getItem(u)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else J(r,O(this.nb,this))},e.nb=function(r){this.a[r]&&J(this.a[r],function(u){u()})};function Xx(r){this.a=r,this.b=na()}var yp={name:"authEvent",F:"local"};function Qx(r){return r.b.get(yp,r.a).then(function(u){return Aw(u)})}function Yx(){this.a=na()}function Jx(){this.b=-1}function cl(r,u){this.b=bb,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=u,this.l=f.Int32Array?new Int32Array(64):Array(64),ll===void 0&&(f.Int32Array?ll=new Int32Array(Ib):ll=Ib),this.reset()}var ll;D(cl,Jx);for(var bb=64,Zx=bb-1,_b=[],wp=0;wp<Zx;wp++)_b[wp]=0;var Eb=ee(128,_b);cl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):se(this.h)};function bp(r){for(var u=r.f,c=r.l,h=0,g=0;g<u.length;)c[h++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*h;for(u=16;64>u;u++){g=c[u-15]|0,h=c[u-2]|0;var y=(c[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,w=(c[u-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[u]=y+w|0}h=r.a[0]|0,g=r.a[1]|0;var T=r.a[2]|0,j=r.a[3]|0,z=r.a[4]|0,Ie=r.a[5]|0,Je=r.a[6]|0;for(y=r.a[7]|0,u=0;64>u;u++){var He=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&g^h&T^g&T)|0;w=z&Ie^~z&Je,y=y+((z>>>6|z<<26)^(z>>>11|z<<21)^(z>>>25|z<<7))|0,w=w+(ll[u]|0)|0,w=y+(w+(c[u]|0)|0)|0,y=Je,Je=Ie,Ie=z,z=j+w|0,j=T,T=g,g=h,h=w+He|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+g|0,r.a[2]=r.a[2]+T|0,r.a[3]=r.a[3]+j|0,r.a[4]=r.a[4]+z|0,r.a[5]=r.a[5]+Ie|0,r.a[6]=r.a[6]+Je|0,r.a[7]=r.a[7]+y|0}function _p(r,u,c){c===void 0&&(c=u.length);var h=0,g=r.c;if(typeof u=="string")for(;h<c;)r.f[g++]=u.charCodeAt(h++),g==r.b&&(bp(r),g=0);else if(_(u))for(;h<c;){var y=u[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");r.f[g++]=y,g==r.b&&(bp(r),g=0)}else throw Error("message must be string or array");r.c=g,r.g+=c}var Ib=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tb(){cl.call(this,8,eR)}D(Tb,cl);var eR=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Sb(r,u,c,h,g,y){this.v=r,this.i=u,this.l=c,this.m=h||null,this.u=g||null,this.s=y,this.h=u+":"+c,this.C=new Yx,this.g=new Xx(this.h),this.f=null,this.b=[],this.a=this.c=null}function fl(r){return new S("invalid-cordova-configuration",r)}e=Sb.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=GN().then(function(){if(typeof ct("universalLinks.subscribe",f)!="function")throw fl("cordova-universal-links-plugin-fix is not installed");if(typeof ct("BuildInfo.packageName",f)>"u")throw fl("cordova-plugin-buildinfo is not installed");if(typeof ct("cordova.plugins.browsertab.openUrl",f)!="function")throw fl("cordova-plugin-browsertab is not installed");if(typeof ct("cordova.InAppBrowser.open",f)!="function")throw fl("cordova-plugin-inappbrowser is not installed")},function(){throw new S("cordova-not-ready")})};function tR(){for(var r=20,u=[];0<r;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return u.join("")}function nR(r){var u=new Tb;_p(u,r),r=[];var c=8*u.g;56>u.c?_p(u,Eb,56-u.c):_p(u,Eb,u.b-(u.c-56));for(var h=63;56<=h;h--)u.f[h]=c&255,c/=256;for(bp(u),h=c=0;h<u.i;h++)for(var g=24;0<=g;g-=8)r[c++]=u.a[h]>>g&255;return dC(r)}e.Pb=function(r,u){return u(new S("operation-not-supported-in-this-environment")),ve()},e.Nb=function(){return at(new S("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,u,c,h){if(this.c)return at(new S("redirect-operation-pending"));var g=this,y=f.document,w=null,T=null,j=null,z=null;return this.c=ve().then(function(){return Fd(u),kb(g)}).then(function(){return rR(g,r,u,c,h)}).then(function(){return new Fe(function(Ie,Je){T=function(){var He=ct("cordova.plugins.browsertab.close",f);return Ie(),typeof He=="function"&&He(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(T),j=function(){w||(w=rs(2e3).then(function(){Je(new S("redirect-cancelled-by-user"))}))},z=function(){md()&&j()},y.addEventListener("resume",j,!1),Ht().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",z,!1)}).o(function(Ie){return Ep(g).then(function(){throw Ie})})}).oa(function(){j&&y.removeEventListener("resume",j,!1),z&&y.removeEventListener("visibilitychange",z,!1),w&&w.cancel(),T&&g.Ta(T),g.c=null})};function rR(r,u,c,h,g){var y=tR(),w=new ar(u,h,null,y,new S("no-auth-event"),null,g),T=ct("BuildInfo.packageName",f);if(typeof T!="string")throw new S("invalid-cordova-configuration");var j=ct("BuildInfo.displayName",f),z={};if(Ht().toLowerCase().match(/iphone|ipad|ipod/))z.ibi=T;else if(Ht().toLowerCase().match(/android/))z.apn=T;else return at(new S("operation-not-supported-in-this-environment"));j&&(z.appDisplayName=j),y=nR(y),z.sessionId=y;var Ie=Ju(r.v,r.i,r.l,u,c,null,h,r.m,z,r.u,g,r.s);return r.ma().then(function(){var Je=r.h;return r.C.a.set(yp,w.w(),Je)}).then(function(){var Je=ct("cordova.plugins.browsertab.isAvailable",f);if(typeof Je!="function")throw new S("invalid-cordova-configuration");var He=null;Je(function(Ut){if(Ut){if(He=ct("cordova.plugins.browsertab.openUrl",f),typeof He!="function")throw new S("invalid-cordova-configuration");He(Ie)}else{if(He=ct("cordova.InAppBrowser.open",f),typeof He!="function")throw new S("invalid-cordova-configuration");Ut=Ht(),r.a=He(Ie,Ut.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Ut.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Ab(r,u){for(var c=0;c<r.b.length;c++)try{r.b[c](u)}catch{}}function kb(r){return r.f||(r.f=r.ma().then(function(){return new Fe(function(u){function c(h){return u(h),r.Ta(c),!1}r.Ea(c),iR(r)})})),r.f}function Ep(r){var u=null;return Qx(r.g).then(function(c){return u=c,c=r.g,ms(c.b,yp,c.a)}).then(function(){return u})}function iR(r){function u(w){h=!0,g&&g.cancel(),Ep(r).then(function(T){var j=c;if(T&&w&&w.url){var z=null;j=yw(w.url),j.indexOf("/__/auth/callback")!=-1&&(z=An(j),z=cs(Jn(z,"firebaseError")||null),z=(z=typeof z=="object"?Ae(z):null)?new ar(T.c,T.b,null,null,z,null,T.T()):new ar(T.c,T.b,j,T.f,null,null,T.T())),j=z||c}Ab(r,j)})}var c=new ar("unknown",null,null,null,new S("no-auth-event")),h=!1,g=rs(500).then(function(){return Ep(r).then(function(){h||Ab(r,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(ct("BuildInfo.packageName",f).toLowerCase()+"://")==0&&u({url:w}),typeof y=="function")try{y(w)}catch(T){console.error(T)}},Ud||(Ud=new _C),EC(u)}e.Ea=function(r){this.b.push(r),kb(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new ar("unknown",null,null,null,new S("no-auth-event")),r(u))})},e.Ta=function(r){$(this.b,function(u){return u==r})};function oR(r){this.a=r,this.b=na()}var Ip={name:"pendingRedirect",F:"session"};function sR(r){return r.b.set(Ip,"pending",r.a)}function Tp(r){return ms(r.b,Ip,r.a)}function uR(r){return r.b.get(Ip,r.a).then(function(u){return u=="pending"})}function hl(r,u,c,h){this.i={},this.u=0,this.D=r,this.v=u,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new pl,this.C=new Fb,this.g=new oR(Pb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Nb(this.D,this.v,this.m,Ne,this.J)}function Nb(r,u,c,h,g){var y=be.SDK_VERSION||null;return hd()?new Sb(r,u,c,y,h,g):new eb(r,u,c,y,h,g)}hl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Nb(this.D,this.v,this.m,null,this.J),this.i={}};function Cb(r){r.f||(r.f=!0,r.a.Ea(r.l));var u=r.a;return r.a.ma().o(function(c){throw r.a==u&&r.reset(),c})}function xb(r){r.a.Yb()&&Cb(r).o(function(u){var c=new ar("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Ap(u)&&r.s(c)}),r.a.Ub()||Lb(r.b)}function dl(r,u){M(r.h,u)||r.h.push(u),r.f||uR(r.g).then(function(c){c?Tp(r.g).then(function(){Cb(r).o(function(h){var g=new ar("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Ap(h)&&r.s(g)})}):xb(r)}).o(function(){xb(r)})}function Sp(r,u){$(r.h,function(c){return c==u})}hl.prototype.s=function(r){if(!r)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var u=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(u=this.c[r.c])&&(u.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),u=!0;break}}return Lb(this.b),u};var aR=new di(2e3,1e4),cR=new di(3e4,6e4);hl.prototype.ra=function(){return this.b.ra()};function Rb(r,u,c,h,g,y,w){return r.a.Nb(u,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},g,y,w)}function Ap(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Ob(r,u,c,h,g){var y;return sR(r.g).then(function(){return r.a.Ob(u,c,h,g).o(function(w){if(Ap(w))throw new S("operation-not-supported-in-this-environment");return y=w,Tp(r.g).then(function(){throw y})}).then(function(){return r.a.ac()?new Fe(function(){}):Tp(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Db(r,u,c,h,g){return r.a.Pb(h,function(y){u.na(c,null,y,g)},aR.get())}var kp={};function Pb(r,u,c){return r=r+":"+u,c&&(r=r+":"+c.url),r}function Np(r,u,c,h){var g=Pb(u,c,h);return kp[g]||(kp[g]=new hl(r,u,c,h)),kp[g]}function pl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}pl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},pl.prototype.h=function(r,u){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,g=r.a&&r.a.code=="auth/web-storage-unsupported",y=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!y),c!="unknown"||g||y?r.a?(ho(this,!0,null,r.a),ve()):u.Fa(c,h)?lR(this,r,u):at(new S("invalid-auth-event")):(ho(this,!1,null,null),ve())}else at(new S("invalid-auth-event"))};function Lb(r){r.g||(r.g=!0,ho(r,!1,null,null))}function gl(r){r.g&&!r.i&&ho(r,!1,null,null)}function lR(r,u,c){c=c.Fa(u.c,u.b);var h=u.g,g=u.f,y=u.i,w=u.T(),T=!!u.c.match(/Redirect$/);c(h,g,w,y).then(function(j){ho(r,T,j,null)}).o(function(j){ho(r,T,null,j)})}function fR(r,u){if(r.b=function(){return at(u)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](u)}function Mb(r,u){if(r.b=function(){return ve(u)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](u)}function ho(r,u,c,h){u?h?fR(r,h):Mb(r,c):Mb(r,{user:null}),r.f=[],r.c=[]}pl.prototype.ra=function(){var r=this;return new Fe(function(u,c){r.b?r.b().then(u,c):(r.f.push(u),r.c.push(c),hR(r))})};function hR(r){var u=new S("timeout");r.a&&r.a.cancel(),r.a=rs(cR.get()).then(function(){r.b||(r.g=!0,ho(r,!0,null,u))})}function Fb(){}Fb.prototype.h=function(r,u){if(r){var c=r.c,h=r.b;r.a?(u.na(r.c,null,r.a,r.b),ve()):u.Fa(c,h)?dR(r,u):at(new S("invalid-auth-event"))}else at(new S("invalid-auth-event"))};function dR(r,u){var c=r.b,h=r.c;u.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(g){u.na(h,g,null,c)}).o(function(g){u.na(h,null,g,c)})}function Ub(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Cp(r,u){this.a=u,pe(this,"verificationId",r)}Cp.prototype.confirm=function(r){return r=Sw(this.verificationId,r),this.a(r)};function xp(r,u,c,h){return new zr(r).gb(u,c).then(function(g){return new Cp(g,h)})}function pR(r){var u=lw(r);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");gn(this,{token:r,expirationTime:Fu(1e3*u.exp),authTime:Fu(1e3*u.auth_time),issuedAtTime:Fu(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function Rp(r,u,c){var h=u&&u[Vb];if(!h)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=wt(u),this.g=c,this.c=new Hc(null,h),this.b=[];var g=this;J(u[jb]||[],function(y){(y=Ed(y))&&g.b.push(y)}),pe(this,"auth",this.a),pe(this,"session",this.c),pe(this,"hints",this.b)}var jb="mfaInfo",Vb="mfaPendingCredential";Rp.prototype.Rc=function(r){var u=this;return r.tb(this.a.a,this.c).then(function(c){var h=wt(u.f);return delete h[jb],delete h[Vb],$t(h,c),u.g(h)})};function Op(r,u,c,h){S.call(this,"multi-factor-auth-required",h,u),this.b=new Rp(r,u,c),pe(this,"resolver",this.b)}D(Op,S);function Bb(r,u,c){if(r&&C(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new Op(u,r.serverResponse,c,r.message)}catch{}return null}function qb(){}qb.prototype.tb=function(r,u,c){return u.type==Bu?gR(this,r,u,c):mR(this,r,u)};function gR(r,u,c,h){return c.Ha().then(function(g){return g={idToken:g},typeof h<"u"&&(g.displayName=h),$t(g,{phoneVerificationInfo:qu(r.a)}),Ue(u,ix,g)})}function mR(r,u,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},$t(h,{phoneVerificationInfo:qu(r.a)}),Ue(u,ox,h)})}function Dp(r){pe(this,"factorId",r.fa),this.a=r}D(Dp,qb);function $b(r){if(Dp.call(this,r),this.a.fa!=zr.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}D($b,Dp);function vs(r,u){Sn.call(this,r);for(var c in u)this[c]=u[c]}D(vs,Sn);function Pp(r,u){this.a=r,this.b=[],this.c=O(this.yc,this),Yn(this.a,"userReloaded",this.c);var c=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&J(u.multiFactor.enrolledFactors,function(h){var g=null,y={};if(h){h.uid&&(y[Td]=h.uid),h.displayName&&(y[X0]=h.displayName),h.enrollmentTime&&(y[Id]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[Sd]=h.phoneNumber);try{g=new Uu(y)}catch{}h=g}else h=null;h&&c.push(h)}),ml(this,c)}function vR(r){var u=[];return J(r.mfaInfo||[],function(c){(c=Ed(c))&&u.push(c)}),u}e=Pp.prototype,e.yc=function(r){ml(this,vR(r.hd))};function ml(r,u){r.b=u,pe(r,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(r){return new Hc(r,null)})},e.fc=function(r,u){var c=this,h=this.a.a;return this.Sb().then(function(g){return r.tb(h,g,u)}).then(function(g){return Cr(c.a,g),c.a.reload()})},e.bd=function(r){var u=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(g){return Ue(h,Sx,{idToken:g,mfaEnrollmentId:c})}).then(function(g){var y=qe(u.b,function(w){return w.uid!=c});return ml(u,y),Cr(u.a,g),u.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:_e(this.b,function(r){return r.w()})}}};function Lp(r,u,c){if(this.h=r,this.i=u,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Lp.prototype.start=function(){this.a=this.c,Mp(this,!0)};function yR(r,u){return u?(r.a=r.c,r.g()):(u=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),u)}function Mp(r,u){r.stop(),r.b=rs(yR(r,u)).then(function(){return XN()}).then(function(){return r.h()}).then(function(){Mp(r,!0)}).o(function(c){r.i(c)&&Mp(r,!1)})}Lp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Fp(r){this.f=r,this.b=this.a=null,this.c=Date.now()}Fp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Hb(r,u){typeof u>"u"&&(r.b?(u=r.b,u=u.a-u.g):u=0),r.c=Date.now()+1e3*u}function Kb(r,u){r.b=qc(u[lr]||""),r.a=u.refreshToken,u=u.expiresIn,Hb(r,typeof u<"u"?Number(u):void 0)}function wR(r,u){r.b=u.b,r.a=u.a,r.c=u.c}function bR(r,u){return qC(r.f,u).then(function(c){return r.b=qc(c.access_token),r.a=c.refresh_token,Hb(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}Fp.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?at(new S("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?bR(this,{grant_type:"refresh_token",refresh_token:this.a}):ve(null):ve({accessToken:this.b.toString(),refreshToken:this.a})};function vl(r,u){this.a=r||null,this.b=u||null,gn(this,{lastSignInTime:Fu(u||null),creationTime:Fu(r||null)})}function _R(r){return new vl(r.a,r.b)}vl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function ER(r,u,c,h,g,y){gn(this,{uid:r,displayName:h||null,photoURL:g||null,email:c||null,phoneNumber:y||null,providerId:u})}function jn(r,u,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=be.SDK_VERSION?us(be.SDK_VERSION):null;this.a=new cr(this.l,Ve(Ne),h),(this.u=r.emulatorConfig||null)&&ol(this.a,this.u),this.h=new Fp(this.a),Hp(this,u[lr]),Kb(this.h,u),pe(this,"refreshToken",this.h.a),Gb(this,c||{}),pn.call(this),this.P=!1,this.s&&no()&&(this.b=Np(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=IR(this),this.ba=O(this.ib,this);var g=this;this.za=null,this.Pa=function(y){g.xa(y.h)},this.qa=null,this.Ba=function(y){Up(g,y.c)},this.$=null,this.aa=[],this.Oa=function(y){ra(g,y.f)},this.ja=null,this.S=new Pp(this,c),pe(this,"multiFactor",this.S)}D(jn,pn),jn.prototype.xa=function(r){this.za=r,Bw(this.a,r)};function Up(r,u){r.u=u,ol(r.a,u),r.b&&(u=r.b,r.b=Np(r.s,r.l,r.m,r.u),r.P&&(Sp(u,r),dl(r.b,r)))}jn.prototype.la=function(){return this.za};function jp(r,u){r.qa&&Fn(r.qa,"languageCodeChanged",r.Pa),(r.qa=u)&&Yn(u,"languageCodeChanged",r.Pa)}function Vp(r,u){r.$&&Fn(r.$,"emulatorConfigChanged",r.Ba),(r.$=u)&&Yn(u,"emulatorConfigChanged",r.Ba)}function ra(r,u){r.aa=u,qw(r.a,be.SDK_VERSION?us(be.SDK_VERSION,r.aa):null)}jn.prototype.Ga=function(){return se(this.aa)};function Bp(r,u){r.ja&&Fn(r.ja,"frameworkChanged",r.Oa),(r.ja=u)&&Yn(u,"frameworkChanged",r.Oa)}jn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function qp(r){try{return be.app(r.m).auth()}catch{throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function IR(r){return new Lp(function(){return r.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=r.h.c-Date.now()-3e5;return 0<u?u:0})}function zb(r){r.J||r.D.b||(r.D.start(),Fn(r,"tokenChanged",r.ba),Yn(r,"tokenChanged",r.ba))}function $p(r){Fn(r,"tokenChanged",r.ba),r.D.stop()}function Hp(r,u){r.Aa=u,pe(r,"_lat",u)}function TR(r,u){$(r.W,function(c){return c==u})}function po(r){for(var u=[],c=0;c<r.W.length;c++)u.push(r.W[c](r));return l0(u).then(function(){return r})}function ia(r){r.b&&!r.P&&(r.P=!0,dl(r.b,r))}function Gb(r,u){gn(r,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new vl(u.createdAt,u.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}pe(jn.prototype,"providerId","firebase");function Wb(){}function Kp(r){return ve().then(function(){if(r.J)throw new S("app-deleted")})}function zp(r){return _e(r.providerData,function(u){return u.providerId})}function Gp(r,u){u&&(Xb(r,u.providerId),r.providerData.push(u))}function Xb(r,u){$(r.providerData,function(c){return c.providerId==u})}function mi(r,u,c){(u!="uid"||c)&&r.hasOwnProperty(u)&&pe(r,u,c)}function yl(r,u){r!=u&&(gn(r,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?pe(r,"metadata",_R(u.metadata)):pe(r,"metadata",new vl),J(u.providerData,function(c){Gp(r,c)}),wR(r.h,u.h),pe(r,"refreshToken",r.h.a),ml(r.S,u.S.b))}e=jn.prototype,e.reload=function(){var r=this;return Pt(this,Kp(this).then(function(){return Wp(r).then(function(){return po(r)}).then(Wb)}))};function Wp(r){return r.I().then(function(u){var c=r.isAnonymous;return SR(r,u).then(function(){return c||mi(r,"isAnonymous",!1),u})})}e.oc=function(r){return this.I(r).then(function(u){return new pR(u)})},e.I=function(r){var u=this;return Pt(this,Kp(this).then(function(){return u.h.getToken(r)}).then(function(c){if(!c)throw new S("internal-error");return c.accessToken!=u.Aa&&(Hp(u,c.accessToken),u.dispatchEvent(new vs("tokenChanged"))),mi(u,"refreshToken",c.refreshToken),c.accessToken}))};function Cr(r,u){u[lr]&&r.Aa!=u[lr]&&(Kb(r.h,u),r.dispatchEvent(new vs("tokenChanged")),Hp(r,u[lr]),mi(r,"refreshToken",r.h.a))}function SR(r,u){return Ue(r.a,sx,{idToken:u}).then(O(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new S("internal-error");r=r[0],Gb(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var u=AR(r),c=0;c<u.length;c++)Gp(this,u[c]);mi(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new vs("userReloaded",{hd:r}))};function AR(r){return(r=r.providerUserInfo)&&r.length?_e(r,function(u){return new ER(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(r){return vd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var u=this,c=null;return Pt(this,r.c(this.a,this.uid).then(function(h){return Cr(u,h),c=oa(u,h,"reauthenticate"),u.i=null,u.reload()}).then(function(){return c}),!0)};function wl(r,u){return Wp(r).then(function(){if(M(zp(r),u))return po(r).then(function(){throw new S("provider-already-linked")})})}e.Cc=function(r){return vd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var u=this,c=null;return Pt(this,wl(this,r.providerId).then(function(){return u.I()}).then(function(h){return r.b(u.a,h)}).then(function(h){return c=oa(u,h,"link"),Qb(u,h)}).then(function(){return c}))},e.Dc=function(r,u){var c=this;return Pt(this,wl(this,"phone").then(function(){return xp(qp(c),r,u,O(c.rb,c))}))},e.Mc=function(r,u){var c=this;return Pt(this,ve().then(function(){return xp(qp(c),r,u,O(c.ub,c))}),!0)};function oa(r,u,c){var h=Md(u);return u=hw(u),kr({user:r,credential:h,additionalUserInfo:u,operationType:c})}function Qb(r,u){return Cr(r,u),r.reload().then(function(){return r})}e.Cb=function(r){var u=this;return Pt(this,this.I().then(function(c){return u.a.Cb(c,r)}).then(function(c){return Cr(u,c),u.reload()}))},e.ed=function(r){var u=this;return Pt(this,this.I().then(function(c){return r.b(u.a,c)}).then(function(c){return Cr(u,c),u.reload()}))},e.Db=function(r){var u=this;return Pt(this,this.I().then(function(c){return u.a.Db(c,r)}).then(function(c){return Cr(u,c),u.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return Kp(this);var u=this;return Pt(this,this.I().then(function(c){return u.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Cr(u,c),mi(u,"displayName",c.displayName||null),mi(u,"photoURL",c.photoUrl||null),J(u.providerData,function(h){h.providerId==="password"&&(pe(h,"displayName",u.displayName),pe(h,"photoURL",u.photoURL))}),po(u)}).then(Wb))},e.cd=function(r){var u=this;return Pt(this,Wp(this).then(function(c){return M(zp(u),r)?XC(u.a,c,[r]).then(function(h){var g={};return J(h.providerUserInfo||[],function(y){g[y.providerId]=!0}),J(zp(u),function(y){g[y]||Xb(u,y)}),g[zr.PROVIDER_ID]||pe(u,"phoneNumber",null),po(u)}):po(u).then(function(){throw new S("no-such-provider")})}))},e.delete=function(){var r=this;return Pt(this,this.I().then(function(u){return Ue(r.a,ex,{idToken:u})}).then(function(){r.dispatchEvent(new vs("userDeleted"))})).then(function(){for(var u=0;u<r.N.length;u++)r.N[u].cancel("app-deleted");jp(r,null),Vp(r,null),Bp(r,null),r.N=[],r.J=!0,$p(r),pe(r,"refreshToken",null),r.b&&Sp(r.b,r)})},e.Gb=function(r,u){return!!(r=="linkViaPopup"&&(this.g||null)==u&&this.f||r=="reauthViaPopup"&&(this.g||null)==u&&this.f||r=="linkViaRedirect"&&(this.ga||null)==u||r=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(r,u,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,u){return r=="linkViaPopup"&&u==(this.g||null)?O(this.Lb,this):r=="reauthViaPopup"&&u==(this.g||null)?O(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==u?O(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==u?O(this.Mb,this):null},e.Ec=function(r){var u=this;return Yb(this,"linkViaPopup",r,function(){return wl(u,r.providerId).then(function(){return po(u)})},!1)},e.Nc=function(r){return Yb(this,"reauthViaPopup",r,function(){return ve()},!0)};function Yb(r,u,c,h,g){if(!no())return at(new S("operation-not-supported-in-this-environment"));if(r.i&&!g)return at(r.i);var y=xd(c.providerId),w=ro(r.uid+":::"),T=null;(!Lu()||dd())&&r.s&&c.isOAuthProvider&&(T=Ju(r.s,r.l,r.m,u,c,null,w,be.SDK_VERSION||null,null,null,r.tenantId,r.u));var j=V0(T,y&&y.va,y&&y.ua);return h=h().then(function(){if(Zb(r),!g)return r.I().then(function(){})}).then(function(){return Rb(r.b,j,u,c,w,!!T,r.tenantId)}).then(function(){return new Fe(function(z,Ie){r.na(u,null,new S("cancelled-popup-request"),r.g||null),r.f=z,r.C=Ie,r.g=w,r.c=Db(r.b,r,u,j,w)})}).then(function(z){return j&&to(j),z?kr(z):null}).o(function(z){throw j&&to(j),z}),Pt(r,h,g)}e.Fc=function(r){var u=this;return Jb(this,"linkViaRedirect",r,function(){return wl(u,r.providerId)},!1)},e.Oc=function(r){return Jb(this,"reauthViaRedirect",r,function(){return ve()},!0)};function Jb(r,u,c,h,g){if(!no())return at(new S("operation-not-supported-in-this-environment"));if(r.i&&!g)return at(r.i);var y=null,w=ro(r.uid+":::");return h=h().then(function(){if(Zb(r),!g)return r.I().then(function(){})}).then(function(){return r.ga=w,po(r)}).then(function(T){return r.ha&&(T=r.ha,T=T.b.set(Xp,r.w(),T.a)),T}).then(function(){return Ob(r.b,u,c,w,r.tenantId)}).o(function(T){if(y=T,r.ha)return t_(r.ha);throw y}).then(function(){if(y)throw y}),Pt(r,h,g)}function Zb(r){if(!r.b||!r.P)throw r.b&&!r.P?new S("internal-error"):new S("auth-domain-config-required")}e.Lb=function(r,u,c,h){var g=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(w){return rp(g.a,{requestUri:r,postBody:h,sessionId:u,idToken:w})}).then(function(w){return y=oa(g,w,"link"),Qb(g,w)}).then(function(){return y}),Pt(this,c)},e.Mb=function(r,u,c,h){var g=this;this.c&&(this.c.cancel(),this.c=null);var y=null,w=ve().then(function(){return fs(ip(g.a,{requestUri:r,sessionId:u,postBody:h,tenantId:c}),g.uid)}).then(function(T){return y=oa(g,T,"reauthenticate"),Cr(g,T),g.i=null,g.reload()}).then(function(){return y});return Pt(this,w,!0)},e.vb=function(r){var u=this,c=null;return Pt(this,this.I().then(function(h){return c=h,typeof r>"u"||Ir(r)?{}:Vc(new jc(r))}).then(function(h){return u.a.vb(c,h)}).then(function(h){if(u.email!=h)return u.reload()}).then(function(){}))},e.Fb=function(r,u){var c=this,h=null;return Pt(this,this.I().then(function(g){return h=g,typeof u>"u"||Ir(u)?{}:Vc(new jc(u))}).then(function(g){return c.a.Fb(h,r,g)}).then(function(g){if(c.email!=g)return c.reload()}).then(function(){}))};function Pt(r,u,c){var h=kR(r,u,c);return r.N.push(h),h.oa(function(){V(r.N,h)}),h.o(function(g){var y=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(y=Bb(g.w(),qp(r),O(r.jc,r))),y||g})}e.jc=function(r){var u=null,c=this;return r=fs(ve(r),c.uid).then(function(h){return u=oa(c,h,"reauthenticate"),Cr(c,h),c.i=null,c.reload()}).then(function(){return u}),Pt(this,r,!0)};function kR(r,u,c){return r.i&&!c?(u.cancel(),at(r.i)):u.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new vs("userInvalidated")),r.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&$t(r,this.metadata.w()),J(this.providerData,function(u){r.providerData.push(JN(u))}),$t(r,this.S.w()),r};function e_(r){if(!r.apiKey)return null;var u={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[lr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var g=new jn(u,c,r);return r.providerData&&J(r.providerData,function(y){y&&Gp(g,kr(y))}),r.redirectEventId&&(g.ga=r.redirectEventId),g}function NR(r,u,c,h){var g=new jn(r,u);return c&&(g.ha=c),h&&ra(g,h),g.reload().then(function(){return g})}function CR(r,u,c,h){var g=r.h,y={};return y[lr]=g.b&&g.b.toString(),y.refreshToken=g.a,u=new jn(u||{apiKey:r.l,authDomain:r.s,appName:r.m},y),c&&(u.ha=c),h&&ra(u,h),yl(u,r),u}function xR(r){this.a=r,this.b=na()}var Xp={name:"redirectUser",F:"session"};function t_(r){return ms(r.b,Xp,r.a)}function RR(r,u){return r.b.get(Xp,r.a).then(function(c){return c&&u&&(c.authDomain=u),e_(c||{})})}function Qp(r){this.a=r,this.b=na(),this.c=null,this.f=OR(this),this.b.addListener(xr("local"),this.a,O(this.g,this))}Qp.prototype.g=function(){var r=this,u=xr("local");ys(this,function(){return ve().then(function(){return r.c&&r.c.F!="local"?r.b.get(u,r.a):null}).then(function(c){if(c)return Yp(r,"local").then(function(){r.c=u})})})};function Yp(r,u){var c=[],h;for(h in ps)ps[h]!==u&&c.push(ms(r.b,xr(ps[h]),r.a));return c.push(ms(r.b,Jp,r.a)),_N(c)}function OR(r){var u=xr("local"),c=xr("session"),h=xr("none");return Gx(r.b,u,r.a).then(function(){return r.b.get(c,r.a)}).then(function(g){return g?c:r.b.get(h,r.a).then(function(y){return y?h:r.b.get(u,r.a).then(function(w){return w?u:r.b.get(Jp,r.a).then(function(T){return T?xr(T):u})})})}).then(function(g){return r.c=g,Yp(r,g.F)}).o(function(){r.c||(r.c=u)})}var Jp={name:"persistence",F:"session"};function xr(r){return{name:"authUser",F:r}}Qp.prototype.yb=function(r){var u=null,c=this;return zx(r),ys(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return u=h,Yp(c,r)}).then(function(){if(c.c=xr(r),u)return c.b.set(c.c,u,c.a)}):ve()})};function DR(r){return ys(r,function(){return r.b.set(Jp,r.c.F,r.a)})}function n_(r,u){return ys(r,function(){return r.b.set(r.c,u.w(),r.a)})}function r_(r){return ys(r,function(){return ms(r.b,r.c,r.a)})}function i_(r,u,c){return ys(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&u&&(h.authDomain=u),h&&c&&(h.emulatorConfig=c),e_(h||{})})})}function ys(r,u){return r.f=r.f.then(u,u),r.f}function fr(r){if(this.l=!1,pe(this,"settings",new Ub),pe(this,"app",r),et(this).options&&et(this).options.apiKey)r=be.SDK_VERSION?us(be.SDK_VERSION):null,this.a=new cr(et(this).options&&et(this).options.apiKey,Ve(Ne),r);else throw new S("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=be.INTERNAL.createSubscribe(O(this.zc,this)),this.W=void 0,this.ib=be.INTERNAL.createSubscribe(O(this.Ac,this)),ws(this,null),this.i=new Qp(et(this).options.apiKey+":"+et(this).name),this.D=new xR(et(this).options.apiKey+":"+et(this).name),this.$=bt(this,jR(this)),this.h=bt(this,VR(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.qa=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,MR(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,pn.call(this),LR(this),this.J=[],this.R=null}D(fr,pn);function o_(r){Sn.call(this,"languageCodeChanged"),this.h=r}D(o_,Sn);function s_(r){Sn.call(this,"emulatorConfigChanged"),this.c=r}D(s_,Sn);function u_(r){Sn.call(this,"frameworkChanged"),this.f=r}D(u_,Sn),e=fr.prototype,e.yb=function(r){return r=this.i.yb(r),bt(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,Bw(this.a,this.aa),this.dispatchEvent(new o_(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,u){if(!this.R){if(!/^https?:\/\//.test(r))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,PR(u),this.R={url:r,ec:u},this.settings.jb=!0,ol(this.a,this.R),this.dispatchEvent(new s_(this.R))}};function PR(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Mc().then(function(){var u=f.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),f.document.body.appendChild(u)})}e.Gc=function(r){this.J.push(r),qw(this.a,be.SDK_VERSION?us(be.SDK_VERSION,this.J):null),this.dispatchEvent(new u_(this.J))},e.Ga=function(){return se(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function LR(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var u=An(this.R.url);u=kr({protocol:u.c,host:u.a,port:u.g,options:kr({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:et(this).options.apiKey,authDomain:et(this).options.authDomain,appName:et(this).name,currentUser:Re(this)&&Re(this).w()}};function Zp(r){return r.Oa||at(new S("auth-domain-config-required"))}function MR(r){var u=et(r).options.authDomain,c=et(r).options.apiKey;u&&no()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Np(u,c,et(r).name,r.R),dl(r.b,r),Re(r)&&ia(Re(r)),r.m){ia(r.m);var h=r.m;h.xa(r.la()),jp(h,r),h=r.m,ra(h,r.J),Bp(h,r),h=r.m,Up(h,r.R),Vp(h,r),r.m=null}return r.b}}))}e.Gb=function(r,u){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(r,u,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,u){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==u&&this.f?O(this.ic,this):null},e.ic=function(r,u,c,h){var g=this,y={requestUri:r,postBody:h,sessionId:u,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return go(g,np(g.a,y))})},e.Xc=function(r){if(!no())return at(new S("operation-not-supported-in-this-environment"));var u=this,c=xd(r.providerId),h=ro(),g=null;(!Lu()||dd())&&et(this).options.authDomain&&r.isOAuthProvider&&(g=Ju(et(this).options.authDomain,et(this).options.apiKey,et(this).name,"signInViaPopup",r,null,h,be.SDK_VERSION||null,null,null,this.T(),this.R));var y=V0(g,c&&c.va,c&&c.ua);return c=Zp(this).then(function(w){return Rb(w,y,"signInViaPopup",r,h,!!g,u.T())}).then(function(){return new Fe(function(w,T){u.na("signInViaPopup",null,new S("cancelled-popup-request"),u.g),u.f=w,u.C=T,u.g=h,u.c=Db(u.b,u,"signInViaPopup",y,h)})}).then(function(w){return y&&to(y),w?kr(w):null}).o(function(w){throw y&&to(y),w}),bt(this,c)},e.Yc=function(r){if(!no())return at(new S("operation-not-supported-in-this-environment"));var u=this,c=Zp(this).then(function(){return DR(u.i)}).then(function(){return Ob(u.b,"signInViaRedirect",r,void 0,u.T())});return bt(this,c)};function a_(r){if(!no())return at(new S("operation-not-supported-in-this-environment"));var u=Zp(r).then(function(){return r.b.ra()}).then(function(c){return c?kr(c):null});return bt(r,u)}e.ra=function(){var r=this;return a_(this).then(function(u){return r.b&&gl(r.b.b),u}).o(function(u){throw r.b&&gl(r.b.b),u})},e.dd=function(r){if(!r)return at(new S("null-user"));if(this.S!=r.tenantId)return at(new S("tenant-id-mismatch"));var u=this,c={};c.apiKey=et(this).options.apiKey,c.authDomain=et(this).options.authDomain,c.appName=et(this).name;var h=CR(r,c,u.D,u.Ga());return bt(this,this.h.then(function(){if(et(u).options.apiKey!=r.l)return h.reload()}).then(function(){return Re(u)&&r.uid==Re(u).uid?(yl(Re(u),r),u.da(r)):(ws(u,h),ia(h),u.da(h))}).then(function(){sa(u)}))};function FR(r,u){var c={};return c.apiKey=et(r).options.apiKey,c.authDomain=et(r).options.authDomain,c.appName=et(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return NR(c,u,r.D,r.Ga())}).then(function(h){return Re(r)&&h.uid==Re(r).uid?(yl(Re(r),h),r.da(h)):(ws(r,h),ia(h),r.da(h))}).then(function(){sa(r)})}function ws(r,u){Re(r)&&(TR(Re(r),r.Ba),Fn(Re(r),"tokenChanged",r.qa),Fn(Re(r),"userDeleted",r.za),Fn(Re(r),"userInvalidated",r.Aa),$p(Re(r))),u&&(u.W.push(r.Ba),Yn(u,"tokenChanged",r.qa),Yn(u,"userDeleted",r.za),Yn(u,"userInvalidated",r.Aa),0<r.u&&zb(u)),pe(r,"currentUser",u),u&&(u.xa(r.la()),jp(u,r),ra(u,r.J),Bp(u,r),Up(u,r.R),Vp(u,r))}e.Bb=function(){var r=this,u=this.h.then(function(){return r.b&&gl(r.b.b),Re(r)?(ws(r,null),r_(r.i).then(function(){sa(r)})):ve()});return bt(this,u)};function UR(r){var u=RR(r.D,et(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),t_(r.D)});return bt(r,u)}function jR(r){var u=et(r).options.authDomain,c=UR(r).then(function(){return i_(r.i,u,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return n_(r.i,h).then(function(){return h})}).o(function(g){return g.code=="auth/network-request-failed"?h:r_(r.i)})):null}).then(function(h){ws(r,h||null)});return bt(r,c)}function VR(r){return r.$.then(function(){return a_(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var u=r.i;u.b.addListener(xr("local"),u.a,r.ja)}})}e.Zc=function(){var r=this;return i_(this.i,et(this).options.authDomain).then(function(u){if(!r.l){var c;if(c=Re(r)&&u){c=Re(r).uid;var h=u.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return yl(Re(r),u),Re(r).I();(Re(r)||u)&&(ws(r,u),u&&(ia(u),u.ha=r.D),r.b&&dl(r.b,r),sa(r))}})},e.da=function(r){return n_(this.i,r)},e.mc=function(){sa(this),this.da(Re(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function go(r,u){var c=null,h=null;return bt(r,u.then(function(g){return c=Md(g),h=hw(g),FR(r,g)},function(g){var y=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(y=Bb(g.w(),r,O(r.kc,r))),y||g}).then(function(){return kr({user:Re(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(r){var u=this;return this.h.then(function(){return go(u,ve(r))})},e.zc=function(r){var u=this;this.addAuthTokenListener(function(){r.next(Re(u))})},e.Ac=function(r){var u=this;BR(this,function(){r.next(Re(u))})},e.Ic=function(r,u,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(Re(h)):typeof r.next=="function"&&r.next(Re(h))}),this.Pa(r,u,c)},e.Hc=function(r,u,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(Re(h)):typeof r.next=="function"&&r.next(Re(h))}),this.ib(r,u,c)},e.nc=function(r){var u=this,c=this.h.then(function(){return Re(u)?Re(u).I(r).then(function(h){return{accessToken:h}}):null});return bt(this,c)},e.Tc=function(r){var u=this;return this.h.then(function(){return go(u,Ue(u.a,_x,{token:r}))}).then(function(c){var h=c.user;return mi(h,"isAnonymous",!1),u.da(h),c})},e.Uc=function(r,u){var c=this;return this.h.then(function(){return go(c,Ue(c.a,Yw,{email:r,password:u}))})},e.dc=function(r,u){var c=this;return this.h.then(function(){return go(c,Ue(c.a,JC,{email:r,password:u}))})},e.ab=function(r){var u=this;return this.h.then(function(){return go(u,r.ka(u.a))})},e.Sc=function(r){return vd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var u=Re(r);if(u&&u.isAnonymous){var c=kr({providerId:null,isNewUser:!1});return kr({user:u,credential:null,additionalUserInfo:c,operationType:"signIn"})}return go(r,r.a.Ab()).then(function(h){var g=h.user;return mi(g,"isAnonymous",!0),r.da(g),h})})};function et(r){return r.app}function Re(r){return r.currentUser}e.getUid=function(){return Re(this)&&Re(this).uid||null};function bl(r){return Re(r)&&Re(r)._lat||null}function sa(r){if(r.ba){for(var u=0;u<r.s.length;u++)r.s[u]&&r.s[u](bl(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),u=0;u<r.N.length;u++)r.N[u]&&r.N[u](bl(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&Re(this)&&zb(Re(this))},e.Pc=function(r){var u=this;J(this.s,function(c){c==r&&u.u--}),0>this.u&&(this.u=0),this.u==0&&Re(this)&&$p(Re(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var u=this;this.s.push(r),bt(this,this.h.then(function(){u.l||M(u.s,r)&&r(bl(u))}))},e.removeAuthTokenListener=function(r){$(this.s,function(u){return u==r})};function BR(r,u){r.N.push(u),bt(r,r.h.then(function(){!r.l&&M(r.N,u)&&r.W!==r.getUid()&&(r.W=r.getUid(),u(bl(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(xr("local"),r.a,this.ja)),this.b&&(Sp(this.b,this),gl(this.b.b)),Promise.resolve()};function bt(r,u){return r.P.push(u),u.oa(function(){V(r.P,u)}),u}e.hc=function(r){return bt(this,$C(this.a,r))},e.Bc=function(r){return!!Ld(r)},e.xb=function(r,u){var c=this;return bt(this,ve().then(function(){var h=new jc(u);if(!h.c)throw new S("argument-error",Nd+" must be true when sending sign in link to email");return Vc(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(u){return u.data.email})},e.ob=function(r,u){return bt(this,this.a.ob(r,u).then(function(){}))},e.Sa=function(r){return bt(this,this.a.Sa(r).then(function(u){return new eC(u)}))},e.kb=function(r){return bt(this,this.a.kb(r).then(function(){}))},e.wb=function(r,u){var c=this;return bt(this,ve().then(function(){return typeof u>"u"||Ir(u)?{}:Vc(new jc(u))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},e.Wc=function(r,u){return bt(this,xp(this,r,u,O(this.ab,this)))},e.Vc=function(r,u){var c=this;return bt(this,ve().then(function(){var h=u||Pu(),g=Tw(r,h);if(h=Ld(h),!h)throw new S("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new S("tenant-id-mismatch");return c.ab(g)}))};function ua(){}ua.prototype.render=function(){},ua.prototype.reset=function(){},ua.prototype.getResponse=function(){},ua.prototype.execute=function(){};function bs(){this.a={},this.b=1e12}var eg=null;bs.prototype.render=function(r,u){return this.a[this.b.toString()]=new _l(r,u),this.b++},bs.prototype.reset=function(r){var u=tg(this,r);r=c_(r),u&&r&&(u.delete(),delete this.a[r])},bs.prototype.getResponse=function(r){return(r=tg(this,r))?r.getResponse():null},bs.prototype.execute=function(r){(r=tg(this,r))&&r.execute()};function tg(r,u){return(u=c_(u))&&r.a[u]||null}function c_(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function _l(r,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=ku(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():Yn(this.f,"click",this.i)}_l.prototype.getResponse=function(){return ng(this),this.b},_l.prototype.execute=function(){ng(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=WN();var u=r.c.callback,c=r.c["expired-callback"];if(u)try{u(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},_l.prototype.delete=function(){ng(this),this.g=!0,clearTimeout(this.a),this.a=null,Fn(this.f,"click",this.i)};function ng(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function rg(){}pe(rg,"FACTOR_ID","phone");function ig(){}ig.prototype.g=function(){return eg||(eg=new bs),ve(eg)},ig.prototype.c=function(){};var og=null;function sg(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var qR=new Tr(Ic,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),$R=new di(3e4,6e4);sg.prototype.g=function(r){var u=this;return new Fe(function(c,h){var g=setTimeout(function(){h(new S("network-request-failed"))},$R.get());if(!f.grecaptcha||r!==u.f&&!u.b){f[u.a]=function(){if(f.grecaptcha){u.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(T,j){return T=w(T,j),u.b++,T},clearTimeout(g),c(f.grecaptcha)}else clearTimeout(g),h(new S("internal-error"));delete f[u.a]};var y=Bh(qR,{onload:u.a,hl:r||""});ve(Xd(y)).o(function(){clearTimeout(g),h(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),c(f.grecaptcha)})},sg.prototype.c=function(){this.b--};var ug=null;function ag(r,u,c,h,g,y,w){if(pe(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,w?(og||(og=new ig),w=og):(ug||(ug=new sg),w=ug),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[h_])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[HR]==="invisible",!f.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ku(u)||!this.i&&ku(u).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new cr(r,y||null,g||null),this.u=h||function(){return null};var T=this;this.l=[];var j=this.a[l_];this.a[l_]=function(Ie){if(d_(T,Ie),typeof j=="function")j(Ie);else if(typeof j=="string"){var Je=ct(j,f);typeof Je=="function"&&Je(Ie)}};var z=this.a[f_];this.a[f_]=function(){if(d_(T,null),typeof z=="function")z();else if(typeof z=="string"){var Ie=ct(z,f);typeof Ie=="function"&&Ie()}}}var l_="callback",f_="expired-callback",h_="sitekey",HR="size";function d_(r,u){for(var c=0;c<r.l.length;c++)try{r.l[c](u)}catch{}}function KR(r,u){$(r.l,function(c){return c==u})}function cg(r,u){return r.h.push(u),u.oa(function(){V(r.h,u)}),u}e=ag.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=cg(this,ve().then(function(){if(Fc()&&!ur())return Mc();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(u){return r.g=u,Ue(r.s,hx,{})}).then(function(u){r.a[h_]=u.recaptchaSiteKey}).o(function(u){throw r.f=null,u}))},e.render=function(){El(this);var r=this;return cg(this,this.Ia().then(function(){if(r.c===null){var u=r.v;if(!r.i){var c=ku(u);u=vN("DIV"),c.appendChild(u)}r.c=r.g.render(u,r.a)}return r.c}))},e.verify=function(){El(this);var r=this;return cg(this,this.render().then(function(u){return new Fe(function(c){var h=r.g.getResponse(u);if(h)c(h);else{var g=function(y){y&&(KR(r,g),c(y))};r.l.push(g),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){El(this),this.c!==null&&this.g.reset(this.c)};function El(r){if(r.J)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){El(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=ku(this.v);for(var u;u=r.firstChild;)r.removeChild(u)}};function lg(r,u,c){var h=!1;try{this.b=c||be.app()}catch{throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new S("invalid-api-key");var g=this,y=null;try{y=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=be.SDK_VERSION?us(be.SDK_VERSION,y):null,ag.call(this,c,r,u,function(){try{var w=g.b.auth().la()}catch{w=null}return w},y,Ve(Ne),h)}D(lg,ag);function p_(r,u,c,h){e:{c=Array.prototype.slice.call(c);for(var g=0,y=!1,w=0;w<u.length;w++)if(u[w].optional)y=!0;else{if(y)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(y=u.length,c.length<g||y<c.length)h="Expected "+(g==y?g==1?"1 argument":g+" arguments":g+"-"+y+" arguments")+" but got "+c.length+".";else{for(g=0;g<c.length;g++)if(y=u[g].optional&&c[g]===void 0,!u[g].M(c[g])&&!y){if(u=u[g],0>g||g>=g_.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");c=g_[g],h=(h?"":c+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}h=null}}if(h)throw new S("argument-error",r+" failed: "+h)}var g_="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function de(r,u){return{name:r||"",K:"a valid string",optional:!!u,M:function(c){return typeof c=="string"}}}function fg(r,u){return{name:r||"",K:"a boolean",optional:!!u,M:function(c){return typeof c=="boolean"}}}function kt(r,u){return{name:r||"",K:"a valid object",optional:!!u,M:C}}function _s(r,u){return{name:r||"",K:"a function",optional:!!u,M:function(c){return typeof c=="function"}}}function Rr(r,u){return{name:r||"",K:"null",optional:!!u,M:function(c){return c===null}}}function zR(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function GR(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof fr)}}}function WR(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof be.app.App)}}}function vi(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var c=!r||u.providerId===r;return!(!u.ka||!c)}}}function m_(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function Es(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function hg(r,u){return C(r)&&typeof r.type=="string"&&r.type===u&&typeof r.Ha=="function"}function v_(r){return C(r)&&typeof r.uid=="string"}function Il(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Tt(r,u,c,h){return{name:c||"",K:r.K+" or "+u.K,optional:!!h,M:function(g){return r.M(g)||u.M(g)}}}function gt(r,u){for(var c in u){var h=u[c].name;r[h]=w_(h,r[c],u[c].j)}}function y_(r,u){for(var c in u){var h=u[c].name;h!==c&&Object.defineProperty(r,h,{get:W(function(g){return this[g]},c),set:W(function(g,y,w,T){p_(g,[w],[T],!0),this[y]=T},h,c,u[c].lb),enumerable:!0})}}function St(r,u,c,h){r[u]=w_(u,c,h)}function w_(r,u,c){function h(){var w=Array.prototype.slice.call(arguments);return p_(g,c,w),u.apply(this,w)}if(!c)return u;var g=XR(r),y;for(y in u)h[y]=u[y];for(y in u.prototype)h.prototype[y]=u.prototype[y];return h}function XR(r){return r=r.split("."),r[r.length-1]}gt(fr.prototype,{kb:{name:"applyActionCode",j:[de("code")]},Sa:{name:"checkActionCode",j:[de("code")]},ob:{name:"confirmPasswordReset",j:[de("code"),de("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[de("email"),de("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[de("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[de("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Tt(kt(),_s(),"nextOrObserver"),_s("opt_error",!0),_s("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Tt(kt(),_s(),"nextOrObserver"),_s("opt_error",!0),_s("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[de("email"),Tt(kt("opt_actionCodeSettings",!0),Rr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[de("email"),kt("actionCodeSettings")]},yb:{name:"setPersistence",j:[de("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[vi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[vi()]},Tc:{name:"signInWithCustomToken",j:[de("token")]},Uc:{name:"signInWithEmailAndPassword",j:[de("email"),de("password")]},Vc:{name:"signInWithEmailLink",j:[de("email"),de("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[de("phoneNumber"),Il()]},Xc:{name:"signInWithPopup",j:[Es()]},Yc:{name:"signInWithRedirect",j:[Es()]},dd:{name:"updateCurrentUser",j:[Tt(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(u){return!!(u&&u instanceof jn)}}}(),Rr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[de(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[de("url"),kt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[de("code")]}}),y_(fr.prototype,{lc:{name:"languageCode",lb:Tt(de(),Rr(),"languageCode")},ti:{name:"tenantId",lb:Tt(de(),Rr(),"tenantId")}}),fr.Persistence=ps,fr.Persistence.LOCAL="local",fr.Persistence.SESSION="session",fr.Persistence.NONE="none",gt(jn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[fg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[fg("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[vi()]},rb:{name:"linkWithCredential",j:[vi()]},Dc:{name:"linkWithPhoneNumber",j:[de("phoneNumber"),Il()]},Ec:{name:"linkWithPopup",j:[Es()]},Fc:{name:"linkWithRedirect",j:[Es()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[vi()]},ub:{name:"reauthenticateWithCredential",j:[vi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[de("phoneNumber"),Il()]},Nc:{name:"reauthenticateWithPopup",j:[Es()]},Oc:{name:"reauthenticateWithRedirect",j:[Es()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Tt(kt("opt_actionCodeSettings",!0),Rr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[de(null,!0)]},cd:{name:"unlink",j:[de("provider")]},Cb:{name:"updateEmail",j:[de("email")]},Db:{name:"updatePassword",j:[de("password")]},ed:{name:"updatePhoneNumber",j:[vi("phone")]},Eb:{name:"updateProfile",j:[kt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[de("email"),Tt(kt("opt_actionCodeSettings",!0),Rr(null,!0),"opt_actionCodeSettings",!0)]}}),gt(bs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),gt(ua.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),gt(Fe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),y_(Ub.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:fg("appVerificationDisabledForTesting")}}),gt(Cp.prototype,{confirm:{name:"confirm",j:[de("verificationCode")]}}),St(ls,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var u,c=[yC,wC,bC,vC],h=0;h<c.length;h++)if(u=c[h](r))return u;return null},[Tt(de(),kt(),"json")]),St(Zn,"credential",function(r,u){return new pi(r,u)},[de("email"),de("password")]),gt(pi.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),gt(so.prototype,{Ca:{name:"addScope",j:[de("scope")]},Ka:{name:"setCustomParameters",j:[kt("customOAuthParameters")]}}),St(so,"credential",bw,[Tt(de(),kt(),"token")]),St(Zn,"credentialWithLink",Tw,[de("email"),de("emailLink")]),gt(uo.prototype,{Ca:{name:"addScope",j:[de("scope")]},Ka:{name:"setCustomParameters",j:[kt("customOAuthParameters")]}}),St(uo,"credential",_w,[Tt(de(),kt(),"token")]),gt(ao.prototype,{Ca:{name:"addScope",j:[de("scope")]},Ka:{name:"setCustomParameters",j:[kt("customOAuthParameters")]}}),St(ao,"credential",Ew,[Tt(de(),Tt(kt(),Rr()),"idToken"),Tt(de(),Rr(),"accessToken",!0)]),gt(hs.prototype,{Ka:{name:"setCustomParameters",j:[kt("customOAuthParameters")]}}),St(hs,"credential",Iw,[Tt(de(),kt(),"token"),de("secret",!0)]),gt(Un.prototype,{Ca:{name:"addScope",j:[de("scope")]},credential:{name:"credential",j:[Tt(de(),Tt(kt(),Rr()),"optionsOrIdToken"),Tt(de(),Rr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[kt("customOAuthParameters")]}}),gt(Kr.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),gt(io.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),St(zr,"credential",Sw,[de("verificationId"),de("verificationCode")]),gt(zr.prototype,{gb:{name:"verifyPhoneNumber",j:[Tt(de(),function(r,u){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(c){return c?c.session&&c.phoneNumber?hg(c.session,Bu)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?hg(c.session,Kc)&&v_(c.multiFactorHint):c.session&&c.multiFactorUid?hg(c.session,Kc)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Il()]}}),gt(gi.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),gt(S.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),gt($u.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),gt(jd.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),gt(Op.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),gt(Rp.prototype,{Rc:{name:"resolveSignIn",j:[m_()]}}),gt(Pp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[m_(),de("displayName",!0)]},bd:{name:"unenroll",j:[Tt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:v_},de(),"multiFactorInfoIdentifier")]}}),gt(lg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),St(kd,"parseLink",nw,[de("link")]),St(rg,"assertion",function(r){return new $b(r)},[vi("phone")]),function(){if(typeof be<"u"&&be.INTERNAL&&be.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Uc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Ad,VERIFY_AND_CHANGE_EMAIL:ju,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:fr,AuthCredential:ls,Error:S};St(r,"EmailAuthProvider",Zn,[]),St(r,"FacebookAuthProvider",so,[]),St(r,"GithubAuthProvider",uo,[]),St(r,"GoogleAuthProvider",ao,[]),St(r,"TwitterAuthProvider",hs,[]),St(r,"OAuthProvider",Un,[de("providerId")]),St(r,"SAMLAuthProvider",ww,[de("providerId")]),St(r,"PhoneAuthProvider",zr,[GR()]),St(r,"RecaptchaVerifier",lg,[Tt(de(),zR(),"recaptchaContainer"),kt("recaptchaParameters",!0),WR()]),St(r,"ActionCodeURL",kd,[]),St(r,"PhoneMultiFactorGenerator",rg,[]),be.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new fr(u)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),be.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:O(u.getUid,u),getToken:O(u.nc,u),addAuthTokenListener:O(u.cc,u),removeAuthTokenListener:O(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),be.registerVersion("@firebase/auth","0.16.8"),be.INTERNAL.extendNamespace({User:jn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var am=function(e,t){return am=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},am(e,t)};function AL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");am(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function vS(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var kL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he,mv=mv||{},Se=kL||self;function cf(){}function cm(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function tc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function NL(e){return Object.prototype.hasOwnProperty.call(e,Ig)&&e[Ig]||(e[Ig]=++CL)}var Ig="closure_uid_"+(1e9*Math.random()>>>0),CL=0;function xL(e,t,n){return e.call.apply(e.bind,arguments)}function RL(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function Yt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yt=xL:Yt=RL,Yt.apply(null,arguments)}function Rl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function Zt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(i,a)}}function $i(){this.s=this.s,this.o=this.o}var OL=0;$i.prototype.s=!1;$i.prototype.na=function(){!this.s&&(this.s=!0,this.M(),OL!=0)&&NL(this)};$i.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var yS=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},wS=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<i;s++)s in o&&t.call(n,o[s],s,e)};function DL(e){e:{for(var t=TM,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function eE(e){return Array.prototype.concat.apply([],arguments)}function vv(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function lf(e){return/^[\s\xa0]*$/.test(e)}var tE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function bn(e,t){return e.indexOf(t)!=-1}function Tg(e,t){return e<t?-1:e>t?1:0}var _n;e:{var nE=Se.navigator;if(nE){var rE=nE.userAgent;if(rE){_n=rE;break e}}_n=""}function yv(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function bS(e){var t={};for(var n in e)t[n]=e[n];return t}var iE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _S(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var s=0;s<iE.length;s++)n=iE[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function wv(e){return wv[" "](e),e}wv[" "]=cf;function PL(e){var t=FL;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var LL=bn(_n,"Opera"),Gs=bn(_n,"Trident")||bn(_n,"MSIE"),ES=bn(_n,"Edge"),lm=ES||Gs,IS=bn(_n,"Gecko")&&!(bn(_n.toLowerCase(),"webkit")&&!bn(_n,"Edge"))&&!(bn(_n,"Trident")||bn(_n,"MSIE"))&&!bn(_n,"Edge"),ML=bn(_n.toLowerCase(),"webkit")&&!bn(_n,"Edge");function TS(){var e=Se.document;return e?e.documentMode:void 0}var ff;e:{var Sg="",Ag=function(){var e=_n;if(IS)return/rv:([^\);]+)(\)|;)/.exec(e);if(ES)return/Edge\/([\d\.]+)/.exec(e);if(Gs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(ML)return/WebKit\/(\S+)/.exec(e);if(LL)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ag&&(Sg=Ag?Ag[1]:""),Gs){var kg=TS();if(kg!=null&&kg>parseFloat(Sg)){ff=String(kg);break e}}ff=Sg}var FL={};function UL(){return PL(function(){for(var e=0,t=tE(String(ff)).split("."),n=tE("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var s=t[o]||"",a=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=Tg(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||Tg(s[2].length==0,a[2].length==0)||Tg(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var fm;if(Se.document&&Gs){var oE=TS();fm=oE||parseInt(ff,10)||void 0}else fm=void 0;var jL=fm,VL=function(){if(!Se.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Se.addEventListener("test",cf,t),Se.removeEventListener("test",cf,t)}catch{}return e}();function an(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}an.prototype.h=function(){this.defaultPrevented=!0};function Ma(e,t){if(an.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(IS){e:{try{wv(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:BL[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ma.Z.h.call(this)}}Zt(Ma,an);var BL={2:"touch",3:"pen",4:"mouse"};Ma.prototype.h=function(){Ma.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var nc="closure_listenable_"+(1e6*Math.random()|0),qL=0;function $L(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++qL,this.ca=this.fa=!1}function nh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function rh(e){this.src=e,this.g={},this.h=0}rh.prototype.add=function(e,t,n,i,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=dm(e,t,i,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new $L(t,this.src,s,!!i,o),t.fa=n,e.push(t)),t};function hm(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=yS(i,t),s;(s=0<=o)&&Array.prototype.splice.call(i,o,1),s&&(nh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function dm(e,t,n,i){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return o}return-1}var bv="closure_lm_"+(1e6*Math.random()|0),Ng={};function SS(e,t,n,i,o){if(i&&i.once)return kS(e,t,n,i,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)SS(e,t[s],n,i,o);return null}return n=Iv(n),e&&e[nc]?e.N(t,n,tc(i)?!!i.capture:!!i,o):AS(e,t,n,!1,i,o)}function AS(e,t,n,i,o,s){if(!t)throw Error("Invalid event type");var a=tc(o)?!!o.capture:!!o,l=Ev(e);if(l||(e[bv]=l=new rh(e)),n=l.add(t,n,i,a,s),n.proxy)return n;if(i=HL(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)VL||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(CS(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function HL(){function e(n){return t.call(e.src,e.listener,n)}var t=KL;return e}function kS(e,t,n,i,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)kS(e,t[s],n,i,o);return null}return n=Iv(n),e&&e[nc]?e.O(t,n,tc(i)?!!i.capture:!!i,o):AS(e,t,n,!0,i,o)}function NS(e,t,n,i,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)NS(e,t[s],n,i,o);else i=tc(i)?!!i.capture:!!i,n=Iv(n),e&&e[nc]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=dm(s,n,i,o),-1<n&&(nh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Ev(e))&&(t=e.g[t.toString()],e=-1,t&&(e=dm(t,n,i,o)),(n=-1<e?t[e]:null)&&_v(n))}function _v(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[nc])hm(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(CS(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Ev(t))?(hm(n,e),n.h==0&&(n.src=null,t[bv]=null)):nh(e)}}}function CS(e){return e in Ng?Ng[e]:Ng[e]="on"+e}function KL(e,t){if(e.ca)e=!0;else{t=new Ma(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&_v(e),e=n.call(i,t)}return e}function Ev(e){return e=e[bv],e instanceof rh?e:null}var Cg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iv(e){return typeof e=="function"?e:(e[Cg]||(e[Cg]=function(t){return e.handleEvent(t)}),e[Cg])}function qt(){$i.call(this),this.i=new rh(this),this.P=this,this.I=null}Zt(qt,$i);qt.prototype[nc]=!0;qt.prototype.removeEventListener=function(e,t,n,i){NS(this,e,t,n,i)};function Jt(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new an(t,e);else if(t instanceof an)t.target=t.target||e;else{var o=t;t=new an(i,e),_S(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];o=Ol(a,i,!0,t)&&o}if(a=t.g=e,o=Ol(a,i,!0,t)&&o,o=Ol(a,i,!1,t)&&o,n)for(s=0;s<n.length;s++)a=t.g=n[s],o=Ol(a,i,!1,t)&&o}qt.prototype.M=function(){if(qt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)nh(n[i]);delete e.g[t],e.h--}}this.I=null};qt.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};qt.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Ol(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&hm(e.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Tv=Se.JSON.stringify;function zL(){var e=RS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var GL=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=xS.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),xS=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new WL},function(e){return e.reset()}),WL=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function XL(e){Se.setTimeout(function(){throw e},0)}function Sv(e,t){pm||QL(),gm||(pm(),gm=!0),RS.add(e,t)}var pm;function QL(){var e=Se.Promise.resolve(void 0);pm=function(){e.then(YL)}}var gm=!1,RS=new GL;function YL(){for(var e;e=zL();){try{e.h.call(e.g)}catch(n){XL(n)}var t=xS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}gm=!1}function ih(e,t){qt.call(this),this.h=e||1,this.g=t||Se,this.j=Yt(this.kb,this),this.l=Date.now()}Zt(ih,qt);he=ih.prototype;he.da=!1;he.S=null;he.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Jt(this,"tick"),this.da&&(Av(this),this.start()))}};he.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Av(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}he.M=function(){ih.Z.M.call(this),Av(this),delete this.g};function kv(e,t,n){if(typeof e=="function")n&&(e=Yt(e,n));else if(e&&typeof e.handleEvent=="function")e=Yt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Se.setTimeout(e,t||0)}function OS(e){e.g=kv(function(){e.g=null,e.i&&(e.i=!1,OS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var JL=function(e){AL(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:OS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}($i);function Fa(e){$i.call(this),this.h=e,this.g={}}Zt(Fa,$i);var sE=[];function DS(e,t,n,i){Array.isArray(n)||(n&&(sE[0]=n.toString()),n=sE);for(var o=0;o<n.length;o++){var s=SS(t,n[o],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function PS(e){yv(e.g,function(t,n){this.g.hasOwnProperty(n)&&_v(t)},e),e.g={}}Fa.prototype.M=function(){Fa.Z.M.call(this),PS(this)};Fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function oh(){this.g=!0}oh.prototype.Aa=function(){this.g=!1};function ZL(e,t,n,i,o,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var p=d[0];d=d[1];var m=p.split("_");a=2<=m.length&&m[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function eM(e,t,n,i,o,s,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+a})}function Ds(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+nM(e,n)+(i?" "+i:"")})}function tM(e,t){e.info(function(){return"TIMEOUT: "+t})}oh.prototype.info=function(){};function nM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Tv(n)}catch{return t}}var zo={},uE=null;function sh(){return uE=uE||new qt}zo.Ma="serverreachability";function LS(e){an.call(this,zo.Ma,e)}Zt(LS,an);function Ua(e){var t=sh();Jt(t,new LS(t))}zo.STAT_EVENT="statevent";function MS(e,t){an.call(this,zo.STAT_EVENT,e),this.stat=t}Zt(MS,an);function En(e){var t=sh();Jt(t,new MS(t,e))}zo.Na="timingevent";function FS(e,t){an.call(this,zo.Na,e),this.size=t}Zt(FS,an);function rc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Se.setTimeout(function(){e()},t)}var uh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},US={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Nv(){}Nv.prototype.h=null;function aE(e){return e.h||(e.h=e.i())}function jS(){}var ic={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Cv(){an.call(this,"d")}Zt(Cv,an);function xv(){an.call(this,"c")}Zt(xv,an);var mm;function ah(){}Zt(ah,Nv);ah.prototype.g=function(){return new XMLHttpRequest};ah.prototype.i=function(){return{}};mm=new ah;function oc(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new Fa(this),this.P=rM,e=lm?125:void 0,this.W=new ih(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new VS}function VS(){this.i=null,this.g="",this.h=!1}var rM=45e3,vm={},hf={};he=oc.prototype;he.setTimeout=function(e){this.P=e};function ym(e,t,n){e.K=1,e.v=lh(ii(t)),e.s=n,e.U=!0,BS(e,null)}function BS(e,t){e.F=Date.now(),sc(e),e.A=ii(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),WS(n.h,"t",i),e.C=0,n=e.l.H,e.h=new VS,e.g=p1(e.l,n?t:null,!e.s),0<e.O&&(e.L=new JL(Yt(e.Ia,e,e.g),e.O)),DS(e.V,e.g,"readystatechange",e.gb),t=e.H?bS(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ua(),ZL(e.j,e.u,e.A,e.m,e.X,e.s)}he.gb=function(e){e=e.target;var t=this.L;t&&Yr(e)==3?t.l():this.Ia(e)};he.Ia=function(e){try{if(e==this.g)e:{var t=Yr(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||lm||this.g&&(this.h.h||this.g.ga()||hE(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?Ua(3):Ua(2)),ch(this);var o=this.g.ba();this.N=o;t:if(qS(this)){var s=hE(this.g);e="";var a=s.length,l=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ao(this),wa(this);var f="";break t}this.h.i=new Se.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,eM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lf(d)){var m=d;break t}}m=null}if(o=m)Ds(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wm(this,o);else{this.i=!1,this.o=3,En(12),Ao(this),wa(this);break e}}this.U?($S(this,t,f),lm&&this.i&&t==3&&(DS(this.V,this.W,"tick",this.fb),this.W.start())):(Ds(this.j,this.m,f,null),wm(this,f)),t==4&&Ao(this),this.i&&!this.I&&(t==4?l1(this.l,this):(this.i=!1,sc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,En(12)):(this.o=0,En(13)),Ao(this),wa(this)}}}catch{}finally{}};function qS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function $S(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=iM(e,n),o==hf){t==4&&(e.o=4,En(14),i=!1),Ds(e.j,e.m,null,"[Incomplete Response]");break}else if(o==vm){e.o=4,En(15),Ds(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Ds(e.j,e.m,o,null),wm(e,o);qS(e)&&o!=hf&&o!=vm&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,En(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),jv(t),t.L=!0,En(11))):(Ds(e.j,e.m,n,"[Invalid Chunked Response]"),Ao(e),wa(e))}he.fb=function(){if(this.g){var e=Yr(this.g),t=this.g.ga();this.C<t.length&&(ch(this),$S(this,e,t),this.i&&e!=4&&sc(this))}};function iM(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?hf:(n=Number(t.substring(n,i)),isNaN(n)?vm:(i+=1,i+n>t.length?hf:(t=t.substr(i,n),e.C=i+n,t)))}he.cancel=function(){this.I=!0,Ao(this)};function sc(e){e.Y=Date.now()+e.P,HS(e,e.P)}function HS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=rc(Yt(e.eb,e),t)}function ch(e){e.B&&(Se.clearTimeout(e.B),e.B=null)}he.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(tM(this.j,this.A),this.K!=2&&(Ua(),En(17)),Ao(this),this.o=2,wa(this)):HS(this,this.Y-e)};function wa(e){e.l.G==0||e.I||l1(e.l,e)}function Ao(e){ch(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Av(e.W),PS(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function wm(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||bm(n.i,e))){if(n.I=e.N,!e.J&&bm(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)mf(n),dh(n);else break e;Uv(n),En(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=rc(Yt(n.ab,n),6e3));if(1>=YS(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else ko(n,11)}else if((e.J||n.g==e)&&mf(n),!lf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=e.g;if(d){var p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var m=i.i;!m.g&&(bn(p,"spdy")||bn(p,"quic")||bn(p,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(Dv(m,m.h),m.h=null))}if(i.D){var v=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(i.sa=v,ft(i.F,i.D,v))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=e;if(i.oa=d1(i,i.H?i.la:null,i.W),b.J){JS(i.i,b);var _=b,I=i.K;I&&_.setTimeout(I),_.B&&(ch(_),sc(_)),i.g=b}else a1(i);0<n.l.length&&ph(n)}else s[0]!="stop"&&s[0]!="close"||ko(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?ko(n,7):Fv(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Ua(4)}catch{}}function oM(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(cm(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Rv(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(cm(e)||typeof e=="string")wS(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(cm(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=oM(e),o=i.length;for(var s=0;s<o;s++)t.call(void 0,i[s],n&&n[s],e)}}function vu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof vu)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}he=vu.prototype;he.R=function(){Ov(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};he.T=function(){return Ov(this),this.g.concat()};function Ov(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Uo(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],Uo(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}he.get=function(e,t){return Uo(this.h,e)?this.h[e]:t};he.set=function(e,t){Uo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};he.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],s=this.get(o);e.call(t,s,o,this)}};function Uo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var KS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var s=e[n].substring(0,i);o=e[n].substring(i+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function jo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof jo){this.g=t!==void 0?t:e.g,df(this,e.j),this.s=e.s,pf(this,e.i),gf(this,e.m),this.l=e.l,t=e.h;var n=new ja;n.i=t.i,t.g&&(n.g=new vu(t.g),n.h=t.h),cE(this,n),this.o=e.o}else e&&(n=String(e).match(KS))?(this.g=!!t,df(this,n[1]||"",!0),this.s=ba(n[2]||""),pf(this,n[3]||"",!0),gf(this,n[4]),this.l=ba(n[5]||"",!0),cE(this,n[6]||"",!0),this.o=ba(n[7]||"")):(this.g=!!t,this.h=new ja(null,this.g))}jo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(da(t,lE,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(da(t,lE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(da(n,n.charAt(0)=="/"?fM:lM,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",da(n,dM)),e.join("")};function ii(e){return new jo(e)}function df(e,t,n){e.j=n?ba(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pf(e,t,n){e.i=n?ba(t,!0):t}function gf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function cE(e,t,n){t instanceof ja?(e.h=t,pM(e.h,e.g)):(n||(t=da(t,hM)),e.h=new ja(t,e.g))}function ft(e,t,n){e.h.set(t,n)}function lh(e){return ft(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function uM(e){return e instanceof jo?ii(e):new jo(e,void 0)}function aM(e,t,n,i){var o=new jo(null,void 0);return e&&df(o,e),t&&pf(o,t),n&&gf(o,n),i&&(o.l=i),o}function ba(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function da(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,cM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var lE=/[#\/\?@]/g,lM=/[#\?:]/g,fM=/[#\?]/g,hM=/[#\?@]/g,dM=/#/g;function ja(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Hi(e){e.g||(e.g=new vu,e.h=0,e.i&&sM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}he=ja.prototype;he.add=function(e,t){Hi(this),this.i=null,e=yu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function zS(e,t){Hi(e),t=yu(e,t),Uo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Uo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ov(e)))}function GS(e,t){return Hi(e),t=yu(e,t),Uo(e.g.h,t)}he.forEach=function(e,t){Hi(this),this.g.forEach(function(n,i){wS(n,function(o){e.call(t,o,i,this)},this)},this)};he.T=function(){Hi(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],s=0;s<o.length;s++)n.push(t[i]);return n};he.R=function(e){Hi(this);var t=[];if(typeof e=="string")GS(this,e)&&(t=eE(t,this.g.get(yu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=eE(t,e[n])}return t};he.set=function(e,t){return Hi(this),this.i=null,e=yu(this,e),GS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};he.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function WS(e,t,n){zS(e,t),0<n.length&&(e.i=null,e.g.set(yu(e,t),vv(n)),e.h+=n.length)}he.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var a=o;i[s]!==""&&(a+="="+encodeURIComponent(String(i[s]))),e.push(a)}}return this.i=e.join("&")};function yu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function pM(e,t){t&&!e.j&&(Hi(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(zS(this,i),WS(this,o,n))},e)),e.j=t}var gM=function(){function e(t,n){this.h=t,this.g=n}return e}();function XS(e){this.l=e||mM,Se.PerformanceNavigationTiming?(e=Se.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Se.g&&Se.g.Ea&&Se.g.Ea()&&Se.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mM=10;function QS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function YS(e){return e.h?1:e.g?e.g.size:0}function bm(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Dv(e,t){e.g?e.g.add(t):e.h=t}function JS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}XS.prototype.cancel=function(){var e,t;if(this.i=ZS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=vS(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function ZS(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=vS(e.g.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return vv(e.i)}function Pv(){}Pv.prototype.stringify=function(e){return Se.JSON.stringify(e,void 0)};Pv.prototype.parse=function(e){return Se.JSON.parse(e,void 0)};function vM(){this.g=new Pv}function yM(e,t,n){var i=n||"";try{Rv(e,function(o,s){var a=o;tc(o)&&(a=Tv(o)),t.push(i+s+"="+encodeURIComponent(a))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function wM(e,t){var n=new oh;if(Se.Image){var i=new Image;i.onload=Rl(Dl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Rl(Dl,n,i,"TestLoadImage: error",!1,t),i.onabort=Rl(Dl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Rl(Dl,n,i,"TestLoadImage: timeout",!1,t),Se.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Dl(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function uc(e){this.l=e.$b||null,this.j=e.ib||!1}Zt(uc,Nv);uc.prototype.g=function(){return new fh(this.l,this.j)};uc.prototype.i=function(e){return function(){return e}}({});function fh(e,t){qt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Lv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zt(fh,qt);var Lv=0;he=fh.prototype;he.open=function(e,t){if(this.readyState!=Lv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Va(this)};he.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Se).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ac(this)),this.readyState=Lv};he.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Va(this)),this.g&&(this.readyState=3,Va(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Se.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;e1(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function e1(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}he.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ac(this):Va(this),this.readyState==3&&e1(this)}};he.Ua=function(e){this.g&&(this.response=this.responseText=e,ac(this))};he.Ta=function(e){this.g&&(this.response=e,ac(this))};he.ha=function(){this.g&&ac(this)};function ac(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Va(e)}he.setRequestHeader=function(e,t){this.v.append(e,t)};he.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};he.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Va(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(fh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var bM=Se.JSON.parse;function Ot(e){qt.call(this),this.headers=new vu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=t1,this.K=this.L=!1}Zt(Ot,qt);var t1="",_M=/^https?$/i,EM=["POST","PUT"];he=Ot.prototype;he.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mm.g(),this.C=this.u?aE(this.u):aE(mm),this.g.onreadystatechange=Yt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){fE(this,s);return}e=n||"";var o=new vu(this.headers);i&&Rv(i,function(s,a){o.set(a,s)}),i=DL(o.T()),n=Se.FormData&&e instanceof Se.FormData,!(0<=yS(EM,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{i1(this),0<this.B&&((this.K=IM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.pa,this)):this.A=kv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){fE(this,s)}};function IM(e){return Gs&&UL()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function TM(e){return e.toLowerCase()=="content-type"}he.pa=function(){typeof mv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))};function fE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,n1(e),hh(e)}function n1(e){e.D||(e.D=!0,Jt(e,"complete"),Jt(e,"error"))}he.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Jt(this,"complete"),Jt(this,"abort"),hh(this))};he.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hh(this,!0)),Ot.Z.M.call(this)};he.Fa=function(){this.s||(this.F||this.v||this.l?r1(this):this.cb())};he.cb=function(){r1(this)};function r1(e){if(e.h&&typeof mv<"u"&&(!e.C[1]||Yr(e)!=4||e.ba()!=2)){if(e.v&&Yr(e)==4)kv(e.Fa,0,e);else if(Jt(e,"readystatechange"),Yr(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var s=String(e.H).match(KS)[1]||null;if(!s&&Se.self&&Se.self.location){var a=Se.self.location.protocol;s=a.substr(0,a.length-1)}o=!_M.test(s?s.toLowerCase():"")}i=o}if(i)Jt(e,"complete"),Jt(e,"success");else{e.m=6;try{var l=2<Yr(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",n1(e)}}finally{hh(e)}}}}function hh(e,t){if(e.g){i1(e);var n=e.g,i=e.C[0]?cf:null;e.g=null,e.C=null,t||Jt(e,"ready");try{n.onreadystatechange=i}catch{}}}function i1(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Se.clearTimeout(e.A),e.A=null)}function Yr(e){return e.g?e.g.readyState:0}he.ba=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}};he.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};he.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),bM(t)}};function hE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case t1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}he.Da=function(){return this.m};he.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function SM(e){var t="";return yv(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Mv(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=SM(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ft(e,t,n))}function ca(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function o1(e){this.za=0,this.l=[],this.h=new oh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ca("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ca("baseRetryDelayMs",5e3,e),this.$a=ca("retryDelaySeedMs",1e4,e),this.Ya=ca("forwardChannelMaxRetries",2,e),this.ra=ca("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new XS(e&&e.concurrentRequestLimit),this.Ca=new vM,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}he=o1.prototype;he.ma=8;he.G=1;function Fv(e){if(s1(e),e.G==3){var t=e.V++,n=ii(e.F);ft(n,"SID",e.J),ft(n,"RID",t),ft(n,"TYPE","terminate"),cc(e,n),t=new oc(e,e.h,t,void 0),t.K=2,t.v=lh(ii(n)),n=!1,Se.navigator&&Se.navigator.sendBeacon&&(n=Se.navigator.sendBeacon(t.v.toString(),"")),!n&&Se.Image&&(new Image().src=t.v,n=!0),n||(t.g=p1(t.l,null),t.g.ea(t.v)),t.F=Date.now(),sc(t)}h1(e)}he.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function dh(e){e.g&&(jv(e),e.g.cancel(),e.g=null)}function s1(e){dh(e),e.u&&(Se.clearTimeout(e.u),e.u=null),mf(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Se.clearTimeout(e.m),e.m=null)}function xg(e,t){e.l.push(new gM(e.Za++,t)),e.G==3&&ph(e)}function ph(e){QS(e.i)||e.m||(e.m=!0,Sv(e.Ha,e),e.C=0)}function AM(e,t){return YS(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=rc(Yt(e.Ha,e,t),f1(e,e.C)),e.C++,!0)}he.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new oc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=bS(n),_S(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(i+=s,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=u1(this,t,i),o=ii(this.F),ft(o,"RID",e),ft(o,"CVER",22),this.D&&ft(o,"X-HTTP-Session-Id",this.D),cc(this,o),this.o&&n&&Mv(o,this.o,n),Dv(this.i,t),this.Ra&&ft(o,"TYPE","init"),this.ja?(ft(o,"$req",i),ft(o,"SID","null"),t.$=!0,ym(t,o,null)):ym(t,o,i),this.G=2}}else this.G==3&&(e?dE(this,e):this.l.length==0||QS(this.i)||dE(this))};function dE(e,t){var n;t?n=t.m:n=e.V++;var i=ii(e.F);ft(i,"SID",e.J),ft(i,"RID",n),ft(i,"AID",e.U),cc(e,i),e.o&&e.s&&Mv(i,e.o,e.s),n=new oc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=u1(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Dv(e.i,n),ym(n,i,t)}function cc(e,t){e.j&&Rv({},function(n,i){ft(t,i,n)})}function u1(e,t,n){n=Math.min(e.l.length,n);var i=e.j?Yt(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=o[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var d=o[f].h,p=o[f].g;if(d-=s,0>d)s=Math.max(0,o[f].h-100),l=!1;else try{yM(p,a,"req"+d+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function a1(e){e.g||e.u||(e.Y=1,Sv(e.Ga,e),e.A=0)}function Uv(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=rc(Yt(e.Ga,e),f1(e,e.A)),e.A++,!0)}he.Ga=function(){if(this.u=null,c1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=rc(Yt(this.bb,this),e)}};he.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,En(10),dh(this),c1(this))};function jv(e){e.B!=null&&(Se.clearTimeout(e.B),e.B=null)}function c1(e){e.g=new oc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=ii(e.oa);ft(t,"RID","rpc"),ft(t,"SID",e.J),ft(t,"CI",e.N?"0":"1"),ft(t,"AID",e.U),cc(e,t),ft(t,"TYPE","xmlhttp"),e.o&&e.s&&Mv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=lh(ii(t)),n.s=null,n.U=!0,BS(n,e)}he.ab=function(){this.v!=null&&(this.v=null,dh(this),Uv(this),En(19))};function mf(e){e.v!=null&&(Se.clearTimeout(e.v),e.v=null)}function l1(e,t){var n=null;if(e.g==t){mf(e),jv(e),e.g=null;var i=2}else if(bm(e.i,t))n=t.D,JS(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=sh(),Jt(i,new FS(i,n)),ph(e)}else a1(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&AM(e,t)||i==2&&Uv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:ko(e,5);break;case 4:ko(e,10);break;case 3:ko(e,6);break;default:ko(e,2)}}}function f1(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ko(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=Yt(e.jb,e);n||(n=new jo("//www.google.com/images/cleardot.gif"),Se.location&&Se.location.protocol=="http"||df(n,"https"),lh(n)),wM(n.toString(),i)}else En(2);e.G=0,e.j&&e.j.va(t),h1(e),s1(e)}he.jb=function(e){e?(this.h.info("Successfully pinged google.com"),En(2)):(this.h.info("Failed to ping google.com"),En(1))};function h1(e){e.G=0,e.I=-1,e.j&&((ZS(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,vv(e.l),e.l.length=0),e.j.ua())}function d1(e,t,n){var i=uM(n);if(i.i!="")t&&pf(i,t+"."+i.i),gf(i,i.m);else{var o=Se.location;i=aM(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&yv(e.aa,function(s,a){ft(i,a,s)}),t=e.D,n=e.sa,t&&n&&ft(i,t,n),ft(i,"VER",e.ma),cc(e,i),i}function p1(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Ot(new uc({ib:!0})):new Ot(e.qa),t.L=e.H,t}function g1(){}he=g1.prototype;he.xa=function(){};he.wa=function(){};he.va=function(){};he.ua=function(){};he.Oa=function(){};function vf(){if(Gs&&!(10<=Number(jL)))throw Error("Environmental error: no available transport.")}vf.prototype.g=function(e,t){return new Qn(e,t)};function Qn(e,t){qt.call(this),this.g=new o1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!lf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!lf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new wu(this)}Zt(Qn,qt);Qn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Sv(Yt(e.hb,e,t))),En(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=d1(e,null,e.W),ph(e)};Qn.prototype.close=function(){Fv(this.g)};Qn.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,xg(this.g,t)}else this.v?(t={},t.__data__=Tv(e),xg(this.g,t)):xg(this.g,e)};Qn.prototype.M=function(){this.g.j=null,delete this.j,Fv(this.g),delete this.g,Qn.Z.M.call(this)};function m1(e){Cv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Zt(m1,Cv);function v1(){xv.call(this),this.status=1}Zt(v1,xv);function wu(e){this.g=e}Zt(wu,g1);wu.prototype.xa=function(){Jt(this.g,"a")};wu.prototype.wa=function(e){Jt(this.g,new m1(e))};wu.prototype.va=function(e){Jt(this.g,new v1)};wu.prototype.ua=function(){Jt(this.g,"b")};vf.prototype.createWebChannel=vf.prototype.g;Qn.prototype.send=Qn.prototype.u;Qn.prototype.open=Qn.prototype.m;Qn.prototype.close=Qn.prototype.close;uh.NO_ERROR=0;uh.TIMEOUT=8;uh.HTTP_ERROR=6;US.COMPLETE="complete";jS.EventType=ic;ic.OPEN="a";ic.CLOSE="b";ic.ERROR="c";ic.MESSAGE="d";qt.prototype.listen=qt.prototype.N;Ot.prototype.listenOnce=Ot.prototype.O;Ot.prototype.getLastError=Ot.prototype.La;Ot.prototype.getLastErrorCode=Ot.prototype.Da;Ot.prototype.getStatus=Ot.prototype.ba;Ot.prototype.getResponseJson=Ot.prototype.Qa;Ot.prototype.getResponseText=Ot.prototype.ga;Ot.prototype.send=Ot.prototype.ea;var kM=function(){return new vf},NM=function(){return sh()},Rg=uh,CM=US,xM=zo,pE={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},RM=uc,Pl=jS,OM=Ot;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();zn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return ye(t,e),t}(Error),yr=new dS("@firebase/firestore");function _m(){return yr.logLevel}function ne(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(yr.logLevel<=Ke.DEBUG){var i=t.map(Vv);yr.debug.apply(yr,lt(["Firestore (8.10.1): "+e],i))}}function xt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(yr.logLevel<=Ke.ERROR){var i=t.map(Vv);yr.error.apply(yr,lt(["Firestore (8.10.1): "+e],i))}}function yf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(yr.logLevel<=Ke.WARN){var i=t.map(Vv);yr.warn.apply(yr,lt(["Firestore (8.10.1): "+e],i))}}function Vv(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw xt(t),new Error(t)}function Ee(e,t){e||ge()}function ce(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y1=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=DM(40),s=0;s<o.length;++s)i.length<20&&o[s]<n&&(i+=t.charAt(o[s]%t.length));return i},e}();function je(e,t){return e<t?-1:e>t?1:0}function Ws(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function w1(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?je(this.nanoseconds,t.nanoseconds):je(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Me=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new On(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Go(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function b1(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _1=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&ge(),i===void 0?i=t.length-n:i>t.length-n&&ge(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var s=t.get(o),a=n.get(o);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Qe=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(_1),PM=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_r=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return PM.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",s=0,a=function(){if(o.length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(a(),s++)}if(a(),l)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(_1),Xs=function(){function e(t){this.fields=t,t.sort(_r.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Ws(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),Dn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return je(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Dn.EMPTY_BYTE_STRING=new Dn("");var LM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(e){if(Ee(!!e),typeof e=="string"){var t=0,n=LM.exec(e);if(Ee(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Ct(e.seconds),nanos:Ct(e.nanos)}}function Ct(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Qs(e){return typeof e=="string"?Dn.fromBase64String(e):Dn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function E1(e){var t=e.mapValue.fields.__previous_value__;return Bv(t)?E1(t):t}function Ba(e){var t=Bi(e.mapValue.fields.__local_write_time__.timestampValue);return new On(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(e){return e==null}function wf(e){return e===0&&1/e==-1/0}function I1(e){return typeof e=="number"&&Number.isInteger(e)&&!wf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Qe.fromString(t))},e.fromName=function(t){return new e(Qe.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Qe.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Qe.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Qe(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bv(e)?4:10:ge()}function Br(e,t){var n=Vo(e);if(n!==Vo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ba(e).isEqual(Ba(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var s=Bi(i.timestampValue),a=Bi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Qs(i.bytesValue).isEqual(Qs(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Ct(i.geoPointValue.latitude)===Ct(o.geoPointValue.latitude)&&Ct(i.geoPointValue.longitude)===Ct(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ct(i.integerValue)===Ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var s=Ct(i.doubleValue),a=Ct(o.doubleValue);return s===a?wf(s)===wf(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Ws(e.arrayValue.values||[],t.arrayValue.values||[],Br);case 10:return function(i,o){var s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(gE(s)!==gE(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Br(s[l],a[l])))return!1;return!0}(e,t);default:return ge()}}function qa(e,t){return(e.values||[]).find(function(n){return Br(n,t)})!==void 0}function Ys(e,t){var n=Vo(e),i=Vo(t);if(n!==i)return je(n,i);switch(n){case 0:return 0;case 1:return je(e.booleanValue,t.booleanValue);case 2:return function(o,s){var a=Ct(o.integerValue||o.doubleValue),l=Ct(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return mE(e.timestampValue,t.timestampValue);case 4:return mE(Ba(e),Ba(t));case 5:return je(e.stringValue,t.stringValue);case 6:return function(o,s){var a=Qs(o),l=Qs(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var a=o.split("/"),l=s.split("/"),f=0;f<a.length&&f<l.length;f++){var d=je(a[f],l[f]);if(d!==0)return d}return je(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var a=je(Ct(o.latitude),Ct(s.latitude));return a!==0?a:je(Ct(o.longitude),Ct(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var a=o.values||[],l=s.values||[],f=0;f<a.length&&f<l.length;++f){var d=Ys(a[f],l[f]);if(d)return d}return je(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a=o.fields||{},l=Object.keys(a),f=s.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var p=0;p<l.length&&p<d.length;++p){var m=je(l[p],d[p]);if(m!==0)return m;var v=Ys(a[l[p]],f[d[p]]);if(v!==0)return v}return je(l.length,d.length)}(e.mapValue,t.mapValue);default:throw ge()}}function mE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return je(e,t);var n=Bi(e),i=Bi(t),o=je(n.seconds,i.seconds);return o!==0?o:je(n.nanos,i.nanos)}function qv(e){return Em(e)}function Em(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=Bi(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Qs(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,me.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",s=!0,a=0,l=i.values||[];a<l.length;a++)s?s=!1:o+=",",o+=Em(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",s=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];s?s=!1:o+=",",o+=f+":"+Em(i.fields[f])}return o+"}"}(e.mapValue):ge();var t,n}function bf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Im(e){return!!e&&"integerValue"in e}function $v(e){return!!e&&"arrayValue"in e}function vE(e){return!!e&&"nullValue"in e}function yE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ql(e){return!!e&&"mapValue"in e}function _a(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Go(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=_a(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=_a(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!Ql(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=_a(n)},e.prototype.setAll=function(t){var n=this,i=_r.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,s),o={},s=[],i=f.popLast()}l?o[f.lastSegment()]=_a(l):s.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Br(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];Ql(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){Go(n,function(l,f){return t[l]=f});for(var o=0,s=i;o<s.length;o++){var a=s[o];delete t[a]}},e.prototype.clone=function(){return new e(_a(this.value))},e}();function T1(e){var t=[];return Go(e.fields,function(n,i){var o=new _r([n]);if(Ql(i)){var s=T1(i.mapValue).fields;if(s.length===0)t.push(o);else for(var a=0,l=s;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new Xs(t)}var ln=function(){function e(t,n,i,o,s){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Me.min(),$n.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,$n.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,$n.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=$n.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=$n.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),MM=function(e,t,n,i,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(e,t,n,i,o,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),new MM(e,t,n,i,o,s,a)}function lc(e){var t=ce(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+qv(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Wo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ef(t.startAt)),t.endAt&&(n+="|ub:",n+=Ef(t.endAt)),t.h=n}return t.h}function gh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!HM(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],s=t.filters[i],o.op!==s.op||!o.field.isEqual(s.field)||!Br(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_E(e.startAt,t.startAt)&&_E(e.endAt,t.endAt)}function _f(e){return me.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Gn=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).field=n,s.op=i,s.value=o,s}return ye(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new FM(n,i,o):i==="array-contains"?new VM(n,o):i==="in"?new BM(n,o):i==="not-in"?new qM(n,o):i==="array-contains-any"?new $M(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new UM(n,o):new jM(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(Ys(i,this.value)):i!==null&&Vo(this.value)===Vo(i)&&this.m(Ys(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ge()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),FM=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,o)||this).key=me.fromName(o.referenceValue),s}return ye(t,e),t.prototype.matches=function(n){var i=me.comparator(n.key,this.key);return this.m(i)},t}(Gn),UM=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=S1("in",i),o}return ye(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(Gn),jM=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=S1("not-in",i),o}return ye(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(Gn);function S1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return me.fromName(i.referenceValue)})}var VM=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return ye(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return $v(i)&&qa(i.arrayValue,this.value)},t}(Gn),BM=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return ye(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&qa(this.value.arrayValue,i)},t}(Gn),qM=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return ye(t,e),t.prototype.matches=function(n){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!qa(this.value.arrayValue,i)},t}(Gn),$M=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return ye(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!$v(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return qa(i.value.arrayValue,s)})},t}(Gn),$a=function(e,t){this.position=e,this.before=t};function Ef(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return qv(t)}).join(",")}var js=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function HM(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function bE(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var s=t[o],a=e.position[o];if(i=s.field.isKeyField()?me.comparator(me.fromName(a.referenceValue),n.key):Ys(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function _E(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Br(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui=function(e,t,n,i,o,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function A1(e,t,n,i,o,s,a,l){return new ui(e,t,n,i,o,s,a,l)}function fc(e){return new ui(e)}function Yl(e){return!Wo(e.limit)&&e.limitType==="F"}function If(e){return!Wo(e.limit)&&e.limitType==="L"}function Hv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Kv(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function zv(e){return e.collectionGroup!==null}function Js(e){var t=ce(e);if(t.p===null){t.p=[];var n=Kv(t),i=Hv(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new js(n)),t.p.push(new js(_r.keyField(),"asc"));else{for(var o=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new js(_r.keyField(),f))}}}return t.p}function qr(e){var t=ce(e);if(!t.T)if(t.limitType==="F")t.T=wE(t.path,t.collectionGroup,Js(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=Js(t);i<o.length;i++){var s=o[i],a=s.dir==="desc"?"asc":"desc";n.push(new js(s.field,a))}var l=t.endAt?new $a(t.endAt.position,!t.endAt.before):null,f=t.startAt?new $a(t.startAt.position,!t.startAt.before):null;t.T=wE(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function k1(e,t,n){return new ui(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hc(e,t){return gh(qr(e),qr(t))&&e.limitType===t.limitType}function N1(e){return lc(qr(e))+"|lt:"+e.limitType}function Tm(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+qv(o.value);var o}).join(", ")+"]"),Wo(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Ef(t.startAt)),t.endAt&&(n+=", endAt: "+Ef(t.endAt)),"Target("+n+")"}(qr(e))+"; limitType="+e.limitType+")"}function dc(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):me.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var a=s[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!bE(n.startAt,Js(n),i))&&(!n.endAt||!bE(n.endAt,Js(n),i))}(e,t)}function C1(e){return function(t,n){for(var i=!1,o=0,s=Js(e);o<s.length;o++){var a=s[o],l=KM(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function KM(e,t,n){var i=e.field.isKeyField()?me.comparator(t.key,n.key):function(o,s,a){var l=s.data.field(o),f=a.data.field(o);return l!==null&&f!==null?Ys(l,f):ge()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(t)?"-0":t}}function R1(e){return{integerValue:""+e}}function O1(e,t){return I1(t)?R1(t):x1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mh=function(){this._=void 0};function zM(e,t,n){return e instanceof Zs?function(i,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Bo?P1(e,t):e instanceof qo?L1(e,t):function(i,o){var s=D1(i,o),a=EE(s)+EE(i.A);return Im(s)&&Im(i.A)?R1(a):x1(i.R,a)}(e,t)}function GM(e,t,n){return e instanceof Bo?P1(e,t):e instanceof qo?L1(e,t):n}function D1(e,t){return e instanceof eu?Im(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var Zs=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t}(mh),Bo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return ye(t,e),t}(mh);function P1(e,t){for(var n=M1(t),i=function(a){n.some(function(l){return Br(l,a)})||n.push(a)},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var qo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return ye(t,e),t}(mh);function L1(e,t){for(var n=M1(t),i=function(a){n=n.filter(function(l){return!Br(l,a)})},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var eu=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return ye(t,e),t}(mh);function EE(e){return Ct(e.integerValue||e.doubleValue)}function M1(e){return $v(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pc=function(e,t){this.field=e,this.transform=t},WM=function(e,t){this.version=e,this.transformResults=t},un=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Jl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var vh=function(){};function XM(e,t,n){e instanceof gc?function(i,o,s){var a=i.value.clone(),l=SE(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ki?function(i,o,s){if(Jl(i.precondition,o)){var a=SE(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(F1(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Sm(e,t,n){e instanceof gc?function(i,o,s){if(Jl(i.precondition,o)){var a=i.value.clone(),l=AE(i.fieldTransforms,s,o);a.setAll(l),o.convertToFoundDocument(TE(o),a).setHasLocalMutations()}}(e,t,n):e instanceof Ki?function(i,o,s){if(Jl(i.precondition,o)){var a=AE(i.fieldTransforms,s,o),l=o.data;l.setAll(F1(i)),l.setAll(a),o.convertToFoundDocument(TE(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){Jl(i.precondition,o)&&o.convertToNoDocument(Me.min())}(e,t)}function QM(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var s=o[i],a=t.data.field(s.field),l=D1(s.transform,a||null);l!=null&&(n==null&&(n=$n.empty()),n.set(s.field,l))}return n||null}function IE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ws(n,i,function(o,s){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof Bo&&d instanceof Bo||f instanceof qo&&d instanceof qo?Ws(f.elements,d.elements,Br):f instanceof eu&&d instanceof eu?Br(f.A,d.A):f instanceof Zs&&d instanceof Zs}(a.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function TE(e){return e.isFoundDocument()?e.version:Me.min()}var gc=function(e){function t(n,i,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=s,a.type=0,a}return ye(t,e),t}(vh),Ki=function(e){function t(n,i,o,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return ye(t,e),t}(vh);function F1(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function SE(e,t,n){var i=new Map;Ee(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],a=s.transform,l=t.data.field(s.field);i.set(s.field,GM(a,l,n[o]))}return i}function AE(e,t,n){for(var i=new Map,o=0,s=e;o<s.length;o++){var a=s[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,zM(l,f,t))}return i}var Nt,Be,mc=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return ye(t,e),t}(vh),Gv=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return ye(t,e),t}(vh),YM=function(e){this.count=e};function U1(e){switch(e){case F.OK:return ge();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ge()}}function j1(e){if(e===void 0)return xt("GRPC error has no .code"),F.UNKNOWN;switch(e){case Nt.OK:return F.OK;case Nt.CANCELLED:return F.CANCELLED;case Nt.UNKNOWN:return F.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return F.INTERNAL;case Nt.UNAVAILABLE:return F.UNAVAILABLE;case Nt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Nt.NOT_FOUND:return F.NOT_FOUND;case Nt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Nt.ABORTED:return F.ABORTED;case Nt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Nt.DATA_LOSS:return F.DATA_LOSS;default:return ge()}}(Be=Nt||(Nt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn=function(){function e(t,n){this.comparator=t,this.root=n||Ni.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ni.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ni.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Ll(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Ll(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ll(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Ll(this.root,t,this.comparator,!0)},e}(),Ll=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?i(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Ni=function(){function e(t,n,i,o,s){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,s){return new e(t??this.key,n??this.value,i??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,s=i(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,i),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();var t=this.left.check();if(t!==this.right.check())throw ge();return t+(this.isRed()?0:1)},e}();Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1,Ni.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ge()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,s){return this},e.prototype.insert=function(t,n,i){return new Ni(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft=function(){function e(t){this.comparator=t,this.data=new fn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new kE(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new kE(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),kE=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),JM=new fn(me.comparator);function wr(){return JM}var ZM=new fn(me.comparator);function Am(){return ZM}var eF=new fn(me.comparator);function tF(){return eF}var nF=new Ft(me.comparator);function nt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=nF,i=0,o=e;i<o.length;i++){var s=o[i];n=n.add(s)}return n}var rF=new Ft(je);function yh(){return rF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wv=function(){function e(t,n,i,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,Xv.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Me.min(),i,yh(),wr(),nt())},e}(),Xv=function(){function e(t,n,i,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Dn.EMPTY_BYTE_STRING,n,nt(),nt(),nt())},e}(),Zl=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},V1=function(e,t){this.targetId=e,this.V=t},B1=function(e,t,n,i){n===void 0&&(n=Dn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},NE=function(){function e(){this.S=0,this.D=xE(),this.C=Dn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=nt(),n=nt(),i=nt();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ge()}}),new Xv(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=xE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),iF=function(){function e(t){this.W=t,this.G=new Map,this.H=wr(),this.J=CE(),this.Y=new Ft(je)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)o=a[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:ge()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){i.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var s=o.target;if(_f(s))if(i===0){var a=new me(s.path);this.tt(n,a,ln.newNoDocument(a,Me.min()))}else Ee(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&_f(f.target)){var d=new me(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,ln.newNoDocument(d,t))}a.$&&(i.set(l,a.M()),a.L())}});var o=nt();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var p=n.ot(d);return!p||p.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var s=new Wv(t,i,this.Y,this.H,o);return this.H=wr(),this.J=CE(),this.Y=new Ft(je),s},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new NE,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Ft(je),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new NE),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function CE(){return new fn(me.comparator)}function xE(){return new fn(me.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oF={asc:"ASCENDING",desc:"DESCENDING"},sF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uF=function(e,t){this.databaseId=e,this.I=t};function Ha(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function q1(e,t){return e.I?t.toBase64():t.toUint8Array()}function aF(e,t){return Ha(e,t.toTimestamp())}function In(e){return Ee(!!e),Me.fromTimestamp(function(t){var n=Bi(t);return new On(n.seconds,n.nanos)}(e))}function Qv(e,t){return function(n){return new Qe(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function $1(e){var t=Qe.fromString(e);return Ee(Q1(t)),t}function Ka(e,t){return Qv(e.databaseId,t.path)}function ei(e,t){var n=$1(t);if(n.get(1)!==e.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new me(K1(n))}function km(e,t){return Qv(e.databaseId,t)}function H1(e){var t=$1(e);return t.length===4?Qe.emptyPath():K1(t)}function za(e){return new Qe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function K1(e){return Ee(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function RE(e,t,n){return{name:Ka(e,t),fields:n.value.mapValue.fields}}function cF(e,t,n){var i=ei(e,t.name),o=In(t.updateTime),s=new $n({mapValue:{fields:t.fields}}),a=ln.newFoundDocument(i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Tf(e,t){var n;if(t instanceof gc)n={update:RE(e,t.key,t.value)};else if(t instanceof mc)n={delete:Ka(e,t.key)};else if(t instanceof Ki)n={update:RE(e,t.key,t.data),updateMask:pF(t.fieldMask)};else{if(!(t instanceof Gv))return ge();n={verify:Ka(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,s){var a=s.transform;if(a instanceof Zs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof eu)return{fieldPath:s.field.canonicalString(),increment:a.A};throw ge()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:aF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge()}(e,t.precondition)),n}function OE(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?un.updateTime(In(d.updateTime)):d.exists!==void 0?un.exists(d.exists):un.none()}(t.currentDocument):un.none(),i=t.updateTransforms?t.updateTransforms.map(function(d){return function(p,m){var v=null;if("setToServerValue"in m)Ee(m.setToServerValue==="REQUEST_TIME"),v=new Zs;else if("appendMissingElements"in m){var b=m.appendMissingElements.values||[];v=new Bo(b)}else if("removeAllFromArray"in m){var _=m.removeAllFromArray.values||[];v=new qo(_)}else"increment"in m?v=new eu(p,m.increment):ge();var I=_r.fromServerFormat(m.fieldPath);return new pc(I,v)}(e,d)}):[];if(t.update){t.update.name;var o=ei(e,t.update.name),s=new $n({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var p=d.fieldPaths||[];return new Xs(p.map(function(m){return _r.fromServerFormat(m)}))}(t.updateMask);return new Ki(o,s,a,n,i)}return new gc(o,s,n,i)}if(t.delete){var l=ei(e,t.delete);return new mc(l,n)}if(t.verify){var f=ei(e,t.verify);return new Gv(f,n)}return ge()}function z1(e,t){return{documents:[km(e,t.path)]}}function G1(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=km(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=km(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(p){if(p.op==="=="){if(yE(p.value))return{unaryFilter:{field:Ts(p.field),op:"IS_NAN"}};if(vE(p.value))return{unaryFilter:{field:Ts(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(yE(p.value))return{unaryFilter:{field:Ts(p.field),op:"IS_NOT_NAN"}};if(vE(p.value))return{unaryFilter:{field:Ts(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(p.field),op:fF(p.op),value:p.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:Ts(d.field),direction:lF(d.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,f){return l.I||Wo(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=DE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=DE(t.endAt)),n}function W1(e){var t=H1(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Ee(i===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=X1(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(m){return function(v){return new js(Ps(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m)}));var f=null;n.limit&&(f=function(m){var v;return Wo(v=typeof m=="object"?m.value:m)?null:v}(n.limit));var d=null;n.startAt&&(d=PE(n.startAt));var p=null;return n.endAt&&(p=PE(n.endAt)),A1(t,o,l,a,f,"F",d,p)}function X1(e){return e?e.unaryFilter!==void 0?[dF(e)]:e.fieldFilter!==void 0?[hF(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return X1(t)}).reduce(function(t,n){return t.concat(n)}):ge():[]}function DE(e){return{before:e.before,values:e.position}}function PE(e){var t=!!e.before,n=e.values||[];return new $a(n,t)}function lF(e){return oF[e]}function fF(e){return sF[e]}function Ts(e){return{fieldPath:e.canonicalString()}}function Ps(e){return _r.fromServerFormat(e.fieldPath)}function hF(e){return Gn.create(Ps(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ge()}}(e.fieldFilter.op),e.fieldFilter.value)}function dF(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ps(e.unaryFilter.field);return Gn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ps(e.unaryFilter.field);return Gn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Ps(e.unaryFilter.field);return Gn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Ps(e.unaryFilter.field);return Gn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ge()}}function pF(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function Q1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=LE(t)),t=gF(e.get(n),t);return LE(t)}function gF(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function LE(e){return e+""}function Jr(e){var t=e.length;if(Ee(t>=2),t===2)return Ee(e.charAt(0)===""&&e.charAt(1)===""),Qe.emptyPath();for(var n=t-2,i=[],o="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&ge(),e.charAt(a+1)){case"":var l=e.substring(s,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(s,a),o+="\0";break;case"":o+=e.substring(s,a+1);break;default:ge()}s=a+2}return new Qe(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mF=function(e,t){this.seconds=e,this.nanoseconds=t},Bn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Bn.store="owner",Bn.key="owner";var Mi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Mi.store="mutationQueues",Mi.keyPath="userId";var rt=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};rt.store="mutations",rt.keyPath="batchId",rt.userMutationsIndex="userMutationsIndex",rt.userMutationsKeyPath=["userId","batchId"];var rn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,br(n)]},e.key=function(t,n,i){return[t,br(n),i]},e}();rn.store="documentMutations",rn.PLACEHOLDER=new rn;var vF=function(e,t){this.path=e,this.readTime=t},yF=function(e,t){this.path=e,this.version=t},_t=function(e,t,n,i,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=s};_t.store="remoteDocuments",_t.readTimeIndex="readTimeIndex",_t.readTimeIndexPath="readTime",_t.collectionReadTimeIndex="collectionReadTimeIndex",_t.collectionReadTimeIndexPath=["parentPath","readTime"];var Fr=function(e){this.byteSize=e};Fr.store="remoteDocumentGlobal",Fr.key="remoteDocumentGlobalKey";var xn=function(e,t,n,i,o,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=a};xn.store="targets",xn.keyPath="targetId",xn.queryTargetsIndexName="queryTargetsIndex",xn.queryTargetsKeyPath=["canonicalId","targetId"];var Wt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Wt.store="targetDocuments",Wt.keyPath=["targetId","path"],Wt.documentTargetsIndex="documentTargetsIndex",Wt.documentTargetsKeyPath=["path","targetId"];var qn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};qn.key="targetGlobalKey",qn.store="targetGlobal";var Oo=function(e,t){this.collectionId=e,this.parent=t};Oo.store="collectionParents",Oo.keyPath=["collectionId","parent"];var ti=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};ti.store="clientMetadata",ti.keyPath="clientId";var tu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};tu.store="bundles",tu.keyPath="bundleId";var nu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};nu.store="namedQueries",nu.keyPath="name";var wF=lt(lt([],lt(lt([],lt(lt([],lt(lt([],[Mi.store,rt.store,rn.store,_t.store,xn.store,Bn.store,qn.store,Wt.store]),[ti.store])),[Fr.store])),[Oo.store])),[tu.store,nu.store]),Y1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",J1=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Pn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},Z=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){i.nextCallback=function(a){i.wrapSuccess(t,a).next(o,s)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,s=0,a=!1;t.forEach(function(l){++o,l.next(function(){++s,a&&s===o&&n()},function(f){return i(f)})}),a=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,s=t;o<s.length;o++)i(s[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(s,a){o.push(n.call(i,s,a))}),this.waitFor(o)},e}(),Z1=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Pn,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new Ea(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var s=Yv(o.target.error);i.ft.reject(new Ea(t,s))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(s){throw new Ea(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ne("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new _F(n)},e}(),ru=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(Fo())===12.2&&xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ne("SimpleDb","Removing database:",t),To(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Fo(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return H(this,void 0,void 0,function(){var n,i=this;return q(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ne("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;s(d)},l.onblocked=function(){a(new Ea(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new Y(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Ea(t,d))},l.onupgradeneeded=function(f){ne("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){ne("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return i.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return H(this,void 0,void 0,function(){var s,a,l,f,d;return q(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var m,v,b,_,I;return q(this,function(C){switch(C.label){case 0:++a,C.label=1;case 1:return C.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=C.sent(),m=Z1.open(f.db,t,s?"readonly":"readwrite",i),v=o(m).catch(function(x){return m.abort(x),Z.reject(x)}).toPromise(),b={},v.catch(function(){}),[4,m.dt];case 3:return[2,(b.value=(C.sent(),v),b)];case 4:return _=C.sent(),I=_.name!=="FirebaseError"&&a<3,ne("SimpleDb","Transaction failed with error:",_.message,"Retrying:",I),f.close(),I?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(d=p.sent())=="object")return[2,d.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),bF=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return To(this.Pt.delete())},e}(),Ea=function(e){function t(n,i){var o=this;return(o=e.call(this,F.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return ye(t,e),t}(Y);function Xo(e){return e.name==="IndexedDbTransactionError"}var _F=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(ne("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(ne("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),To(i)},e.prototype.add=function(t){return ne("SimpleDb","ADD",this.store.name,t,t),To(this.store.add(t))},e.prototype.get=function(t){var n=this;return To(this.store.get(t)).next(function(i){return i===void 0&&(i=null),ne("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return ne("SimpleDb","DELETE",this.store.name,t),To(this.store.delete(t))},e.prototype.count=function(){return ne("SimpleDb","COUNT",this.store.name),To(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(s,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){ne("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new Z(function(i,o){n.onerror=function(s){var a=Yv(s.target.error);o(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new Z(function(o,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new bF(l),d=n(l.primaryKey,l.value,f);if(d instanceof Z){var p=d.catch(function(m){return f.done(),Z.reject(m)});i.push(p)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return Z.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function To(e){return new Z(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=Yv(i.target.error);n(o)}})}var ME=!1;function Yv(e){var t=ru._t(Fo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new Y("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ME||(ME=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FE=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return ye(t,e),t}(J1);function Ln(e,t){var n=ce(e);return ru.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jv=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&XM(s,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t.key)&&Sm(a,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t.key)&&Sm(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(Me.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},nt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ws(this.mutations,t.mutations,function(n,i){return IE(n,i)})&&Ws(this.baseMutations,t.baseMutations,function(n,i){return IE(n,i)})},e}(),EF=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){Ee(t.mutations.length===i.length);for(var o=tF(),s=t.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,i[a].version);return new e(t,n,i,o)},e}(),wh=function(){function e(t,n,i,o,s,a,l){s===void 0&&(s=Me.min()),a===void 0&&(a=Me.min()),l===void 0&&(l=Dn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),eA=function(e){this.Lt=e};function Nm(e,t){if(t.document)return cF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=me.fromSegments(t.noDocument.path),i=ou(t.noDocument.readTime),o=ln.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=me.fromSegments(t.unknownDocument.path);return i=ou(t.unknownDocument.version),ln.newUnknownDocument(s,i)}return ge()}function UE(e,t,n){var i=Zv(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(m,v){return{name:Ka(m,v.key),fields:v.data.value.mapValue.fields,updateTime:Ha(m,v.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new _t(null,null,s,a,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=iu(t.version);return a=t.hasCommittedMutations,new _t(null,new vF(l,f),null,a,i,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),p=iu(t.version);return new _t(new yF(d,p),null,null,!0,i,o)}return ge()}function Zv(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function tA(e){var t=new On(e[0],e[1]);return Me.fromTimestamp(t)}function iu(e){var t=e.toTimestamp();return new mF(t.seconds,t.nanoseconds)}function ou(e){var t=new On(e.seconds,e.nanoseconds);return Me.fromTimestamp(t)}function xs(e,t){for(var n=(t.baseMutations||[]).map(function(f){return OE(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var s=t.mutations[i+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var a=t.mutations.map(function(f){return OE(e.Lt,f)}),l=On.fromMillis(t.localWriteTimeMs);return new Jv(t.batchId,l,n,a)}function pa(e){var t,n,i=ou(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?ou(e.lastLimboFreeSnapshotVersion):Me.min();return e.query.documents!==void 0?(Ee((n=e.query).documents.length===1),t=qr(fc(H1(n.documents[0])))):t=function(s){return qr(W1(s))}(e.query),new wh(t,e.targetId,0,e.lastListenSequenceNumber,i,o,Dn.fromBase64String(e.resumeToken))}function nA(e,t){var n,i=iu(t.snapshotVersion),o=iu(t.lastLimboFreeSnapshotVersion);n=_f(t.target)?z1(e.Lt,t.target):G1(e.Lt,t.target);var s=t.resumeToken.toBase64();return new xn(t.targetId,lc(t.target),i,s,t.sequenceNumber,o,n)}function rA(e){var t=W1({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?k1(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IF=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return jE(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:ou(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return jE(t).put({bundleId:(i=n).id,createTime:iu(In(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return VE(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:rA(o.bundledQuery),readTime:ou(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return VE(t).put(function(i){return{name:i.name,readTime:iu(In(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function jE(e){return Ln(e,tu.store)}function VE(e){return Ln(e,nu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TF=function(){function e(){this.Bt=new ey}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),Z.resolve()},e.prototype.getCollectionParents=function(t,n){return Z.resolve(this.Bt.getEntries(n))},e}(),ey=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Ft(Qe.comparator),s=!o.has(i);return this.index[n]=o.add(i),s},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Ft(Qe.comparator)).toArray()},e}(),SF=function(){function e(){this.qt=new ey}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:br(s)};return BE(t).put(a)}return Z.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[w1(n),""],!1,!0);return BE(t).Nt(o).next(function(s){for(var a=0,l=s;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(Jr(f.parent))}return i})},e}();function BE(e){return Ln(e,Oo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dr=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(e,t,n){var i=e.store(rt.store),o=e.store(rn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,I,C){return l++,C.delete()});s.push(f.next(function(){Ee(l===1)}));for(var d=[],p=0,m=n.mutations;p<m.length;p++){var v=m[p],b=rn.key(t,v.key.path,n.batchId);s.push(o.delete(b)),d.push(v.key)}return Z.waitFor(s).next(function(){return d})}function Sf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ge();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr.DEFAULT_COLLECTION_PERCENTILE=10,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dr.DEFAULT=new Dr(41943040,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dr.DISABLED=new Dr(-1,0,0);var AF=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return Ee(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bi(t).$t({index:rt.userMutationsIndex,range:i},function(o,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var s=this,a=Rs(t),l=bi(t);return l.add({}).next(function(f){Ee(typeof f=="number");for(var d=new Jv(f,n,i,o),p=function(x,P,N){var L=N.baseMutations.map(function(O){return Tf(x.Lt,O)}),B=N.mutations.map(function(O){return Tf(x.Lt,O)});return new rt(P,N.batchId,N.localWriteTime.toMillis(),L,B)}(s.R,s.userId,d),m=[],v=new Ft(function(x,P){return je(x.canonicalString(),P.canonicalString())}),b=0,_=o;b<_.length;b++){var I=_[b],C=rn.key(s.userId,I.key.path,f);v=v.add(I.key.path.popLast()),m.push(l.put(p)),m.push(a.put(C,rn.PLACEHOLDER))}return v.forEach(function(x){m.push(s.Ut.addToCollectionParentIndex(t,x))}),t.addOnCommittedListener(function(){s.Kt[f]=d.keys()}),Z.waitFor(m).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return bi(t).get(n).next(function(o){return o?(Ee(o.userId===i.userId),xs(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?Z.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return i.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),a=null;return bi(t).$t({index:rt.userMutationsIndex,range:s},function(l,f,d){f.userId===i.userId&&(Ee(f.batchId>=o),a=xs(i.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return bi(t).$t({index:rt.userMutationsIndex,range:n,reverse:!0},function(o,s,a){i=s.batchId,a.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bi(t).Nt(rt.userMutationsIndex,i).next(function(o){return o.map(function(s){return xs(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=rn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),a=[];return Rs(t).$t({range:s},function(l,f,d){var p=l[0],m=l[1],v=l[2],b=Jr(m);if(p===i.userId&&n.path.isEqual(b))return bi(t).get(v).next(function(_){if(!_)throw ge();Ee(_.userId===i.userId),a.push(xs(i.R,_))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Ft(je),s=[];return n.forEach(function(a){var l=rn.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=Rs(t).$t({range:f},function(p,m,v){var b=p[0],_=p[1],I=p[2],C=Jr(_);b===i.userId&&a.path.isEqual(C)?o=o.add(I):v.done()});s.push(d)}),Z.waitFor(s).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,s=o.length+1,a=rn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Ft(je);return Rs(t).$t({range:l},function(d,p,m){var v=d[0],b=d[1],_=d[2],I=Jr(b);v===i.userId&&o.isPrefixOf(I)?I.length===s&&(f=f.add(_)):m.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],s=[];return n.forEach(function(a){s.push(bi(t).get(a).next(function(l){if(l===null)throw ge();Ee(l.userId===i.userId),o.push(xs(i.R,l))}))}),Z.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return iA(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),Z.forEach(o,function(s){return i.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return Z.resolve();var o=IDBKeyRange.lowerBound(rn.prefixForUser(n.userId)),s=[];return Rs(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=Jr(a[1]);s.push(d)}else f.done()}).next(function(){Ee(s.length===0)})})},e.prototype.containsKey=function(t,n){return oA(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return sA(t).get(this.userId).next(function(i){return i||new Mi(n.userId,-1,"")})},e}();function oA(e,t,n){var i=rn.prefixForPath(t,n.path),o=i[1],s=IDBKeyRange.lowerBound(i),a=!1;return Rs(e).$t({range:s,Ft:!0},function(l,f,d){var p=l[0],m=l[1];l[2],p===t&&m===o&&(a=!0),d.done()}).next(function(){return a})}function bi(e){return Ln(e,rt.store)}function Rs(e){return Ln(e,rn.store)}function sA(e){return Ln(e,Mi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Af=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),kF=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new Af(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Me.fromTimestamp(new On(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Ss(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return Ee(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,a=[];return Ss(t).$t(function(l,f){var d=pa(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(s++,a.push(o.removeTargetData(t,d)))}).next(function(){return Z.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Ss(t).$t(function(i,o){var s=pa(o);n(s)})},e.prototype.Xt=function(t){return $E(t).get(qn.key).next(function(n){return Ee(n!==null),n})},e.prototype.Zt=function(t,n){return $E(t).put(qn.key,n)},e.prototype.te=function(t,n){return Ss(t).put(nA(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=lc(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return Ss(t).$t({range:o,index:xn.queryTargetsIndexName},function(a,l,f){var d=pa(l);gh(n,d.target)&&(s=d,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,s=[],a=Ci(t);return n.forEach(function(l){var f=br(l.path);s.push(a.put(new Wt(i,f))),s.push(o.referenceDelegate.addReference(t,i,l))}),Z.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,s=Ci(t);return Z.forEach(n,function(a){var l=br(a.path);return Z.waitFor([s.delete([i,l]),o.referenceDelegate.removeReference(t,i,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Ci(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Ci(t),s=nt();return o.$t({range:i,Ft:!0},function(a,l,f){var d=Jr(a[1]),p=new me(d);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var i=br(n.path),o=IDBKeyRange.bound([i],[w1(i)],!1,!0),s=0;return Ci(t).$t({index:Wt.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Ss(t).get(n).next(function(i){return i?pa(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(e){return Ln(e,xn.store)}function $E(e){return Ln(e,qn.store)}function Ci(e){return Ln(e,Wt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){return H(this,void 0,void 0,function(){return q(this,function(t){if(e.code!==F.FAILED_PRECONDITION||e.message!==Y1)throw e;return ne("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(e,t){var n=e[0],i=e[1],o=t[0],s=t[1],a=je(n,o);return a===0?je(i,s):a}var NF=function(){function e(t){this.ne=t,this.buffer=new Ft(HE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();HE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),CF=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;ne("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return H(n,void 0,void 0,function(){var o;return q(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Xo(o=s.sent())?(ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Qo(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),xF=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return Z.resolve(zn.o);var o=new NF(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return i.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(qE)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),qE):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,s,a,l,f,d,p=this,m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(v){return v>p.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+v),o=p.params.maximumSequenceNumbersToCollect):o=v,a=Date.now(),p.nthSequenceNumber(t,o)}).next(function(v){return i=v,l=Date.now(),p.removeTargets(t,i,n)}).next(function(v){return s=v,f=Date.now(),p.removeOrphanedDocuments(t,i)}).next(function(v){return d=Date.now(),_m()<=Ke.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-m)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+v+" documents in "+(d-f)+`ms
Total Duration: `+(d-m)+"ms"),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:v})})},e}(),RF=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new xF(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return Ml(t,i)},e.prototype.removeReference=function(t,n,i){return Ml(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return Ml(t,n)},e.prototype._e=function(t,n){return function(i,o){var s=!1;return sA(i).Ot(function(a){return oA(i,a,o).next(function(l){return l&&(s=!0),Z.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,f){if(f<=n){var d=i._e(t,l).next(function(p){if(!p)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Ci(t).delete([0,br(l.path)])})});s.push(d)}}).next(function(){return Z.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return Ml(t,n)},e.prototype.we=function(t,n){var i,o=Ci(t),s=zn.o;return o.$t({index:Wt.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,p=l.sequenceNumber;f===0?(s!==zn.o&&n(new me(Jr(i)),s),s=p,i=d):s=zn.o}).next(function(){s!==zn.o&&n(new me(Jr(i)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Ml(e,t){return Ci(e).put(function(n,i){return new Wt(0,br(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,s=i;o<s.length;o++){var a=s[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Go(this.inner,function(n,i){for(var o=0,s=i;o<s.length;o++){var a=s[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return b1(this.inner)},e}(),uA=function(){function e(){this.changes=new bu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Me.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:ln.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?Z.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),OF=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Ai(t).put(Fl(n),i)},e.prototype.removeEntry=function(t,n){var i=Ai(t),o=Fl(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return Ai(t).get(Fl(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return Ai(t).get(Fl(n)).next(function(o){return{document:i.ye(n,o),size:Sf(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=wr();return this.pe(t,n,function(s,a){var l=i.ye(s,a);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=wr(),s=new fn(me.comparator);return this.pe(t,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),s=s.insert(a,Sf(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return Z.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Ai(t).$t({range:o},function(l,f,d){for(var p=me.fromSegments(l);a&&me.comparator(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,f),a=s.hasNext()?s.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,s=wr(),a=n.path.length+1,l={};if(i.isEqual(Me.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),p=Zv(i);l.range=IDBKeyRange.lowerBound([d,p],!0),l.index=_t.collectionReadTimeIndex}return Ai(t).$t(l,function(m,v,b){if(m.length===a){var _=Nm(o.R,v);n.path.isPrefixOf(_.key.path)?dc(n,_)&&(s=s.insert(_.key,_)):b.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new DF(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return KE(t).get(Fr.key).next(function(n){return Ee(!!n),n})},e.prototype.me=function(t,n){return KE(t).put(Fr.key,n)},e.prototype.ye=function(t,n){if(n){var i=Nm(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(Me.min()))return i}return ln.newInvalidDocument(t)},e}(),DF=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new bu(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),o}return ye(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],s=0,a=new Ft(function(l,f){return je(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var p=UE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var m=Sf(p);s+=m-d,o.push(i.Ie.addEntry(n,l,p))}else if(s-=d,i.trackRemovals){var v=UE(i.Ie.R,ln.newNoDocument(l,Me.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,v))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),Z.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(s){return o.Ae.set(i,s.size),s.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(s){var a=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(uA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(e){return Ln(e,Fr.store)}function Ai(e){return Ln(e,_t.store)}function Fl(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PF=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var s=this;Ee(i<o&&i>=0&&o<=11);var a=new Z1("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(Bn.store)}(t),function(f){f.createObjectStore(Mi.store,{keyPath:Mi.keyPath}),f.createObjectStore(rt.store,{keyPath:rt.keyPath,autoIncrement:!0}).createIndex(rt.userMutationsIndex,rt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(rn.store)}(t),zE(t),function(f){f.createObjectStore(_t.store)}(t));var l=Z.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(Wt.store),f.deleteObjectStore(xn.store),f.deleteObjectStore(qn.store)}(t),zE(t)),l=l.next(function(){return function(f){var d=f.store(qn.store),p=new qn(0,0,Me.min().toTimestamp(),0);return d.put(qn.key,p)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(rt.store).Nt().next(function(p){f.deleteObjectStore(rt.store),f.createObjectStore(rt.store,{keyPath:rt.keyPath,autoIncrement:!0}).createIndex(rt.userMutationsIndex,rt.userMutationsKeyPath,{unique:!0});var m=d.store(rt.store),v=p.map(function(b){return m.put(b)});return Z.waitFor(v)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(ti.store,{keyPath:ti.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return s.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Fr.store)}(t),s.be(a)})),i<7&&o>=7&&(l=l.next(function(){return s.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return s.Pe(t,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(_t.store);d.createIndex(_t.readTimeIndex,_t.readTimeIndexPath,{unique:!1}),d.createIndex(_t.collectionReadTimeIndex,_t.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return s.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(tu.store,{keyPath:tu.keyPath})})(t),function(f){f.createObjectStore(nu.store,{keyPath:nu.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(_t.store).$t(function(i,o){n+=Sf(o)}).next(function(){var i=new Fr(n);return t.store(Fr.store).put(Fr.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(Mi.store),o=t.store(rt.store);return i.Nt().next(function(s){return Z.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(rt.userMutationsIndex,l).next(function(f){return Z.forEach(f,function(d){Ee(d.userId===a.userId);var p=xs(n.R,d);return iA(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Wt.store),i=t.store(_t.store);return t.store(qn.store).get(qn.key).next(function(o){var s=[];return i.$t(function(a,l){var f=new Qe(a),d=function(p){return[0,br(p)]}(f);s.push(n.get(d).next(function(p){return p?Z.resolve():function(m){return n.put(new Wt(0,br(m),o.highestListenSequenceNumber))}(f)}))}).next(function(){return Z.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Oo.store,{keyPath:Oo.keyPath});var i=n.store(Oo.store),o=new ey,s=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:br(f)})}};return n.store(_t.store).$t({Ft:!0},function(a,l){var f=new Qe(a);return s(f.popLast())}).next(function(){return n.store(rn.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=Jr(f);return s(d.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(xn.store);return i.$t(function(o,s){var a=pa(s),l=nA(n.R,a);return i.put(l)})},e}();function zE(e){e.createObjectStore(Wt.store,{keyPath:Wt.keyPath}).createIndex(Wt.documentTargetsIndex,Wt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(xn.store,{keyPath:xn.keyPath}).createIndex(xn.queryTargetsIndexName,xn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(qn.store)}var Og="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",LF=function(){function e(t,n,i,o,s,a,l,f,d,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=s,this.window=a,this.document=l,this.De=d,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(m){return Promise.resolve()},!e.yt())throw new Y(F.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RF(this,o),this.Le=n+"main",this.R=new eA(f),this.Be=new ru(this.Le,11,new PF(this.R)),this.qe=new kF(this.referenceDelegate,this.R),this.Ut=new SF,this.Ue=function(m,v){return new OF(m,v)}(this.R,this.Ut),this.Ke=new IF,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&xt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Y(F.FAILED_PRECONDITION,Og);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new zn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return H(n,void 0,void 0,function(){return q(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return H(n,void 0,void 0,function(){return q(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return H(n,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Ul(n).put(new ti(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Xo(n))return ne("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return la(t).get(Bn.key).next(function(i){return Z.resolve(n.tn(i))})},e.prototype.en=function(t){return Ul(t).delete(this.clientId)},e.prototype.nn=function(){return H(this,void 0,void 0,function(){var t,n,i,o,s=this;return q(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Ln(l,ti.store);return f.Nt().next(function(d){var p=s.rn(d,18e5),m=d.filter(function(v){return p.indexOf(v)===-1});return Z.forEach(m,function(v){return f.delete(v.clientId)}).next(function(){return m})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?Z.resolve(!0):la(t).get(Bn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new Y(F.FAILED_PRECONDITION,Og);return!1}}return!(!n.networkEnabled||!n.inForeground)||Ul(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&ne("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return H(this,void 0,void 0,function(){var t=this;return q(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Bn.store,ti.store],function(i){var o=new FE(i,zn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Ul(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return AF.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ne("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,wF,function(l){return s=new FE(l,o.Ne?o.Ne.next():zn.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw xt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new Y(F.FAILED_PRECONDITION,Y1);return i(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return i(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return la(t).get(Bn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new Y(F.FAILED_PRECONDITION,Og)})},e.prototype.Ze=function(t){var n=new Bn(this.clientId,this.allowTabSynchronization,Date.now());return la(t).put(Bn.key,n)},e.yt=function(){return ru.yt()},e.prototype.Xe=function(t){var n=this,i=la(t);return i.get(Bn.key).next(function(o){return n.tn(o)?(ne("IndexedDbPersistence","Releasing primary lease."),i.delete(Bn.key)):Z.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(xt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),qP()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ne("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return xt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){xt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function la(e){return Ln(e,Bn.store)}function Ul(e){return Ln(e,ti.store)}function ty(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var aA=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,a=i;s<a.length;s++)a[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):zv(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new me(n)).next(function(i){var o=Am();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,s=n.collectionGroup,a=Am();return this.Ut.getCollectionParents(t,s).next(function(l){return Z.forEach(l,function(f){var d=function(p,m){return new ui(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,f.child(s));return o.An(t,d,i).next(function(p){p.forEach(function(m,v){a=a.insert(m,v)})})}).next(function(){return a})})},e.prototype.An=function(t,n,i){var o,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,o).next(function(f){o=f;for(var d=0,p=s;d<p.length;d++)for(var m=p[d],v=0,b=m.mutations;v<b.length;v++){var _=b[v],I=_.key,C=o.get(I);C==null&&(C=ln.newInvalidDocument(I),o=o.insert(I,C)),Sm(_,C,m.localWriteTime),C.isFoundDocument()||(o=o.remove(I))}})}).next(function(){return o.forEach(function(l,f){dc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=nt(),s=0,a=n;s<a.length;s++)for(var l=0,f=a[s].mutations;l<f.length;l++){var d=f[l];d instanceof Ki&&i.get(d.key)===null&&(o=o.add(d.key))}var p=i;return this.Ue.getEntries(t,o).next(function(m){return m.forEach(function(v,b){b.isFoundDocument()&&(p=p.insert(v,b))}),p})},e}(),MF=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=nt(),o=nt(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),cA=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(Me.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=s.Cn(n,a);return(Yl(n)||If(n))&&s.Nn(n.limitType,l,o,i)?s.Dn(t,n):(_m()<=Ke.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tm(n)),s.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var i=new Ft(C1(t));return n.forEach(function(o,s){dc(t,s)&&(i=i.add(s))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return _m()<=Ke.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Tm(n)),this.Sn.getDocumentsMatchingQuery(t,n,Me.min())},e}(),FF=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new fn(je),this.Fn=new bu(function(s){return lc(s)},gh),this.$n=Me.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new aA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(e,t,n,i){return new FF(e,t,n,i)}function fA(e,t){return H(this,void 0,void 0,function(){var n,i,o,s;return q(this,function(a){switch(a.label){case 0:return n=ce(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(t),o=new aA(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var p=[],m=[],v=nt(),b=0,_=f;b<_.length;b++){var I=_[b];p.push(I.batchId);for(var C=0,x=I.mutations;C<x.length;C++){var P=x[C];v=v.add(P.key)}}for(var N=0,L=d;N<L.length;N++){var B=L[N];m.push(B.batchId);for(var O=0,W=B.mutations;O<W.length;O++){var D=W[O];v=v.add(D.key)}}return o.pn(l,v).next(function(ue){return{Ln:ue,removedBatchIds:p,addedBatchIds:m}})})})];case 1:return s=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function UF(e,t){var n=ce(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var p=f.batch,m=p.keys(),v=Z.resolve();return m.forEach(function(b){v=v.next(function(){return d.getEntry(l,b)}).next(function(_){var I=f.docVersions.get(b);Ee(I!==null),_.version.compareTo(I)<0&&(p.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),v.next(function(){return a._n.removeMutationBatch(l,p)})}(n,i,t,s).next(function(){return s.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function hA(e){var t=ce(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function jF(e,t){var n=ce(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(p,m){var v=o.get(m);if(v){l.push(n.qe.removeMatchingKeys(s,p.removedDocuments,m).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,m)}));var b=p.resumeToken;if(b.approximateByteSize()>0){var _=v.withResumeToken(b,i).withSequenceNumber(s.currentSequenceNumber);o=o.insert(m,_),function(I,C,x){return Ee(C.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(v,_,p)&&l.push(n.qe.updateTargetData(s,_))}}});var f=wr();if(t.documentUpdates.forEach(function(p,m){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(VF(s,a,t.documentUpdates,i,void 0).next(function(p){f=p})),!i.isEqual(Me.min())){var d=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,i)});l.push(d)}return Z.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function VF(e,t,n,i,o){var s=nt();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=wr();return n.forEach(function(f,d){var p=a.get(f),m=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual(Me.min())?(t.removeEntry(f,m),l=l.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d,m),l=l.insert(f,d)):ne("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),l})}function BF(e,t){var n=ce(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function kf(e,t){var n=ce(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(s){return s?(o=s,Z.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new wh(t,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function su(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a;return q(this,function(l){switch(l.label){case 0:i=ce(e),o=i.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Xo(a=l.sent()))throw a;return ne("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function Nf(e,t,n){var i=ce(e),o=Me.min(),s=nt();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var p=ce(l),m=p.Fn.get(d);return m!==void 0?Z.resolve(p.kn.get(m)):p.qe.getTargetData(f,d)}(i,a,qr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){s=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,t,n?o:Me.min(),n?s:nt())}).next(function(l){return{documents:l,Bn:s}})})}function dA(e,t){var n=ce(e),i=ce(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return i.lt(s,t).next(function(a){return a?a.target:null})})}function pA(e){var t=ce(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,s){var a=ce(i),l=wr(),f=Zv(s),d=Ai(o),p=IDBKeyRange.lowerBound(f,!0);return d.$t({index:_t.readTimeIndex,range:p},function(m,v){var b=Nm(a.R,v);l=l.insert(b.key,b),f=v.readTime}).next(function(){return{wn:l,readTime:tA(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function qF(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){return[2,(t=ce(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var s=Ai(o),a=Me.min();return s.$t({index:_t.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=tA(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $F=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return Z.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:In(i.createTime)}),Z.resolve()},e.prototype.getNamedQuery=function(t,n){return Z.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:rA(i.bundledQuery),readTime:In(i.readTime)}}(n)),Z.resolve()},e}(),ny=function(){function e(){this.Wn=new Ft(jt.Gn),this.zn=new Ft(jt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new jt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new jt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new me(new Qe([])),o=new jt(i,t),s=new jt(i,t+1),a=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new me(new Qe([])),i=new jt(n,t),o=new jt(n,t+1),s=nt();return this.zn.forEachInRange([i,o],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new jt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),jt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return me.comparator(t.key,n.key)||je(t.ns,n.ns)},e.Hn=function(t,n){return je(t.ns,n.ns)||me.comparator(t.key,n.key)},e}(),HF=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Ft(jt.Gn)}return e.prototype.checkEmpty=function(t){return Z.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Jv(s,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new jt(d.key,s)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return Z.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return Z.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),s=o<0?0:o;return Z.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Z.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return Z.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new jt(n,0),s=new jt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,s],function(l){var f=i.os(l.ns);a.push(f)}),Z.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Ft(je);return n.forEach(function(s){var a=new jt(s,0),l=new jt(s,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),Z.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,s=i;me.isDocumentKey(s)||(s=s.child(""));var a=new jt(new me(s),0),l=new Ft(je);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),Z.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var s=n.os(o);s!==null&&i.push(s)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;Ee(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return Z.forEach(n.mutations,function(s){var a=new jt(s.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new jt(n,0),o=this.rs.firstAfterOrEqual(i);return Z.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,Z.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),KF=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new fn(me.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,s=this.docs.get(o),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return Z.resolve(i?i.document.clone():ln.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=wr();return n.forEach(function(s){var a=i.docs.get(s);o=o.insert(s,a?a.document.clone():ln.newInvalidDocument(s))}),Z.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=wr(),s=new me(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,p=d.document,m=d.readTime;if(!n.path.isPrefixOf(f.path))break;m.compareTo(i)<=0||dc(n,p)&&(o=o.insert(p.key,p.clone()))}return Z.resolve(o)},e.prototype.fs=function(t,n){return Z.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new zF(this)},e.prototype.getSize=function(t){return Z.resolve(this.size)},e}(),zF=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return ye(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(s))):i.Ie.removeEntry(s)}),Z.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(uA),GF=function(){function e(t){this.persistence=t,this.ds=new bu(function(n){return lc(n)},gh),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.ws=0,this._s=new ny,this.targetCount=0,this.ys=Af.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),Z.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return Z.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return Z.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Z.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),Z.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Af(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,Z.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),Z.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,Z.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),Z.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return Z.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return Z.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),Z.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(a){s.push(o.markPotentiallyOrphaned(t,a))}),Z.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),Z.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return Z.resolve(i)},e.prototype.containsKey=function(t,n){return Z.resolve(this._s.containsKey(n))},e}(),WF=function(){function e(t,n){var i=this;this.gs={},this.Ne=new zn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new GF(this),this.Ut=new TF,this.Ue=function(o,s){return new KF(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new eA(n),this.Ke=new $F(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new HF(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ne("MemoryPersistence","Starting transaction:",t);var s=new XF(this.Ne.next());return this.referenceDelegate.Es(),i(s).next(function(a){return o.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return Z.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),XF=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return ye(t,e),t}(J1),QF=function(){function e(t){this.persistence=t,this.As=new ny,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ge()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),Z.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),Z.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),Z.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(s){return i.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.vs,function(o){var s=me.fromPath(o);return n.Ps(t,s).next(function(a){a||i.removeEntry(s)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return Z.or([function(){return Z.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),zt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(e,t){return"firestore_clients_"+e+"_"+t}function WE(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function Dg(e,t){return"firestore_targets_"+e+"_"+t}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");var XE=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,s=JSON.parse(i),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new Y(s.error.code,s.error.message)),a?new e(t,n,s.state,o):(xt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Pg=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new Y(o.error.code,o.error.message)),s?new e(t,o.state,i):(xt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),QE=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,s=yh(),a=0;o&&a<i.activeTargetIds.length;++a)o=I1(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return o?new e(t,s):(xt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),YF=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(xt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Cm=function(){function e(){this.activeTargetIds=yh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Lg=function(){function e(t,n,i,o,s){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new fn(je),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=GE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Cm),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return H(this,void 0,void 0,function(){var t,n,i,o,s,a,l,f,d,p,m,v=this;return q(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=b.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(s=this.getItem(GE(this.persistenceKey,o)))&&(a=QE.Vs(o,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,p=this.$s;d<p.length;d++)m=p[d],this.ks(m);return this.$s=[],this.window.addEventListener("pagehide",function(){return v.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(Dg(this.persistenceKey,t));if(i){var o=Pg.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Dg(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,i.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ne("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ne("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ne("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(ne("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return H(n,void 0,void 0,function(){var o,s,a,l,f,d;return q(this,function(p){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(s=this.ni(i.key,i.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(m){var v=zn.o;if(m!=null)try{var b=JSON.parse(m);Ee(typeof b=="number"),v=b}catch(_){xt("SharedClientState","Failed to read sequence number from WebStorage",_)}return v}(i.newValue))!==zn.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new XE(this.currentUser,t,n,i),s=WE(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=WE(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=Dg(this.persistenceKey,t),s=new Pg(t,n,i);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return QE.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),s=i[2]!==void 0?i[2]:null;return XE.Vs(new zt(s),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return Pg.Vs(o,n)},e.prototype.js=function(t){return YF.Vs(t)},e.prototype.ii=function(t){return H(this,void 0,void 0,function(){return q(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ne("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){s.has(d)||l.push(d)}),s.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=yh();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),gA=function(){function e(){this.li=new Cm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Cm,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),JF=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),YE=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),ZF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},eU=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),tU=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return ye(t,e),t.prototype.Fi=function(n,i,o,s){return new Promise(function(a,l){var f=new OM;f.listenOnce(CM.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Rg.NO_ERROR:var p=f.getResponseJson();ne("Connection","XHR received:",JSON.stringify(p)),a(p);break;case Rg.TIMEOUT:ne("Connection",'RPC "'+n+'" timed out'),l(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case Rg.HTTP_ERROR:var m=f.getStatus();if(ne("Connection",'RPC "'+n+'" failed with status:',m,"response text:",f.getResponseText()),m>0){var v=f.getResponseJson().error;if(v&&v.status&&v.message){var b=function(_){var I=_.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(I)>=0?I:F.UNKNOWN}(v.status);l(new Y(b,v.message))}else l(new Y(F.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new Y(F.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ne("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);f.send(i,"POST",d,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=kM(),a=NM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new RM({})),this.ki(l.initMessageHeaders,i),LP()||UP()||jP()||VP()||BP()||FP()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ne("Connection","Creating WebChannel: "+f,l);var d=s.createWebChannel(f,l),p=!1,m=!1,v=new eU({Ei:function(_){m?ne("Connection","Not sending because WebChannel is closed:",_):(p||(ne("Connection","Opening WebChannel transport."),d.open(),p=!0),ne("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),b=function(_,I,C){_.listen(I,function(x){try{C(x)}catch(P){setTimeout(function(){throw P},0)}})};return b(d,Pl.EventType.OPEN,function(){m||ne("Connection","WebChannel transport opened.")}),b(d,Pl.EventType.CLOSE,function(){m||(m=!0,ne("Connection","WebChannel transport closed"),v.Vi())}),b(d,Pl.EventType.ERROR,function(_){m||(m=!0,yf("Connection","WebChannel transport errored:",_),v.Vi(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),b(d,Pl.EventType.MESSAGE,function(_){var I;if(!m){var C=_.data[0];Ee(!!C);var x=C,P=x.error||((I=x[0])===null||I===void 0?void 0:I.error);if(P){ne("Connection","WebChannel received error:",P);var N=P.status,L=function(O){var W=Nt[O];if(W!==void 0)return j1(W)}(N),B=P.message;L===void 0&&(L=F.INTERNAL,B="Unknown error status: "+N+" with message "+P.message),m=!0,v.Vi(new Y(L,B)),d.close()}else ne("Connection","WebChannel received:",C),v.Si(C)}}),b(a,xM.STAT_EVENT,function(_){_.stat===pE.PROXY?ne("Connection","Detected buffering proxy"):_.stat===pE.NOPROXY&&ne("Connection","Detected no buffering proxy")}),setTimeout(function(){v.Pi()},0),v},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var s=this.xi(t,n);ne("RestConnection","Sending: ",s,i);var a={};return this.ki(a,o),this.Fi(t,s,a,i).then(function(l){return ne("RestConnection","Received: ",l),l},function(l){throw yf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=ZF[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){return typeof window<"u"?window:null}function ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(e){return new uF(e,!0)}var ry=function(){function e(t,n,i,o,s){i===void 0&&(i=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,i-o);s>0&&ne("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),vA=function(){function e(t,n,i,o,s,a){this.Se=t,this.zi=i,this.Hi=o,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ry(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return H(this,void 0,void 0,function(){return q(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return H(this,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(xt(n.toString()),xt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===F.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var s=new Y(F.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return H(t,void 0,void 0,function(){return q(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ne("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),nU=function(e){function t(n,i,o,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=s,l}return ye(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(s,a){var l;if("targetChange"in a){a.targetChange;var f=function(C){return C==="NO_CHANGE"?0:C==="ADD"?1:C==="REMOVE"?2:C==="CURRENT"?3:C==="RESET"?4:ge()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],p=function(C,x){return C.I?(Ee(x===void 0||typeof x=="string"),Dn.fromBase64String(x||"")):(Ee(x===void 0||x instanceof Uint8Array),Dn.fromUint8Array(x||new Uint8Array))}(s,a.targetChange.resumeToken),m=(v=a.targetChange.cause)&&function(C){var x=C.code===void 0?F.UNKNOWN:j1(C.code);return new Y(x,C.message||"")}(v);l=new B1(f,d,p,m||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=ei(s,f.document.name),p=In(f.document.updateTime);var v=new $n({mapValue:{fields:f.document.fields}}),b=(m=ln.newFoundDocument(d,p,v),f.targetIds||[]),_=f.removedTargetIds||[];l=new Zl(b,_,m.key,m)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=ei(s,f.document),p=f.readTime?In(f.readTime):Me.min(),v=ln.newNoDocument(d,p),m=f.removedTargetIds||[],l=new Zl([],m,v.key,v);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=ei(s,f.document),p=f.removedTargetIds||[],l=new Zl([],p,d,null);else{if(!("filter"in a))return ge();a.filter;var I=a.filter;I.targetId,f=I.count||0,d=new YM(f),p=I.targetId,l=new V1(p,d)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return Me.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Me.min():a.readTime?In(a.readTime):Me.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=za(this.R),i.addTarget=function(s,a){var l,f=a.target;return(l=_f(f)?{documents:z1(s,f)}:{query:G1(s,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=q1(s,a.resumeToken):a.snapshotVersion.compareTo(Me.min())>0&&(l.readTime=Ha(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ge()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=za(this.R),i.removeTarget=n,this.cr(i)},t}(vA),rU=function(e){function t(n,i,o,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=s,l.gr=!1,l}return ye(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Ee(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(s,a){return s&&s.length>0?(Ee(a!==void 0),s.map(function(l){return function(f,d){var p=f.updateTime?In(f.updateTime):In(d);return p.isEqual(Me.min())&&(p=In(d)),new WM(p,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=In(n.commitTime);return this.listener.Tr(o,i)}return Ee(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=za(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return Tf(i.R,s)})};this.cr(o)},t}(vA),iU=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=i,s.R=o,s.Rr=!1,s}return ye(t,e),t.prototype.br=function(){if(this.Rr)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new Y(F.UNKNOWN,a.toString())})},t.prototype.$i=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new Y(F.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),oU=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(xt(n),this.Vr=!1):ne("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),sU=function(e,t,n,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return H(s,void 0,void 0,function(){return q(this,function(l){switch(l.label){case 0:return zi(this)?(ne("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return H(this,void 0,void 0,function(){var d;return q(this,function(p){switch(p.label){case 0:return(d=ce(f)).Or.add(4),[4,_u(d)];case 1:return p.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,vc(d)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new oU(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(e){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:if(!zi(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function _u(e){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function _h(e,t){var n=ce(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),sy(n)?oy(n):Iu(n).er()&&iy(n,t))}function Ga(e,t){var n=ce(e),i=Iu(n);n.$r.delete(t),i.er()&&yA(n,t),n.$r.size===0&&(i.er()?i.ir():zi(n)&&n.Br.set("Unknown"))}function iy(e,t){e.qr.U(t.targetId),Iu(e).mr(t)}function yA(e,t){e.qr.U(t),Iu(e).yr(t)}function oy(e){e.qr=new iF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Iu(e).start(),e.Br.Sr()}function sy(e){return zi(e)&&!Iu(e).tr()&&e.$r.size>0}function zi(e){return ce(e).Or.size===0}function wA(e){e.qr=void 0}function uU(e){return H(this,void 0,void 0,function(){return q(this,function(t){return e.$r.forEach(function(n,i){iy(e,n)}),[2]})})}function aU(e,t){return H(this,void 0,void 0,function(){return q(this,function(n){return wA(e),sy(e)?(e.Br.Nr(t),oy(e)):e.Br.set("Unknown"),[2]})})}function cU(e,t,n){return H(this,void 0,void 0,function(){var i,o,s;return q(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof B1&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return H(this,void 0,void 0,function(){var d,p,m,v;return q(this,function(b){switch(b.label){case 0:d=f.cause,p=0,m=f.targetIds,b.label=1;case 1:return p<m.length?(v=m[p],l.$r.has(v)?[4,l.remoteSyncer.rejectListen(v,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(v),l.qr.removeTarget(v),b.label=3;case 3:b.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),ne("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Cf(e,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Zl?e.qr.X(t):t instanceof V1?e.qr.rt(t):e.qr.et(t),n.isEqual(Me.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,hA(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(p,m){if(p.resumeToken.approximateByteSize()>0){var v=l.$r.get(m);v&&l.$r.set(m,v.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach(function(p){var m=l.$r.get(p);if(m){l.$r.set(p,m.withResumeToken(Dn.EMPTY_BYTE_STRING,m.snapshotVersion)),yA(l,p);var v=new wh(m.target,p,1,m.sequenceNumber);iy(l,v)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ne("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Cf(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Cf(e,t,n){return H(this,void 0,void 0,function(){var i=this;return q(this,function(o){switch(o.label){case 0:if(!Xo(t))throw t;return e.Or.add(1),[4,_u(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return hA(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return q(this,function(s){switch(s.label){case 0:return ne("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,vc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function bA(e,t){return t().catch(function(n){return Cf(e,n,t)})}function Eu(e){return H(this,void 0,void 0,function(){var t,n,i,o,s;return q(this,function(a){switch(a.label){case 0:t=ce(e),n=qi(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return zi(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,BF(t.localStore,i)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=qi(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return s=a.sent(),[4,Cf(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return _A(t)&&EA(t),[2]}})})}function _A(e){return zi(e)&&!qi(e).tr()&&e.Fr.length>0}function EA(e){qi(e).start()}function lU(e){return H(this,void 0,void 0,function(){return q(this,function(t){return qi(e).Ar(),[2]})})}function fU(e){return H(this,void 0,void 0,function(){var t,n,i,o;return q(this,function(s){for(t=qi(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function hU(e,t,n){return H(this,void 0,void 0,function(){var i,o;return q(this,function(s){switch(s.label){case 0:return i=e.Fr.shift(),o=EF.from(i,t,n),[4,bA(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Eu(e)];case 2:return s.sent(),[2]}})})}function dU(e,t){return H(this,void 0,void 0,function(){return q(this,function(n){switch(n.label){case 0:return t&&qi(e).pr?[4,function(i,o){return H(this,void 0,void 0,function(){var s,a;return q(this,function(l){switch(l.label){case 0:return U1(a=o.code)&&a!==F.ABORTED?(s=i.Fr.shift(),qi(i).sr(),[4,bA(i,function(){return i.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Eu(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return _A(e)&&EA(e),[2]}})})}function xm(e,t){return H(this,void 0,void 0,function(){var n;return q(this,function(i){switch(i.label){case 0:return n=ce(e),t?(n.Or.delete(2),[4,vc(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,_u(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Iu(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var s=ce(n);return s.br(),new nU(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:uU.bind(null,e),Ri:aU.bind(null,e),_r:cU.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),sy(e)?oy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),wA(e),i.label=3;case 3:return[2]}})})})),e.Ur}function qi(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var s=ce(n);return s.br(),new rU(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:lU.bind(null,e),Ri:dU.bind(null,e),Ir:fU.bind(null,e),Tr:hU.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Eu(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(ne("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var pU=function(){function e(t,n,i,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,i,o,s){var a=new e(t,n,Date.now()+i,o,s);return a.start(i),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Tu(e,t){if(xt("AsyncQueue",t+": "+e),Xo(e))return new Y(F.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IA=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||me.comparator(n.key,i.key)}:function(n,i){return me.comparator(n.key,i.key)},this.keyedMap=Am(),this.sortedSet=new fn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),JE=function(){function e(){this.Qr=new fn(me.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ge():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),xf=function(){function e(t,n,i,o,s,a,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,IA.emptySet(n),s,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),gU=function(){this.Wr=void 0,this.listeners=[]},mU=function(){this.queries=new bu(function(e){return N1(e)},hc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,a,l,f;return q(this,function(d){switch(d.label){case 0:if(n=ce(e),i=t.query,o=!1,(s=n.queries.get(i))||(o=!0,s=new gU),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=s,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=Tu(l,"Initialization of query '"+Tm(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&cy(n),[2]}})})}function ay(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,a;return q(this,function(l){return n=ce(e),i=t.query,o=!1,(s=n.queries.get(i))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),o=s.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function vU(e,t){for(var n=ce(e),i=!1,o=0,s=t;o<s.length;o++){var a=s[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,p=f.listeners;d<p.length;d++)p[d].Hr(a)&&(i=!0);f.Wr=a}}i&&cy(n)}function yU(e,t,n){var i=ce(e),o=i.queries.get(t);if(o)for(var s=0,a=o.listeners;s<a.length;s++)a[s].onError(n);i.queries.delete(t)}function cy(e){e.Gr.forEach(function(t){t.next()})}var ly=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var s=o[i];s.type!==3&&n.push(s)}t=new xf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=xf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TA=function(e){this.key=e},SA=function(e){this.key=e},AA=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=nt(),this.mutatedKeys=nt(),this.lo=C1(t),this.fo=new IA(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new JE,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,d=Yl(this.query)&&s.size===this.query.limit?s.last():null,p=If(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(v,b){var _=s.get(v),I=dc(i.query,b)?b:null,C=!!_&&i.mutatedKeys.has(_.key),x=!!I&&(I.hasLocalMutations||i.mutatedKeys.has(I.key)&&I.hasCommittedMutations),P=!1;_&&I?_.data.isEqual(I.data)?C!==x&&(o.track({type:3,doc:I}),P=!0):i.yo(_,I)||(o.track({type:2,doc:I}),P=!0,(d&&i.lo(I,d)>0||p&&i.lo(I,p)<0)&&(f=!0)):!_&&I?(o.track({type:0,doc:I}),P=!0):_&&!I&&(o.track({type:1,doc:_}),P=!0,(d||p)&&(f=!0)),P&&(I?(l=l.add(I),a=x?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))}),Yl(this.query)||If(this.query))for(;l.size>this.query.limit;){var m=Yl(this.query)?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),o.track({type:1,doc:m})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,m){return function(v,b){var _=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return _(v)-_(b)}(p.type,m.type)||o.lo(p.doc,m.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new xf(this.query,t.fo,s,a,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new JE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=nt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new SA(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new TA(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=nt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return xf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),wU=function(e,t,n){this.query=e,this.targetId=t,this.view=n},bU=function(e){this.key=e,this.bo=!1},_U=function(){function e(t,n,i,o,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new bu(function(l){return N1(l)},hc),this.Vo=new Map,this.So=new Set,this.Do=new fn(me.comparator),this.Co=new Map,this.No=new ny,this.xo={},this.ko=new Map,this.Fo=Af.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function EU(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,a,l;return q(this,function(f){switch(f.label){case 0:return n=gy(e),(s=n.Po.get(t))?(i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,kf(n.localStore,qr(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,fy(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&_h(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function fy(e,t,n,i){return H(this,void 0,void 0,function(){var o,s,a,l,f,d;return q(this,function(p){switch(p.label){case 0:return e.Oo=function(m,v,b){return function(_,I,C,x){return H(this,void 0,void 0,function(){var P,N,L;return q(this,function(B){switch(B.label){case 0:return P=I.view._o(C),P.Nn?[4,Nf(_.localStore,I.query,!1).then(function(O){var W=O.documents;return I.view._o(W,P)})]:[3,2];case 1:P=B.sent(),B.label=2;case 2:return N=x&&x.targetChanges.get(I.targetId),L=I.view.applyChanges(P,_.isPrimaryClient,N),[2,(Rm(_,I.targetId,L.To),L.snapshot)]}})})}(e,m,v,b)},[4,Nf(e.localStore,t,!0)];case 1:return o=p.sent(),s=new AA(t,o.Bn),a=s._o(o.documents),l=Xv.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=s.applyChanges(a,e.isPrimaryClient,l),Rm(e,n,f.To),d=new wU(t,n,s),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function IU(e,t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(s){switch(s.label){case 0:return n=ce(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!hc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,su(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Ga(n.remoteStore,i.targetId),uu(n,i.targetId)}).catch(Qo)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return uu(n,i.targetId),[4,su(n.localStore,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function TU(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a;return q(this,function(l){switch(l.label){case 0:i=my(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var p,m=ce(f),v=On.now(),b=d.reduce(function(_,I){return _.add(I.key)},nt());return m.persistence.runTransaction("Locally write mutations","readwrite",function(_){return m.Mn.pn(_,b).next(function(I){p=I;for(var C=[],x=0,P=d;x<P.length;x++){var N=P[x],L=QM(N,p.get(N.key));L!=null&&C.push(new Ki(N.key,L,T1(L.value.mapValue),un.exists(!0)))}return m._n.addMutationBatch(_,v,C,d)})}).then(function(_){return _.applyToLocalDocumentSet(p),{batchId:_.batchId,changes:p}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,p){var m=f.xo[f.currentUser.toKey()];m||(m=new fn(je)),m=m.insert(d,p),f.xo[f.currentUser.toKey()]=m}(i,o.batchId,n),[4,Gi(i,o.changes)];case 3:return l.sent(),[4,Eu(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Tu(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function kA(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:n=ce(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,jF(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(Ee(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?Ee(l.bo):s.removedDocuments.size>0&&(Ee(l.bo),l.bo=!1))}),[4,Gi(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,Qo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ZE(e,t,n){var i=ce(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,a){var l=ce(s);l.onlineState=a;var f=!1;l.queries.forEach(function(d,p){for(var m=0,v=p.listeners;m<v.length;m++)v[m].zr(a)&&(f=!0)}),f&&cy(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function SU(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a,l,f;return q(this,function(d){switch(d.label){case 0:return(i=ce(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(s=o&&o.key)?(a=(a=new fn(me.comparator)).insert(s,ln.newNoDocument(s,Me.min())),l=nt().add(s),f=new Wv(Me.min(),new Map,new Ft(je),a,l),[4,kA(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(s),i.Co.delete(t),py(i),[3,4];case 2:return[4,su(i.localStore,t,!1).then(function(){return uu(i,t,n)}).catch(Qo)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function AU(e,t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(s){switch(s.label){case 0:n=ce(e),i=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,UF(n.localStore,t)];case 2:return o=s.sent(),dy(n,i,null),hy(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Gi(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,Qo(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function kU(e,t,n){return H(this,void 0,void 0,function(){var i,o;return q(this,function(s){switch(s.label){case 0:i=ce(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var f=ce(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var p;return f._n.lookupMutationBatch(d,l).next(function(m){return Ee(m!==null),p=m.keys(),f._n.removeMutationBatch(d,m)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,p)})})}(i.localStore,t)];case 2:return o=s.sent(),dy(i,t,n),hy(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Gi(i,o)];case 3:return s.sent(),[3,6];case 4:return[4,Qo(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function NU(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,a;return q(this,function(l){switch(l.label){case 0:zi((n=ce(e)).remoteStore)||ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=ce(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return d._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return s=l.sent(),a=Tu(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function hy(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function dy(e,t,n){var i=ce(e),o=i.xo[i.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function uu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var s=o[i];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||NA(e,a)})}function NA(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Ga(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),py(e))}function Rm(e,t,n){for(var i=0,o=n;i<o.length;i++){var s=o[i];s instanceof TA?(e.No.addReference(s.key,t),CU(e,s)):s instanceof SA?(ne("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||NA(e,s.key)):ge()}}function CU(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(ne("SyncEngine","New document in limbo: "+n),e.So.add(i),py(e))}function py(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new me(Qe.fromString(t)),i=e.Fo.next();e.Co.set(i,new bU(n)),e.Do=e.Do.insert(n,i),_h(e.remoteStore,new wh(qr(fc(n.path)),i,2,zn.o))}}function Gi(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a;return q(this,function(l){switch(l.label){case 0:return i=ce(e),o=[],s=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,t,n).then(function(p){if(p){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,p.fromCache?"not-current":"current"),o.push(p);var m=MF.Pn(d.targetId,p);s.push(m)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return H(this,void 0,void 0,function(){var p,m,v,b,_,I,C,x,P;return q(this,function(N){switch(N.label){case 0:p=ce(f),N.label=1;case 1:return N.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(L){return Z.forEach(d,function(B){return Z.forEach(B.bn,function(O){return p.persistence.referenceDelegate.addReference(L,B.targetId,O)}).next(function(){return Z.forEach(B.vn,function(O){return p.persistence.referenceDelegate.removeReference(L,B.targetId,O)})})})})];case 2:return N.sent(),[3,4];case 3:if(!Xo(m=N.sent()))throw m;return ne("LocalStore","Failed to update sequence numbers: "+m),[3,4];case 4:for(v=0,b=d;v<b.length;v++)_=b[v],I=_.targetId,_.fromCache||(C=p.kn.get(I),x=C.snapshotVersion,P=C.withLastLimboFreeSnapshotVersion(x),p.kn=p.kn.insert(I,P));return[2]}})})}(i.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function xU(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:return(n=ce(e)).currentUser.isEqual(t)?[3,3]:(ne("SyncEngine","User change. New user:",t.toKey()),[4,fA(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new Y(F.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Gi(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function RU(e,t){var n=ce(e),i=n.Co.get(t);if(i&&i.bo)return nt().add(i.key);var o=nt(),s=n.Vo.get(t);if(!s)return o;for(var a=0,l=s;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function OU(e,t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(s){switch(s.label){case 0:return[4,Nf((n=ce(e)).localStore,t.query,!0)];case 1:return i=s.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Rm(n,t.targetId,o.To),o)]}})})}function DU(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){return[2,pA((t=ce(e)).localStore).then(function(i){return Gi(t,i)})]})})}function PU(e,t,n,i){return H(this,void 0,void 0,function(){var o,s;return q(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=ce(l),p=ce(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(m){return p.jt(m,f).next(function(v){return v?d.Mn.pn(m,v):Z.resolve(null)})})}((o=ce(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Eu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(dy(o,t,i||null),hy(o,t),function(l,f){ce(ce(l)._n).Gt(f)}(o.localStore,t)):ge(),a.label=4;case 4:return[4,Gi(o,s)];case 5:return a.sent(),[3,7];case 6:ne("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function LU(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,a,l,f,d;return q(this,function(p){switch(p.label){case 0:return gy(n=ce(e)),my(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,eI(n,i.toArray())]);case 1:return o=p.sent(),n.$o=!0,[4,xm(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=o;s<a.length;s++)l=a[s],_h(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(m,v){n.sharedClientState.isLocalQueryTarget(v)?f.push(v):d=d.then(function(){return uu(n,v),su(n.localStore,v,!0)}),Ga(n.remoteStore,v)}),[4,d]);case 4:return p.sent(),[4,eI(n,f)];case 5:return p.sent(),function(m){var v=ce(m);v.Co.forEach(function(b,_){Ga(v.remoteStore,_)}),v.No.ts(),v.Co=new Map,v.Do=new fn(me.comparator)}(n),n.$o=!1,[4,xm(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function eI(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a,l,f,d,p,m,v,b,_,I,C;return q(this,function(x){switch(x.label){case 0:i=ce(e),o=[],s=[],a=0,l=t,x.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(p=i.Vo.get(f))&&p.length!==0?[4,kf(i.localStore,qr(p[0]))]:[3,7]):[3,13];case 2:d=x.sent(),m=0,v=p,x.label=3;case 3:return m<v.length?(b=v[m],_=i.Po.get(b),[4,OU(i,_)]):[3,6];case 4:(I=x.sent()).snapshot&&s.push(I.snapshot),x.label=5;case 5:return m++,[3,3];case 6:return[3,11];case 7:return[4,dA(i.localStore,f)];case 8:return C=x.sent(),[4,kf(i.localStore,C)];case 9:return d=x.sent(),[4,fy(i,CA(C),f,!1)];case 10:x.sent(),x.label=11;case 11:o.push(d),x.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(s),o)]}})})}function CA(e){return A1(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function MU(e){var t=ce(e);return ce(ce(t.localStore).persistence).fn()}function FU(e,t,n,i){return H(this,void 0,void 0,function(){var o,s,a;return q(this,function(l){switch(l.label){case 0:return(o=ce(e)).$o?(ne("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,pA(o.localStore)];case 3:return s=l.sent(),a=Wv.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Gi(o,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,su(o.localStore,t,!0)];case 6:return l.sent(),uu(o,t,i),[3,8];case 7:ge(),l.label=8;case 8:return[2]}})})}function UU(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a,l,f,d,p,m,v;return q(this,function(b){switch(b.label){case 0:if(!(i=gy(e)).$o)return[3,10];o=0,s=t,b.label=1;case 1:return o<s.length?(a=s[o],i.Vo.has(a)?(ne("SyncEngine","Adding an already active target "+a),[3,5]):[4,dA(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,kf(i.localStore,l)];case 3:return f=b.sent(),[4,fy(i,CA(l),f.targetId,!1)];case 4:b.sent(),_h(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(_){return q(this,function(I){switch(I.label){case 0:return i.Vo.has(_)?[4,su(i.localStore,_,!1).then(function(){Ga(i.remoteStore,_),uu(i,_)}).catch(Qo)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},p=0,m=n,b.label=7;case 7:return p<m.length?(v=m[p],[5,d(v)]):[3,10];case 8:b.sent(),b.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function gy(e){var t=ce(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=kA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=SU.bind(null,t),t.vo._r=vU.bind(null,t.eventManager),t.vo.Mo=yU.bind(null,t.eventManager),t}function my(e){var t=ce(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kU.bind(null,t),t}var xA=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return H(this,void 0,void 0,function(){return q(this,function(n){switch(n.label){case 0:return this.R=bh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return lA(this.persistence,new cA,t.initialUser,this.R)},e.prototype.qo=function(t){return new WF(QF.bs,this.R)},e.prototype.Bo=function(t){return new gA},e.prototype.terminate=function(){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),RA=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=i,s.forceOwnership=o,s.synchronizeTabs=!1,s}return ye(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i=this;return q(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,qF(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,my(this.Qo.syncEngine)];case 4:return o.sent(),[4,Eu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return lA(this.persistence,new cA,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new CF(i,n.asyncQueue)},t.prototype.qo=function(n){var i=ty(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Dr.withCacheSize(this.cacheSizeBytes):Dr.DEFAULT;return new LF(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,mA(),ef(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new gA},t}(xA),jU=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return ye(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i,o=this;return q(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof Lg?(this.sharedClientState.syncEngine={ui:PU.bind(null,i),ai:FU.bind(null,i),hi:UU.bind(null,i),fn:MU.bind(null,i),ci:DU.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return H(o,void 0,void 0,function(){return q(this,function(l){switch(l.label){case 0:return[4,LU(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var i=mA();if(!Lg.yt(i))throw new Y(F.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=ty(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Lg(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(RA),Om=function(){function e(){}return e.prototype.initialize=function(t,n){return H(this,void 0,void 0,function(){var i=this;return q(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return ZE(i.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=xU.bind(null,this.syncEngine),[4,xm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new mU},e.prototype.createDatastore=function(t){var n,i=bh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new tU(n));return function(s,a,l){return new iU(s,a,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,s,a,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,s=function(f){return ZE(l.syncEngine,f,0)},a=YE.yt()?new YE:new JF,new sU(n,i,o,s,a)},e.prototype.createSyncEngine=function(t,n){return function(i,o,s,a,l,f,d){var p=new _U(i,o,s,a,l,f);return d&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return H(this,void 0,void 0,function(){var n;return q(this,function(i){switch(i.label){case 0:return n=ce(t),ne("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,_u(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),VU=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return H(this,void 0,void 0,function(){var n,i=this;return q(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Y(F.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return H(this,void 0,void 0,function(){var l,f,d,p,m,v;return q(this,function(b){switch(b.label){case 0:return l=ce(s),f=za(l.R)+"/documents",d={documents:a.map(function(_){return Ka(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return p=b.sent(),m=new Map,p.forEach(function(_){var I=function(C,x){return"found"in x?function(P,N){Ee(!!N.found),N.found.name,N.found.updateTime;var L=ei(P,N.found.name),B=In(N.found.updateTime),O=new $n({mapValue:{fields:N.found.fields}});return ln.newFoundDocument(L,B,O)}(C,x):"missing"in x?function(P,N){Ee(!!N.missing),Ee(!!N.readTime);var L=ei(P,N.missing),B=In(N.readTime);return ln.newNoDocument(L,B)}(C,x):ge()}(l.R,_);m.set(I.key.toString(),I)}),v=[],[2,(a.forEach(function(_){var I=m.get(_.toString());Ee(!!I),v.push(I)}),v)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return i.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new mc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return H(this,void 0,void 0,function(){var t,n=this;return q(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var a=me.fromPath(s);n.mutations.push(new Gv(a,n.precondition(a)))}),[4,function(o,s){return H(this,void 0,void 0,function(){var a,l,f;return q(this,function(d){switch(d.label){case 0:return a=ce(o),l=za(a.R)+"/documents",f={writes:s.map(function(p){return Tf(a.R,p)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ge();n=Me.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new Y(F.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?un.updateTime(n):un.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Me.min()))throw new Y(F.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return un.updateTime(n)}return un.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),BU=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new ry(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return H(t,void 0,void 0,function(){var n,i,o=this;return q(this,function(s){return n=new VU(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Wo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!U1(n)}return!1},e}(),qU=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=zt.UNAUTHENTICATED,this.clientId=y1.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return H(o,void 0,void 0,function(){return q(this,function(a){switch(a.label){case 0:return ne("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return H(this,void 0,void 0,function(){return q(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return H(t,void 0,void 0,function(){var i,o;return q(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=s.sent(),o=Tu(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(e,t){return H(this,void 0,void 0,function(){var n,i,o=this;return q(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),i=n.initialUser,e.setCredentialChangeListener(function(a){return H(o,void 0,void 0,function(){return q(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,fA(t.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function DA(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,vy(e)];case 1:return n=o.sent(),ne("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return H(this,void 0,void 0,function(){var f,d;return q(this,function(p){switch(p.label){case 0:return(f=ce(a)).asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials"),d=zi(f),f.Or.add(3),[4,_u(f)];case 1:return p.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),f.Or.delete(3),[4,vc(f)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function vy(e){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ne("FirestoreClient","Using default OfflineComponentProvider"),[4,OA(e,new xA)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Ih(e){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ne("FirestoreClient","Using default OnlineComponentProvider"),[4,DA(e,new Om)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function tI(e){return vy(e).then(function(t){return t.persistence})}function PA(e){return vy(e).then(function(t){return t.localStore})}function nI(e){return Ih(e).then(function(t){return t.remoteStore})}function LA(e){return Ih(e).then(function(t){return t.syncEngine})}function au(e){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:return[4,Ih(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=EU.bind(null,t.syncEngine),n.onUnlisten=IU.bind(null,t.syncEngine),n)]}})})}function rI(e,t,n){var i=this;n===void 0&&(n={});var o=new Pn;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var s;return q(this,function(a){switch(a.label){case 0:return s=function(l,f,d,p,m){var v=new Eh({next:function(_){f.enqueueAndForget(function(){return ay(l,b)});var I=_.docs.has(d);!I&&_.fromCache?m.reject(new Y(F.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&p&&p.source==="server"?m.reject(new Y(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:function(_){return m.reject(_)}}),b=new ly(fc(d.path),v,{includeMetadataChanges:!0,so:!0});return uy(l,b)},[4,au(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function iI(e,t,n){var i=this;n===void 0&&(n={});var o=new Pn;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var s;return q(this,function(a){switch(a.label){case 0:return s=function(l,f,d,p,m){var v=new Eh({next:function(_){f.enqueueAndForget(function(){return ay(l,b)}),_.fromCache&&p.source==="server"?m.reject(new Y(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:function(_){return m.reject(_)}}),b=new ly(d,v,{includeMetadataChanges:!0,so:!0});return uy(l,b)},[4,au(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var $U=function(e,t,n,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},Rf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),oI=new Map,MA=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},sI=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(zt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),HU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),KU=function(){function e(t){var n=this;this.currentUser=zt.UNAUTHENTICATED,this.oc=new Pn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){ne("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(ne("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(ne("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Ee(typeof o.accessToken=="string"),new MA(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return q(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Ee(t===null||typeof t=="string"),new zt(t)},e}(),zU=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=zt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),GU=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new zU(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(zt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(e,t,n){if(!n)throw new Y(F.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function wy(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new Y(F.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function FA(e,t,n,i){if(t===!0&&i===!0)throw new Y(F.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function uI(e){if(!me.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function aI(e){if(me.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Th(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ge()}function Ye(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Th(e);throw new Y(F.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function cI(e,t){if(t<=0)throw new Y(F.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lI=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,FA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Wa=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lI({}),this._settingsFrozen=!1,t instanceof Rf?(this._databaseId=t,this._credentials=new sI):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rf(i.options.projectId)}(t),this._credentials=new KU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lI(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new sI;switch(n.type){case"gapi":var i=n.client;return Ee(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new GU(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Y(F.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=oI.get(t))&&(ne("ComponentProvider","Removing Datastore"),oI.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),mt=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Fi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Wn=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Fi=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,fc(o))||this)._path=o,s.type="collection",s}return ye(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new mt(this.firestore,null,new me(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Wn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=tt(e),yy("collection","path",t),e instanceof Wa)return aI(n=Qe.fromString.apply(Qe,lt([t],i))),new Fi(e,null,n);if(!(e instanceof mt||e instanceof Fi))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return aI(n=Qe.fromString.apply(Qe,lt([e.path],i)).child(Qe.fromString(t))),new Fi(e.firestore,null,n)}function tf(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=tt(e),arguments.length===1&&(t=y1.u()),yy("doc","path",t),e instanceof Wa)return uI(n=Qe.fromString.apply(Qe,lt([t],i))),new mt(e,null,new me(n));if(!(e instanceof mt||e instanceof Fi))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return uI(n=e._path.child(Qe.fromString.apply(Qe,lt([t],i)))),new mt(e.firestore,e instanceof Fi?e.converter:null,new me(n))}function jA(e,t){return e=tt(e),t=tt(t),(e instanceof mt||e instanceof Fi)&&(t instanceof mt||t instanceof Fi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function VA(e,t){return e=tt(e),t=tt(t),e instanceof Wn&&t instanceof Wn&&e.firestore===t.firestore&&hc(e._query,t._query)&&e.converter===t.converter}var WU=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ry(this,"async_queue_retry"),this.Ic=function(){var i=ef();i&&ne("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=ef();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=ef();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Pn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return H(this,void 0,void 0,function(){var t,n=this;return q(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Xo(t=i.sent()))throw t;return ne("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,xt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=pU.createAndSchedule(this,t,n,i,function(a){return o.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&ge()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var s=o[i];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function cu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,s=["next","error","complete"];o<s.length;o++){var a=s[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(e)}var XU=-1,Mt=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new WU,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return ye(t,e),t.prototype._terminate=function(){return this._firestoreClient||BA(this),this._firestoreClient.terminate()},t}(Wa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(e){return e._firestoreClient||BA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function BA(e){var t,n=e._freezeSettings(),i=function(o,s,a,l){return new $U(o,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new qU(e._credentials,e._queue,i)}function fI(e,t,n){var i=this,o=new Pn;return e.asyncQueue.enqueue(function(){return H(i,void 0,void 0,function(){var s;return q(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,OA(e,n)];case 1:return a.sent(),[4,DA(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===F.FAILED_PRECONDITION||l.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function hI(e){if(e._initialized||e._terminated)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),$o=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Dn.fromBase64String(t))}catch(n){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Dn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Yo=function(e){this._methodName=e},Sh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return je(this._lat,t._lat)||je(this._long,t._long)},e}(),QU=/^__.*__$/,YU=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Ki(t,this.data,this.fieldMask,n,this.fieldTransforms):new gc(t,this.data,n,this.fieldTransforms)},e}(),qA=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new Ki(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}var HA=function(){function e(t,n,i,o,s,a){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Of(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if($A(this.Nc)&&QU.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),JU=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||bh(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new HA({Nc:t,methodName:n,qc:i,path:_r.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Jo(e){var t=e._freezeSettings(),n=bh(e._databaseId);return new JU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ah(e,t,n,i,o,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);Iy("Data must be an object, but it was:",a,i);var l,f,d=GA(i,a);if(s.merge)l=new Xs(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){for(var p=[],m=0,v=s.mergeFields;m<v.length;m++){var b=Dm(t,v[m],n);if(!a.contains(b))throw new Y(F.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");XA(p,b)||p.push(b)}l=new Xs(p),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new YU(new $n(d),l,f)}var by=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Yo);function KA(e,t,n){return new HA({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var ZU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype._toFieldTransform=function(n){return new pc(n.path,new Zs)},t.prototype.isEqual=function(n){return n instanceof t},t}(Yo),ej=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return ye(t,e),t.prototype._toFieldTransform=function(n){var i=KA(this,n,!0),o=this.Kc.map(function(a){return Zo(a,i)}),s=new Bo(o);return new pc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Yo),tj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return ye(t,e),t.prototype._toFieldTransform=function(n){var i=KA(this,n,!0),o=this.Kc.map(function(a){return Zo(a,i)}),s=new qo(o);return new pc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Yo),nj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return ye(t,e),t.prototype._toFieldTransform=function(n){var i=new eu(n.R,O1(n.R,this.Qc));return new pc(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(Yo);function _y(e,t,n,i){var o=e.Uc(1,t,n);Iy("Data must be an object, but it was:",o,i);var s=[],a=$n.empty();Go(i,function(f,d){var p=Ty(t,f,n);d=tt(d);var m=o.Oc(p);if(d instanceof by)s.push(p);else{var v=Zo(d,m);v!=null&&(s.push(p),a.set(p,v))}});var l=new Xs(s);return new qA(a,l,o.fieldTransforms)}function Ey(e,t,n,i,o,s){var a=e.Uc(1,t,n),l=[Dm(t,i,n)],f=[o];if(s.length%2!=0)throw new Y(F.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)l.push(Dm(t,s[d])),f.push(s[d+1]);for(var p=[],m=$n.empty(),v=l.length-1;v>=0;--v)if(!XA(p,l[v])){var b=l[v],_=f[v];_=tt(_);var I=a.Oc(b);if(_ instanceof by)p.push(b);else{var C=Zo(_,I);C!=null&&(p.push(b),m.set(b,C))}}var x=new Xs(p);return new qA(m,x,a.fieldTransforms)}function zA(e,t,n,i){return i===void 0&&(i=!1),Zo(n,e.Uc(i?4:3,t))}function Zo(e,t){if(WA(e=tt(e)))return Iy("Unsupported field value:",t,e),GA(e,t);if(e instanceof Yo)return function(n,i){if(!$A(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],s=0,a=0,l=n;a<l.length;a++){var f=Zo(l[a],i.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=tt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return O1(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=On.fromDate(n);return{timestampValue:Ha(i.R,o)}}if(n instanceof On)return o=new On(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Ha(i.R,o)};if(n instanceof Sh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof $o)return{bytesValue:q1(i.R,n._byteString)};if(n instanceof mt){o=i.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw i.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:Qv(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+Th(n))}(e,t)}function GA(e,t){var n={};return b1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Go(e,function(i,o){var s=Zo(o,t.kc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function WA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof On||e instanceof Sh||e instanceof $o||e instanceof mt||e instanceof Yo)}function Iy(e,t,n){if(!WA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=Th(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function Dm(e,t,n){if((t=tt(t))instanceof Ur)return t._internalPath;if(typeof t=="string")return Ty(e,t);throw Of("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var rj=new RegExp("[~\\*/\\[\\]]");function Ty(e,t,n){if(t.search(rj)>=0)throw Of("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Ur.bind.apply(Ur,lt([void 0],t.split("."))))()._internalPath}catch{throw Of("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Of(e,t,n,i,o){var s=i&&!i.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||a)&&(f+=" (found",s&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new Y(F.INVALID_ARGUMENT,(l+=". ")+e+f)}function XA(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xa=function(){function e(t,n,i,o,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new mt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new ij(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Df("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),ij=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Xa);function Df(e,t){return typeof t=="string"?Ty(e,t):t instanceof Ur?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ni=function(e){function t(n,i,o,s,a,l){var f=this;return(f=e.call(this,n,i,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return ye(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Ia(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(Df("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(Xa),Ia=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ni),xi=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new No(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Ia(i._firestore,i._userDataWriter,o.key,o,new No(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var s=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Ia(i._firestore,i._userDataWriter,l.doc.key,l.doc,new No(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Ia(i._firestore,i._userDataWriter,l.doc.key,l.doc,new No(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:oj(l.type),doc:f,oldIndex:d,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function oj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}function QA(e,t){return e instanceof ni&&t instanceof ni?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof xi&&t instanceof xi&&e._firestore===t._firestore&&VA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(e){if(If(e)&&e.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yc=function(){};function _i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var s=o[i];e=s._apply(e)}return e}var sj=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=i,s.Gc=o,s.type="where",s}return ye(t,e),t.prototype._apply=function(n){var i=Jo(n.firestore),o=function(s,a,l,f,d,p,m){var v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Y(F.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){vI(m,p);for(var b=[],_=0,I=m;_<I.length;_++){var C=I[_];b.push(mI(f,s,C))}v={arrayValue:{values:b}}}else v=mI(f,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||vI(m,p),v=zA(l,"where",m,p==="in"||p==="not-in");var x=Gn.create(d,p,v);return function(P,N){if(N.g()){var L=Kv(P);if(L!==null&&!L.isEqual(N.field))throw new Y(F.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+L.toString()+"' and '"+N.field.toString()+"'");var B=Hv(P);B!==null&&ZA(P,N.field,B)}var O=function(W,D){for(var ue=0,S=W.filters;ue<S.length;ue++){var Ae=S[ue];if(D.indexOf(Ae.op)>=0)return Ae.op}return null}(P,function(W){switch(W){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(N.op));if(O!==null)throw O===N.op?new Y(F.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+N.op.toString()+"' filter."):new Y(F.INVALID_ARGUMENT,"Invalid query. You cannot use '"+N.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,x),x}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Wn(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new ui(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(yc),uj=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return ye(t,e),t.prototype._apply=function(n){var i=function(o,s,a){if(o.startAt!==null)throw new Y(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Y(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new js(s,a);return function(f,d){if(Hv(f)===null){var p=Kv(f);p!==null&&ZA(f,p,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Wn(n.firestore,n.converter,function(o,s){var a=o.explicitOrderBy.concat([s]);return new ui(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(yc),dI=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=i,s.Jc=o,s}return ye(t,e),t.prototype._apply=function(n){return new Wn(n.firestore,n.converter,k1(n._query,this.Hc,this.Jc))},t}(yc),pI=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return ye(t,e),t.prototype._apply=function(n){var i=JA(n,this.type,this.Yc,this.Xc);return new Wn(n.firestore,n.converter,function(o,s){return new ui(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,i))},t}(yc),gI=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return ye(t,e),t.prototype._apply=function(n){var i=JA(n,this.type,this.Yc,this.Xc);return new Wn(n.firestore,n.converter,function(o,s){return new ui(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,i))},t}(yc);function JA(e,t,n,i){if(n[0]=tt(n[0]),n[0]instanceof Xa)return function(s,a,l,f,d){if(!f)throw new Y(F.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],m=0,v=Js(s);m<v.length;m++){var b=v[m];if(b.field.isKeyField())p.push(bf(a,f.key));else{var _=f.data.field(b.field);if(Bv(_))throw new Y(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var I=b.field.canonicalString();throw new Y(F.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}p.push(_)}}return new $a(p,d)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=Jo(e.firestore);return function(s,a,l,f,d,p){var m=s.explicitOrderBy;if(d.length>m.length)throw new Y(F.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var v=[],b=0;b<d.length;b++){var _=d[b];if(m[b].field.isKeyField()){if(typeof _!="string")throw new Y(F.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!zv(s)&&_.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var I=s.path.child(Qe.fromString(_));if(!me.isDocumentKey(I))throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var C=new me(I);v.push(bf(a,C))}else{var x=zA(l,f,_);v.push(x)}}return new $a(v,p)}(e._query,e.firestore._databaseId,o,t,n,i)}function mI(e,t,n){if(typeof(n=tt(n))=="string"){if(n==="")throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!zv(t)&&n.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(Qe.fromString(n));if(!me.isDocumentKey(i))throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return bf(e,new me(i))}if(n instanceof mt)return bf(e,n._key);throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Th(n)+".")}function vI(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Y(F.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function ZA(e,t,n){if(!n.isEqual(t))throw new Y(F.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sy=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Vo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ct(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Qs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ge()}},e.prototype.convertObject=function(t,n){var i=this,o={};return Go(t.fields,function(s,a){o[s]=i.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new Sh(Ct(t.latitude),Ct(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=E1(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ba(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Bi(t);return new On(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=Qe.fromString(t);Ee(Q1(i));var o=new Rf(i.get(1),i.get(3)),s=new me(i.popFirst(5));return o.isEqual(n)||xt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var aj=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return ye(t,e),t.prototype.convertBytes=function(n){return new $o(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new mt(this.firestore,null,i)},t}(Sy),cj=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Jo(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=Ri(t,this._firestore),s=kh(o.converter,n,i),a=Ah(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,un.none())),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var a,l=Ri(t,this._firestore);return a=typeof(n=tt(n))=="string"||n instanceof Ur?Ey(this._dataReader,"WriteBatch.update",l._key,n,i,o):_y(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,un.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Ri(t,this._firestore);return this._mutations=this._mutations.concat(new mc(n._key,un.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Y(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(e,t){if((e=tt(e)).firestore!==t)throw new Y(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Do=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return ye(t,e),t.prototype.convertBytes=function(n){return new $o(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new mt(this.firestore,null,i)},t}(Sy);function yI(e,t,n){e=Ye(e,mt);var i=Ye(e.firestore,Mt),o=kh(e.converter,t,n);return wc(i,[Ah(Jo(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,un.none())])}function wI(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=Ye(e,mt);var s=Ye(e.firestore,Mt),a=Jo(s);return wc(s,[(typeof(t=tt(t))=="string"||t instanceof Ur?Ey(a,"updateDoc",e._key,t,n,i):_y(a,"updateDoc",e._key,t)).toMutation(e._key,un.exists(!0))])}function ek(e){for(var t,n,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=tt(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||cu(o[l])||(a=o[l],l++);var f,d,p,m={includeMetadataChanges:a.includeMetadataChanges};if(cu(o[l])){var v=o[l];o[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),o[l+1]=(n=v.error)===null||n===void 0?void 0:n.bind(v),o[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}if(e instanceof mt)d=Ye(e.firestore,Mt),p=fc(e._key.path),f={next:function(I){o[l]&&o[l](Pm(d,e,I))},error:o[l+1],complete:o[l+2]};else{var b=Ye(e,Wn);d=Ye(b.firestore,Mt),p=b._query;var _=new Do(d);f={next:function(I){o[l]&&o[l](new xi(d,_,b,I))},error:o[l+1],complete:o[l+2]},YA(e._query)}return function(I,C,x,P){var N=this,L=new Eh(P),B=new ly(C,L,x);return I.asyncQueue.enqueueAndForget(function(){return H(N,void 0,void 0,function(){var O;return q(this,function(W){switch(W.label){case 0:return O=uy,[4,au(I)];case 1:return[2,O.apply(void 0,[W.sent(),B])]}})})}),function(){L.Wo(),I.asyncQueue.enqueueAndForget(function(){return H(N,void 0,void 0,function(){var O;return q(this,function(W){switch(W.label){case 0:return O=ay,[4,au(I)];case 1:return[2,O.apply(void 0,[W.sent(),B])]}})})})}}(on(d),p,m,f)}function wc(e,t){return function(n,i){var o=this,s=new Pn;return n.asyncQueue.enqueueAndForget(function(){return H(o,void 0,void 0,function(){var a;return q(this,function(l){switch(l.label){case 0:return a=TU,[4,LA(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,s])]}})})}),s.promise}(on(e),t)}function Pm(e,t,n){var i=n.docs.get(t._key),o=new Do(e);return new ni(e,o,t._key,i,new No(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lj=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return ye(t,e),t.prototype.get=function(n){var i=this,o=Ri(n,this._firestore),s=new Do(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new ni(i._firestore,s,o._key,a._document,new No(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Jo(t)}return e.prototype.get=function(t){var n=this,i=Ri(t,this._firestore),o=new aj(this._firestore);return this._transaction.lookup([i._key]).then(function(s){if(!s||s.length!==1)return ge();var a=s[0];if(a.isFoundDocument())return new Xa(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new Xa(n._firestore,o,i._key,null,i.converter);throw ge()})},e.prototype.set=function(t,n,i){var o=Ri(t,this._firestore),s=kh(o.converter,n,i),a=Ah(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a,l=Ri(t,this._firestore);return a=typeof(n=tt(n))=="string"||n instanceof Ur?Ey(this._dataReader,"Transaction.update",l._key,n,i,o):_y(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Ri(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(){if(typeof Uint8Array>"u")throw new Y(F.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function _I(){if(typeof atob>"u")throw new Y(F.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var tk=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return _I(),new e($o.fromBase64String(t))},e.fromUint8Array=function(t){return bI(),new e($o.fromUint8Array(t))},e.prototype.toBase64=function(){return _I(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return bI(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),fj=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){hI(i=Ye(i,Mt));var s=on(i),a=i._freezeSettings(),l=new Om;return fI(s,l,new RA(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){hI(n=Ye(n,Mt));var i=on(n),o=n._freezeSettings(),s=new Om;return fI(i,s,new jU(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new Y(F.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Pn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return H(i,void 0,void 0,function(){var s;return q(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return H(this,void 0,void 0,function(){var f;return q(this,function(d){switch(d.label){case 0:return ru.yt()?(f=l+"main",[4,ru.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(ty(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return s=a.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),nk=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Rf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||yf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,s,a,l){var f;l===void 0&&(l={});var d=(o=Ye(o,Wa))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==s&&yf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:s+":"+a,ssl:!1})),l.mockUserToken){var p,m;if(typeof l.mockUserToken=="string")p=l.mockUserToken,m=zt.MOCK_USER;else{p=cS(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var v=l.mockUserToken.sub||l.mockUserToken.user_id;if(!v)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new zt(v)}o._credentials=new HU(new MA(p,m))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return q(this,function(s){switch(s.label){case 0:return[4,tI(t)];case 1:return i=s.sent(),[4,nI(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=ce(a);return l.Or.delete(0),vc(l)}(o))]}})})})}(on(Ye(this._delegate,Mt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return q(this,function(s){switch(s.label){case 0:return[4,tI(t)];case 1:return i=s.sent(),[4,nI(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!1),function(a){return H(this,void 0,void 0,function(){var l;return q(this,function(f){switch(f.label){case 0:return(l=ce(a)).Or.add(0),[4,_u(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(on(Ye(this._delegate,Mt)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&FA("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new Pn;return t.asyncQueue.enqueueAndForget(function(){return H(n,void 0,void 0,function(){var o;return q(this,function(s){switch(s.label){case 0:return o=NU,[4,LA(t)];case 1:return[2,o.apply(void 0,[s.sent(),i])]}})})}),i.promise}(on(Ye(this._delegate,Mt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,s){var a=this,l=new Eh(s);return o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return q(this,function(d){switch(d.label){case 0:return f=function(p,m){ce(p).Gr.add(m),m.next()},[4,au(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return q(this,function(d){switch(d.label){case 0:return f=function(p,m){ce(p).Gr.delete(m)},[4,au(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(on(n=Ye(n,Mt)),cu(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Pf(this,UA(this._delegate,t))}catch(n){throw yn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Po(this,tf(this._delegate,t))}catch(n){throw yn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new xh(this,function(n,i){if(n=Ye(n,Wa),yy("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Y(F.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Wn(n,null,function(o){return new ui(Qe.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw yn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(s,a){var l=this,f=new Pn;return s.asyncQueue.enqueueAndForget(function(){return H(l,void 0,void 0,function(){var d;return q(this,function(p){switch(p.label){case 0:return[4,function(m){return Ih(m).then(function(v){return v.datastore})}(s)];case 1:return d=p.sent(),new BU(s.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(on(i),function(s){return o(new lj(i,s))})}(this._delegate,function(i){return t(new rk(n,i))})},e.prototype.batch=function(){var t=this;return on(this._delegate),new ik(new cj(this._delegate,function(n){return wc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new Y(F.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Y(F.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Nh=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return ye(t,e),t.prototype.convertBytes=function(n){return new tk(new $o(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Po.eu(i,this.firestore,null)},t}(Sy);function hj(e){var t;t=e,yr.setLogLevel(t)}var rk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Nh(t)}return e.prototype.get=function(t){var n=this,i=Co(t);return this._delegate.get(i).then(function(o){return new Qa(n._firestore,new ni(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=Co(t);return i?(wy("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Co(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,lt([l,n,i],s)),this},e.prototype.delete=function(t){var n=Co(t);return this._delegate.delete(n),this},e}(),ik=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=Co(t);return i?(wy("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Co(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,lt([l,n,i],s)),this},e.prototype.delete=function(t){var n=Co(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Ch=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Ia(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ya(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var s=o.get(n);return s||(s=new e(t,new Nh(t),n),o.set(n,s)),s},e}();Ch.su=new WeakMap;var Po=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Nh(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new Y(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new mt(n._delegate,i,new me(t)))},e.eu=function(t,n,i){return new e(n,new mt(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Pf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Pf(this.firestore,UA(this._delegate,t))}catch(n){throw yn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=tt(t))instanceof mt&&jA(this._delegate,t)},e.prototype.set=function(t,n){n=wy("DocumentReference.set",n);try{return n?yI(this._delegate,t,n):yI(this._delegate,t)}catch(i){throw yn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?wI(this._delegate,t):wI.apply(void 0,lt([this._delegate,t,n],i))}catch(s){throw yn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return wc(Ye((t=this._delegate).firestore,Mt),[new mc(t._key,un.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=ok(n),s=sk(n,function(a){return new Qa(t.firestore,new ni(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return ek(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=Ye(i,mt);var o=Ye(i.firestore,Mt),s=on(o),a=new Do(o);return function(l,f){var d=this,p=new Pn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var m;return q(this,function(v){switch(v.label){case 0:return m=function(b,_,I){return H(this,void 0,void 0,function(){var C,x;return q(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,function(N,L){var B=ce(N);return B.persistence.runTransaction("read document","readonly",function(O){return B.Mn.mn(O,L)})}(b,_)];case 1:return(x=P.sent()).isFoundDocument()?I.resolve(x):x.isNoDocument()?I.resolve(null):I.reject(new Y(F.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return C=P.sent(),x=Tu(C,"Failed to get document '"+_+" from cache"),I.reject(x),[3,3];case 3:return[2]}})})},[4,PA(l)];case 1:return[2,m.apply(void 0,[v.sent(),f,p])]}})})}),p.promise}(s,i._key).then(function(l){return new ni(o,a,i._key,l,new No(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=Ye(i,mt);var o=Ye(i.firestore,Mt);return rI(on(o),i._key,{source:"server"}).then(function(s){return Pm(o,i,s)})}(this._delegate):function(i){i=Ye(i,mt);var o=Ye(i.firestore,Mt);return rI(on(o),i._key).then(function(s){return Pm(o,i,s)})}(this._delegate)).then(function(i){return new Qa(n.firestore,new ni(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ch.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function yn(e,t,n){return e.message=e.message.replace(t,n),e}function ok(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!cu(i))return i}return{}}function sk(e,t){var n,i,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=cu(e[0])?e[0]:cu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var Qa=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Po(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return QA(this._delegate,t._delegate)},e}(),Ya=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Qa),xh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Nh(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,_i(this._delegate,function(o,s,a){var l=s,f=Df("where",o);return new sj(f,l,a)}(t,n,i)))}catch(o){throw yn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,_i(this._delegate,function(i,o){o===void 0&&(o="asc");var s=o,a=Df("orderBy",i);return new uj(a,s)}(t,n)))}catch(i){throw yn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,_i(this._delegate,function(n){return cI("limit",n),new dI("limit",n,"F")}(t)))}catch(n){throw yn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,_i(this._delegate,function(n){return cI("limitToLast",n),new dI("limitToLast",n,"L")}(t)))}catch(n){throw yn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_i(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new pI("startAt",i,!0)}.apply(void 0,t)))}catch(i){throw yn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_i(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new pI("startAfter",i,!1)}.apply(void 0,t)))}catch(i){throw yn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_i(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new gI("endBefore",i,!0)}.apply(void 0,t)))}catch(i){throw yn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,_i(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new gI("endAt",i,!1)}.apply(void 0,t)))}catch(i){throw yn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return VA(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=Ye(i,Wn);var o=Ye(i.firestore,Mt),s=on(o),a=new Do(o);return function(l,f){var d=this,p=new Pn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var m;return q(this,function(v){switch(v.label){case 0:return m=function(b,_,I){return H(this,void 0,void 0,function(){var C,x,P,N,L;return q(this,function(B){switch(B.label){case 0:return B.trys.push([0,2,,3]),[4,Nf(b,_,!0)];case 1:return L=B.sent(),C=new AA(_,L.Bn),x=C._o(L.documents),P=C.applyChanges(x,!1),I.resolve(P.snapshot),[3,3];case 2:return N=B.sent(),L=Tu(N,"Failed to execute query '"+_+" against cache"),I.reject(L),[3,3];case 3:return[2]}})})},[4,PA(l)];case 1:return[2,m.apply(void 0,[v.sent(),f,p])]}})})}),p.promise}(s,i._query).then(function(l){return new xi(o,a,i,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=Ye(i,Wn);var o=Ye(i.firestore,Mt),s=on(o),a=new Do(o);return iI(s,i._query,{source:"server"}).then(function(l){return new xi(o,a,i,l)})}(this._delegate):function(i){i=Ye(i,Wn);var o=Ye(i.firestore,Mt),s=on(o),a=new Do(o);return YA(i._query),iI(s,i._query).then(function(l){return new xi(o,a,i,l)})}(this._delegate)).then(function(i){return new Lm(n.firestore,new xi(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=ok(n),s=sk(n,function(a){return new Lm(t.firestore,new xi(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return ek(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ch.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),dj=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ya(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Lm=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new xh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Ya(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new dj(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new Ya(i._firestore,o))})},e.prototype.isEqual=function(t){return QA(this._delegate,t._delegate)},e}(),Pf=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return ye(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Po(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Po(this.firestore,n===void 0?tf(this._delegate):tf(this._delegate,n))}catch(i){throw yn(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,s){var a=Ye(o.firestore,Mt),l=tf(o),f=kh(o.converter,s);return wc(a,[Ah(Jo(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,un.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Po(i.firestore,o)})},t.prototype.isEqual=function(n){return jA(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Ch.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(xh);function Co(e){return Ye(e,mt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pj=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Ur.bind.apply(Ur,lt([void 0],t)))}return e.documentId=function(){return new e(_r.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=tt(t))instanceof Ur&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),gj=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new ZU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new by("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new ej("arrayUnion",o)}.apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new tj("arrayRemove",o)}.apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new nj("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),mj={Firestore:nk,GeoPoint:Sh,Timestamp:On,Blob:tk,Transaction:rk,WriteBatch:ik,DocumentReference:Po,DocumentSnapshot:Qa,Query:xh,QueryDocumentSnapshot:Ya,QuerySnapshot:Lm,CollectionReference:Pf,FieldPath:pj,FieldValue:gj,setLogLevel:hj,CACHE_SIZE_UNLIMITED:XU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(e){(function(t,n){t.INTERNAL.registerComponent(new ec("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},mj)))})(e,function(t,n){return new nk(t,new Mt(t,n),new fj)}),e.registerVersion("@firebase/firestore","2.4.1")}vj(be);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uk="firebasestorage.googleapis.com",ak="storageBucket",yj=2*60*1e3,wj=10*60*1e3,Dt=function(e){ye(t,e);function t(n,i){var o=e.call(this,Mg(n),"Firebase Storage: "+i+" ("+Mg(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Mg(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(fS);function Mg(e){return"storage/"+e}function Ay(){var e="An unknown error occurred, please check the error payload for server response.";return new Dt("unknown",e)}function bj(e){return new Dt("object-not-found","Object '"+e+"' does not exist.")}function _j(e){return new Dt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ej(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Dt("unauthenticated",e)}function Ij(){return new Dt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Tj(e){return new Dt("unauthorized","User does not have permission to access '"+e+"'.")}function Sj(){return new Dt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function ck(){return new Dt("canceled","User canceled the upload/download.")}function Aj(e){return new Dt("invalid-url","Invalid URL '"+e+"'.")}function kj(e){return new Dt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function Nj(){return new Dt("no-default-bucket","No default bucket found. Did you set the '"+ak+"' property when initializing the app?")}function lk(){return new Dt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Cj(){return new Dt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function xj(){return new Dt("no-download-url","The given file does not have any download URLs.")}function Vs(e){return new Dt("invalid-argument",e)}function fk(){return new Dt("app-deleted","The Firebase app was deleted.")}function hk(e){return new Dt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ta(e,t){return new Dt("invalid-format","String does not match format '"+e+"': "+t)}function jl(e){throw new Dt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Fg=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function dk(e,t){switch(e){case nr.RAW:return new Fg(pk(t));case nr.BASE64:case nr.BASE64URL:return new Fg(gk(e,t));case nr.DATA_URL:return new Fg(Dj(t),Pj(t))}throw Ay()}function pk(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=i,a=e.charCodeAt(++n);i=65536|(s&1023)<<10|a&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function Oj(e){var t;try{t=decodeURIComponent(e)}catch{throw Ta(nr.DATA_URL,"Malformed data URL.")}return pk(t)}function gk(e,t){switch(e){case nr.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var o=n?"-":"_";throw Ta(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case nr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var o=s?"+":"/";throw Ta(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=Rj(t)}catch{throw Ta(e,"Invalid character found")}for(var f=new Uint8Array(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);return f}var mk=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ta(nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=Lj(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();function Dj(e){var t=new mk(e);return t.base64?gk(nr.BASE64,t.rest):Oj(t.rest)}function Pj(e){var t=new mk(e);return t.contentType}function Lj(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mj={STATE_CHANGED:"state_changed"},wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ug(e){switch(e){case"running":case"pausing":case"canceling":return wn.RUNNING;case"paused":return wn.PAUSED;case"success":return wn.SUCCESS;case"canceled":return wn.CANCELED;case"error":return wn.ERROR;default:return wn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lo;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Lo||(Lo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fj=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Lo.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Lo.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Lo.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,o){if(this.sent_)throw jl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw jl("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw jl("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function Uj(){return new Fj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jj=function(){function e(){}return e.prototype.createConnection=function(){return Uj()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw kj(t)},e.makeFromUrl=function(t,n){var i=null,o="([A-Za-z0-9.\\-_]+)";function s(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function d(ue){ue.path_=decodeURIComponent(ue.path)}for(var p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp("^https?://"+m+"/"+p+"/b/"+o+"/o"+v,"i"),_={bucket:1,path:3},I=n===uk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",x=new RegExp("^https?://"+I+"/"+o+"/"+C,"i"),P={bucket:1,path:2},N=[{regex:l,indices:f,postModify:s},{regex:b,indices:_,postModify:d},{regex:x,indices:P,postModify:d}],L=0;L<N.length;L++){var B=N[L],O=B.regex.exec(t);if(O){var W=O[B.indices.bucket],D=O[B.indices.path];D||(D=""),i=new e(W,D),B.postModify(i);break}}if(i==null)throw Aj(t);return i},e}(),Vj=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(e,t,n){var i=1,o=null,s=!1,a=0;function l(){return a===2}var f=!1;function d(){for(var _=[],I=0;I<arguments.length;I++)_[I]=arguments[I];f||(f=!0,t.apply(null,_))}function p(_){o=setTimeout(function(){o=null,e(m,l())},_)}function m(_){for(var I=[],C=1;C<arguments.length;C++)I[C-1]=arguments[C];if(!f){if(_){d.call.apply(d,lt([null,_],I));return}var x=l()||s;if(x){d.call.apply(d,lt([null,_],I));return}i<64&&(i*=2);var P;a===1?(a=2,P=0):P=(i+Math.random())*1e3,p(P)}}var v=!1;function b(_){v||(v=!0,!f&&(o!==null?(_||(a=2),clearTimeout(o),p(0)):_||(a=1)))}return p(0),setTimeout(function(){s=!0,b(!0)},n),b}function qj(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(e){return e!==void 0}function Hj(e){return typeof e=="function"}function Kj(e){return typeof e=="object"&&!Array.isArray(e)}function Rh(e){return typeof e=="string"||e instanceof String}function EI(e){return ky()&&e instanceof Blob}function ky(){return typeof Blob<"u"}function Mm(e,t,n,i){if(i<t)throw Vs("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw Vs("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n==null?void 0:n[1],o=t;return i==null&&(o="https://"+t),o+"/v0"+e}function vk(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var o=t(i)+"="+t(e[i]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zj=function(){function e(t,n,i,o,s,a,l,f,d,p,m){var v=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=p,this.timeout_=d,this.pool_=m,this.promise_=new Promise(function(b,_){v.resolve_=b,v.reject_=_,v.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new Vl(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(f){var d=f.loaded,p=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var f=a.getErrorCode()===Lo.NO_ERROR,d=a.getStatus();if(!f||t.isRetryStatusCode_(d)){var p=a.getErrorCode()===Lo.ABORT;o(!1,new Vl(!1,null,p));return}var m=t.successCodes_.indexOf(d)!==-1;o(!0,new Vl(m,a))})}function i(o,s){var a=t.resolve_,l=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());$j(d)?a(d):a()}catch(m){l(m)}else if(f!==null){var p=Ay();p.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,p)):l(p)}else if(s.canceled){var p=t.appDelete_?fk():ck();l(p)}else{var p=Sj();l(p)}}this.canceled_?i(!1,new Vl(!1,null,!0)):this.backoffId_=Bj(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&qj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],o=i.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),Vl=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();function Gj(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Wj(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Xj(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Qj(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Yj(e,t,n,i,o,s){var a=vk(e.urlParams),l=e.url+a,f=Object.assign({},e.headers);return Xj(f,t),Gj(f,n),Wj(f,s),Qj(f,i),new zj(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Zj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Jj();if(n!==void 0){for(var i=new n,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}else{if(ky())return new Blob(e);throw new Dt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function eV(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ny=function(){function e(t,n){var i=0,o="";EI(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(EI(this.data_)){var i=this.data_,o=eV(i,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(ky()){var i=t.map(function(f){return f instanceof e?f.data_:f});return new e(Zj.apply(null,i))}else{var o=t.map(function(f){return Rh(f)?dk(nr.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var a=new Uint8Array(s),l=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)a[l++]=f[d]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(e){var t;try{t=JSON.parse(e)}catch{return null}return Kj(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function nV(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function yk(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(e,t){return t}var mn=function(){function e(t,n,i,o){this.server=t,this.local=n||t,this.writable=!!i,this.xform=o||rV}return e}(),Bl=null;function iV(e){return!Rh(e)||e.length<2?e:yk(e)}function Oh(){if(Bl)return Bl;var e=[];e.push(new mn("bucket")),e.push(new mn("generation")),e.push(new mn("metageneration")),e.push(new mn("name","fullPath",!0));function t(s,a){return iV(a)}var n=new mn("name");n.xform=t,e.push(n);function i(s,a){return a!==void 0?Number(a):a}var o=new mn("size");return o.xform=i,e.push(o),e.push(new mn("timeCreated")),e.push(new mn("updated")),e.push(new mn("md5Hash",null,!0)),e.push(new mn("cacheControl",null,!0)),e.push(new mn("contentDisposition",null,!0)),e.push(new mn("contentEncoding",null,!0)),e.push(new mn("contentLanguage",null,!0)),e.push(new mn("contentType",null,!0)),e.push(new mn("metadata","customMetadata",!0)),Bl=e,Bl}function oV(e,t){function n(){var i=e.bucket,o=e.fullPath,s=new rr(i,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function sV(e,t,n){var i={};i.type="file";for(var o=n.length,s=0;s<o;s++){var a=n[s];i[a.local]=a.xform(i,t[a.server])}return oV(i,e),i}function wk(e,t,n){var i=Cy(t);if(i===null)return null;var o=i;return sV(e,o,n)}function uV(e,t,n){var i=Cy(t);if(i===null||!Rh(i.downloadTokens))return null;var o=i.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,a=o.split(","),l=a.map(function(f){var d=e.bucket,p=e.fullPath,m="/b/"+s(d)+"/o/"+s(p),v=Wi(m,n),b=vk({alt:"media",token:f});return v+b});return l[0]}function xy(e,t){for(var n={},i=t.length,o=0;o<i;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var II="prefixes",TI="items";function aV(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[II])for(var o=0,s=n[II];o<s.length;o++){var a=s[o],l=a.replace(/\/$/,""),f=e._makeStorageReference(new rr(t,l));i.prefixes.push(f)}if(n[TI])for(var d=0,p=n[TI];d<p.length;d++){var m=p[d],f=e._makeStorageReference(new rr(t,m.name));i.items.push(f)}return i}function cV(e,t,n){var i=Cy(n);if(i===null)return null;var o=i;return aV(e,t,o)}var ai=function(){function e(t,n,i,o){this.url=t,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(e){if(!e)throw Ay()}function Dh(e,t){function n(i,o){var s=wk(e,o,t);return jr(s!==null),s}return n}function lV(e,t){function n(i,o){var s=cV(e,t,o);return jr(s!==null),s}return n}function fV(e,t){function n(i,o){var s=wk(e,o,t);return jr(s!==null),uV(s,o,e.host)}return n}function Su(e){function t(n,i){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=Ij():o=Ej():n.getStatus()===402?o=_j(e.bucket):n.getStatus()===403?o=Tj(e.path):o=i,o.serverResponse=i.serverResponse,o}return t}function Ph(e){var t=Su(e);function n(i,o){var s=t(i,o);return i.getStatus()===404&&(s=bj(e.path)),s.serverResponse=o.serverResponse,s}return n}function bk(e,t,n){var i=t.fullServerUrl(),o=Wi(i,e.host),s="GET",a=e.maxOperationRetryTime,l=new ai(o,s,Dh(e,n),a);return l.errorHandler=Ph(t),l}function hV(e,t,n,i,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),o&&(s.maxResults=o);var a=t.bucketOnlyServerUrl(),l=Wi(a,e.host),f="GET",d=e.maxOperationRetryTime,p=new ai(l,f,lV(e,t.bucket),d);return p.urlParams=s,p.errorHandler=Su(t),p}function dV(e,t,n){var i=t.fullServerUrl(),o=Wi(i,e.host),s="GET",a=e.maxOperationRetryTime,l=new ai(o,s,fV(e,n),a);return l.errorHandler=Ph(t),l}function pV(e,t,n,i){var o=t.fullServerUrl(),s=Wi(o,e.host),a="PATCH",l=xy(n,i),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,p=new ai(s,a,Dh(e,i),d);return p.headers=f,p.body=l,p.errorHandler=Ph(t),p}function gV(e,t){var n=t.fullServerUrl(),i=Wi(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function a(f,d){}var l=new ai(i,o,a,s);return l.successCodes=[200,204],l.errorHandler=Ph(t),l}function mV(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function _k(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=mV(null,t)),i}function vV(e,t,n,i,o){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var N="",L=0;L<2;L++)N=N+Math.random().toString().slice(2);return N}var f=l();a["Content-Type"]="multipart/related; boundary="+f;var d=_k(t,i,o),p=xy(d,n),m="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,v=`\r
--`+f+"--",b=Ny.getBlob(m,i,v);if(b===null)throw lk();var _={name:d.fullPath},I=Wi(s,e.host),C="POST",x=e.maxUploadRetryTime,P=new ai(I,C,Dh(e,n),x);return P.urlParams=_,P.headers=a,P.body=b.uploadData(),P.errorHandler=Su(t),P}var Lf=function(){function e(t,n,i,o){this.current=t,this.total=n,this.finalized=!!i,this.metadata=o||null}return e}();function Ry(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{jr(!1)}var i=t||["active"];return jr(!!n&&i.indexOf(n)!==-1),n}function yV(e,t,n,i,o){var s=t.bucketOnlyServerUrl(),a=_k(t,i,o),l={name:a.fullPath},f=Wi(s,e.host),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},m=xy(a,n),v=e.maxUploadRetryTime;function b(I){Ry(I);var C;try{C=I.getResponseHeader("X-Goog-Upload-URL")}catch{jr(!1)}return jr(Rh(C)),C}var _=new ai(f,d,b,v);return _.urlParams=l,_.headers=p,_.body=m,_.errorHandler=Su(t),_}function wV(e,t,n,i){var o={"X-Goog-Upload-Command":"query"};function s(d){var p=Ry(d,["active","final"]),m=null;try{m=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{jr(!1)}m||jr(!1);var v=Number(m);return jr(!isNaN(v)),new Lf(v,i.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,f=new ai(n,a,s,l);return f.headers=o,f.errorHandler=Su(t),f}var SI=256*1024;function bV(e,t,n,i,o,s,a,l){var f=new Lf(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw Cj();var d=f.total-f.current,p=d;o>0&&(p=Math.min(p,o));var m=f.current,v=m+p,b=p===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":""+f.current},I=i.slice(m,v);if(I===null)throw lk();function C(L,B){var O=Ry(L,["active","final"]),W=f.current+p,D=i.size(),ue;return O==="final"?ue=Dh(t,s)(L,B):ue=null,new Lf(W,D,O==="final",ue)}var x="POST",P=t.maxUploadRetryTime,N=new ai(n,x,C,P);return N.headers=_,N.body=I.uploadData(),N.progressCallback=l||null,N.errorHandler=Su(e),N}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _V=function(){function e(t,n,i){var o=Hj(t)||n!=null||i!=null;if(o)this.next=t,this.error=n,this.complete=i;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ek=function(){function e(t,n,i){var o=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Oh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,a){o._resolve=s,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var o=i[0],s=i[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var o=yV(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,o){var s=wV(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=SI*this._chunkMultiplier,i=new Lf(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=bV(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(l,s,a);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=SI*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var o=bk(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var o=vV(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=ck(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Ug(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,o){var s=this,a=new _V(n,i,o);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Ug(this._state)){case wn.SUCCESS:As(this._resolve.bind(null,this.snapshot))();break;case wn.CANCELED:case wn.ERROR:var n=this._reject;As(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Ug(this._state);switch(n){case wn.RUNNING:case wn.PAUSED:t.next&&As(t.next.bind(t,this.snapshot))();break;case wn.SUCCESS:t.complete&&As(t.complete.bind(t))();break;case wn.CANCELED:case wn.ERROR:t.error&&As(t.error.bind(t,this._error))();break;default:t.error&&As(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lh=function(){function e(t,n){this._service=t,n instanceof rr?this._location=n:this._location=rr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new rr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return yk(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=tV(this._location.path);if(t===null)return null;var n=new rr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw hk(t)},e}();function EV(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Ek(e,new Ny(t),n)}function IV(e){var t={prefixes:[],items:[]};return Ik(e,t).then(function(){return t})}function Ik(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a;return q(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,Tk(e,i)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,Ik(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Tk(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Mm("options.maxResults",1,1e3,t.maxResults),n=t||{},i=hV(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}function TV(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=bk(e.storage,e._location,Oh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function SV(e,t){return H(this,void 0,void 0,function(){var n;return q(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=pV(e.storage,e._location,t,Oh()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function AV(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=dV(e.storage,e._location,Oh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw xj();return i})]}})})}function kV(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=gV(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Sk(e,t){var n=nV(e._location.path,t),i=new rr(e._location.bucket,n);return new Lh(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(e){return/^[A-Za-z]+:\/\//.test(e)}function NV(e,t){return new Lh(e,t)}function Ak(e,t){if(e instanceof Mh){var n=e;if(n._bucket==null)throw Nj();var i=new Lh(n,n._bucket);return t!=null?Ak(i,t):i}else return t!==void 0?Sk(e,t):e}function CV(e,t){if(t&&Fm(t)){if(e instanceof Mh)return NV(e,t);throw Vs("To use ref(service, url), the first argument must be a Storage instance.")}else return Ak(e,t)}function AI(e,t){var n=t==null?void 0:t[ak];return n==null?null:rr.makeFromBucketSpec(n,e)}function xV(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var o=i.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:cS(o,e.app.options.projectId))}var Mh=function(){function e(t,n,i,o,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=o,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=uk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yj,this._maxUploadRetryTime=wj,this._requests=new Set,s!=null?this._bucket=rr.makeFromBucketSpec(s,this._host):this._bucket=AI(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,t):this._bucket=AI(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Mm("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Mm("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Lh(this,t)},e.prototype._makeRequest=function(t,n,i){var o=this;if(this._deleted)return new Vj(fk());var s=Yj(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),i=n[0],o=n[1],[2,this._makeRequest(t,i,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(e,t,n){return e=tt(e),EV(e,t,n)}function OV(e){return e=tt(e),TV(e)}function DV(e,t){return e=tt(e),SV(e,t)}function PV(e,t){return e=tt(e),Tk(e,t)}function LV(e){return e=tt(e),IV(e)}function MV(e){return e=tt(e),AV(e)}function FV(e){return e=tt(e),kV(e)}function kI(e,t){return e=tt(e),CV(e,t)}function UV(e,t){return Sk(e,t)}function jV(e,t,n,i){i===void 0&&(i={}),xV(e,t,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ql=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NI=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new ql(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(o){if(t)return t(new ql(o,i,i._ref))},n)},e.prototype.on=function(t,n,i,o){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new ql(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new ql(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,i||void 0,o||void 0)},e}(),CI=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Ja(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Ja(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ja=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=UV(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new NI(RV(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=nr.RAW),this._throwIfRoot("putString");var o=dk(n,t),s=Ks({},i);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new NI(new Ek(this._delegate,new Ny(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return LV(this._delegate).then(function(n){return new CI(n,t.storage)})},e.prototype.list=function(t){var n=this;return PV(this._delegate,t||void 0).then(function(i){return new CI(i,n.storage)})},e.prototype.getMetadata=function(){return OV(this._delegate)},e.prototype.updateMetadata=function(t){return DV(this._delegate,t)},e.prototype.getDownloadURL=function(){return MV(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),FV(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw hk(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VV=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Fm(t))throw Vs("ref() expected a child path but got a URL, use refFromURL instead.");return new Ja(kI(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Fm(t))throw Vs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{rr.makeFromUrl(t,this._delegate.host)}catch{throw Vs("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ja(kI(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),jV(this._delegate,t,n,i)},e}(),BV="@firebase/storage",qV="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $V="storage";function HV(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new VV(i,new Mh(i,o,s,new jj,n,be.SDK_VERSION));return a}function KV(e){var t={TaskState:wn,TaskEvent:Mj,StringFormat:nr,Storage:Mh,Reference:Ja};e.INTERNAL.registerComponent(new ec($V,HV,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(BV,qV)}KV(be);const zV={apiKey:"AIzaSyCmrDsXaXqtJ-_bBhE6mijvEJRXGrQV1-8",authDomain:"music-123a9.firebaseapp.com",projectId:"music-123a9",storageBucket:"music-123a9.appspot.com",messagingSenderId:"353431526100",appId:"1:353431526100:web:2a3e6ba688ef0af5a97941"};be.initializeApp(zV);const Ui=be.auth(),kk=be.firestore(),Nk=be.storage(),GV=kk.collection("users"),Mf=kk.collection("songs"),bc=oS("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await Ui.createUserWithEmailAndPassword(e.email,e.password);await GV.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await Ui.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await Ui.signOut(),this.userLoggedIn=!1}}}),$r=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},WV={name:"TheHeader",computed:{...kP(sm,bc)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen,console.log(this.modalStore.isOpen)},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},XV={id:"header",class:"bg-gray-700"},QV={class:"container mx-auto flex justify-start items-center py-5 px-4"},YV={class:"flex flex-grow items-center"},JV={class:"flex flex-row mt-1"},ZV={key:0};function e2(e,t,n,i,o,s){const a=Qt("router-link");return vt(),Lt("header",XV,[ie("nav",QV,[Te(a,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:Zr(()=>[va("Music")]),_:1}),ie("div",YV,[ie("ul",JV,[ie("li",null,[Te(a,{class:"px-2 text-white",to:"/about"},{default:Zr(()=>[va("About")]),_:1})]),e.userStore.userLoggedIn?(vt(),Lt(Gt,{key:1},[ie("li",null,[Te(a,{class:"px-2 text-white",to:"manage"},{default:Zr(()=>[va("Manage")]),_:1})]),ie("li",null,[ie("a",{class:"px-2 text-white hover:text-red-500 hover:font-bold",href:"#",onClick:t[1]||(t[1]=Cn((...l)=>s.signOut&&s.signOut(...l),["prevent"]))},"Logout")])],64)):(vt(),Lt("li",ZV,[ie("a",{class:"px-2 text-white",href:"#",onClick:t[0]||(t[0]=Cn((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},"Login / Register")]))])])])])}const t2=$r(WV,[["render",e2]]),n2={name:"loginForm",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:100"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! You are being logged in."}},methods:{...sS(bc,["authenticate"]),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_show_alert="bg-blue-500",this.login_alert_msg="Please wait! You are being logged in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_show_alert="bg-red-500",this.login_alert_msg="invalid Login Details";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="You are now logged in.",window.location.reload()}}},r2={class:"mb-3"},i2=ie("label",{class:"inline-block mb-2"},"Email",-1),o2={class:"mb-3"},s2=ie("label",{class:"inline-block mb-2"},"Password",-1),u2=["disabled"];function a2(e,t,n,i,o,s){const a=Qt("vee-field"),l=Qt("ErrorMessage"),f=Qt("vee-form");return vt(),Lt(Gt,null,[o.login_show_alert?(vt(),Lt("div",{key:0,class:Hn(["text-white text-center font-bold p-4 mb-4",o.login_alert_variant])},Bs(o.login_alert_msg),3)):fv("",!0),Te(f,{"validation-schema":o.loginSchema,onSubmit:s.login},{default:Zr(()=>[ie("div",r2,[i2,Te(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Te(l,{class:"text-red-600",name:"email"})]),ie("div",o2,[s2,Te(a,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),Te(l,{class:"text-red-600",name:"password"})]),ie("button",{type:"submit",disabled:o.login_in_submission,class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",8,u2)]),_:1},8,["validation-schema","onSubmit"])],64)}const c2=$r(n2,[["render",a2]]),l2={name:"registerForm",data(){return{schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:120",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! You account is bring created."}},mounted(){console.log(this.userLoggedIn)},methods:{...sS(bc,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! You account is bring created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occured. Please try again later.";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="You account has been created",window.location.reload()}}},f2={class:"mb-3"},h2=ie("label",{class:"inline-block mb-2"},"Name",-1),d2={class:"mb-3"},p2=ie("label",{class:"inline-block mb-2"},"Email",-1),g2={class:"mb-3"},m2=ie("label",{class:"inline-block mb-2"},"Age",-1),v2={class:"mb-3"},y2=ie("label",{class:"inline-block mb-2"},"Password",-1),w2={class:"mb-3"},b2=ie("label",{class:"inline-block mb-2"},"Confirm Password",-1),_2={class:"mb-3"},E2=ie("label",{class:"inline-block mb-2"},"Country",-1),I2=ie("option",{value:"USA"},"USA",-1),T2=ie("option",{value:"Mexico"},"Mexico",-1),S2=ie("option",{value:"Germany"},"Germany",-1),A2={class:"mb-3 pl-6"},k2=ie("label",{class:"inline-block"},"Accept terms of service",-1),N2=ie("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",-1);function C2(e,t,n,i,o,s){const a=Qt("vee-field"),l=Qt("ErrorMessage"),f=Qt("vee-form");return vt(),Lt(Gt,null,[o.reg_show_alert?(vt(),Lt("div",{key:0,class:Hn(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},Bs(o.reg_alert_msg),3)):fv("",!0),Te(f,{"validation-schema":o.schema,onSubmit:s.register,"initial-values":o.userData},{default:Zr(()=>[ie("div",f2,[h2,Te(a,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Te(l,{class:"text-red-600",name:"name"})]),ie("div",d2,[p2,Te(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Te(l,{class:"text-red-600",name:"email"})]),ie("div",g2,[m2,Te(a,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Te(l,{class:"text-red-600",name:"age"})]),ie("div",v2,[y2,Te(a,{name:"password",bails:!1},{default:Zr(({field:d,errors:p})=>[ie("input",JT({type:"password",placeholder:"Password"},d,{class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),null,16),(vt(!0),Lt(Gt,null,av(p,m=>(vt(),Lt("div",{class:"text-red-600",key:m},Bs(m),1))),128))]),_:1}),Te(l,{class:"text-red-600",name:"password"})]),ie("div",w2,[b2,Te(a,{name:"confirm_password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Te(l,{class:"text-red-600",name:"confirm_password"})]),ie("div",_2,[E2,Te(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Zr(()=>[I2,T2,S2]),_:1}),Te(l,{class:"text-red-600",name:"country"})]),ie("div",A2,[Te(a,{name:"tos",value:"1",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),Te(l,{class:"text-red-600 block",name:"tos"}),k2]),N2]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const x2=$r(l2,[["render",C2]]),R2={name:"TheAuth",components:{LoginForm:c2,RegisterForm:x2},data(){return{tab:"login"}},computed:{...NP(sm,["hiddenClass"]),...uS(sm,{modalVisibility:"isOpen"})},methods:{}},O2={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},D2=ie("div",{class:"fixed inset-0 transition-opacity"},[ie("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),P2=ie("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1),L2={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},M2={class:"py-4 text-left px-6"},F2={class:"flex justify-between items-center pb-4"},U2=ie("p",{class:"text-2xl font-bold"},"Your Account",-1),j2=ie("i",{class:"fas fa-times"},null,-1),V2=[j2],B2={class:"flex flex-wrap mb-4"},q2={class:"flex-auto text-center"},$2={class:"flex-auto text-center"};function H2(e,t,n,i,o,s){const a=Qt("login-form"),l=Qt("register-form");return vt(),Lt("div",{class:Hn(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[ie("div",O2,[D2,P2,ie("div",L2,[ie("div",M2,[ie("div",F2,[U2,ie("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.modalVisibility=!1)},V2)]),ie("ul",B2,[ie("li",q2,[ie("a",{class:Hn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=Cn(f=>o.tab="login",["prevent"]))},"Login",2)]),ie("li",$2,[ie("a",{class:Hn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=Cn(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(vt(),uf(a,{key:0})):(vt(),uf(l,{key:1}))])])])],2)}const K2=$r(R2,[["render",H2]]),z2={name:"App",components:{TheHeader:t2,TheAuth:K2},computed:{...uS(bc,["userLoggedIn"])},created(){Ui.currentUser&&(this.userLoggedIn=!0)}},G2=YT('<div class="fixed bottom-0 left-0 bg-white px-4 py-2 w-full"><div class="text-center"><span class="song-title font-bold">Song Title</span> by <span class="song-artist">Artist</span></div><div class="flex flex-nowrap gap-4 items-center"><button type="button"><i class="fa fa-play text-gray-500 text-xl"></i></button><div class="player-currenttime">00:00</div><div class="w-full h-2 rounded bg-gray-200 relative cursor-pointer"><span class="absolute -top-2.5 -ml-2.5 text-gray-800 text-lg" style="left:50%;"><i class="fas fa-circle"></i></span><span class="block h-2 rounded bg-gradient-to-r from-green-500 to-green-400" style="width:50%;"></span></div><div class="player-duration">03:06</div></div></div>',1);function W2(e,t,n,i,o,s){const a=Qt("the-header"),l=Qt("router-view"),f=Qt("the-auth");return vt(),Lt(Gt,null,[Te(a),Te(l),G2,Te(f)],64)}const X2=$r(z2,[["render",W2]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Os=typeof window<"u";function Q2(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ze=Object.assign;function jg(e,t){const n={};for(const i in t){const o=t[i];n[i]=Er(o)?o.map(e):e(o)}return n}const Sa=()=>{},Er=Array.isArray,Y2=/\/$/,J2=e=>e.replace(Y2,"");function Vg(e,t,n="/"){let i,o={},s="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=nB(i??t,n),{fullPath:i+(s&&"?")+s+a,path:i,query:o,hash:a}}function Z2(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function xI(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function eB(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&lu(t.matched[i],n.matched[o])&&Ck(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function lu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ck(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!tB(e[n],t[n]))return!1;return!0}function tB(e,t){return Er(e)?RI(e,t):Er(t)?RI(t,e):e===t}function RI(e,t){return Er(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function nB(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let o=n.length-1,s,a;for(s=0;s<i.length;s++)if(a=i[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(s-(s===i.length?1:0)).join("/")}var Za;(function(e){e.pop="pop",e.push="push"})(Za||(Za={}));var Aa;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Aa||(Aa={}));function rB(e){if(!e)if(Os){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),J2(e)}const iB=/^[^#]+#/;function oB(e,t){return e.replace(iB,"#")+t}function sB(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Fh=()=>({left:window.pageXOffset,top:window.pageYOffset});function uB(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=sB(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function OI(e,t){return(history.state?history.state.position-t:-1)+e}const Um=new Map;function aB(e,t){Um.set(e,t)}function cB(e){const t=Um.get(e);return Um.delete(e),t}let lB=()=>location.protocol+"//"+location.host;function xk(e,t){const{pathname:n,search:i,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),xI(f,"")}return xI(n,e)+i+o}function fB(e,t,n,i){let o=[],s=[],a=null;const l=({state:v})=>{const b=xk(e,location),_=n.value,I=t.value;let C=0;if(v){if(n.value=b,t.value=v,a&&a===_){a=null;return}C=I?v.position-I.position:0}else i(b);o.forEach(x=>{x(n.value,_,{delta:C,type:Za.pop,direction:C?C>0?Aa.forward:Aa.back:Aa.unknown})})};function f(){a=n.value}function d(v){o.push(v);const b=()=>{const _=o.indexOf(v);_>-1&&o.splice(_,1)};return s.push(b),b}function p(){const{history:v}=window;v.state&&v.replaceState(Ze({},v.state,{scroll:Fh()}),"")}function m(){for(const v of s)v();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p),{pauseListeners:f,listen:d,destroy:m}}function DI(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?Fh():null}}function hB(e){const{history:t,location:n}=window,i={value:xk(e,n)},o={value:t.state};o.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,d,p){const m=e.indexOf("#"),v=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+f:lB()+e+f;try{t[p?"replaceState":"pushState"](d,"",v),o.value=d}catch(b){console.error(b),n[p?"replace":"assign"](v)}}function a(f,d){const p=Ze({},t.state,DI(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});s(f,p,!0),i.value=f}function l(f,d){const p=Ze({},o.value,t.state,{forward:f,scroll:Fh()});s(p.current,p,!0);const m=Ze({},DI(i.value,f,null),{position:p.position+1},d);s(f,m,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function dB(e){e=rB(e);const t=hB(e),n=fB(e,t.state,t.location,t.replace);function i(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=Ze({location:"",base:e,go:i,createHref:oB.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function pB(e){return typeof e=="string"||e&&typeof e=="object"}function Rk(e){return typeof e=="string"||typeof e=="symbol"}const Ei={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ok=Symbol("");var PI;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(PI||(PI={}));function fu(e,t){return Ze(new Error,{type:e,[Ok]:!0},t)}function Xr(e,t){return e instanceof Error&&Ok in e&&(t==null||!!(e.type&t))}const LI="[^/]+?",gB={sensitive:!1,strict:!1,start:!0,end:!0},mB=/[.+*?^${}()[\]/\\]/g;function vB(e,t){const n=Ze({},gB,t),i=[];let o=n.start?"^":"";const s=[];for(const d of e){const p=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let m=0;m<d.length;m++){const v=d[m];let b=40+(n.sensitive?.25:0);if(v.type===0)m||(o+="/"),o+=v.value.replace(mB,"\\$&"),b+=40;else if(v.type===1){const{value:_,repeatable:I,optional:C,regexp:x}=v;s.push({name:_,repeatable:I,optional:C});const P=x||LI;if(P!==LI){b+=10;try{new RegExp(`(${P})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${_}" (${P}): `+L.message)}}let N=I?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;m||(N=C&&d.length<2?`(?:/${N})`:"/"+N),C&&(N+="?"),o+=N,b+=20,C&&(b+=-8),I&&(b+=-20),P===".*"&&(b+=-50)}p.push(b)}i.push(p)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const p=d.match(a),m={};if(!p)return null;for(let v=1;v<p.length;v++){const b=p[v]||"",_=s[v-1];m[_.name]=b&&_.repeatable?b.split("/"):b}return m}function f(d){let p="",m=!1;for(const v of e){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const b of v)if(b.type===0)p+=b.value;else if(b.type===1){const{value:_,repeatable:I,optional:C}=b,x=_ in d?d[_]:"";if(Er(x)&&!I)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const P=Er(x)?x.join("/"):x;if(!P)if(C)v.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${_}"`);p+=P}}return p||"/"}return{re:a,score:i,keys:s,parse:l,stringify:f}}function yB(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function wB(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const s=yB(i[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-i.length)===1){if(MI(i))return 1;if(MI(o))return-1}return o.length-i.length}function MI(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const bB={type:0,value:""},_B=/[a-zA-Z0-9_]/;function EB(e){if(!e)return[[]];if(e==="/")return[[bB]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let l=0,f,d="",p="";function m(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:p,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function v(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&m(),a()):f===":"?(m(),n=1):v();break;case 4:v(),n=i;break;case 1:f==="("?n=2:_B.test(f)?v():(m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+f:n=3:p+=f;break;case 3:m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),m(),a(),o}function IB(e,t,n){const i=vB(EB(e.path),n),o=Ze(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function TB(e,t){const n=[],i=new Map;t=jI({strict:!1,end:!0,sensitive:!1},t);function o(p){return i.get(p)}function s(p,m,v){const b=!v,_=SB(p);_.aliasOf=v&&v.record;const I=jI(t,p),C=[_];if("alias"in p){const N=typeof p.alias=="string"?[p.alias]:p.alias;for(const L of N)C.push(Ze({},_,{components:v?v.record.components:_.components,path:L,aliasOf:v?v.record:_}))}let x,P;for(const N of C){const{path:L}=N;if(m&&L[0]!=="/"){const B=m.record.path,O=B[B.length-1]==="/"?"":"/";N.path=m.record.path+(L&&O+L)}if(x=IB(N,m,I),v?v.alias.push(x):(P=P||x,P!==x&&P.alias.push(x),b&&p.name&&!UI(x)&&a(p.name)),_.children){const B=_.children;for(let O=0;O<B.length;O++)s(B[O],x,v&&v.children[O])}v=v||x,(x.record.components&&Object.keys(x.record.components).length||x.record.name||x.record.redirect)&&f(x)}return P?()=>{a(P)}:Sa}function a(p){if(Rk(p)){const m=i.get(p);m&&(i.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&i.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function f(p){let m=0;for(;m<n.length&&wB(p,n[m])>=0&&(p.record.path!==n[m].record.path||!Dk(p,n[m]));)m++;n.splice(m,0,p),p.record.name&&!UI(p)&&i.set(p.record.name,p)}function d(p,m){let v,b={},_,I;if("name"in p&&p.name){if(v=i.get(p.name),!v)throw fu(1,{location:p});I=v.record.name,b=Ze(FI(m.params,v.keys.filter(P=>!P.optional).map(P=>P.name)),p.params&&FI(p.params,v.keys.map(P=>P.name))),_=v.stringify(b)}else if("path"in p)_=p.path,v=n.find(P=>P.re.test(_)),v&&(b=v.parse(_),I=v.record.name);else{if(v=m.name?i.get(m.name):n.find(P=>P.re.test(m.path)),!v)throw fu(1,{location:p,currentLocation:m});I=v.record.name,b=Ze({},m.params,p.params),_=v.stringify(b)}const C=[];let x=v;for(;x;)C.unshift(x.record),x=x.parent;return{name:I,path:_,params:b,matched:C,meta:kB(C)}}return e.forEach(p=>s(p)),{addRoute:s,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function FI(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function SB(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:AB(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function AB(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function UI(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function kB(e){return e.reduce((t,n)=>Ze(t,n.meta),{})}function jI(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function Dk(e,t){return t.children.some(n=>n===e||Dk(e,n))}const Pk=/#/g,NB=/&/g,CB=/\//g,xB=/=/g,RB=/\?/g,Lk=/\+/g,OB=/%5B/g,DB=/%5D/g,Mk=/%5E/g,PB=/%60/g,Fk=/%7B/g,LB=/%7C/g,Uk=/%7D/g,MB=/%20/g;function Oy(e){return encodeURI(""+e).replace(LB,"|").replace(OB,"[").replace(DB,"]")}function FB(e){return Oy(e).replace(Fk,"{").replace(Uk,"}").replace(Mk,"^")}function jm(e){return Oy(e).replace(Lk,"%2B").replace(MB,"+").replace(Pk,"%23").replace(NB,"%26").replace(PB,"`").replace(Fk,"{").replace(Uk,"}").replace(Mk,"^")}function UB(e){return jm(e).replace(xB,"%3D")}function jB(e){return Oy(e).replace(Pk,"%23").replace(RB,"%3F")}function VB(e){return e==null?"":jB(e).replace(CB,"%2F")}function Ff(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function BB(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const s=i[o].replace(Lk," "),a=s.indexOf("="),l=Ff(a<0?s:s.slice(0,a)),f=a<0?null:Ff(s.slice(a+1));if(l in t){let d=t[l];Er(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function VI(e){let t="";for(let n in e){const i=e[n];if(n=UB(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Er(i)?i.map(s=>s&&jm(s)):[i&&jm(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function qB(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Er(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const $B=Symbol(""),BI=Symbol(""),Dy=Symbol(""),jk=Symbol(""),Vm=Symbol("");function fa(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function ki(e,t,n,i,o){const s=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=m=>{m===!1?l(fu(4,{from:n,to:t})):m instanceof Error?l(m):pB(m)?l(fu(2,{from:t,to:m})):(s&&i.enterCallbacks[o]===s&&typeof m=="function"&&s.push(m),a())},d=e.call(i&&i.instances[o],t,n,f);let p=Promise.resolve(d);e.length<3&&(p=p.then(f)),p.catch(m=>l(m))})}function Bg(e,t,n,i){const o=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(HB(l)){const d=(l.__vccOpts||l)[t];d&&o.push(ki(d,n,i,s,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const p=Q2(d)?d.default:d;s.components[a]=p;const v=(p.__vccOpts||p)[t];return v&&ki(v,n,i,s,a)()}))}}return o}function HB(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function qI(e){const t=or(Dy),n=or(jk),i=Xe(()=>t.resolve(fe(e.to))),o=Xe(()=>{const{matched:f}=i.value,{length:d}=f,p=f[d-1],m=n.matched;if(!p||!m.length)return-1;const v=m.findIndex(lu.bind(null,p));if(v>-1)return v;const b=$I(f[d-2]);return d>1&&$I(p)===b&&m[m.length-1].path!==b?m.findIndex(lu.bind(null,f[d-2])):v}),s=Xe(()=>o.value>-1&&WB(n.params,i.value.params)),a=Xe(()=>o.value>-1&&o.value===n.matched.length-1&&Ck(n.params,i.value.params));function l(f={}){return GB(f)?t[fe(e.replace)?"replace":"push"](fe(e.to)).catch(Sa):Promise.resolve()}return{route:i,href:Xe(()=>i.value.href),isActive:s,isExactActive:a,navigate:l}}const KB=mu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qI,setup(e,{slots:t}){const n=oi(qI(e)),{options:i}=or(Dy),o=Xe(()=>({[HI(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[HI(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Hs("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),zB=KB;function GB(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function WB(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Er(o)||o.length!==i.length||i.some((s,a)=>s!==o[a]))return!1}return!0}function $I(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const HI=(e,t,n)=>e??t??n,XB=mu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=or(Vm),o=Xe(()=>e.route||i.value),s=or(BI,0),a=Xe(()=>{let d=fe(s);const{matched:p}=o.value;let m;for(;(m=p[d])&&!m.components;)d++;return d}),l=Xe(()=>o.value.matched[a.value]);Us(BI,Xe(()=>a.value+1)),Us($B,l),Us(Vm,o);const f=Rn();return Xt(()=>[f.value,l.value,e.name],([d,p,m],[v,b,_])=>{p&&(p.instances[m]=d,b&&b!==p&&d&&d===v&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),d&&p&&(!b||!lu(p,b)||!v)&&(p.enterCallbacks[m]||[]).forEach(I=>I(d))},{flush:"post"}),()=>{const d=o.value,p=e.name,m=l.value,v=m&&m.components[p];if(!v)return KI(n.default,{Component:v,route:d});const b=m.props[p],_=b?b===!0?d.params:typeof b=="function"?b(d):b:null,C=Hs(v,Ze({},_,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(m.instances[p]=null)},ref:f}));return KI(n.default,{Component:C,route:d})||C}}});function KI(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const QB=XB;function YB(e){const t=TB(e.routes,e),n=e.parseQuery||BB,i=e.stringifyQuery||VI,o=e.history,s=fa(),a=fa(),l=fa(),f=UO(Ei);let d=Ei;Os&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=jg.bind(null,K=>""+K),m=jg.bind(null,VB),v=jg.bind(null,Ff);function b(K,U){let G,J;return Rk(K)?(G=t.getRecordMatcher(K),J=U):J=K,t.addRoute(J,G)}function _(K){const U=t.getRecordMatcher(K);U&&t.removeRoute(U)}function I(){return t.getRoutes().map(K=>K.record)}function C(K){return!!t.getRecordMatcher(K)}function x(K,U){if(U=Ze({},U||f.value),typeof K=="string"){const E=Vg(n,K,U.path),A=t.resolve({path:E.path},U),M=o.createHref(E.fullPath);return Ze(E,A,{params:v(A.params),hash:Ff(E.hash),redirectedFrom:void 0,href:M})}let G;if("path"in K)G=Ze({},K,{path:Vg(n,K.path,U.path).path});else{const E=Ze({},K.params);for(const A in E)E[A]==null&&delete E[A];G=Ze({},K,{params:m(K.params)}),U.params=m(U.params)}const J=t.resolve(G,U),Pe=K.hash||"";J.params=p(v(J.params));const qe=Z2(i,Ze({},K,{hash:FB(Pe),path:J.path})),_e=o.createHref(qe);return Ze({fullPath:qe,hash:Pe,query:i===VI?qB(K.query):K.query||{}},J,{redirectedFrom:void 0,href:_e})}function P(K){return typeof K=="string"?Vg(n,K,f.value.path):Ze({},K)}function N(K,U){if(d!==K)return fu(8,{from:U,to:K})}function L(K){return W(K)}function B(K){return L(Ze(P(K),{replace:!0}))}function O(K){const U=K.matched[K.matched.length-1];if(U&&U.redirect){const{redirect:G}=U;let J=typeof G=="function"?G(K):G;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=P(J):{path:J},J.params={}),Ze({query:K.query,hash:K.hash,params:"path"in J?{}:K.params},J)}}function W(K,U){const G=d=x(K),J=f.value,Pe=K.state,qe=K.force,_e=K.replace===!0,E=O(G);if(E)return W(Ze(P(E),{state:typeof E=="object"?Ze({},Pe,E.state):Pe,force:qe,replace:_e}),U||G);const A=G;A.redirectedFrom=U;let M;return!qe&&eB(i,J,G)&&(M=fu(16,{to:A,from:J}),dt(J,J,!0,!1)),(M?Promise.resolve(M):ue(A,J)).catch(V=>Xr(V)?Xr(V,2)?V:Et(V):Ce(V,A,J)).then(V=>{if(V){if(Xr(V,2))return W(Ze({replace:_e},P(V.to),{state:typeof V.to=="object"?Ze({},Pe,V.to.state):Pe,force:qe}),U||A)}else V=Ae(A,J,!0,_e,Pe);return S(A,J,V),V})}function D(K,U){const G=N(K,U);return G?Promise.reject(G):Promise.resolve()}function ue(K,U){let G;const[J,Pe,qe]=JB(K,U);G=Bg(J.reverse(),"beforeRouteLeave",K,U);for(const E of J)E.leaveGuards.forEach(A=>{G.push(ki(A,K,U))});const _e=D.bind(null,K,U);return G.push(_e),ks(G).then(()=>{G=[];for(const E of s.list())G.push(ki(E,K,U));return G.push(_e),ks(G)}).then(()=>{G=Bg(Pe,"beforeRouteUpdate",K,U);for(const E of Pe)E.updateGuards.forEach(A=>{G.push(ki(A,K,U))});return G.push(_e),ks(G)}).then(()=>{G=[];for(const E of K.matched)if(E.beforeEnter&&!U.matched.includes(E))if(Er(E.beforeEnter))for(const A of E.beforeEnter)G.push(ki(A,K,U));else G.push(ki(E.beforeEnter,K,U));return G.push(_e),ks(G)}).then(()=>(K.matched.forEach(E=>E.enterCallbacks={}),G=Bg(qe,"beforeRouteEnter",K,U),G.push(_e),ks(G))).then(()=>{G=[];for(const E of a.list())G.push(ki(E,K,U));return G.push(_e),ks(G)}).catch(E=>Xr(E,8)?E:Promise.reject(E))}function S(K,U,G){for(const J of l.list())J(K,U,G)}function Ae(K,U,G,J,Pe){const qe=N(K,U);if(qe)return qe;const _e=U===Ei,E=Os?history.state:{};G&&(J||_e?o.replace(K.fullPath,Ze({scroll:_e&&E&&E.scroll},Pe)):o.push(K.fullPath,Pe)),f.value=K,dt(K,U,G,_e),Et()}let De;function Ge(){De||(De=o.listen((K,U,G)=>{if(!en.listening)return;const J=x(K),Pe=O(J);if(Pe){W(Ze(Pe,{replace:!0}),J).catch(Sa);return}d=J;const qe=f.value;Os&&aB(OI(qe.fullPath,G.delta),Fh()),ue(J,qe).catch(_e=>Xr(_e,12)?_e:Xr(_e,2)?(W(_e.to,J).then(E=>{Xr(E,20)&&!G.delta&&G.type===Za.pop&&o.go(-1,!1)}).catch(Sa),Promise.reject()):(G.delta&&o.go(-G.delta,!1),Ce(_e,J,qe))).then(_e=>{_e=_e||Ae(J,qe,!1),_e&&(G.delta&&!Xr(_e,8)?o.go(-G.delta,!1):G.type===Za.pop&&Xr(_e,20)&&o.go(-1,!1)),S(J,qe,_e)}).catch(Sa)}))}let We=fa(),Ve=fa(),Ne;function Ce(K,U,G){Et(K);const J=Ve.list();return J.length?J.forEach(Pe=>Pe(K,U,G)):console.error(K),Promise.reject(K)}function we(){return Ne&&f.value!==Ei?Promise.resolve():new Promise((K,U)=>{We.add([K,U])})}function Et(K){return Ne||(Ne=!K,Ge(),We.list().forEach(([U,G])=>K?G(K):U()),We.reset()),K}function dt(K,U,G,J){const{scrollBehavior:Pe}=e;if(!Os||!Pe)return Promise.resolve();const qe=!G&&cB(OI(K.fullPath,0))||(J||!G)&&history.state&&history.state.scroll||null;return Oi().then(()=>Pe(K,U,qe)).then(_e=>_e&&uB(_e)).catch(_e=>Ce(_e,K,U))}const pt=K=>o.go(K);let ut;const hn=new Set,en={currentRoute:f,listening:!0,addRoute:b,removeRoute:_,hasRoute:C,getRoutes:I,resolve:x,options:e,push:L,replace:B,go:pt,back:()=>pt(-1),forward:()=>pt(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:Ve.add,isReady:we,install(K){const U=this;K.component("RouterLink",zB),K.component("RouterView",QB),K.config.globalProperties.$router=U,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>fe(f)}),Os&&!ut&&f.value===Ei&&(ut=!0,L(o.location).catch(Pe=>{}));const G={};for(const Pe in Ei)G[Pe]=Xe(()=>f.value[Pe]);K.provide(Dy,U),K.provide(jk,oi(G)),K.provide(Vm,f);const J=K.unmount;hn.add(K),K.unmount=function(){hn.delete(K),hn.size<1&&(d=Ei,De&&De(),De=null,f.value=Ei,ut=!1,Ne=!1),J()}}};return en}function ks(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function JB(e,t){const n=[],i=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const l=t.matched[a];l&&(e.matched.find(d=>lu(d,l))?i.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(d=>lu(d,f))||o.push(f))}return[n,i,o]}const ZB="/music-player/assets/img/introduction-music.png",eq={},tq=YT('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Listen to Great Music!</h1><p class="w-full md:w-8/12 mx-auto">Checkout some cool music here!</p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+ZB+'"></section><section class="container mx-auto"><div class="bg-white rounded border border-gray-200 relative flex flex-col"><div class="px-6 pt-6 pb-5 font-bold border-b border-gray-200"><span class="card-title">Songs</span><i class="fa fa-headphones-alt float-right text-green-400 text-xl"></i></div><ol id="playlist"><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li></ol></div></section>',2);function nq(e,t,n,i,o,s){return tq}const rq=$r(eq,[["render",nq]]);const iq={},oq={class:"about"},sq=ie("h1",null,"This is an about page",-1),uq=[sq];function aq(e,t){return vt(),Lt("div",oq,uq)}const cq=$r(iq,[["render",aq]]),lq={name:"Upload",data(){return{is_dragover:!1,uploads:[]}},props:["addSong"],methods:{upload(e){this.is_dragover=!1;const t=e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files];t.forEach(n=>{if(n.type!=="audio/mpeg")return;const s=Nk.ref().child(`songs/${n.name}`).put(n),a=this.uploads.push({task:s,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;s.on("state_changed",l=>{const f=l.bytesTransferred/l.totalBytes*100;this.uploads[a].current_progress=f},l=>{this.uploads[a].variant="bg-red-400",this.uploads[a].icon="fas fa-times",this.uploads[a].text_class="text-red-400",console.log(l)},async()=>{const l={uid:Ui.currentUser.uid,display_name:Ui.currentUser.displayName,original_name:s.snapshot.ref.name,modified_name:s.snapshot.ref.name,genre:"",comment_count:0};l.url=await s.snapshot.ref.getDownloadURL();const d=await(await Mf.add(l)).get();this.addSong(d),this.uploads[a].variant="bg-green-400",this.uploads[a].icon="fas fa-check",this.uploads[a].text_class="text-green-400"})}),console.log(t)},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},fq={class:"bg-white rounded border border-gray-200 relative flex flex-col"},hq=ie("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[ie("span",{class:"card-title"},"Upload"),ie("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),dq={class:"p-6"},pq=ie("h5",null,"Drop your files here",-1),gq=[pq],mq=ie("hr",{class:"my-6"},null,-1),vq={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function yq(e,t,n,i,o,s){return vt(),Lt("div",fq,[hq,ie("div",dq,[ie("div",{class:Hn(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=Cn(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Cn(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Cn(a=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Cn(a=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Cn(a=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Cn(a=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Cn(a=>s.upload(a),["prevent","stop"]))},gq,34),ie("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=a=>s.upload(a))},null,32),mq,(vt(!0),Lt(Gt,null,av(o.uploads,a=>(vt(),Lt("div",{class:"mb-4",key:a.name},[ie("div",{class:Hn(["font-bold text-sm",a.text_class])},[ie("i",{class:Hn(a.icon)},null,2),va(Bs(a.name),1)],2),ie("div",vq,[ie("div",{class:Hn(["transition-all progress-bar",a.variant]),style:jf({width:a.current_progress+"%"})},null,6)])]))),128))])])}const wq=$r(lq,[["render",yq]]),bq={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_message:"Please Wait! Updating Song Info"}},methods:{async edit(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_message="Please Wait! Updating Song Info";try{await Mf.doc(this.song.docID).update(e)}catch{this.in_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Try again later";return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Success!"},async deleteSong(){await Nk.ref().child(`songs/${this.song.original_name}`).delete(),await Mf.doc(this.song.docID).delete(),this.removeSong(this.index)}}},_q={class:"border border-gray-200 p-3 mb-4 rounded"},Eq={class:"inline-block text-2xl font-bold"},Iq=ie("i",{class:"fa fa-times"},null,-1),Tq=[Iq],Sq=ie("i",{class:"fa fa-pencil-alt"},null,-1),Aq=[Sq],kq={class:"mb-3"},Nq=ie("label",{class:"inline-block mb-2"},"Song Title",-1),Cq={class:"mb-3"},xq=ie("label",{class:"inline-block mb-2"},"Genre",-1),Rq=["disabled"],Oq=["disabled"];function Dq(e,t,n,i,o,s){const a=Qt("vee-field"),l=Qt("ErrorMessage"),f=Qt("vee-form");return vt(),Lt("div",_q,[R_(ie("div",null,[ie("h4",Eq,Bs(n.song.modified_name),1),ie("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right",onClick:t[0]||(t[0]=Cn((...d)=>s.deleteSong&&s.deleteSong(...d),["prevent"]))},Tq),ie("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right",onClick:t[1]||(t[1]=Cn(d=>o.showForm=!o.showForm,["prevent"]))},Aq)],512),[[W_,!o.showForm]]),R_(ie("div",null,[o.show_alert?(vt(),Lt("div",{key:0,class:Hn(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},Bs(o.alert_message),3)):fv("",!0),Te(f,{"validation-schema":o.schema,"initial-values":n.song,onSubmit:s.edit},{default:Zr(()=>[ie("div",kq,[Nq,Te(a,{name:"modified_name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateUnsavedFlag(!0))}),Te(l,{class:"text-red-600",name:"modified_name"})]),ie("div",Cq,[xq,Te(a,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=d=>n.updateUnsavedFlag(!0))}),Te(l,{class:"text-red-600",name:"genre"})]),ie("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600",disabled:o.in_submission}," Submit ",8,Rq),ie("button",{type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.in_submission,onClick:t[4]||(t[4]=Cn(d=>o.showForm=!1,["prevent"]))}," Go Back ",8,Oq)]),_:1},8,["validation-schema","initial-values","onSubmit"])],512),[[W_,o.showForm]])])}const Pq=$r(bq,[["render",Dq]]),Lq={name:"manage",components:{AppUpload:wq,CompositionItem:Pq},data(){return{songs:[],unsavedFlag:!1}},async created(){(await Mf.where("uid","==",Ui.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const i=confirm("You have unsaved changes. Are you sure you want to leave?");n(i)}}},Mq={class:"container mx-auto mt-6"},Fq={class:"md:grid md:grid-cols-3 md:gap-4"},Uq={class:"col-span-1"},jq={class:"col-span-2"},Vq={class:"bg-white rounded border border-gray-200 relative flex flex-col"},Bq=ie("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[ie("span",{class:"card-title"},"My Songs"),ie("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),qq={class:"p-6"};function $q(e,t,n,i,o,s){const a=Qt("app-upload"),l=Qt("composition-item");return vt(),Lt("section",Mq,[ie("div",Fq,[ie("div",Uq,[Te(a,{ref:"upload",addSong:s.addSong},null,8,["addSong"])]),ie("div",jq,[ie("div",Vq,[Bq,ie("div",qq,[(vt(!0),Lt(Gt,null,av(o.songs,(f,d)=>(vt(),uf(l,{key:f.docID,song:f,updateSong:s.updateSong,index:d,removeSong:s.removeSong,updateUnsavedFlag:s.updateUnsavedFlag},null,8,["song","updateSong","index","removeSong","updateUnsavedFlag"]))),128))])])])])])}const Hq=$r(Lq,[["render",$q]]),Kq=[{name:"home",path:"/",component:rq},{home:"about",path:"/about",component:cq},{name:"manage",path:"/manage-music",component:Hq,beforeEnter:(e,t,n)=>{console.log("Manage Route Guard"),n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{path:"/:catchAll(.*)",redirect:{name:"home"}}],Vk=YB({history:dB("/music-player/"),routes:Kq,linkExactActiveClass:"text-yellow-500"});Vk.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}bc().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.7.3
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */function Ho(e){return typeof e=="function"}function ka(e){return e==null}const Ko=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Bk(e){return Number(e)>=0}function zq(e){const t=parseFloat(e);return isNaN(t)?e:t}const qk={};function hr(e,t){Wq(e,t),qk[e]=t}function Gq(e){return qk[e]}function Wq(e,t){if(!Ho(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const _c=Symbol("vee-validate-form"),Xq=Symbol("vee-validate-field-instance"),Uf=Symbol("Default empty value"),Qq=typeof window<"u";function Bm(e){return Ho(e)&&!!e.__locatorRef}function Na(e){return!!e&&Ho(e.validate)}function hu(e){return e==="checkbox"||e==="radio"}function Yq(e){return Ko(e)||Array.isArray(e)}function $k(e){return Array.isArray(e)?e.length===0:Ko(e)&&Object.keys(e).length===0}function Uh(e){return/^\[.+\]$/i.test(e)}function Jq(e){return Hk(e)&&e.multiple}function Hk(e){return e.tagName==="SELECT"}function Zq(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function e3(e,t){return!Zq(e,t)&&t.type!=="file"&&!hu(t.type)}function Kk(e){return Py(e)&&e.target&&"submit"in e.target}function Py(e){return e?!!(typeof Event<"u"&&Ho(Event)&&e instanceof Event||e&&e.srcElement):!1}function zI(e,t){return t in e&&e[t]!==Uf}function Bt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!Bt(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!Bt(i[1],t.get(i[0])))return!1;return!0}if(GI(e)&&GI(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!Bt(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function GI(e){return Qq?e instanceof File:!1}function WI(e,t,n){typeof n.value=="object"&&(n.value=ot(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function ot(e){if(typeof e!="object")return e;var t=0,n,i,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(ot(a))})):s==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(ot(l),ot(a))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(ot(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)WI(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||WI(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function Ly(e){return Uh(e)?e.replace(/\[|\]/gi,""):e}function At(e,t,n){return e?Uh(t)?e[Ly(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>Yq(o)&&s in o?o[s]:n,e):n}function Ii(e,t,n){if(Uh(t)){e[Ly(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<i.length;s++){if(s===i.length-1){o[i[s]]=n;return}(!(i[s]in o)||ka(o[i[s]]))&&(o[i[s]]=Bk(i[s+1])?[]:{}),o=o[i[s]]}}function qg(e,t){if(Array.isArray(e)&&Bk(t)){e.splice(Number(t),1);return}Ko(e)&&delete e[t]}function $l(e,t){if(Uh(t)){delete e[Ly(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<n.length;s++){if(s===n.length-1){qg(i,n[s]);break}if(!(n[s]in i)||ka(i[n[s]]))break;i=i[n[s]]}const o=n.map((s,a)=>At(e,n.slice(0,a).join(".")));for(let s=o.length-1;s>=0;s--)if($k(o[s])){if(s===0){qg(e,n[0]);continue}qg(o[s-1],n[s-1])}}function Kt(e){return Object.keys(e)}function My(e,t=void 0){const n=Zf();return(n==null?void 0:n.provides[e])||or(e,t)}function qm(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(s=>Bt(s,t));return o>=0?i.splice(o,1):i.push(t),i}return Bt(e,t)?n:t}function XI(e,t=0){let n=null,i=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...o);i.forEach(a=>a(s)),i=[]},t),new Promise(s=>i.push(s))}}function t3(e,t){return Ko(t)&&t.number?zq(e):e}function $m(e,t){let n;return async function(...o){const s=e(...o);n=s;const a=await s;return s!==n||(n=void 0,t(a,o)),a}}function n3({get:e,set:t}){const n=Rn(ot(e()));return Xt(e,i=>{Bt(i,n.value)||(n.value=ot(i))},{deep:!0}),Xt(n,i=>{Bt(i,e())||t(ot(i))},{deep:!0}),n}const jh=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default;function $g(e){if(zk(e))return e._value}function zk(e){return"_value"in e}function Fy(e){if(!Py(e))return e;const t=e.target;if(hu(t.type)&&zk(t))return $g(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(Jq(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map($g);if(Hk(t)){const n=Array.from(t.options).find(i=>i.selected);return n?$g(n):t.value}return t.value}function Gk(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Ko(e)&&e._$$isNormalized?e:Ko(e)?Object.keys(e).reduce((n,i)=>{const o=r3(e[i]);return e[i]!==!1&&(n[i]=QI(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=i3(i);return o.name&&(n[o.name]=QI(o.params)),n},t):t}function r3(e){return e===!0?[]:Array.isArray(e)||Ko(e)?e:[e]}function QI(e){const t=n=>typeof n=="string"&&n[0]==="@"?o3(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const i3=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function o3(e){const t=n=>At(n,e)||n[e];return t.__locatorRef=e,t}function s3(e){return Array.isArray(e)?e.filter(Bm):Kt(e).filter(t=>Bm(e[t])).map(t=>e[t])}const u3={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Hm=Object.assign({},u3);const Uy=()=>Hm,a3=e=>{Hm=Object.assign(Object.assign({},Hm),e)},c3=a3;async function Wk(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await l3(o,e)).errors;return{errors:a,valid:!a.length}}async function l3(e,t){if(Na(e.rules))return f3(t,e.rules,{bails:e.bails});if(Ho(e.rules)||Array.isArray(e.rules)){const a={field:e.name,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let p=0;p<f;p++){const m=l[p],v=await m(t,a);if(typeof v!="string"&&v)continue;const _=typeof v=="string"?v:Xk(a);if(d.push(_),e.bails)return{errors:d}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:Gk(e.rules)}),i=[],o=Object.keys(n.rules),s=o.length;for(let a=0;a<s;a++){const l=o[a],f=await h3(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}async function f3(e,t,n){var i;return{errors:await t.validate(e,{abortEarly:(i=n.bails)!==null&&i!==void 0?i:!0}).then(()=>[]).catch(s=>{if(s.name==="ValidationError")return s.errors;throw s})}}async function h3(e,t,n){const i=Gq(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=d3(n.params,e.formData),s={field:e.name,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(t,o,s);return typeof a=="string"?{error:a}:{error:a?void 0:Xk(s)}}function Xk(e){const t=Uy().generateMessage;return t?t(e):"Field is invalid"}function d3(e,t){const n=i=>Bm(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function p3(e,t){const n=await e.validate(t,{abortEarly:!1}).then(()=>[]).catch(s=>{if(s.name!=="ValidationError")throw s;return s.inner||[]}),i={},o={};for(const s of n){const a=s.errors;i[s.path]={valid:!a.length,errors:a},a.length&&(o[s.path]=a[0])}return{valid:!n.length,results:i,errors:o}}async function g3(e,t,n){const o=Kt(e).map(async d=>{var p,m,v;const b=await Wk(At(t,d),e[d],{name:((p=n==null?void 0:n.names)===null||p===void 0?void 0:p[d])||d,values:t,bails:(v=(m=n==null?void 0:n.bailsMap)===null||m===void 0?void 0:m[d])!==null&&v!==void 0?v:!0});return Object.assign(Object.assign({},b),{path:d})});let s=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:l,errors:f}}let YI=0;function m3(e,t){const{value:n,initialValue:i,setInitialValue:o}=Qk(e,t.modelValue,t.form),{errorMessage:s,errors:a,setErrors:l}=y3(e,t.form),f=v3(n,i,a),d=YI>=Number.MAX_SAFE_INTEGER?0:++YI;function p(m){var v;"value"in m&&(n.value=m.value),"errors"in m&&l(m.errors),"touched"in m&&(f.touched=(v=m.touched)!==null&&v!==void 0?v:f.touched),"initialValue"in m&&o(m.initialValue)}return{id:d,path:e,value:n,initialValue:i,meta:f,errors:a,errorMessage:s,setState:p}}function Qk(e,t,n){const i=Rn(fe(t));function o(){return n?At(n.meta.value.initialValues,fe(e),fe(i)):fe(i)}function s(d){if(!n){i.value=d;return}n.stageInitialValue(fe(e),d,!0)}const a=Xe(o);if(!n)return{value:Rn(o()),initialValue:a,setInitialValue:s};const l=t?fe(t):At(n.values,fe(e),fe(a));return n.stageInitialValue(fe(e),l,!0),{value:Xe({get(){return At(n.values,fe(e))},set(d){n.setFieldValue(fe(e),d)}}),initialValue:a,setInitialValue:s}}function v3(e,t,n){const i=oi({touched:!1,pending:!1,valid:!0,validated:!!fe(n).length,initialValue:Xe(()=>fe(t)),dirty:Xe(()=>!Bt(fe(e),fe(t)))});return Xt(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function y3(e,t){function n(o){return o?Array.isArray(o)?o:[o]:[]}if(!t){const o=Rn([]);return{errors:o,errorMessage:Xe(()=>o.value[0]),setErrors:s=>{o.value=n(s)}}}const i=Xe(()=>t.errorBag.value[fe(e)]||[]);return{errors:i,errorMessage:Xe(()=>i.value[0]),setErrors:o=>{t.setFieldErrorBag(fe(e),n(o))}}}function w3(e,t,n){return hu(n==null?void 0:n.type)?E3(e,t,n):Yk(e,t,n)}function Yk(e,t,n){const{initialValue:i,validateOnMount:o,bails:s,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:p,controlled:m,keepValueOnUnmount:v,modelPropName:b,syncVModel:_,form:I}=b3(fe(e),n),C=m?My(_c):void 0,x=I||C;let P=!1;const{id:N,value:L,initialValue:B,meta:O,setState:W,errors:D,errorMessage:ue}=m3(e,{modelValue:i,form:x});_&&I3({value:L,prop:b,handleChange:Ne});const S=()=>{O.touched=!0},Ae=Xe(()=>{let U=fe(t);const G=fe(x==null?void 0:x.schema);return G&&!Na(G)&&(U=_3(G,fe(e))||U),Na(U)||Ho(U)||Array.isArray(U)?U:Gk(U)});async function De(U){var G,J;return x!=null&&x.validateSchema?(G=(await x.validateSchema(U)).results[fe(e)])!==null&&G!==void 0?G:{valid:!0,errors:[]}:Wk(L.value,Ae.value,{name:fe(f)||fe(e),values:(J=x==null?void 0:x.values)!==null&&J!==void 0?J:{},bails:s})}const Ge=$m(async()=>(O.pending=!0,O.validated=!0,De("validated-only")),U=>(P&&(U.valid=!0,U.errors=[]),W({errors:U.errors}),O.pending=!1,U)),We=$m(async()=>De("silent"),U=>(P&&(U.valid=!0),O.valid=U.valid,U));function Ve(U){return(U==null?void 0:U.mode)==="silent"?We():Ge()}function Ne(U,G=!0){const J=Fy(U);L.value=J,!d&&G&&Ge()}Xf(()=>{if(o)return Ge();(!x||!x.validateSchema)&&We()});function Ce(U){O.touched=U}let we,Et=ot(L.value);function dt(){we=Xt(L,(U,G)=>{if(Bt(U,G)&&Bt(U,Et))return;(d?Ge:We)(),Et=ot(U)},{deep:!0})}dt();function pt(U){var G;we==null||we();const J=U&&"value"in U?U.value:B.value;W({value:ot(J),initialValue:ot(J),touched:(G=U==null?void 0:U.touched)!==null&&G!==void 0?G:!1,errors:(U==null?void 0:U.errors)||[]}),O.pending=!1,O.validated=!1,We(),Oi(()=>{dt()})}function ut(U){L.value=U}function hn(U){W({errors:Array.isArray(U)?U:[U]})}const en={id:N,name:e,label:f,value:L,meta:O,errors:D,errorMessage:ue,type:a,checkedValue:l,uncheckedValue:p,bails:s,keepValueOnUnmount:v,resetField:pt,handleReset:()=>pt(),validate:Ve,handleChange:Ne,handleBlur:S,setState:W,setTouched:Ce,setErrors:hn,setValue:ut};if(Us(Xq,en),st(t)&&typeof fe(t)!="function"&&Xt(t,(U,G)=>{Bt(U,G)||(O.validated?Ge():We())},{deep:!0}),!x)return en;x.register(en),Qf(()=>{P=!0,x.unregister(en)});const K=Xe(()=>{const U=Ae.value;return!U||Ho(U)||Na(U)||Array.isArray(U)?{}:Object.keys(U).reduce((G,J)=>{const Pe=s3(U[J]).map(qe=>qe.__locatorRef).reduce((qe,_e)=>{const E=At(x.values,_e)||x.values[_e];return E!==void 0&&(qe[_e]=E),qe},{});return Object.assign(G,Pe),G},{})});return Xt(K,(U,G)=>{if(!Object.keys(U).length)return;!Bt(U,G)&&(O.validated?Ge():We())}),en}function b3(e,t){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:e,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0});if(!t)return n();const i="valueProp"in t?t.valueProp:t.checkedValue,o="standalone"in t?!t.standalone:t.controlled;return Object.assign(Object.assign(Object.assign({},n()),t||{}),{controlled:o??!0,checkedValue:i})}function _3(e,t){if(e)return e[t]}function E3(e,t,n){const i=n!=null&&n.standalone?void 0:My(_c),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=Xe(()=>{const m=fe(l.value),v=fe(o);return Array.isArray(m)?m.findIndex(b=>Bt(b,v))>=0:Bt(v,m)});function p(m,v=!0){var b;if(d.value===((b=m==null?void 0:m.target)===null||b===void 0?void 0:b.checked)){v&&l.validate();return}let _=Fy(m);i||(_=qm(fe(l.value),fe(o),fe(s))),f(_,v)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:p})}return a(Yk(e,t,n))}function I3({prop:e,value:t,handleChange:n}){const i=Zf();if(!i)return;const o=e||"modelValue",s=`update:${o}`;o in i.props&&(Xt(t,a=>{Bt(a,JI(i,o))||i.emit(s,a)}),Xt(()=>JI(i,o),a=>{if(a===Uf&&t.value===void 0)return;const l=a===Uf?void 0:a;Bt(l,t3(t.value,i.props.modelModifiers))||n(l)}))}function JI(e,t){return e.props[t]}const T3=mu({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Uy().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Uf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Lr(e,"rules"),i=Lr(e,"name"),o=Lr(e,"label"),s=Lr(e,"uncheckedValue"),a=Lr(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:p,handleChange:m,handleBlur:v,setTouched:b,resetField:_,handleReset:I,meta:C,checked:x,setErrors:P}=w3(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:A3(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a}),N=function(ue,S=!0){m(ue,S),t.emit("update:modelValue",f.value)},L=D=>{hu(t.attrs.type)||(f.value=Fy(D))},B=function(ue){L(ue),t.emit("update:modelValue",f.value)},O=Xe(()=>{const{validateOnInput:D,validateOnChange:ue,validateOnBlur:S,validateOnModelUpdate:Ae}=S3(e),De=[v,t.attrs.onBlur,S?p:void 0].filter(Boolean),Ge=[Ce=>N(Ce,D),t.attrs.onInput].filter(Boolean),We=[Ce=>N(Ce,ue),t.attrs.onChange].filter(Boolean),Ve={name:e.name,onBlur:De,onInput:Ge,onChange:We};Ve["onUpdate:modelValue"]=Ce=>N(Ce,Ae),hu(t.attrs.type)&&x&&(Ve.checked=x.value);const Ne=ZI(e,t);return e3(Ne,t.attrs)&&(Ve.value=f.value),Ve});function W(){return{field:O.value,value:f.value,meta:C,errors:l.value,errorMessage:d.value,validate:p,resetField:_,handleChange:N,handleInput:B,handleReset:I,handleBlur:v,setTouched:b,setErrors:P}}return t.expose({setErrors:P,setTouched:b,reset:_,validate:p,handleChange:m}),()=>{const D=uv(ZI(e,t)),ue=jh(D,t,W);return D?Hs(D,Object.assign(Object.assign({},t.attrs),O.value),ue):ue}}});function ZI(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function S3(e){var t,n,i,o;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Uy();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function A3(e,t){return hu(t.attrs.type)?zI(e,"modelValue")?e.modelValue:void 0:zI(e,"modelValue")?e.modelValue:t.attrs.value}const k3=T3;let N3=0;function C3(e){var t;const n=N3++,i=new Set;let o=!1;const s=Rn({}),a=Rn(!1),l=Rn(0),f=[],d=oi(ot(fe(e==null?void 0:e.initialValues)||{})),{errorBag:p,setErrorBag:m,setFieldErrorBag:v}=O3(e==null?void 0:e.initialErrors),b=Xe(()=>Kt(p.value).reduce((k,R)=>{const X=p.value[R];return X&&X.length&&(k[R]=X[0]),k},{}));function _(k){const R=s.value[k];return Array.isArray(R)?R[0]:R}function I(k){return!!s.value[k]}const C=Xe(()=>Kt(s.value).reduce((k,R)=>{const X=_(R);return X&&(k[R]=fe(X.label||X.name)||""),k},{})),x=Xe(()=>Kt(s.value).reduce((k,R)=>{var X;const Q=_(R);return Q&&(k[R]=(X=Q.bails)!==null&&X!==void 0?X:!0),k},{})),P=Object.assign({},(e==null?void 0:e.initialErrors)||{}),N=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:L,originalInitialValues:B,setInitialValues:O}=R3(s,d,e==null?void 0:e.initialValues),W=x3(s,d,B,b),D=Xe(()=>[...i,...Kt(s.value)].reduce((k,R)=>{const X=At(d,R);return Ii(k,R,X),k},{})),ue=e==null?void 0:e.validationSchema,S=XI(se,5),Ae=XI(se,5),De=$m(async k=>await k==="silent"?S():Ae(),(k,[R])=>{const X=Ne.fieldsByPath.value||{},Q=Kt(Ne.errorBag.value);return[...new Set([...Kt(k.results),...Kt(X),...Q])].reduce((oe,le)=>{const ae=X[le],xe=(k.results[le]||{errors:[]}).errors,Le={errors:xe,valid:!xe.length};if(oe.results[le]=Le,Le.valid||(oe.errors[le]=Le.errors[0]),!ae)return dt(le,xe),oe;if(we(ae,dn=>dn.meta.valid=Le.valid),R==="silent")return oe;const tn=Array.isArray(ae)?ae.some(dn=>dn.meta.validated):ae.meta.validated;return R==="validated-only"&&!tn||we(ae,dn=>dn.setState({errors:Le.errors})),oe},{valid:k.valid,results:{},errors:{}})});function Ge(k){return function(X,Q){return function(oe){return oe instanceof Event&&(oe.preventDefault(),oe.stopPropagation()),G(Kt(s.value).reduce((le,ae)=>(le[ae]=!0,le),{})),a.value=!0,l.value++,A().then(le=>{const ae=ot(d);if(le.valid&&typeof X=="function"){const xe=ot(D.value);return X(k?xe:ae,{evt:oe,controlledValues:xe,setErrors:pt,setFieldError:dt,setTouched:G,setFieldTouched:U,setValues:hn,setFieldValue:ut,resetForm:J})}!le.valid&&typeof Q=="function"&&Q({values:ae,evt:oe,errors:le.errors,results:le.results})}).then(le=>(a.value=!1,le),le=>{throw a.value=!1,le})}}}const Ve=Ge(!1);Ve.withControlled=Ge(!0);const Ne={formId:n,fieldsByPath:s,values:d,controlledValues:D,errorBag:p,errors:b,schema:ue,submitCount:l,meta:W,isSubmitting:a,fieldArrays:f,keepValuesOnUnmount:N,validateSchema:fe(ue)?De:void 0,validate:A,register:_e,unregister:E,setFieldErrorBag:v,validateField:M,setFieldValue:ut,setValues:hn,setErrors:pt,setFieldError:dt,setFieldTouched:U,setTouched:G,resetForm:J,handleSubmit:Ve,stageInitialValue:$,unsetInitialValue:V,setFieldInitialValue:ee,useFieldModel:K};function Ce(k){return Array.isArray(k)}function we(k,R){return Array.isArray(k)?k.forEach(R):R(k)}function Et(k){Object.values(s.value).forEach(R=>{R&&we(R,k)})}function dt(k,R){v(k,R)}function pt(k){m(k)}function ut(k,R,{force:X}={force:!1}){var Q;const re=s.value[k],oe=ot(R);if(!re){Ii(d,k,oe);return}if(Ce(re)&&((Q=re[0])===null||Q===void 0?void 0:Q.type)==="checkbox"&&!Array.isArray(R)){const ae=ot(qm(At(d,k)||[],R,void 0));Ii(d,k,ae);return}let le=oe;!Ce(re)&&re.type==="checkbox"&&!X&&!o&&(le=ot(qm(At(d,k),R,fe(re.uncheckedValue)))),Ii(d,k,le)}function hn(k){Kt(d).forEach(R=>{delete d[R]}),Kt(k).forEach(R=>{ut(R,k[R])}),f.forEach(R=>R&&R.reset())}function en(k){const{value:R}=Qk(k,void 0,Ne);return Xt(R,()=>{I(fe(k))||A({mode:"validated-only"})},{deep:!0}),i.add(fe(k)),R}function K(k){return Array.isArray(k)?k.map(en):en(k)}function U(k,R){const X=s.value[k];X&&we(X,Q=>Q.setTouched(R))}function G(k){Kt(k).forEach(R=>{U(R,!!k[R])})}function J(k){o=!0,Et(X=>X.resetField());const R=k!=null&&k.values?k.values:B.value;O(R),hn(R),k!=null&&k.touched&&G(k.touched),pt((k==null?void 0:k.errors)||{}),l.value=(k==null?void 0:k.submitCount)||0,Oi(()=>{o=!1})}function Pe(k,R){const X=Mo(k),Q=R;if(!s.value[Q]){s.value[Q]=X;return}const re=s.value[Q];re&&!Array.isArray(re)&&(s.value[Q]=[re]),s.value[Q]=[...s.value[Q],X]}function qe(k,R){const X=R,Q=s.value[X];if(Q){if(!Ce(Q)&&k.id===Q.id){delete s.value[X];return}if(Ce(Q)){const re=Q.findIndex(oe=>oe.id===k.id);if(re===-1)return;Q.splice(re,1),Q.length||delete s.value[X]}}}function _e(k){const R=fe(k.name);Pe(k,R),st(k.name)&&Xt(k.name,async(Q,re)=>{await Oi(),qe(k,re),Pe(k,Q),(b.value[re]||b.value[Q])&&(dt(re,void 0),M(Q)),await Oi(),I(re)||$l(d,re)});const X=fe(k.errorMessage);X&&(P==null?void 0:P[R])!==X&&M(R),delete P[R]}function E(k){const R=fe(k.name),X=s.value[R],Q=!!X&&Ce(X);qe(k,R),Oi(()=>{var re;const oe=(re=fe(k.keepValueOnUnmount))!==null&&re!==void 0?re:fe(N),le=At(d,R);if(Q&&(X===s.value[R]||!s.value[R])&&!oe)if(Array.isArray(le)){const xe=le.findIndex(Le=>Bt(Le,fe(k.checkedValue)));if(xe>-1){const Le=[...le];Le.splice(xe,1),ut(R,Le,{force:!0})}}else le===fe(k.checkedValue)&&$l(d,R);if(!I(R)){if(dt(R,void 0),oe||Q&&Array.isArray(le)&&!$k(le))return;$l(d,R)}})}async function A(k){const R=(k==null?void 0:k.mode)||"force";if(R==="force"&&Et(oe=>oe.meta.validated=!0),Ne.validateSchema)return Ne.validateSchema(R);const X=await Promise.all(Object.values(s.value).map(oe=>{const le=Array.isArray(oe)?oe[0]:oe;return le?le.validate(k).then(ae=>({key:fe(le.name),valid:ae.valid,errors:ae.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),Q={},re={};for(const oe of X)Q[oe.key]={valid:oe.valid,errors:oe.errors},oe.errors.length&&(re[oe.key]=oe.errors[0]);return{valid:X.every(oe=>oe.valid),results:Q,errors:re}}async function M(k){const R=s.value[k];return R?Array.isArray(R)?R.map(X=>X.validate())[0]:R.validate():Promise.resolve({errors:[],valid:!0})}function V(k){$l(L.value,k)}function $(k,R,X=!1){Ii(d,k,R),ee(k,R),X&&!(e!=null&&e.initialValues)&&Ii(B.value,k,ot(R))}function ee(k,R){Ii(L.value,k,ot(R))}async function se(){const k=fe(ue);return k?Na(k)?await p3(k,d):await g3(k,d,{names:C.value,bailsMap:x.value}):{valid:!0,results:{},errors:{}}}const te=Ve((k,{evt:R})=>{Kk(R)&&R.target.submit()});return Xf(()=>{if(e!=null&&e.initialErrors&&pt(e.initialErrors),e!=null&&e.initialTouched&&G(e.initialTouched),e!=null&&e.validateOnMount){A();return}Ne.validateSchema&&Ne.validateSchema("silent")}),st(ue)&&Xt(ue,()=>{var k;(k=Ne.validateSchema)===null||k===void 0||k.call(Ne,"validated-only")}),Us(_c,Ne),Object.assign(Object.assign({},Ne),{handleReset:()=>J(),submitForm:te})}function x3(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},s=Xe(()=>!Bt(t,fe(n)));function a(){const f=Object.values(e.value).flat(1).filter(Boolean);return Kt(o).reduce((d,p)=>{const m=o[p];return d[p]=f[m](v=>v.meta[p]),d},{})}const l=oi(a());return rD(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Xe(()=>Object.assign(Object.assign({initialValues:fe(n)},l),{valid:l.valid&&!Kt(i.value).length,dirty:s.value}))}function R3(e,t,n){const i=Rn(ot(fe(n))||{}),o=Rn(ot(fe(n))||{});function s(a,l=!1){i.value=ot(a),o.value=ot(a),l&&Kt(e.value).forEach(f=>{const d=e.value[f],p=Array.isArray(d)?d.some(v=>v.meta.touched):d==null?void 0:d.meta.touched;if(!d||p)return;const m=At(i.value,f);Ii(t,f,ot(m))})}return st(n)&&Xt(n,a=>{s(a,!0)},{deep:!0}),{initialValues:i,originalInitialValues:o,setInitialValues:s}}function O3(e){const t=Rn({});function n(s){return Array.isArray(s)?s:s?[s]:[]}function i(s,a){if(!a){delete t.value[s];return}t.value[s]=n(a)}function o(s){t.value=Kt(s).reduce((a,l)=>{const f=s[l];return f&&(a[l]=n(f)),a},{})}return e&&o(e),{errorBag:t,setErrorBag:o,setFieldErrorBag:i}}const D3=mu({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Lr(e,"initialValues"),i=Lr(e,"validationSchema"),o=Lr(e,"keepValues"),{errors:s,values:a,meta:l,isSubmitting:f,submitCount:d,controlledValues:p,validate:m,validateField:v,handleReset:b,resetForm:_,handleSubmit:I,setErrors:C,setFieldError:x,setFieldValue:P,setValues:N,setFieldTouched:L,setTouched:B}=C3({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),O=I((Ae,{evt:De})=>{Kk(De)&&De.target.submit()},e.onInvalidSubmit),W=e.onSubmit?I(e.onSubmit,e.onInvalidSubmit):O;function D(Ae){Py(Ae)&&Ae.preventDefault(),b(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function ue(Ae,De){return I(typeof Ae=="function"&&!De?Ae:De,e.onInvalidSubmit)(Ae)}function S(){return{meta:l.value,errors:s.value,values:a,isSubmitting:f.value,submitCount:d.value,controlledValues:p.value,validate:m,validateField:v,handleSubmit:ue,handleReset:b,submitForm:O,setErrors:C,setFieldError:x,setFieldValue:P,setValues:N,setFieldTouched:L,setTouched:B,resetForm:_}}return t.expose({setFieldError:x,setErrors:C,setFieldValue:P,setValues:N,setFieldTouched:L,setTouched:B,resetForm:_,validate:m,validateField:v}),function(){const De=e.as==="form"?e.as:uv(e.as),Ge=jh(De,t,S);if(!e.as)return Ge;const We=e.as==="form"?{novalidate:!0}:{};return Hs(De,Object.assign(Object.assign(Object.assign({},We),t.attrs),{onSubmit:W,onReset:D}),Ge)}}}),P3=D3;function L3(e){const t=My(_c,void 0),n=Rn([]),i=()=>{},o={fields:n,remove:i,push:i,swap:i,insert:i,update:i,replace:i,prepend:i,move:i};if(!t||!fe(e))return o;const s=t.fieldArrays.find(N=>fe(N.path)===fe(e));if(s)return s;let a=0;function l(){const N=At(t==null?void 0:t.values,fe(e),[])||[];n.value=N.map(d),f()}l();function f(){const N=n.value.length;for(let L=0;L<N;L++){const B=n.value[L];B.isFirst=L===0,B.isLast=L===N-1}}function d(N){const L=a++;return{key:L,value:n3({get(){const O=At(t==null?void 0:t.values,fe(e),[])||[],W=n.value.findIndex(D=>D.key===L);return W===-1?N:O[W]},set(O){const W=n.value.findIndex(D=>D.key===L);W!==-1&&I(W,O)}}),isFirst:!1,isLast:!1}}function p(N){const L=fe(e),B=At(t==null?void 0:t.values,L);if(!B||!Array.isArray(B))return;const O=[...B];O.splice(N,1),t==null||t.unsetInitialValue(L+`[${N}]`),t==null||t.setFieldValue(L,O),n.value.splice(N,1),f()}function m(N){const L=fe(e),B=At(t==null?void 0:t.values,L),O=ka(B)?[]:B;if(!Array.isArray(O))return;const W=[...O];W.push(N),t==null||t.stageInitialValue(L+`[${W.length-1}]`,N),t==null||t.setFieldValue(L,W),n.value.push(d(N)),f()}function v(N,L){const B=fe(e),O=At(t==null?void 0:t.values,B);if(!Array.isArray(O)||!(N in O)||!(L in O))return;const W=[...O],D=[...n.value],ue=W[N];W[N]=W[L],W[L]=ue;const S=D[N];D[N]=D[L],D[L]=S,t==null||t.setFieldValue(B,W),n.value=D,f()}function b(N,L){const B=fe(e),O=At(t==null?void 0:t.values,B);if(!Array.isArray(O)||O.length<N)return;const W=[...O],D=[...n.value];W.splice(N,0,L),D.splice(N,0,d(L)),t==null||t.setFieldValue(B,W),n.value=D,f()}function _(N){const L=fe(e);t==null||t.setFieldValue(L,N),l()}function I(N,L){const B=fe(e),O=At(t==null?void 0:t.values,B);!Array.isArray(O)||O.length-1<N||(t==null||t.setFieldValue(`${B}[${N}]`,L),t==null||t.validate({mode:"validated-only"}))}function C(N){const L=fe(e),B=At(t==null?void 0:t.values,L),O=ka(B)?[]:B;if(!Array.isArray(O))return;const W=[N,...O];t==null||t.stageInitialValue(L+`[${W.length-1}]`,N),t==null||t.setFieldValue(L,W),n.value.unshift(d(N)),f()}function x(N,L){const B=fe(e),O=At(t==null?void 0:t.values,B),W=ka(O)?[]:[...O];if(!Array.isArray(O)||!(N in O)||!(L in O))return;const D=[...n.value],ue=D[N];D.splice(N,1),D.splice(L,0,ue);const S=W[N];W.splice(N,1),W.splice(L,0,S),t==null||t.setFieldValue(B,W),n.value=D,f()}const P={fields:n,remove:p,push:m,swap:v,insert:b,update:I,replace:_,prepend:C,move:x};return t.fieldArrays.push(Object.assign({path:e,reset:l},P)),Qf(()=>{const N=t.fieldArrays.findIndex(L=>fe(L.path)===fe(e));N>=0&&t.fieldArrays.splice(N,1)}),P}mu({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:i,swap:o,insert:s,replace:a,update:l,prepend:f,move:d,fields:p}=L3(Lr(e,"name"));function m(){return{fields:p.value,push:n,remove:i,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}}return t.expose({push:n,remove:i,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}),()=>jh(void 0,t,m)}});const M3=mu({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=or(_c,void 0),i=Xe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const s=e.as?uv(e.as):e.as,a=jh(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Hs(s||"span",l,i.value):Hs(s,l,a)}}}),F3=M3;/**
  * vee-validate v4.7.3
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */const Hl={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},U3=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Ec(e,t){return Array.isArray(e)?e[0]:e[t]}function Xi(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const Jk=(e,t)=>{if(Xi(e))return!0;const n=U3(t);if(Array.isArray(e))return e.every(o=>Jk(o,{locale:n}));const i=String(e);return n?(Hl[n]||Hl.en).test(i):Object.keys(Hl).some(o=>Hl[o].test(i))},j3=(e,t)=>{const n=Ec(t,"target");return String(e)===String(n)},V3=e=>{if(Xi(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function B3(e){return e==null}function q3(e){return Array.isArray(e)&&e.length===0}const Zk=(e,t)=>{if(Xi(e))return!0;const n=Ec(t,"length");return Array.isArray(e)?e.every(i=>Zk(i,{length:n})):String(e).length<=Number(n)},eN=(e,t)=>{if(Xi(e))return!0;const n=Ec(t,"max");return Array.isArray(e)?e.length>0&&e.every(i=>eN(i,{max:n})):Number(e)<=Number(n)},tN=(e,t)=>{if(Xi(e))return!0;const n=Ec(t,"length");return Array.isArray(e)?e.every(i=>tN(i,{length:n})):String(e).length>=Number(n)},nN=(e,t)=>{if(Xi(e))return!0;const n=Ec(t,"min");return Array.isArray(e)?e.length>0&&e.every(i=>nN(i,{min:n})):Number(e)>=Number(n)},rN=(e,t)=>Xi(e)?!0:Array.isArray(e)?e.every(n=>rN(n,t)):Array.from(t).some(n=>n==e),eT=(e,t)=>Xi(e)?!0:!rN(e,t),tT=e=>B3(e)||q3(e)||e===!1?!1:!!String(e).trim().length,$3={install(e){e.component("VeeForm",P3),e.component("VeeField",k3),e.component("ErrorMessage",F3),hr("required",tT),hr("tos",tT),hr("min",tN),hr("max",Zk),hr("alpha_spaces",Jk),hr("email",V3),hr("min_value",nN),hr("max_value",eN),hr("passwords_mismatch",j3),hr("excluded",eT),hr("country_excluded",eT),c3({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too long.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces.`,email:` The field ${t.field} must be a valid email.`,min_val:`The field ${t.field} is too low.`,max_val:`The field ${t.field} is too high.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",passwords_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service"};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let Ns;Ui.onAuthStateChanged(()=>{Ns||(Ns=yP(X2),Ns.use(_P()),Ns.use(Vk),Ns.use($3),Ns.mount("#app"))});
