(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function fm(t,e){const n=Object.create(null),i=t.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function hm(t){if(At(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=xe(i)?PC(i):hm(i);if(o)for(const u in o)e[u]=o[u]}return e}else{if(xe(t))return t;if(le(t))return t}}const OC=/;(?![^(]*\))/g,RC=/:([^]+)/,DC=/\/\*.*?\*\//gs;function PC(t){const e={};return t.replace(DC,"").split(OC).forEach(n=>{if(n){const i=n.split(RC);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function _i(t){let e="";if(xe(t))e=t;else if(At(t))for(let n=0;n<t.length;n++){const i=_i(t[n]);i&&(e+=i+" ")}else if(le(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const LC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",MC=fm(LC);function uI(t){return!!t||t===""}const lg=t=>xe(t)?t:t==null?"":At(t)||le(t)&&(t.toString===fI||!Pt(t.toString))?JSON.stringify(t,aI,2):String(t),aI=(t,e)=>e&&e.__v_isRef?aI(t,e.value):Ts(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:cI(e)?{[`Set(${e.size})`]:[...e.values()]}:le(e)&&!At(e)&&!hI(e)?String(e):e,ae={},Is=[],cr=()=>{},FC=()=>!1,VC=/^on[^a-z]/,gf=t=>VC.test(t),dm=t=>t.startsWith("onUpdate:"),on=Object.assign,pm=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},jC=Object.prototype.hasOwnProperty,$t=(t,e)=>jC.call(t,e),At=Array.isArray,Ts=t=>mf(t)==="[object Map]",cI=t=>mf(t)==="[object Set]",Pt=t=>typeof t=="function",xe=t=>typeof t=="string",gm=t=>typeof t=="symbol",le=t=>t!==null&&typeof t=="object",lI=t=>le(t)&&Pt(t.then)&&Pt(t.catch),fI=Object.prototype.toString,mf=t=>fI.call(t),UC=t=>mf(t).slice(8,-1),hI=t=>mf(t)==="[object Object]",mm=t=>xe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,_l=fm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vf=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},BC=/-(\w)/g,Rr=vf(t=>t.replace(BC,(e,n)=>n?n.toUpperCase():"")),qC=/\B([A-Z])/g,Js=vf(t=>t.replace(qC,"-$1").toLowerCase()),yf=vf(t=>t.charAt(0).toUpperCase()+t.slice(1)),Fp=vf(t=>t?`on${yf(t)}`:""),fa=(t,e)=>!Object.is(t,e),Vp=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Pl=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},dI=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Lb;const $C=()=>Lb||(Lb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Pn;class pI{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Pn,!e&&Pn&&(this.index=(Pn.scopes||(Pn.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Pn;try{return Pn=this,e()}finally{Pn=n}}}on(){Pn=this}off(){Pn=this.parent}stop(e){if(this.active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function gI(t){return new pI(t)}function KC(t,e=Pn){e&&e.active&&e.effects.push(t)}function HC(){return Pn}function zC(t){Pn&&Pn.cleanups.push(t)}const vm=t=>{const e=new Set(t);return e.w=0,e.n=0,e},mI=t=>(t.w&xi)>0,vI=t=>(t.n&xi)>0,GC=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=xi},WC=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const o=e[i];mI(o)&&!vI(o)?o.delete(t):e[n++]=o,o.w&=~xi,o.n&=~xi}e.length=n}},fg=new WeakMap;let Qu=0,xi=1;const hg=30;let ur;const wo=Symbol(""),dg=Symbol("");class ym{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,KC(this,i)}run(){if(!this.active)return this.fn();let e=ur,n=Ii;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ur,ur=this,Ii=!0,xi=1<<++Qu,Qu<=hg?GC(this):Mb(this),this.fn()}finally{Qu<=hg&&WC(this),xi=1<<--Qu,ur=this.parent,Ii=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ur===this?this.deferStop=!0:this.active&&(Mb(this),this.onStop&&this.onStop(),this.active=!1)}}function Mb(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Ii=!0;const yI=[];function Zs(){yI.push(Ii),Ii=!1}function tu(){const t=yI.pop();Ii=t===void 0?!0:t}function qn(t,e,n){if(Ii&&ur){let i=fg.get(t);i||fg.set(t,i=new Map);let o=i.get(n);o||i.set(n,o=vm()),wI(o)}}function wI(t,e){let n=!1;Qu<=hg?vI(t)||(t.n|=xi,n=!mI(t)):n=!t.has(ur),n&&(t.add(ur),ur.deps.push(t))}function Gr(t,e,n,i,o,u){const a=fg.get(t);if(!a)return;let l=[];if(e==="clear")l=[...a.values()];else if(n==="length"&&At(t)){const f=dI(i);a.forEach((d,g)=>{(g==="length"||g>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),e){case"add":At(t)?mm(n)&&l.push(a.get("length")):(l.push(a.get(wo)),Ts(t)&&l.push(a.get(dg)));break;case"delete":At(t)||(l.push(a.get(wo)),Ts(t)&&l.push(a.get(dg)));break;case"set":Ts(t)&&l.push(a.get(wo));break}if(l.length===1)l[0]&&pg(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);pg(vm(f))}}function pg(t,e){const n=At(t)?t:[...t];for(const i of n)i.computed&&Fb(i);for(const i of n)i.computed||Fb(i)}function Fb(t,e){(t!==ur||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const QC=fm("__proto__,__v_isRef,__isVue"),bI=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(gm)),YC=wm(),XC=wm(!1,!0),JC=wm(!0),Vb=ZC();function ZC(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=zt(this);for(let u=0,a=this.length;u<a;u++)qn(i,"get",u+"");const o=i[e](...n);return o===-1||o===!1?i[e](...n.map(zt)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Zs();const i=zt(this)[e].apply(this,n);return tu(),i}}),t}function wm(t=!1,e=!1){return function(i,o,u){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&u===(t?e?gO:SI:e?TI:II).get(i))return i;const a=At(i);if(!t&&a&&$t(Vb,o))return Reflect.get(Vb,o,u);const l=Reflect.get(i,o,u);return(gm(o)?bI.has(o):QC(o))||(t||qn(i,"get",o),e)?l:ie(l)?a&&mm(o)?l:l.value:le(l)?t?AI(l):Qr(l):l}}const tO=EI(),eO=EI(!0);function EI(t=!1){return function(n,i,o,u){let a=n[i];if(ks(a)&&ie(a)&&!ie(o))return!1;if(!t&&(!Ll(o)&&!ks(o)&&(a=zt(a),o=zt(o)),!At(n)&&ie(a)&&!ie(o)))return a.value=o,!0;const l=At(n)&&mm(i)?Number(i)<n.length:$t(n,i),f=Reflect.set(n,i,o,u);return n===zt(u)&&(l?fa(o,a)&&Gr(n,"set",i,o):Gr(n,"add",i,o)),f}}function nO(t,e){const n=$t(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Gr(t,"delete",e,void 0),i}function rO(t,e){const n=Reflect.has(t,e);return(!gm(e)||!bI.has(e))&&qn(t,"has",e),n}function iO(t){return qn(t,"iterate",At(t)?"length":wo),Reflect.ownKeys(t)}const _I={get:YC,set:tO,deleteProperty:nO,has:rO,ownKeys:iO},oO={get:JC,set(t,e){return!0},deleteProperty(t,e){return!0}},sO=on({},_I,{get:XC,set:eO}),bm=t=>t,wf=t=>Reflect.getPrototypeOf(t);function ol(t,e,n=!1,i=!1){t=t.__v_raw;const o=zt(t),u=zt(e);n||(e!==u&&qn(o,"get",e),qn(o,"get",u));const{has:a}=wf(o),l=i?bm:n?Im:ha;if(a.call(o,e))return l(t.get(e));if(a.call(o,u))return l(t.get(u));t!==o&&t.get(e)}function sl(t,e=!1){const n=this.__v_raw,i=zt(n),o=zt(t);return e||(t!==o&&qn(i,"has",t),qn(i,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function ul(t,e=!1){return t=t.__v_raw,!e&&qn(zt(t),"iterate",wo),Reflect.get(t,"size",t)}function jb(t){t=zt(t);const e=zt(this);return wf(e).has.call(e,t)||(e.add(t),Gr(e,"add",t,t)),this}function Ub(t,e){e=zt(e);const n=zt(this),{has:i,get:o}=wf(n);let u=i.call(n,t);u||(t=zt(t),u=i.call(n,t));const a=o.call(n,t);return n.set(t,e),u?fa(e,a)&&Gr(n,"set",t,e):Gr(n,"add",t,e),this}function Bb(t){const e=zt(this),{has:n,get:i}=wf(e);let o=n.call(e,t);o||(t=zt(t),o=n.call(e,t)),i&&i.call(e,t);const u=e.delete(t);return o&&Gr(e,"delete",t,void 0),u}function qb(){const t=zt(this),e=t.size!==0,n=t.clear();return e&&Gr(t,"clear",void 0,void 0),n}function al(t,e){return function(i,o){const u=this,a=u.__v_raw,l=zt(a),f=e?bm:t?Im:ha;return!t&&qn(l,"iterate",wo),a.forEach((d,g)=>i.call(o,f(d),f(g),u))}}function cl(t,e,n){return function(...i){const o=this.__v_raw,u=zt(o),a=Ts(u),l=t==="entries"||t===Symbol.iterator&&a,f=t==="keys"&&a,d=o[t](...i),g=n?bm:e?Im:ha;return!e&&qn(u,"iterate",f?dg:wo),{next(){const{value:m,done:v}=d.next();return v?{value:m,done:v}:{value:l?[g(m[0]),g(m[1])]:g(m),done:v}},[Symbol.iterator](){return this}}}}function ui(t){return function(...e){return t==="delete"?!1:this}}function uO(){const t={get(u){return ol(this,u)},get size(){return ul(this)},has:sl,add:jb,set:Ub,delete:Bb,clear:qb,forEach:al(!1,!1)},e={get(u){return ol(this,u,!1,!0)},get size(){return ul(this)},has:sl,add:jb,set:Ub,delete:Bb,clear:qb,forEach:al(!1,!0)},n={get(u){return ol(this,u,!0)},get size(){return ul(this,!0)},has(u){return sl.call(this,u,!0)},add:ui("add"),set:ui("set"),delete:ui("delete"),clear:ui("clear"),forEach:al(!0,!1)},i={get(u){return ol(this,u,!0,!0)},get size(){return ul(this,!0)},has(u){return sl.call(this,u,!0)},add:ui("add"),set:ui("set"),delete:ui("delete"),clear:ui("clear"),forEach:al(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{t[u]=cl(u,!1,!1),n[u]=cl(u,!0,!1),e[u]=cl(u,!1,!0),i[u]=cl(u,!0,!0)}),[t,n,e,i]}const[aO,cO,lO,fO]=uO();function Em(t,e){const n=e?t?fO:lO:t?cO:aO;return(i,o,u)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?i:Reflect.get($t(n,o)&&o in i?n:i,o,u)}const hO={get:Em(!1,!1)},dO={get:Em(!1,!0)},pO={get:Em(!0,!1)},II=new WeakMap,TI=new WeakMap,SI=new WeakMap,gO=new WeakMap;function mO(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function vO(t){return t.__v_skip||!Object.isExtensible(t)?0:mO(UC(t))}function Qr(t){return ks(t)?t:_m(t,!1,_I,hO,II)}function yO(t){return _m(t,!1,sO,dO,TI)}function AI(t){return _m(t,!0,oO,pO,SI)}function _m(t,e,n,i,o){if(!le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const u=o.get(t);if(u)return u;const a=vO(t);if(a===0)return t;const l=new Proxy(t,a===2?i:n);return o.set(t,l),l}function Ti(t){return ks(t)?Ti(t.__v_raw):!!(t&&t.__v_isReactive)}function ks(t){return!!(t&&t.__v_isReadonly)}function Ll(t){return!!(t&&t.__v_isShallow)}function NI(t){return Ti(t)||ks(t)}function zt(t){const e=t&&t.__v_raw;return e?zt(e):t}function To(t){return Pl(t,"__v_skip",!0),t}const ha=t=>le(t)?Qr(t):t,Im=t=>le(t)?AI(t):t;function kI(t){Ii&&ur&&(t=zt(t),wI(t.dep||(t.dep=vm())))}function xI(t,e){t=zt(t),t.dep&&pg(t.dep)}function ie(t){return!!(t&&t.__v_isRef===!0)}function Sn(t){return CI(t,!1)}function wO(t){return CI(t,!0)}function CI(t,e){return ie(t)?t:new bO(t,e)}class bO{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:zt(e),this._value=n?e:ha(e)}get value(){return kI(this),this._value}set value(e){const n=this.__v_isShallow||Ll(e)||ks(e);e=n?e:zt(e),fa(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ha(e),xI(this))}}function ct(t){return ie(t)?t.value:t}const EO={get:(t,e,n)=>ct(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const o=t[e];return ie(o)&&!ie(n)?(o.value=n,!0):Reflect.set(t,e,n,i)}};function OI(t){return Ti(t)?t:new Proxy(t,EO)}function _O(t){const e=At(t)?new Array(t.length):{};for(const n in t)e[n]=kr(t,n);return e}class IO{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function kr(t,e,n){const i=t[e];return ie(i)?i:new IO(t,e,n)}var RI;class TO{constructor(e,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[RI]=!1,this._dirty=!0,this.effect=new ym(e,()=>{this._dirty||(this._dirty=!0,xI(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const e=zt(this);return kI(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}RI="__v_isReadonly";function SO(t,e,n=!1){let i,o;const u=Pt(t);return u?(i=t,o=cr):(i=t.get,o=t.set),new TO(i,o,u||!o,n)}function Si(t,e,n,i){let o;try{o=i?t(...i):t()}catch(u){bf(u,e,n)}return o}function Yn(t,e,n,i){if(Pt(t)){const u=Si(t,e,n,i);return u&&lI(u)&&u.catch(a=>{bf(a,e,n)}),u}const o=[];for(let u=0;u<t.length;u++)o.push(Yn(t[u],e,n,i));return o}function bf(t,e,n,i=!0){const o=e?e.vnode:null;if(e){let u=e.parent;const a=e.proxy,l=n;for(;u;){const d=u.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](t,a,l)===!1)return}u=u.parent}const f=e.appContext.config.errorHandler;if(f){Si(f,null,10,[t,a,l]);return}}AO(t,n,o,i)}function AO(t,e,n,i=!0){console.error(t)}let da=!1,gg=!1;const tn=[];let xr=0;const Ss=[];let Br=null,lo=0;const DI=Promise.resolve();let Tm=null;function Ei(t){const e=Tm||DI;return t?e.then(this?t.bind(this):t):e}function NO(t){let e=xr+1,n=tn.length;for(;e<n;){const i=e+n>>>1;pa(tn[i])<t?e=i+1:n=i}return e}function Sm(t){(!tn.length||!tn.includes(t,da&&t.allowRecurse?xr+1:xr))&&(t.id==null?tn.push(t):tn.splice(NO(t.id),0,t),PI())}function PI(){!da&&!gg&&(gg=!0,Tm=DI.then(MI))}function kO(t){const e=tn.indexOf(t);e>xr&&tn.splice(e,1)}function xO(t){At(t)?Ss.push(...t):(!Br||!Br.includes(t,t.allowRecurse?lo+1:lo))&&Ss.push(t),PI()}function $b(t,e=da?xr+1:0){for(;e<tn.length;e++){const n=tn[e];n&&n.pre&&(tn.splice(e,1),e--,n())}}function LI(t){if(Ss.length){const e=[...new Set(Ss)];if(Ss.length=0,Br){Br.push(...e);return}for(Br=e,Br.sort((n,i)=>pa(n)-pa(i)),lo=0;lo<Br.length;lo++)Br[lo]();Br=null,lo=0}}const pa=t=>t.id==null?1/0:t.id,CO=(t,e)=>{const n=pa(t)-pa(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function MI(t){gg=!1,da=!0,tn.sort(CO);const e=cr;try{for(xr=0;xr<tn.length;xr++){const n=tn[xr];n&&n.active!==!1&&Si(n,null,14)}}finally{xr=0,tn.length=0,LI(),da=!1,Tm=null,(tn.length||Ss.length)&&MI()}}function OO(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||ae;let o=n;const u=e.startsWith("update:"),a=u&&e.slice(7);if(a&&a in i){const g=`${a==="modelValue"?"model":a}Modifiers`,{number:m,trim:v}=i[g]||ae;v&&(o=n.map(b=>xe(b)?b.trim():b)),m&&(o=n.map(dI))}let l,f=i[l=Fp(e)]||i[l=Fp(Rr(e))];!f&&u&&(f=i[l=Fp(Js(e))]),f&&Yn(f,t,6,o);const d=i[l+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Yn(d,t,6,o)}}function FI(t,e,n=!1){const i=e.emitsCache,o=i.get(t);if(o!==void 0)return o;const u=t.emits;let a={},l=!1;if(!Pt(t)){const f=d=>{const g=FI(d,e,!0);g&&(l=!0,on(a,g))};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!u&&!l?(le(t)&&i.set(t,null),null):(At(u)?u.forEach(f=>a[f]=null):on(a,u),le(t)&&i.set(t,a),a)}function Ef(t,e){return!t||!gf(e)?!1:(e=e.slice(2).replace(/Once$/,""),$t(t,e[0].toLowerCase()+e.slice(1))||$t(t,Js(e))||$t(t,e))}let Qn=null,VI=null;function Ml(t){const e=Qn;return Qn=t,VI=t&&t.type.__scopeId||null,e}function Ai(t,e=Qn,n){if(!e||t._n)return t;const i=(...o)=>{i._d&&Zb(-1);const u=Ml(e);let a;try{a=t(...o)}finally{Ml(u),i._d&&Zb(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function jp(t){const{type:e,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[a],slots:l,attrs:f,emit:d,render:g,renderCache:m,data:v,setupState:b,ctx:E,inheritAttrs:T}=t;let O,x;const V=Ml(t);try{if(n.shapeFlag&4){const M=o||i;O=Nr(g.call(M,M,m,u,b,v,E)),x=f}else{const M=e;O=Nr(M.length>1?M(u,{attrs:f,slots:l,emit:d}):M(u,null)),x=e.props?f:RO(f)}}catch(M){Zu.length=0,bf(M,t,1),O=Dt(lr)}let C=O;if(x&&T!==!1){const M=Object.keys(x),{shapeFlag:$}=C;M.length&&$&7&&(a&&M.some(dm)&&(x=DO(x,a)),C=Ci(C,x))}return n.dirs&&(C=Ci(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),O=C,Ml(V),O}const RO=t=>{let e;for(const n in t)(n==="class"||n==="style"||gf(n))&&((e||(e={}))[n]=t[n]);return e},DO=(t,e)=>{const n={};for(const i in t)(!dm(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function PO(t,e,n){const{props:i,children:o,component:u}=t,{props:a,children:l,patchFlag:f}=e,d=u.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?Kb(i,a,d):!!a;if(f&8){const g=e.dynamicProps;for(let m=0;m<g.length;m++){const v=g[m];if(a[v]!==i[v]&&!Ef(d,v))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?Kb(i,a,d):!0:!!a;return!1}function Kb(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(e[u]!==t[u]&&!Ef(n,u))return!0}return!1}function LO({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const MO=t=>t.__isSuspense;function FO(t,e){e&&e.pendingBranch?At(t)?e.effects.push(...t):e.effects.push(t):xO(t)}function As(t,e){if(Fe){let n=Fe.provides;const i=Fe.parent&&Fe.parent.provides;i===n&&(n=Fe.provides=Object.create(i)),n[t]=e}}function Xn(t,e,n=!1){const i=Fe||Qn;if(i){const o=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&Pt(e)?e.call(i.proxy):e}}function VO(t,e){return Am(t,null,e)}const ll={};function He(t,e,n){return Am(t,e,n)}function Am(t,e,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:a}=ae){const l=Fe;let f,d=!1,g=!1;if(ie(t)?(f=()=>t.value,d=Ll(t)):Ti(t)?(f=()=>t,i=!0):At(t)?(g=!0,d=t.some(C=>Ti(C)||Ll(C)),f=()=>t.map(C=>{if(ie(C))return C.value;if(Ti(C))return bs(C);if(Pt(C))return Si(C,l,2)})):Pt(t)?e?f=()=>Si(t,l,2):f=()=>{if(!(l&&l.isUnmounted))return m&&m(),Yn(t,l,3,[v])}:f=cr,e&&i){const C=f;f=()=>bs(C())}let m,v=C=>{m=x.onStop=()=>{Si(C,l,4)}},b;if(ma)if(v=cr,e?n&&Yn(e,l,3,[f(),g?[]:void 0,v]):f(),o==="sync"){const C=CR();b=C.__watcherHandles||(C.__watcherHandles=[])}else return cr;let E=g?new Array(t.length).fill(ll):ll;const T=()=>{if(x.active)if(e){const C=x.run();(i||d||(g?C.some((M,$)=>fa(M,E[$])):fa(C,E)))&&(m&&m(),Yn(e,l,3,[C,E===ll?void 0:g&&E[0]===ll?[]:E,v]),E=C)}else x.run()};T.allowRecurse=!!e;let O;o==="sync"?O=T:o==="post"?O=()=>In(T,l&&l.suspense):(T.pre=!0,l&&(T.id=l.uid),O=()=>Sm(T));const x=new ym(f,O);e?n?T():E=x.run():o==="post"?In(x.run.bind(x),l&&l.suspense):x.run();const V=()=>{x.stop(),l&&l.scope&&pm(l.scope.effects,x)};return b&&b.push(V),V}function jO(t,e,n){const i=this.proxy,o=xe(t)?t.includes(".")?jI(i,t):()=>i[t]:t.bind(i,i);let u;Pt(e)?u=e:(u=e.handler,n=e);const a=Fe;xs(this);const l=Am(o,u.bind(i),n);return a?xs(a):bo(),l}function jI(t,e){const n=e.split(".");return()=>{let i=t;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function bs(t,e){if(!le(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ie(t))bs(t.value,e);else if(At(t))for(let n=0;n<t.length;n++)bs(t[n],e);else if(cI(t)||Ts(t))t.forEach(n=>{bs(n,e)});else if(hI(t))for(const n in t)bs(t[n],e);return t}function UO(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Tf(()=>{t.isMounted=!0}),Sf(()=>{t.isUnmounting=!0}),t}const Wn=[Function,Array],BO={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Wn,onEnter:Wn,onAfterEnter:Wn,onEnterCancelled:Wn,onBeforeLeave:Wn,onLeave:Wn,onAfterLeave:Wn,onLeaveCancelled:Wn,onBeforeAppear:Wn,onAppear:Wn,onAfterAppear:Wn,onAppearCancelled:Wn},setup(t,{slots:e}){const n=kf(),i=UO();let o;return()=>{const u=e.default&&BI(e.default(),!0);if(!u||!u.length)return;let a=u[0];if(u.length>1){for(const T of u)if(T.type!==lr){a=T;break}}const l=zt(t),{mode:f}=l;if(i.isLeaving)return Up(a);const d=Hb(a);if(!d)return Up(a);const g=mg(d,l,i,n);vg(d,g);const m=n.subTree,v=m&&Hb(m);let b=!1;const{getTransitionKey:E}=d.type;if(E){const T=E();o===void 0?o=T:T!==o&&(o=T,b=!0)}if(v&&v.type!==lr&&(!fo(d,v)||b)){const T=mg(v,l,i,n);if(vg(v,T),f==="out-in")return i.isLeaving=!0,T.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Up(a);f==="in-out"&&d.type!==lr&&(T.delayLeave=(O,x,V)=>{const C=UI(i,v);C[String(v.key)]=v,O._leaveCb=()=>{x(),O._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=V})}return a}}},qO=BO;function UI(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function mg(t,e,n,i){const{appear:o,mode:u,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:d,onEnterCancelled:g,onBeforeLeave:m,onLeave:v,onAfterLeave:b,onLeaveCancelled:E,onBeforeAppear:T,onAppear:O,onAfterAppear:x,onAppearCancelled:V}=e,C=String(t.key),M=UI(n,t),$=(D,ht)=>{D&&Yn(D,i,9,ht)},R=(D,ht)=>{const S=ht[1];$(D,ht),At(D)?D.every(St=>St.length<=1)&&S():D.length<=1&&S()},X={mode:u,persisted:a,beforeEnter(D){let ht=l;if(!n.isMounted)if(o)ht=T||l;else return;D._leaveCb&&D._leaveCb(!0);const S=M[C];S&&fo(t,S)&&S.el._leaveCb&&S.el._leaveCb(),$(ht,[D])},enter(D){let ht=f,S=d,St=g;if(!n.isMounted)if(o)ht=O||f,S=x||d,St=V||g;else return;let Ot=!1;const Gt=D._enterCb=Wt=>{Ot||(Ot=!0,Wt?$(St,[D]):$(S,[D]),X.delayedLeave&&X.delayedLeave(),D._enterCb=void 0)};ht?R(ht,[D,Gt]):Gt()},leave(D,ht){const S=String(t.key);if(D._enterCb&&D._enterCb(!0),n.isUnmounting)return ht();$(m,[D]);let St=!1;const Ot=D._leaveCb=Gt=>{St||(St=!0,ht(),Gt?$(E,[D]):$(b,[D]),D._leaveCb=void 0,M[S]===t&&delete M[S])};M[S]=t,v?R(v,[D,Ot]):Ot()},clone(D){return mg(D,e,n,i)}};return X}function Up(t){if(_f(t))return t=Ci(t),t.children=null,t}function Hb(t){return _f(t)?t.children?t.children[0]:void 0:t}function vg(t,e){t.shapeFlag&6&&t.component?vg(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function BI(t,e=!1,n){let i=[],o=0;for(let u=0;u<t.length;u++){let a=t[u];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:u);a.type===pn?(a.patchFlag&128&&o++,i=i.concat(BI(a.children,e,l))):(e||a.type!==lr)&&i.push(l!=null?Ci(a,{key:l}):a)}if(o>1)for(let u=0;u<i.length;u++)i[u].patchFlag=-2;return i}function eu(t){return Pt(t)?{setup:t,name:t.name}:t}const Il=t=>!!t.type.__asyncLoader,_f=t=>t.type.__isKeepAlive;function $O(t,e){qI(t,"a",e)}function KO(t,e){qI(t,"da",e)}function qI(t,e,n=Fe){const i=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(If(e,i,n),n){let o=n.parent;for(;o&&o.parent;)_f(o.parent.vnode)&&HO(i,e,n,o),o=o.parent}}function HO(t,e,n,i){const o=If(e,t,i,!0);$I(()=>{pm(i[e],o)},n)}function If(t,e,n=Fe,i=!1){if(n){const o=n[t]||(n[t]=[]),u=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Zs(),xs(n);const l=Yn(e,n,t,a);return bo(),tu(),l});return i?o.unshift(u):o.push(u),u}}const Yr=t=>(e,n=Fe)=>(!ma||t==="sp")&&If(t,(...i)=>e(...i),n),zO=Yr("bm"),Tf=Yr("m"),GO=Yr("bu"),WO=Yr("u"),Sf=Yr("bum"),$I=Yr("um"),QO=Yr("sp"),YO=Yr("rtg"),XO=Yr("rtc");function JO(t,e=Fe){If("ec",t,e)}function oo(t,e,n,i){const o=t.dirs,u=e&&e.dirs;for(let a=0;a<o.length;a++){const l=o[a];u&&(l.oldValue=u[a].value);let f=l.dir[i];f&&(Zs(),Yn(f,n,8,[t.el,l,t,e]),tu())}}const Nm="components";function Jn(t,e){return HI(Nm,t,!0,e)||t}const KI=Symbol();function km(t){return xe(t)?HI(Nm,t,!1)||t:t||KI}function HI(t,e,n=!0,i=!1){const o=Qn||Fe;if(o){const u=o.type;if(t===Nm){const l=NR(u,!1);if(l&&(l===e||l===Rr(e)||l===yf(Rr(e))))return u}const a=zb(o[t]||u[t],e)||zb(o.appContext[t],e);return!a&&i?u:a}}function zb(t,e){return t&&(t[e]||t[Rr(e)]||t[yf(Rr(e))])}function ZO(t,e,n,i){let o;const u=n&&n[i];if(At(t)||xe(t)){o=new Array(t.length);for(let a=0,l=t.length;a<l;a++)o[a]=e(t[a],a,void 0,u&&u[a])}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,u&&u[a])}else if(le(t))if(t[Symbol.iterator])o=Array.from(t,(a,l)=>e(a,l,void 0,u&&u[l]));else{const a=Object.keys(t);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=e(t[d],d,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const yg=t=>t?iT(t)?Dm(t)||t.proxy:yg(t.parent):null,Ju=on(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>yg(t.parent),$root:t=>yg(t.root),$emit:t=>t.emit,$options:t=>xm(t),$forceUpdate:t=>t.f||(t.f=()=>Sm(t.update)),$nextTick:t=>t.n||(t.n=Ei.bind(t.proxy)),$watch:t=>jO.bind(t)}),Bp=(t,e)=>t!==ae&&!t.__isScriptSetup&&$t(t,e),tR={get({_:t},e){const{ctx:n,setupState:i,data:o,props:u,accessCache:a,type:l,appContext:f}=t;let d;if(e[0]!=="$"){const b=a[e];if(b!==void 0)switch(b){case 1:return i[e];case 2:return o[e];case 4:return n[e];case 3:return u[e]}else{if(Bp(i,e))return a[e]=1,i[e];if(o!==ae&&$t(o,e))return a[e]=2,o[e];if((d=t.propsOptions[0])&&$t(d,e))return a[e]=3,u[e];if(n!==ae&&$t(n,e))return a[e]=4,n[e];wg&&(a[e]=0)}}const g=Ju[e];let m,v;if(g)return e==="$attrs"&&qn(t,"get",e),g(t);if((m=l.__cssModules)&&(m=m[e]))return m;if(n!==ae&&$t(n,e))return a[e]=4,n[e];if(v=f.config.globalProperties,$t(v,e))return v[e]},set({_:t},e,n){const{data:i,setupState:o,ctx:u}=t;return Bp(o,e)?(o[e]=n,!0):i!==ae&&$t(i,e)?(i[e]=n,!0):$t(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(u[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:o,propsOptions:u}},a){let l;return!!n[a]||t!==ae&&$t(t,a)||Bp(e,a)||(l=u[0])&&$t(l,a)||$t(i,a)||$t(Ju,a)||$t(o.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:$t(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let wg=!0;function eR(t){const e=xm(t),n=t.proxy,i=t.ctx;wg=!1,e.beforeCreate&&Gb(e.beforeCreate,t,"bc");const{data:o,computed:u,methods:a,watch:l,provide:f,inject:d,created:g,beforeMount:m,mounted:v,beforeUpdate:b,updated:E,activated:T,deactivated:O,beforeDestroy:x,beforeUnmount:V,destroyed:C,unmounted:M,render:$,renderTracked:R,renderTriggered:X,errorCaptured:D,serverPrefetch:ht,expose:S,inheritAttrs:St,components:Ot,directives:Gt,filters:Wt}=e;if(d&&nR(d,i,null,t.appContext.config.unwrapInjectedRef),a)for(const kt in a){const vt=a[kt];Pt(vt)&&(i[kt]=vt.bind(n))}if(o){const kt=o.call(n,n);le(kt)&&(t.data=Qr(kt))}if(wg=!0,u)for(const kt in u){const vt=u[kt],be=Pt(vt)?vt.bind(n,n):Pt(vt.get)?vt.get.bind(n,n):cr,fe=!Pt(vt)&&Pt(vt.set)?vt.set.bind(n):cr,he=Qt({get:be,set:fe});Object.defineProperty(i,kt,{enumerable:!0,configurable:!0,get:()=>he.value,set:oe=>he.value=oe})}if(l)for(const kt in l)zI(l[kt],i,n,kt);if(f){const kt=Pt(f)?f.call(n):f;Reflect.ownKeys(kt).forEach(vt=>{As(vt,kt[vt])})}g&&Gb(g,t,"c");function Nt(kt,vt){At(vt)?vt.forEach(be=>kt(be.bind(n))):vt&&kt(vt.bind(n))}if(Nt(zO,m),Nt(Tf,v),Nt(GO,b),Nt(WO,E),Nt($O,T),Nt(KO,O),Nt(JO,D),Nt(XO,R),Nt(YO,X),Nt(Sf,V),Nt($I,M),Nt(QO,ht),At(S))if(S.length){const kt=t.exposed||(t.exposed={});S.forEach(vt=>{Object.defineProperty(kt,vt,{get:()=>n[vt],set:be=>n[vt]=be})})}else t.exposed||(t.exposed={});$&&t.render===cr&&(t.render=$),St!=null&&(t.inheritAttrs=St),Ot&&(t.components=Ot),Gt&&(t.directives=Gt)}function nR(t,e,n=cr,i=!1){At(t)&&(t=bg(t));for(const o in t){const u=t[o];let a;le(u)?"default"in u?a=Xn(u.from||o,u.default,!0):a=Xn(u.from||o):a=Xn(u),ie(a)&&i?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):e[o]=a}}function Gb(t,e,n){Yn(At(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function zI(t,e,n,i){const o=i.includes(".")?jI(n,i):()=>n[i];if(xe(t)){const u=e[t];Pt(u)&&He(o,u)}else if(Pt(t))He(o,t.bind(n));else if(le(t))if(At(t))t.forEach(u=>zI(u,e,n,i));else{const u=Pt(t.handler)?t.handler.bind(n):e[t.handler];Pt(u)&&He(o,u,t)}}function xm(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:o,optionsCache:u,config:{optionMergeStrategies:a}}=t.appContext,l=u.get(e);let f;return l?f=l:!o.length&&!n&&!i?f=e:(f={},o.length&&o.forEach(d=>Fl(f,d,a,!0)),Fl(f,e,a)),le(e)&&u.set(e,f),f}function Fl(t,e,n,i=!1){const{mixins:o,extends:u}=e;u&&Fl(t,u,n,!0),o&&o.forEach(a=>Fl(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const l=rR[a]||n&&n[a];t[a]=l?l(t[a],e[a]):e[a]}return t}const rR={data:Wb,props:ao,emits:ao,methods:ao,computed:ao,beforeCreate:hn,created:hn,beforeMount:hn,mounted:hn,beforeUpdate:hn,updated:hn,beforeDestroy:hn,beforeUnmount:hn,destroyed:hn,unmounted:hn,activated:hn,deactivated:hn,errorCaptured:hn,serverPrefetch:hn,components:ao,directives:ao,watch:oR,provide:Wb,inject:iR};function Wb(t,e){return e?t?function(){return on(Pt(t)?t.call(this,this):t,Pt(e)?e.call(this,this):e)}:e:t}function iR(t,e){return ao(bg(t),bg(e))}function bg(t){if(At(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function hn(t,e){return t?[...new Set([].concat(t,e))]:e}function ao(t,e){return t?on(on(Object.create(null),t),e):e}function oR(t,e){if(!t)return e;if(!e)return t;const n=on(Object.create(null),t);for(const i in e)n[i]=hn(t[i],e[i]);return n}function sR(t,e,n,i=!1){const o={},u={};Pl(u,Nf,1),t.propsDefaults=Object.create(null),GI(t,e,o,u);for(const a in t.propsOptions[0])a in o||(o[a]=void 0);n?t.props=i?o:yO(o):t.type.props?t.props=o:t.props=u,t.attrs=u}function uR(t,e,n,i){const{props:o,attrs:u,vnode:{patchFlag:a}}=t,l=zt(o),[f]=t.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const g=t.vnode.dynamicProps;for(let m=0;m<g.length;m++){let v=g[m];if(Ef(t.emitsOptions,v))continue;const b=e[v];if(f)if($t(u,v))b!==u[v]&&(u[v]=b,d=!0);else{const E=Rr(v);o[E]=Eg(f,l,E,b,t,!1)}else b!==u[v]&&(u[v]=b,d=!0)}}}else{GI(t,e,o,u)&&(d=!0);let g;for(const m in l)(!e||!$t(e,m)&&((g=Js(m))===m||!$t(e,g)))&&(f?n&&(n[m]!==void 0||n[g]!==void 0)&&(o[m]=Eg(f,l,m,void 0,t,!0)):delete o[m]);if(u!==l)for(const m in u)(!e||!$t(e,m))&&(delete u[m],d=!0)}d&&Gr(t,"set","$attrs")}function GI(t,e,n,i){const[o,u]=t.propsOptions;let a=!1,l;if(e)for(let f in e){if(_l(f))continue;const d=e[f];let g;o&&$t(o,g=Rr(f))?!u||!u.includes(g)?n[g]=d:(l||(l={}))[g]=d:Ef(t.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(u){const f=zt(n),d=l||ae;for(let g=0;g<u.length;g++){const m=u[g];n[m]=Eg(o,f,m,d[m],t,!$t(d,m))}}return a}function Eg(t,e,n,i,o,u){const a=t[n];if(a!=null){const l=$t(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&Pt(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(xs(o),i=d[n]=f.call(null,e),bo())}else i=f}a[0]&&(u&&!l?i=!1:a[1]&&(i===""||i===Js(n))&&(i=!0))}return i}function WI(t,e,n=!1){const i=e.propsCache,o=i.get(t);if(o)return o;const u=t.props,a={},l=[];let f=!1;if(!Pt(t)){const g=m=>{f=!0;const[v,b]=WI(m,e,!0);on(a,v),b&&l.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!u&&!f)return le(t)&&i.set(t,Is),Is;if(At(u))for(let g=0;g<u.length;g++){const m=Rr(u[g]);Qb(m)&&(a[m]=ae)}else if(u)for(const g in u){const m=Rr(g);if(Qb(m)){const v=u[g],b=a[m]=At(v)||Pt(v)?{type:v}:Object.assign({},v);if(b){const E=Jb(Boolean,b.type),T=Jb(String,b.type);b[0]=E>-1,b[1]=T<0||E<T,(E>-1||$t(b,"default"))&&l.push(m)}}}const d=[a,l];return le(t)&&i.set(t,d),d}function Qb(t){return t[0]!=="$"}function Yb(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Xb(t,e){return Yb(t)===Yb(e)}function Jb(t,e){return At(e)?e.findIndex(n=>Xb(n,t)):Pt(e)&&Xb(e,t)?0:-1}const QI=t=>t[0]==="_"||t==="$stable",Cm=t=>At(t)?t.map(Nr):[Nr(t)],aR=(t,e,n)=>{if(e._n)return e;const i=Ai((...o)=>Cm(e(...o)),n);return i._c=!1,i},YI=(t,e,n)=>{const i=t._ctx;for(const o in t){if(QI(o))continue;const u=t[o];if(Pt(u))e[o]=aR(o,u,i);else if(u!=null){const a=Cm(u);e[o]=()=>a}}},XI=(t,e)=>{const n=Cm(e);t.slots.default=()=>n},cR=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=zt(e),Pl(e,"_",n)):YI(e,t.slots={})}else t.slots={},e&&XI(t,e);Pl(t.slots,Nf,1)},lR=(t,e,n)=>{const{vnode:i,slots:o}=t;let u=!0,a=ae;if(i.shapeFlag&32){const l=e._;l?n&&l===1?u=!1:(on(o,e),!n&&l===1&&delete o._):(u=!e.$stable,YI(e,o)),a=e}else e&&(XI(t,e),a={default:1});if(u)for(const l in o)!QI(l)&&!(l in a)&&delete o[l]};function JI(){return{app:null,config:{isNativeTag:FC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fR=0;function hR(t,e){return function(i,o=null){Pt(i)||(i=Object.assign({},i)),o!=null&&!le(o)&&(o=null);const u=JI(),a=new Set;let l=!1;const f=u.app={_uid:fR++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:OR,get config(){return u.config},set config(d){},use(d,...g){return a.has(d)||(d&&Pt(d.install)?(a.add(d),d.install(f,...g)):Pt(d)&&(a.add(d),d(f,...g))),f},mixin(d){return u.mixins.includes(d)||u.mixins.push(d),f},component(d,g){return g?(u.components[d]=g,f):u.components[d]},directive(d,g){return g?(u.directives[d]=g,f):u.directives[d]},mount(d,g,m){if(!l){const v=Dt(i,o);return v.appContext=u,g&&e?e(v,d):t(v,d,m),l=!0,f._container=d,d.__vue_app__=f,Dm(v.component)||v.component.proxy}},unmount(){l&&(t(null,f._container),delete f._container.__vue_app__)},provide(d,g){return u.provides[d]=g,f}};return f}}function _g(t,e,n,i,o=!1){if(At(t)){t.forEach((v,b)=>_g(v,e&&(At(e)?e[b]:e),n,i,o));return}if(Il(i)&&!o)return;const u=i.shapeFlag&4?Dm(i.component)||i.component.proxy:i.el,a=o?null:u,{i:l,r:f}=t,d=e&&e.r,g=l.refs===ae?l.refs={}:l.refs,m=l.setupState;if(d!=null&&d!==f&&(xe(d)?(g[d]=null,$t(m,d)&&(m[d]=null)):ie(d)&&(d.value=null)),Pt(f))Si(f,l,12,[a,g]);else{const v=xe(f),b=ie(f);if(v||b){const E=()=>{if(t.f){const T=v?$t(m,f)?m[f]:g[f]:f.value;o?At(T)&&pm(T,u):At(T)?T.includes(u)||T.push(u):v?(g[f]=[u],$t(m,f)&&(m[f]=g[f])):(f.value=[u],t.k&&(g[t.k]=f.value))}else v?(g[f]=a,$t(m,f)&&(m[f]=a)):b&&(f.value=a,t.k&&(g[t.k]=a))};a?(E.id=-1,In(E,n)):E()}}}const In=FO;function dR(t){return pR(t)}function pR(t,e){const n=$C();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:a,createText:l,createComment:f,setText:d,setElementText:g,parentNode:m,nextSibling:v,setScopeId:b=cr,insertStaticContent:E}=t,T=(_,A,P,U=null,B=null,tt=null,ot=!1,et=null,N=!!A.dynamicChildren)=>{if(_===A)return;_&&!fo(_,A)&&(U=G(_),oe(_,B,tt,!0),_=null),A.patchFlag===-2&&(N=!1,A.dynamicChildren=null);const{type:k,ref:W,shapeFlag:Q}=A;switch(k){case Af:O(_,A,P,U);break;case lr:x(_,A,P,U);break;case Tl:_==null&&V(A,P,U,ot);break;case pn:Ot(_,A,P,U,B,tt,ot,et,N);break;default:Q&1?$(_,A,P,U,B,tt,ot,et,N):Q&6?Gt(_,A,P,U,B,tt,ot,et,N):(Q&64||Q&128)&&k.process(_,A,P,U,B,tt,ot,et,N,Rt)}W!=null&&B&&_g(W,_&&_.ref,tt,A||_,!A)},O=(_,A,P,U)=>{if(_==null)i(A.el=l(A.children),P,U);else{const B=A.el=_.el;A.children!==_.children&&d(B,A.children)}},x=(_,A,P,U)=>{_==null?i(A.el=f(A.children||""),P,U):A.el=_.el},V=(_,A,P,U)=>{[_.el,_.anchor]=E(_.children,A,P,U,_.el,_.anchor)},C=({el:_,anchor:A},P,U)=>{let B;for(;_&&_!==A;)B=v(_),i(_,P,U),_=B;i(A,P,U)},M=({el:_,anchor:A})=>{let P;for(;_&&_!==A;)P=v(_),o(_),_=P;o(A)},$=(_,A,P,U,B,tt,ot,et,N)=>{ot=ot||A.type==="svg",_==null?R(A,P,U,B,tt,ot,et,N):ht(_,A,B,tt,ot,et,N)},R=(_,A,P,U,B,tt,ot,et)=>{let N,k;const{type:W,props:Q,shapeFlag:rt,transition:it,dirs:at}=_;if(N=_.el=a(_.type,tt,Q&&Q.is,Q),rt&8?g(N,_.children):rt&16&&D(_.children,N,null,U,B,tt&&W!=="foreignObject",ot,et),at&&oo(_,null,U,"created"),Q){for(const xt in Q)xt!=="value"&&!_l(xt)&&u(N,xt,null,Q[xt],tt,_.children,U,B,F);"value"in Q&&u(N,"value",null,Q.value),(k=Q.onVnodeBeforeMount)&&Sr(k,U,_)}X(N,_,_.scopeId,ot,U),at&&oo(_,null,U,"beforeMount");const st=(!B||B&&!B.pendingBranch)&&it&&!it.persisted;st&&it.beforeEnter(N),i(N,A,P),((k=Q&&Q.onVnodeMounted)||st||at)&&In(()=>{k&&Sr(k,U,_),st&&it.enter(N),at&&oo(_,null,U,"mounted")},B)},X=(_,A,P,U,B)=>{if(P&&b(_,P),U)for(let tt=0;tt<U.length;tt++)b(_,U[tt]);if(B){let tt=B.subTree;if(A===tt){const ot=B.vnode;X(_,ot,ot.scopeId,ot.slotScopeIds,B.parent)}}},D=(_,A,P,U,B,tt,ot,et,N=0)=>{for(let k=N;k<_.length;k++){const W=_[k]=et?di(_[k]):Nr(_[k]);T(null,W,A,P,U,B,tt,ot,et)}},ht=(_,A,P,U,B,tt,ot)=>{const et=A.el=_.el;let{patchFlag:N,dynamicChildren:k,dirs:W}=A;N|=_.patchFlag&16;const Q=_.props||ae,rt=A.props||ae;let it;P&&so(P,!1),(it=rt.onVnodeBeforeUpdate)&&Sr(it,P,A,_),W&&oo(A,_,P,"beforeUpdate"),P&&so(P,!0);const at=B&&A.type!=="foreignObject";if(k?S(_.dynamicChildren,k,et,P,U,at,tt):ot||vt(_,A,et,null,P,U,at,tt,!1),N>0){if(N&16)St(et,A,Q,rt,P,U,B);else if(N&2&&Q.class!==rt.class&&u(et,"class",null,rt.class,B),N&4&&u(et,"style",Q.style,rt.style,B),N&8){const st=A.dynamicProps;for(let xt=0;xt<st.length;xt++){const Lt=st[xt],Ye=Q[Lt],cn=rt[Lt];(cn!==Ye||Lt==="value")&&u(et,Lt,Ye,cn,B,_.children,P,U,F)}}N&1&&_.children!==A.children&&g(et,A.children)}else!ot&&k==null&&St(et,A,Q,rt,P,U,B);((it=rt.onVnodeUpdated)||W)&&In(()=>{it&&Sr(it,P,A,_),W&&oo(A,_,P,"updated")},U)},S=(_,A,P,U,B,tt,ot)=>{for(let et=0;et<A.length;et++){const N=_[et],k=A[et],W=N.el&&(N.type===pn||!fo(N,k)||N.shapeFlag&70)?m(N.el):P;T(N,k,W,null,U,B,tt,ot,!0)}},St=(_,A,P,U,B,tt,ot)=>{if(P!==U){if(P!==ae)for(const et in P)!_l(et)&&!(et in U)&&u(_,et,P[et],null,ot,A.children,B,tt,F);for(const et in U){if(_l(et))continue;const N=U[et],k=P[et];N!==k&&et!=="value"&&u(_,et,k,N,ot,A.children,B,tt,F)}"value"in U&&u(_,"value",P.value,U.value)}},Ot=(_,A,P,U,B,tt,ot,et,N)=>{const k=A.el=_?_.el:l(""),W=A.anchor=_?_.anchor:l("");let{patchFlag:Q,dynamicChildren:rt,slotScopeIds:it}=A;it&&(et=et?et.concat(it):it),_==null?(i(k,P,U),i(W,P,U),D(A.children,P,W,B,tt,ot,et,N)):Q>0&&Q&64&&rt&&_.dynamicChildren?(S(_.dynamicChildren,rt,P,B,tt,ot,et),(A.key!=null||B&&A===B.subTree)&&ZI(_,A,!0)):vt(_,A,P,W,B,tt,ot,et,N)},Gt=(_,A,P,U,B,tt,ot,et,N)=>{A.slotScopeIds=et,_==null?A.shapeFlag&512?B.ctx.activate(A,P,U,ot,N):Wt(A,P,U,B,tt,ot,N):Ut(_,A,N)},Wt=(_,A,P,U,B,tt,ot)=>{const et=_.component=_R(_,U,B);if(_f(_)&&(et.ctx.renderer=Rt),IR(et),et.asyncDep){if(B&&B.registerDep(et,Nt),!_.el){const N=et.subTree=Dt(lr);x(null,N,A,P)}return}Nt(et,_,A,P,B,tt,ot)},Ut=(_,A,P)=>{const U=A.component=_.component;if(PO(_,A,P))if(U.asyncDep&&!U.asyncResolved){kt(U,A,P);return}else U.next=A,kO(U.update),U.update();else A.el=_.el,U.vnode=A},Nt=(_,A,P,U,B,tt,ot)=>{const et=()=>{if(_.isMounted){let{next:W,bu:Q,u:rt,parent:it,vnode:at}=_,st=W,xt;so(_,!1),W?(W.el=at.el,kt(_,W,ot)):W=at,Q&&Vp(Q),(xt=W.props&&W.props.onVnodeBeforeUpdate)&&Sr(xt,it,W,at),so(_,!0);const Lt=jp(_),Ye=_.subTree;_.subTree=Lt,T(Ye,Lt,m(Ye.el),G(Ye),_,B,tt),W.el=Lt.el,st===null&&LO(_,Lt.el),rt&&In(rt,B),(xt=W.props&&W.props.onVnodeUpdated)&&In(()=>Sr(xt,it,W,at),B)}else{let W;const{el:Q,props:rt}=A,{bm:it,m:at,parent:st}=_,xt=Il(A);if(so(_,!1),it&&Vp(it),!xt&&(W=rt&&rt.onVnodeBeforeMount)&&Sr(W,st,A),so(_,!0),Q&&bt){const Lt=()=>{_.subTree=jp(_),bt(Q,_.subTree,_,B,null)};xt?A.type.__asyncLoader().then(()=>!_.isUnmounted&&Lt()):Lt()}else{const Lt=_.subTree=jp(_);T(null,Lt,P,U,_,B,tt),A.el=Lt.el}if(at&&In(at,B),!xt&&(W=rt&&rt.onVnodeMounted)){const Lt=A;In(()=>Sr(W,st,Lt),B)}(A.shapeFlag&256||st&&Il(st.vnode)&&st.vnode.shapeFlag&256)&&_.a&&In(_.a,B),_.isMounted=!0,A=P=U=null}},N=_.effect=new ym(et,()=>Sm(k),_.scope),k=_.update=()=>N.run();k.id=_.uid,so(_,!0),k()},kt=(_,A,P)=>{A.component=_;const U=_.vnode.props;_.vnode=A,_.next=null,uR(_,A.props,U,P),lR(_,A.children,P),Zs(),$b(),tu()},vt=(_,A,P,U,B,tt,ot,et,N=!1)=>{const k=_&&_.children,W=_?_.shapeFlag:0,Q=A.children,{patchFlag:rt,shapeFlag:it}=A;if(rt>0){if(rt&128){fe(k,Q,P,U,B,tt,ot,et,N);return}else if(rt&256){be(k,Q,P,U,B,tt,ot,et,N);return}}it&8?(W&16&&F(k,B,tt),Q!==k&&g(P,Q)):W&16?it&16?fe(k,Q,P,U,B,tt,ot,et,N):F(k,B,tt,!0):(W&8&&g(P,""),it&16&&D(Q,P,U,B,tt,ot,et,N))},be=(_,A,P,U,B,tt,ot,et,N)=>{_=_||Is,A=A||Is;const k=_.length,W=A.length,Q=Math.min(k,W);let rt;for(rt=0;rt<Q;rt++){const it=A[rt]=N?di(A[rt]):Nr(A[rt]);T(_[rt],it,P,null,B,tt,ot,et,N)}k>W?F(_,B,tt,!0,!1,Q):D(A,P,U,B,tt,ot,et,N,Q)},fe=(_,A,P,U,B,tt,ot,et,N)=>{let k=0;const W=A.length;let Q=_.length-1,rt=W-1;for(;k<=Q&&k<=rt;){const it=_[k],at=A[k]=N?di(A[k]):Nr(A[k]);if(fo(it,at))T(it,at,P,null,B,tt,ot,et,N);else break;k++}for(;k<=Q&&k<=rt;){const it=_[Q],at=A[rt]=N?di(A[rt]):Nr(A[rt]);if(fo(it,at))T(it,at,P,null,B,tt,ot,et,N);else break;Q--,rt--}if(k>Q){if(k<=rt){const it=rt+1,at=it<W?A[it].el:U;for(;k<=rt;)T(null,A[k]=N?di(A[k]):Nr(A[k]),P,at,B,tt,ot,et,N),k++}}else if(k>rt)for(;k<=Q;)oe(_[k],B,tt,!0),k++;else{const it=k,at=k,st=new Map;for(k=at;k<=rt;k++){const me=A[k]=N?di(A[k]):Nr(A[k]);me.key!=null&&st.set(me.key,k)}let xt,Lt=0;const Ye=rt-at+1;let cn=!1,ge=0;const Jr=new Array(Ye);for(k=0;k<Ye;k++)Jr[k]=0;for(k=it;k<=Q;k++){const me=_[k];if(Lt>=Ye){oe(me,B,tt,!0);continue}let Cn;if(me.key!=null)Cn=st.get(me.key);else for(xt=at;xt<=rt;xt++)if(Jr[xt-at]===0&&fo(me,A[xt])){Cn=xt;break}Cn===void 0?oe(me,B,tt,!0):(Jr[Cn-at]=k+1,Cn>=ge?ge=Cn:cn=!0,T(me,A[Cn],P,null,B,tt,ot,et,N),Lt++)}const mr=cn?gR(Jr):Is;for(xt=mr.length-1,k=Ye-1;k>=0;k--){const me=at+k,Cn=A[me],Ue=me+1<W?A[me+1].el:U;Jr[k]===0?T(null,Cn,P,Ue,B,tt,ot,et,N):cn&&(xt<0||k!==mr[xt]?he(Cn,P,Ue,2):xt--)}}},he=(_,A,P,U,B=null)=>{const{el:tt,type:ot,transition:et,children:N,shapeFlag:k}=_;if(k&6){he(_.component.subTree,A,P,U);return}if(k&128){_.suspense.move(A,P,U);return}if(k&64){ot.move(_,A,P,Rt);return}if(ot===pn){i(tt,A,P);for(let Q=0;Q<N.length;Q++)he(N[Q],A,P,U);i(_.anchor,A,P);return}if(ot===Tl){C(_,A,P);return}if(U!==2&&k&1&&et)if(U===0)et.beforeEnter(tt),i(tt,A,P),In(()=>et.enter(tt),B);else{const{leave:Q,delayLeave:rt,afterLeave:it}=et,at=()=>i(tt,A,P),st=()=>{Q(tt,()=>{at(),it&&it()})};rt?rt(tt,at,st):st()}else i(tt,A,P)},oe=(_,A,P,U=!1,B=!1)=>{const{type:tt,props:ot,ref:et,children:N,dynamicChildren:k,shapeFlag:W,patchFlag:Q,dirs:rt}=_;if(et!=null&&_g(et,null,P,_,!0),W&256){A.ctx.deactivate(_);return}const it=W&1&&rt,at=!Il(_);let st;if(at&&(st=ot&&ot.onVnodeBeforeUnmount)&&Sr(st,A,_),W&6)q(_.component,P,U);else{if(W&128){_.suspense.unmount(P,U);return}it&&oo(_,null,A,"beforeUnmount"),W&64?_.type.remove(_,A,P,B,Rt,U):k&&(tt!==pn||Q>0&&Q&64)?F(k,A,P,!1,!0):(tt===pn&&Q&384||!B&&W&16)&&F(N,A,P),U&&an(_)}(at&&(st=ot&&ot.onVnodeUnmounted)||it)&&In(()=>{st&&Sr(st,A,_),it&&oo(_,null,A,"unmounted")},P)},an=_=>{const{type:A,el:P,anchor:U,transition:B}=_;if(A===pn){Qe(P,U);return}if(A===Tl){M(_);return}const tt=()=>{o(P),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(_.shapeFlag&1&&B&&!B.persisted){const{leave:ot,delayLeave:et}=B,N=()=>ot(P,tt);et?et(_.el,tt,N):N()}else tt()},Qe=(_,A)=>{let P;for(;_!==A;)P=v(_),o(_),_=P;o(A)},q=(_,A,P)=>{const{bum:U,scope:B,update:tt,subTree:ot,um:et}=_;U&&Vp(U),B.stop(),tt&&(tt.active=!1,oe(ot,_,A,P)),et&&In(et,A),In(()=>{_.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},F=(_,A,P,U=!1,B=!1,tt=0)=>{for(let ot=tt;ot<_.length;ot++)oe(_[ot],A,P,U,B)},G=_=>_.shapeFlag&6?G(_.component.subTree):_.shapeFlag&128?_.suspense.next():v(_.anchor||_.el),J=(_,A,P)=>{_==null?A._vnode&&oe(A._vnode,null,null,!0):T(A._vnode||null,_,A,null,null,null,P),$b(),LI(),A._vnode=_},Rt={p:T,um:oe,m:he,r:an,mt:Wt,mc:D,pc:vt,pbc:S,n:G,o:t};let qt,bt;return e&&([qt,bt]=e(Rt)),{render:J,hydrate:qt,createApp:hR(J,qt)}}function so({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function ZI(t,e,n=!1){const i=t.children,o=e.children;if(At(i)&&At(o))for(let u=0;u<i.length;u++){const a=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=di(o[u]),l.el=a.el),n||ZI(a,l)),l.type===Af&&(l.el=a.el)}}function gR(t){const e=t.slice(),n=[0];let i,o,u,a,l;const f=t.length;for(i=0;i<f;i++){const d=t[i];if(d!==0){if(o=n[n.length-1],t[o]<d){e[i]=o,n.push(i);continue}for(u=0,a=n.length-1;u<a;)l=u+a>>1,t[n[l]]<d?u=l+1:a=l;d<t[n[u]]&&(u>0&&(e[i]=n[u-1]),n[u]=i)}}for(u=n.length,a=n[u-1];u-- >0;)n[u]=a,a=e[a];return n}const mR=t=>t.__isTeleport,pn=Symbol(void 0),Af=Symbol(void 0),lr=Symbol(void 0),Tl=Symbol(void 0),Zu=[];let ar=null;function en(t=!1){Zu.push(ar=t?null:[])}function vR(){Zu.pop(),ar=Zu[Zu.length-1]||null}let ga=1;function Zb(t){ga+=t}function tT(t){return t.dynamicChildren=ga>0?ar||Is:null,vR(),ga>0&&ar&&ar.push(t),t}function Vn(t,e,n,i,o,u){return tT(wt(t,e,n,i,o,u,!0))}function Ig(t,e,n,i,o){return tT(Dt(t,e,n,i,o,!0))}function Tg(t){return t?t.__v_isVNode===!0:!1}function fo(t,e){return t.type===e.type&&t.key===e.key}const Nf="__vInternal",eT=({key:t})=>t??null,Sl=({ref:t,ref_key:e,ref_for:n})=>t!=null?xe(t)||ie(t)||Pt(t)?{i:Qn,r:t,k:e,f:!!n}:t:null;function wt(t,e=null,n=null,i=0,o=null,u=t===pn?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&eT(e),ref:e&&Sl(e),scopeId:VI,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Qn};return l?(Rm(f,n),u&128&&t.normalize(f)):n&&(f.shapeFlag|=xe(n)?8:16),ga>0&&!a&&ar&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&ar.push(f),f}const Dt=yR;function yR(t,e=null,n=null,i=0,o=null,u=!1){if((!t||t===KI)&&(t=lr),Tg(t)){const l=Ci(t,e,!0);return n&&Rm(l,n),ga>0&&!u&&ar&&(l.shapeFlag&6?ar[ar.indexOf(t)]=l:ar.push(l)),l.patchFlag|=-2,l}if(kR(t)&&(t=t.__vccOpts),e){e=wR(e);let{class:l,style:f}=e;l&&!xe(l)&&(e.class=_i(l)),le(f)&&(NI(f)&&!At(f)&&(f=on({},f)),e.style=hm(f))}const a=xe(t)?1:MO(t)?128:mR(t)?64:le(t)?4:Pt(t)?2:0;return wt(t,e,n,i,o,a,u,!0)}function wR(t){return t?NI(t)||Nf in t?on({},t):t:null}function Ci(t,e,n=!1){const{props:i,ref:o,patchFlag:u,children:a}=t,l=e?rT(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&eT(l),ref:e&&e.ref?n&&o?At(o)?o.concat(Sl(e)):[o,Sl(e)]:Sl(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==pn?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ci(t.ssContent),ssFallback:t.ssFallback&&Ci(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function Al(t=" ",e=0){return Dt(Af,null,t,e)}function Om(t,e){const n=Dt(Tl,null,t);return n.staticCount=e,n}function nT(t="",e=!1){return e?(en(),Ig(lr,null,t)):Dt(lr,null,t)}function Nr(t){return t==null||typeof t=="boolean"?Dt(lr):At(t)?Dt(pn,null,t.slice()):typeof t=="object"?di(t):Dt(Af,null,String(t))}function di(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ci(t)}function Rm(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(At(e))n=16;else if(typeof e=="object")if(i&65){const o=e.default;o&&(o._c&&(o._d=!1),Rm(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(Nf in e)?e._ctx=Qn:o===3&&Qn&&(Qn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Pt(e)?(e={default:e,_ctx:Qn},n=32):(e=String(e),i&64?(n=16,e=[Al(e)]):n=8);t.children=e,t.shapeFlag|=n}function rT(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const o in i)if(o==="class")e.class!==i.class&&(e.class=_i([e.class,i.class]));else if(o==="style")e.style=hm([e.style,i.style]);else if(gf(o)){const u=e[o],a=i[o];a&&u!==a&&!(At(u)&&u.includes(a))&&(e[o]=u?[].concat(u,a):a)}else o!==""&&(e[o]=i[o])}return e}function Sr(t,e,n,i=null){Yn(t,e,7,[n,i])}const bR=JI();let ER=0;function _R(t,e,n){const i=t.type,o=(e?e.appContext:t.appContext)||bR,u={uid:ER++,vnode:t,type:i,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new pI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:WI(i,o),emitsOptions:FI(i,o),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:i.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=e?e.root:u,u.emit=OO.bind(null,u),t.ce&&t.ce(u),u}let Fe=null;const kf=()=>Fe||Qn,xs=t=>{Fe=t,t.scope.on()},bo=()=>{Fe&&Fe.scope.off(),Fe=null};function iT(t){return t.vnode.shapeFlag&4}let ma=!1;function IR(t,e=!1){ma=e;const{props:n,children:i}=t.vnode,o=iT(t);sR(t,n,o,e),cR(t,i);const u=o?TR(t,e):void 0;return ma=!1,u}function TR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=To(new Proxy(t.ctx,tR));const{setup:i}=n;if(i){const o=t.setupContext=i.length>1?AR(t):null;xs(t),Zs();const u=Si(i,t,0,[t.props,o]);if(tu(),bo(),lI(u)){if(u.then(bo,bo),e)return u.then(a=>{tE(t,a,e)}).catch(a=>{bf(a,t,0)});t.asyncDep=u}else tE(t,u,e)}else oT(t,e)}function tE(t,e,n){Pt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:le(e)&&(t.setupState=OI(e)),oT(t,n)}let eE;function oT(t,e,n){const i=t.type;if(!t.render){if(!e&&eE&&!i.render){const o=i.template||xm(t).template;if(o){const{isCustomElement:u,compilerOptions:a}=t.appContext.config,{delimiters:l,compilerOptions:f}=i,d=on(on({isCustomElement:u,delimiters:l},a),f);i.render=eE(o,d)}}t.render=i.render||cr}xs(t),Zs(),eR(t),tu(),bo()}function SR(t){return new Proxy(t.attrs,{get(e,n){return qn(t,"get","$attrs"),e[n]}})}function AR(t){const e=i=>{t.exposed=i||{}};let n;return{get attrs(){return n||(n=SR(t))},slots:t.slots,emit:t.emit,expose:e}}function Dm(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(OI(To(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ju)return Ju[n](t)},has(e,n){return n in e||n in Ju}}))}function NR(t,e=!0){return Pt(t)?t.displayName||t.name:t.name||e&&t.__name}function kR(t){return Pt(t)&&"__vccOpts"in t}const Qt=(t,e)=>SO(t,e,ma);function Cs(t,e,n){const i=arguments.length;return i===2?le(e)&&!At(e)?Tg(e)?Dt(t,null,[e]):Dt(t,e):Dt(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Tg(n)&&(n=[n]),Dt(t,e,n))}const xR=Symbol(""),CR=()=>Xn(xR),OR="3.2.45",RR="http://www.w3.org/2000/svg",ho=typeof document<"u"?document:null,nE=ho&&ho.createElement("template"),DR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const o=e?ho.createElementNS(RR,t):ho.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:t=>ho.createTextNode(t),createComment:t=>ho.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ho.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,o,u){const a=n?n.previousSibling:e.lastChild;if(o&&(o===u||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{nE.innerHTML=i?`<svg>${t}</svg>`:t;const l=nE.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}e.insertBefore(l,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function PR(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function LR(t,e,n){const i=t.style,o=xe(n);if(n&&!o){for(const u in n)Sg(i,u,n[u]);if(e&&!xe(e))for(const u in e)n[u]==null&&Sg(i,u,"")}else{const u=i.display;o?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=u)}}const rE=/\s*!important$/;function Sg(t,e,n){if(At(n))n.forEach(i=>Sg(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=MR(t,e);rE.test(n)?t.setProperty(Js(i),n.replace(rE,""),"important"):t[i]=n}}const iE=["Webkit","Moz","ms"],qp={};function MR(t,e){const n=qp[e];if(n)return n;let i=Rr(e);if(i!=="filter"&&i in t)return qp[e]=i;i=yf(i);for(let o=0;o<iE.length;o++){const u=iE[o]+i;if(u in t)return qp[e]=u}return e}const oE="http://www.w3.org/1999/xlink";function FR(t,e,n,i,o){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(oE,e.slice(6,e.length)):t.setAttributeNS(oE,e,n);else{const u=MC(e);n==null||u&&!uI(n)?t.removeAttribute(e):t.setAttribute(e,u?"":n)}}function VR(t,e,n,i,o,u,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,o,u),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const f=n??"";(t.value!==f||t.tagName==="OPTION")&&(t.value=f),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=uI(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function jR(t,e,n,i){t.addEventListener(e,n,i)}function UR(t,e,n,i){t.removeEventListener(e,n,i)}function BR(t,e,n,i,o=null){const u=t._vei||(t._vei={}),a=u[e];if(i&&a)a.value=i;else{const[l,f]=qR(e);if(i){const d=u[e]=HR(i,o);jR(t,l,d,f)}else a&&(UR(t,l,a,f),u[e]=void 0)}}const sE=/(?:Once|Passive|Capture)$/;function qR(t){let e;if(sE.test(t)){e={};let i;for(;i=t.match(sE);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Js(t.slice(2)),e]}let $p=0;const $R=Promise.resolve(),KR=()=>$p||($R.then(()=>$p=0),$p=Date.now());function HR(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Yn(zR(i,n.value),e,5,[i])};return n.value=t,n.attached=KR(),n}function zR(t,e){if(At(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>o=>!o._stopped&&i&&i(o))}else return e}const uE=/^on[a-z]/,GR=(t,e,n,i,o=!1,u,a,l,f)=>{e==="class"?PR(t,i,o):e==="style"?LR(t,n,i):gf(e)?dm(e)||BR(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):WR(t,e,i,o))?VR(t,e,i,u,a,l,f):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),FR(t,e,i,o))};function WR(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&uE.test(e)&&Pt(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||uE.test(e)&&xe(n)?!1:e in t}const QR={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};qO.props;const YR=["ctrl","shift","alt","meta"],XR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>YR.some(n=>t[`${n}Key`]&&!e.includes(n))},Vl=(t,e)=>(n,...i)=>{for(let o=0;o<e.length;o++){const u=XR[e[o]];if(u&&u(n,e))return}return t(n,...i)},JR=on({patchProp:GR},DR);let aE;function ZR(){return aE||(aE=dR(JR))}const tD=(...t)=>{const e=ZR().createApp(...t),{mount:n}=e;return e.mount=i=>{const o=eD(i);if(!o)return;const u=e._component;!Pt(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function eD(t){return xe(t)?document.querySelector(t):t}var nD=!1;/*!
  * pinia v2.0.30
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let sT;const xf=t=>sT=t,uT=Symbol();function Ag(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ta;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ta||(ta={}));function rD(){const t=gI(!0),e=t.run(()=>Sn({}));let n=[],i=[];const o=To({install(u){xf(o),o._a=u,u.provide(uT,o),u.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(u){return!this._a&&!nD?i.push(u):n.push(u),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return o}const aT=()=>{};function cE(t,e,n,i=aT){t.push(e);const o=()=>{const u=t.indexOf(e);u>-1&&(t.splice(u,1),i())};return!n&&HC()&&zC(o),o}function fs(t,...e){t.slice().forEach(n=>{n(...e)})}function Ng(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],o=t[n];Ag(o)&&Ag(i)&&t.hasOwnProperty(n)&&!ie(i)&&!Ti(i)?t[n]=Ng(o,i):t[n]=i}return t}const iD=Symbol();function oD(t){return!Ag(t)||!t.hasOwnProperty(iD)}const{assign:pi}=Object;function sD(t){return!!(ie(t)&&t.effect)}function uD(t,e,n,i){const{state:o,actions:u,getters:a}=e,l=n.state.value[t];let f;function d(){l||(n.state.value[t]=o?o():{});const g=_O(n.state.value[t]);return pi(g,u,Object.keys(a||{}).reduce((m,v)=>(m[v]=To(Qt(()=>{xf(n);const b=n._s.get(t);return a[v].call(b,b)})),m),{}))}return f=cT(t,d,e,n,i,!0),f.$reset=function(){const m=o?o():{};this.$patch(v=>{pi(v,m)})},f}function cT(t,e,n={},i,o,u){let a;const l=pi({actions:{}},n),f={deep:!0};let d,g,m=To([]),v=To([]),b;const E=i.state.value[t];!u&&!E&&(i.state.value[t]={}),Sn({});let T;function O(X){let D;d=g=!1,typeof X=="function"?(X(i.state.value[t]),D={type:ta.patchFunction,storeId:t,events:b}):(Ng(i.state.value[t],X),D={type:ta.patchObject,payload:X,storeId:t,events:b});const ht=T=Symbol();Ei().then(()=>{T===ht&&(d=!0)}),g=!0,fs(m,D,i.state.value[t])}const x=aT;function V(){a.stop(),m=[],v=[],i._s.delete(t)}function C(X,D){return function(){xf(i);const ht=Array.from(arguments),S=[],St=[];function Ot(Ut){S.push(Ut)}function Gt(Ut){St.push(Ut)}fs(v,{args:ht,name:X,store:$,after:Ot,onError:Gt});let Wt;try{Wt=D.apply(this&&this.$id===t?this:$,ht)}catch(Ut){throw fs(St,Ut),Ut}return Wt instanceof Promise?Wt.then(Ut=>(fs(S,Ut),Ut)).catch(Ut=>(fs(St,Ut),Promise.reject(Ut))):(fs(S,Wt),Wt)}}const M={_p:i,$id:t,$onAction:cE.bind(null,v),$patch:O,$reset:x,$subscribe(X,D={}){const ht=cE(m,X,D.detached,()=>S()),S=a.run(()=>He(()=>i.state.value[t],St=>{(D.flush==="sync"?g:d)&&X({storeId:t,type:ta.direct,events:b},St)},pi({},f,D)));return ht},$dispose:V},$=Qr(M);i._s.set(t,$);const R=i._e.run(()=>(a=gI(),a.run(()=>e())));for(const X in R){const D=R[X];if(ie(D)&&!sD(D)||Ti(D))u||(E&&oD(D)&&(ie(D)?D.value=E[X]:Ng(D,E[X])),i.state.value[t][X]=D);else if(typeof D=="function"){const ht=C(X,D);R[X]=ht,l.actions[X]=D}}return pi($,R),pi(zt($),R),Object.defineProperty($,"$state",{get:()=>i.state.value[t],set:X=>{O(D=>{pi(D,X)})}}),i._p.forEach(X=>{pi($,a.run(()=>X({store:$,app:i._a,pinia:i,options:l})))}),E&&u&&n.hydrate&&n.hydrate($.$state,E),d=!0,g=!0,$}function lT(t,e,n){let i,o;const u=typeof e=="function";typeof t=="string"?(i=t,o=u?n:e):(o=t,i=t.id);function a(l,f){const d=kf();return l=l||d&&Xn(uT,null),l&&xf(l),l=sT,l._s.has(i)||(u?cT(i,e,o,l):uD(i,o,l)),l._s.get(i)}return a.$id=i,a}let aD="Store";function cD(...t){return t.reduce((e,n)=>(e[n.$id+aD]=function(){return n(this.$pinia)},e),{})}function lD(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]=function(){return t(this.$pinia)[i]},n),{}):Object.keys(e).reduce((n,i)=>(n[i]=function(){const o=t(this.$pinia),u=e[i];return typeof u=="function"?u.call(this,o):o[u]},n),{})}function fT(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]=function(...o){return t(this.$pinia)[i](...o)},n),{}):Object.keys(e).reduce((n,i)=>(n[i]=function(...o){return t(this.$pinia)[e[i]](...o)},n),{})}function hT(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]={get(){return t(this.$pinia)[i]},set(o){return t(this.$pinia)[i]=o}},n),{}):Object.keys(e).reduce((n,i)=>(n[i]={get(){return t(this.$pinia)[e[i]]},set(o){return t(this.$pinia)[e[i]]=o}},n),{})}const kg=lT("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(t){return t.isOpen?"":"hidden"}}});var xg=function(t,e){return xg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},xg(t,e)};function yt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var va=function(){return va=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},va.apply(this,arguments)};function z(t,e,n,i){function o(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function l(g){try{d(i.next(g))}catch(m){a(m)}}function f(g){try{d(i.throw(g))}catch(m){a(m)}}function d(g){g.done?u(g.value):o(g.value).then(l,f)}d((i=i.apply(t,e||[])).next())})}function K(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(g){return f([d,g])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(g){d=[6,g],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Kp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fl(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),o,u=[],a;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return u}function we(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,u;i<o;i++)(u||!(i in e))&&(u||(u=Array.prototype.slice.call(e,0,i)),u[i]=e[i]);return t.concat(u||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dT=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},fD=function(t){for(var e=[],n=0,i=0;n<t.length;){var o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=t[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=t[n++],a=t[n++],l=t[n++],f=((o&7)<<18|(u&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{var u=t[n++],a=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|a&63)}}return e.join("")},hD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<t.length;o+=3){var u=t[o],a=o+1<t.length,l=a?t[o+1]:0,f=o+2<t.length,d=f?t[o+2]:0,g=u>>2,m=(u&3)<<4|l>>4,v=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(v=64)),i.push(n[g],n[m],n[v],n[b])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dT(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<t.length;){var u=n[t.charAt(o++)],a=o<t.length,l=a?n[t.charAt(o)]:0;++o;var f=o<t.length,d=f?n[t.charAt(o)]:64;++o;var g=o<t.length,m=g?n[t.charAt(o)]:64;if(++o,u==null||l==null||d==null||m==null)throw Error();var v=u<<2|l>>4;if(i.push(v),d!==64){var b=l<<4&240|d>>2;if(i.push(b),m!==64){var E=d<<6&192|m;i.push(E)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},dD=function(t){var e=dT(t);return hD.encodeByteArray(e,!0)},lE=function(t){return dD(t).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){return ya(void 0,t)}function ya(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)!e.hasOwnProperty(i)||!gD(i)||(t[i]=ya(t[i],e[i]));return t}function gD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mD=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){e.resolve=n,e.reject=i})}return t.prototype.wrapCallback=function(e){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(i):e(i,o))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=va({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[lE(JSON.stringify(n)),lE(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(So())}function pT(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wD(){return typeof self=="object"&&self.self===self}function bD(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ED(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _D(){return So().indexOf("Electron/")>=0}function ID(){var t=So();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TD(){return So().indexOf("MSAppHost/")>=0}function SD(){return!pT()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AD="FirebaseError",ND=function(t){yt(e,t);function e(n,i,o){var u=t.call(this,i)||this;return u.code=n,u.customData=o,u.name=AD,Object.setPrototypeOf(u,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,Pm.prototype.create),u}return e}(Error),Pm=function(){function t(e,n,i){this.service=e,this.serviceName=n,this.errors=i}return t.prototype.create=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+e,a=this.errors[e],l=a?kD(a,o):"Error",f=this.serviceName+": "+l+" ("+u+").",d=new ND(u,f,o);return d},t}();function kD(t,e){return t.replace(xD,function(n,i){var o=e[i];return o!=null?String(o):"<"+i+"?>"})}var xD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function CD(t,e){var n=new OD(t,e);return n.subscribe.bind(n)}var OD=function(){function t(e,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(i)}).catch(function(o){i.error(o)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,i){var o=this,u;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");RD(e,["next","error","complete"])?u=e:u={next:e,error:n,complete:i},u.next===void 0&&(u.next=Hp),u.error===void 0&&(u.error=Hp),u.complete===void 0&&(u.complete=Hp);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[e]!==void 0)try{n(i.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function RD(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o in t&&typeof t[o]=="function")return!0}return!1}function Hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t){return t&&t._delegate?t._delegate:t}var Cf=function(){function t(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DD=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var i=new mD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,i;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(LD(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}try{for(var o=Kp(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var a=fl(u.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var g=this.getOrInitializeService({instanceIdentifier:d});f.resolve(g)}catch{}}}catch(m){n={error:m}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=co),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return z(this,void 0,void 0,function(){var e;return K(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(we(we([],fl(e.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),fl(e.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=co),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=co),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,i;e===void 0&&(e={});var o=e.options,u=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var f=Kp(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var g=fl(d.value,2),m=g[0],v=g[1],b=this.normalizeInstanceIdentifier(m);a===b&&v.resolve(l)}}catch(E){n={error:E}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},t.prototype.onInit=function(e,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);var a=this.instances.get(o);return a&&e(a,o),function(){u.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var i,o,u=this.onInitCallbacks.get(n);if(u)try{for(var a=Kp(u),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(e,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,i=e.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:PD(n),options:o}),this.instances.set(n,u),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=co),this.component?this.component.multipleInstances?e:co:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function PD(t){return t===co?void 0:t}function LD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MD=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new DD(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function sr(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var u=arguments[e],a=0,l=u.length;a<l;a++,o++)i[o]=u[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uo,Lm=[],Ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ht||(Ht={}));var gT={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},FD=Ht.INFO,VD=(uo={},uo[Ht.DEBUG]="log",uo[Ht.VERBOSE]="log",uo[Ht.INFO]="info",uo[Ht.WARN]="warn",uo[Ht.ERROR]="error",uo),jD=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=new Date().toISOString(),u=VD[e];if(u)console[u].apply(console,sr(["["+o+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},mT=function(){function t(e){this.name=e,this._logLevel=FD,this._logHandler=jD,this._userLogHandler=null,Lm.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Ht))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?gT[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,sr([this,Ht.DEBUG],e)),this._logHandler.apply(this,sr([this,Ht.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,sr([this,Ht.VERBOSE],e)),this._logHandler.apply(this,sr([this,Ht.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,sr([this,Ht.INFO],e)),this._logHandler.apply(this,sr([this,Ht.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,sr([this,Ht.WARN],e)),this._logHandler.apply(this,sr([this,Ht.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,sr([this,Ht.ERROR],e)),this._logHandler.apply(this,sr([this,Ht.ERROR],e))},t}();function UD(t){Lm.forEach(function(e){e.setLogLevel(t)})}function BD(t,e){for(var n=function(a){var l=null;e&&e.level&&(l=gT[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var g=[],m=2;m<arguments.length;m++)g[m-2]=arguments[m];var v=g.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&t({level:Ht[d].toLowerCase(),message:v,args:g,type:f.name})}},i=0,o=Lm;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ai,qD=(ai={},ai["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ai["bad-app-name"]="Illegal App name: '{$appName}",ai["duplicate-app"]="Firebase App named '{$appName}' already exists",ai["app-deleted"]="Firebase App named '{$appName}' already deleted",ai["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ai["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ai),ms=new Pm("app","Firebase",qD),vT="@firebase/app",$D="0.6.30",KD="@firebase/analytics",HD="@firebase/app-check",zD="@firebase/auth",GD="@firebase/database",WD="@firebase/functions",QD="@firebase/installations",YD="@firebase/messaging",XD="@firebase/performance",JD="@firebase/remote-config",ZD="@firebase/storage",tP="@firebase/firestore",eP="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,jl="[DEFAULT]",nP=(Xe={},Xe[vT]="fire-core",Xe[KD]="fire-analytics",Xe[HD]="fire-app-check",Xe[zD]="fire-auth",Xe[GD]="fire-rtdb",Xe[WD]="fire-fn",Xe[QD]="fire-iid",Xe[YD]="fire-fcm",Xe[XD]="fire-perf",Xe[JD]="fire-rc",Xe[ZD]="fire-gcs",Xe[tP]="fire-fst",Xe["fire-js"]="fire-js",Xe[eP]="fire-js-all",Xe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Os=new mT("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nl=function(){function t(e,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=pD(e),this.container=new MD(n.name),this._addComponent(new Cf("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var i;n===void 0&&(n=jl),this.checkDestroyed_();var o=this.container.getProvider(e);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=jl),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Os.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ms.create("app-deleted",{appName:this.name_})},t}();Nl.prototype.name&&Nl.prototype.options||Nl.prototype.delete||console.log("dc");var rP="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t){var e={},n=new Map,i={__esModule:!0,initializeApp:a,app:u,registerVersion:d,setLogLevel:UD,onLog:g,apps:null,SDK_VERSION:rP,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:m}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(v){delete e[v]}function u(v){if(v=v||jl,!fE(e,v))throw ms.create("no-app",{appName:v});return e[v]}u.App=t;function a(v,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var E=b;b={name:E}}var T=b;T.name===void 0&&(T.name=jl);var O=T.name;if(typeof O!="string"||!O)throw ms.create("bad-app-name",{appName:String(O)});if(fE(e,O))throw ms.create("duplicate-app",{appName:O});var x=new t(v,T,i);return e[O]=x,x}function l(){return Object.keys(e).map(function(v){return e[v]})}function f(v){var b=v.name;if(n.has(b))return Os.debug("There were multiple attempts to register component "+b+"."),v.type==="PUBLIC"?i[b]:null;if(n.set(b,v),v.type==="PUBLIC"){var E=function(V){if(V===void 0&&(V=u()),typeof V[b]!="function")throw ms.create("invalid-app-argument",{appName:b});return V[b]()};v.serviceProps!==void 0&&ya(E,v.serviceProps),i[b]=E,t.prototype[b]=function(){for(var V=[],C=0;C<arguments.length;C++)V[C]=arguments[C];var M=this._getService.bind(this,b);return M.apply(this,v.multipleInstances?V:[])}}for(var T=0,O=Object.keys(e);T<O.length;T++){var x=O[T];e[x]._addComponent(v)}return v.type==="PUBLIC"?i[b]:null}function d(v,b,E){var T,O=(T=nP[v])!==null&&T!==void 0?T:v;E&&(O+="-"+E);var x=O.match(/\s|\//),V=b.match(/\s|\//);if(x||V){var C=['Unable to register library "'+O+'" with version "'+b+'":'];x&&C.push('library name "'+O+'" contains illegal characters (whitespace or "/")'),x&&V&&C.push("and"),V&&C.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),Os.warn(C.join(" "));return}f(new Cf(O+"-version",function(){return{library:O,version:b}},"VERSION"))}function g(v,b){if(v!==null&&typeof v!="function")throw ms.create("invalid-log-argument");BD(v,b)}function m(v,b){if(b==="serverAuth")return null;var E=b;return E}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){var t=iP(Nl);t.INTERNAL=va(va({},t.INTERNAL),{createFirebaseNamespace:yT,extendNamespace:e,createSubscribe:CD,ErrorFactory:Pm,deepExtend:ya});function e(n){ya(t,n)}return t}var Mm=yT();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oP=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(sP(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},t}();function sP(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t,e){t.INTERNAL.registerComponent(new Cf("platform-logger",function(n){return new oP(n)},"PRIVATE")),t.registerVersion(vT,$D,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(wD()&&self.firebase!==void 0){Os.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var hE=self.firebase.SDK_VERSION;hE&&hE.indexOf("LITE")>=0&&Os.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var aP=Mm.initializeApp;Mm.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return pT()&&Os.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),aP.apply(void 0,t)};var _t=Mm;uP(_t);var cP="firebase",wT="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_t.registerVersion(cP,wT,"app");_t.SDK_VERSION=wT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var p=r[h];p in c||(c[p]={}),c=c[p]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&e(c,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function a(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(w){this.b=0,this.c=void 0,this.a=[];var I=this.f();try{w(I.resolve,I.reject)}catch(j){I.reject(j)}}function c(){this.a=null}function h(w){return w instanceof s?w:new s(function(I){I(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var I=this;this.c(function(){I.g()})}this.a.push(w)};var p=i.setTimeout;c.prototype.c=function(w){p(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var I=0;I<w.length;++I){var j=w[I];w[I]=null;try{j()}catch(H){this.f(H)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},s.prototype.f=function(){function w(H){return function(It){j||(j=!0,H.call(I,It))}}var I=this,j=!1;return{resolve:w(this.m),reject:w(this.g)}},s.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof s)this.s(w);else{t:switch(typeof w){case"object":var I=w!=null;break t;case"function":I=!0;break t;default:I=!1}I?this.v(w):this.h(w)}},s.prototype.v=function(w){var I=void 0;try{I=w.then}catch(j){this.g(j);return}typeof I=="function"?this.u(I,w):this.h(w)},s.prototype.g=function(w){this.i(2,w)},s.prototype.h=function(w){this.i(1,w)},s.prototype.i=function(w,I){if(this.b!=0)throw Error("Cannot settle("+w+", "+I+"): Promise already settled in state"+this.b);this.b=w,this.c=I,this.l()},s.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)y.b(this.a[w]);this.a=null}};var y=new c;return s.prototype.s=function(w){var I=this.f();w.Ra(I.resolve,I.reject)},s.prototype.u=function(w,I){var j=this.f();try{w.call(I,j.resolve,j.reject)}catch(H){j.reject(H)}},s.prototype.then=function(w,I){function j(Kt,Le){return typeof Kt=="function"?function(jr){try{H(Kt(jr))}catch(Mp){It(Mp)}}:Le}var H,It,Jt=new s(function(Kt,Le){H=Kt,It=Le});return this.Ra(j(w,H),j(I,It)),Jt},s.prototype.catch=function(w){return this.then(void 0,w)},s.prototype.Ra=function(w,I){function j(){switch(H.b){case 1:w(H.c);break;case 2:I(H.c);break;default:throw Error("Unexpected state: "+H.b)}}var H=this;this.a==null?y.b(j):this.a.push(j)},s.resolve=h,s.reject=function(w){return new s(function(I,j){j(w)})},s.race=function(w){return new s(function(I,j){for(var H=a(w),It=H.next();!It.done;It=H.next())h(It.value).Ra(I,j)})},s.all=function(w){var I=a(w),j=I.next();return j.done?h([]):new s(function(H,It){function Jt(jr){return function(Mp){Kt[jr]=Mp,Le--,Le==0&&H(Kt)}}var Kt=[],Le=0;do Kt.push(void 0),Le++,h(j.value).Ra(Jt(Kt.length-1),It),j=I.next();while(!j.done)})},s});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,g=null;function m(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function v(){}function b(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function E(r){var s=b(r);return s=="array"||s=="object"&&typeof r.length=="number"}function T(r){return b(r)=="function"}function O(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function x(r){return Object.prototype.hasOwnProperty.call(r,V)&&r[V]||(r[V]=++C)}var V="closure_uid_"+(1e9*Math.random()>>>0),C=0;function M(r,s,c){return r.call.apply(r.bind,arguments)}function $(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,h),r.apply(s,p)}}return function(){return r.apply(s,arguments)}}function R(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R=M:R=$,R.apply(null,arguments)}function X(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function D(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function ht(r){return r}function S(r,s,c){this.code=Ot+r,this.message=s||Gt[r]||"",this.a=c||null}D(S,Error),S.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},S.prototype.toJSON=function(){return this.w()};function St(r){var s=r&&r.code;return s?new S(s.substring(Ot.length),r.message,r.serverResponse):null}var Ot="auth/",Gt={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Wt={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ut(r){for(var s in Wt)if(Wt[s].id===r)return r=Wt[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var Nt;Nt=Ut("__EID__")?"__EID__":void 0;function kt(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function vt(r){if(Error.captureStackTrace)Error.captureStackTrace(this,vt);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}D(vt,Error),vt.prototype.name="CustomError";function be(r,s){r=r.split("%s");for(var c="",h=r.length-1,p=0;p<h;p++)c+=r[p]+(p<s.length?s[p]:"%s");vt.call(this,c+r[h])}D(be,vt),be.prototype.name="AssertionError";function fe(r,s){throw new be("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function he(r,s){this.c=r,this.f=s,this.b=0,this.a=null}he.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function oe(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function an(){this.b=this.a=null}var Qe=new he(function(){return new F},function(r){r.reset()});an.prototype.add=function(r,s){var c=Qe.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function q(){var r=by,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function F(){this.next=this.b=this.a=null}F.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var G=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},J=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var h=r.length,p=typeof r=="string"?r.split(""):r,y=0;y<h;y++)y in p&&s.call(c,p[y],y,r)};function Rt(r,s){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&s.call(void 0,c[h],h,r)}var qt=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=[],p=0,y=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in y){var I=y[w];s.call(void 0,I,w,r)&&(h[p++]=I)}return h},bt=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=Array(c),p=typeof r=="string"?r.split(""):r,y=0;y<c;y++)y in p&&(h[y]=s.call(void 0,p[y],y,r));return h},_=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<c;p++)if(p in h&&s.call(void 0,h[p],p,r))return!0;return!1};function A(r){t:{for(var s=lk,c=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<c;p++)if(p in h&&s.call(void 0,h[p],p,r)){s=p;break t}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function P(r,s){return 0<=G(r,s)}function U(r,s){s=G(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function B(r,s){var c=0;Rt(r,function(h,p){s.call(void 0,h,p,r)&&Array.prototype.splice.call(r,p,1).length==1&&c++})}function tt(r){return Array.prototype.concat.apply([],arguments)}function ot(r){var s=r.length;if(0<s){for(var c=Array(s),h=0;h<s;h++)c[h]=r[h];return c}return[]}var et=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},N=/&/g,k=/</g,W=/>/g,Q=/"/g,rt=/'/g,it=/\x00/g,at=/[\x00&<>"']/;function st(r,s){return r.indexOf(s)!=-1}function xt(r,s){return r<s?-1:r>s?1:0}var Lt;t:{var Ye=f.navigator;if(Ye){var cn=Ye.userAgent;if(cn){Lt=cn;break t}}Lt=""}function ge(r){return st(Lt,r)}function Jr(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function mr(r){for(var s in r)return!1;return!0}function me(r){var s={},c;for(c in r)s[c]=r[c];return s}var Cn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ue(r,s){for(var c,h,p=1;p<arguments.length;p++){h=arguments[p];for(c in h)r[c]=h[c];for(var y=0;y<Cn.length;y++)c=Cn[y],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function ty(r,s){t:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var p=h;break t}}catch{}p=null}if(p&&typeof p[s]<"u"&&(!r||!(r instanceof p[s])&&(r instanceof p.Location||r instanceof p.Element))){if(O(r))try{var y=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{y="<object could not be stringified>"}else y=r===void 0?"undefined":r===null?"null":typeof r;fe("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,y)}}function vr(r,s){this.a=r===ic&&s||"",this.b=ey}vr.prototype.ta=!0,vr.prototype.sa=function(){return this.a},vr.prototype.toString=function(){return"Const{"+this.a+"}"};function ch(r){return r instanceof vr&&r.constructor===vr&&r.b===ey?r.a:(fe("expected object of type Const, got '"+r+"'"),"type_error:Const")}var ey={},ic={},oc;function ny(){if(oc===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:ht,createScript:ht,createScriptURL:ht})}catch(c){f.console&&f.console.error(c.message)}oc=r}else oc=r}return oc}function qo(r,s){this.a=s===iy?r:""}qo.prototype.ta=!0,qo.prototype.sa=function(){return this.a.toString()},qo.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function ry(r){return r instanceof qo&&r.constructor===qo?r.a:(fe("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function lh(r,s){var c=ch(r);if(!UA.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(jA,function(h,p){if(!Object.prototype.hasOwnProperty.call(s,p))throw Error('Found marker, "'+p+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[p],h instanceof vr?ch(h):encodeURIComponent(String(h))}),BA(r)}var jA=/%{(\w+)}/g,UA=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,iy={};function BA(r){var s=ny();return r=s?s.createScriptURL(r):r,new qo(r,iy)}function wn(r,s){this.a=s===lu?r:""}wn.prototype.ta=!0,wn.prototype.sa=function(){return this.a.toString()},wn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function sc(r){return r instanceof wn&&r.constructor===wn?r.a:(fe("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var qA=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,$A=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,oy=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function sy(r){if(r instanceof wn)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),oy.test(r))r=new wn(r,lu);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match($A);r=s&&qA.test(s[1])?new wn(r,lu):null}return r}function uy(r){return r instanceof wn?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),oy.test(r)||(r="about:invalid#zClosurez"),new wn(r,lu))}var lu={},ay=new wn("about:invalid#zClosurez",lu);function $o(r,s,c){this.a=c===cy?r:""}$o.prototype.ta=!0,$o.prototype.sa=function(){return this.a.toString()},$o.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function KA(r){return r instanceof $o&&r.constructor===$o?r.a:(fe("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var cy={};function HA(r,s){ty(r,"HTMLScriptElement"),r.src=ry(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=m(s.document):(g===null&&(g=m(f.document)),s=g),s&&r.setAttribute("nonce",s)}function ly(r,s,c,h){return r=r instanceof wn?r:uy(r),s=s||f,c=c instanceof vr?ch(c):c||"",s.open(sc(r),c,h,void 0)}function fy(r,s){for(var c=r.split("%s"),h="",p=Array.prototype.slice.call(arguments,1);p.length&&1<c.length;)h+=c.shift()+p.shift();return h+c.join("%s")}function fh(r){return at.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(N,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(k,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(W,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(Q,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(rt,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(it,"&#0;"))),r}function hh(r){return hh[" "](r),r}hh[" "]=v;function zA(r,s){var c=YA;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var GA=ge("Opera"),Zn=ge("Trident")||ge("MSIE"),hy=ge("Edge"),WA=hy||Zn,dy=ge("Gecko")&&!(st(Lt.toLowerCase(),"webkit")&&!ge("Edge"))&&!(ge("Trident")||ge("MSIE"))&&!ge("Edge"),QA=st(Lt.toLowerCase(),"webkit")&&!ge("Edge");function py(){var r=f.document;return r?r.documentMode:void 0}var uc;t:{var dh="",ph=function(){var r=Lt;if(dy)return/rv:([^\);]+)(\)|;)/.exec(r);if(hy)return/Edge\/([\d\.]+)/.exec(r);if(Zn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(QA)return/WebKit\/(\S+)/.exec(r);if(GA)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(ph&&(dh=ph?ph[1]:""),Zn){var gh=py();if(gh!=null&&gh>parseFloat(dh)){uc=String(gh);break t}}uc=dh}var YA={};function gy(r){return zA(r,function(){for(var s=0,c=et(String(uc)).split("."),h=et(String(r)).split("."),p=Math.max(c.length,h.length),y=0;s==0&&y<p;y++){var w=c[y]||"",I=h[y]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],w[0].length==0&&I[0].length==0)break;s=xt(w[1].length==0?0:parseInt(w[1],10),I[1].length==0?0:parseInt(I[1],10))||xt(w[2].length==0,I[2].length==0)||xt(w[2],I[2]),w=w[3],I=I[3]}while(s==0)}return 0<=s})}var mh;if(f.document&&Zn){var my=py();mh=my||parseInt(uc,10)||void 0}else mh=void 0;var Zr=mh;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var XA=!Zn||9<=Number(Zr);function fu(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function vy(r,s){Jr(s,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:yy.hasOwnProperty(h)?r.setAttribute(yy[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var yy={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function JA(r,s,c){var h=arguments,p=document,y=String(h[0]),w=h[1];if(!XA&&w&&(w.name||w.type)){if(y=["<",y],w.name&&y.push(' name="',fh(w.name),'"'),w.type){y.push(' type="',fh(w.type),'"');var I={};Ue(I,w),delete I.type,w=I}y.push(">"),y=y.join("")}return y=ac(p,y),w&&(typeof w=="string"?y.className=w:Array.isArray(w)?y.className=w.join(" "):vy(y,w)),2<h.length&&ZA(p,y,h),y}function ZA(r,s,c){function h(I){I&&s.appendChild(typeof I=="string"?r.createTextNode(I):I)}for(var p=2;p<c.length;p++){var y=c[p];if(!E(y)||O(y)&&0<y.nodeType)h(y);else{t:{if(y&&typeof y.length=="number"){if(O(y)){var w=typeof y.item=="function"||typeof y.item=="string";break t}if(T(y)){w=typeof y.item=="function";break t}}w=!1}J(w?ot(y):y,h)}}}function ac(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function wy(r){f.setTimeout(function(){throw r},0)}var vh;function tN(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ge("Presto")&&(r=function(){var p=ac(document,"IFRAME");p.style.display="none",document.documentElement.appendChild(p);var y=p.contentWindow;p=y.document,p.open(),p.close();var w="callImmediate"+Math.random(),I=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;p=R(function(j){(I=="*"||j.origin==I)&&j.data==w&&this.port1.onmessage()},this),y.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(w,I)}}}),typeof r<"u"&&!ge("Trident")&&!ge("MSIE")){var s=new r,c={},h=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var p=c.Hb;c.Hb=null,p()}},function(p){h.next={Hb:p},h=h.next,s.port2.postMessage(0)}}return function(p){f.setTimeout(p,0)}}function cc(r,s){lc||eN(),yh||(lc(),yh=!0),by.add(r,s)}var lc;function eN(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);lc=function(){r.then(Ey)}}else lc=function(){var s=Ey;!T(f.setImmediate)||f.Window&&f.Window.prototype&&!ge("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(vh||(vh=tN()),vh(s)):f.setImmediate(s)}}var yh=!1,by=new an;function Ey(){for(var r;r=q();){try{r.a.call(r.b)}catch(s){wy(s)}oe(Qe,r)}yh=!1}function Ft(r,s){if(this.a=Ui,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=v)try{var c=this;r.call(s,function(h){Bi(c,hu,h)},function(h){if(!(h instanceof Ko))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Bi(c,Lr,h)})}catch(h){Bi(this,Lr,h)}}var Ui=0,hu=2,Lr=3;function _y(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_y.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Iy=new he(function(){return new _y},function(r){r.reset()});function wh(r,s,c){var h=Iy.get();return h.g=r,h.b=s,h.f=c,h}function mt(r){if(r instanceof Ft)return r;var s=new Ft(v);return Bi(s,hu,r),s}function se(r){return new Ft(function(s,c){c(r)})}function Ty(r,s,c){ky(r,s,c,null)||cc(X(s,r))}function nN(r){return new Ft(function(s,c){var h=r.length,p=[];if(h)for(var y=function(H,It){h--,p[H]=It,h==0&&s(p)},w=function(H){c(H)},I=0,j;I<r.length;I++)j=r[I],Ty(j,X(y,I),w);else s(p)})}function Sy(r){return new Ft(function(s){var c=r.length,h=[];if(c)for(var p=function(I,j,H){c--,h[I]=j?{Qb:!0,value:H}:{Qb:!1,reason:H},c==0&&s(h)},y=0,w;y<r.length;y++)w=r[y],Ty(w,X(p,y,!0),X(p,y,!1));else s(h)})}Ft.prototype.then=function(r,s,c){return Ny(this,T(r)?r:null,T(s)?s:null,c)},Ft.prototype.$goog_Thenable=!0,t=Ft.prototype,t.oa=function(r,s){return r=wh(r,r,s),r.c=!0,bh(this,r),this},t.o=function(r,s){return Ny(this,null,r,s)},t.cancel=function(r){if(this.a==Ui){var s=new Ko(r);cc(function(){Ay(this,s)},this)}};function Ay(r,s){if(r.a==Ui)if(r.c){var c=r.c;if(c.b){for(var h=0,p=null,y=null,w=c.b;w&&(w.c||(h++,w.a==r&&(p=w),!(p&&1<h)));w=w.next)p||(y=w);p&&(c.a==Ui&&h==1?Ay(c,s):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):Cy(c),Oy(c,p,Lr,s)))}r.c=null}else Bi(r,Lr,s)}function bh(r,s){r.b||r.a!=hu&&r.a!=Lr||xy(r),r.f?r.f.next=s:r.b=s,r.f=s}function Ny(r,s,c,h){var p=wh(null,null,null);return p.a=new Ft(function(y,w){p.g=s?function(I){try{var j=s.call(h,I);y(j)}catch(H){w(H)}}:y,p.b=c?function(I){try{var j=c.call(h,I);j===void 0&&I instanceof Ko?w(I):y(j)}catch(H){w(H)}}:w}),p.a.c=r,bh(r,p),p.a}t.$c=function(r){this.a=Ui,Bi(this,hu,r)},t.ad=function(r){this.a=Ui,Bi(this,Lr,r)};function Bi(r,s,c){r.a==Ui&&(r===c&&(s=Lr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,ky(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,xy(r),s!=Lr||c instanceof Ko||iN(r,c)))}function ky(r,s,c,h){if(r instanceof Ft)return bh(r,wh(s||v,c||null,h)),!0;if(kt(r))return r.then(s,c,h),!0;if(O(r))try{var p=r.then;if(T(p))return rN(r,p,s,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function rN(r,s,c,h,p){function y(j){I||(I=!0,h.call(p,j))}function w(j){I||(I=!0,c.call(p,j))}var I=!1;try{s.call(r,w,y)}catch(j){y(j)}}function xy(r){r.h||(r.h=!0,cc(r.gc,r))}function Cy(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}t.gc=function(){for(var r;r=Cy(this);)Oy(this,r,this.a,this.i);this.h=!1};function Oy(r,s,c,h){if(c==Lr&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,Ry(s,c,h);else try{s.c?s.g.call(s.f):Ry(s,c,h)}catch(p){Dy.call(null,p)}oe(Iy,s)}function Ry(r,s,c){s==hu?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function iN(r,s){r.g=!0,cc(function(){r.g&&Dy.call(null,s)})}var Dy=wy;function Ko(r){vt.call(this,r)}D(Ko,vt),Ko.prototype.name="cancel";function fc(){this.ya=this.ya,this.pa=this.pa}var oN=0;fc.prototype.ya=!1;function Py(r){!r.ya&&(r.ya=!0,r.Da(),oN!=0)&&x(r)}fc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var sN=Object.freeze||function(r){return r},Ly=!Zn||9<=Number(Zr),uN=Zn&&!gy("9"),aN=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",v,s),f.removeEventListener("test",v,s)}catch{}return r}();function bn(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}bn.prototype.preventDefault=function(){this.defaultPrevented=!0};function qi(r,s){if(bn.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(dy){t:{try{hh(s.nodeName);var p=!0;break t}catch{}p=!1}p||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:cN[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}D(qi,bn);var cN=sN({2:"touch",3:"pen",4:"mouse"});qi.prototype.preventDefault=function(){qi.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,uN)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},qi.prototype.g=function(){return this.a};var du="closure_listenable_"+(1e6*Math.random()|0),lN=0;function fN(r,s,c,h,p){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.Wa=p,this.key=++lN,this.wa=this.Qa=!1}function hc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function dc(r){this.src=r,this.a={},this.b=0}dc.prototype.add=function(r,s,c,h,p){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.b++);var w=_h(r,s,h,p);return-1<w?(s=r[w],c||(s.Qa=!1)):(s=new fN(s,this.src,y,!!h,p),s.Qa=c,r.push(s)),s};function Eh(r,s){var c=s.type;c in r.a&&U(r.a[c],s)&&(hc(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function _h(r,s,c,h){for(var p=0;p<r.length;++p){var y=r[p];if(!y.wa&&y.listener==s&&y.capture==!!c&&y.Wa==h)return p}return-1}var Ih="closure_lm_"+(1e6*Math.random()|0),Th={};function Kn(r,s,c,h,p){if(h&&h.once)Sh(r,s,c,h,p);else if(Array.isArray(s))for(var y=0;y<s.length;y++)Kn(r,s[y],c,h,p);else c=Nh(c),r&&r[du]?By(r,s,c,O(h)?!!h.capture:!!h,p):My(r,s,c,!1,h,p)}function My(r,s,c,h,p,y){if(!s)throw Error("Invalid event type");var w=O(p)?!!p.capture:!!p,I=pc(r);if(I||(r[Ih]=I=new dc(r)),c=I.add(s,c,h,w,y),!c.proxy)if(h=hN(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)aN||(p=w),p===void 0&&(p=!1),r.addEventListener(s.toString(),h,p);else if(r.attachEvent)r.attachEvent(Vy(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function hN(){var r=dN,s=Ly?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function Sh(r,s,c,h,p){if(Array.isArray(s))for(var y=0;y<s.length;y++)Sh(r,s[y],c,h,p);else c=Nh(c),r&&r[du]?kh(r,s,c,O(h)?!!h.capture:!!h,p):My(r,s,c,!0,h,p)}function On(r,s,c,h,p){if(Array.isArray(s))for(var y=0;y<s.length;y++)On(r,s[y],c,h,p);else h=O(h)?!!h.capture:!!h,c=Nh(c),r&&r[du]?(r=r.v,s=String(s).toString(),s in r.a&&(y=r.a[s],c=_h(y,c,h,p),-1<c&&(hc(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete r.a[s],r.b--)))):r&&(r=pc(r))&&(s=r.a[s.toString()],r=-1,s&&(r=_h(s,c,h,p)),(c=-1<r?s[r]:null)&&Fy(c))}function Fy(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[du])Eh(s.v,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent(Vy(c),h):s.addListener&&s.removeListener&&s.removeListener(h),(c=pc(s))?(Eh(c,r),c.b==0&&(c.src=null,s[Ih]=null)):hc(r)}}}function Vy(r){return r in Th?Th[r]:Th[r]="on"+r}function jy(r,s,c,h){var p=!0;if((r=pc(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var y=s[r];y&&y.capture==c&&!y.wa&&(y=Uy(y,h),p=p&&y!==!1)}return p}function Uy(r,s){var c=r.listener,h=r.Wa||r.src;return r.Qa&&Fy(r),c.call(h,s)}function dN(r,s){if(r.wa)return!0;if(!Ly){if(!s)t:{s=["window","event"];for(var c=f,h=0;h<s.length;h++)if(c=c[s[h]],c==null){s=null;break t}s=c}if(h=s,s=new qi(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){t:{var p=!1;if(h.keyCode==0)try{h.keyCode=-1;break t}catch{p=!0}(p||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],p=s.b;p;p=p.parentNode)h.push(p);for(r=r.type,p=h.length-1;0<=p;p--){s.b=h[p];var y=jy(h[p],r,!0,s);c=c&&y}for(p=0;p<h.length;p++)s.b=h[p],y=jy(h[p],r,!1,s),c=c&&y}return c}return Uy(r,new qi(s,this))}function pc(r){return r=r[Ih],r instanceof dc?r:null}var Ah="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nh(r){return T(r)?r:(r[Ah]||(r[Ah]=function(s){return r.handleEvent(s)}),r[Ah])}function ln(){fc.call(this),this.v=new dc(this),this.bc=this,this.hb=null}D(ln,fc),ln.prototype[du]=!0,ln.prototype.addEventListener=function(r,s,c,h){Kn(this,r,s,c,h)},ln.prototype.removeEventListener=function(r,s,c,h){On(this,r,s,c,h)},ln.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new bn(r,c);else if(r instanceof bn)r.target=r.target||c;else{var p=r;r=new bn(h,c),Ue(r,p)}if(p=!0,s)for(var y=s.length-1;0<=y;y--){var w=r.b=s[y];p=gc(w,h,!0,r)&&p}if(w=r.b=c,p=gc(w,h,!0,r)&&p,p=gc(w,h,!1,r)&&p,s)for(y=0;y<s.length;y++)w=r.b=s[y],p=gc(w,h,!1,r)&&p;return p},ln.prototype.Da=function(){if(ln.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var c=r.a[s],h=0;h<c.length;h++)hc(c[h]);delete r.a[s],r.b--}}this.hb=null};function By(r,s,c,h,p){r.v.add(String(s),c,!1,h,p)}function kh(r,s,c,h,p){r.v.add(String(s),c,!0,h,p)}function gc(r,s,c,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var p=!0,y=0;y<s.length;++y){var w=s[y];if(w&&!w.wa&&w.capture==c){var I=w.listener,j=w.Wa||w.src;w.Qa&&Eh(r.v,w),p=I.call(j,h)!==!1&&p}}return p&&!h.defaultPrevented}function xh(r,s,c){if(T(r))c&&(r=R(r,c));else if(r&&typeof r.handleEvent=="function")r=R(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function Ho(r){var s=null;return new Ft(function(c,h){s=xh(function(){c(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(s),c})}function qy(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(E(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function $y(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(E(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var h in r)s[c++]=h;return s}}function pN(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(E(r)||typeof r=="string")J(r,s,void 0);else for(var c=$y(r),h=qy(r),p=h.length,y=0;y<p;y++)s.call(void 0,h[y],c&&c[y],r)}function zo(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof zo)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}t=zo.prototype,t.X=function(){Ch(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},t.Y=function(){return Ch(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function Ch(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var h=r.a[s];$i(r.b,h)&&(r.a[c++]=h),s++}r.a.length=c}if(r.c!=r.a.length){var p={};for(c=s=0;s<r.a.length;)h=r.a[s],$i(p,h)||(r.a[c++]=h,p[h]=1),s++;r.a.length=c}}t.get=function(r,s){return $i(this.b,r)?this.b[r]:s},t.set=function(r,s){$i(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},t.forEach=function(r,s){for(var c=this.Y(),h=0;h<c.length;h++){var p=c[h],y=this.get(p);r.call(s,y,p,this)}};function $i(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var Ky=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gN(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),p=null;if(0<=h){var y=r[c].substring(0,h);p=r[c].substring(h+1)}else y=r[c];s(y,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function ti(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof ti?(this.i=s!==void 0?s:r.i,pu(this,r.c),this.l=r.l,this.a=r.a,gu(this,r.g),this.f=r.f,Oh(this,Wy(r.b)),this.h=r.h):r&&(c=String(r).match(Ky))?(this.i=!!s,pu(this,c[1]||"",!0),this.l=mu(c[2]||""),this.a=mu(c[3]||"",!0),gu(this,c[4]),this.f=mu(c[5]||"",!0),Oh(this,c[6]||"",!0),this.h=mu(c[7]||"")):(this.i=!!s,this.b=new Ki(null,this.i))}ti.prototype.toString=function(){var r=[],s=this.c;s&&r.push(vu(s,Hy,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push(vu(s,Hy,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(vu(c,c.charAt(0)=="/"?yN:vN,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",vu(c,bN)),r.join("")},ti.prototype.resolve=function(r){var s=new ti(this),c=!!r.c;c?pu(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var h=r.f;if(c)gu(s,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var p=s.f.lastIndexOf("/");p!=-1&&(h=s.f.substr(0,p+1)+h)}if(p=h,p==".."||p==".")h="";else if(st(p,"./")||st(p,"/.")){h=p.lastIndexOf("/",0)==0,p=p.split("/");for(var y=[],w=0;w<p.length;){var I=p[w++];I=="."?h&&w==p.length&&y.push(""):I==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&w==p.length&&y.push("")):(y.push(I),h=!0)}h=y.join("/")}else h=p}return c?s.f=h:c=r.b.toString()!=="",c?Oh(s,Wy(r.b)):c=!!r.h,c&&(s.h=r.h),s};function pu(r,s,c){r.c=c?mu(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function gu(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function Oh(r,s,c){s instanceof Ki?(r.b=s,EN(r.b,r.i)):(c||(s=vu(s,wN)),r.b=new Ki(s,r.i))}function Ee(r,s,c){r.b.set(s,c)}function Hn(r,s){return r.b.get(s)}function En(r){return r instanceof ti?new ti(r):new ti(r,void 0)}function mc(r,s,c,h){var p=new ti(null,void 0);return r&&pu(p,r),s&&(p.a=s),c&&gu(p,c),h&&(p.f=h),p}function mu(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function vu(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,mN),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function mN(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Hy=/[#\/\?@]/g,vN=/[#\?:]/g,yN=/[#\?]/g,wN=/[#\?@]/g,bN=/#/g;function Ki(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function ei(r){r.a||(r.a=new zo,r.b=0,r.c&&gN(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function zy(r){var s=$y(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new Ki(null,void 0);r=qy(r);for(var h=0;h<s.length;h++){var p=s[h],y=r[h];Array.isArray(y)?Gy(c,p,y):c.add(p,y)}return c}t=Ki.prototype,t.add=function(r,s){ei(this),this.c=null,r=Go(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function yr(r,s){ei(r),s=Go(r,s),$i(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,$i(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&Ch(r)))}t.clear=function(){this.a=this.c=null,this.b=0};function Rh(r,s){return ei(r),s=Go(r,s),$i(r.a.b,s)}t.forEach=function(r,s){ei(this),this.a.forEach(function(c,h){J(c,function(p){r.call(s,p,h,this)},this)},this)},t.Y=function(){ei(this);for(var r=this.a.X(),s=this.a.Y(),c=[],h=0;h<s.length;h++)for(var p=r[h],y=0;y<p.length;y++)c.push(s[h]);return c},t.X=function(r){ei(this);var s=[];if(typeof r=="string")Rh(this,r)&&(s=tt(s,this.a.get(Go(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=tt(s,r[c])}return s},t.set=function(r,s){return ei(this),this.c=null,r=Go(this,r),Rh(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},t.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function Gy(r,s,c){yr(r,s),0<c.length&&(r.c=null,r.a.set(Go(r,s),ot(c)),r.b+=c.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var h=s[c],p=encodeURIComponent(String(h));h=this.X(h);for(var y=0;y<h.length;y++){var w=p;h[y]!==""&&(w+="="+encodeURIComponent(String(h[y]))),r.push(w)}}return this.c=r.join("&")};function Wy(r){var s=new Ki;return s.c=r.c,r.a&&(s.a=new zo(r.a),s.b=r.b),s}function Go(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function EN(r,s){s&&!r.f&&(ei(r),r.c=null,r.a.forEach(function(c,h){var p=h.toLowerCase();h!=p&&(yr(this,h),Gy(this,p,c))},r)),r.f=s}function Qy(r){var s=[];return Dh(new _N,r,s),s.join("")}function _N(){}function Dh(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,c.push("[");for(var p="",y=0;y<s;y++)c.push(p),Dh(r,h[y],c),p=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),p="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(y=s[h],typeof y!="function"&&(c.push(p),Xy(h,c),c.push(":"),Dh(r,y,c),p=","));c.push("}");return}}switch(typeof s){case"string":Xy(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var Yy={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},IN=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Xy(r,s){s.push('"',r.replace(IN,function(c){var h=Yy[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),Yy[c]=h),h}),'"')}function Ph(){var r=Be();return Zn&&!!Zr&&Zr==11||/Edge\/\d+/.test(r)}function yu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Jy(r,s){s=s||f.window;var c="about:blank";r&&(c=sc(sy(r)||ay)),s.location.href=c}function Zy(r,s){var c=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<Zy(r[h],s[h]).length&&c.push(h):r[h]!==s[h]&&c.push(h):c.push(h);for(h in s)h in r||c.push(h);return c}function TN(){var r=Be();return r=Wo(r)!=r0?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!Zn||!Zr||9<Zr}function t0(r){return r=(r||Be()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function Hi(r){r=r||f.window;try{r.close()}catch{}}function e0(r,s,c){var h=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var p=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<p?p:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=Be().toLowerCase(),h&&(s.target=h,st(c,"crios/")&&(s.target="_blank")),Wo(Be())==Fh&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),h=window,s=c instanceof wn?c:sy(typeof c.href<"u"?c.href:String(c))||ay,c=r.target||c.target,p=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":p.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(w+"="+(r[w]?1:0))}var w=p.join(",");if((ge("iPhone")&&!ge("iPod")&&!ge("iPad")||ge("iPad")||ge("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=ac(document,"A"),ty(w,"HTMLAnchorElement"),s=s instanceof wn?s:uy(s),w.href=sc(s),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=ly("",h,c,w),r=sc(s),w&&(WA&&st(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+fh(r)+'">',r=(h=ny())?h.createHTML(r):r,r=new $o(r,null,cy),h=w.document)&&(h.write(KA(r)),h.close())):(w=ly(s,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function SN(r){return new Ft(function(s){function c(){Ho(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var AN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NN=/^[^@]+@[^@]+$/;function vc(){var r=null;return new Ft(function(s){f.document.readyState=="complete"?s():(r=function(){s()},Sh(window,"load",r))}).o(function(s){throw On(window,"load",r),s})}function kN(){return Lh(void 0)?vc().then(function(){return new Ft(function(r,s){var c=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):se(Error("Cordova must run in an Android or iOS file scheme."))}function Lh(r){return r=r||Be(),!(Yo()!=="file:"&&Yo()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mh(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function tr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function wr(){return _t.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":_t.INTERNAL.hasOwnProperty("node")?"Node":tr()?"Worker":"Browser"}function n0(){var r=wr();return r==="ReactNative"||r==="Node"}function xN(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var Fh="Firefox",r0="Chrome";function Wo(r){var s=r.toLowerCase();if(st(s,"opera/")||st(s,"opr/")||st(s,"opios/"))return"Opera";if(st(s,"iemobile"))return"IEMobile";if(st(s,"msie")||st(s,"trident/"))return"IE";if(st(s,"edge/"))return"Edge";if(st(s,"firefox/"))return Fh;if(st(s,"silk/"))return"Silk";if(st(s,"blackberry"))return"Blackberry";if(st(s,"webos"))return"Webos";if(!st(s,"safari/")||st(s,"chrome/")||st(s,"crios/")||st(s,"android"))if(!st(s,"chrome/")&&!st(s,"crios/")||st(s,"edge/")){if(st(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return r0;else return"Safari";return"Other"}var i0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Qo(r,s){s=s||[];var c=[],h={},p;for(p in i0)h[i0[p]]=!0;for(p=0;p<s.length;p++)typeof h[s[p]]<"u"&&(delete h[s[p]],c.push(s[p]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=wr(),c==="Browser"?(h=Be(),c=Wo(h)):c==="Worker"&&(h=Be(),c=Wo(h)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function Be(){return f.navigator&&f.navigator.userAgent||""}function ue(r,s){r=r.split("."),s=s||f;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function Vh(){try{var r=f.localStorage,s=Gi();if(r)return r.setItem(s,"1"),r.removeItem(s),Ph()?!!f.indexedDB:!0}catch{return tr()&&!!f.indexedDB}return!1}function zi(){return(yc()||Yo()==="chrome-extension:"||Lh())&&!n0()&&Vh()&&!tr()}function yc(){return Yo()==="http:"||Yo()==="https:"}function Yo(){return f.location&&f.location.protocol||null}function wu(r){return r=r||Be(),!(t0(r)||Wo(r)==Fh)}function bu(r){return typeof r>"u"?null:Qy(r)}function o0(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function Xo(r){if(r!==null)return JSON.parse(r)}function Gi(r){return r||Math.floor(1e9*Math.random()).toString()}function s0(r){return r=r||Be(),!(Wo(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function u0(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function ni(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=Be(),s=wr(),this.b=t0(r)||s==="ReactNative"}ni.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(yc()||Yo()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function jh(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function CN(){var r=f.document,s=null;return jh()||!r?mt():new Ft(function(c){s=function(){jh()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function Eu(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function a0(){return!(!ue("fireauth.oauthhelper",f)&&!ue("fireauth.iframe",f))}function ON(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function RN(){var r=f.navigator;return r&&r.serviceWorker?mt().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):mt(null)}var c0={};function Uh(r){c0[r]||(c0[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Bh;try{var qh={};Object.defineProperty(qh,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(qh,"abcd",{configurable:!0,enumerable:!0,value:2}),Bh=qh.abcd==2}catch{Bh=!1}function dt(r,s,c){Bh?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function fn(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&dt(r,c,s[c])}function br(r){var s={};return fn(s,r),s}function DN(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function PN(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var h=r[s[c]];if(h==null||h==="")return!1}return!0}function $h(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)dt(s,c,$h(r[c]))}return s}function Kh(r){var s=r&&(r[Wh]?"phone":null);if(s&&r&&r[Gh]){dt(this,"uid",r[Gh]),dt(this,"displayName",r[l0]||null);var c=null;r[zh]&&(c=new Date(r[zh]).toUTCString()),dt(this,"enrollmentTime",c),dt(this,"factorId",s)}else throw new S("internal-error","Internal assert: invalid MultiFactorInfo object")}Kh.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Hh(r){try{var s=new _u(r)}catch{s=null}return s}var l0="displayName",zh="enrolledAt",Gh="mfaEnrollmentId",Wh="phoneInfo";function _u(r){Kh.call(this,r),dt(this,"phoneNumber",r[Wh])}D(_u,Kh),_u.prototype.w=function(){var r=_u.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function LN(r){var s={},c=r[MN],h=r[VN],p=r[jN];if(r=Hh(r[FN]),!p||p!=wc&&p!=Iu&&!c||p==Iu&&!h||p==Qh&&!r)throw Error("Invalid checkActionCode response!");p==Iu?(s[h0]=c||null,s[d0]=c||null,s[f0]=h):(s[h0]=h||null,s[d0]=h||null,s[f0]=c||null),s[UN]=r||null,dt(this,qN,p),dt(this,BN,$h(s))}var Qh="REVERT_SECOND_FACTOR_ADDITION",wc="EMAIL_SIGNIN",Iu="VERIFY_AND_CHANGE_EMAIL",MN="email",FN="mfaInfo",VN="newEmail",jN="requestType",f0="email",h0="fromEmail",UN="multiFactorInfo",d0="previousEmail",BN="data",qN="operation";function Yh(r){r=En(r);var s=Hn(r,p0)||null,c=Hn(r,g0)||null,h=Hn(r,m0)||null;if(h=h&&zN[h]||null,!s||!c||!h)throw new S("argument-error",p0+", "+g0+"and "+m0+" are required in a valid action code URL.");fn(this,{apiKey:s,operation:h,code:c,continueUrl:Hn(r,$N)||null,languageCode:Hn(r,KN)||null,tenantId:Hn(r,HN)||null})}var p0="apiKey",g0="oobCode",$N="continueUrl",KN="languageCode",m0="mode",HN="tenantId",zN={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Qh,signIn:wc,verifyAndChangeEmail:Iu,verifyEmail:"VERIFY_EMAIL"};function v0(r){try{return new Yh(r)}catch{return null}}function bc(r){var s=r[GN];if(typeof s>"u")throw new S("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new S("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[y0];if(c&&typeof c=="object"){s=c[I0];var h=c[E0];if(c=c[_0],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new S("argument-error",E0+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new S("argument-error",_0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new S("argument-error",I0+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new S("missing-android-pkg-name")}}else if(typeof c<"u")throw new S("argument-error",y0+" property must be a non null object when specified.");if(this.f=null,(s=r[b0])&&typeof s=="object"){if(s=s[T0],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new S("argument-error",T0+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new S("argument-error",b0+" property must be a non null object when specified.");if(s=r[Xh],typeof s<"u"&&typeof s!="boolean")throw new S("argument-error",Xh+" property must be a boolean when specified.");if(this.c=!!s,r=r[w0],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new S("argument-error",w0+" property must be a non empty string when specified.");this.i=r||null}var y0="android",w0="dynamicLinkDomain",Xh="handleCodeInApp",b0="iOS",GN="url",E0="installApp",_0="minimumVersion",I0="packageName",T0="bundleId";function Ec(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function WN(r){return bt(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var Tu=null;function QN(r){var s=[];return YN(r,function(c){s.push(c)}),s}function YN(r,s){function c(j){for(;h<r.length;){var H=r.charAt(h++),It=Tu[H];if(It!=null)return It;if(!/^[\s\xa0]*$/.test(H))throw Error("Unknown base64 encoding at char: "+H)}return j}XN();for(var h=0;;){var p=c(-1),y=c(0),w=c(64),I=c(64);if(I===64&&p===-1)break;s(p<<2|y>>4),w!=64&&(s(y<<4&240|w>>2),I!=64&&s(w<<6&192|I))}}function XN(){if(!Tu){Tu={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(s[c].split("")),p=0;p<h.length;p++){var y=h[p];Tu[y]===void 0&&(Tu[y]=p)}}}function _c(r){var s=S0(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}_c.prototype.T=function(){return this.f},_c.prototype.l=function(){return this.c},_c.prototype.toString=function(){return this.h};function Ic(r){try{return new _c(r)}catch{return null}}function S0(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var h=QN(r);for(r=[],c=s=0;s<h.length;){var p=h[s++];if(128>p)r[c++]=String.fromCharCode(p);else if(191<p&&224>p){var y=h[s++];r[c++]=String.fromCharCode((p&31)<<6|y&63)}else if(239<p&&365>p){y=h[s++];var w=h[s++],I=h[s++],j=((p&7)<<18|(y&63)<<12|(w&63)<<6|I&63)-65536;r[c++]=String.fromCharCode(55296+(j>>10)),r[c++]=String.fromCharCode(56320+(j&1023))}else y=h[s++],w=h[s++],r[c++]=String.fromCharCode((p&15)<<12|(y&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var A0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Tc=["client_id","response_type","scope","redirect_uri","state"],Jh={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Tc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Tc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Tc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:A0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Zh(r){for(var s in Jh)if(Jh[s].fa==r)return Jh[s];return null}function N0(r){var s={};s["facebook.com"]=x0,s["google.com"]=O0,s["github.com"]=C0,s["twitter.com"]=R0;var c=r&&r[k0];try{if(c)return s[c]?new s[c](r):new Er(r);if(typeof r[td]<"u")return new ed(r)}catch{}return null}var td="idToken",k0="providerId";function ed(r){var s=r[k0];if(!s&&r[td]){var c=Ic(r[td]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),dt(this,"providerId",s),dt(this,"isNewUser",c)}function Er(r){ed.call(this,r),r=Xo(r.rawUserInfo||"{}"),dt(this,"profile",$h(r||{}))}D(Er,ed);function x0(r){if(Er.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}D(x0,Er);function C0(r){if(Er.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");dt(this,"username",this.profile&&this.profile.login||null)}D(C0,Er);function O0(r){if(Er.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}D(O0,Er);function R0(r){if(Er.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");dt(this,"username",r.screenName||null)}D(R0,Er);function D0(r){var s=En(r),c=Hn(s,"link"),h=Hn(En(c),"link");return s=Hn(s,"deep_link_id"),Hn(En(s),"link")||s||h||c||r}function Sc(r,s){if(!r&&!s)throw new S("internal-error","Internal assert: no raw session string available");if(r&&s)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Su:Ac}var Su="enroll",Ac="signin";Sc.prototype.Ha=function(){return this.a?mt(this.a):mt(this.b)},Sc.prototype.w=function(){return this.type==Su?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Jo(){}Jo.prototype.ka=function(){},Jo.prototype.b=function(){},Jo.prototype.c=function(){},Jo.prototype.w=function(){};function Zo(r,s){return r.then(function(c){if(c[rr]){var h=Ic(c[rr]);if(!h||s!=h.i)throw new S("user-mismatch");return c}throw new S("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==Ot+"user-not-found"?new S("user-mismatch"):c})}function Wi(r,s){if(s)this.a=s;else throw new S("internal-error","failed to construct a credential");dt(this,"providerId",r),dt(this,"signInMethod",r)}Wi.prototype.ka=function(r){return Sd(r,nd(this))},Wi.prototype.b=function(r,s){var c=nd(this);return c.idToken=s,Ad(r,c)},Wi.prototype.c=function(r,s){return Zo(Nd(r,nd(this)),s)};function nd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}Wi.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function JN(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new Wi(r.providerId,r.pendingToken)}catch{}return null}function Mr(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&dt(this,"idToken",s.idToken),s.accessToken&&dt(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&dt(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)dt(this,"accessToken",s.oauthToken),dt(this,"secret",s.oauthTokenSecret);else throw new S("internal-error","failed to construct a credential");dt(this,"providerId",r),dt(this,"signInMethod",c)}Mr.prototype.ka=function(r){return Sd(r,rd(this))},Mr.prototype.b=function(r,s){var c=rd(this);return c.idToken=s,Ad(r,c)},Mr.prototype.c=function(r,s){var c=rd(this);return Zo(Nd(r,c),s)};function rd(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:zy(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}Mr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function ZN(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Mr(r.providerId,s,r.signInMethod)}catch{}}return null}function Qi(r,s){this.Qc=s||[],fn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(Zh(r)||{}).Ja||null,this.pb=null}Qi.prototype.Ka=function(r){return this.Jb=me(r),this};function P0(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');Qi.call(this,r,[])}D(P0,Qi);function Rn(r){Qi.call(this,r,Tc),this.a=[]}D(Rn,Qi),Rn.prototype.Ca=function(r){return P(this.a,r)||this.a.push(r),this},Rn.prototype.Rb=function(){return ot(this.a)},Rn.prototype.credential=function(r,s){var c;if(O(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new Mr(this.providerId,c,this.providerId)};function Yi(){Rn.call(this,"facebook.com")}D(Yi,Rn),dt(Yi,"PROVIDER_ID","facebook.com"),dt(Yi,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function L0(r){if(!r)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return O(r)&&(s=r.accessToken),new Yi().credential({accessToken:s})}function Xi(){Rn.call(this,"github.com")}D(Xi,Rn),dt(Xi,"PROVIDER_ID","github.com"),dt(Xi,"GITHUB_SIGN_IN_METHOD","github.com");function M0(r){if(!r)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return O(r)&&(s=r.accessToken),new Xi().credential({accessToken:s})}function Ji(){Rn.call(this,"google.com"),this.Ca("profile")}D(Ji,Rn),dt(Ji,"PROVIDER_ID","google.com"),dt(Ji,"GOOGLE_SIGN_IN_METHOD","google.com");function F0(r,s){var c=r;return O(r)&&(c=r.idToken,s=r.accessToken),new Ji().credential({idToken:c,accessToken:s})}function ts(){Qi.call(this,"twitter.com",A0)}D(ts,Qi),dt(ts,"PROVIDER_ID","twitter.com"),dt(ts,"TWITTER_SIGN_IN_METHOD","twitter.com");function V0(r,s){var c=r;if(O(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Mr("twitter.com",c,"twitter.com")}function ri(r,s,c){this.a=r,this.f=s,dt(this,"providerId","password"),dt(this,"signInMethod",c===zn.EMAIL_LINK_SIGN_IN_METHOD?zn.EMAIL_LINK_SIGN_IN_METHOD:zn.EMAIL_PASSWORD_SIGN_IN_METHOD)}ri.prototype.ka=function(r){return this.signInMethod==zn.EMAIL_LINK_SIGN_IN_METHOD?Vt(r,Fk,{email:this.a,oobCode:this.f}):Vt(r,hw,{email:this.a,password:this.f})},ri.prototype.b=function(r,s){return this.signInMethod==zn.EMAIL_LINK_SIGN_IN_METHOD?Vt(r,Vk,{idToken:s,email:this.a,oobCode:this.f}):Vt(r,fw,{idToken:s,email:this.a,password:this.f})},ri.prototype.c=function(r,s){return Zo(this.ka(r),s)},ri.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function tk(r){return r&&r.email&&r.password?new ri(r.email,r.password,r.signInMethod):null}function zn(){fn(this,{providerId:"password",isOAuthProvider:!1})}function j0(r,s){if(s=id(s),!s)throw new S("argument-error","Invalid email link!");return new ri(r,s.code,zn.EMAIL_LINK_SIGN_IN_METHOD)}function id(r){return r=D0(r),(r=v0(r))&&r.operation===wc?r:null}fn(zn,{PROVIDER_ID:"password"}),fn(zn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),fn(zn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ii(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new S("internal-error");this.a=r,dt(this,"providerId","phone"),this.fa="phone",dt(this,"signInMethod","phone")}ii.prototype.ka=function(r){return r.gb(Au(this))},ii.prototype.b=function(r,s){var c=Au(this);return c.idToken=s,Vt(r,ix,c)},ii.prototype.c=function(r,s){var c=Au(this);return c.operation="REAUTH",r=Vt(r,ox,c),Zo(r,s)},ii.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function ek(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return J(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new ii(s)}return null}function Au(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function Fr(r){try{this.a=r||_t.auth()}catch{throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}fn(this,{providerId:"phone",isOAuthProvider:!1})}Fr.prototype.gb=function(r,s){var c=this.a.a;return mt(s.verify()).then(function(h){if(typeof h!="string")throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var p=O(r)?r.session:null,y=O(r)?r.phoneNumber:r,w;return p&&p.type==Su?w=p.Ha().then(function(I){return kk(c,{idToken:I,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):p&&p.type==Ac?w=p.Ha().then(function(I){return xk(c,{mfaPendingCredential:I,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=Nk(c,{phoneNumber:y,recaptchaToken:h}),w.then(function(I){return typeof s.reset=="function"&&s.reset(),I},function(I){throw typeof s.reset=="function"&&s.reset(),I});default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function U0(r,s){if(!r)throw new S("missing-verification-id");if(!s)throw new S("missing-verification-code");return new ii({fb:r,eb:s})}fn(Fr,{PROVIDER_ID:"phone"}),fn(Fr,{PHONE_SIGN_IN_METHOD:"phone"});function od(r){if(r.temporaryProof&&r.phoneNumber)return new ii({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,p=r&&r.nonce,y=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(s){case"google.com":return F0(y,c);case"facebook.com":return L0(c);case"github.com":return M0(c);case"twitter.com":return V0(c,h);default:return c||h||y||w?w?s.indexOf("saml.")==0?new Wi(s,w):new Mr(s,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new Rn(s).credential({idToken:y,accessToken:c,rawNonce:p}):null}}catch{return null}}function sd(r){if(!r.isOAuthProvider)throw new S("invalid-oauth-provider")}function er(r,s,c,h,p,y,w){if(this.c=r,this.b=s||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=w||null,this.a=p||null,this.g||this.a){if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}else throw new S("invalid-auth-event")}er.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},er.prototype.T=function(){return this.h},er.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function B0(r){return r=r||{},r.type?new er(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&St(r.error),r.postBody,r.tenantId):null}function nk(){this.b=null,this.a=[]}var ud=null;function rk(r){var s=ud;s.a.push(r),s.b||(s.b=function(c){for(var h=0;h<s.a.length;h++)s.a[h](c)},r=ue("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function ad(r){var s="unauthorized-domain",c=void 0,h=En(r);r=h.a,h=h.c,h=="chrome-extension"?c=fy("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=fy("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",S.call(this,s,c)}D(ad,S);function Nu(r,s,c){S.call(this,r,c),r=s||{},r.Kb&&dt(this,"email",r.Kb),r.ea&&dt(this,"phoneNumber",r.ea),r.credential&&dt(this,"credential",r.credential),r.$b&&dt(this,"tenantId",r.$b)}D(Nu,S),Nu.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Ue(r,s),r},Nu.prototype.toJSON=function(){return this.w()};function Nc(r){if(r.code){var s=r.code||"";s.indexOf(Ot)==0&&(s=s.substring(Ot.length));var c={credential:od(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new S(s,r.message||void 0);return new Nu(s,c,r.message)}return null}function ku(){}ku.prototype.c=null;function q0(r){return r.c||(r.c=r.b())}var cd;function kc(){}D(kc,ku),kc.prototype.a=function(){var r=$0(this);return r?new ActiveXObject(r):new XMLHttpRequest},kc.prototype.b=function(){var r={};return $0(this)&&(r[0]=!0,r[1]=!0),r};function $0(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var h=s[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}cd=new kc;function xc(){}D(xc,ku),xc.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new K0;throw Error("Unsupported browser")},xc.prototype.b=function(){return{}};function K0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=R(this.qc,this),this.a.onerror=R(this.Tb,this),this.a.onprogress=R(this.rc,this),this.a.ontimeout=R(this.vc,this)}t=K0.prototype,t.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},t.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ld(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",ld(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,ld(this,1)};function ld(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function fd(r,s,c){this.reset(r,s,c,void 0,void 0)}fd.prototype.a=null,fd.prototype.reset=function(r,s,c,h,p){delete this.a};function hd(r){this.f=r,this.b=this.c=this.a=null}function xu(r,s){this.name=r,this.value=s}xu.prototype.toString=function(){return this.name};var H0=new xu("SEVERE",1e3),dd=new xu("WARNING",900),ik=new xu("CONFIG",700),ok=new xu("FINE",500);function z0(r){return r.c?r.c:r.a?z0(r.a):(fe("Root logger has no level set."),null)}hd.prototype.log=function(r,s,c){if(r.value>=z0(this).value)for(T(s)&&(s=s()),r=new fd(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var pd={},Cc=null;function gd(r){Cc||(Cc=new hd(""),pd[""]=Cc,Cc.c=ik);var s;if(!(s=pd[r])){s=new hd(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=gd(r.substr(0,c)),c.b||(c.b={}),c.b[h]=s,s.a=c,pd[r]=s}return s}function Gn(r,s){r&&r.log(ok,s,void 0)}function Oc(r){this.f=r}D(Oc,ku),Oc.prototype.a=function(){return new Rc(this.f)},Oc.prototype.b=function(r){return function(){return r}}({});function Rc(r){ln.call(this),this.u=r,this.h=void 0,this.readyState=md,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=gd("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}D(Rc,ln);var md=0;t=Rc.prototype,t.open=function(r,s){if(this.readyState!=md)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,Ou(this)},t.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Cu(this)),this.readyState=md},t.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Ou(this)),this.a&&(this.readyState=3,Ou(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,G0(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function G0(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}t.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?Cu(this):Ou(this),this.readyState==3&&G0(this)}},t.tc=function(r){this.a&&(this.response=this.responseText=r,Cu(this))},t.sc=function(r){this.a&&(this.response=r,Cu(this))},t.Va=function(r){var s=this.i;s&&s.log(dd,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Cu(this)};function Cu(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Ou(r)}t.setRequestHeader=function(r,s){this.l.append(r,s)},t.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(dd,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(dd,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function Ou(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(Rc.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Ru(r){ln.call(this),this.headers=new zo,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=W0,this.u=this.S=!1}D(Ru,ln);var W0="";Ru.prototype.b=gd("goog.net.XhrIo");var sk=/^https?$/i,uk=["POST","PUT"];function ak(r,s,c,h,p){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():cd.a(),r.C=r.D?q0(r.D):q0(cd),r.a.onreadystatechange=R(r.Wb,r);try{Gn(r.b,Vr(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(w){Gn(r.b,Vr(r,"Error opening Xhr: "+w.message)),Q0(r,w);return}s=h||"";var y=new zo(r.headers);p&&pN(p,function(w,I){y.set(I,w)}),p=A(y.Y()),h=f.FormData&&s instanceof f.FormData,!P(uk,c)||p||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(w,I){this.a.setRequestHeader(I,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{J0(r),0<r.g&&(r.u=ck(r.a),Gn(r.b,Vr(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=R(r.Ma,r)):r.s=xh(r.Ma,r.g,r)),Gn(r.b,Vr(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(w){Gn(r.b,Vr(r,"Send error: "+w.message)),Q0(r,w)}}function ck(r){return Zn&&gy(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function lk(r){return r.toLowerCase()=="content-type"}t=Ru.prototype,t.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Gn(this.b,Vr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Q0(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,Y0(r),Dc(r)}function Y0(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(Gn(this.b,Vr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Dc(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Dc(this,!0)),Ru.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?X0(this):this.Jc())},t.Jc=function(){X0(this)};function X0(r){if(r.c&&typeof l<"u"){if(r.C[1]&&Du(r)==4&&Pc(r)==2)Gn(r.b,Vr(r,"Local request error detected and ignored"));else if(r.i&&Du(r)==4)xh(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),Du(r)==4){Gn(r.b,Vr(r,"Request complete")),r.c=!1;try{var s=Pc(r);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var h;if(!(h=c)){var p;if(p=s===0){var y=String(r.l).match(Ky)[1]||null;if(!y&&f.self&&f.self.location){var w=f.self.location.protocol;y=w.substr(0,w.length-1)}p=!sk.test(y?y.toLowerCase():"")}h=p}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var I=2<Du(r)?r.a.statusText:""}catch(j){Gn(r.b,"Can not get status: "+j.message),I=""}r.h=I+" ["+Pc(r)+"]",Y0(r)}}finally{Dc(r)}}}}function Dc(r,s){if(r.a){J0(r);var c=r.a,h=r.C[0]?v:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(p){(r=r.b)&&r.log(H0,"Problem encountered resetting onreadystatechange: "+p.message,void 0)}}}function J0(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function Du(r){return r.a?r.a.readyState:0}function Pc(r){try{return 2<Du(r)?r.a.status:-1}catch{return-1}}function fk(r){try{return r.a?r.a.responseText:""}catch(s){return Gn(r.b,"Can not get responseText: "+s.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case W0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(H0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return Gn(this.b,"Can not get response: "+s.message),null}};function Vr(r,s){return s+" ["+r.P+" "+r.l+" "+Pc(r)+"]"}function Zi(r){var s=pk;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Zi.prototype.cancel=function(r){if(this.a)this.c instanceof Zi&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new Lu,Lc(this),Pu(this,!1,r))}},Zi.prototype.m=function(r,s){this.i=!1,Pu(this,r,s)};function Pu(r,s,c){r.a=!0,r.c=c,r.f=!s,tw(r)}function Lc(r){if(r.a){if(!r.v)throw new Mc;r.v=!1}}function hk(r,s){vd(r,null,s,void 0)}function vd(r,s,c,h){r.g.push([s,c,h]),r.a&&tw(r)}Zi.prototype.then=function(r,s,c){var h,p,y=new Ft(function(w,I){h=w,p=I});return vd(this,h,function(w){w instanceof Lu?y.cancel():p(w)}),y.then(r,s,c)},Zi.prototype.$goog_Thenable=!0;function Z0(r){return _(r.g,function(s){return T(s[1])})}function tw(r){if(r.h&&r.a&&Z0(r)){var s=r.h,c=Fc[s];c&&(f.clearTimeout(c.a),delete Fc[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=c=!1;r.g.length&&!r.i;){var p=r.g.shift(),y=p[0],w=p[1];if(p=p[2],y=r.f?w:y)try{var I=y.call(p||r.s,s);I!==void 0&&(r.f=r.f&&(I==s||I instanceof Error),r.c=s=I),(kt(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(j){s=j,r.f=!0,Z0(r)||(c=!0)}}r.c=s,h&&(I=R(r.m,r,!0),h=R(r.m,r,!1),s instanceof Zi?(vd(s,I,h),s.C=!0):s.then(I,h)),c&&(s=new ew(s),Fc[s.a]=s,r.h=s.a)}function Mc(){vt.call(this)}D(Mc,vt),Mc.prototype.message="Deferred has already fired",Mc.prototype.name="AlreadyCalledError";function Lu(){vt.call(this)}D(Lu,vt),Lu.prototype.message="Deferred was canceled",Lu.prototype.name="CanceledError";function ew(r){this.a=f.setTimeout(R(this.c,this),0),this.b=r}ew.prototype.c=function(){throw delete Fc[this.a],this.b};var Fc={};function yd(r){var s={},c=s.document||document,h=ry(r).toString(),p=ac(document,"SCRIPT"),y={Xb:p,Ma:void 0},w=new Zi(y),I=null,j=s.timeout!=null?s.timeout:5e3;return 0<j&&(I=window.setTimeout(function(){Vc(p,!0);var H=new wd(mk,"Timeout reached for loading script "+h);Lc(w),Pu(w,!1,H)},j),y.Ma=I),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(Vc(p,s.xd||!1,I),Lc(w),Pu(w,!0,null))},p.onerror=function(){Vc(p,!0,I);var H=new wd(gk,"Error while loading script "+h);Lc(w),Pu(w,!1,H)},y=s.attributes||{},Ue(y,{type:"text/javascript",charset:"UTF-8"}),vy(p,y),HA(p,r),dk(c).appendChild(p),w}function dk(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function pk(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&Vc(r,!0,this.Ma)}}function Vc(r,s,c){c!=null&&f.clearTimeout(c),r.onload=v,r.onerror=v,r.onreadystatechange=v,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var gk=0,mk=1;function wd(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),vt.call(this,c),this.code=r}D(wd,vt);function jc(r){this.f=r}D(jc,ku),jc.prototype.a=function(){return new this.f},jc.prototype.b=function(){return{}};function nr(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||vk,this.g=me(r.secureTokenHeaders||yk),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||wk,this.a=me(r.firebaseHeaders||bk),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=wr()=="Node",c=f.XMLHttpRequest||c&&_t.INTERNAL.node&&_t.INTERNAL.node.XMLHttpRequest,!c&&!tr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,tr()?this.f=new Oc(self):n0()?this.f=new jc(c):this.f=new xc,this.b=null}var bd,rr="idToken",vk=new ni(3e4,6e4),yk={"Content-Type":"application/x-www-form-urlencoded"},wk=new ni(3e4,6e4),bk={"Content-Type":"application/json"};function nw(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function Uc(r,s){s&&(r.l=Ed("https://securetoken.googleapis.com/v1/token",s),r.h=Ed("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=Ed("https://identitytoolkit.googleapis.com/v2/",s))}function Ed(r,s){return r=En(r),s=En(s.url),r.f=r.a+r.f,pu(r,s.c),r.a=s.a,gu(r,s.g),r.toString()}function rw(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}nr.prototype.T=function(){return this.b};function iw(r,s,c,h,p,y,w){TN()||tr()?r=R(r.u,r):(bd||(bd=new Ft(function(I,j){_k(I,j)})),r=R(r.s,r)),r(s,c,h,p,y,w)}nr.prototype.u=function(r,s,c,h,p,y){if(tr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Ru(this.f);if(y){w.g=Math.max(0,y);var I=setTimeout(function(){w.dispatchEvent("timeout")},y)}By(w,"complete",function(){I&&clearTimeout(I);var j=null;try{j=JSON.parse(fk(this))||null}catch{j=null}s&&s(j)}),kh(w,"ready",function(){I&&clearTimeout(I),Py(this)}),kh(w,"timeout",function(){I&&clearTimeout(I),Py(this),s&&s(null)}),ak(w,r,c,h,p)};var Ek=new vr(ic,"https://apis.google.com/js/client.js?onload=%{onload}"),ow="__fcb"+Math.floor(1e6*Math.random()).toString();function _k(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[ow]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=lh(Ek,{onload:ow});hk(yd(c),function(){s(Error("CORS_UNSUPPORTED"))})}}nr.prototype.s=function(r,s,c,h,p){var y=this;bd.then(function(){window.gapi.client.setApiKey(y.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:p,authType:"none",callback:function(I){window.gapi.auth.setToken(w),s&&s(I)}})}).o(function(w){s&&s({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function Ik(r,s){return new Ft(function(c,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?iw(r,r.l+"?key="+encodeURIComponent(r.c),function(p){p?p.error?h(xd(p)):p.access_token&&p.refresh_token?c(p):h(new S("internal-error")):h(new S("network-request-failed"))},"POST",zy(s).toString(),r.g,r.m.get()):h(new S("internal-error"))})}function sw(r,s,c,h,p,y,w){var I=En(s+c);Ee(I,"key",r.c),w&&Ee(I,"cb",Date.now().toString());var j=h=="GET";if(j)for(var H in p)p.hasOwnProperty(H)&&Ee(I,H,p[H]);return new Ft(function(It,Jt){iw(r,I.toString(),function(Kt){Kt?Kt.error?Jt(xd(Kt,y||{})):It(Kt):Jt(new S("network-request-failed"))},h,j?void 0:Qy(o0(p)),r.a,r.v.get())})}function to(r){if(r=r.email,typeof r!="string"||!NN.test(r))throw new S("invalid-email")}function uw(r){"email"in r&&to(r)}function Tk(r,s){return Vt(r,Pk,{identifier:s,continueUri:yc()?yu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function Sk(r){return Vt(r,zk,{}).then(function(s){return s.authorizedDomains||[]})}function _n(r){if(!r[rr])throw r.mfaPendingCredential?new S("multi-factor-auth-required",null,me(r)):new S("internal-error")}function _d(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new S("internal-error")}else{if(!r.sessionInfo)throw new S("missing-verification-id");if(!r.code)throw new S("missing-verification-code")}}nr.prototype.Ab=function(){return Vt(this,Yk,{})},nr.prototype.Cb=function(r,s){return Vt(this,lw,{idToken:r,email:s})},nr.prototype.Db=function(r,s){return Vt(this,fw,{idToken:r,password:s})};var Ak={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=nr.prototype,t.Eb=function(r,s){var c={idToken:r},h=[];return Jr(Ak,function(p,y){var w=s[y];w===null?h.push(p):y in s&&(c[y]=w)}),h.length&&(c.deleteAttribute=h),Vt(this,lw,c)},t.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},Ue(r,s),Vt(this,Hk,r)},t.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},Ue(r,s),Vt(this,qk,r)},t.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},Ue(r,s),Vt(this,$k,r)},t.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},Ue(r,c),Vt(this,Kk,r)};function Nk(r,s){return Vt(r,Qk,s)}t.gb=function(r){return Vt(this,rx,r)};function kk(r,s){return Vt(r,Xk,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function aw(r){if(!r.phoneVerificationInfo)throw new S("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new S("missing-verification-code")}function xk(r,s){return Vt(r,Jk,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function Ck(r,s,c){return Vt(r,Mk,{idToken:s,deleteProvider:c})}function Id(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new S("internal-error")}function Td(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new Ki(r.postBody),Rh(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function cw(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=Nc(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=Nc(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=Nc(r)):r.errorMessage&&(s=dw(r.errorMessage)),s)throw s;_n(r)}function Sd(r,s){return s.returnIdpCredential=!0,Vt(r,Zk,s)}function Ad(r,s){return s.returnIdpCredential=!0,Vt(r,ex,s)}function Nd(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,Vt(r,tx,s)}function kd(r){if(!r.oobCode)throw new S("invalid-action-code")}t.ob=function(r,s){return Vt(this,Wk,{oobCode:r,newPassword:s})},t.Sa=function(r){return Vt(this,Rk,{oobCode:r})},t.kb=function(r){return Vt(this,Ok,{oobCode:r})};var Ok={endpoint:"setAccountInfo",A:kd,Z:"email",B:!0},Rk={endpoint:"resetPassword",A:kd,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new S("internal-error")},B:!0},Dk={endpoint:"signupNewUser",A:function(r){if(to(r),!r.password)throw new S("weak-password")},G:_n,V:!0,B:!0},Pk={endpoint:"createAuthUri",B:!0},Lk={endpoint:"deleteAccount",O:["idToken"]},Mk={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new S("internal-error")}},Fk={endpoint:"emailLinkSignin",O:["email","oobCode"],A:to,G:_n,V:!0,B:!0},Vk={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:to,G:_n,V:!0},jk={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:aw,G:_n,B:!0,Na:!0},Uk={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:aw,G:_n,B:!0,Na:!0},Bk={endpoint:"getAccountInfo"},qk={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new S("internal-error");to(r)},Z:"email",B:!0},$k={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new S("internal-error")},Z:"email",B:!0},Kk={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new S("internal-error")},Z:"email",B:!0},Hk={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new S("internal-error");to(r)},Z:"email",B:!0},zk={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Gk={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new S("internal-error")}},Wk={endpoint:"resetPassword",A:kd,Z:"email",B:!0},Qk={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},lw={endpoint:"setAccountInfo",O:["idToken"],A:uw,V:!0},fw={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(uw(r),!r.password)throw new S("weak-password")},G:_n,V:!0},Yk={endpoint:"signupNewUser",G:_n,V:!0,B:!0},Xk={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new S("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Jk={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Zk={endpoint:"verifyAssertion",A:Id,Za:Td,G:cw,V:!0,B:!0},tx={endpoint:"verifyAssertion",A:Id,Za:Td,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new S("user-not-found");if(r.errorMessage)throw dw(r.errorMessage);_n(r)},V:!0,B:!0},ex={endpoint:"verifyAssertion",A:function(r){if(Id(r),!r.idToken)throw new S("internal-error")},Za:Td,G:cw,V:!0},nx={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new S("invalid-custom-token")},G:_n,V:!0,B:!0},hw={endpoint:"verifyPassword",A:function(r){if(to(r),!r.password)throw new S("wrong-password")},G:_n,V:!0,B:!0},rx={endpoint:"verifyPhoneNumber",A:_d,G:_n,B:!0},ix={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new S("internal-error");_d(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",Nc(r);_n(r)}},ox={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:_d,G:_n,B:!0},sx={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[rr]^!!r.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function Vt(r,s,c){if(!PN(c,s.O))return se(new S("internal-error"));var h=!!s.Na,p=s.Vb||"POST",y;return mt(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?sw(r,r.i,s.endpoint,p,c,s.Ib,s.mb||!1):sw(r,r.h,s.endpoint,p,c,s.Ib,s.mb||!1)}).then(function(w){return y=w,s.Za?s.Za(c,y):y}).then(s.G).then(function(){if(!s.Z)return y;if(!(s.Z in y))throw new S("internal-error");return y[s.Z]})}function dw(r){return xd({error:{errors:[{message:r}],code:400,message:r}})}function xd(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new S(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Ue(h,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var p in h)if(c.indexOf(p)===0)return new S(h[p],s);return!s&&r&&(s=bu(r)),new S("internal-error",s)}function ux(r){this.b=r,this.a=null,this.sb=ax(this)}function ax(r){return px().then(function(){return new Ft(function(s,c){ue("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:ue("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function p(){clearTimeout(y),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},dx.get());h.ping(p).then(p,function(){c(Error("Network Error"))})})})})}function cx(r,s){return r.sb.then(function(){return new Ft(function(c){r.a.send(s.type,s,c,ue("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function lx(r,s){r.sb.then(function(){r.a.register("authEvent",s,ue("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var fx=new vr(ic,"https://apis.google.com/js/api.js?onload=%{onload}"),hx=new ni(3e4,6e4),dx=new ni(5e3,15e3),Bc=null;function px(){return Bc||(Bc=new Ft(function(r,s){function c(){u0(),ue("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){u0(),s(Error("Network Error"))},timeout:hx.get()})}if(ue("gapi.iframes.Iframe"))r();else if(ue("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){ue("gapi.load")?c():s(Error("Network Error"))},h=lh(fx,{onload:h}),mt(yd(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw Bc=null,r}))}function pw(r,s,c,h){this.l=r,this.h=s,this.i=c,this.g=h,this.f=null,this.g?(r=En(this.g.url),r=mc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=mc("https",this.l,null,"/__/auth/iframe"),this.a=r,Ee(this.a,"apiKey",this.h),Ee(this.a,"appName",this.i),this.b=null,this.c=[]}pw.prototype.toString=function(){return this.f?Ee(this.a,"v",this.f):yr(this.a.b,"v"),this.b?Ee(this.a,"eid",this.b):yr(this.a.b,"eid"),this.c.length?Ee(this.a,"fw",this.c.join(",")):yr(this.a.b,"fw"),this.a.toString()};function Cd(r,s,c,h,p,y){this.u=r,this.s=s,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=p,this.h=this.f=null}Cd.prototype.zb=function(r){return this.h=r,this},Cd.prototype.toString=function(){if(this.v){var r=En(this.v.url);r=mc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=mc("https",this.u,null,"/__/auth/handler");if(Ee(r,"apiKey",this.s),Ee(r,"appName",this.c),Ee(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=_t.app(this.c).auth().la()}catch{c=null}s.pb=c,Ee(r,"providerId",this.a.providerId),c=this.a,s=o0(c.Jb);for(var h in s)s[h]=s[h].toString();h=c.Qc,s=me(s);for(var p=0;p<h.length;p++){var y=h[p];y in s&&delete s[y]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),mr(s)||Ee(r,"customParameters",bu(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Ee(r,"scopes",c.join(","))),this.l?Ee(r,"redirectUrl",this.l):yr(r.b,"redirectUrl"),this.g?Ee(r,"eventId",this.g):yr(r.b,"eventId"),this.i?Ee(r,"v",this.i):yr(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Hn(r,w)&&Ee(r,w,this.b[w]);return this.h?Ee(r,"tid",this.h):yr(r.b,"tid"),this.f?Ee(r,"eid",this.f):yr(r.b,"eid"),w=Od(this.c),w.length&&Ee(r,"fw",w.join(",")),r.toString()};function Od(r){try{return _t.app(r).auth().Ga()}catch{return[]}}function gw(r,s,c,h,p,y){this.s=r,this.g=s,this.b=c,this.f=y,this.c=h||null,this.i=p||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function mw(r){var s=yu();return Sk(r).then(function(c){t:{var h=En(s),p=h.c;h=h.a;for(var y=0;y<c.length;y++){var w=c[y],I=h,j=p;if(w.indexOf("chrome-extension://")==0?I=En(w).a==I&&j=="chrome-extension":j!="http"&&j!="https"?I=!1:AN.test(w)?I=I==w:(w=w.split(".").join("\\."),I=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(I)),I){c=!0;break t}}c=!1}if(!c)throw new ad(yu())})}function vw(r){return r.m||(r.m=vc().then(function(){if(!r.u){var s=r.c,c=r.i,h=Od(r.b),p=new pw(r.s,r.g,r.b,r.f);p.f=s,p.b=c,p.c=ot(h||[]),r.u=p.toString()}r.v=new ux(r.u),gx(r)})),r.m}t=gw.prototype,t.Pb=function(r,s,c){var h=new S("popup-closed-by-user"),p=new S("web-storage-unsupported"),y=this,w=!1;return this.ma().then(function(){mx(y).then(function(I){I||(r&&Hi(r),s(p),w=!0)})}).o(function(){}).then(function(){if(!w)return SN(r)}).then(function(){if(!w)return Ho(c).then(function(){s(h)})})},t.Yb=function(){var r=Be();return!wu(r)&&!s0(r)},t.Ub=function(){return!1},t.Nb=function(r,s,c,h,p,y,w,I){if(!r)return se(new S("popup-blocked"));if(w&&!wu())return this.ma().o(function(H){Hi(r),p(H)}),h(),mt();this.a||(this.a=mw(yw(this)));var j=this;return this.a.then(function(){var H=j.ma().o(function(It){throw Hi(r),p(It),It});return h(),H}).then(function(){if(sd(c),!w){var H=Mu(j.s,j.g,j.b,s,c,null,y,j.c,void 0,j.i,I,j.f);Jy(H,r)}}).o(function(H){throw H.code=="auth/network-request-failed"&&(j.a=null),H})};function yw(r){return r.l||(r.C=r.c?Qo(r.c,Od(r.b)):null,r.l=new nr(r.g,Ut(r.i),r.C),r.f&&Uc(r.l,r.f)),r.l}t.Ob=function(r,s,c,h){this.a||(this.a=mw(yw(this)));var p=this;return this.a.then(function(){sd(s);var y=Mu(p.s,p.g,p.b,r,s,yu(),c,p.c,void 0,p.i,h,p.f);Jy(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(p.a=null),y})},t.ma=function(){var r=this;return vw(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new S("network-request-failed")})},t.ac=function(){return!0};function Mu(r,s,c,h,p,y,w,I,j,H,It,Jt){return r=new Cd(r,s,c,h,p,Jt),r.l=y,r.g=w,r.i=I,r.b=me(j||null),r.f=H,r.zb(It).toString()}function gx(r){if(!r.v)throw Error("IfcHandler must be initialized!");lx(r.v,function(s){var c={};if(s&&s.authEvent){var h=!1;for(s=B0(s.authEvent),c=0;c<r.h.length;c++)h=r.h[c](s)||h;return c={},c.status=h?"ACK":"ERROR",mt(c)}return c.status="ERROR",mt(c)})}function mx(r){var s={type:"webStorageSupport"};return vw(r).then(function(){return cx(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}t.Ea=function(r){this.h.push(r)},t.Ta=function(r){B(this.h,function(s){return s==r})};function ww(r){if(this.a=r||_t.INTERNAL.reactNative&&_t.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=ww.prototype,t.get=function(r){return mt(this.a.getItem(r)).then(function(s){return s&&Xo(s)})},t.set=function(r,s){return mt(this.a.setItem(r,bu(s)))},t.U=function(r){return mt(this.a.removeItem(r))},t.ca=function(){},t.ia=function(){};function bw(r){this.b=r,this.a={},this.f=R(this.c,this)}var Ew=[];function vx(){var r=tr()?self:null;if(J(Ew,function(c){c.b==r&&(s=c)}),!s){var s=new bw(r);Ew.push(s)}return s}bw.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var p=[];J(h,function(y){p.push(mt().then(function(){return y(r.origin,r.data.data)}))}),Sy(p).then(function(y){var w=[];J(y,function(I){w.push({fulfilled:I.Qb,value:I.value,reason:I.reason?I.reason.message:void 0})}),J(w,function(I){for(var j in I)typeof I[j]>"u"&&delete I[j]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:w})})}};function _w(r,s,c){mr(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function Iw(r){this.a=r}Iw.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function Tw(r){this.c=r,this.b=!1,this.a=[]}function Sw(r,s,c,h){var p,y=c||{},w,I,j,H=null;if(r.b)return se(Error("connection_unavailable"));var It=h?800:50,Jt=typeof MessageChannel<"u"?new MessageChannel:null;return new Ft(function(Kt,Le){Jt?(p=Math.floor(Math.random()*Math.pow(10,20)).toString(),Jt.port1.start(),I=setTimeout(function(){Le(Error("unsupported_event"))},It),w=function(jr){jr.data.eventId===p&&(jr.data.status==="ack"?(clearTimeout(I),j=setTimeout(function(){Le(Error("timeout"))},3e3)):jr.data.status==="done"?(clearTimeout(j),typeof jr.data.response<"u"?Kt(jr.data.response):Le(Error("unknown_error"))):(clearTimeout(I),clearTimeout(j),Le(Error("invalid_response"))))},H={messageChannel:Jt,onMessage:w},r.a.push(H),Jt.port1.addEventListener("message",w),r.c.postMessage({eventType:s,eventId:p,data:y},[Jt.port2])):Le(Error("connection_unavailable"))}).then(function(Kt){return Rd(r,H),Kt}).o(function(Kt){throw Rd(r,H),Kt})}function Rd(r,s){if(s){var c=s.messageChannel,h=s.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),B(r.a,function(p){return p==s})}}Tw.prototype.close=function(){for(;0<this.a.length;)Rd(this,this.a[0]);this.b=!0};function Aw(){if(!Ld())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;tr()&&self?(this.v=vx(),_w(this.v,"keyChanged",function(s,c){return xw(r).then(function(h){return 0<h.length&&J(r.a,function(p){p(h)}),{keyProcessed:P(h,c.key)}})}),_w(this.v,"ping",function(){return mt(["keyChanged"])})):RN().then(function(s){(r.h=s)&&(r.g=new Tw(new Iw(s)),Sw(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&P(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var Dd;function yx(r){return new Ft(function(s,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(p){c(Error(p.target.error))}})}function Nw(r){return new Ft(function(s,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(p){try{p.preventDefault()}catch{}c(Error(p.target.error))},h.onupgradeneeded=function(p){p=p.target.result;try{p.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(p){p=p.target.result,p.objectStoreNames.contains("firebaseLocalStorage")?s(p):yx(r).then(function(){return Nw(r)}).then(function(y){s(y)}).o(function(y){c(y)})}})}function Pd(r){return r.i||(r.i=Nw(r)),r.i}function qc(r,s){function c(p,y){Pd(r).then(s).then(p).o(function(w){if(3<++h)y(w);else return Pd(r).then(function(I){return I.close(),r.i=void 0,c(p,y)}).o(function(I){y(I)})})}var h=0;return new Ft(c)}function Ld(){try{return!!f.indexedDB}catch{return!1}}function Fu(r){return r.objectStore("firebaseLocalStorage")}function Vu(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function es(r){return new Ft(function(s,c){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){c(h.target.error)}})}t=Aw.prototype,t.set=function(r,s){var c=this,h=!1;return qc(this,function(p){return p=Fu(Vu(p,!0)),es(p.get(r))}).then(function(p){return qc(c,function(y){if(y=Fu(Vu(y,!0)),p)return p.value=s,es(y.put(p));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=s,es(y.add(w))})}).then(function(){return c.c[r]=s,kw(c,r)}).oa(function(){h&&c.b--})};function kw(r,s){return r.g&&r.h&&ON()===r.h?Sw(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):mt()}t.get=function(r){return qc(this,function(s){return es(Fu(Vu(s,!1)).get(r))}).then(function(s){return s&&s.value})},t.U=function(r){var s=this,c=!1;return qc(this,function(h){return c=!0,s.b++,es(Fu(Vu(h,!0)).delete(r))}).then(function(){return delete s.c[r],kw(s,r)}).oa(function(){c&&s.b--})};function xw(r){return Pd(r).then(function(s){var c=Fu(Vu(s,!1));return c.getAll?es(c.getAll()):new Ft(function(h,p){var y=[],w=c.openCursor();w.onsuccess=function(I){(I=I.target.result)?(y.push(I.value),I.continue()):h(y)},w.onerror=function(I){p(I.target.error)}})}).then(function(s){var c={},h=[];if(r.b==0){for(h=0;h<s.length;h++)c[s[h].fbase_key]=s[h].value;h=Zy(r.c,c),r.c=c}return h})}t.ca=function(r){this.a.length==0&&wx(this),this.a.push(r)},t.ia=function(r){B(this.a,function(s){return s==r}),this.a.length==0&&Cw(this)};function wx(r){function s(){r.f=setTimeout(function(){r.l=xw(r).then(function(c){0<c.length&&J(r.a,function(h){h(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}Cw(r),s()}function Cw(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function Ow(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=mt().then(function(){if(Ld()){var h=Gi(),p="__sak"+h;return Dd||(Dd=new Aw),c=Dd,c.set(p,h).then(function(){return c.get(p)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(p)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(p){J(s.a,function(y){y(p)})}),h})}t=Ow.prototype,t.get=function(r){return this.b.then(function(s){return s.get(r)})},t.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},t.U=function(r){return this.b.then(function(s){return s.U(r)})},t.ca=function(r){this.a.push(r)},t.ia=function(r){B(this.a,function(s){return s==r})};function ju(){this.a={},this.type="inMemory"}t=ju.prototype,t.get=function(r){return mt(this.a[r])},t.set=function(r,s){return this.a[r]=s,mt()},t.U=function(r){return delete this.a[r],mt()},t.ca=function(){},t.ia=function(){};function $c(){if(!bx())throw wr()=="Node"?new S("internal-error","The LocalStorage compatibility library was not found."):new S("web-storage-unsupported");this.a=Rw()||_t.INTERNAL.node.localStorage,this.type="localStorage"}function Rw(){try{var r=f.localStorage,s=Gi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function bx(){var r=wr()=="Node";if(r=Rw()||r&&_t.INTERNAL.node&&_t.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=$c.prototype,t.get=function(r){var s=this;return mt().then(function(){var c=s.a.getItem(r);return Xo(c)})},t.set=function(r,s){var c=this;return mt().then(function(){var h=bu(s);h===null?c.U(r):c.a.setItem(r,h)})},t.U=function(r){var s=this;return mt().then(function(){s.a.removeItem(r)})},t.ca=function(r){f.window&&Kn(f.window,"storage",r)},t.ia=function(r){f.window&&On(f.window,"storage",r)};function Md(){this.type="nullStorage"}t=Md.prototype,t.get=function(){return mt(null)},t.set=function(){return mt()},t.U=function(){return mt()},t.ca=function(){},t.ia=function(){};function Fd(){if(!Ex())throw wr()=="Node"?new S("internal-error","The SessionStorage compatibility library was not found."):new S("web-storage-unsupported");this.a=Dw()||_t.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Dw(){try{var r=f.sessionStorage,s=Gi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function Ex(){var r=wr()=="Node";if(r=Dw()||r&&_t.INTERNAL.node&&_t.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=Fd.prototype,t.get=function(r){var s=this;return mt().then(function(){var c=s.a.getItem(r);return Xo(c)})},t.set=function(r,s){var c=this;return mt().then(function(){var h=bu(s);h===null?c.U(r):c.a.setItem(r,h)})},t.U=function(r){var s=this;return mt().then(function(){s.a.removeItem(r)})},t.ca=function(){},t.ia=function(){};function _x(){var r={};r.Browser=Ix,r.Node=Tx,r.ReactNative=Sx,r.Worker=Ax,this.a=r[wr()]}var Vd,Ix={F:$c,cb:Fd},Tx={F:$c,cb:Fd},Sx={F:ww,cb:Md},Ax={F:$c,cb:Md},ns={rd:"local",NONE:"none",td:"session"};function Nx(r){var s=new S("invalid-persistence-type"),c=new S("unsupported-persistence-type");t:{for(h in ns)if(ns[h]==r){var h=!0;break t}h=!1}if(!h||typeof r!="string")throw s;switch(wr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!Ld()&&r!=="none")throw c;break;default:if(!Vh()&&r!=="none")throw c}}function Pw(){var r=!!(!s0(Be())&&Mh()),s=wu(),c=Vh();this.m=r,this.h=s,this.l=c,this.a={},Vd||(Vd=new _x),r=Vd;try{this.g=!Ph()&&a0()||!f.indexedDB?new r.a.F:new Ow(tr()?new ju:new r.a.F)}catch{this.g=new ju,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new ju}this.v=new ju,this.f=R(this.Zb,this),this.b={}}var jd;function Uu(){return jd||(jd=new Pw),jd}function eo(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function rs(r,s){return"firebase:"+r.name+(s?":"+s:"")}function kx(r,s,c){var h=rs(s,c),p=eo(r,s.F);return r.get(s,c).then(function(y){var w=null;try{w=Xo(f.localStorage.getItem(h))}catch{}if(w&&!y)return f.localStorage.removeItem(h),r.set(s,w,c);w&&y&&p.type!="localStorage"&&f.localStorage.removeItem(h)})}t=Pw.prototype,t.get=function(r,s){return eo(this,r.F).get(rs(r,s))};function is(r,s,c){return c=rs(s,c),s.F=="local"&&(r.b[c]=null),eo(r,s.F).U(c)}t.set=function(r,s,c){var h=rs(r,c),p=this,y=eo(this,r.F);return y.set(h,s).then(function(){return y.get(h)}).then(function(w){r.F=="local"&&(p.b[h]=w)})},t.addListener=function(r,s,c){r=rs(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),mr(this.a)&&(eo(this,"local").ca(this.f),this.h||(Ph()||!a0())&&f.indexedDB||!this.l||xx(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},t.removeListener=function(r,s,c){r=rs(r,s),this.a[r]&&(B(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),mr(this.a)&&(eo(this,"local").ia(this.f),Ud(this))};function xx(r){Ud(r),r.c=setInterval(function(){for(var s in r.a){var c=f.localStorage.getItem(s),h=r.b[s];c!=h&&(r.b[s]=c,c=new qi({type:"storage",key:s,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Ud(r){r.c&&(clearInterval(r.c),r.c=null)}t.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var p=f.localStorage.getItem(c);p!==h&&(this.b[c]=p,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?eo(this,"local").ia(this.f):Ud(this),this.m){if(c=f.localStorage.getItem(s),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var y=this;c=function(){(typeof r.a.a<"u"||y.b[s]!==f.localStorage.getItem(s))&&(y.b[s]=f.localStorage.getItem(s),y.nb(s))},Zn&&Zr&&Zr==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else J(r,R(this.nb,this))},t.nb=function(r){this.a[r]&&J(this.a[r],function(s){s()})};function Cx(r){this.a=r,this.b=Uu()}var Bd={name:"authEvent",F:"local"};function Ox(r){return r.b.get(Bd,r.a).then(function(s){return B0(s)})}function Rx(){this.a=Uu()}function Dx(){this.b=-1}function Kc(r,s){this.b=Lw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),Hc===void 0&&(f.Int32Array?Hc=new Int32Array(Vw):Hc=Vw),this.reset()}var Hc;D(Kc,Dx);for(var Lw=64,Px=Lw-1,Mw=[],qd=0;qd<Px;qd++)Mw[qd]=0;var Fw=tt(128,Mw);Kc.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):ot(this.h)};function $d(r){for(var s=r.f,c=r.l,h=0,p=0;p<s.length;)c[h++]=s[p]<<24|s[p+1]<<16|s[p+2]<<8|s[p+3],p=4*h;for(s=16;64>s;s++){p=c[s-15]|0,h=c[s-2]|0;var y=(c[s-16]|0)+((p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3)|0,w=(c[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[s]=y+w|0}h=r.a[0]|0,p=r.a[1]|0;var I=r.a[2]|0,j=r.a[3]|0,H=r.a[4]|0,It=r.a[5]|0,Jt=r.a[6]|0;for(y=r.a[7]|0,s=0;64>s;s++){var Kt=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&p^h&I^p&I)|0;w=H&It^~H&Jt,y=y+((H>>>6|H<<26)^(H>>>11|H<<21)^(H>>>25|H<<7))|0,w=w+(Hc[s]|0)|0,w=y+(w+(c[s]|0)|0)|0,y=Jt,Jt=It,It=H,H=j+w|0,j=I,I=p,p=h,h=w+Kt|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+p|0,r.a[2]=r.a[2]+I|0,r.a[3]=r.a[3]+j|0,r.a[4]=r.a[4]+H|0,r.a[5]=r.a[5]+It|0,r.a[6]=r.a[6]+Jt|0,r.a[7]=r.a[7]+y|0}function Kd(r,s,c){c===void 0&&(c=s.length);var h=0,p=r.c;if(typeof s=="string")for(;h<c;)r.f[p++]=s.charCodeAt(h++),p==r.b&&($d(r),p=0);else if(E(s))for(;h<c;){var y=s[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");r.f[p++]=y,p==r.b&&($d(r),p=0)}else throw Error("message must be string or array");r.c=p,r.g+=c}var Vw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function jw(){Kc.call(this,8,Lx)}D(jw,Kc);var Lx=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Uw(r,s,c,h,p,y){this.v=r,this.i=s,this.l=c,this.m=h||null,this.u=p||null,this.s=y,this.h=s+":"+c,this.C=new Rx,this.g=new Cx(this.h),this.f=null,this.b=[],this.a=this.c=null}function zc(r){return new S("invalid-cordova-configuration",r)}t=Uw.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=kN().then(function(){if(typeof ue("universalLinks.subscribe",f)!="function")throw zc("cordova-universal-links-plugin-fix is not installed");if(typeof ue("BuildInfo.packageName",f)>"u")throw zc("cordova-plugin-buildinfo is not installed");if(typeof ue("cordova.plugins.browsertab.openUrl",f)!="function")throw zc("cordova-plugin-browsertab is not installed");if(typeof ue("cordova.InAppBrowser.open",f)!="function")throw zc("cordova-plugin-inappbrowser is not installed")},function(){throw new S("cordova-not-ready")})};function Mx(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function Fx(r){var s=new jw;Kd(s,r),r=[];var c=8*s.g;56>s.c?Kd(s,Fw,56-s.c):Kd(s,Fw,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=c&255,c/=256;for($d(s),h=c=0;h<s.i;h++)for(var p=24;0<=p;p-=8)r[c++]=s.a[h]>>p&255;return WN(r)}t.Pb=function(r,s){return s(new S("operation-not-supported-in-this-environment")),mt()},t.Nb=function(){return se(new S("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(r,s,c,h){if(this.c)return se(new S("redirect-operation-pending"));var p=this,y=f.document,w=null,I=null,j=null,H=null;return this.c=mt().then(function(){return sd(s),qw(p)}).then(function(){return Vx(p,r,s,c,h)}).then(function(){return new Ft(function(It,Jt){I=function(){var Kt=ue("cordova.plugins.browsertab.close",f);return It(),typeof Kt=="function"&&Kt(),p.a&&typeof p.a.close=="function"&&(p.a.close(),p.a=null),!1},p.Ea(I),j=function(){w||(w=Ho(2e3).then(function(){Jt(new S("redirect-cancelled-by-user"))}))},H=function(){jh()&&j()},y.addEventListener("resume",j,!1),Be().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",H,!1)}).o(function(It){return Hd(p).then(function(){throw It})})}).oa(function(){j&&y.removeEventListener("resume",j,!1),H&&y.removeEventListener("visibilitychange",H,!1),w&&w.cancel(),I&&p.Ta(I),p.c=null})};function Vx(r,s,c,h,p){var y=Mx(),w=new er(s,h,null,y,new S("no-auth-event"),null,p),I=ue("BuildInfo.packageName",f);if(typeof I!="string")throw new S("invalid-cordova-configuration");var j=ue("BuildInfo.displayName",f),H={};if(Be().toLowerCase().match(/iphone|ipad|ipod/))H.ibi=I;else if(Be().toLowerCase().match(/android/))H.apn=I;else return se(new S("operation-not-supported-in-this-environment"));j&&(H.appDisplayName=j),y=Fx(y),H.sessionId=y;var It=Mu(r.v,r.i,r.l,s,c,null,h,r.m,H,r.u,p,r.s);return r.ma().then(function(){var Jt=r.h;return r.C.a.set(Bd,w.w(),Jt)}).then(function(){var Jt=ue("cordova.plugins.browsertab.isAvailable",f);if(typeof Jt!="function")throw new S("invalid-cordova-configuration");var Kt=null;Jt(function(Le){if(Le){if(Kt=ue("cordova.plugins.browsertab.openUrl",f),typeof Kt!="function")throw new S("invalid-cordova-configuration");Kt(It)}else{if(Kt=ue("cordova.InAppBrowser.open",f),typeof Kt!="function")throw new S("invalid-cordova-configuration");Le=Be(),r.a=Kt(It,Le.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Le.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Bw(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function qw(r){return r.f||(r.f=r.ma().then(function(){return new Ft(function(s){function c(h){return s(h),r.Ta(c),!1}r.Ea(c),jx(r)})})),r.f}function Hd(r){var s=null;return Ox(r.g).then(function(c){return s=c,c=r.g,is(c.b,Bd,c.a)}).then(function(){return s})}function jx(r){function s(w){h=!0,p&&p.cancel(),Hd(r).then(function(I){var j=c;if(I&&w&&w.url){var H=null;j=D0(w.url),j.indexOf("/__/auth/callback")!=-1&&(H=En(j),H=Xo(Hn(H,"firebaseError")||null),H=(H=typeof H=="object"?St(H):null)?new er(I.c,I.b,null,null,H,null,I.T()):new er(I.c,I.b,j,I.f,null,null,I.T())),j=H||c}Bw(r,j)})}var c=new er("unknown",null,null,null,new S("no-auth-event")),h=!1,p=Ho(500).then(function(){return Hd(r).then(function(){h||Bw(r,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(ue("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:w}),typeof y=="function")try{y(w)}catch(I){console.error(I)}},ud||(ud=new nk),rk(s)}t.Ea=function(r){this.b.push(r),qw(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new er("unknown",null,null,null,new S("no-auth-event")),r(s))})},t.Ta=function(r){B(this.b,function(s){return s==r})};function Ux(r){this.a=r,this.b=Uu()}var zd={name:"pendingRedirect",F:"session"};function Bx(r){return r.b.set(zd,"pending",r.a)}function Gd(r){return is(r.b,zd,r.a)}function qx(r){return r.b.get(zd,r.a).then(function(s){return s=="pending"})}function Gc(r,s,c,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=R(this.s,this),this.b=new Qc,this.C=new Jw,this.g=new Ux(Qw(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=$w(this.D,this.v,this.m,Nt,this.J)}function $w(r,s,c,h,p){var y=_t.SDK_VERSION||null;return Lh()?new Uw(r,s,c,y,h,p):new gw(r,s,c,y,h,p)}Gc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=$w(this.D,this.v,this.m,null,this.J),this.i={}};function Kw(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function Hw(r){r.a.Yb()&&Kw(r).o(function(s){var c=new er("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Qd(s)&&r.s(c)}),r.a.Ub()||Yw(r.b)}function Wc(r,s){P(r.h,s)||r.h.push(s),r.f||qx(r.g).then(function(c){c?Gd(r.g).then(function(){Kw(r).o(function(h){var p=new er("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Qd(h)&&r.s(p)})}):Hw(r)}).o(function(){Hw(r)})}function Wd(r,s){B(r.h,function(c){return c==s})}Gc.prototype.s=function(r){if(!r)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return Yw(this.b),s};var $x=new ni(2e3,1e4),Kx=new ni(3e4,6e4);Gc.prototype.ra=function(){return this.b.ra()};function zw(r,s,c,h,p,y,w){return r.a.Nb(s,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},p,y,w)}function Qd(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Gw(r,s,c,h,p){var y;return Bx(r.g).then(function(){return r.a.Ob(s,c,h,p).o(function(w){if(Qd(w))throw new S("operation-not-supported-in-this-environment");return y=w,Gd(r.g).then(function(){throw y})}).then(function(){return r.a.ac()?new Ft(function(){}):Gd(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Ww(r,s,c,h,p){return r.a.Pb(h,function(y){s.na(c,null,y,p)},$x.get())}var Yd={};function Qw(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function Xd(r,s,c,h){var p=Qw(s,c,h);return Yd[p]||(Yd[p]=new Gc(r,s,c,h)),Yd[p]}function Qc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Qc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Qc.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,p=r.a&&r.a.code=="auth/web-storage-unsupported",y=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!p&&!y),c!="unknown"||p||y?r.a?(no(this,!0,null,r.a),mt()):s.Fa(c,h)?Hx(this,r,s):se(new S("invalid-auth-event")):(no(this,!1,null,null),mt())}else se(new S("invalid-auth-event"))};function Yw(r){r.g||(r.g=!0,no(r,!1,null,null))}function Yc(r){r.g&&!r.i&&no(r,!1,null,null)}function Hx(r,s,c){c=c.Fa(s.c,s.b);var h=s.g,p=s.f,y=s.i,w=s.T(),I=!!s.c.match(/Redirect$/);c(h,p,w,y).then(function(j){no(r,I,j,null)}).o(function(j){no(r,I,null,j)})}function zx(r,s){if(r.b=function(){return se(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function Xw(r,s){if(r.b=function(){return mt(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function no(r,s,c,h){s?h?zx(r,h):Xw(r,c):Xw(r,{user:null}),r.f=[],r.c=[]}Qc.prototype.ra=function(){var r=this;return new Ft(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),Gx(r))})};function Gx(r){var s=new S("timeout");r.a&&r.a.cancel(),r.a=Ho(Kx.get()).then(function(){r.b||(r.g=!0,no(r,!0,null,s))})}function Jw(){}Jw.prototype.h=function(r,s){if(r){var c=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),mt()):s.Fa(c,h)?Wx(r,s):se(new S("invalid-auth-event"))}else se(new S("invalid-auth-event"))};function Wx(r,s){var c=r.b,h=r.c;s.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(p){s.na(h,p,null,c)}).o(function(p){s.na(h,null,p,c)})}function Zw(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Jd(r,s){this.a=s,dt(this,"verificationId",r)}Jd.prototype.confirm=function(r){return r=U0(this.verificationId,r),this.a(r)};function Zd(r,s,c,h){return new Fr(r).gb(s,c).then(function(p){return new Jd(p,h)})}function Qx(r){var s=S0(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");fn(this,{token:r,expirationTime:Eu(1e3*s.exp),authTime:Eu(1e3*s.auth_time),issuedAtTime:Eu(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function tp(r,s,c){var h=s&&s[eb];if(!h)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=me(s),this.g=c,this.c=new Sc(null,h),this.b=[];var p=this;J(s[tb]||[],function(y){(y=Hh(y))&&p.b.push(y)}),dt(this,"auth",this.a),dt(this,"session",this.c),dt(this,"hints",this.b)}var tb="mfaInfo",eb="mfaPendingCredential";tp.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var h=me(s.f);return delete h[tb],delete h[eb],Ue(h,c),s.g(h)})};function ep(r,s,c,h){S.call(this,"multi-factor-auth-required",h,s),this.b=new tp(r,s,c),dt(this,"resolver",this.b)}D(ep,S);function nb(r,s,c){if(r&&O(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new ep(s,r.serverResponse,c,r.message)}catch{}return null}function rb(){}rb.prototype.tb=function(r,s,c){return s.type==Su?Yx(this,r,s,c):Xx(this,r,s)};function Yx(r,s,c,h){return c.Ha().then(function(p){return p={idToken:p},typeof h<"u"&&(p.displayName=h),Ue(p,{phoneVerificationInfo:Au(r.a)}),Vt(s,jk,p)})}function Xx(r,s,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},Ue(h,{phoneVerificationInfo:Au(r.a)}),Vt(s,Uk,h)})}function np(r){dt(this,"factorId",r.fa),this.a=r}D(np,rb);function ib(r){if(np.call(this,r),this.a.fa!=Fr.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}D(ib,np);function os(r,s){bn.call(this,r);for(var c in s)this[c]=s[c]}D(os,bn);function rp(r,s){this.a=r,this.b=[],this.c=R(this.yc,this),Kn(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&J(s.multiFactor.enrolledFactors,function(h){var p=null,y={};if(h){h.uid&&(y[Gh]=h.uid),h.displayName&&(y[l0]=h.displayName),h.enrollmentTime&&(y[zh]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[Wh]=h.phoneNumber);try{p=new _u(y)}catch{}h=p}else h=null;h&&c.push(h)}),Xc(this,c)}function Jx(r){var s=[];return J(r.mfaInfo||[],function(c){(c=Hh(c))&&s.push(c)}),s}t=rp.prototype,t.yc=function(r){Xc(this,Jx(r.hd))};function Xc(r,s){r.b=s,dt(r,"enrolledFactors",s)}t.Sb=function(){return this.a.I().then(function(r){return new Sc(r,null)})},t.fc=function(r,s){var c=this,h=this.a.a;return this.Sb().then(function(p){return r.tb(h,p,s)}).then(function(p){return _r(c.a,p),c.a.reload()})},t.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(p){return Vt(h,sx,{idToken:p,mfaEnrollmentId:c})}).then(function(p){var y=qt(s.b,function(w){return w.uid!=c});return Xc(s,y),_r(s.a,p),s.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},t.w=function(){return{multiFactor:{enrolledFactors:bt(this.b,function(r){return r.w()})}}};function ip(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}ip.prototype.start=function(){this.a=this.c,op(this,!0)};function Zx(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function op(r,s){r.stop(),r.b=Ho(Zx(r,s)).then(function(){return CN()}).then(function(){return r.h()}).then(function(){op(r,!0)}).o(function(c){r.i(c)&&op(r,!1)})}ip.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function sp(r){this.f=r,this.b=this.a=null,this.c=Date.now()}sp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function ob(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function sb(r,s){r.b=Ic(s[rr]||""),r.a=s.refreshToken,s=s.expiresIn,ob(r,typeof s<"u"?Number(s):void 0)}function tC(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function eC(r,s){return Ik(r.f,s).then(function(c){return r.b=Ic(c.access_token),r.a=c.refresh_token,ob(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}sp.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?se(new S("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?eC(this,{grant_type:"refresh_token",refresh_token:this.a}):mt(null):mt({accessToken:this.b.toString(),refreshToken:this.a})};function Jc(r,s){this.a=r||null,this.b=s||null,fn(this,{lastSignInTime:Eu(s||null),creationTime:Eu(r||null)})}function nC(r){return new Jc(r.a,r.b)}Jc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function rC(r,s,c,h,p,y){fn(this,{uid:r,displayName:h||null,photoURL:p||null,email:c||null,phoneNumber:y||null,providerId:s})}function Dn(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=_t.SDK_VERSION?Qo(_t.SDK_VERSION):null;this.a=new nr(this.l,Ut(Nt),h),(this.u=r.emulatorConfig||null)&&Uc(this.a,this.u),this.h=new sp(this.a),dp(this,s[rr]),sb(this.h,s),dt(this,"refreshToken",this.h.a),ab(this,c||{}),ln.call(this),this.P=!1,this.s&&zi()&&(this.b=Xd(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=iC(this),this.ba=R(this.ib,this);var p=this;this.za=null,this.Pa=function(y){p.xa(y.h)},this.qa=null,this.Ba=function(y){up(p,y.c)},this.$=null,this.aa=[],this.Oa=function(y){Bu(p,y.f)},this.ja=null,this.S=new rp(this,c),dt(this,"multiFactor",this.S)}D(Dn,ln),Dn.prototype.xa=function(r){this.za=r,nw(this.a,r)};function up(r,s){r.u=s,Uc(r.a,s),r.b&&(s=r.b,r.b=Xd(r.s,r.l,r.m,r.u),r.P&&(Wd(s,r),Wc(r.b,r)))}Dn.prototype.la=function(){return this.za};function ap(r,s){r.qa&&On(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&Kn(s,"languageCodeChanged",r.Pa)}function cp(r,s){r.$&&On(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&Kn(s,"emulatorConfigChanged",r.Ba)}function Bu(r,s){r.aa=s,rw(r.a,_t.SDK_VERSION?Qo(_t.SDK_VERSION,r.aa):null)}Dn.prototype.Ga=function(){return ot(this.aa)};function lp(r,s){r.ja&&On(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&Kn(s,"frameworkChanged",r.Oa)}Dn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function fp(r){try{return _t.app(r.m).auth()}catch{throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function iC(r){return new ip(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function ub(r){r.J||r.D.b||(r.D.start(),On(r,"tokenChanged",r.ba),Kn(r,"tokenChanged",r.ba))}function hp(r){On(r,"tokenChanged",r.ba),r.D.stop()}function dp(r,s){r.Aa=s,dt(r,"_lat",s)}function oC(r,s){B(r.W,function(c){return c==s})}function ro(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return Sy(s).then(function(){return r})}function qu(r){r.b&&!r.P&&(r.P=!0,Wc(r.b,r))}function ab(r,s){fn(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new Jc(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}dt(Dn.prototype,"providerId","firebase");function cb(){}function pp(r){return mt().then(function(){if(r.J)throw new S("app-deleted")})}function gp(r){return bt(r.providerData,function(s){return s.providerId})}function mp(r,s){s&&(lb(r,s.providerId),r.providerData.push(s))}function lb(r,s){B(r.providerData,function(c){return c.providerId==s})}function oi(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&dt(r,s,c)}function Zc(r,s){r!=s&&(fn(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?dt(r,"metadata",nC(s.metadata)):dt(r,"metadata",new Jc),J(s.providerData,function(c){mp(r,c)}),tC(r.h,s.h),dt(r,"refreshToken",r.h.a),Xc(r.S,s.S.b))}t=Dn.prototype,t.reload=function(){var r=this;return Re(this,pp(this).then(function(){return vp(r).then(function(){return ro(r)}).then(cb)}))};function vp(r){return r.I().then(function(s){var c=r.isAnonymous;return sC(r,s).then(function(){return c||oi(r,"isAnonymous",!1),s})})}t.oc=function(r){return this.I(r).then(function(s){return new Qx(s)})},t.I=function(r){var s=this;return Re(this,pp(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new S("internal-error");return c.accessToken!=s.Aa&&(dp(s,c.accessToken),s.dispatchEvent(new os("tokenChanged"))),oi(s,"refreshToken",c.refreshToken),c.accessToken}))};function _r(r,s){s[rr]&&r.Aa!=s[rr]&&(sb(r.h,s),r.dispatchEvent(new os("tokenChanged")),dp(r,s[rr]),oi(r,"refreshToken",r.h.a))}function sC(r,s){return Vt(r.a,Bk,{idToken:s}).then(R(r.Kc,r))}t.Kc=function(r){if(r=r.users,!r||!r.length)throw new S("internal-error");r=r[0],ab(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=uC(r),c=0;c<s.length;c++)mp(this,s[c]);oi(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new os("userReloaded",{hd:r}))};function uC(r){return(r=r.providerUserInfo)&&r.length?bt(r,function(s){return new rC(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}t.Lc=function(r){return Uh("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},t.ub=function(r){var s=this,c=null;return Re(this,r.c(this.a,this.uid).then(function(h){return _r(s,h),c=$u(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function tl(r,s){return vp(r).then(function(){if(P(gp(r),s))return ro(r).then(function(){throw new S("provider-already-linked")})})}t.Cc=function(r){return Uh("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},t.rb=function(r){var s=this,c=null;return Re(this,tl(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return c=$u(s,h,"link"),fb(s,h)}).then(function(){return c}))},t.Dc=function(r,s){var c=this;return Re(this,tl(this,"phone").then(function(){return Zd(fp(c),r,s,R(c.rb,c))}))},t.Mc=function(r,s){var c=this;return Re(this,mt().then(function(){return Zd(fp(c),r,s,R(c.ub,c))}),!0)};function $u(r,s,c){var h=od(s);return s=N0(s),br({user:r,credential:h,additionalUserInfo:s,operationType:c})}function fb(r,s){return _r(r,s),r.reload().then(function(){return r})}t.Cb=function(r){var s=this;return Re(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return _r(s,c),s.reload()}))},t.ed=function(r){var s=this;return Re(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return _r(s,c),s.reload()}))},t.Db=function(r){var s=this;return Re(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return _r(s,c),s.reload()}))},t.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return pp(this);var s=this;return Re(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return _r(s,c),oi(s,"displayName",c.displayName||null),oi(s,"photoURL",c.photoUrl||null),J(s.providerData,function(h){h.providerId==="password"&&(dt(h,"displayName",s.displayName),dt(h,"photoURL",s.photoURL))}),ro(s)}).then(cb))},t.cd=function(r){var s=this;return Re(this,vp(this).then(function(c){return P(gp(s),r)?Ck(s.a,c,[r]).then(function(h){var p={};return J(h.providerUserInfo||[],function(y){p[y.providerId]=!0}),J(gp(s),function(y){p[y]||lb(s,y)}),p[Fr.PROVIDER_ID]||dt(s,"phoneNumber",null),ro(s)}):ro(s).then(function(){throw new S("no-such-provider")})}))},t.delete=function(){var r=this;return Re(this,this.I().then(function(s){return Vt(r.a,Lk,{idToken:s})}).then(function(){r.dispatchEvent(new os("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");ap(r,null),cp(r,null),lp(r,null),r.N=[],r.J=!0,hp(r),dt(r,"refreshToken",null),r.b&&Wd(r.b,r)})},t.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},t.na=function(r,s,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?R(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?R(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?R(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?R(this.Mb,this):null},t.Ec=function(r){var s=this;return hb(this,"linkViaPopup",r,function(){return tl(s,r.providerId).then(function(){return ro(s)})},!1)},t.Nc=function(r){return hb(this,"reauthViaPopup",r,function(){return mt()},!0)};function hb(r,s,c,h,p){if(!zi())return se(new S("operation-not-supported-in-this-environment"));if(r.i&&!p)return se(r.i);var y=Zh(c.providerId),w=Gi(r.uid+":::"),I=null;(!wu()||Mh())&&r.s&&c.isOAuthProvider&&(I=Mu(r.s,r.l,r.m,s,c,null,w,_t.SDK_VERSION||null,null,null,r.tenantId,r.u));var j=e0(I,y&&y.va,y&&y.ua);return h=h().then(function(){if(pb(r),!p)return r.I().then(function(){})}).then(function(){return zw(r.b,j,s,c,w,!!I,r.tenantId)}).then(function(){return new Ft(function(H,It){r.na(s,null,new S("cancelled-popup-request"),r.g||null),r.f=H,r.C=It,r.g=w,r.c=Ww(r.b,r,s,j,w)})}).then(function(H){return j&&Hi(j),H?br(H):null}).o(function(H){throw j&&Hi(j),H}),Re(r,h,p)}t.Fc=function(r){var s=this;return db(this,"linkViaRedirect",r,function(){return tl(s,r.providerId)},!1)},t.Oc=function(r){return db(this,"reauthViaRedirect",r,function(){return mt()},!0)};function db(r,s,c,h,p){if(!zi())return se(new S("operation-not-supported-in-this-environment"));if(r.i&&!p)return se(r.i);var y=null,w=Gi(r.uid+":::");return h=h().then(function(){if(pb(r),!p)return r.I().then(function(){})}).then(function(){return r.ga=w,ro(r)}).then(function(I){return r.ha&&(I=r.ha,I=I.b.set(yp,r.w(),I.a)),I}).then(function(){return Gw(r.b,s,c,w,r.tenantId)}).o(function(I){if(y=I,r.ha)return mb(r.ha);throw y}).then(function(){if(y)throw y}),Re(r,h,p)}function pb(r){if(!r.b||!r.P)throw r.b&&!r.P?new S("internal-error"):new S("auth-domain-config-required")}t.Lb=function(r,s,c,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(w){return Ad(p.a,{requestUri:r,postBody:h,sessionId:s,idToken:w})}).then(function(w){return y=$u(p,w,"link"),fb(p,w)}).then(function(){return y}),Re(this,c)},t.Mb=function(r,s,c,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var y=null,w=mt().then(function(){return Zo(Nd(p.a,{requestUri:r,sessionId:s,postBody:h,tenantId:c}),p.uid)}).then(function(I){return y=$u(p,I,"reauthenticate"),_r(p,I),p.i=null,p.reload()}).then(function(){return y});return Re(this,w,!0)},t.vb=function(r){var s=this,c=null;return Re(this,this.I().then(function(h){return c=h,typeof r>"u"||mr(r)?{}:Ec(new bc(r))}).then(function(h){return s.a.vb(c,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},t.Fb=function(r,s){var c=this,h=null;return Re(this,this.I().then(function(p){return h=p,typeof s>"u"||mr(s)?{}:Ec(new bc(s))}).then(function(p){return c.a.Fb(h,r,p)}).then(function(p){if(c.email!=p)return c.reload()}).then(function(){}))};function Re(r,s,c){var h=aC(r,s,c);return r.N.push(h),h.oa(function(){U(r.N,h)}),h.o(function(p){var y=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(y=nb(p.w(),fp(r),R(r.jc,r))),y||p})}t.jc=function(r){var s=null,c=this;return r=Zo(mt(r),c.uid).then(function(h){return s=$u(c,h,"reauthenticate"),_r(c,h),c.i=null,c.reload()}).then(function(){return s}),Re(this,r,!0)};function aC(r,s,c){return r.i&&!c?(s.cancel(),se(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new os("userInvalidated")),r.i=h),h})}t.toJSON=function(){return this.w()},t.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Ue(r,this.metadata.w()),J(this.providerData,function(s){r.providerData.push(DN(s))}),Ue(r,this.S.w()),r};function gb(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[rr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var p=new Dn(s,c,r);return r.providerData&&J(r.providerData,function(y){y&&mp(p,br(y))}),r.redirectEventId&&(p.ga=r.redirectEventId),p}function cC(r,s,c,h){var p=new Dn(r,s);return c&&(p.ha=c),h&&Bu(p,h),p.reload().then(function(){return p})}function lC(r,s,c,h){var p=r.h,y={};return y[rr]=p.b&&p.b.toString(),y.refreshToken=p.a,s=new Dn(s||{apiKey:r.l,authDomain:r.s,appName:r.m},y),c&&(s.ha=c),h&&Bu(s,h),Zc(s,r),s}function fC(r){this.a=r,this.b=Uu()}var yp={name:"redirectUser",F:"session"};function mb(r){return is(r.b,yp,r.a)}function hC(r,s){return r.b.get(yp,r.a).then(function(c){return c&&s&&(c.authDomain=s),gb(c||{})})}function wp(r){this.a=r,this.b=Uu(),this.c=null,this.f=dC(this),this.b.addListener(Ir("local"),this.a,R(this.g,this))}wp.prototype.g=function(){var r=this,s=Ir("local");ss(this,function(){return mt().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return bp(r,"local").then(function(){r.c=s})})})};function bp(r,s){var c=[],h;for(h in ns)ns[h]!==s&&c.push(is(r.b,Ir(ns[h]),r.a));return c.push(is(r.b,Ep,r.a)),nN(c)}function dC(r){var s=Ir("local"),c=Ir("session"),h=Ir("none");return kx(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(p){return p?c:r.b.get(h,r.a).then(function(y){return y?h:r.b.get(s,r.a).then(function(w){return w?s:r.b.get(Ep,r.a).then(function(I){return I?Ir(I):s})})})}).then(function(p){return r.c=p,bp(r,p.F)}).o(function(){r.c||(r.c=s)})}var Ep={name:"persistence",F:"session"};function Ir(r){return{name:"authUser",F:r}}wp.prototype.yb=function(r){var s=null,c=this;return Nx(r),ss(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return s=h,bp(c,r)}).then(function(){if(c.c=Ir(r),s)return c.b.set(c.c,s,c.a)}):mt()})};function pC(r){return ss(r,function(){return r.b.set(Ep,r.c.F,r.a)})}function vb(r,s){return ss(r,function(){return r.b.set(r.c,s.w(),r.a)})}function yb(r){return ss(r,function(){return is(r.b,r.c,r.a)})}function wb(r,s,c){return ss(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&c&&(h.emulatorConfig=c),gb(h||{})})})}function ss(r,s){return r.f=r.f.then(s,s),r.f}function ir(r){if(this.l=!1,dt(this,"settings",new Zw),dt(this,"app",r),te(this).options&&te(this).options.apiKey)r=_t.SDK_VERSION?Qo(_t.SDK_VERSION):null,this.a=new nr(te(this).options&&te(this).options.apiKey,Ut(Nt),r);else throw new S("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=_t.INTERNAL.createSubscribe(R(this.zc,this)),this.W=void 0,this.ib=_t.INTERNAL.createSubscribe(R(this.Ac,this)),us(this,null),this.i=new wp(te(this).options.apiKey+":"+te(this).name),this.D=new fC(te(this).options.apiKey+":"+te(this).name),this.$=ve(this,bC(this)),this.h=ve(this,EC(this)),this.ba=!1,this.ja=R(this.Zc,this),this.Ba=R(this.da,this),this.qa=R(this.mc,this),this.za=R(this.wc,this),this.Aa=R(this.xc,this),this.b=null,vC(this),this.INTERNAL={},this.INTERNAL.delete=R(this.delete,this),this.INTERNAL.logFramework=R(this.Gc,this),this.u=0,ln.call(this),mC(this),this.J=[],this.R=null}D(ir,ln);function bb(r){bn.call(this,"languageCodeChanged"),this.h=r}D(bb,bn);function Eb(r){bn.call(this,"emulatorConfigChanged"),this.c=r}D(Eb,bn);function _b(r){bn.call(this,"frameworkChanged"),this.f=r}D(_b,bn),t=ir.prototype,t.yb=function(r){return r=this.i.yb(r),ve(this,r)},t.xa=function(r){this.aa===r||this.l||(this.aa=r,nw(this.a,this.aa),this.dispatchEvent(new bb(this.la())))},t.la=function(){return this.aa},t.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},t.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,gC(s),this.R={url:r,ec:s},this.settings.jb=!0,Uc(this.a,this.R),this.dispatchEvent(new Eb(this.R))}};function gC(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&vc().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}t.Gc=function(r){this.J.push(r),rw(this.a,_t.SDK_VERSION?Qo(_t.SDK_VERSION,this.J):null),this.dispatchEvent(new _b(this.J))},t.Ga=function(){return ot(this.J)},t.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},t.T=function(){return this.S};function mC(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=En(this.R.url);s=br({protocol:s.c,host:s.a,port:s.g,options:br({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}t.toJSON=function(){return{apiKey:te(this).options.apiKey,authDomain:te(this).options.authDomain,appName:te(this).name,currentUser:Ct(this)&&Ct(this).w()}};function _p(r){return r.Oa||se(new S("auth-domain-config-required"))}function vC(r){var s=te(r).options.authDomain,c=te(r).options.apiKey;s&&zi()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Xd(s,c,te(r).name,r.R),Wc(r.b,r),Ct(r)&&qu(Ct(r)),r.m){qu(r.m);var h=r.m;h.xa(r.la()),ap(h,r),h=r.m,Bu(h,r.J),lp(h,r),h=r.m,up(h,r.R),cp(h,r),r.m=null}return r.b}}))}t.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},t.na=function(r,s,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?R(this.ic,this):null},t.ic=function(r,s,c,h){var p=this,y={requestUri:r,postBody:h,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),p.$.then(function(){return io(p,Sd(p.a,y))})},t.Xc=function(r){if(!zi())return se(new S("operation-not-supported-in-this-environment"));var s=this,c=Zh(r.providerId),h=Gi(),p=null;(!wu()||Mh())&&te(this).options.authDomain&&r.isOAuthProvider&&(p=Mu(te(this).options.authDomain,te(this).options.apiKey,te(this).name,"signInViaPopup",r,null,h,_t.SDK_VERSION||null,null,null,this.T(),this.R));var y=e0(p,c&&c.va,c&&c.ua);return c=_p(this).then(function(w){return zw(w,y,"signInViaPopup",r,h,!!p,s.T())}).then(function(){return new Ft(function(w,I){s.na("signInViaPopup",null,new S("cancelled-popup-request"),s.g),s.f=w,s.C=I,s.g=h,s.c=Ww(s.b,s,"signInViaPopup",y,h)})}).then(function(w){return y&&Hi(y),w?br(w):null}).o(function(w){throw y&&Hi(y),w}),ve(this,c)},t.Yc=function(r){if(!zi())return se(new S("operation-not-supported-in-this-environment"));var s=this,c=_p(this).then(function(){return pC(s.i)}).then(function(){return Gw(s.b,"signInViaRedirect",r,void 0,s.T())});return ve(this,c)};function Ib(r){if(!zi())return se(new S("operation-not-supported-in-this-environment"));var s=_p(r).then(function(){return r.b.ra()}).then(function(c){return c?br(c):null});return ve(r,s)}t.ra=function(){var r=this;return Ib(this).then(function(s){return r.b&&Yc(r.b.b),s}).o(function(s){throw r.b&&Yc(r.b.b),s})},t.dd=function(r){if(!r)return se(new S("null-user"));if(this.S!=r.tenantId)return se(new S("tenant-id-mismatch"));var s=this,c={};c.apiKey=te(this).options.apiKey,c.authDomain=te(this).options.authDomain,c.appName=te(this).name;var h=lC(r,c,s.D,s.Ga());return ve(this,this.h.then(function(){if(te(s).options.apiKey!=r.l)return h.reload()}).then(function(){return Ct(s)&&r.uid==Ct(s).uid?(Zc(Ct(s),r),s.da(r)):(us(s,h),qu(h),s.da(h))}).then(function(){Ku(s)}))};function yC(r,s){var c={};return c.apiKey=te(r).options.apiKey,c.authDomain=te(r).options.authDomain,c.appName=te(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return cC(c,s,r.D,r.Ga())}).then(function(h){return Ct(r)&&h.uid==Ct(r).uid?(Zc(Ct(r),h),r.da(h)):(us(r,h),qu(h),r.da(h))}).then(function(){Ku(r)})}function us(r,s){Ct(r)&&(oC(Ct(r),r.Ba),On(Ct(r),"tokenChanged",r.qa),On(Ct(r),"userDeleted",r.za),On(Ct(r),"userInvalidated",r.Aa),hp(Ct(r))),s&&(s.W.push(r.Ba),Kn(s,"tokenChanged",r.qa),Kn(s,"userDeleted",r.za),Kn(s,"userInvalidated",r.Aa),0<r.u&&ub(s)),dt(r,"currentUser",s),s&&(s.xa(r.la()),ap(s,r),Bu(s,r.J),lp(s,r),up(s,r.R),cp(s,r))}t.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&Yc(r.b.b),Ct(r)?(us(r,null),yb(r.i).then(function(){Ku(r)})):mt()});return ve(this,s)};function wC(r){var s=hC(r.D,te(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),mb(r.D)});return ve(r,s)}function bC(r){var s=te(r).options.authDomain,c=wC(r).then(function(){return wb(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return vb(r.i,h).then(function(){return h})}).o(function(p){return p.code=="auth/network-request-failed"?h:yb(r.i)})):null}).then(function(h){us(r,h||null)});return ve(r,c)}function EC(r){return r.$.then(function(){return Ib(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(Ir("local"),s.a,r.ja)}})}t.Zc=function(){var r=this;return wb(this.i,te(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=Ct(r)&&s){c=Ct(r).uid;var h=s.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return Zc(Ct(r),s),Ct(r).I();(Ct(r)||s)&&(us(r,s),s&&(qu(s),s.ha=r.D),r.b&&Wc(r.b,r),Ku(r))}})},t.da=function(r){return vb(this.i,r)},t.mc=function(){Ku(this),this.da(Ct(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function io(r,s){var c=null,h=null;return ve(r,s.then(function(p){return c=od(p),h=N0(p),yC(r,p)},function(p){var y=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(y=nb(p.w(),r,R(r.kc,r))),y||p}).then(function(){return br({user:Ct(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}t.kc=function(r){var s=this;return this.h.then(function(){return io(s,mt(r))})},t.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(Ct(s))})},t.Ac=function(r){var s=this;_C(this,function(){r.next(Ct(s))})},t.Ic=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(Ct(h)):typeof r.next=="function"&&r.next(Ct(h))}),this.Pa(r,s,c)},t.Hc=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(Ct(h)):typeof r.next=="function"&&r.next(Ct(h))}),this.ib(r,s,c)},t.nc=function(r){var s=this,c=this.h.then(function(){return Ct(s)?Ct(s).I(r).then(function(h){return{accessToken:h}}):null});return ve(this,c)},t.Tc=function(r){var s=this;return this.h.then(function(){return io(s,Vt(s.a,nx,{token:r}))}).then(function(c){var h=c.user;return oi(h,"isAnonymous",!1),s.da(h),c})},t.Uc=function(r,s){var c=this;return this.h.then(function(){return io(c,Vt(c.a,hw,{email:r,password:s}))})},t.dc=function(r,s){var c=this;return this.h.then(function(){return io(c,Vt(c.a,Dk,{email:r,password:s}))})},t.ab=function(r){var s=this;return this.h.then(function(){return io(s,r.ka(s.a))})},t.Sc=function(r){return Uh("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},t.Ab=function(){var r=this;return this.h.then(function(){var s=Ct(r);if(s&&s.isAnonymous){var c=br({providerId:null,isNewUser:!1});return br({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return io(r,r.a.Ab()).then(function(h){var p=h.user;return oi(p,"isAnonymous",!0),r.da(p),h})})};function te(r){return r.app}function Ct(r){return r.currentUser}t.getUid=function(){return Ct(this)&&Ct(this).uid||null};function el(r){return Ct(r)&&Ct(r)._lat||null}function Ku(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](el(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](el(r))}}t.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&Ct(this)&&ub(Ct(this))},t.Pc=function(r){var s=this;J(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&Ct(this)&&hp(Ct(this)),this.removeAuthTokenListener(r)},t.addAuthTokenListener=function(r){var s=this;this.s.push(r),ve(this,this.h.then(function(){s.l||P(s.s,r)&&r(el(s))}))},t.removeAuthTokenListener=function(r){B(this.s,function(s){return s==r})};function _C(r,s){r.N.push(s),ve(r,r.h.then(function(){!r.l&&P(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(el(r)))}))}t.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Ir("local"),r.a,this.ja)),this.b&&(Wd(this.b,this),Yc(this.b.b)),Promise.resolve()};function ve(r,s){return r.P.push(s),s.oa(function(){U(r.P,s)}),s}t.hc=function(r){return ve(this,Tk(this.a,r))},t.Bc=function(r){return!!id(r)},t.xb=function(r,s){var c=this;return ve(this,mt().then(function(){var h=new bc(s);if(!h.c)throw new S("argument-error",Xh+" must be true when sending sign in link to email");return Ec(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},t.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},t.ob=function(r,s){return ve(this,this.a.ob(r,s).then(function(){}))},t.Sa=function(r){return ve(this,this.a.Sa(r).then(function(s){return new LN(s)}))},t.kb=function(r){return ve(this,this.a.kb(r).then(function(){}))},t.wb=function(r,s){var c=this;return ve(this,mt().then(function(){return typeof s>"u"||mr(s)?{}:Ec(new bc(s))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},t.Wc=function(r,s){return ve(this,Zd(this,r,s,R(this.ab,this)))},t.Vc=function(r,s){var c=this;return ve(this,mt().then(function(){var h=s||yu(),p=j0(r,h);if(h=id(h),!h)throw new S("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new S("tenant-id-mismatch");return c.ab(p)}))};function Hu(){}Hu.prototype.render=function(){},Hu.prototype.reset=function(){},Hu.prototype.getResponse=function(){},Hu.prototype.execute=function(){};function as(){this.a={},this.b=1e12}var Ip=null;as.prototype.render=function(r,s){return this.a[this.b.toString()]=new nl(r,s),this.b++},as.prototype.reset=function(r){var s=Tp(this,r);r=Tb(r),s&&r&&(s.delete(),delete this.a[r])},as.prototype.getResponse=function(r){return(r=Tp(this,r))?r.getResponse():null},as.prototype.execute=function(r){(r=Tp(this,r))&&r.execute()};function Tp(r,s){return(s=Tb(s))&&r.a[s]||null}function Tb(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function nl(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=fu(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():Kn(this.f,"click",this.i)}nl.prototype.getResponse=function(){return Sp(this),this.b},nl.prototype.execute=function(){Sp(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=xN();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},nl.prototype.delete=function(){Sp(this),this.g=!0,clearTimeout(this.a),this.a=null,On(this.f,"click",this.i)};function Sp(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function Ap(){}dt(Ap,"FACTOR_ID","phone");function Np(){}Np.prototype.g=function(){return Ip||(Ip=new as),mt(Ip)},Np.prototype.c=function(){};var kp=null;function xp(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var IC=new vr(ic,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),TC=new ni(3e4,6e4);xp.prototype.g=function(r){var s=this;return new Ft(function(c,h){var p=setTimeout(function(){h(new S("network-request-failed"))},TC.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(I,j){return I=w(I,j),s.b++,I},clearTimeout(p),c(f.grecaptcha)}else clearTimeout(p),h(new S("internal-error"));delete f[s.a]};var y=lh(IC,{onload:s.a,hl:r||""});mt(yd(y)).o(function(){clearTimeout(p),h(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(p),c(f.grecaptcha)})},xp.prototype.c=function(){this.b--};var Cp=null;function Op(r,s,c,h,p,y,w){if(dt(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,w?(kp||(kp=new Np),w=kp):(Cp||(Cp=new xp),w=Cp),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[Nb])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[SC]==="invisible",!f.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!fu(s)||!this.i&&fu(s).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new nr(r,y||null,p||null),this.u=h||function(){return null};var I=this;this.l=[];var j=this.a[Sb];this.a[Sb]=function(It){if(kb(I,It),typeof j=="function")j(It);else if(typeof j=="string"){var Jt=ue(j,f);typeof Jt=="function"&&Jt(It)}};var H=this.a[Ab];this.a[Ab]=function(){if(kb(I,null),typeof H=="function")H();else if(typeof H=="string"){var It=ue(H,f);typeof It=="function"&&It()}}}var Sb="callback",Ab="expired-callback",Nb="sitekey",SC="size";function kb(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function AC(r,s){B(r.l,function(c){return c==s})}function Rp(r,s){return r.h.push(s),s.oa(function(){U(r.h,s)}),s}t=Op.prototype,t.Ia=function(){var r=this;return this.f?this.f:this.f=Rp(this,mt().then(function(){if(yc()&&!tr())return vc();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,Vt(r.s,Gk,{})}).then(function(s){r.a[Nb]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},t.render=function(){rl(this);var r=this;return Rp(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=fu(s);s=JA("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},t.verify=function(){rl(this);var r=this;return Rp(this,this.render().then(function(s){return new Ft(function(c){var h=r.g.getResponse(s);if(h)c(h);else{var p=function(y){y&&(AC(r,p),c(y))};r.l.push(p),r.i&&r.g.execute(r.c)}})}))},t.reset=function(){rl(this),this.c!==null&&this.g.reset(this.c)};function rl(r){if(r.J)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){rl(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=fu(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function Dp(r,s,c){var h=!1;try{this.b=c||_t.app()}catch{throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new S("invalid-api-key");var p=this,y=null;try{y=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=_t.SDK_VERSION?Qo(_t.SDK_VERSION,y):null,Op.call(this,c,r,s,function(){try{var w=p.b.auth().la()}catch{w=null}return w},y,Ut(Nt),h)}D(Dp,Op);function xb(r,s,c,h){t:{c=Array.prototype.slice.call(c);for(var p=0,y=!1,w=0;w<s.length;w++)if(s[w].optional)y=!0;else{if(y)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");p++}if(y=s.length,c.length<p||y<c.length)h="Expected "+(p==y?p==1?"1 argument":p+" arguments":p+"-"+y+" arguments")+" but got "+c.length+".";else{for(p=0;p<c.length;p++)if(y=s[p].optional&&c[p]===void 0,!s[p].M(c[p])&&!y){if(s=s[p],0>p||p>=Cb.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");c=Cb[p],h=(h?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break t}h=null}}if(h)throw new S("argument-error",r+" failed: "+h)}var Cb="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ft(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function Pp(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function Se(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:O}}function cs(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function Tr(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function NC(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function kC(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof ir)}}}function xC(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof _t.app.App)}}}function si(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function Ob(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function ls(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Lp(r,s){return O(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function Rb(r){return O(r)&&typeof r.uid=="string"}function il(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function _e(r,s,c,h){return{name:c||"",K:r.K+" or "+s.K,optional:!!h,M:function(p){return r.M(p)||s.M(p)}}}function de(r,s){for(var c in s){var h=s[c].name;r[h]=Pb(h,r[c],s[c].j)}}function Db(r,s){for(var c in s){var h=s[c].name;h!==c&&Object.defineProperty(r,h,{get:X(function(p){return this[p]},c),set:X(function(p,y,w,I){xb(p,[w],[I],!0),this[y]=I},h,c,s[c].lb),enumerable:!0})}}function Ie(r,s,c,h){r[s]=Pb(s,c,h)}function Pb(r,s,c){function h(){var w=Array.prototype.slice.call(arguments);return xb(p,c,w),s.apply(this,w)}if(!c)return s;var p=CC(r),y;for(y in s)h[y]=s[y];for(y in s.prototype)h.prototype[y]=s.prototype[y];return h}function CC(r){return r=r.split("."),r[r.length-1]}de(ir.prototype,{kb:{name:"applyActionCode",j:[ft("code")]},Sa:{name:"checkActionCode",j:[ft("code")]},ob:{name:"confirmPasswordReset",j:[ft("code"),ft("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ft("email"),ft("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ft("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ft("emailLink")]},Hc:{name:"onAuthStateChanged",j:[_e(Se(),cs(),"nextOrObserver"),cs("opt_error",!0),cs("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[_e(Se(),cs(),"nextOrObserver"),cs("opt_error",!0),cs("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ft("email"),_e(Se("opt_actionCodeSettings",!0),Tr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ft("email"),Se("actionCodeSettings")]},yb:{name:"setPersistence",j:[ft("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[si()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[si()]},Tc:{name:"signInWithCustomToken",j:[ft("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ft("email"),ft("password")]},Vc:{name:"signInWithEmailLink",j:[ft("email"),ft("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ft("phoneNumber"),il()]},Xc:{name:"signInWithPopup",j:[ls()]},Yc:{name:"signInWithRedirect",j:[ls()]},dd:{name:"updateCurrentUser",j:[_e(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof Dn)}}}(),Tr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ft(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ft("url"),Se("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ft("code")]}}),Db(ir.prototype,{lc:{name:"languageCode",lb:_e(ft(),Tr(),"languageCode")},ti:{name:"tenantId",lb:_e(ft(),Tr(),"tenantId")}}),ir.Persistence=ns,ir.Persistence.LOCAL="local",ir.Persistence.SESSION="session",ir.Persistence.NONE="none",de(Dn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Pp("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Pp("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[si()]},rb:{name:"linkWithCredential",j:[si()]},Dc:{name:"linkWithPhoneNumber",j:[ft("phoneNumber"),il()]},Ec:{name:"linkWithPopup",j:[ls()]},Fc:{name:"linkWithRedirect",j:[ls()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[si()]},ub:{name:"reauthenticateWithCredential",j:[si()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ft("phoneNumber"),il()]},Nc:{name:"reauthenticateWithPopup",j:[ls()]},Oc:{name:"reauthenticateWithRedirect",j:[ls()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[_e(Se("opt_actionCodeSettings",!0),Tr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ft(null,!0)]},cd:{name:"unlink",j:[ft("provider")]},Cb:{name:"updateEmail",j:[ft("email")]},Db:{name:"updatePassword",j:[ft("password")]},ed:{name:"updatePhoneNumber",j:[si("phone")]},Eb:{name:"updateProfile",j:[Se("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ft("email"),_e(Se("opt_actionCodeSettings",!0),Tr(null,!0),"opt_actionCodeSettings",!0)]}}),de(as.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),de(Hu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),de(Ft.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Db(Zw.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Pp("appVerificationDisabledForTesting")}}),de(Jd.prototype,{confirm:{name:"confirm",j:[ft("verificationCode")]}}),Ie(Jo,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[ZN,tk,ek,JN],h=0;h<c.length;h++)if(s=c[h](r))return s;return null},[_e(ft(),Se(),"json")]),Ie(zn,"credential",function(r,s){return new ri(r,s)},[ft("email"),ft("password")]),de(ri.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),de(Yi.prototype,{Ca:{name:"addScope",j:[ft("scope")]},Ka:{name:"setCustomParameters",j:[Se("customOAuthParameters")]}}),Ie(Yi,"credential",L0,[_e(ft(),Se(),"token")]),Ie(zn,"credentialWithLink",j0,[ft("email"),ft("emailLink")]),de(Xi.prototype,{Ca:{name:"addScope",j:[ft("scope")]},Ka:{name:"setCustomParameters",j:[Se("customOAuthParameters")]}}),Ie(Xi,"credential",M0,[_e(ft(),Se(),"token")]),de(Ji.prototype,{Ca:{name:"addScope",j:[ft("scope")]},Ka:{name:"setCustomParameters",j:[Se("customOAuthParameters")]}}),Ie(Ji,"credential",F0,[_e(ft(),_e(Se(),Tr()),"idToken"),_e(ft(),Tr(),"accessToken",!0)]),de(ts.prototype,{Ka:{name:"setCustomParameters",j:[Se("customOAuthParameters")]}}),Ie(ts,"credential",V0,[_e(ft(),Se(),"token"),ft("secret",!0)]),de(Rn.prototype,{Ca:{name:"addScope",j:[ft("scope")]},credential:{name:"credential",j:[_e(ft(),_e(Se(),Tr()),"optionsOrIdToken"),_e(ft(),Tr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Se("customOAuthParameters")]}}),de(Mr.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),de(Wi.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),Ie(Fr,"credential",U0,[ft("verificationId"),ft("verificationCode")]),de(Fr.prototype,{gb:{name:"verifyPhoneNumber",j:[_e(ft(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?Lp(c.session,Su)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Lp(c.session,Ac)&&Rb(c.multiFactorHint):c.session&&c.multiFactorUid?Lp(c.session,Ac)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),il()]}}),de(ii.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),de(S.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),de(Nu.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),de(ad.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),de(ep.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),de(tp.prototype,{Rc:{name:"resolveSignIn",j:[Ob()]}}),de(rp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Ob(),ft("displayName",!0)]},bd:{name:"unenroll",j:[_e({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Rb},ft(),"multiFactorInfoIdentifier")]}}),de(Dp.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Ie(Yh,"parseLink",v0,[ft("link")]),Ie(Ap,"assertion",function(r){return new ib(r)},[si("phone")]),function(){if(typeof _t<"u"&&_t.INTERNAL&&_t.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:wc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Qh,VERIFY_AND_CHANGE_EMAIL:Iu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ir,AuthCredential:Jo,Error:S};Ie(r,"EmailAuthProvider",zn,[]),Ie(r,"FacebookAuthProvider",Yi,[]),Ie(r,"GithubAuthProvider",Xi,[]),Ie(r,"GoogleAuthProvider",Ji,[]),Ie(r,"TwitterAuthProvider",ts,[]),Ie(r,"OAuthProvider",Rn,[ft("providerId")]),Ie(r,"SAMLAuthProvider",P0,[ft("providerId")]),Ie(r,"PhoneAuthProvider",Fr,[kC()]),Ie(r,"RecaptchaVerifier",Dp,[_e(ft(),NC(),"recaptchaContainer"),Se("recaptchaParameters",!0),xC()]),Ie(r,"ActionCodeURL",Yh,[]),Ie(r,"PhoneMultiFactorGenerator",Ap,[]),_t.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new ir(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),_t.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:R(s.getUid,s),getToken:R(s.nc,s),addAuthTokenListener:R(s.cc,s),removeAuthTokenListener:R(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),_t.registerVersion("@firebase/auth","0.16.8"),_t.INTERNAL.extendNamespace({User:Dn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cg=function(t,e){return Cg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Cg(t,e)};function lP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Cg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function bT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var fP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lt,Fm=Fm||{},Tt=fP||self;function Ul(){}function Og(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ma(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function hP(t){return Object.prototype.hasOwnProperty.call(t,zp)&&t[zp]||(t[zp]=++dP)}var zp="closure_uid_"+(1e9*Math.random()>>>0),dP=0;function pP(t,e,n){return t.call.apply(t.bind,arguments)}function gP(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function ze(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ze=pP:ze=gP,ze.apply(null,arguments)}function hl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function We(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(i,o,u){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[o].apply(i,a)}}function Di(){this.s=this.s,this.o=this.o}var mP=0;Di.prototype.s=!1;Di.prototype.na=function(){!this.s&&(this.s=!0,this.M(),mP!=0)&&hP(this)};Di.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ET=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},_T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=typeof t=="string"?t.split(""):t,u=0;u<i;u++)u in o&&e.call(n,o[u],u,t)};function vP(t){t:{for(var e=aL,n=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function dE(t){return Array.prototype.concat.apply([],arguments)}function Vm(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function Bl(t){return/^[\s\xa0]*$/.test(t)}var pE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function gn(t,e){return t.indexOf(e)!=-1}function Gp(t,e){return t<e?-1:t>e?1:0}var mn;t:{var gE=Tt.navigator;if(gE){var mE=gE.userAgent;if(mE){mn=mE;break t}}mn=""}function jm(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function IT(t){var e={};for(var n in t)e[n]=t[n];return e}var vE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TT(t,e){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)t[n]=i[n];for(var u=0;u<vE.length;u++)n=vE[u],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Um(t){return Um[" "](t),t}Um[" "]=Ul;function yP(t){var e=EP;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var wP=gn(mn,"Opera"),Rs=gn(mn,"Trident")||gn(mn,"MSIE"),ST=gn(mn,"Edge"),Rg=ST||Rs,AT=gn(mn,"Gecko")&&!(gn(mn.toLowerCase(),"webkit")&&!gn(mn,"Edge"))&&!(gn(mn,"Trident")||gn(mn,"MSIE"))&&!gn(mn,"Edge"),bP=gn(mn.toLowerCase(),"webkit")&&!gn(mn,"Edge");function NT(){var t=Tt.document;return t?t.documentMode:void 0}var ql;t:{var Wp="",Qp=function(){var t=mn;if(AT)return/rv:([^\);]+)(\)|;)/.exec(t);if(ST)return/Edge\/([\d\.]+)/.exec(t);if(Rs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(bP)return/WebKit\/(\S+)/.exec(t);if(wP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Qp&&(Wp=Qp?Qp[1]:""),Rs){var Yp=NT();if(Yp!=null&&Yp>parseFloat(Wp)){ql=String(Yp);break t}}ql=Wp}var EP={};function _P(){return yP(function(){for(var t=0,e=pE(String(ql)).split("."),n=pE("9").split("."),i=Math.max(e.length,n.length),o=0;t==0&&o<i;o++){var u=e[o]||"",a=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u[0].length==0&&a[0].length==0)break;t=Gp(u[1].length==0?0:parseInt(u[1],10),a[1].length==0?0:parseInt(a[1],10))||Gp(u[2].length==0,a[2].length==0)||Gp(u[2],a[2]),u=u[3],a=a[3]}while(t==0)}return 0<=t})}var Dg;if(Tt.document&&Rs){var yE=NT();Dg=yE||parseInt(ql,10)||void 0}else Dg=void 0;var IP=Dg,TP=function(){if(!Tt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Tt.addEventListener("test",Ul,e),Tt.removeEventListener("test",Ul,e)}catch{}return t}();function rn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};function wa(t,e){if(rn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(AT){t:{try{Um(e.nodeName);var o=!0;break t}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:SP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&wa.Z.h.call(this)}}We(wa,rn);var SP={2:"touch",3:"pen",4:"mouse"};wa.prototype.h=function(){wa.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Fa="closure_listenable_"+(1e6*Math.random()|0),AP=0;function NP(t,e,n,i,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=o,this.key=++AP,this.ca=this.fa=!1}function Of(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Rf(t){this.src=t,this.g={},this.h=0}Rf.prototype.add=function(t,e,n,i,o){var u=t.toString();t=this.g[u],t||(t=this.g[u]=[],this.h++);var a=Lg(t,e,i,o);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new NP(e,this.src,u,!!i,o),e.fa=n,t.push(e)),e};function Pg(t,e){var n=e.type;if(n in t.g){var i=t.g[n],o=ET(i,e),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(Of(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Lg(t,e,n,i){for(var o=0;o<t.length;++o){var u=t[o];if(!u.ca&&u.listener==e&&u.capture==!!n&&u.ia==i)return o}return-1}var Bm="closure_lm_"+(1e6*Math.random()|0),Xp={};function kT(t,e,n,i,o){if(i&&i.once)return CT(t,e,n,i,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)kT(t,e[u],n,i,o);return null}return n=Km(n),t&&t[Fa]?t.N(e,n,Ma(i)?!!i.capture:!!i,o):xT(t,e,n,!1,i,o)}function xT(t,e,n,i,o,u){if(!e)throw Error("Invalid event type");var a=Ma(o)?!!o.capture:!!o,l=$m(t);if(l||(t[Bm]=l=new Rf(t)),n=l.add(e,n,i,a,u),n.proxy)return n;if(i=kP(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)TP||(o=a),o===void 0&&(o=!1),t.addEventListener(e.toString(),i,o);else if(t.attachEvent)t.attachEvent(RT(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kP(){function t(n){return e.call(t.src,t.listener,n)}var e=xP;return t}function CT(t,e,n,i,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)CT(t,e[u],n,i,o);return null}return n=Km(n),t&&t[Fa]?t.O(e,n,Ma(i)?!!i.capture:!!i,o):xT(t,e,n,!0,i,o)}function OT(t,e,n,i,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)OT(t,e[u],n,i,o);else i=Ma(i)?!!i.capture:!!i,n=Km(n),t&&t[Fa]?(t=t.i,e=String(e).toString(),e in t.g&&(u=t.g[e],n=Lg(u,n,i,o),-1<n&&(Of(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete t.g[e],t.h--)))):t&&(t=$m(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Lg(e,n,i,o)),(n=-1<t?e[t]:null)&&qm(n))}function qm(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Fa])Pg(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(RT(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=$m(e))?(Pg(n,t),n.h==0&&(n.src=null,e[Bm]=null)):Of(t)}}}function RT(t){return t in Xp?Xp[t]:Xp[t]="on"+t}function xP(t,e){if(t.ca)t=!0;else{e=new wa(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&qm(t),t=n.call(i,e)}return t}function $m(t){return t=t[Bm],t instanceof Rf?t:null}var Jp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Km(t){return typeof t=="function"?t:(t[Jp]||(t[Jp]=function(e){return t.handleEvent(e)}),t[Jp])}function je(){Di.call(this),this.i=new Rf(this),this.P=this,this.I=null}We(je,Di);je.prototype[Fa]=!0;je.prototype.removeEventListener=function(t,e,n,i){OT(this,t,e,n,i)};function Ge(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new rn(e,t);else if(e instanceof rn)e.target=e.target||t;else{var o=e;e=new rn(i,t),TT(e,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var a=e.g=n[u];o=dl(a,i,!0,e)&&o}if(a=e.g=t,o=dl(a,i,!0,e)&&o,o=dl(a,i,!1,e)&&o,n)for(u=0;u<n.length;u++)a=e.g=n[u],o=dl(a,i,!1,e)&&o}je.prototype.M=function(){if(je.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Of(n[i]);delete t.g[e],t.h--}}this.I=null};je.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};je.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function dl(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var a=e[u];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&Pg(t.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Hm=Tt.JSON.stringify;function CP(){var t=PT,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var OP=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var i=DT.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i},t}(),DT=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new RP},function(t){return t.reset()}),RP=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function DP(t){Tt.setTimeout(function(){throw t},0)}function zm(t,e){Mg||PP(),Fg||(Mg(),Fg=!0),PT.add(t,e)}var Mg;function PP(){var t=Tt.Promise.resolve(void 0);Mg=function(){t.then(LP)}}var Fg=!1,PT=new OP;function LP(){for(var t;t=CP();){try{t.h.call(t.g)}catch(n){DP(n)}var e=DT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Fg=!1}function Df(t,e){je.call(this),this.h=t||1,this.g=e||Tt,this.j=ze(this.kb,this),this.l=Date.now()}We(Df,je);lt=Df.prototype;lt.da=!1;lt.S=null;lt.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ge(this,"tick"),this.da&&(Gm(this),this.start()))}};lt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Gm(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}lt.M=function(){Df.Z.M.call(this),Gm(this),delete this.g};function Wm(t,e,n){if(typeof t=="function")n&&(t=ze(t,n));else if(t&&typeof t.handleEvent=="function")t=ze(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Tt.setTimeout(t,e||0)}function LT(t){t.g=Wm(function(){t.g=null,t.i&&(t.i=!1,LT(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var MP=function(t){lP(e,t);function e(n,i){var o=t.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:LT(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Di);function ba(t){Di.call(this),this.h=t,this.g={}}We(ba,Di);var wE=[];function MT(t,e,n,i){Array.isArray(n)||(n&&(wE[0]=n.toString()),n=wE);for(var o=0;o<n.length;o++){var u=kT(e,n[o],i||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function FT(t){jm(t.g,function(e,n){this.g.hasOwnProperty(n)&&qm(e)},t),t.g={}}ba.prototype.M=function(){ba.Z.M.call(this),FT(this)};ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Pf(){this.g=!0}Pf.prototype.Aa=function(){this.g=!1};function FP(t,e,n,i,o,u){t.info(function(){if(t.g)if(u)for(var a="",l=u.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var g=d[0];d=d[1];var m=g.split("_");a=2<=m.length&&m[1]=="type"?a+(g+"="+d+"&"):a+(g+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+e+`
`+n+`
`+a})}function VP(t,e,n,i,o,u,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+e+`
`+n+`
`+u+" "+a})}function Es(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+UP(t,n)+(i?" "+i:"")})}function jP(t,e){t.info(function(){return"TIMEOUT: "+e})}Pf.prototype.info=function(){};function UP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Hm(n)}catch{return e}}var Po={},bE=null;function Lf(){return bE=bE||new je}Po.Ma="serverreachability";function VT(t){rn.call(this,Po.Ma,t)}We(VT,rn);function Ea(t){var e=Lf();Ge(e,new VT(e))}Po.STAT_EVENT="statevent";function jT(t,e){rn.call(this,Po.STAT_EVENT,t),this.stat=e}We(jT,rn);function vn(t){var e=Lf();Ge(e,new jT(e,t))}Po.Na="timingevent";function UT(t,e){rn.call(this,Po.Na,t),this.size=e}We(UT,rn);function Va(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Tt.setTimeout(function(){t()},e)}var Mf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},BT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Qm(){}Qm.prototype.h=null;function EE(t){return t.h||(t.h=t.i())}function qT(){}var ja={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ym(){rn.call(this,"d")}We(Ym,rn);function Xm(){rn.call(this,"c")}We(Xm,rn);var Vg;function Ff(){}We(Ff,Qm);Ff.prototype.g=function(){return new XMLHttpRequest};Ff.prototype.i=function(){return{}};Vg=new Ff;function Ua(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new ba(this),this.P=BP,t=Rg?125:void 0,this.W=new Df(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $T}function $T(){this.i=null,this.g="",this.h=!1}var BP=45e3,jg={},$l={};lt=Ua.prototype;lt.setTimeout=function(t){this.P=t};function Ug(t,e,n){t.K=1,t.v=jf(Wr(e)),t.s=n,t.U=!0,KT(t,null)}function KT(t,e){t.F=Date.now(),Ba(t),t.A=Wr(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),XT(n.h,"t",i),t.C=0,n=t.l.H,t.h=new $T,t.g=v1(t.l,n?e:null,!t.s),0<t.O&&(t.L=new MP(ze(t.Ia,t,t.g),t.O)),MT(t.V,t.g,"readystatechange",t.gb),e=t.H?IT(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ea(),FP(t.j,t.u,t.A,t.m,t.X,t.s)}lt.gb=function(t){t=t.target;var e=this.L;e&&qr(t)==3?e.l():this.Ia(t)};lt.Ia=function(t){try{if(t==this.g)t:{var e=qr(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>e)&&(e!=3||Rg||this.g&&(this.h.h||this.g.ga()||SE(this.g)))){this.I||e!=4||n==7||(n==8||0>=i?Ea(3):Ea(2)),Vf(this);var o=this.g.ba();this.N=o;e:if(HT(this)){var u=SE(this.g);t="";var a=u.length,l=qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){go(this),ea(this);var f="";break e}this.h.i=new Tt.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(u[n],{stream:l&&n==a-1});u.splice(0,a),this.h.g+=t,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,VP(this.j,this.u,this.A,this.m,this.X,e,o),this.i){if(this.$&&!this.J){e:{if(this.g){var d,g=this.g;if((d=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bl(d)){var m=d;break e}}m=null}if(o=m)Es(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bg(this,o);else{this.i=!1,this.o=3,vn(12),go(this),ea(this);break t}}this.U?(zT(this,e,f),Rg&&this.i&&e==3&&(MT(this.V,this.W,"tick",this.fb),this.W.start())):(Es(this.j,this.m,f,null),Bg(this,f)),e==4&&go(this),this.i&&!this.I&&(e==4?d1(this.l,this):(this.i=!1,Ba(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,vn(12)):(this.o=0,vn(13)),go(this),ea(this)}}}catch{}finally{}};function HT(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function zT(t,e,n){for(var i=!0,o;!t.I&&t.C<n.length;)if(o=qP(t,n),o==$l){e==4&&(t.o=4,vn(14),i=!1),Es(t.j,t.m,null,"[Incomplete Response]");break}else if(o==jg){t.o=4,vn(15),Es(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Es(t.j,t.m,o,null),Bg(t,o);HT(t)&&o!=$l&&o!=jg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,vn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),sv(e),e.L=!0,vn(11))):(Es(t.j,t.m,n,"[Invalid Chunked Response]"),go(t),ea(t))}lt.fb=function(){if(this.g){var t=qr(this.g),e=this.g.ga();this.C<e.length&&(Vf(this),zT(this,t,e),this.i&&t!=4&&Ba(this))}};function qP(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?$l:(n=Number(e.substring(n,i)),isNaN(n)?jg:(i+=1,i+n>e.length?$l:(e=e.substr(i,n),t.C=i+n,e)))}lt.cancel=function(){this.I=!0,go(this)};function Ba(t){t.Y=Date.now()+t.P,GT(t,t.P)}function GT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Va(ze(t.eb,t),e)}function Vf(t){t.B&&(Tt.clearTimeout(t.B),t.B=null)}lt.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(jP(this.j,this.A),this.K!=2&&(Ea(),vn(17)),go(this),this.o=2,ea(this)):GT(this,this.Y-t)};function ea(t){t.l.G==0||t.I||d1(t.l,t)}function go(t){Vf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Gm(t.W),FT(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Bg(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||qg(n.i,t))){if(n.I=t.N,!t.J&&qg(n.i,t)&&n.G==3){try{var i=n.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Gl(n),qf(n);else break t;ov(n),vn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Va(ze(n.ab,n),6e3));if(1>=t1(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else mo(n,11)}else if((t.J||n.g==t)&&Gl(n),!Bl(e))for(o=n.Ca.g.parse(e),e=0;e<o.length;e++){var u=o[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var a=u[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=u[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=t.g;if(d){var g=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var m=i.i;!m.g&&(gn(g,"spdy")||gn(g,"quic")||gn(g,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(tv(m,m.h),m.h=null))}if(i.D){var v=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(i.sa=v,ce(i.F,i.D,v))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=t;if(i.oa=m1(i,i.H?i.la:null,i.W),b.J){e1(i.i,b);var E=b,T=i.K;T&&E.setTimeout(T),E.B&&(Vf(E),Ba(E)),i.g=b}else f1(i);0<n.l.length&&$f(n)}else u[0]!="stop"&&u[0]!="close"||mo(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?mo(n,7):iv(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Ea(4)}catch{}}function $P(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Og(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Jm(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Og(t)||typeof t=="string")_T(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Og(t)||typeof t=="string"){n=[];for(var i=t.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,t)n[i++]=o;i=$P(t),o=i.length;for(var u=0;u<o;u++)e.call(void 0,i[u],n&&n[u],t)}}function nu(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof nu)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}lt=nu.prototype;lt.R=function(){Zm(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};lt.T=function(){return Zm(this),this.g.concat()};function Zm(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];Ao(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var o={};for(n=e=0;e<t.g.length;)i=t.g[e],Ao(o,i)||(t.g[n++]=i,o[i]=1),e++;t.g.length=n}}lt.get=function(t,e){return Ao(this.h,t)?this.h[t]:e};lt.set=function(t,e){Ao(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};lt.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);t.call(e,u,o,this)}};function Ao(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var WT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function KP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),o=null;if(0<=i){var u=t[n].substring(0,i);o=t[n].substring(i+1)}else u=t[n];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function No(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof No){this.g=e!==void 0?e:t.g,Kl(this,t.j),this.s=t.s,Hl(this,t.i),zl(this,t.m),this.l=t.l,e=t.h;var n=new _a;n.i=e.i,e.g&&(n.g=new nu(e.g),n.h=e.h),_E(this,n),this.o=t.o}else t&&(n=String(t).match(WT))?(this.g=!!e,Kl(this,n[1]||"",!0),this.s=na(n[2]||""),Hl(this,n[3]||"",!0),zl(this,n[4]),this.l=na(n[5]||"",!0),_E(this,n[6]||"",!0),this.o=na(n[7]||"")):(this.g=!!e,this.h=new _a(null,this.g))}No.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Yu(e,IE,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Yu(e,IE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Yu(n,n.charAt(0)=="/"?QP:WP,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Yu(n,XP)),t.join("")};function Wr(t){return new No(t)}function Kl(t,e,n){t.j=n?na(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Hl(t,e,n){t.i=n?na(e,!0):e}function zl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function _E(t,e,n){e instanceof _a?(t.h=e,JP(t.h,t.g)):(n||(e=Yu(e,YP)),t.h=new _a(e,t.g))}function ce(t,e,n){t.h.set(e,n)}function jf(t){return ce(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function HP(t){return t instanceof No?Wr(t):new No(t,void 0)}function zP(t,e,n,i){var o=new No(null,void 0);return t&&Kl(o,t),e&&Hl(o,e),n&&zl(o,n),i&&(o.l=i),o}function na(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,GP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function GP(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var IE=/[#\/\?@]/g,WP=/[#\?:]/g,QP=/[#\?]/g,YP=/[#\?@]/g,XP=/#/g;function _a(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Pi(t){t.g||(t.g=new nu,t.h=0,t.i&&KP(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}lt=_a.prototype;lt.add=function(t,e){Pi(this),this.i=null,t=ru(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function QT(t,e){Pi(t),e=ru(t,e),Ao(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Ao(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Zm(t)))}function YT(t,e){return Pi(t),e=ru(t,e),Ao(t.g.h,e)}lt.forEach=function(t,e){Pi(this),this.g.forEach(function(n,i){_T(n,function(o){t.call(e,o,i,this)},this)},this)};lt.T=function(){Pi(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var o=t[i],u=0;u<o.length;u++)n.push(e[i]);return n};lt.R=function(t){Pi(this);var e=[];if(typeof t=="string")YT(this,t)&&(e=dE(e,this.g.get(ru(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=dE(e,t[n])}return e};lt.set=function(t,e){return Pi(this),this.i=null,t=ru(this,t),YT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};lt.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function XT(t,e,n){QT(t,e),0<n.length&&(t.i=null,t.g.set(ru(t,e),Vm(n)),t.h+=n.length)}lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var a=o;i[u]!==""&&(a+="="+encodeURIComponent(String(i[u]))),t.push(a)}}return this.i=t.join("&")};function ru(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function JP(t,e){e&&!t.j&&(Pi(t),t.i=null,t.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(QT(this,i),XT(this,o,n))},t)),t.j=e}var ZP=function(){function t(e,n){this.h=e,this.g=n}return t}();function JT(t){this.l=t||tL,Tt.PerformanceNavigationTiming?(t=Tt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Tt.g&&Tt.g.Ea&&Tt.g.Ea()&&Tt.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tL=10;function ZT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function t1(t){return t.h?1:t.g?t.g.size:0}function qg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function tv(t,e){t.g?t.g.add(e):t.h=e}function e1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}JT.prototype.cancel=function(){var t,e;if(this.i=n1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=bT(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){t={error:u}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function n1(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var i=t.i;try{for(var o=bT(t.g.values()),u=o.next();!u.done;u=o.next()){var a=u.value;i=i.concat(a.D)}}catch(l){e={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return Vm(t.i)}function ev(){}ev.prototype.stringify=function(t){return Tt.JSON.stringify(t,void 0)};ev.prototype.parse=function(t){return Tt.JSON.parse(t,void 0)};function eL(){this.g=new ev}function nL(t,e,n){var i=n||"";try{Jm(t,function(o,u){var a=o;Ma(o)&&(a=Hm(o)),e.push(i+u+"="+encodeURIComponent(a))})}catch(o){throw e.push(i+"type="+encodeURIComponent("_badmap")),o}}function rL(t,e){var n=new Pf;if(Tt.Image){var i=new Image;i.onload=hl(pl,n,i,"TestLoadImage: loaded",!0,e),i.onerror=hl(pl,n,i,"TestLoadImage: error",!1,e),i.onabort=hl(pl,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=hl(pl,n,i,"TestLoadImage: timeout",!1,e),Tt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function pl(t,e,n,i,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(i)}catch{}}function qa(t){this.l=t.$b||null,this.j=t.ib||!1}We(qa,Qm);qa.prototype.g=function(){return new Uf(this.l,this.j)};qa.prototype.i=function(t){return function(){return t}}({});function Uf(t,e){je.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=nv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}We(Uf,je);var nv=0;lt=Uf.prototype;lt.open=function(t,e){if(this.readyState!=nv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ia(this)};lt.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Tt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$a(this)),this.readyState=nv};lt.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ia(this)),this.g&&(this.readyState=3,Ia(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Tt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;r1(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function r1(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}lt.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$a(this):Ia(this),this.readyState==3&&r1(this)}};lt.Ua=function(t){this.g&&(this.response=this.responseText=t,$a(this))};lt.Ta=function(t){this.g&&(this.response=t,$a(this))};lt.ha=function(){this.g&&$a(this)};function $a(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ia(t)}lt.setRequestHeader=function(t,e){this.v.append(t,e)};lt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};lt.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ia(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Uf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var iL=Tt.JSON.parse;function Oe(t){je.call(this),this.headers=new nu,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=i1,this.K=this.L=!1}We(Oe,je);var i1="",oL=/^https?$/i,sL=["POST","PUT"];lt=Oe.prototype;lt.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vg.g(),this.C=this.u?EE(this.u):EE(Vg),this.g.onreadystatechange=ze(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(u){TE(this,u);return}t=n||"";var o=new nu(this.headers);i&&Jm(i,function(u,a){o.set(a,u)}),i=vP(o.T()),n=Tt.FormData&&t instanceof Tt.FormData,!(0<=ET(sL,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,a){this.g.setRequestHeader(a,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{u1(this),0<this.B&&((this.K=uL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ze(this.pa,this)):this.A=Wm(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){TE(this,u)}};function uL(t){return Rs&&_P()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function aL(t){return t.toLowerCase()=="content-type"}lt.pa=function(){typeof Fm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ge(this,"timeout"),this.abort(8))};function TE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,o1(t),Bf(t)}function o1(t){t.D||(t.D=!0,Ge(t,"complete"),Ge(t,"error"))}lt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ge(this,"complete"),Ge(this,"abort"),Bf(this))};lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bf(this,!0)),Oe.Z.M.call(this)};lt.Fa=function(){this.s||(this.F||this.v||this.l?s1(this):this.cb())};lt.cb=function(){s1(this)};function s1(t){if(t.h&&typeof Fm<"u"&&(!t.C[1]||qr(t)!=4||t.ba()!=2)){if(t.v&&qr(t)==4)Wm(t.Fa,0,t);else if(Ge(t,"readystatechange"),qr(t)==4){t.h=!1;try{var e=t.ba();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var o;if(o=e===0){var u=String(t.H).match(WT)[1]||null;if(!u&&Tt.self&&Tt.self.location){var a=Tt.self.location.protocol;u=a.substr(0,a.length-1)}o=!oL.test(u?u.toLowerCase():"")}i=o}if(i)Ge(t,"complete"),Ge(t,"success");else{t.m=6;try{var l=2<qr(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.ba()+"]",o1(t)}}finally{Bf(t)}}}}function Bf(t,e){if(t.g){u1(t);var n=t.g,i=t.C[0]?Ul:null;t.g=null,t.C=null,e||Ge(t,"ready");try{n.onreadystatechange=i}catch{}}}function u1(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Tt.clearTimeout(t.A),t.A=null)}function qr(t){return t.g?t.g.readyState:0}lt.ba=function(){try{return 2<qr(this)?this.g.status:-1}catch{return-1}};lt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};lt.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),iL(e)}};function SE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case i1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}lt.Da=function(){return this.m};lt.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function cL(t){var e="";return jm(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function rv(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=cL(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ce(t,e,n))}function zu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function a1(t){this.za=0,this.l=[],this.h=new Pf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zu("baseRetryDelayMs",5e3,t),this.$a=zu("retryDelaySeedMs",1e4,t),this.Ya=zu("forwardChannelMaxRetries",2,t),this.ra=zu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new JT(t&&t.concurrentRequestLimit),this.Ca=new eL,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}lt=a1.prototype;lt.ma=8;lt.G=1;function iv(t){if(c1(t),t.G==3){var e=t.V++,n=Wr(t.F);ce(n,"SID",t.J),ce(n,"RID",e),ce(n,"TYPE","terminate"),Ka(t,n),e=new Ua(t,t.h,e,void 0),e.K=2,e.v=jf(Wr(n)),n=!1,Tt.navigator&&Tt.navigator.sendBeacon&&(n=Tt.navigator.sendBeacon(e.v.toString(),"")),!n&&Tt.Image&&(new Image().src=e.v,n=!0),n||(e.g=v1(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ba(e)}g1(t)}lt.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function qf(t){t.g&&(sv(t),t.g.cancel(),t.g=null)}function c1(t){qf(t),t.u&&(Tt.clearTimeout(t.u),t.u=null),Gl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Tt.clearTimeout(t.m),t.m=null)}function Zp(t,e){t.l.push(new ZP(t.Za++,e)),t.G==3&&$f(t)}function $f(t){ZT(t.i)||t.m||(t.m=!0,zm(t.Ha,t),t.C=0)}function lL(t,e){return t1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Va(ze(t.Ha,t,e),p1(t,t.C)),t.C++,!0)}lt.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ua(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=IT(n),TT(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)t:{for(var i=0,o=0;o<this.l.length;o++){e:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break e}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break t}if(i===4096||o===this.l.length-1){i=o+1;break t}}i=1e3}else i=1e3;i=l1(this,e,i),o=Wr(this.F),ce(o,"RID",t),ce(o,"CVER",22),this.D&&ce(o,"X-HTTP-Session-Id",this.D),Ka(this,o),this.o&&n&&rv(o,this.o,n),tv(this.i,e),this.Ra&&ce(o,"TYPE","init"),this.ja?(ce(o,"$req",i),ce(o,"SID","null"),e.$=!0,Ug(e,o,null)):Ug(e,o,i),this.G=2}}else this.G==3&&(t?AE(this,t):this.l.length==0||ZT(this.i)||AE(this))};function AE(t,e){var n;e?n=e.m:n=t.V++;var i=Wr(t.F);ce(i,"SID",t.J),ce(i,"RID",n),ce(i,"AID",t.U),Ka(t,i),t.o&&t.s&&rv(i,t.o,t.s),n=new Ua(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=l1(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),tv(t.i,n),Ug(n,i,e)}function Ka(t,e){t.j&&Jm({},function(n,i){ce(e,i,n)})}function l1(t,e,n){n=Math.min(t.l.length,n);var i=t.j?ze(t.j.Oa,t.j,t):null;t:for(var o=t.l,u=-1;;){var a=["count="+n];u==-1?0<n?(u=o[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var d=o[f].h,g=o[f].g;if(d-=u,0>d)u=Math.max(0,o[f].h-100),l=!1;else try{nL(g,a,"req"+d+"_")}catch{i&&i(g)}}if(l){i=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,i}function f1(t){t.g||t.u||(t.Y=1,zm(t.Ga,t),t.A=0)}function ov(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Va(ze(t.Ga,t),p1(t,t.A)),t.A++,!0)}lt.Ga=function(){if(this.u=null,h1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Va(ze(this.bb,this),t)}};lt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,vn(10),qf(this),h1(this))};function sv(t){t.B!=null&&(Tt.clearTimeout(t.B),t.B=null)}function h1(t){t.g=new Ua(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Wr(t.oa);ce(e,"RID","rpc"),ce(e,"SID",t.J),ce(e,"CI",t.N?"0":"1"),ce(e,"AID",t.U),Ka(t,e),ce(e,"TYPE","xmlhttp"),t.o&&t.s&&rv(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=jf(Wr(e)),n.s=null,n.U=!0,KT(n,t)}lt.ab=function(){this.v!=null&&(this.v=null,qf(this),ov(this),vn(19))};function Gl(t){t.v!=null&&(Tt.clearTimeout(t.v),t.v=null)}function d1(t,e){var n=null;if(t.g==e){Gl(t),sv(t),t.g=null;var i=2}else if(qg(t.i,e))n=e.D,e1(t.i,e),i=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var o=t.C;i=Lf(),Ge(i,new UT(i,n)),$f(t)}else f1(t);else if(o=e.o,o==3||o==0&&0<t.I||!(i==1&&lL(t,e)||i==2&&ov(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:mo(t,5);break;case 4:mo(t,10);break;case 3:mo(t,6);break;default:mo(t,2)}}}function p1(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function mo(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var i=ze(t.jb,t);n||(n=new No("//www.google.com/images/cleardot.gif"),Tt.location&&Tt.location.protocol=="http"||Kl(n,"https"),jf(n)),rL(n.toString(),i)}else vn(2);t.G=0,t.j&&t.j.va(e),g1(t),c1(t)}lt.jb=function(t){t?(this.h.info("Successfully pinged google.com"),vn(2)):(this.h.info("Failed to ping google.com"),vn(1))};function g1(t){t.G=0,t.I=-1,t.j&&((n1(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Vm(t.l),t.l.length=0),t.j.ua())}function m1(t,e,n){var i=HP(n);if(i.i!="")e&&Hl(i,e+"."+i.i),zl(i,i.m);else{var o=Tt.location;i=zP(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,n)}return t.aa&&jm(t.aa,function(u,a){ce(i,a,u)}),e=t.D,n=t.sa,e&&n&&ce(i,e,n),ce(i,"VER",t.ma),Ka(t,i),i}function v1(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Oe(new qa({ib:!0})):new Oe(t.qa),e.L=t.H,e}function y1(){}lt=y1.prototype;lt.xa=function(){};lt.wa=function(){};lt.va=function(){};lt.ua=function(){};lt.Oa=function(){};function Wl(){if(Rs&&!(10<=Number(IP)))throw Error("Environmental error: no available transport.")}Wl.prototype.g=function(t,e){return new $n(t,e)};function $n(t,e){je.call(this),this.g=new a1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Bl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bl(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new iu(this)}We($n,je);$n.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),zm(ze(t.hb,t,e))),vn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=m1(t,null,t.W),$f(t)};$n.prototype.close=function(){iv(this.g)};$n.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Zp(this.g,e)}else this.v?(e={},e.__data__=Hm(t),Zp(this.g,e)):Zp(this.g,t)};$n.prototype.M=function(){this.g.j=null,delete this.j,iv(this.g),delete this.g,$n.Z.M.call(this)};function w1(t){Ym.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}We(w1,Ym);function b1(){Xm.call(this),this.status=1}We(b1,Xm);function iu(t){this.g=t}We(iu,y1);iu.prototype.xa=function(){Ge(this.g,"a")};iu.prototype.wa=function(t){Ge(this.g,new w1(t))};iu.prototype.va=function(t){Ge(this.g,new b1)};iu.prototype.ua=function(){Ge(this.g,"b")};Wl.prototype.createWebChannel=Wl.prototype.g;$n.prototype.send=$n.prototype.u;$n.prototype.open=$n.prototype.m;$n.prototype.close=$n.prototype.close;Mf.NO_ERROR=0;Mf.TIMEOUT=8;Mf.HTTP_ERROR=6;BT.COMPLETE="complete";qT.EventType=ja;ja.OPEN="a";ja.CLOSE="b";ja.ERROR="c";ja.MESSAGE="d";je.prototype.listen=je.prototype.N;Oe.prototype.listenOnce=Oe.prototype.O;Oe.prototype.getLastError=Oe.prototype.La;Oe.prototype.getLastErrorCode=Oe.prototype.Da;Oe.prototype.getStatus=Oe.prototype.ba;Oe.prototype.getResponseJson=Oe.prototype.Qa;Oe.prototype.getResponseText=Oe.prototype.ga;Oe.prototype.send=Oe.prototype.ea;var fL=function(){return new Wl},hL=function(){return Lf()},tg=Mf,dL=BT,pL=Po,NE={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gL=qa,gl=qT,mL=Oe;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn=function(){function t(e,n){var i=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();jn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=function(t){function e(n,i){var o=this;return(o=t.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return yt(e,t),e}(Error),fr=new mT("@firebase/firestore");function $g(){return fr.logLevel}function nt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(fr.logLevel<=Ht.DEBUG){var i=e.map(uv);fr.debug.apply(fr,we(["Firestore (8.10.1): "+t],i))}}function ke(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(fr.logLevel<=Ht.ERROR){var i=e.map(uv);fr.error.apply(fr,we(["Firestore (8.10.1): "+t],i))}}function Ql(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(fr.logLevel<=Ht.WARN){var i=e.map(uv);fr.warn.apply(fr,we(["Firestore (8.10.1): "+t],i))}}function uv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw ke(e),new Error(e)}function Et(t,e){t||pt()}function ut(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E1=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";i.length<20;)for(var o=vL(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%e.length));return i},t}();function jt(t,e){return t<e?-1:t>e?1:0}function Ds(t,e,n){return t.length===e.length&&t.every(function(i,o){return n(i,e[o])})}function _1(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Mt=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new An(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lo(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I1(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T1=function(){function t(e,n,i){n===void 0?n=0:n>e.length&&pt(),i===void 0?i=e.length-n:i>e.length-n&&pt(),this.segments=e,this.offset=n,this.len=i}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(i){n.push(i)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var i=Math.min(e.length,n.length),o=0;o<i;o++){var u=e.get(o),a=n.get(o);if(u<a)return-1;if(u>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Yt=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return yt(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,a=n;u<a.length;u++){var l=a[u];if(l.indexOf("//")>=0)throw new Y(L.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new e(o)},e.emptyPath=function(){return new e([])},e}(T1),yL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pr=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return yt(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.isValidIdentifier=function(n){return yL.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var i=[],o="",u=0,a=function(){if(o.length===0)throw new Y(L.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new Y(L.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[u+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Y(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(a(),u++)}if(a(),l)throw new Y(L.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(i)},e.emptyPath=function(){return new e([])},e}(T1),Ps=function(){function t(e){this.fields=e,e.sort(pr.comparator)}return t.prototype.covers=function(e){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Ds(this.fields,e.fields,function(n,i){return n.isEqual(i)})},t}(),Nn=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return jt(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Nn.EMPTY_BYTE_STRING=new Nn("");var wL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(t){if(Et(!!t),typeof t=="string"){var e=0,n=wL.exec(t);if(Et(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ls(t){return typeof t=="string"?Nn.fromBase64String(t):Nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function S1(t){var e=t.mapValue.fields.__previous_value__;return av(e)?S1(e):e}function Ta(t){var e=Oi(t.mapValue.fields.__local_write_time__.timestampValue);return new An(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){return t==null}function Yl(t){return t===0&&1/t==-1/0}function A1(t){return typeof t=="number"&&Number.isInteger(t)&&!Yl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(Yt.fromString(e))},t.fromName=function(e){return new t(Yt.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Yt.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return Yt.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new Yt(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?av(t)?4:10:pt()}function Dr(t,e){var n=ko(t);if(n!==ko(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ta(t).isEqual(Ta(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=Oi(i.timestampValue),a=Oi(o.timestampValue);return u.seconds===a.seconds&&u.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ls(i.bytesValue).isEqual(Ls(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=Ne(i.doubleValue),a=Ne(o.doubleValue);return u===a?Yl(u)===Yl(a):isNaN(u)&&isNaN(a)}return!1}(t,e);case 9:return Ds(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:return function(i,o){var u=i.mapValue.fields||{},a=o.mapValue.fields||{};if(kE(u)!==kE(a))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(a[l]===void 0||!Dr(u[l],a[l])))return!1;return!0}(t,e);default:return pt()}}function Sa(t,e){return(t.values||[]).find(function(n){return Dr(n,e)})!==void 0}function Ms(t,e){var n=ko(t),i=ko(e);if(n!==i)return jt(n,i);switch(n){case 0:return 0;case 1:return jt(t.booleanValue,e.booleanValue);case 2:return function(o,u){var a=Ne(o.integerValue||o.doubleValue),l=Ne(u.integerValue||u.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return xE(t.timestampValue,e.timestampValue);case 4:return xE(Ta(t),Ta(e));case 5:return jt(t.stringValue,e.stringValue);case 6:return function(o,u){var a=Ls(o),l=Ls(u);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){for(var a=o.split("/"),l=u.split("/"),f=0;f<a.length&&f<l.length;f++){var d=jt(a[f],l[f]);if(d!==0)return d}return jt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){var a=jt(Ne(o.latitude),Ne(u.latitude));return a!==0?a:jt(Ne(o.longitude),Ne(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,u){for(var a=o.values||[],l=u.values||[],f=0;f<a.length&&f<l.length;++f){var d=Ms(a[f],l[f]);if(d)return d}return jt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,u){var a=o.fields||{},l=Object.keys(a),f=u.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var g=0;g<l.length&&g<d.length;++g){var m=jt(l[g],d[g]);if(m!==0)return m;var v=Ms(a[l[g]],f[d[g]]);if(v!==0)return v}return jt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw pt()}}function xE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return jt(t,e);var n=Oi(t),i=Oi(e),o=jt(n.seconds,i.seconds);return o!==0?o:jt(n.nanos,i.nanos)}function cv(t){return Kg(t)}function Kg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){var o=Oi(i);return"time("+o.seconds+","+o.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ls(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,gt.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(i){for(var o="[",u=!0,a=0,l=i.values||[];a<l.length;a++)u?u=!1:o+=",",o+=Kg(l[a]);return o+"]"}(t.arrayValue):"mapValue"in t?function(i){for(var o="{",u=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];u?u=!1:o+=",",o+=f+":"+Kg(i.fields[f])}return o+"}"}(t.mapValue):pt();var e,n}function Xl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Hg(t){return!!t&&"integerValue"in t}function lv(t){return!!t&&"arrayValue"in t}function CE(t){return!!t&&"nullValue"in t}function OE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kl(t){return!!t&&"mapValue"in t}function ra(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Lo(t.mapValue.fields,function(o,u){return e.mapValue.fields[o]=ra(u)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=ra(t.arrayValue.values[i]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,i=0;i<e.length-1;++i)if(!kl(n=(n.mapValue.fields||{})[e.get(i)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ra(n)},t.prototype.setAll=function(e){var n=this,i=pr.emptyPath(),o={},u=[];e.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,u),o={},u=[],i=f.popLast()}l?o[f.lastSegment()]=ra(l):u.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,u)},t.prototype.delete=function(e){var n=this.field(e.popLast());kl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Dr(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<e.length;++i){var o=n.mapValue.fields[e.get(i)];kl(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,i){Lo(n,function(l,f){return e[l]=f});for(var o=0,u=i;o<u.length;o++){var a=u[o];delete e[a]}},t.prototype.clone=function(){return new t(ra(this.value))},t}();function N1(t){var e=[];return Lo(t.fields,function(n,i){var o=new pr([n]);if(kl(i)){var u=N1(i.mapValue).fields;if(u.length===0)e.push(o);else for(var a=0,l=u;a<l.length;a++){var f=l[a];e.push(o.child(f))}}else e.push(o)}),new Ps(e)}var sn=function(){function t(e,n,i,o,u){this.key=e,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return t.newInvalidDocument=function(e){return new t(e,0,Mt.min(),Fn.empty(),0)},t.newFoundDocument=function(e,n,i){return new t(e,1,n,i,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Fn.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Fn.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),bL=function(t,e,n,i,o,u,a){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t,e,n,i,o,u,a){return e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),new bL(t,e,n,i,o,u,a)}function Ha(t){var e=ut(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+cv(o.value)}(i)}).join(","),n+="|ob:",n+=e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Mo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Zl(e.startAt)),e.endAt&&(n+="|ub:",n+=Zl(e.endAt)),e.h=n}return e.h}function Kf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!kL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(o=t.filters[i],u=e.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!Dr(o.value,u.value))return!1;var o,u;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PE(t.startAt,e.startAt)&&PE(t.endAt,e.endAt)}function Jl(t){return gt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Un=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).field=n,u.op=i,u.value=o,u}return yt(e,t),e.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new EL(n,i,o):i==="array-contains"?new TL(n,o):i==="in"?new SL(n,o):i==="not-in"?new AL(n,o):i==="array-contains-any"?new NL(n,o):new e(n,i,o)},e.l=function(n,i,o){return i==="in"?new _L(n,o):new IL(n,o)},e.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(Ms(i,this.value)):i!==null&&ko(this.value)===ko(i)&&this.m(Ms(i,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return pt()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),EL=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,o)||this).key=gt.fromName(o.referenceValue),u}return yt(e,t),e.prototype.matches=function(n){var i=gt.comparator(n.key,this.key);return this.m(i)},e}(Un),_L=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"in",i)||this).keys=k1("in",i),o}return yt(e,t),e.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},e}(Un),IL=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"not-in",i)||this).keys=k1("not-in",i),o}return yt(e,t),e.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},e}(Un);function k1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return gt.fromName(i.referenceValue)})}var TL=function(t){function e(n,i){return t.call(this,n,"array-contains",i)||this}return yt(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return lv(i)&&Sa(i.arrayValue,this.value)},e}(Un),SL=function(t){function e(n,i){return t.call(this,n,"in",i)||this}return yt(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Sa(this.value.arrayValue,i)},e}(Un),AL=function(t){function e(n,i){return t.call(this,n,"not-in",i)||this}return yt(e,t),e.prototype.matches=function(n){if(Sa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Sa(this.value.arrayValue,i)},e}(Un),NL=function(t){function e(n,i){return t.call(this,n,"array-contains-any",i)||this}return yt(e,t),e.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!lv(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Sa(i.value.arrayValue,u)})},e}(Un),Aa=function(t,e){this.position=t,this.before=e};function Zl(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return cv(e)}).join(",")}var Ns=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function kL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function DE(t,e,n){for(var i=0,o=0;o<t.position.length;o++){var u=e[o],a=t.position[o];if(i=u.field.isKeyField()?gt.comparator(gt.fromName(a.referenceValue),n.key):Ms(a,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return t.before?i<=0:i<0}function PE(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xr=function(t,e,n,i,o,u,a,l){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function x1(t,e,n,i,o,u,a,l){return new Xr(t,e,n,i,o,u,a,l)}function za(t){return new Xr(t)}function xl(t){return!Mo(t.limit)&&t.limitType==="F"}function tf(t){return!Mo(t.limit)&&t.limitType==="L"}function fv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function hv(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function dv(t){return t.collectionGroup!==null}function Fs(t){var e=ut(t);if(e.p===null){e.p=[];var n=hv(e),i=fv(e);if(n!==null&&i===null)n.isKeyField()||e.p.push(new Ns(n)),e.p.push(new Ns(pr.keyField(),"asc"));else{for(var o=!1,u=0,a=e.explicitOrderBy;u<a.length;u++){var l=a[u];e.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ns(pr.keyField(),f))}}}return e.p}function Pr(t){var e=ut(t);if(!e.T)if(e.limitType==="F")e.T=RE(e.path,e.collectionGroup,Fs(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,o=Fs(e);i<o.length;i++){var u=o[i],a=u.dir==="desc"?"asc":"desc";n.push(new Ns(u.field,a))}var l=e.endAt?new Aa(e.endAt.position,!e.endAt.before):null,f=e.startAt?new Aa(e.startAt.position,!e.startAt.before):null;e.T=RE(e.path,e.collectionGroup,n,e.filters,e.limit,l,f)}return e.T}function C1(t,e,n){return new Xr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ga(t,e){return Kf(Pr(t),Pr(e))&&t.limitType===e.limitType}function O1(t){return Ha(Pr(t))+"|lt:"+t.limitType}function zg(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+cv(o.value);var o}).join(", ")+"]"),Mo(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Zl(e.startAt)),e.endAt&&(n+=", endAt: "+Zl(e.endAt)),"Target("+n+")"}(Pr(t))+"; limitType="+t.limitType+")"}function Wa(t,e){return e.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):gt.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var a=u[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!DE(n.startAt,Fs(n),i))&&(!n.endAt||!DE(n.endAt,Fs(n),i))}(t,e)}function R1(t){return function(e,n){for(var i=!1,o=0,u=Fs(t);o<u.length;o++){var a=u[o],l=xL(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function xL(t,e,n){var i=t.field.isKeyField()?gt.comparator(e.key,n.key):function(o,u,a){var l=u.data.field(o),f=a.data.field(o);return l!==null&&f!==null?Ms(l,f):pt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return pt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yl(e)?"-0":e}}function P1(t){return{integerValue:""+t}}function L1(t,e){return A1(e)?P1(e):D1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hf=function(){this._=void 0};function CL(t,e,n){return t instanceof Vs?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,e):t instanceof xo?F1(t,e):t instanceof Co?V1(t,e):function(i,o){var u=M1(i,o),a=LE(u)+LE(i.A);return Hg(u)&&Hg(i.A)?P1(a):D1(i.R,a)}(t,e)}function OL(t,e,n){return t instanceof xo?F1(t,e):t instanceof Co?V1(t,e):n}function M1(t,e){return t instanceof js?Hg(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}var Vs=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return yt(e,t),e}(Hf),xo=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return yt(e,t),e}(Hf);function F1(t,e){for(var n=j1(e),i=function(a){n.some(function(l){return Dr(l,a)})||n.push(a)},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Co=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return yt(e,t),e}(Hf);function V1(t,e){for(var n=j1(e),i=function(a){n=n.filter(function(l){return!Dr(l,a)})},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var js=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).R=n,o.A=i,o}return yt(e,t),e}(Hf);function LE(t){return Ne(t.integerValue||t.doubleValue)}function j1(t){return lv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qa=function(t,e){this.field=t,this.transform=e},RL=function(t,e){this.version=t,this.transformResults=e},nn=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Cl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var zf=function(){};function DL(t,e,n){t instanceof Ya?function(i,o,u){var a=i.value.clone(),l=VE(i.fieldTransforms,o,u.transformResults);a.setAll(l),o.convertToFoundDocument(u.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Li?function(i,o,u){if(Cl(i.precondition,o)){var a=VE(i.fieldTransforms,o,u.transformResults),l=o.data;l.setAll(U1(i)),l.setAll(a),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(t,e,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Gg(t,e,n){t instanceof Ya?function(i,o,u){if(Cl(i.precondition,o)){var a=i.value.clone(),l=jE(i.fieldTransforms,u,o);a.setAll(l),o.convertToFoundDocument(FE(o),a).setHasLocalMutations()}}(t,e,n):t instanceof Li?function(i,o,u){if(Cl(i.precondition,o)){var a=jE(i.fieldTransforms,u,o),l=o.data;l.setAll(U1(i)),l.setAll(a),o.convertToFoundDocument(FE(o),l).setHasLocalMutations()}}(t,e,n):function(i,o){Cl(i.precondition,o)&&o.convertToNoDocument(Mt.min())}(t,e)}function PL(t,e){for(var n=null,i=0,o=t.fieldTransforms;i<o.length;i++){var u=o[i],a=e.data.field(u.field),l=M1(u.transform,a||null);l!=null&&(n==null&&(n=Fn.empty()),n.set(u.field,l))}return n||null}function ME(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ds(n,i,function(o,u){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof xo&&d instanceof xo||f instanceof Co&&d instanceof Co?Ds(f.elements,d.elements,Dr):f instanceof js&&d instanceof js?Dr(f.A,d.A):f instanceof Vs&&d instanceof Vs}(a.transform,l.transform)}(o,u)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function FE(t){return t.isFoundDocument()?t.version:Mt.min()}var Ya=function(t){function e(n,i,o,u){u===void 0&&(u=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=u,a.type=0,a}return yt(e,t),e}(zf),Li=function(t){function e(n,i,o,u,a){a===void 0&&(a=[]);var l=this;return(l=t.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=u,l.fieldTransforms=a,l.type=1,l}return yt(e,t),e}(zf);function U1(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}}),e}function VE(t,e,n){var i=new Map;Et(t.length===n.length);for(var o=0;o<n.length;o++){var u=t[o],a=u.transform,l=e.data.field(u.field);i.set(u.field,OL(a,l,n[o]))}return i}function jE(t,e,n){for(var i=new Map,o=0,u=t;o<u.length;o++){var a=u[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,CL(l,f,e))}return i}var Ae,Bt,Xa=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return yt(e,t),e}(zf),pv=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return yt(e,t),e}(zf),LL=function(t){this.count=t};function B1(t){switch(t){case L.OK:return pt();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return pt()}}function q1(t){if(t===void 0)return ke("GRPC error has no .code"),L.UNKNOWN;switch(t){case Ae.OK:return L.OK;case Ae.CANCELLED:return L.CANCELLED;case Ae.UNKNOWN:return L.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return L.INTERNAL;case Ae.UNAVAILABLE:return L.UNAVAILABLE;case Ae.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Ae.NOT_FOUND:return L.NOT_FOUND;case Ae.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Ae.ABORTED:return L.ABORTED;case Ae.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Ae.DATA_LOSS:return L.DATA_LOSS;default:return pt()}}(Bt=Ae||(Ae={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un=function(){function t(e,n){this.comparator=e,this.root=n||vi.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vi.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vi.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,i){return e(n,i),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,i){return e.push(n+":"+i),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new ml(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new ml(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ml(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new ml(this.root,e,this.comparator,!0)},t}(),ml=function(){function t(e,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!e.isEmpty();)if(u=n?i(e.key,n):1,o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),vi=function(){function t(e,n,i,o,u){this.key=e,this.value=n,this.color=i??t.RED,this.left=o??t.EMPTY,this.right=u??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,o,u){return new t(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,i){var o=this,u=i(e,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();var e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)},t}();vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1,vi.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw pt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw pt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw pt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw pt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw pt()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,i,o,u){return this},t.prototype.insert=function(e,n,i){return new vi(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe=function(){function t(e){this.comparator=e,this.data=new un(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var i=this.data.getIteratorFrom(e[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}},t.prototype.forEachWhile=function(e,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new UE(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new UE(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(i){n=n.add(i)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),UE=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ML=new un(gt.comparator);function hr(){return ML}var FL=new un(gt.comparator);function Wg(){return FL}var VL=new un(gt.comparator);function jL(){return VL}var UL=new Pe(gt.comparator);function ee(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=UL,i=0,o=t;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var BL=new Pe(jt);function Gf(){return BL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gv=function(){function t(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,mv.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Mt.min(),i,Gf(),hr(),ee())},t}(),mv=function(){function t(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Nn.EMPTY_BYTE_STRING,n,ee(),ee(),ee())},t}(),Ol=function(t,e,n,i){this.v=t,this.removedTargetIds=e,this.key=n,this.P=i},$1=function(t,e){this.targetId=t,this.V=e},K1=function(t,e,n,i){n===void 0&&(n=Nn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},BE=function(){function t(){this.S=0,this.D=$E(),this.C=Nn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=ee(),n=ee(),i=ee();return this.D.forEach(function(o,u){switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:pt()}}),new mv(this.C,this.N,e,n,i)},t.prototype.L=function(){this.k=!1,this.D=$E()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),qL=function(){function t(e){this.W=e,this.G=new Map,this.H=hr(),this.J=qE(),this.Y=new Pe(jt)}return t.prototype.X=function(e){for(var n=0,i=e.v;n<i.length;n++){var o=i[n];e.P&&e.P.isFoundDocument()?this.Z(o,e.P):this.tt(o,e.key,e.P)}for(var u=0,a=e.removedTargetIds;u<a.length;u++)o=a[u],this.tt(o,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(i){var o=n.nt(i);switch(e.state){case 0:n.st(i)&&o.O(e.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(e.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(e.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(e.resumeToken));break;default:pt()}})},t.prototype.forEachTarget=function(e,n){var i=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},t.prototype.rt=function(e){var n=e.targetId,i=e.V.count,o=this.ot(n);if(o){var u=o.target;if(Jl(u))if(i===0){var a=new gt(u.path);this.tt(n,a,sn.newNoDocument(a,Mt.min()))}else Et(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Jl(f.target)){var d=new gt(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,sn.newNoDocument(d,e))}a.$&&(i.set(l,a.M()),a.L())}});var o=ee();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var g=n.ot(d);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var u=new gv(e,i,this.Y,this.H,o);return this.H=hr(),this.J=qE(),this.Y=new Pe(jt),u},t.prototype.Z=function(e,n){if(this.st(e)){var i=this.at(e,n.key)?2:0;this.nt(e).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,i){if(this.st(e)){var o=this.nt(e);this.at(e,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),i&&(this.H=this.H.insert(n,i))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new BE,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new Pe(jt),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new BE),this.W.getRemoteKeysForTarget(e).forEach(function(i){n.tt(e,i,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function qE(){return new un(gt.comparator)}function $E(){return new un(gt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $L={asc:"ASCENDING",desc:"DESCENDING"},KL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HL=function(t,e){this.databaseId=t,this.I=e};function Na(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function H1(t,e){return t.I?e.toBase64():e.toUint8Array()}function zL(t,e){return Na(t,e.toTimestamp())}function yn(t){return Et(!!t),Mt.fromTimestamp(function(e){var n=Oi(e);return new An(n.seconds,n.nanos)}(t))}function vv(t,e){return function(n){return new Yt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function z1(t){var e=Yt.fromString(t);return Et(Z1(e)),e}function ka(t,e){return vv(t.databaseId,e.path)}function Kr(t,e){var n=z1(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new gt(W1(n))}function Qg(t,e){return vv(t.databaseId,e)}function G1(t){var e=z1(t);return e.length===4?Yt.emptyPath():W1(e)}function xa(t){return new Yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function W1(t){return Et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function KE(t,e,n){return{name:ka(t,e),fields:n.value.mapValue.fields}}function GL(t,e,n){var i=Kr(t,e.name),o=yn(e.updateTime),u=new Fn({mapValue:{fields:e.fields}}),a=sn.newFoundDocument(i,o,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ef(t,e){var n;if(e instanceof Ya)n={update:KE(t,e.key,e.value)};else if(e instanceof Xa)n={delete:ka(t,e.key)};else if(e instanceof Li)n={update:KE(t,e.key,e.data),updateMask:JL(e.fieldMask)};else{if(!(e instanceof pv))return pt();n={verify:ka(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(i){return function(o,u){var a=u.transform;if(a instanceof Vs)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Co)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof js)return{fieldPath:u.field.canonicalString(),increment:a.A};throw pt()}(0,i)})),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:zL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:pt()}(t,e.precondition)),n}function HE(t,e){var n=e.currentDocument?function(d){return d.updateTime!==void 0?nn.updateTime(yn(d.updateTime)):d.exists!==void 0?nn.exists(d.exists):nn.none()}(e.currentDocument):nn.none(),i=e.updateTransforms?e.updateTransforms.map(function(d){return function(g,m){var v=null;if("setToServerValue"in m)Et(m.setToServerValue==="REQUEST_TIME"),v=new Vs;else if("appendMissingElements"in m){var b=m.appendMissingElements.values||[];v=new xo(b)}else if("removeAllFromArray"in m){var E=m.removeAllFromArray.values||[];v=new Co(E)}else"increment"in m?v=new js(g,m.increment):pt();var T=pr.fromServerFormat(m.fieldPath);return new Qa(T,v)}(t,d)}):[];if(e.update){e.update.name;var o=Kr(t,e.update.name),u=new Fn({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(d){var g=d.fieldPaths||[];return new Ps(g.map(function(m){return pr.fromServerFormat(m)}))}(e.updateMask);return new Li(o,u,a,n,i)}return new Ya(o,u,n,i)}if(e.delete){var l=Kr(t,e.delete);return new Xa(l,n)}if(e.verify){var f=Kr(t,e.verify);return new pv(f,n)}return pt()}function Q1(t,e){return{documents:[Qg(t,e.path)]}}function Y1(t,e){var n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Qg(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Qg(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(g){if(g.op==="=="){if(OE(g.value))return{unaryFilter:{field:hs(g.field),op:"IS_NAN"}};if(CE(g.value))return{unaryFilter:{field:hs(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(OE(g.value))return{unaryFilter:{field:hs(g.field),op:"IS_NOT_NAN"}};if(CE(g.value))return{unaryFilter:{field:hs(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(g.field),op:QL(g.op),value:g.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(e.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:hs(d.field),direction:WL(d.dir)}}(f)})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);var a=function(l,f){return l.I||Mo(f)?f:{value:f}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=zE(e.startAt)),e.endAt&&(n.structuredQuery.endAt=zE(e.endAt)),n}function X1(t){var e=G1(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Et(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:e=e.child(u.collectionId)}var a=[];n.where&&(a=J1(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(m){return function(v){return new Ns(_s(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m)}));var f=null;n.limit&&(f=function(m){var v;return Mo(v=typeof m=="object"?m.value:m)?null:v}(n.limit));var d=null;n.startAt&&(d=GE(n.startAt));var g=null;return n.endAt&&(g=GE(n.endAt)),x1(e,o,l,a,f,"F",d,g)}function J1(t){return t?t.unaryFilter!==void 0?[XL(t)]:t.fieldFilter!==void 0?[YL(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return J1(e)}).reduce(function(e,n){return e.concat(n)}):pt():[]}function zE(t){return{before:t.before,values:t.position}}function GE(t){var e=!!t.before,n=t.values||[];return new Aa(n,e)}function WL(t){return $L[t]}function QL(t){return KL[t]}function hs(t){return{fieldPath:t.canonicalString()}}function _s(t){return pr.fromServerFormat(t.fieldPath)}function YL(t){return Un.create(_s(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return pt()}}(t.fieldFilter.op),t.fieldFilter.value)}function XL(t){switch(t.unaryFilter.op){case"IS_NAN":var e=_s(t.unaryFilter.field);return Un.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=_s(t.unaryFilter.field);return Un.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=_s(t.unaryFilter.field);return Un.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=_s(t.unaryFilter.field);return Un.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return pt()}}function JL(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function Z1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=WE(e)),e=ZL(t.get(n),e);return WE(e)}function ZL(t,e){for(var n=e,i=t.length,o=0;o<i;o++){var u=t.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function WE(t){return t+""}function $r(t){var e=t.length;if(Et(e>=2),e===2)return Et(t.charAt(0)===""&&t.charAt(1)===""),Yt.emptyPath();for(var n=e-2,i=[],o="",u=0;u<e;){var a=t.indexOf("",u);switch((a<0||a>n)&&pt(),t.charAt(a+1)){case"":var l=t.substring(u,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=t.substring(u,a),o+="\0";break;case"":o+=t.substring(u,a+1);break;default:pt()}u=a+2}return new Yt(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tM=function(t,e){this.seconds=t,this.nanoseconds=e},Ln=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ln.store="owner",Ln.key="owner";var Ni=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ni.store="mutationQueues",Ni.keyPath="userId";var ne=function(t,e,n,i,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};ne.store="mutations",ne.keyPath="batchId",ne.userMutationsIndex="userMutationsIndex",ne.userMutationsKeyPath=["userId","batchId"];var Je=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,dr(n)]},t.key=function(e,n,i){return[e,dr(n),i]},t}();Je.store="documentMutations",Je.PLACEHOLDER=new Je;var eM=function(t,e){this.path=t,this.readTime=e},nM=function(t,e){this.path=t,this.version=e},ye=function(t,e,n,i,o,u){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};ye.store="remoteDocuments",ye.readTimeIndex="readTimeIndex",ye.readTimeIndexPath="readTime",ye.collectionReadTimeIndex="collectionReadTimeIndex",ye.collectionReadTimeIndexPath=["parentPath","readTime"];var Cr=function(t){this.byteSize=t};Cr.store="remoteDocumentGlobal",Cr.key="remoteDocumentGlobalKey";var Tn=function(t,e,n,i,o,u,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=a};Tn.store="targets",Tn.keyPath="targetId",Tn.queryTargetsIndexName="queryTargetsIndex",Tn.queryTargetsKeyPath=["canonicalId","targetId"];var Ke=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ke.store="targetDocuments",Ke.keyPath=["targetId","path"],Ke.documentTargetsIndex="documentTargetsIndex",Ke.documentTargetsKeyPath=["path","targetId"];var Mn=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Mn.key="targetGlobalKey",Mn.store="targetGlobal";var Eo=function(t,e){this.collectionId=t,this.parent=e};Eo.store="collectionParents",Eo.keyPath=["collectionId","parent"];var Hr=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};Hr.store="clientMetadata",Hr.keyPath="clientId";var Us=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Us.store="bundles",Us.keyPath="bundleId";var Bs=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Bs.store="namedQueries",Bs.keyPath="name";var rM=we(we([],we(we([],we(we([],we(we([],[Ni.store,ne.store,Je.store,ye.store,Tn.store,Ln.store,Mn.store,Ke.store]),[Hr.store])),[Cr.store])),[Eo.store])),[Us.store,Bs.store]),tS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",eS=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),kn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Z=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(o,u){i.nextCallback=function(a){i.wrapSuccess(e,a).next(o,u)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,u)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,i){e.next(n,i)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(i){return t.reject(i)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,i){n(e)})},t.reject=function(e){return new t(function(n,i){i(e)})},t.waitFor=function(e){return new t(function(n,i){var o=0,u=0,a=!1;e.forEach(function(l){++o,l.next(function(){++u,a&&u===o&&n()},function(f){return i(f)})}),a=!0,u===o&&n()})},t.or=function(e){for(var n=t.resolve(!1),i=function(a){n=n.next(function(l){return l?t.resolve(l):a()})},o=0,u=e;o<u.length;o++)i(u[o]);return n},t.forEach=function(e,n){var i=this,o=[];return e.forEach(function(u,a){o.push(n.call(i,u,a))}),this.waitFor(o)},t}(),nS=function(){function t(e,n){var i=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new kn,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new ia(e,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=yv(o.target.error);i.ft.reject(new ia(e,u))}}return t.open=function(e,n,i,o){try{return new t(n,e.transaction(o,i))}catch(u){throw new ia(n,u)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(nt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new oM(n)},t}(),qs=function(){function t(e,n,i){this.name=e,this.version=n,this.wt=i,t._t(So())===12.2&&ke("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return nt("SimpleDb","Removing database:",e),po(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB>"u")return!1;if(t.gt())return!0;var e=So(),n=t._t(e),i=0<n&&n<10,o=t.Et(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||u)},t.gt=function(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},t.prototype.At=function(e){return z(this,void 0,void 0,function(){var n,i=this;return K(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(nt("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;u(d)},l.onblocked=function(){a(new ia(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new Y(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new ia(e,d))},l.onupgradeneeded=function(f){nt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){nt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,i,o){return z(this,void 0,void 0,function(){var u,a,l,f,d;return K(this,function(g){switch(g.label){case 0:u=n==="readonly",a=0,l=function(){var m,v,b,E,T;return K(this,function(O){switch(O.label){case 0:++a,O.label=1;case 1:return O.trys.push([1,4,,5]),[4,f.At(e)];case 2:return f.db=O.sent(),m=nS.open(f.db,e,u?"readonly":"readwrite",i),v=o(m).catch(function(x){return m.abort(x),Z.reject(x)}).toPromise(),b={},v.catch(function(){}),[4,m.dt];case 3:return[2,(b.value=(O.sent(),v),b)];case 4:return E=O.sent(),T=E.name!=="FirebaseError"&&a<3,nt("SimpleDb","Transaction failed with error:",E.message,"Retrying:",T),f.close(),T?[3,5]:[2,{value:Promise.reject(E)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,l()];case 2:if(typeof(d=g.sent())=="object")return[2,d.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),iM=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return po(this.Pt.delete())},t}(),ia=function(t){function e(n,i){var o=this;return(o=t.call(this,L.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return yt(e,t),e}(Y);function Fo(t){return t.name==="IndexedDbTransactionError"}var oM=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var i;return n!==void 0?(nt("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(nt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),po(i)},t.prototype.add=function(e){return nt("SimpleDb","ADD",this.store.name,e,e),po(this.store.add(e))},t.prototype.get=function(e){var n=this;return po(this.store.get(e)).next(function(i){return i===void 0&&(i=null),nt("SimpleDb","GET",n.store.name,e,i),i})},t.prototype.delete=function(e){return nt("SimpleDb","DELETE",this.store.name,e),po(this.store.delete(e))},t.prototype.count=function(){return nt("SimpleDb","COUNT",this.store.name),po(this.store.count())},t.prototype.Nt=function(e,n){var i=this.cursor(this.options(e,n)),o=[];return this.xt(i,function(u,a){o.push(a)}).next(function(){return o})},t.prototype.kt=function(e,n){nt("SimpleDb","DELETE ALL",this.store.name);var i=this.options(e,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(u,a,l){return l.delete()})},t.prototype.$t=function(e,n){var i;n?i=e:(i={},n=e);var o=this.cursor(i);return this.xt(o,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new Z(function(i,o){n.onerror=function(u){var a=yv(u.target.error);o(a)},n.onsuccess=function(u){var a=u.target.result;a?e(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},t.prototype.xt=function(e,n){var i=[];return new Z(function(o,u){e.onerror=function(a){u(a.target.error)},e.onsuccess=function(a){var l=a.target.result;if(l){var f=new iM(l),d=n(l.primaryKey,l.value,f);if(d instanceof Z){var g=d.catch(function(m){return f.done(),Z.reject(m)});i.push(g)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return Z.waitFor(i)})},t.prototype.options=function(e,n){var i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var i=this.store.index(e.index);return e.Ft?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function po(t){return new Z(function(e,n){t.onsuccess=function(i){var o=i.target.result;e(o)},t.onerror=function(i){var o=yv(i.target.error);n(o)}})}var QE=!1;function yv(t){var e=qs._t(So());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new Y("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return QE||(QE=!0,setTimeout(function(){throw i},0)),i}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YE=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return yt(e,t),e}(eS);function xn(t,e){var n=ut(t);return qs.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wv=function(){function t(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return t.prototype.applyToRemoteDocument=function(e,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(e.key)&&DL(u,e,i[o])}},t.prototype.applyToLocalView=function(e){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(e.key)&&Gg(a,e,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var a;(a=u[o]).key.isEqual(e.key)&&Gg(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(i){var o=e.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(Mt.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},ee())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ds(this.mutations,e.mutations,function(n,i){return ME(n,i)})&&Ds(this.baseMutations,e.baseMutations,function(n,i){return ME(n,i)})},t}(),sM=function(){function t(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return t.from=function(e,n,i){Et(e.mutations.length===i.length);for(var o=jL(),u=e.mutations,a=0;a<u.length;a++)o=o.insert(u[a].key,i[a].version);return new t(e,n,i,o)},t}(),Wf=function(){function t(e,n,i,o,u,a,l){u===void 0&&(u=Mt.min()),a===void 0&&(a=Mt.min()),l===void 0&&(l=Nn.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),rS=function(t){this.Lt=t};function Yg(t,e){if(e.document)return GL(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=gt.fromSegments(e.noDocument.path),i=Ks(e.noDocument.readTime),o=sn.newNoDocument(n,i);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){var u=gt.fromSegments(e.unknownDocument.path);return i=Ks(e.unknownDocument.version),sn.newUnknownDocument(u,i)}return pt()}function XE(t,e,n){var i=bv(n),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){var u=function(m,v){return{name:ka(m,v.key),fields:v.data.value.mapValue.fields,updateTime:Na(m,v.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new ye(null,null,u,a,i,o)}if(e.isNoDocument()){var l=e.key.path.toArray(),f=$s(e.version);return a=e.hasCommittedMutations,new ye(null,new eM(l,f),null,a,i,o)}if(e.isUnknownDocument()){var d=e.key.path.toArray(),g=$s(e.version);return new ye(new nM(d,g),null,null,!0,i,o)}return pt()}function bv(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function iS(t){var e=new An(t[0],t[1]);return Mt.fromTimestamp(e)}function $s(t){var e=t.toTimestamp();return new tM(e.seconds,e.nanoseconds)}function Ks(t){var e=new An(t.seconds,t.nanoseconds);return Mt.fromTimestamp(e)}function vs(t,e){for(var n=(e.baseMutations||[]).map(function(f){return HE(t.Lt,f)}),i=0;i<e.mutations.length-1;++i){var o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){var u=e.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}var a=e.mutations.map(function(f){return HE(t.Lt,f)}),l=An.fromMillis(e.localWriteTimeMs);return new wv(e.batchId,l,n,a)}function Xu(t){var e,n,i=Ks(t.readTime),o=t.lastLimboFreeSnapshotVersion!==void 0?Ks(t.lastLimboFreeSnapshotVersion):Mt.min();return t.query.documents!==void 0?(Et((n=t.query).documents.length===1),e=Pr(za(G1(n.documents[0])))):e=function(u){return Pr(X1(u))}(t.query),new Wf(e,t.targetId,0,t.lastListenSequenceNumber,i,o,Nn.fromBase64String(t.resumeToken))}function oS(t,e){var n,i=$s(e.snapshotVersion),o=$s(e.lastLimboFreeSnapshotVersion);n=Jl(e.target)?Q1(t.Lt,e.target):Y1(t.Lt,e.target);var u=e.resumeToken.toBase64();return new Tn(e.targetId,Ha(e.target),i,u,e.sequenceNumber,o,n)}function sS(t){var e=X1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?C1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uM=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return JE(e).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:Ks(o.createTime),version:o.version};var o})},t.prototype.saveBundleMetadata=function(e,n){return JE(e).put({bundleId:(i=n).id,createTime:$s(yn(i.createTime)),version:i.version});var i},t.prototype.getNamedQuery=function(e,n){return ZE(e).get(n).next(function(i){if(i)return{name:(o=i).name,query:sS(o.bundledQuery),readTime:Ks(o.readTime)};var o})},t.prototype.saveNamedQuery=function(e,n){return ZE(e).put(function(i){return{name:i.name,readTime:$s(yn(i.readTime)),bundledQuery:i.bundledQuery}}(n))},t}();function JE(t){return xn(t,Us.store)}function ZE(t){return xn(t,Bs.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aM=function(){function t(){this.Bt=new Ev}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),Z.resolve()},t.prototype.getCollectionParents=function(e,n){return Z.resolve(this.Bt.getEntries(n))},t}(),Ev=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Pe(Yt.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},t.prototype.has=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)},t.prototype.getEntries=function(e){return(this.index[e]||new Pe(Yt.comparator)).toArray()},t}(),cM=function(){function t(){this.qt=new Ev}return t.prototype.addToCollectionParentIndex=function(e,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:dr(u)};return t_(e).put(a)}return Z.resolve()},t.prototype.getCollectionParents=function(e,n){var i=[],o=IDBKeyRange.bound([n,""],[_1(n),""],!1,!0);return t_(e).Nt(o).next(function(u){for(var a=0,l=u;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push($r(f.parent))}return i})},t}();function t_(t){return xn(t,Eo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ar=function(){function t(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t,e,n){var i=t.store(ne.store),o=t.store(Je.store),u=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(E,T,O){return l++,O.delete()});u.push(f.next(function(){Et(l===1)}));for(var d=[],g=0,m=n.mutations;g<m.length;g++){var v=m[g],b=Je.key(e,v.key.path,n.batchId);u.push(o.delete(b)),d.push(v.key)}return Z.waitFor(u).next(function(){return d})}function nf(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar.DEFAULT_COLLECTION_PERCENTILE=10,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ar.DEFAULT=new Ar(41943040,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ar.DISABLED=new Ar(-1,0,0);var lM=function(){function t(e,n,i,o){this.userId=e,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return t.Qt=function(e,n,i,o){return Et(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,i,o)},t.prototype.checkEmpty=function(e){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ci(e).$t({index:ne.userMutationsIndex,range:i},function(o,u,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,i,o){var u=this,a=ys(e),l=ci(e);return l.add({}).next(function(f){Et(typeof f=="number");for(var d=new wv(f,n,i,o),g=function(x,V,C){var M=C.baseMutations.map(function(R){return ef(x.Lt,R)}),$=C.mutations.map(function(R){return ef(x.Lt,R)});return new ne(V,C.batchId,C.localWriteTime.toMillis(),M,$)}(u.R,u.userId,d),m=[],v=new Pe(function(x,V){return jt(x.canonicalString(),V.canonicalString())}),b=0,E=o;b<E.length;b++){var T=E[b],O=Je.key(u.userId,T.key.path,f);v=v.add(T.key.path.popLast()),m.push(l.put(g)),m.push(a.put(O,Je.PLACEHOLDER))}return v.forEach(function(x){m.push(u.Ut.addToCollectionParentIndex(e,x))}),e.addOnCommittedListener(function(){u.Kt[f]=d.keys()}),Z.waitFor(m).next(function(){return d})})},t.prototype.lookupMutationBatch=function(e,n){var i=this;return ci(e).get(n).next(function(o){return o?(Et(o.userId===i.userId),vs(i.R,o)):null})},t.prototype.jt=function(e,n){var i=this;return this.Kt[n]?Z.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),a=null;return ci(e).$t({index:ne.userMutationsIndex,range:u},function(l,f,d){f.userId===i.userId&&(Et(f.batchId>=o),a=vs(i.R,f)),d.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return ci(e).$t({index:ne.userMutationsIndex,range:n,reverse:!0},function(o,u,a){i=u.batchId,a.done()}).next(function(){return i})},t.prototype.getAllMutationBatches=function(e){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ci(e).Nt(ne.userMutationsIndex,i).next(function(o){return o.map(function(u){return vs(n.R,u)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=Je.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),a=[];return ys(e).$t({range:u},function(l,f,d){var g=l[0],m=l[1],v=l[2],b=$r(m);if(g===i.userId&&n.path.isEqual(b))return ci(e).get(v).next(function(E){if(!E)throw pt();Et(E.userId===i.userId),a.push(vs(i.R,E))});d.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new Pe(jt),u=[];return n.forEach(function(a){var l=Je.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=ys(e).$t({range:f},function(g,m,v){var b=g[0],E=g[1],T=g[2],O=$r(E);b===i.userId&&a.path.isEqual(O)?o=o.add(T):v.done()});u.push(d)}),Z.waitFor(u).next(function(){return i.Wt(e,o)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=this,o=n.path,u=o.length+1,a=Je.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Pe(jt);return ys(e).$t({range:l},function(d,g,m){var v=d[0],b=d[1],E=d[2],T=$r(b);v===i.userId&&o.isPrefixOf(T)?T.length===u&&(f=f.add(E)):m.done()}).next(function(){return i.Wt(e,f)})},t.prototype.Wt=function(e,n){var i=this,o=[],u=[];return n.forEach(function(a){u.push(ci(e).get(a).next(function(l){if(l===null)throw pt();Et(l.userId===i.userId),o.push(vs(i.R,l))}))}),Z.waitFor(u).next(function(){return o})},t.prototype.removeMutationBatch=function(e,n){var i=this;return uS(e.Mt,this.userId,n).next(function(o){return e.addOnCommittedListener(function(){i.Gt(n.batchId)}),Z.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(e,u)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(i){if(!i)return Z.resolve();var o=IDBKeyRange.lowerBound(Je.prefixForUser(n.userId)),u=[];return ys(e).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=$r(a[1]);u.push(d)}else f.done()}).next(function(){Et(u.length===0)})})},t.prototype.containsKey=function(e,n){return aS(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return cS(e).get(this.userId).next(function(i){return i||new Ni(n.userId,-1,"")})},t}();function aS(t,e,n){var i=Je.prefixForPath(e,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),a=!1;return ys(t).$t({range:u,Ft:!0},function(l,f,d){var g=l[0],m=l[1];l[2],g===e&&m===o&&(a=!0),d.done()}).next(function(){return a})}function ci(t){return xn(t,ne.store)}function ys(t){return xn(t,Je.store)}function cS(t){return xn(t,Ni.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rf=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),fM=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(i){var o=new rf(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(e,i).next(function(){return i.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return Mt.fromTimestamp(new An(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,i){var o=this;return this.Xt(e).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(e,u)})},t.prototype.addTargetData=function(e,n){var i=this;return this.te(e,n).next(function(){return i.Xt(e).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(e,o)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var i=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return ds(e).delete(n.targetId)}).next(function(){return i.Xt(e)}).next(function(o){return Et(o.targetCount>0),o.targetCount-=1,i.Zt(e,o)})},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,a=[];return ds(e).$t(function(l,f){var d=Xu(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(u++,a.push(o.removeTargetData(e,d)))}).next(function(){return Z.waitFor(a)}).next(function(){return u})},t.prototype.forEachTarget=function(e,n){return ds(e).$t(function(i,o){var u=Xu(o);n(u)})},t.prototype.Xt=function(e){return n_(e).get(Mn.key).next(function(n){return Et(n!==null),n})},t.prototype.Zt=function(e,n){return n_(e).put(Mn.key,n)},t.prototype.te=function(e,n){return ds(e).put(oS(this.R,n))},t.prototype.ee=function(e,n){var i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var i=Ha(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return ds(e).$t({range:o,index:Tn.queryTargetsIndexName},function(a,l,f){var d=Xu(l);Kf(n,d.target)&&(u=d,f.done())}).next(function(){return u})},t.prototype.addMatchingKeys=function(e,n,i){var o=this,u=[],a=yi(e);return n.forEach(function(l){var f=dr(l.path);u.push(a.put(new Ke(i,f))),u.push(o.referenceDelegate.addReference(e,i,l))}),Z.waitFor(u)},t.prototype.removeMatchingKeys=function(e,n,i){var o=this,u=yi(e);return Z.forEach(n,function(a){var l=dr(a.path);return Z.waitFor([u.delete([i,l]),o.referenceDelegate.removeReference(e,i,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var i=yi(e),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=yi(e),u=ee();return o.$t({range:i,Ft:!0},function(a,l,f){var d=$r(a[1]),g=new gt(d);u=u.add(g)}).next(function(){return u})},t.prototype.containsKey=function(e,n){var i=dr(n.path),o=IDBKeyRange.bound([i],[_1(i)],!1,!0),u=0;return yi(e).$t({index:Ke.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(u++,f.done())}).next(function(){return u>0})},t.prototype.lt=function(e,n){return ds(e).get(n).next(function(i){return i?Xu(i):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){return xn(t,Tn.store)}function n_(t){return xn(t,Mn.store)}function yi(t){return xn(t,Ke.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){return z(this,void 0,void 0,function(){return K(this,function(e){if(t.code!==L.FAILED_PRECONDITION||t.message!==tS)throw t;return nt("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t,e){var n=t[0],i=t[1],o=e[0],u=e[1],a=jt(n,o);return a===0?jt(i,u):a}var hM=function(){function t(e){this.ne=e,this.buffer=new Pe(r_),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();r_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),dM=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,i=this.oe?3e5:6e4;nt("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return z(n,void 0,void 0,function(){var o;return K(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return Fo(o=u.sent())?(nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Vo(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return u.sent(),[2]}})})})},t}(),pM=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(i){return Math.floor(n/100*i)})},t.prototype.nthSequenceNumber=function(e,n){var i=this;if(n===0)return Z.resolve(jn.o);var o=new hM(n);return this.ae.forEachTarget(e,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(e,function(u){return o.re(u)})}).next(function(){return o.maxValue})},t.prototype.removeTargets=function(e,n,i){return this.ae.removeTargets(e,n,i)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(e_)):this.getCacheSize(e).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),e_):i.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var i,o,u,a,l,f,d,g=this,m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(v){return v>g.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+v),o=g.params.maximumSequenceNumbersToCollect):o=v,a=Date.now(),g.nthSequenceNumber(e,o)}).next(function(v){return i=v,l=Date.now(),g.removeTargets(e,i,n)}).next(function(v){return u=v,f=Date.now(),g.removeOrphanedDocuments(e,i)}).next(function(v){return d=Date.now(),$g()<=Ht.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-m)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+v+" documents in "+(d-f)+`ms
Total Duration: `+(d-m)+"ms"),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:v})})},t}(),gM=function(){function t(e,n){this.db=e,this.garbageCollector=function(i,o){return new pM(i,o)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(i){return n.next(function(o){return i+o})})},t.prototype.de=function(e){var n=0;return this.le(e,function(i){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(i,o){return n(o)})},t.prototype.addReference=function(e,n,i){return vl(e,i)},t.prototype.removeReference=function(e,n,i){return vl(e,i)},t.prototype.removeTargets=function(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)},t.prototype.markPotentiallyOrphaned=function(e,n){return vl(e,n)},t.prototype._e=function(e,n){return function(i,o){var u=!1;return cS(i).Ot(function(a){return aS(i,a,o).next(function(l){return l&&(u=!0),Z.resolve(!l)})}).next(function(){return u})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],a=0;return this.we(e,function(l,f){if(f<=n){var d=i._e(e,l).next(function(g){if(!g)return a++,o.getEntry(e,l).next(function(){return o.removeEntry(l),yi(e).delete([0,dr(l.path)])})});u.push(d)}}).next(function(){return Z.waitFor(u)}).next(function(){return o.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)},t.prototype.updateLimboDocument=function(e,n){return vl(e,n)},t.prototype.we=function(e,n){var i,o=yi(e),u=jn.o;return o.$t({index:Ke.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,g=l.sequenceNumber;f===0?(u!==jn.o&&n(new gt($r(i)),u),u=g,i=d):u=jn.o}).next(function(){u!==jn.o&&n(new gt($r(i)),u)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function vl(t,e){return yi(t).put(function(n,i){return new Ke(0,dr(n.path),i)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ou=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];if(this.equalsFn(l,e))return f}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var i=this.mapKeyFn(e),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n])}else this.inner[i]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},t.prototype.forEach=function(e){Lo(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];e(l,f)}})},t.prototype.isEmpty=function(){return I1(this.inner)},t}(),lS=function(){function t(){this.changes=new ou(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:Mt.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:sn.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?Z.resolve(i.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),mM=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,i){return gi(e).put(yl(n),i)},t.prototype.removeEntry=function(e,n){var i=gi(e),o=yl(n);return i.delete(o)},t.prototype.updateMetadata=function(e,n){var i=this;return this.getMetadata(e).next(function(o){return o.byteSize+=n,i.me(e,o)})},t.prototype.getEntry=function(e,n){var i=this;return gi(e).get(yl(n)).next(function(o){return i.ye(n,o)})},t.prototype.ge=function(e,n){var i=this;return gi(e).get(yl(n)).next(function(o){return{document:i.ye(n,o),size:nf(o)}})},t.prototype.getEntries=function(e,n){var i=this,o=hr();return this.pe(e,n,function(u,a){var l=i.ye(u,a);o=o.insert(u,l)}).next(function(){return o})},t.prototype.Ee=function(e,n){var i=this,o=hr(),u=new un(gt.comparator);return this.pe(e,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),u=u.insert(a,nf(l))}).next(function(){return{documents:o,Te:u}})},t.prototype.pe=function(e,n,i){if(n.isEmpty())return Z.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),a=u.getNext();return gi(e).$t({range:o},function(l,f,d){for(var g=gt.fromSegments(l);a&&gt.comparator(a,g)<0;)i(a,null),a=u.getNext();a&&a.isEqual(g)&&(i(a,f),a=u.hasNext()?u.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=u.hasNext()?u.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){var o=this,u=hr(),a=n.path.length+1,l={};if(i.isEqual(Mt.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),g=bv(i);l.range=IDBKeyRange.lowerBound([d,g],!0),l.index=ye.collectionReadTimeIndex}return gi(e).$t(l,function(m,v,b){if(m.length===a){var E=Yg(o.R,v);n.path.isPrefixOf(E.key.path)?Wa(n,E)&&(u=u.insert(E.key,E)):b.done()}}).next(function(){return u})},t.prototype.newChangeBuffer=function(e){return new vM(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return i_(e).get(Cr.key).next(function(n){return Et(!!n),n})},t.prototype.me=function(e,n){return i_(e).put(Cr.key,n)},t.prototype.ye=function(e,n){if(n){var i=Yg(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(Mt.min()))return i}return sn.newInvalidDocument(e)},t}(),vM=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new ou(function(u){return u.toString()},function(u,a){return u.isEqual(a)}),o}return yt(e,t),e.prototype.applyChanges=function(n){var i=this,o=[],u=0,a=new Pe(function(l,f){return jt(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var g=XE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var m=nf(g);u+=m-d,o.push(i.Ie.addEntry(n,l,g))}else if(u-=d,i.trackRemovals){var v=XE(i.Ie.R,sn.newNoDocument(l,Mt.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,v))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,u)),Z.waitFor(o)},e.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},e.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var a=u.documents;return u.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},e}(lS);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){return xn(t,Cr.store)}function gi(t){return xn(t,ye.store)}function yl(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yM=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,i,o){var u=this;Et(i<o&&i>=0&&o<=11);var a=new nS("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(Ln.store)}(e),function(f){f.createObjectStore(Ni.store,{keyPath:Ni.keyPath}),f.createObjectStore(ne.store,{keyPath:ne.keyPath,autoIncrement:!0}).createIndex(ne.userMutationsIndex,ne.userMutationsKeyPath,{unique:!0}),f.createObjectStore(Je.store)}(e),o_(e),function(f){f.createObjectStore(ye.store)}(e));var l=Z.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(Ke.store),f.deleteObjectStore(Tn.store),f.deleteObjectStore(Mn.store)}(e),o_(e)),l=l.next(function(){return function(f){var d=f.store(Mn.store),g=new Mn(0,0,Mt.min().toTimestamp(),0);return d.put(Mn.key,g)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(ne.store).Nt().next(function(g){f.deleteObjectStore(ne.store),f.createObjectStore(ne.store,{keyPath:ne.keyPath,autoIncrement:!0}).createIndex(ne.userMutationsIndex,ne.userMutationsKeyPath,{unique:!0});var m=d.store(ne.store),v=g.map(function(b){return m.put(b)});return Z.waitFor(v)})}(e,a)})),l=l.next(function(){(function(f){f.createObjectStore(Hr.store,{keyPath:Hr.keyPath})})(e)})),i<5&&o>=5&&(l=l.next(function(){return u.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Cr.store)}(e),u.be(a)})),i<7&&o>=7&&(l=l.next(function(){return u.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return u.Pe(e,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e),function(f){var d=f.objectStore(ye.store);d.createIndex(ye.readTimeIndex,ye.readTimeIndexPath,{unique:!1}),d.createIndex(ye.collectionReadTimeIndex,ye.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(Us.store,{keyPath:Us.keyPath})})(e),function(f){f.createObjectStore(Bs.store,{keyPath:Bs.keyPath})}(e)})),l},t.prototype.be=function(e){var n=0;return e.store(ye.store).$t(function(i,o){n+=nf(o)}).next(function(){var i=new Cr(n);return e.store(Cr.store).put(Cr.key,i)})},t.prototype.Re=function(e){var n=this,i=e.store(Ni.store),o=e.store(ne.store);return i.Nt().next(function(u){return Z.forEach(u,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(ne.userMutationsIndex,l).next(function(f){return Z.forEach(f,function(d){Et(d.userId===a.userId);var g=vs(n.R,d);return uS(e,a.userId,g).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Ke.store),i=e.store(ye.store);return e.store(Mn.store).get(Mn.key).next(function(o){var u=[];return i.$t(function(a,l){var f=new Yt(a),d=function(g){return[0,dr(g)]}(f);u.push(n.get(d).next(function(g){return g?Z.resolve():function(m){return n.put(new Ke(0,dr(m),o.highestListenSequenceNumber))}(f)}))}).next(function(){return Z.waitFor(u)})})},t.prototype.Pe=function(e,n){e.createObjectStore(Eo.store,{keyPath:Eo.keyPath});var i=n.store(Eo.store),o=new Ev,u=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:dr(f)})}};return n.store(ye.store).$t({Ft:!0},function(a,l){var f=new Yt(a);return u(f.popLast())}).next(function(){return n.store(Je.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=$r(f);return u(d.popLast())})})},t.prototype.Ve=function(e){var n=this,i=e.store(Tn.store);return i.$t(function(o,u){var a=Xu(u),l=oS(n.R,a);return i.put(l)})},t}();function o_(t){t.createObjectStore(Ke.store,{keyPath:Ke.keyPath}).createIndex(Ke.documentTargetsIndex,Ke.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Tn.store,{keyPath:Tn.keyPath}).createIndex(Tn.queryTargetsIndexName,Tn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Mn.store)}var eg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wM=function(){function t(e,n,i,o,u,a,l,f,d,g){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=a,this.document=l,this.De=d,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(m){return Promise.resolve()},!t.yt())throw new Y(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gM(this,o),this.Le=n+"main",this.R=new rS(f),this.Be=new qs(this.Le,11,new yM(this.R)),this.qe=new fM(this.referenceDelegate,this.R),this.Ut=new cM,this.Ue=function(m,v){return new mM(m,v)}(this.R,this.Ut),this.Ke=new uM,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&ke("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Y(L.FAILED_PRECONDITION,eg);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new jn(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(i){return z(n,void 0,void 0,function(){return K(this,function(o){return this.started?[2,e(i)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(i){return z(n,void 0,void 0,function(){return K(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,e()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return z(n,void 0,void 0,function(){return K(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return wl(n).put(new Hr(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(i){i||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(i){return e.isPrimary&&!i?e.Xe(n).next(function(){return!1}):!!i&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(Fo(n))return nt("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return Gu(e).get(Ln.key).next(function(i){return Z.resolve(n.tn(i))})},t.prototype.en=function(e){return wl(e).delete(this.clientId)},t.prototype.nn=function(){return z(this,void 0,void 0,function(){var e,n,i,o,u=this;return K(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=xn(l,Hr.store);return f.Nt().next(function(d){var g=u.rn(d,18e5),m=d.filter(function(v){return g.indexOf(v)===-1});return Z.forEach(m,function(v){return f.delete(v.clientId)}).next(function(){return m})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(n=0,i=e;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?Z.resolve(!0):Gu(e).get(Ln.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new Y(L.FAILED_PRECONDITION,eg);return!1}}return!(!n.networkEnabled||!n.inForeground)||wl(e).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var a=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&nt("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},t.prototype.shutdown=function(){return z(this,void 0,void 0,function(){var e=this;return K(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ln.store,Hr.store],function(i){var o=new YE(i,jn.o);return e.Xe(o).next(function(){return e.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var i=this;return e.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return wl(n).Nt().next(function(i){return e.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return lM.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;nt("IndexedDbPersistence","Starting transaction:",e);var u,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,rM,function(l){return u=new YE(l,o.Ne?o.Ne.next():jn.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw ke("Failed to obtain primary lease for action '"+e+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new Y(L.FAILED_PRECONDITION,tS);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(l){return u.raiseOnCommittedEvent(),l})},t.prototype.dn=function(e){var n=this;return Gu(e).get(Ln.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new Y(L.FAILED_PRECONDITION,eg)})},t.prototype.Ze=function(e){var n=new Ln(this.clientId,this.allowTabSynchronization,Date.now());return Gu(e).put(Ln.key,n)},t.yt=function(){return qs.yt()},t.prototype.Xe=function(e){var n=this,i=Gu(e);return i.get(Ln.key).next(function(o){return n.tn(o)?(nt("IndexedDbPersistence","Releasing primary lease."),i.delete(Ln.key)):Z.resolve()})},t.prototype.sn=function(e,n){var i=Date.now();return!(e<i-n||e>i&&(ke("Detected an update time that is in the future: "+e+" > "+i),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),SD()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return nt("IndexedDbPersistence","Client '"+e+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return ke("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){ke("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Gu(t){return xn(t,Ln.store)}function wl(t){return xn(t,Hr.store)}function _v(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var fS=function(){function t(e,n,i){this.Ue=e,this._n=n,this.Ut=i}return t.prototype.mn=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(o){return i.yn(e,n,o)})},t.prototype.yn=function(e,n,i){return this.Ue.getEntry(e,n).next(function(o){for(var u=0,a=i;u<a.length;u++)a[u].applyToLocalView(o);return o})},t.prototype.gn=function(e,n){e.forEach(function(i,o){for(var u=0,a=n;u<a.length;u++)a[u].applyToLocalView(o)})},t.prototype.pn=function(e,n){var i=this;return this.Ue.getEntries(e,n).next(function(o){return i.En(e,o).next(function(){return o})})},t.prototype.En=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(o){return i.gn(n,o)})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){return function(o){return gt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(e,n.path):dv(n)?this.In(e,n,i):this.An(e,n,i)},t.prototype.Tn=function(e,n){return this.mn(e,new gt(n)).next(function(i){var o=Wg();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},t.prototype.In=function(e,n,i){var o=this,u=n.collectionGroup,a=Wg();return this.Ut.getCollectionParents(e,u).next(function(l){return Z.forEach(l,function(f){var d=function(g,m){return new Xr(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(u));return o.An(e,d,i).next(function(g){g.forEach(function(m,v){a=a.insert(m,v)})})}).next(function(){return a})})},t.prototype.An=function(e,n,i){var o,u,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(l){return u=l,a.Rn(e,u,o).next(function(f){o=f;for(var d=0,g=u;d<g.length;d++)for(var m=g[d],v=0,b=m.mutations;v<b.length;v++){var E=b[v],T=E.key,O=o.get(T);O==null&&(O=sn.newInvalidDocument(T),o=o.insert(T,O)),Gg(E,O,m.localWriteTime),O.isFoundDocument()||(o=o.remove(T))}})}).next(function(){return o.forEach(function(l,f){Wa(n,f)||(o=o.remove(l))}),o})},t.prototype.Rn=function(e,n,i){for(var o=ee(),u=0,a=n;u<a.length;u++)for(var l=0,f=a[u].mutations;l<f.length;l++){var d=f[l];d instanceof Li&&i.get(d.key)===null&&(o=o.add(d.key))}var g=i;return this.Ue.getEntries(e,o).next(function(m){return m.forEach(function(v,b){b.isFoundDocument()&&(g=g.insert(v,b))}),g})},t}(),bM=function(){function t(e,n,i,o){this.targetId=e,this.fromCache=n,this.bn=i,this.vn=o}return t.Pn=function(e,n){for(var i=ee(),o=ee(),u=0,a=n.docChanges;u<a.length;u++){var l=a[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new t(e,n.fromCache,i,o)},t}(),hS=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,i,o){var u=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(Mt.min())?this.Dn(e,n):this.Sn.pn(e,o).next(function(a){var l=u.Cn(n,a);return(xl(n)||tf(n))&&u.Nn(n.limitType,l,o,i)?u.Dn(e,n):($g()<=Ht.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zg(n)),u.Sn.getDocumentsMatchingQuery(e,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},t.prototype.Cn=function(e,n){var i=new Pe(R1(e));return n.forEach(function(o,u){Wa(e,u)&&(i=i.add(u))}),i},t.prototype.Nn=function(e,n,i,o){if(i.size!==n.size)return!0;var u=e==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},t.prototype.Dn=function(e,n){return $g()<=Ht.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",zg(n)),this.Sn.getDocumentsMatchingQuery(e,n,Mt.min())},t}(),EM=function(){function t(e,n,i,o){this.persistence=e,this.xn=n,this.R=o,this.kn=new un(jt),this.Fn=new ou(function(u){return Ha(u)},Kf),this.$n=Mt.min(),this._n=e.getMutationQueue(i),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new fS(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return e.collect(i,n.kn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e,n,i){return new EM(t,e,n,i)}function pS(t,e){return z(this,void 0,void 0,function(){var n,i,o,u;return K(this,function(a){switch(a.label){case 0:return n=ut(t),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(e),o=new fS(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var g=[],m=[],v=ee(),b=0,E=f;b<E.length;b++){var T=E[b];g.push(T.batchId);for(var O=0,x=T.mutations;O<x.length;O++){var V=x[O];v=v.add(V.key)}}for(var C=0,M=d;C<M.length;C++){var $=M[C];m.push($.batchId);for(var R=0,X=$.mutations;R<X.length;R++){var D=X[R];v=v.add(D.key)}}return o.pn(l,v).next(function(ht){return{Ln:ht,removedBatchIds:g,addedBatchIds:m}})})})];case 1:return u=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function _M(t,e){var n=ut(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=e.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var g=f.batch,m=g.keys(),v=Z.resolve();return m.forEach(function(b){v=v.next(function(){return d.getEntry(l,b)}).next(function(E){var T=f.docVersions.get(b);Et(T!==null),E.version.compareTo(T)<0&&(g.applyToRemoteDocument(E,f),E.isValidDocument()&&d.addEntry(E,f.commitVersion))})}),v.next(function(){return a._n.removeMutationBatch(l,g)})}(n,i,e,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function gS(t){var e=ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function IM(t,e){var n=ut(t),i=e.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];e.targetChanges.forEach(function(g,m){var v=o.get(m);if(v){l.push(n.qe.removeMatchingKeys(u,g.removedDocuments,m).next(function(){return n.qe.addMatchingKeys(u,g.addedDocuments,m)}));var b=g.resumeToken;if(b.approximateByteSize()>0){var E=v.withResumeToken(b,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(m,E),function(T,O,x){return Et(O.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(v,E,g)&&l.push(n.qe.updateTargetData(u,E))}}});var f=hr();if(e.documentUpdates.forEach(function(g,m){e.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(u,g))}),l.push(TM(u,a,e.documentUpdates,i,void 0).next(function(g){f=g})),!i.isEqual(Mt.min())){var d=n.qe.getLastRemoteSnapshotVersion(u).next(function(g){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});l.push(d)}return Z.waitFor(l).next(function(){return a.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.kn=o,u})}function TM(t,e,n,i,o){var u=ee();return n.forEach(function(a){return u=u.add(a)}),e.getEntries(t,u).next(function(a){var l=hr();return n.forEach(function(f,d){var g=a.get(f),m=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual(Mt.min())?(e.removeEntry(f,m),l=l.insert(f,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d,m),l=l.insert(f,d)):nt("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",d.version)}),l})}function SM(t,e){var n=ut(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(i,e)})}function of(t,e){var n=ut(t);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,e).next(function(u){return u?(o=u,Z.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Wf(e,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(e,i.targetId)),i})}function Hs(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a;return K(this,function(l){switch(l.label){case 0:i=ut(t),o=i.kn.get(e),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Fo(a=l.sent()))throw a;return nt("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.kn=i.kn.remove(e),i.Fn.delete(o.target),[2]}})})}function sf(t,e,n){var i=ut(t),o=Mt.min(),u=ee();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var g=ut(l),m=g.Fn.get(d);return m!==void 0?Z.resolve(g.kn.get(m)):g.qe.getTargetData(f,d)}(i,a,Pr(e)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,e,n?o:Mt.min(),n?u:ee())}).next(function(l){return{documents:l,Bn:u}})})}function mS(t,e){var n=ut(t),i=ut(n.qe),o=n.kn.get(e);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,e).next(function(a){return a?a.target:null})})}function vS(t){var e=ut(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var a=ut(i),l=hr(),f=bv(u),d=gi(o),g=IDBKeyRange.lowerBound(f,!0);return d.$t({index:ye.readTimeIndex,range:g},function(m,v){var b=Yg(a.R,v);l=l.insert(b.key,b),f=v.readTime}).next(function(){return{wn:l,readTime:iS(f)}})}(e.On,n,e.$n)}).then(function(n){var i=n.wn,o=n.readTime;return e.$n=o,i})}function AM(t){return z(this,void 0,void 0,function(){var e;return K(this,function(n){return[2,(e=ut(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=gi(o),a=Mt.min();return u.$t({index:ye.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=iS(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){e.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NM=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return Z.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:yn(i.createTime)}),Z.resolve()},t.prototype.getNamedQuery=function(e,n){return Z.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(i){return{name:i.name,query:sS(i.bundledQuery),readTime:yn(i.readTime)}}(n)),Z.resolve()},t}(),Iv=function(){function t(){this.Wn=new Pe(Me.Gn),this.zn=new Pe(Me.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var i=new Me(e,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},t.prototype.Jn=function(e,n){var i=this;e.forEach(function(o){return i.addReference(o,n)})},t.prototype.removeReference=function(e,n){this.Yn(new Me(e,n))},t.prototype.Xn=function(e,n){var i=this;e.forEach(function(o){return i.removeReference(o,n)})},t.prototype.Zn=function(e){var n=this,i=new gt(new Yt([])),o=new Me(i,e),u=new Me(i,e+1),a=[];return this.zn.forEachInRange([o,u],function(l){n.Yn(l),a.push(l.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new gt(new Yt([])),i=new Me(n,e),o=new Me(n,e+1),u=ee();return this.zn.forEachInRange([i,o],function(a){u=u.add(a.key)}),u},t.prototype.containsKey=function(e){var n=new Me(e,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)},t}(),Me=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return gt.comparator(e.key,n.key)||jt(e.ns,n.ns)},t.Hn=function(e,n){return jt(e.ns,n.ns)||gt.comparator(e.key,n.key)},t}(),kM=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Pe(Me.Gn)}return t.prototype.checkEmpty=function(e){return Z.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new wv(u,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new Me(d.key,u)),this.Ut.addToCollectionParentIndex(e,d.key.path.popLast())}return Z.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return Z.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return Z.resolve(this._n.length>u?this._n[u]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Z.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return Z.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=new Me(n,0),u=new Me(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,u],function(l){var f=i.os(l.ns);a.push(f)}),Z.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new Pe(jt);return n.forEach(function(u){var a=new Me(u,0),l=new Me(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),Z.resolve(this.us(o))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=n.path,o=i.length+1,u=i;gt.isDocumentKey(u)||(u=u.child(""));var a=new Me(new gt(u),0),l=new Pe(jt);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),Z.resolve(this.us(l))},t.prototype.us=function(e){var n=this,i=[];return e.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},t.prototype.removeMutationBatch=function(e,n){var i=this;Et(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return Z.forEach(n.mutations,function(u){var a=new Me(u.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(function(){i.rs=o})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var i=new Me(n,0),o=this.rs.firstAfterOrEqual(i);return Z.resolve(n.isEqual(o&&o.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,Z.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),xM=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new un(gt.comparator),this.size=0}return t.prototype.addEntry=function(e,n,i){var o=n.key,u=this.docs.get(o),a=u?u.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(e,o.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var i=this.docs.get(n);return Z.resolve(i?i.document.clone():sn.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var i=this,o=hr();return n.forEach(function(u){var a=i.docs.get(u);o=o.insert(u,a?a.document.clone():sn.newInvalidDocument(u))}),Z.resolve(o)},t.prototype.getDocumentsMatchingQuery=function(e,n,i){for(var o=hr(),u=new gt(n.path.child("")),a=this.docs.getIteratorFrom(u);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,g=d.document,m=d.readTime;if(!n.path.isPrefixOf(f.path))break;m.compareTo(i)<=0||Wa(n,g)&&(o=o.insert(g.key,g.clone()))}return Z.resolve(o)},t.prototype.fs=function(e,n){return Z.forEach(this.docs,function(i){return n(i)})},t.prototype.newChangeBuffer=function(e){return new CM(this)},t.prototype.getSize=function(e){return Z.resolve(this.size)},t}(),CM=function(t){function e(n){var i=this;return(i=t.call(this)||this).Ie=n,i}return yt(e,t),e.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),Z.waitFor(o)},e.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},e.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},e}(lS),OM=function(){function t(e){this.persistence=e,this.ds=new ou(function(n){return Ha(n)},Kf),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.ws=0,this._s=new Iv,this.targetCount=0,this.ys=rf.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(i,o){return n(o)}),Z.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return Z.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return Z.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Z.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),Z.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new rf(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,Z.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),Z.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,Z.resolve()},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(e,f.targetId)),u++)}),Z.waitFor(a).next(function(){return u})},t.prototype.getTargetCount=function(e){return Z.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var i=this.ds.get(n)||null;return Z.resolve(i)},t.prototype.addMatchingKeys=function(e,n,i){return this._s.Jn(n,i),Z.resolve()},t.prototype.removeMatchingKeys=function(e,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(a){u.push(o.markPotentiallyOrphaned(e,a))}),Z.waitFor(u)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),Z.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=this._s.es(n);return Z.resolve(i)},t.prototype.containsKey=function(e,n){return Z.resolve(this._s.containsKey(n))},t}(),RM=function(){function t(e,n){var i=this;this.gs={},this.Ne=new jn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new OM(this),this.Ut=new aM,this.Ue=function(o,u){return new xM(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new rS(n),this.Ke=new NM(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new kM(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;nt("MemoryPersistence","Starting transaction:",e);var u=new DM(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(a){return o.referenceDelegate.Ts(u).next(function(){return a})}).toPromise().then(function(a){return u.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return Z.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(e,n)}}))},t}(),DM=function(t){function e(n){var i=this;return(i=t.call(this)||this).currentSequenceNumber=n,i}return yt(e,t),e}(eS),PM=function(){function t(e){this.persistence=e,this.As=new Iv,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw pt()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),Z.resolve()},t.prototype.removeReference=function(e,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),Z.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),Z.resolve()},t.prototype.removeTarget=function(e,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(function(u){u.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.vs,function(o){var u=gt.fromPath(o);return n.Ps(e,u).next(function(a){a||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var i=this;return this.Ps(e,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var i=this;return Z.or([function(){return Z.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(e,n)},function(){return i.persistence.Is(e,n)}])},t}(),$e=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t,e){return"firestore_clients_"+t+"_"+e}function u_(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function ng(t,e){return"firestore_targets_"+t+"_"+e}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");var a_=function(){function t(e,n,i,o){this.user=e,this.batchId=n,this.state=i,this.error=o}return t.Vs=function(e,n,i){var o,u=JSON.parse(i),a=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return a&&u.error&&(a=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new Y(u.error.code,u.error.message)),a?new t(e,n,u.state,o):(ke("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),rg=function(){function t(e,n,i){this.targetId=e,this.state=n,this.error=i}return t.Vs=function(e,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new Y(o.error.code,o.error.message)),u?new t(e,o.state,i):(ke("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),c_=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=Gf(),a=0;o&&a<i.activeTargetIds.length;++a)o=A1(i.activeTargetIds[a]),u=u.add(i.activeTargetIds[a]);return o?new t(e,u):(ke("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),LM=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(ke("SharedClientState","Failed to parse online state: "+e),null)},t}(),Xg=function(){function t(){this.activeTargetIds=Gf()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),ig=function(){function t(e,n,i,o,u){this.window=e,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new un(jt),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=s_(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Xg),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return z(this,void 0,void 0,function(){var e,n,i,o,u,a,l,f,d,g,m,v=this;return K(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=b.sent(),n=0,i=e;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(s_(this.persistenceKey,o)))&&(a=c_.Vs(o,u))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,g=this.$s;d<g.length;d++)m=g[d],this.ks(m);return this.$s=[],this.window.addEventListener("pagehide",function(){return v.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,i){this.zs(e,n,i),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var i=this.storage.getItem(ng(this.persistenceKey,e));if(i){var o=rg.Vs(e,i);o&&(n=o.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(ng(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,i){this.Ys(e,n,i)},t.prototype.handleUserChange=function(e,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=e,i.forEach(function(u){o.addPendingMutation(u)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return nt("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){nt("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){nt("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,i=e;if(i.storageArea===this.storage){if(nt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void ke("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return z(n,void 0,void 0,function(){var o,u,a,l,f,d;return K(this,function(g){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(m){var v=jn.o;if(m!=null)try{var b=JSON.parse(m);Et(typeof b=="number"),v=b}catch(E){ke("SharedClientState","Failed to read sequence number from WebStorage",E)}return v}(i.newValue))!==jn.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,i){var o=new a_(this.currentUser,e,n,i),u=u_(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Ss())},t.prototype.Hs=function(e){var n=u_(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,i){var o=ng(this.persistenceKey,e),u=new rg(e,n,i);this.setItem(o,u.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var i=this.ti(e);return c_.Vs(i,n)},t.prototype.si=function(e,n){var i=this.Bs.exec(e),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return a_.Vs(new $e(u),o,n)},t.prototype.ri=function(e,n){var i=this.qs.exec(e),o=Number(i[1]);return rg.Vs(o,n)},t.prototype.js=function(e){return LM.Vs(e)},t.prototype.ii=function(e){return z(this,void 0,void 0,function(){return K(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(nt("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var i=this,o=n?this.Fs.insert(e,n):this.Fs.remove(e),u=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){u.has(d)||l.push(d)}),u.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=Gf();return e.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},t}(),yS=function(){function t(){this.li=new Xg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,i){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,i){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new Xg,Promise.resolve()},t.prototype.handleUserChange=function(e,n,i){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),MM=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),l_=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),FM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},VM=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),jM=function(t){function e(n){var i=this;return(i=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return yt(e,t),e.prototype.Fi=function(n,i,o,u){return new Promise(function(a,l){var f=new mL;f.listenOnce(dL.COMPLETE,function(){try{switch(f.getLastErrorCode()){case tg.NO_ERROR:var g=f.getResponseJson();nt("Connection","XHR received:",JSON.stringify(g)),a(g);break;case tg.TIMEOUT:nt("Connection",'RPC "'+n+'" timed out'),l(new Y(L.DEADLINE_EXCEEDED,"Request time out"));break;case tg.HTTP_ERROR:var m=f.getStatus();if(nt("Connection",'RPC "'+n+'" failed with status:',m,"response text:",f.getResponseText()),m>0){var v=f.getResponseJson().error;if(v&&v.status&&v.message){var b=function(E){var T=E.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(T)>=0?T:L.UNKNOWN}(v.status);l(new Y(b,v.message))}else l(new Y(L.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new Y(L.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{nt("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(u);f.send(i,"POST",d,o,15)})},e.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=fL(),a=hL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new gL({})),this.ki(l.initMessageHeaders,i),yD()||ED()||_D()||ID()||TD()||bD()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");nt("Connection","Creating WebChannel: "+f,l);var d=u.createWebChannel(f,l),g=!1,m=!1,v=new VM({Ei:function(E){m?nt("Connection","Not sending because WebChannel is closed:",E):(g||(nt("Connection","Opening WebChannel transport."),d.open(),g=!0),nt("Connection","WebChannel sending:",E),d.send(E))},Ti:function(){return d.close()}}),b=function(E,T,O){E.listen(T,function(x){try{O(x)}catch(V){setTimeout(function(){throw V},0)}})};return b(d,gl.EventType.OPEN,function(){m||nt("Connection","WebChannel transport opened.")}),b(d,gl.EventType.CLOSE,function(){m||(m=!0,nt("Connection","WebChannel transport closed"),v.Vi())}),b(d,gl.EventType.ERROR,function(E){m||(m=!0,Ql("Connection","WebChannel transport errored:",E),v.Vi(new Y(L.UNAVAILABLE,"The operation could not be completed")))}),b(d,gl.EventType.MESSAGE,function(E){var T;if(!m){var O=E.data[0];Et(!!O);var x=O,V=x.error||((T=x[0])===null||T===void 0?void 0:T.error);if(V){nt("Connection","WebChannel received error:",V);var C=V.status,M=function(R){var X=Ae[R];if(X!==void 0)return q1(X)}(C),$=V.message;M===void 0&&(M=L.INTERNAL,$="Unknown error status: "+C+" with message "+V.message),m=!0,v.Vi(new Y(M,$)),d.close()}else nt("Connection","WebChannel received:",O),v.Si(O)}}),b(a,pL.STAT_EVENT,function(E){E.stat===NE.PROXY?nt("Connection","Detected buffering proxy"):E.stat===NE.NOPROXY&&nt("Connection","Detected no buffering proxy")}),setTimeout(function(){v.Pi()},0),v},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,i,o){var u=this.xi(e,n);nt("RestConnection","Sending: ",u,i);var a={};return this.ki(a,o),this.Fi(e,u,a,i).then(function(l){return nt("RestConnection","Received: ",l),l},function(l){throw Ql("RestConnection",e+" failed with error: ",l,"url: ",u,"request:",i),l})},t.prototype.$i=function(e,n,i,o){return this.Ni(e,n,i,o)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(e[i]=n.authHeaders[i])},t.prototype.xi=function(e,n){var i=FM[e];return this.Di+"/v1/"+n+":"+i},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(){return typeof window<"u"?window:null}function Rl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){return new HL(t,!0)}var Tv=function(){function t(e,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=e,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&nt("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),bS=function(){function t(e,n,i,o,u,a){this.Se=e,this.zi=i,this.Hi=o,this.Ji=u,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Tv(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return z(this,void 0,void 0,function(){return K(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return z(this,void 0,void 0,function(){return K(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return z(this,void 0,void 0,function(){return K(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(ke(n.toString()),ke("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===L.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){e.Yi===i&&e.lr(o)},function(o){n(function(){var u=new Y(L.UNKNOWN,"Fetching auth token failed: "+o.message);return e.dr(u)})})},t.prototype.lr=function(e){var n=this,i=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return z(e,void 0,void 0,function(){return K(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return nt("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===e?i():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),UM=function(t){function e(n,i,o,u,a){var l=this;return(l=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=u,l}return yt(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,a){var l;if("targetChange"in a){a.targetChange;var f=function(O){return O==="NO_CHANGE"?0:O==="ADD"?1:O==="REMOVE"?2:O==="CURRENT"?3:O==="RESET"?4:pt()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],g=function(O,x){return O.I?(Et(x===void 0||typeof x=="string"),Nn.fromBase64String(x||"")):(Et(x===void 0||x instanceof Uint8Array),Nn.fromUint8Array(x||new Uint8Array))}(u,a.targetChange.resumeToken),m=(v=a.targetChange.cause)&&function(O){var x=O.code===void 0?L.UNKNOWN:q1(O.code);return new Y(x,O.message||"")}(v);l=new K1(f,d,g,m||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=Kr(u,f.document.name),g=yn(f.document.updateTime);var v=new Fn({mapValue:{fields:f.document.fields}}),b=(m=sn.newFoundDocument(d,g,v),f.targetIds||[]),E=f.removedTargetIds||[];l=new Ol(b,E,m.key,m)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=Kr(u,f.document),g=f.readTime?yn(f.readTime):Mt.min(),v=sn.newNoDocument(d,g),m=f.removedTargetIds||[],l=new Ol([],m,v.key,v);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=Kr(u,f.document),g=f.removedTargetIds||[],l=new Ol([],g,d,null);else{if(!("filter"in a))return pt();a.filter;var T=a.filter;T.targetId,f=T.count||0,d=new LL(f),g=T.targetId,l=new $1(g,d)}return l}(this.R,n),o=function(u){if(!("targetChange"in u))return Mt.min();var a=u.targetChange;return a.targetIds&&a.targetIds.length?Mt.min():a.readTime?yn(a.readTime):Mt.min()}(n);return this.listener._r(i,o)},e.prototype.mr=function(n){var i={};i.database=xa(this.R),i.addTarget=function(u,a){var l,f=a.target;return(l=Jl(f)?{documents:Q1(u,f)}:{query:Y1(u,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=H1(u,a.resumeToken):a.snapshotVersion.compareTo(Mt.min())>0&&(l.readTime=Na(u,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(u,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},e.prototype.yr=function(n){var i={};i.database=xa(this.R),i.removeTarget=n,this.cr(i)},e}(bS),BM=function(t){function e(n,i,o,u,a){var l=this;return(l=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=u,l.gr=!1,l}return yt(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(Et(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,a){return u&&u.length>0?(Et(a!==void 0),u.map(function(l){return function(f,d){var g=f.updateTime?yn(f.updateTime):yn(d);return g.isEqual(Mt.min())&&(g=yn(d)),new RL(g,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=yn(n.commitTime);return this.listener.Tr(o,i)}return Et(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=xa(this.R),this.cr(n)},e.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return ef(i.R,u)})};this.cr(o)},e}(bS),qM=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return yt(e,t),e.prototype.br=function(){if(this.Rr)throw new Y(L.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new Y(L.UNKNOWN,a.toString())})},e.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new Y(L.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),$M=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(ke(n),this.Vr=!1):nt("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),KM=function(t,e,n,i,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return z(u,void 0,void 0,function(){return K(this,function(l){switch(l.label){case 0:return Mi(this)?(nt("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return z(this,void 0,void 0,function(){var d;return K(this,function(g){switch(g.label){case 0:return(d=ut(f)).Or.add(4),[4,su(d)];case 1:return g.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Ja(d)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new $M(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t){return z(this,void 0,void 0,function(){var e,n;return K(this,function(i){switch(i.label){case 0:if(!Mi(t))return[3,4];e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function su(t){return z(this,void 0,void 0,function(){var e,n;return K(this,function(i){switch(i.label){case 0:e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Yf(t,e){var n=ut(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Nv(n)?Av(n):au(n).er()&&Sv(n,e))}function Ca(t,e){var n=ut(t),i=au(n);n.$r.delete(e),i.er()&&ES(n,e),n.$r.size===0&&(i.er()?i.ir():Mi(n)&&n.Br.set("Unknown"))}function Sv(t,e){t.qr.U(e.targetId),au(t).mr(e)}function ES(t,e){t.qr.U(e),au(t).yr(e)}function Av(t){t.qr=new qL({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),au(t).start(),t.Br.Sr()}function Nv(t){return Mi(t)&&!au(t).tr()&&t.$r.size>0}function Mi(t){return ut(t).Or.size===0}function _S(t){t.qr=void 0}function HM(t){return z(this,void 0,void 0,function(){return K(this,function(e){return t.$r.forEach(function(n,i){Sv(t,n)}),[2]})})}function zM(t,e){return z(this,void 0,void 0,function(){return K(this,function(n){return _S(t),Nv(t)?(t.Br.Nr(e),Av(t)):t.Br.set("Unknown"),[2]})})}function GM(t,e,n){return z(this,void 0,void 0,function(){var i,o,u;return K(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof K1&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return z(this,void 0,void 0,function(){var d,g,m,v;return K(this,function(b){switch(b.label){case 0:d=f.cause,g=0,m=f.targetIds,b.label=1;case 1:return g<m.length?(v=m[g],l.$r.has(v)?[4,l.remoteSyncer.rejectListen(v,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(v),l.qr.removeTarget(v),b.label=3;case 3:b.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,uf(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ol?t.qr.X(e):e instanceof $1?t.qr.rt(e):t.qr.et(e),n.isEqual(Mt.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,gS(t.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(g,m){if(g.resumeToken.approximateByteSize()>0){var v=l.$r.get(m);v&&l.$r.set(m,v.withResumeToken(g.resumeToken,f))}}),d.targetMismatches.forEach(function(g){var m=l.$r.get(g);if(m){l.$r.set(g,m.withResumeToken(Nn.EMPTY_BYTE_STRING,m.snapshotVersion)),ES(l,g);var v=new Wf(m.target,g,1,m.sequenceNumber);Sv(l,v)}}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return nt("RemoteStore","Failed to raise snapshot:",u=a.sent()),[4,uf(t,u)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function uf(t,e,n){return z(this,void 0,void 0,function(){var i=this;return K(this,function(o){switch(o.label){case 0:if(!Fo(e))throw e;return t.Or.add(1),[4,su(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return gS(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return z(i,void 0,void 0,function(){return K(this,function(u){switch(u.label){case 0:return nt("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),t.Or.delete(1),[4,Ja(t)];case 2:return u.sent(),[2]}})})}),[2]}})})}function IS(t,e){return e().catch(function(n){return uf(t,n,e)})}function uu(t){return z(this,void 0,void 0,function(){var e,n,i,o,u;return K(this,function(a){switch(a.label){case 0:e=ut(t),n=Ri(e),i=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Mi(l)&&l.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,SM(e.localStore,i)];case 3:return(o=a.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=Ri(l);d.er()&&d.pr&&d.Er(f.mutations)}(e,o),[3,6]);case 4:return u=a.sent(),[4,uf(e,u)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return TS(e)&&SS(e),[2]}})})}function TS(t){return Mi(t)&&!Ri(t).tr()&&t.Fr.length>0}function SS(t){Ri(t).start()}function WM(t){return z(this,void 0,void 0,function(){return K(this,function(e){return Ri(t).Ar(),[2]})})}function QM(t){return z(this,void 0,void 0,function(){var e,n,i,o;return K(this,function(u){for(e=Ri(t),n=0,i=t.Fr;n<i.length;n++)o=i[n],e.Er(o.mutations);return[2]})})}function YM(t,e,n){return z(this,void 0,void 0,function(){var i,o;return K(this,function(u){switch(u.label){case 0:return i=t.Fr.shift(),o=sM.from(i,e,n),[4,IS(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,uu(t)];case 2:return u.sent(),[2]}})})}function XM(t,e){return z(this,void 0,void 0,function(){return K(this,function(n){switch(n.label){case 0:return e&&Ri(t).pr?[4,function(i,o){return z(this,void 0,void 0,function(){var u,a;return K(this,function(l){switch(l.label){case 0:return B1(a=o.code)&&a!==L.ABORTED?(u=i.Fr.shift(),Ri(i).sr(),[4,IS(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,uu(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return TS(t)&&SS(t),[2]}})})}function Jg(t,e){return z(this,void 0,void 0,function(){var n;return K(this,function(i){switch(i.label){case 0:return n=ut(t),e?(n.Or.delete(2),[4,Ja(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,su(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function au(t){var e=this;return t.Ur||(t.Ur=function(n,i,o){var u=ut(n);return u.br(),new UM(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:HM.bind(null,t),Ri:zM.bind(null,t),_r:GM.bind(null,t)}),t.Mr.push(function(n){return z(e,void 0,void 0,function(){return K(this,function(i){switch(i.label){case 0:return n?(t.Ur.sr(),Nv(t)?Av(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:i.sent(),_S(t),i.label=3;case 3:return[2]}})})})),t.Ur}function Ri(t){var e=this;return t.Kr||(t.Kr=function(n,i,o){var u=ut(n);return u.br(),new BM(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:WM.bind(null,t),Ri:XM.bind(null,t),Ir:QM.bind(null,t),Tr:YM.bind(null,t)}),t.Mr.push(function(n){return z(e,void 0,void 0,function(){return K(this,function(i){switch(i.label){case 0:return n?(t.Kr.sr(),[4,uu(t)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:i.sent(),t.Fr.length>0&&(nt("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),i.label=4;case 4:return[2]}})})})),t.Kr}var JM=function(){function t(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,i,o,u){var a=new t(e,n,Date.now()+i,o,u);return a.start(i),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function cu(t,e){if(ke("AsyncQueue",e+": "+t),Fo(t))return new Y(L.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AS=function(){function t(e){this.comparator=e?function(n,i){return e(n,i)||gt.comparator(n.key,i.key)}:function(n,i){return gt.comparator(n.key,i.key)},this.keyedMap=Wg(),this.sortedSet=new un(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),f_=function(){function t(){this.Qr=new un(gt.comparator)}return t.prototype.track=function(e){var n=e.doc.key,i=this.Qr.get(n);i?e.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Qr=this.Qr.remove(n):e.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):pt():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,i){e.push(i)}),e},t}(),af=function(){function t(e,n,i,o,u,a,l,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return t.fromInitialDocuments=function(e,n,i,o){var u=[];return n.forEach(function(a){u.push({type:0,doc:a})}),new t(e,n,AS.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ga(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},t}(),ZM=function(){this.Wr=void 0,this.listeners=[]},tF=function(){this.queries=new ou(function(t){return O1(t)},Ga),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t,e){return z(this,void 0,void 0,function(){var n,i,o,u,a,l,f;return K(this,function(d){switch(d.label){case 0:if(n=ut(t),i=e.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new ZM),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=u,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=cu(l,"Initialization of query '"+zg(e.query)+"' failed"),[2,void e.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(e),e.zr(n.onlineState),u.Wr&&e.Hr(u.Wr)&&Cv(n),[2]}})})}function xv(t,e){return z(this,void 0,void 0,function(){var n,i,o,u,a;return K(this,function(l){return n=ut(t),i=e.query,o=!1,(u=n.queries.get(i))&&(a=u.listeners.indexOf(e))>=0&&(u.listeners.splice(a,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function eF(t,e){for(var n=ut(t),i=!1,o=0,u=e;o<u.length;o++){var a=u[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,g=f.listeners;d<g.length;d++)g[d].Hr(a)&&(i=!0);f.Wr=a}}i&&Cv(n)}function nF(t,e,n){var i=ut(t),o=i.queries.get(e);if(o)for(var u=0,a=o.listeners;u<a.length;u++)a[u].onError(n);i.queries.delete(e)}function Cv(t){t.Gr.forEach(function(e){e.next()})}var Ov=function(){function t(e,n,i){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=e.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}e=new af(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=af.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NS=function(t){this.key=t},kS=function(t){this.key=t},xS=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=ee(),this.mutatedKeys=ee(),this.lo=R1(e),this.fo=new AS(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var i=this,o=n?n.mo:new f_,u=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=u,f=!1,d=xl(this.query)&&u.size===this.query.limit?u.last():null,g=tf(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(function(v,b){var E=u.get(v),T=Wa(i.query,b)?b:null,O=!!E&&i.mutatedKeys.has(E.key),x=!!T&&(T.hasLocalMutations||i.mutatedKeys.has(T.key)&&T.hasCommittedMutations),V=!1;E&&T?E.data.isEqual(T.data)?O!==x&&(o.track({type:3,doc:T}),V=!0):i.yo(E,T)||(o.track({type:2,doc:T}),V=!0,(d&&i.lo(T,d)>0||g&&i.lo(T,g)<0)&&(f=!0)):!E&&T?(o.track({type:0,doc:T}),V=!0):E&&!T&&(o.track({type:1,doc:E}),V=!0,(d||g)&&(f=!0)),V&&(T?(l=l.add(T),a=x?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))}),xl(this.query)||tf(this.query))for(;l.size>this.query.limit;){var m=xl(this.query)?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),o.track({type:1,doc:m})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,i){var o=this,u=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(g,m){return function(v,b){var E=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return E(v)-E(b)}(g.type,m.type)||o.lo(g.doc,m.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new af(this.query,e.fo,u,a,e.mutatedKeys,f===0,d,!1),To:l}:{To:l}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new f_,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),e.modifiedDocuments.forEach(function(i){}),e.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=ee(),this.fo.forEach(function(o){e.Io(o.key)&&(e.ho=e.ho.add(o.key))});var i=[];return n.forEach(function(o){e.ho.has(o)||i.push(new kS(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new NS(o))}),i},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=ee();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return af.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),rF=function(t,e,n){this.query=t,this.targetId=e,this.view=n},iF=function(t){this.key=t,this.bo=!1},oF=function(){function t(e,n,i,o,u,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new ou(function(l){return O1(l)},Ga),this.Vo=new Map,this.So=new Set,this.Do=new un(gt.comparator),this.Co=new Map,this.No=new Iv,this.xo={},this.ko=new Map,this.Fo=rf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function sF(t,e){return z(this,void 0,void 0,function(){var n,i,o,u,a,l;return K(this,function(f){switch(f.label){case 0:return n=Mv(t),(u=n.Po.get(e))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,of(n.localStore,Pr(e))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,Rv(n,e,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Yf(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function Rv(t,e,n,i){return z(this,void 0,void 0,function(){var o,u,a,l,f,d;return K(this,function(g){switch(g.label){case 0:return t.Oo=function(m,v,b){return function(E,T,O,x){return z(this,void 0,void 0,function(){var V,C,M;return K(this,function($){switch($.label){case 0:return V=T.view._o(O),V.Nn?[4,sf(E.localStore,T.query,!1).then(function(R){var X=R.documents;return T.view._o(X,V)})]:[3,2];case 1:V=$.sent(),$.label=2;case 2:return C=x&&x.targetChanges.get(T.targetId),M=T.view.applyChanges(V,E.isPrimaryClient,C),[2,(Zg(E,T.targetId,M.To),M.snapshot)]}})})}(t,m,v,b)},[4,sf(t.localStore,e,!0)];case 1:return o=g.sent(),u=new xS(e,o.Bn),a=u._o(o.documents),l=mv.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline"),f=u.applyChanges(a,t.isPrimaryClient,l),Zg(t,n,f.To),d=new rF(e,n,u),[2,(t.Po.set(e,d),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),f.snapshot)]}})})}function uF(t,e){return z(this,void 0,void 0,function(){var n,i,o;return K(this,function(u){switch(u.label){case 0:return n=ut(t),i=n.Po.get(e),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!Ga(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Hs(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Ca(n.remoteStore,i.targetId),zs(n,i.targetId)}).catch(Vo)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return zs(n,i.targetId),[4,Hs(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function aF(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a;return K(this,function(l){switch(l.label){case 0:i=Fv(t),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var g,m=ut(f),v=An.now(),b=d.reduce(function(E,T){return E.add(T.key)},ee());return m.persistence.runTransaction("Locally write mutations","readwrite",function(E){return m.Mn.pn(E,b).next(function(T){g=T;for(var O=[],x=0,V=d;x<V.length;x++){var C=V[x],M=PL(C,g.get(C.key));M!=null&&O.push(new Li(C.key,M,N1(M.value.mapValue),nn.exists(!0)))}return m._n.addMutationBatch(E,v,O,d)})}).then(function(E){return E.applyToLocalDocumentSet(g),{batchId:E.batchId,changes:g}})}(i.localStore,e)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,g){var m=f.xo[f.currentUser.toKey()];m||(m=new un(jt)),m=m.insert(d,g),f.xo[f.currentUser.toKey()]=m}(i,o.batchId,n),[4,Fi(i,o.changes)];case 3:return l.sent(),[4,uu(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),a=cu(u,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function CS(t,e){return z(this,void 0,void 0,function(){var n,i;return K(this,function(o){switch(o.label){case 0:n=ut(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,IM(n.localStore,e)];case 2:return i=o.sent(),e.targetChanges.forEach(function(u,a){var l=n.Co.get(a);l&&(Et(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.bo=!0:u.modifiedDocuments.size>0?Et(l.bo):u.removedDocuments.size>0&&(Et(l.bo),l.bo=!1))}),[4,Fi(n,i,e)];case 3:return o.sent(),[3,6];case 4:return[4,Vo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function h_(t,e,n){var i=ut(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,a){var l=a.view.zr(e);l.snapshot&&o.push(l.snapshot)}),function(u,a){var l=ut(u);l.onlineState=a;var f=!1;l.queries.forEach(function(d,g){for(var m=0,v=g.listeners;m<v.length;m++)v[m].zr(a)&&(f=!0)}),f&&Cv(l)}(i.eventManager,e),o.length&&i.vo._r(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function cF(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a,l,f;return K(this,function(d){switch(d.label){case 0:return(i=ut(t)).sharedClientState.updateQueryState(e,"rejected",n),o=i.Co.get(e),(u=o&&o.key)?(a=(a=new un(gt.comparator)).insert(u,sn.newNoDocument(u,Mt.min())),l=ee().add(u),f=new gv(Mt.min(),new Map,new Pe(jt),a,l),[4,CS(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(u),i.Co.delete(e),Lv(i),[3,4];case 2:return[4,Hs(i.localStore,e,!1).then(function(){return zs(i,e,n)}).catch(Vo)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function lF(t,e){return z(this,void 0,void 0,function(){var n,i,o;return K(this,function(u){switch(u.label){case 0:n=ut(t),i=e.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,_M(n.localStore,e)];case 2:return o=u.sent(),Pv(n,i,null),Dv(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Fi(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,Vo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function fF(t,e,n){return z(this,void 0,void 0,function(){var i,o;return K(this,function(u){switch(u.label){case 0:i=ut(t),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(a,l){var f=ut(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var g;return f._n.lookupMutationBatch(d,l).next(function(m){return Et(m!==null),g=m.keys(),f._n.removeMutationBatch(d,m)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,g)})})}(i.localStore,e)];case 2:return o=u.sent(),Pv(i,e,n),Dv(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,Fi(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,Vo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function hF(t,e){return z(this,void 0,void 0,function(){var n,i,o,u,a;return K(this,function(l){switch(l.label){case 0:Mi((n=ut(t)).remoteStore)||nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=ut(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return d._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void e.resolve()]:((o=n.ko.get(i)||[]).push(e),n.ko.set(i,o),[3,4]);case 3:return u=l.sent(),a=cu(u,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function Dv(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function Pv(t,e,n){var i=ut(t),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.xo[i.currentUser.toKey()]=o}}function zs(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,o=t.Vo.get(e);i<o.length;i++){var u=o[i];t.Po.delete(u),n&&t.vo.Mo(u,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||OS(t,a)})}function OS(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(Ca(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Lv(t))}function Zg(t,e,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof NS?(t.No.addReference(u.key,e),dF(t,u)):u instanceof kS?(nt("SyncEngine","Document no longer in limbo: "+u.key),t.No.removeReference(u.key,e),t.No.containsKey(u.key)||OS(t,u.key)):pt()}}function dF(t,e){var n=e.key,i=n.path.canonicalString();t.Do.get(n)||t.So.has(i)||(nt("SyncEngine","New document in limbo: "+n),t.So.add(i),Lv(t))}function Lv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new gt(Yt.fromString(e)),i=t.Fo.next();t.Co.set(i,new iF(n)),t.Do=t.Do.insert(n,i),Yf(t.remoteStore,new Wf(Pr(za(n.path)),i,2,jn.o))}}function Fi(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a;return K(this,function(l){switch(l.label){case 0:return i=ut(t),o=[],u=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,e,n).then(function(g){if(g){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,g.fromCache?"not-current":"current"),o.push(g);var m=bM.Pn(d.targetId,g);u.push(m)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return z(this,void 0,void 0,function(){var g,m,v,b,E,T,O,x,V;return K(this,function(C){switch(C.label){case 0:g=ut(f),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(M){return Z.forEach(d,function($){return Z.forEach($.bn,function(R){return g.persistence.referenceDelegate.addReference(M,$.targetId,R)}).next(function(){return Z.forEach($.vn,function(R){return g.persistence.referenceDelegate.removeReference(M,$.targetId,R)})})})})];case 2:return C.sent(),[3,4];case 3:if(!Fo(m=C.sent()))throw m;return nt("LocalStore","Failed to update sequence numbers: "+m),[3,4];case 4:for(v=0,b=d;v<b.length;v++)E=b[v],T=E.targetId,E.fromCache||(O=g.kn.get(T),x=O.snapshotVersion,V=O.withLastLimboFreeSnapshotVersion(x),g.kn=g.kn.insert(T,V));return[2]}})})}(i.localStore,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function pF(t,e){return z(this,void 0,void 0,function(){var n,i;return K(this,function(o){switch(o.label){case 0:return(n=ut(t)).currentUser.isEqual(e)?[3,3]:(nt("SyncEngine","User change. New user:",e.toKey()),[4,pS(n.localStore,e)]);case 1:return i=o.sent(),n.currentUser=e,function(u,a){u.ko.forEach(function(l){l.forEach(function(f){f.reject(new Y(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,Fi(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function gF(t,e){var n=ut(t),i=n.Co.get(e);if(i&&i.bo)return ee().add(i.key);var o=ee(),u=n.Vo.get(e);if(!u)return o;for(var a=0,l=u;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function mF(t,e){return z(this,void 0,void 0,function(){var n,i,o;return K(this,function(u){switch(u.label){case 0:return[4,sf((n=ut(t)).localStore,e.query,!0)];case 1:return i=u.sent(),o=e.view.Ao(i),[2,(n.isPrimaryClient&&Zg(n,e.targetId,o.To),o)]}})})}function vF(t){return z(this,void 0,void 0,function(){var e;return K(this,function(n){return[2,vS((e=ut(t)).localStore).then(function(i){return Fi(e,i)})]})})}function yF(t,e,n,i){return z(this,void 0,void 0,function(){var o,u;return K(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=ut(l),g=ut(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(m){return g.jt(m,f).next(function(v){return v?d.Mn.pn(m,v):Z.resolve(null)})})}((o=ut(t)).localStore,e)];case 1:return(u=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,uu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Pv(o,e,i||null),Dv(o,e),function(l,f){ut(ut(l)._n).Gt(f)}(o.localStore,e)):pt(),a.label=4;case 4:return[4,Fi(o,u)];case 5:return a.sent(),[3,7];case 6:nt("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function wF(t,e){return z(this,void 0,void 0,function(){var n,i,o,u,a,l,f,d;return K(this,function(g){switch(g.label){case 0:return Mv(n=ut(t)),Fv(n),e!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,d_(n,i.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,Jg(n.remoteStore,!0)];case 2:for(g.sent(),u=0,a=o;u<a.length;u++)l=a[u],Yf(n.remoteStore,l);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(m,v){n.sharedClientState.isLocalQueryTarget(v)?f.push(v):d=d.then(function(){return zs(n,v),Hs(n.localStore,v,!0)}),Ca(n.remoteStore,v)}),[4,d]);case 4:return g.sent(),[4,d_(n,f)];case 5:return g.sent(),function(m){var v=ut(m);v.Co.forEach(function(b,E){Ca(v.remoteStore,E)}),v.No.ts(),v.Co=new Map,v.Do=new un(gt.comparator)}(n),n.$o=!1,[4,Jg(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function d_(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a,l,f,d,g,m,v,b,E,T,O;return K(this,function(x){switch(x.label){case 0:i=ut(t),o=[],u=[],a=0,l=e,x.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(g=i.Vo.get(f))&&g.length!==0?[4,of(i.localStore,Pr(g[0]))]:[3,7]):[3,13];case 2:d=x.sent(),m=0,v=g,x.label=3;case 3:return m<v.length?(b=v[m],E=i.Po.get(b),[4,mF(i,E)]):[3,6];case 4:(T=x.sent()).snapshot&&u.push(T.snapshot),x.label=5;case 5:return m++,[3,3];case 6:return[3,11];case 7:return[4,mS(i.localStore,f)];case 8:return O=x.sent(),[4,of(i.localStore,O)];case 9:return d=x.sent(),[4,Rv(i,RS(O),f,!1)];case 10:x.sent(),x.label=11;case 11:o.push(d),x.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function RS(t){return x1(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function bF(t){var e=ut(t);return ut(ut(e.localStore).persistence).fn()}function EF(t,e,n,i){return z(this,void 0,void 0,function(){var o,u,a;return K(this,function(l){switch(l.label){case 0:return(o=ut(t)).$o?(nt("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,vS(o.localStore)];case 3:return u=l.sent(),a=gv.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,Fi(o,u,a)];case 4:return l.sent(),[3,8];case 5:return[4,Hs(o.localStore,e,!0)];case 6:return l.sent(),zs(o,e,i),[3,8];case 7:pt(),l.label=8;case 8:return[2]}})})}function _F(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a,l,f,d,g,m,v;return K(this,function(b){switch(b.label){case 0:if(!(i=Mv(t)).$o)return[3,10];o=0,u=e,b.label=1;case 1:return o<u.length?(a=u[o],i.Vo.has(a)?(nt("SyncEngine","Adding an already active target "+a),[3,5]):[4,mS(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,of(i.localStore,l)];case 3:return f=b.sent(),[4,Rv(i,RS(l),f.targetId,!1)];case 4:b.sent(),Yf(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(E){return K(this,function(T){switch(T.label){case 0:return i.Vo.has(E)?[4,Hs(i.localStore,E,!1).then(function(){Ca(i.remoteStore,E),zs(i,E)}).catch(Vo)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},g=0,m=n,b.label=7;case 7:return g<m.length?(v=m[g],[5,d(v)]):[3,10];case 8:b.sent(),b.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function Mv(t){var e=ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cF.bind(null,e),e.vo._r=eF.bind(null,e.eventManager),e.vo.Mo=nF.bind(null,e.eventManager),e}function Fv(t){var e=ut(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fF.bind(null,e),e}var DS=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return z(this,void 0,void 0,function(){return K(this,function(n){switch(n.label){case 0:return this.R=Qf(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return dS(this.persistence,new hS,e.initialUser,this.R)},t.prototype.qo=function(e){return new RM(PM.bs,this.R)},t.prototype.Bo=function(e){return new yS},t.prototype.terminate=function(){return z(this,void 0,void 0,function(){return K(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),PS=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return yt(e,t),e.prototype.initialize=function(n){return z(this,void 0,void 0,function(){var i=this;return K(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,AM(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Fv(this.Qo.syncEngine)];case 4:return o.sent(),[4,uu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},e.prototype.Ko=function(n){return dS(this.persistence,new hS,n.initialUser,this.R)},e.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new dM(i,n.asyncQueue)},e.prototype.qo=function(n){var i=_v(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Ar.withCacheSize(this.cacheSizeBytes):Ar.DEFAULT;return new wM(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,wS(),Rl(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new yS},e}(DS),IF=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return yt(e,t),e.prototype.initialize=function(n){return z(this,void 0,void 0,function(){var i,o=this;return K(this,function(u){switch(u.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof ig?(this.sharedClientState.syncEngine={ui:yF.bind(null,i),ai:EF.bind(null,i),hi:_F.bind(null,i),fn:bF.bind(null,i),ci:vF.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(a){return z(o,void 0,void 0,function(){return K(this,function(l){switch(l.label){case 0:return[4,wF(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},e.prototype.Bo=function(n){var i=wS();if(!ig.yt(i))throw new Y(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=_v(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new ig(i,n.asyncQueue,o,n.clientId,n.initialUser)},e}(PS),tm=function(){function t(){}return t.prototype.initialize=function(e,n){return z(this,void 0,void 0,function(){var i=this;return K(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return h_(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=pF.bind(null,this.syncEngine),[4,Jg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new tF},t.prototype.createDatastore=function(e){var n,i=Qf(e.databaseInfo.databaseId),o=(n=e.databaseInfo,new jM(n));return function(u,a,l){return new qM(u,a,l)}(e.credentials,o,i)},t.prototype.createRemoteStore=function(e){var n,i,o,u,a,l=this;return n=this.localStore,i=this.datastore,o=e.asyncQueue,u=function(f){return h_(l.syncEngine,f,0)},a=l_.yt()?new l_:new MM,new KM(n,i,o,u,a)},t.prototype.createSyncEngine=function(e,n){return function(i,o,u,a,l,f,d){var g=new oF(i,o,u,a,l,f);return d&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return z(this,void 0,void 0,function(){var n;return K(this,function(i){switch(i.label){case 0:return n=ut(e),nt("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,su(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xf=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var i=this;this.muted||setTimeout(function(){i.muted||e(n)},0)},t}(),TF=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return z(this,void 0,void 0,function(){var n,i=this;return K(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Y(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,a){return z(this,void 0,void 0,function(){var l,f,d,g,m,v;return K(this,function(b){switch(b.label){case 0:return l=ut(u),f=xa(l.R)+"/documents",d={documents:a.map(function(E){return ka(l.R,E)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return g=b.sent(),m=new Map,g.forEach(function(E){var T=function(O,x){return"found"in x?function(V,C){Et(!!C.found),C.found.name,C.found.updateTime;var M=Kr(V,C.found.name),$=yn(C.found.updateTime),R=new Fn({mapValue:{fields:C.found.fields}});return sn.newFoundDocument(M,$,R)}(O,x):"missing"in x?function(V,C){Et(!!C.missing),Et(!!C.readTime);var M=Kr(V,C.missing),$=yn(C.readTime);return sn.newNoDocument(M,$)}(O,x):pt()}(l.R,E);m.set(T.key.toString(),T)}),v=[],[2,(a.forEach(function(E){var T=m.get(E.toString());Et(!!T),v.push(T)}),v)]}})})}(this.datastore,e)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new Xa(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return z(this,void 0,void 0,function(){var e,n=this;return K(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(o){e.delete(o.key.toString())}),e.forEach(function(o,u){var a=gt.fromPath(u);n.mutations.push(new pv(a,n.precondition(a)))}),[4,function(o,u){return z(this,void 0,void 0,function(){var a,l,f;return K(this,function(d){switch(d.label){case 0:return a=ut(o),l=xa(a.R)+"/documents",f={writes:u.map(function(g){return ef(a.R,g)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw pt();n=Mt.min()}var i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new Y(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?nn.updateTime(n):nn.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Mt.min()))throw new Y(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nn.updateTime(n)}return nn.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),SF=function(){function t(e,n,i,o){this.asyncQueue=e,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new Tv(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return z(e,void 0,void 0,function(){var n,i,o=this;return K(this,function(u){return n=new TF(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!Mo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!B1(n)}return!1},t}(),AF=function(){function t(e,n,i){var o=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=$e.UNAUTHENTICATED,this.clientId=E1.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return z(o,void 0,void 0,function(){return K(this,function(a){switch(a.label){case 0:return nt("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return a.sent(),this.user=u,[2]}})})})}return t.prototype.getConfiguration=function(){return z(this,void 0,void 0,function(){return K(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Y(L.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return z(e,void 0,void 0,function(){var i,o;return K(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=cu(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t,e){return z(this,void 0,void 0,function(){var n,i,o=this;return K(this,function(u){switch(u.label){case 0:return t.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=u.sent(),[4,e.initialize(n)];case 2:return u.sent(),i=n.initialUser,t.setCredentialChangeListener(function(a){return z(o,void 0,void 0,function(){return K(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,pS(e.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function MS(t,e){return z(this,void 0,void 0,function(){var n,i;return K(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Vv(t)];case 1:return n=o.sent(),nt("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.setCredentialChangeListener(function(u){return function(a,l){return z(this,void 0,void 0,function(){var f,d;return K(this,function(g){switch(g.label){case 0:return(f=ut(a)).asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials"),d=Mi(f),f.Or.add(3),[4,su(f)];case 1:return g.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return g.sent(),f.Or.delete(3),[4,Ja(f)];case 3:return g.sent(),[2]}})})}(e.remoteStore,u)}),t.onlineComponents=e,[2]}})})}function Vv(t){return z(this,void 0,void 0,function(){return K(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(nt("FirestoreClient","Using default OfflineComponentProvider"),[4,LS(t,new DS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Jf(t){return z(this,void 0,void 0,function(){return K(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(nt("FirestoreClient","Using default OnlineComponentProvider"),[4,MS(t,new tm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function p_(t){return Vv(t).then(function(e){return e.persistence})}function FS(t){return Vv(t).then(function(e){return e.localStore})}function g_(t){return Jf(t).then(function(e){return e.remoteStore})}function VS(t){return Jf(t).then(function(e){return e.syncEngine})}function Gs(t){return z(this,void 0,void 0,function(){var e,n;return K(this,function(i){switch(i.label){case 0:return[4,Jf(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=sF.bind(null,e.syncEngine),n.onUnlisten=uF.bind(null,e.syncEngine),n)]}})})}function m_(t,e,n){var i=this;n===void 0&&(n={});var o=new kn;return t.asyncQueue.enqueueAndForget(function(){return z(i,void 0,void 0,function(){var u;return K(this,function(a){switch(a.label){case 0:return u=function(l,f,d,g,m){var v=new Xf({next:function(E){f.enqueueAndForget(function(){return xv(l,b)});var T=E.docs.has(d);!T&&E.fromCache?m.reject(new Y(L.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&g&&g.source==="server"?m.reject(new Y(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:function(E){return m.reject(E)}}),b=new Ov(za(d.path),v,{includeMetadataChanges:!0,so:!0});return kv(l,b)},[4,Gs(t)];case 1:return[2,u.apply(void 0,[a.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}function v_(t,e,n){var i=this;n===void 0&&(n={});var o=new kn;return t.asyncQueue.enqueueAndForget(function(){return z(i,void 0,void 0,function(){var u;return K(this,function(a){switch(a.label){case 0:return u=function(l,f,d,g,m){var v=new Xf({next:function(E){f.enqueueAndForget(function(){return xv(l,b)}),E.fromCache&&g.source==="server"?m.reject(new Y(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:function(E){return m.reject(E)}}),b=new Ov(d,v,{includeMetadataChanges:!0,so:!0});return kv(l,b)},[4,Gs(t)];case 1:return[2,u.apply(void 0,[a.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}var NF=function(t,e,n,i,o,u,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=a,this.useFetchStreams=l},cf=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),y_=new Map,jS=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},w_=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n($e.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),kF=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var i=this;this.changeListener=n,e.enqueueRetryable(function(){return n(i.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),xF=function(){function t(e){var n=this;this.currentUser=$e.UNAUTHENTICATED,this.oc=new kn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){nt("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=e.getImmediate({optional:!0});o?i(o):(nt("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return e.cc!==n?(nt("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):o?(Et(typeof o.accessToken=="string"),new jS(o.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var i=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return z(i,void 0,void 0,function(){return K(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new $e(e)},t}(),CF=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i,this.type="FirstParty",this.user=$e.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),OF=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i}return t.prototype.getToken=function(){return Promise.resolve(new CF(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n($e.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t,e,n){if(!n)throw new Y(L.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Uv(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Y(L.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function US(t,e,n,i){if(e===!0&&i===!0)throw new Y(L.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function b_(t){if(!gt.isDocumentKey(t))throw new Y(L.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function E_(t){if(gt.isDocumentKey(t))throw new Y(L.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":pt()}function Xt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Zf(t);throw new Y(L.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function __(t,e){if(e<=0)throw new Y(L.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I_=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,US("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),Oa=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I_({}),this._settingsFrozen=!1,e instanceof cf?(this._databaseId=e,this._credentials=new w_):(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Y(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cf(i.options.projectId)}(e),this._credentials=new xF(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Y(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Y(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I_(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new w_;switch(n.type){case"gapi":var i=n.client;return Et(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new OF(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Y(L.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=y_.get(e))&&(nt("ComponentProvider","Removing Datastore"),y_.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),pe=function(){function t(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ki(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Bn=function(){function t(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),ki=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,za(o))||this)._path=o,u.type="collection",u}return yt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new pe(this.firestore,null,new gt(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(Bn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=Ce(t),jv("collection","path",e),t instanceof Oa)return E_(n=Yt.fromString.apply(Yt,we([e],i))),new ki(t,null,n);if(!(t instanceof pe||t instanceof ki))throw new Y(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return E_(n=Yt.fromString.apply(Yt,we([t.path],i)).child(Yt.fromString(e))),new ki(t.firestore,null,n)}function Dl(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=Ce(t),arguments.length===1&&(e=E1.u()),jv("doc","path",e),t instanceof Oa)return b_(n=Yt.fromString.apply(Yt,we([e],i))),new pe(t,null,new gt(n));if(!(t instanceof pe||t instanceof ki))throw new Y(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return b_(n=t._path.child(Yt.fromString.apply(Yt,we([e],i)))),new pe(t.firestore,t instanceof ki?t.converter:null,new gt(n))}function qS(t,e){return t=Ce(t),e=Ce(e),(t instanceof pe||t instanceof ki)&&(e instanceof pe||e instanceof ki)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function $S(t,e){return t=Ce(t),e=Ce(e),t instanceof Bn&&e instanceof Bn&&t.firestore===e.firestore&&Ga(t._query,e._query)&&t.converter===e.converter}var RF=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Tv(this,"async_queue_retry"),this.Ic=function(){var i=Rl();i&&nt("AsyncQueue","Visibility state changed to "+i.visibilityState),e.Zi.Gi()};var n=Rl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=Rl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new kn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return z(this,void 0,void 0,function(){var e,n=this;return K(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Fo(e=i.sent()))throw e;return nt("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,i=this.dc.then(function(){return n.gc=!0,e().catch(function(o){throw n.yc=o,n.gc=!1,ke("INTERNAL UNHANDLED ERROR: ",function(u){var a=u.message||"";return u.stack&&(a=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},t.prototype.enqueueAfterDelay=function(e,n,i){var o=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var u=JM.createAndSchedule(this,e,n,i,function(a){return o.vc(a)});return this.mc.push(u),u},t.prototype.Ac=function(){this.yc&&pt()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return z(this,void 0,void 0,function(){var e;return K(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),e!=="all"&&u.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function Ws(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var i=e,o=0,u=["next","error","complete"];o<u.length;o++){var a=u[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(t)}var DF=-1,De=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).type="firestore",o._queue=new RF,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return yt(e,t),e.prototype._terminate=function(){return this._firestoreClient||KS(this),this._firestoreClient.terminate()},e}(Oa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t._firestoreClient||KS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function KS(t){var e,n=t._freezeSettings(),i=function(o,u,a,l){return new NF(o,u,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new AF(t._credentials,t._queue,i)}function T_(t,e,n){var i=this,o=new kn;return t.asyncQueue.enqueue(function(){return z(i,void 0,void 0,function(){var u;return K(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,LS(t,n)];case 1:return a.sent(),[4,MS(t,e)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===L.FAILED_PRECONDITION||l.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(u=a.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function S_(t){if(t._initialized||t._terminated)throw new Y(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=0;i<e.length;++i)if(e[i].length===0)throw new Y(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Oo=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Nn.fromBase64String(e))}catch(n){throw new Y(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Nn.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),jo=function(t){this._methodName=t},th=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return jt(this._lat,e._lat)||jt(this._long,e._long)},t}(),PF=/^__.*__$/,LF=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new Li(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ya(e,this.data,n,this.fieldTransforms)},t}(),HS=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return new Li(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}var GS=function(){function t(e,n,i,o,u,a){this.settings=e,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.$c(e),o},t.prototype.Oc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.Cc(),o},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return lf(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(zS(this.Nc)&&PF.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),MF=function(){function t(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=i||Qf(e)}return t.prototype.Uc=function(e,n,i,o){return o===void 0&&(o=!1),new GS({Nc:e,methodName:n,qc:i,path:pr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Uo(t){var e=t._freezeSettings(),n=Qf(t._databaseId);return new MF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eh(t,e,n,i,o,u){u===void 0&&(u={});var a=t.Uc(u.merge||u.mergeFields?2:0,e,n,o);Kv("Data must be an object, but it was:",a,i);var l,f,d=YS(i,a);if(u.merge)l=new Ps(a.fieldMask),f=a.fieldTransforms;else if(u.mergeFields){for(var g=[],m=0,v=u.mergeFields;m<v.length;m++){var b=em(e,v[m],n);if(!a.contains(b))throw new Y(L.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");JS(g,b)||g.push(b)}l=new Ps(g),f=a.fieldTransforms.filter(function(E){return l.covers(E.field)})}else l=null,f=a.fieldTransforms;return new LF(new Fn(d),l,f)}var Bv=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return yt(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(jo);function WS(t,e,n){return new GS({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var FF=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return yt(e,t),e.prototype._toFieldTransform=function(n){return new Qa(n.path,new Vs)},e.prototype.isEqual=function(n){return n instanceof e},e}(jo),VF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return yt(e,t),e.prototype._toFieldTransform=function(n){var i=WS(this,n,!0),o=this.Kc.map(function(a){return Bo(a,i)}),u=new xo(o);return new Qa(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(jo),jF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return yt(e,t),e.prototype._toFieldTransform=function(n){var i=WS(this,n,!0),o=this.Kc.map(function(a){return Bo(a,i)}),u=new Co(o);return new Qa(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(jo),UF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Qc=i,o}return yt(e,t),e.prototype._toFieldTransform=function(n){var i=new js(n.R,L1(n.R,this.Qc));return new Qa(n.path,i)},e.prototype.isEqual=function(n){return this===n},e}(jo);function qv(t,e,n,i){var o=t.Uc(1,e,n);Kv("Data must be an object, but it was:",o,i);var u=[],a=Fn.empty();Lo(i,function(f,d){var g=Hv(e,f,n);d=Ce(d);var m=o.Oc(g);if(d instanceof Bv)u.push(g);else{var v=Bo(d,m);v!=null&&(u.push(g),a.set(g,v))}});var l=new Ps(u);return new HS(a,l,o.fieldTransforms)}function $v(t,e,n,i,o,u){var a=t.Uc(1,e,n),l=[em(e,i,n)],f=[o];if(u.length%2!=0)throw new Y(L.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<u.length;d+=2)l.push(em(e,u[d])),f.push(u[d+1]);for(var g=[],m=Fn.empty(),v=l.length-1;v>=0;--v)if(!JS(g,l[v])){var b=l[v],E=f[v];E=Ce(E);var T=a.Oc(b);if(E instanceof Bv)g.push(b);else{var O=Bo(E,T);O!=null&&(g.push(b),m.set(b,O))}}var x=new Ps(g);return new HS(m,x,a.fieldTransforms)}function QS(t,e,n,i){return i===void 0&&(i=!1),Bo(n,t.Uc(i?4:3,e))}function Bo(t,e){if(XS(t=Ce(t)))return Kv("Unsupported field value:",e,t),YS(t,e);if(t instanceof jo)return function(n,i){if(!zS(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,a=0,l=n;a<l.length;a++){var f=Bo(l[a],i.Mc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=Ce(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return L1(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=An.fromDate(n);return{timestampValue:Na(i.R,o)}}if(n instanceof An)return o=new An(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Na(i.R,o)};if(n instanceof th)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Oo)return{bytesValue:H1(i.R,n._byteString)};if(n instanceof pe){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:vv(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+Zf(n))}(t,e)}function YS(t,e){var n={};return I1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(t,function(i,o){var u=Bo(o,e.kc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function XS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof An||t instanceof th||t instanceof Oo||t instanceof pe||t instanceof jo)}function Kv(t,e,n){if(!XS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=Zf(n);throw i==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+i)}}function em(t,e,n){if((e=Ce(e))instanceof Or)return e._internalPath;if(typeof e=="string")return Hv(t,e);throw lf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var BF=new RegExp("[~\\*/\\[\\]]");function Hv(t,e,n){if(e.search(BF)>=0)throw lf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(Or.bind.apply(Or,we([void 0],e.split("."))))()._internalPath}catch{throw lf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function lf(t,e,n,i,o){var u=i&&!i.isEmpty(),a=o!==void 0,l="Function "+e+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||a)&&(f+=" (found",u&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new Y(L.INVALID_ARGUMENT,(l+=". ")+t+f)}function JS(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ra=function(){function t(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new pe(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new qF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(ff("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),qF=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return yt(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ra);function ff(t,e){return typeof e=="string"?Hv(t,e):e instanceof Or?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vo=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),zr=function(t){function e(n,i,o,u,a,l){var f=this;return(f=t.call(this,n,i,o,u,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return yt(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new oa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(ff("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},e}(Ra),oa=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return yt(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(zr),wi=function(){function t(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var i=this;this._snapshot.docs.forEach(function(o){e.call(n,new oa(i._firestore,i._userDataWriter,o.key,o,new vo(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new oa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new vo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new oa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new vo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,g=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(g=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:$F(l.type),doc:f,oldIndex:d,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function $F(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function ZS(t,e){return t instanceof zr&&e instanceof zr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof wi&&e instanceof wi&&t._firestore===e._firestore&&$S(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){if(tf(t)&&t.explicitOrderBy.length===0)throw new Y(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Za=function(){};function li(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,o=e;i<o.length;i++){var u=o[i];t=u._apply(t)}return t}var KF=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).jc=n,u.Wc=i,u.Gc=o,u.type="where",u}return yt(e,t),e.prototype._apply=function(n){var i=Uo(n.firestore),o=function(u,a,l,f,d,g,m){var v;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Y(L.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){C_(m,g);for(var b=[],E=0,T=m;E<T.length;E++){var O=T[E];b.push(x_(f,u,O))}v={arrayValue:{values:b}}}else v=x_(f,u,m)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||C_(m,g),v=QS(l,"where",m,g==="in"||g==="not-in");var x=Un.create(d,g,v);return function(V,C){if(C.g()){var M=hv(V);if(M!==null&&!M.isEqual(C.field))throw new Y(L.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+M.toString()+"' and '"+C.field.toString()+"'");var $=fv(V);$!==null&&nA(V,C.field,$)}var R=function(X,D){for(var ht=0,S=X.filters;ht<S.length;ht++){var St=S[ht];if(D.indexOf(St.op)>=0)return St.op}return null}(V,function(X){switch(X){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(C.op));if(R!==null)throw R===C.op?new Y(L.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+C.op.toString()+"' filter."):new Y(L.INVALID_ARGUMENT,"Invalid query. You cannot use '"+C.op.toString()+"' filters with '"+R.toString()+"' filters.")}(u,x),x}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Bn(n.firestore,n.converter,function(u,a){var l=u.filters.concat([a]);return new Xr(u.path,u.collectionGroup,u.explicitOrderBy.slice(),l,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},e}(Za),HF=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return yt(e,t),e.prototype._apply=function(n){var i=function(o,u,a){if(o.startAt!==null)throw new Y(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Y(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Ns(u,a);return function(f,d){if(fv(f)===null){var g=hv(f);g!==null&&nA(f,g,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Bn(n.firestore,n.converter,function(o,u){var a=o.explicitOrderBy.concat([u]);return new Xr(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(Za),A_=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Hc=i,u.Jc=o,u}return yt(e,t),e.prototype._apply=function(n){return new Bn(n.firestore,n.converter,C1(n._query,this.Hc,this.Jc))},e}(Za),N_=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return yt(e,t),e.prototype._apply=function(n){var i=eA(n,this.type,this.Yc,this.Xc);return new Bn(n.firestore,n.converter,function(o,u){return new Xr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},e}(Za),k_=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return yt(e,t),e.prototype._apply=function(n){var i=eA(n,this.type,this.Yc,this.Xc);return new Bn(n.firestore,n.converter,function(o,u){return new Xr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},e}(Za);function eA(t,e,n,i){if(n[0]=Ce(n[0]),n[0]instanceof Ra)return function(u,a,l,f,d){if(!f)throw new Y(L.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var g=[],m=0,v=Fs(u);m<v.length;m++){var b=v[m];if(b.field.isKeyField())g.push(Xl(a,f.key));else{var E=f.data.field(b.field);if(av(E))throw new Y(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){var T=b.field.canonicalString();throw new Y(L.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}g.push(E)}}return new Aa(g,d)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var o=Uo(t.firestore);return function(u,a,l,f,d,g){var m=u.explicitOrderBy;if(d.length>m.length)throw new Y(L.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var v=[],b=0;b<d.length;b++){var E=d[b];if(m[b].field.isKeyField()){if(typeof E!="string")throw new Y(L.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof E);if(!dv(u)&&E.indexOf("/")!==-1)throw new Y(L.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+E+"' contains a slash.");var T=u.path.child(Yt.fromString(E));if(!gt.isDocumentKey(T))throw new Y(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var O=new gt(T);v.push(Xl(a,O))}else{var x=QS(l,f,E);v.push(x)}}return new Aa(v,g)}(t._query,t.firestore._databaseId,o,e,n,i)}function x_(t,e,n){if(typeof(n=Ce(n))=="string"){if(n==="")throw new Y(L.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!dv(e)&&n.indexOf("/")!==-1)throw new Y(L.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(Yt.fromString(n));if(!gt.isDocumentKey(i))throw new Y(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Xl(t,new gt(i))}if(n instanceof pe)return Xl(t,n._key);throw new Y(L.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Zf(n)+".")}function C_(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(L.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Y(L.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function nA(t,e,n){if(!n.isEqual(e))throw new Y(L.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zv=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw pt()}},t.prototype.convertObject=function(e,n){var i=this,o={};return Lo(e.fields,function(u,a){o[u]=i.convertValue(a,n)}),o},t.prototype.convertGeoPoint=function(e){return new th(Ne(e.latitude),Ne(e.longitude))},t.prototype.convertArray=function(e,n){var i=this;return(e.values||[]).map(function(o){return i.convertValue(o,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var i=S1(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ta(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=Oi(e);return new An(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var i=Yt.fromString(e);Et(Z1(i));var o=new cf(i.get(1),i.get(3)),u=new gt(i.popFirst(5));return o.isEqual(n)||ke("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var zF=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return yt(e,t),e.prototype.convertBytes=function(n){return new Oo(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new pe(this.firestore,null,i)},e}(zv),GF=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Uo(e)}return t.prototype.set=function(e,n,i){this._verifyNotCommitted();var o=bi(e,this._firestore),u=nh(o.converter,n,i),a=eh(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,nn.none())),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var a,l=bi(e,this._firestore);return a=typeof(n=Ce(n))=="string"||n instanceof Or?$v(this._dataReader,"WriteBatch.update",l._key,n,i,o):qv(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,nn.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=bi(e,this._firestore);return this._mutations=this._mutations.concat(new Xa(n._key,nn.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Y(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,e){if((t=Ce(t)).firestore!==e)throw new Y(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return yt(e,t),e.prototype.convertBytes=function(n){return new Oo(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new pe(this.firestore,null,i)},e}(zv);function O_(t,e,n){t=Xt(t,pe);var i=Xt(t.firestore,De),o=nh(t.converter,e,n);return tc(i,[eh(Uo(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,nn.none())])}function R_(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];t=Xt(t,pe);var u=Xt(t.firestore,De),a=Uo(u);return tc(u,[(typeof(e=Ce(e))=="string"||e instanceof Or?$v(a,"updateDoc",t._key,e,n,i):qv(a,"updateDoc",t._key,e)).toMutation(t._key,nn.exists(!0))])}function rA(t){for(var e,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];t=Ce(t);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||Ws(o[l])||(a=o[l],l++);var f,d,g,m={includeMetadataChanges:a.includeMetadataChanges};if(Ws(o[l])){var v=o[l];o[l]=(e=v.next)===null||e===void 0?void 0:e.bind(v),o[l+1]=(n=v.error)===null||n===void 0?void 0:n.bind(v),o[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}if(t instanceof pe)d=Xt(t.firestore,De),g=za(t._key.path),f={next:function(T){o[l]&&o[l](nm(d,t,T))},error:o[l+1],complete:o[l+2]};else{var b=Xt(t,Bn);d=Xt(b.firestore,De),g=b._query;var E=new _o(d);f={next:function(T){o[l]&&o[l](new wi(d,E,b,T))},error:o[l+1],complete:o[l+2]},tA(t._query)}return function(T,O,x,V){var C=this,M=new Xf(V),$=new Ov(O,M,x);return T.asyncQueue.enqueueAndForget(function(){return z(C,void 0,void 0,function(){var R;return K(this,function(X){switch(X.label){case 0:return R=kv,[4,Gs(T)];case 1:return[2,R.apply(void 0,[X.sent(),$])]}})})}),function(){M.Wo(),T.asyncQueue.enqueueAndForget(function(){return z(C,void 0,void 0,function(){var R;return K(this,function(X){switch(X.label){case 0:return R=xv,[4,Gs(T)];case 1:return[2,R.apply(void 0,[X.sent(),$])]}})})})}}(Ze(d),g,m,f)}function tc(t,e){return function(n,i){var o=this,u=new kn;return n.asyncQueue.enqueueAndForget(function(){return z(o,void 0,void 0,function(){var a;return K(this,function(l){switch(l.label){case 0:return a=aF,[4,VS(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,u])]}})})}),u.promise}(Ze(t),e)}function nm(t,e,n){var i=n.docs.get(e._key),o=new _o(t);return new zr(t,o,e._key,i,new vo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WF=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this)._firestore=n,o}return yt(e,t),e.prototype.get=function(n){var i=this,o=bi(n,this._firestore),u=new _o(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new zr(i._firestore,u,o._key,a._document,new vo(!1,!1),o.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=Uo(e)}return t.prototype.get=function(e){var n=this,i=bi(e,this._firestore),o=new zF(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return pt();var a=u[0];if(a.isFoundDocument())return new Ra(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new Ra(n._firestore,o,i._key,null,i.converter);throw pt()})},t.prototype.set=function(e,n,i){var o=bi(e,this._firestore),u=nh(o.converter,n,i),a=eh(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,a),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var a,l=bi(e,this._firestore);return a=typeof(n=Ce(n))=="string"||n instanceof Or?$v(this._dataReader,"Transaction.update",l._key,n,i,o):qv(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},t.prototype.delete=function(e){var n=bi(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(){if(typeof Uint8Array>"u")throw new Y(L.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function P_(){if(typeof atob>"u")throw new Y(L.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var iA=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return P_(),new t(Oo.fromBase64String(e))},t.fromUint8Array=function(e){return D_(),new t(Oo.fromUint8Array(e))},t.prototype.toBase64=function(){return P_(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return D_(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),QF=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(i,o){S_(i=Xt(i,De));var u=Ze(i),a=i._freezeSettings(),l=new tm;return T_(u,l,new PS(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){S_(n=Xt(n,De));var i=Ze(n),o=n._freezeSettings(),u=new tm;return T_(i,u,new IF(u,o.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new Y(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new kn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return z(i,void 0,void 0,function(){var u;return K(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return z(this,void 0,void 0,function(){var f;return K(this,function(d){switch(d.label){case 0:return qs.yt()?(f=l+"main",[4,qs.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(_v(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return u=a.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(e._delegate)},t}(),oA=function(){function t(e,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},e instanceof cf||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||Ql("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,i){i===void 0&&(i={}),function(o,u,a,l){var f;l===void 0&&(l={});var d=(o=Xt(o,Oa))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==u&&Ql("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:u+":"+a,ssl:!1})),l.mockUserToken){var g,m;if(typeof l.mockUserToken=="string")g=l.mockUserToken,m=$e.MOCK_USER;else{g=vD(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var v=l.mockUserToken.sub||l.mockUserToken.user_id;if(!v)throw new Y(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new $e(v)}o._credentials=new kF(new jS(g,m))}}(this._delegate,e,n,i)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return z(n,void 0,void 0,function(){var i,o;return K(this,function(u){switch(u.label){case 0:return[4,p_(e)];case 1:return i=u.sent(),[4,g_(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=ut(a);return l.Or.delete(0),Ja(l)}(o))]}})})})}(Ze(Xt(this._delegate,De)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return z(n,void 0,void 0,function(){var i,o;return K(this,function(u){switch(u.label){case 0:return[4,p_(e)];case 1:return i=u.sent(),[4,g_(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(a){return z(this,void 0,void 0,function(){var l;return K(this,function(f){switch(f.label){case 0:return(l=ut(a)).Or.add(0),[4,su(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(Ze(Xt(this._delegate,De)))},t.prototype.enablePersistence=function(e){var n=!1,i=!1;return e&&US("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",i=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,i=new kn;return e.asyncQueue.enqueueAndForget(function(){return z(n,void 0,void 0,function(){var o;return K(this,function(u){switch(u.label){case 0:return o=hF,[4,VS(e)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(Ze(Xt(this._delegate,De)))},t.prototype.onSnapshotsInSync=function(e){return function(n,i){return function(o,u){var a=this,l=new Xf(u);return o.asyncQueue.enqueueAndForget(function(){return z(a,void 0,void 0,function(){var f;return K(this,function(d){switch(d.label){case 0:return f=function(g,m){ut(g).Gr.add(m),m.next()},[4,Gs(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return z(a,void 0,void 0,function(){var f;return K(this,function(d){switch(d.label){case 0:return f=function(g,m){ut(g).Gr.delete(m)},[4,Gs(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(Ze(n=Xt(n,De)),Ws(i)?i:{next:i})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Y(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new hf(this,BS(this._delegate,e))}catch(n){throw dn(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new Io(this,Dl(this._delegate,e))}catch(n){throw dn(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new oh(this,function(n,i){if(n=Xt(n,Oa),jv("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Y(L.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Bn(n,null,function(o){return new Xr(Yt.emptyPath(),o)}(i))}(this._delegate,e))}catch(n){throw dn(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(i,o){return function(u,a){var l=this,f=new kn;return u.asyncQueue.enqueueAndForget(function(){return z(l,void 0,void 0,function(){var d;return K(this,function(g){switch(g.label){case 0:return[4,function(m){return Jf(m).then(function(v){return v.datastore})}(u)];case 1:return d=g.sent(),new SF(u.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(Ze(i),function(u){return o(new WF(i,u))})}(this._delegate,function(i){return e(new sA(n,i))})},t.prototype.batch=function(){var e=this;return Ze(this._delegate),new uA(new GF(this._delegate,function(n){return tc(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new Y(L.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new Y(L.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),rh=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return yt(e,t),e.prototype.convertBytes=function(n){return new iA(new Oo(n))},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Io.eu(i,this.firestore,null)},e}(zv);function YF(t){var e;e=t,fr.setLogLevel(e)}var sA=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new rh(e)}return t.prototype.get=function(e){var n=this,i=yo(e);return this._delegate.get(i).then(function(o){return new Da(n._firestore,new zr(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},t.prototype.set=function(e,n,i){var o=yo(e);return i?(Uv("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=yo(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,we([l,n,i],u)),this},t.prototype.delete=function(e){var n=yo(e);return this._delegate.delete(n),this},t}(),uA=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,i){var o=yo(e);return i?(Uv("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=yo(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,we([l,n,i],u)),this},t.prototype.delete=function(e){var n=yo(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),ih=function(){function t(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}return t.prototype.fromFirestore=function(e,n){var i=new oa(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Pa(this._firestore,i),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var i=t.su,o=i.get(e);o||(o=new WeakMap,i.set(e,o));var u=o.get(n);return u||(u=new t(e,new rh(e),n),o.set(n,u)),u},t}();ih.su=new WeakMap;var Io=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new rh(e)}return t.iu=function(e,n,i){if(e.length%2!=0)throw new Y(L.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new pe(n._delegate,i,new gt(e)))},t.eu=function(e,n,i){return new t(n,new pe(n._delegate,i,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new hf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new hf(this.firestore,BS(this._delegate,e))}catch(n){throw dn(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=Ce(e))instanceof pe&&qS(this._delegate,e)},t.prototype.set=function(e,n){n=Uv("DocumentReference.set",n);try{return n?O_(this._delegate,e,n):O_(this._delegate,e)}catch(i){throw dn(i,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?R_(this._delegate,e):R_.apply(void 0,we([this._delegate,e,n],i))}catch(u){throw dn(u,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return tc(Xt((e=this._delegate).firestore,De),[new Xa(e._key,nn.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=aA(n),u=cA(n,function(a){return new Da(e.firestore,new zr(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return rA(this._delegate,o,u)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=Xt(i,pe);var o=Xt(i.firestore,De),u=Ze(o),a=new _o(o);return function(l,f){var d=this,g=new kn;return l.asyncQueue.enqueueAndForget(function(){return z(d,void 0,void 0,function(){var m;return K(this,function(v){switch(v.label){case 0:return m=function(b,E,T){return z(this,void 0,void 0,function(){var O,x;return K(this,function(V){switch(V.label){case 0:return V.trys.push([0,2,,3]),[4,function(C,M){var $=ut(C);return $.persistence.runTransaction("read document","readonly",function(R){return $.Mn.mn(R,M)})}(b,E)];case 1:return(x=V.sent()).isFoundDocument()?T.resolve(x):x.isNoDocument()?T.resolve(null):T.reject(new Y(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return O=V.sent(),x=cu(O,"Failed to get document '"+E+" from cache"),T.reject(x),[3,3];case 3:return[2]}})})},[4,FS(l)];case 1:return[2,m.apply(void 0,[v.sent(),f,g])]}})})}),g.promise}(u,i._key).then(function(l){return new zr(o,a,i._key,l,new vo(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=Xt(i,pe);var o=Xt(i.firestore,De);return m_(Ze(o),i._key,{source:"server"}).then(function(u){return nm(o,i,u)})}(this._delegate):function(i){i=Xt(i,pe);var o=Xt(i.firestore,De);return m_(Ze(o),i._key).then(function(u){return nm(o,i,u)})}(this._delegate)).then(function(i){return new Da(n.firestore,new zr(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ih.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function dn(t,e,n){return t.message=t.message.replace(e,n),t}function aA(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if(typeof i=="object"&&!Ws(i))return i}return{}}function cA(t,e){var n,i,o;return{next:function(u){o.next&&o.next(e(u))},error:(n=(o=Ws(t[0])?t[0]:Ws(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var Da=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Io(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return ZS(this._delegate,e._delegate)},t}(),Pa=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return yt(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(Da),oh=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new rh(e)}return t.prototype.where=function(e,n,i){try{return new t(this.firestore,li(this._delegate,function(o,u,a){var l=u,f=ff("where",o);return new KF(f,l,a)}(e,n,i)))}catch(o){throw dn(o,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,li(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,a=ff("orderBy",i);return new HF(a,u)}(e,n)))}catch(i){throw dn(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,li(this._delegate,function(n){return __("limit",n),new A_("limit",n,"F")}(e)))}catch(n){throw dn(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,li(this._delegate,function(n){return __("limitToLast",n),new A_("limitToLast",n,"L")}(e)))}catch(n){throw dn(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,li(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new N_("startAt",i,!0)}.apply(void 0,e)))}catch(i){throw dn(i,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,li(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new N_("startAfter",i,!1)}.apply(void 0,e)))}catch(i){throw dn(i,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,li(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new k_("endBefore",i,!0)}.apply(void 0,e)))}catch(i){throw dn(i,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,li(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new k_("endAt",i,!1)}.apply(void 0,e)))}catch(i){throw dn(i,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return $S(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=Xt(i,Bn);var o=Xt(i.firestore,De),u=Ze(o),a=new _o(o);return function(l,f){var d=this,g=new kn;return l.asyncQueue.enqueueAndForget(function(){return z(d,void 0,void 0,function(){var m;return K(this,function(v){switch(v.label){case 0:return m=function(b,E,T){return z(this,void 0,void 0,function(){var O,x,V,C,M;return K(this,function($){switch($.label){case 0:return $.trys.push([0,2,,3]),[4,sf(b,E,!0)];case 1:return M=$.sent(),O=new xS(E,M.Bn),x=O._o(M.documents),V=O.applyChanges(x,!1),T.resolve(V.snapshot),[3,3];case 2:return C=$.sent(),M=cu(C,"Failed to execute query '"+E+" against cache"),T.reject(M),[3,3];case 3:return[2]}})})},[4,FS(l)];case 1:return[2,m.apply(void 0,[v.sent(),f,g])]}})})}),g.promise}(u,i._query).then(function(l){return new wi(o,a,i,l)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=Xt(i,Bn);var o=Xt(i.firestore,De),u=Ze(o),a=new _o(o);return v_(u,i._query,{source:"server"}).then(function(l){return new wi(o,a,i,l)})}(this._delegate):function(i){i=Xt(i,Bn);var o=Xt(i.firestore,De),u=Ze(o),a=new _o(o);return tA(i._query),v_(u,i._query).then(function(l){return new wi(o,a,i,l)})}(this._delegate)).then(function(i){return new rm(n.firestore,new wi(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=aA(n),u=cA(n,function(a){return new rm(e.firestore,new wi(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return rA(this._delegate,o,u)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ih.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),XF=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Pa(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),rm=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new oh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new Pa(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(i){return new XF(n._firestore,i)})},t.prototype.forEach=function(e,n){var i=this;this._delegate.forEach(function(o){e.call(n,new Pa(i._firestore,o))})},t.prototype.isEqual=function(e){return ZS(this._delegate,e._delegate)},t}(),hf=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).firestore=n,o._delegate=i,o}return yt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Io(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new Io(this.firestore,n===void 0?Dl(this._delegate):Dl(this._delegate,n))}catch(i){throw dn(i,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var i=this;return function(o,u){var a=Xt(o.firestore,De),l=Dl(o),f=nh(o.converter,u);return tc(a,[eh(Uo(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,nn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Io(i.firestore,o)})},e.prototype.isEqual=function(n){return qS(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(ih.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(oh);function yo(t){return Xt(t,pe)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JF=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(Or.bind.apply(Or,we([void 0],e)))}return t.documentId=function(){return new t(pr.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=Ce(e))instanceof Or&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),ZF=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new FF("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Bv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new VF("arrayUnion",o)}.apply(void 0,e);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new jF("arrayRemove",o)}.apply(void 0,e);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(e){var n=function(i){return new UF("increment",i)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(),tV={Firestore:oA,GeoPoint:th,Timestamp:An,Blob:iA,Transaction:sA,WriteBatch:uA,DocumentReference:Io,DocumentSnapshot:Da,Query:oh,QueryDocumentSnapshot:Pa,QuerySnapshot:rm,CollectionReference:hf,FieldPath:JF,FieldValue:ZF,setLogLevel:YF,CACHE_SIZE_UNLIMITED:DF};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){(function(e,n){e.INTERNAL.registerComponent(new Cf("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},tV)))})(t,function(e,n){return new oA(e,new De(e,n),new QF)}),t.registerVersion("@firebase/firestore","2.4.1")}eV(_t);const nV={apiKey:"AIzaSyCmrDsXaXqtJ-_bBhE6mijvEJRXGrQV1-8",authDomain:"music-123a9.firebaseapp.com",projectId:"music-123a9",storageBucket:"music-123a9.appspot.com",messagingSenderId:"353431526100",appId:"1:353431526100:web:2a3e6ba688ef0af5a97941"};_t.initializeApp(nV);const sa=_t.auth(),rV=_t.firestore(),iV=rV.collection("users"),ec=lT("user",{state:()=>({userLoggedIn:!1}),actions:{async register(t){const e=await sa.createUserWithEmailAndPassword(t.email,t.password);await iV.doc(e.user.uid).set({name:t.name,email:t.email,age:t.age,country:t.country}),await e.user.updateProfile({displayName:t.name}),this.userLoggedIn=!0},async authenticate(t){await sa.signInWithEmailAndPassword(t.email,t.password),this.userLoggedIn=!0},async signOut(){await sa.signOut(),this.userLoggedIn=!1}}}),Vi=(t,e)=>{const n=t.__vccOpts||t;for(const[i,o]of e)n[i]=o;return n},oV={name:"TheHeader",computed:{...cD(kg,ec)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen,console.log(this.modalStore.isOpen)},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},sV={id:"header",class:"bg-gray-700"},uV={class:"container mx-auto flex justify-start items-center py-5 px-4"},aV={class:"flex flex-grow items-center"},cV={class:"flex flex-row mt-1"},lV={key:0};function fV(t,e,n,i,o,u){const a=Jn("router-link");return en(),Vn("header",sV,[wt("nav",uV,[Dt(a,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:Ai(()=>[Al("Music")]),_:1}),wt("div",aV,[wt("ul",cV,[wt("li",null,[Dt(a,{class:"px-2 text-white",to:"/about"},{default:Ai(()=>[Al("About")]),_:1})]),t.userStore.userLoggedIn?(en(),Vn(pn,{key:1},[wt("li",null,[Dt(a,{class:"px-2 text-white",to:"manage"},{default:Ai(()=>[Al("Manage")]),_:1})]),wt("li",null,[wt("a",{class:"px-2 text-white hover:text-red-500 hover:font-bold",href:"#",onClick:e[1]||(e[1]=Vl((...l)=>u.signOut&&u.signOut(...l),["prevent"]))},"Logout")])],64)):(en(),Vn("li",lV,[wt("a",{class:"px-2 text-white",href:"#",onClick:e[0]||(e[0]=Vl((...l)=>u.toggleAuthModal&&u.toggleAuthModal(...l),["prevent"]))},"Login / Register")]))])])])])}const hV=Vi(oV,[["render",fV]]),dV={name:"loginForm",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:100"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! You are being logged in."}},methods:{...fT(ec,["authenticate"]),async login(t){this.login_in_submission=!0,this.login_show_alert=!0,this.login_show_alert="bg-blue-500",this.login_alert_msg="Please wait! You are being logged in.";try{await this.authenticate(t)}catch{this.login_in_submission=!1,this.login_show_alert="bg-red-500",this.login_alert_msg="invalid Login Details";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="You are now logged in.",window.location.reload()}}},pV={class:"mb-3"},gV=wt("label",{class:"inline-block mb-2"},"Email",-1),mV={class:"mb-3"},vV=wt("label",{class:"inline-block mb-2"},"Password",-1),yV=["disabled"];function wV(t,e,n,i,o,u){const a=Jn("vee-field"),l=Jn("ErrorMessage"),f=Jn("vee-form");return en(),Vn(pn,null,[o.login_show_alert?(en(),Vn("div",{key:0,class:_i(["text-white text-center font-bold p-4 mb-4",o.login_alert_variant])},lg(o.login_alert_msg),3)):nT("",!0),Dt(f,{"validation-schema":o.loginSchema,onSubmit:u.login},{default:Ai(()=>[wt("div",pV,[gV,Dt(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Dt(l,{class:"text-red-600",name:"email"})]),wt("div",mV,[vV,Dt(a,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),Dt(l,{class:"text-red-600",name:"password"})]),wt("button",{type:"submit",disabled:o.login_in_submission,class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",8,yV)]),_:1},8,["validation-schema","onSubmit"])],64)}const bV=Vi(dV,[["render",wV]]),EV={name:"registerForm",data(){return{schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:120",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! You account is bring created."}},mounted(){console.log(this.userLoggedIn)},methods:{...fT(ec,{createUser:"register"}),async register(t){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! You account is bring created.";try{await this.createUser(t)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occured. Please try again later.";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="You account has been created",window.location.reload()}}},_V={class:"mb-3"},IV=wt("label",{class:"inline-block mb-2"},"Name",-1),TV={class:"mb-3"},SV=wt("label",{class:"inline-block mb-2"},"Email",-1),AV={class:"mb-3"},NV=wt("label",{class:"inline-block mb-2"},"Age",-1),kV={class:"mb-3"},xV=wt("label",{class:"inline-block mb-2"},"Password",-1),CV={class:"mb-3"},OV=wt("label",{class:"inline-block mb-2"},"Confirm Password",-1),RV={class:"mb-3"},DV=wt("label",{class:"inline-block mb-2"},"Country",-1),PV=wt("option",{value:"USA"},"USA",-1),LV=wt("option",{value:"Mexico"},"Mexico",-1),MV=wt("option",{value:"Germany"},"Germany",-1),FV={class:"mb-3 pl-6"},VV=wt("label",{class:"inline-block"},"Accept terms of service",-1),jV=wt("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",-1);function UV(t,e,n,i,o,u){const a=Jn("vee-field"),l=Jn("ErrorMessage"),f=Jn("vee-form");return en(),Vn(pn,null,[o.reg_show_alert?(en(),Vn("div",{key:0,class:_i(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},lg(o.reg_alert_msg),3)):nT("",!0),Dt(f,{"validation-schema":o.schema,onSubmit:u.register,"initial-values":o.userData},{default:Ai(()=>[wt("div",_V,[IV,Dt(a,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Dt(l,{class:"text-red-600",name:"name"})]),wt("div",TV,[SV,Dt(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Dt(l,{class:"text-red-600",name:"email"})]),wt("div",AV,[NV,Dt(a,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Dt(l,{class:"text-red-600",name:"age"})]),wt("div",kV,[xV,Dt(a,{name:"password",bails:!1},{default:Ai(({field:d,errors:g})=>[wt("input",rT({type:"password",placeholder:"Password"},d,{class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),null,16),(en(!0),Vn(pn,null,ZO(g,m=>(en(),Vn("div",{class:"text-red-600",key:m},lg(m),1))),128))]),_:1}),Dt(l,{class:"text-red-600",name:"password"})]),wt("div",CV,[OV,Dt(a,{name:"confirm_password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Dt(l,{class:"text-red-600",name:"confirm_password"})]),wt("div",RV,[DV,Dt(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Ai(()=>[PV,LV,MV]),_:1}),Dt(l,{class:"text-red-600",name:"country"})]),wt("div",FV,[Dt(a,{name:"tos",value:"1",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),Dt(l,{class:"text-red-600 block",name:"tos"}),VV]),jV]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const BV=Vi(EV,[["render",UV]]),qV={name:"TheAuth",components:{LoginForm:bV,RegisterForm:BV},data(){return{tab:"login"}},computed:{...lD(kg,["hiddenClass"]),...hT(kg,{modalVisibility:"isOpen"})},methods:{}},$V={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},KV=wt("div",{class:"fixed inset-0 transition-opacity"},[wt("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),HV=wt("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),zV={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},GV={class:"py-4 text-left px-6"},WV={class:"flex justify-between items-center pb-4"},QV=wt("p",{class:"text-2xl font-bold"},"Your Account",-1),YV=wt("i",{class:"fas fa-times"},null,-1),XV=[YV],JV={class:"flex flex-wrap mb-4"},ZV={class:"flex-auto text-center"},tj={class:"flex-auto text-center"};function ej(t,e,n,i,o,u){const a=Jn("login-form"),l=Jn("register-form");return en(),Vn("div",{class:_i(["fixed z-10 inset-0 overflow-y-auto",t.hiddenClass]),id:"modal"},[wt("div",$V,[KV,HV,wt("div",zV,[wt("div",GV,[wt("div",WV,[QV,wt("div",{class:"modal-close cursor-pointer z-50",onClick:e[0]||(e[0]=f=>t.modalVisibility=!1)},XV)]),wt("ul",JV,[wt("li",ZV,[wt("a",{class:_i(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#",onClick:e[1]||(e[1]=Vl(f=>o.tab="login",["prevent"]))},"Login",2)]),wt("li",tj,[wt("a",{class:_i(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"}]),href:"#",onClick:e[2]||(e[2]=Vl(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(en(),Ig(a,{key:0})):(en(),Ig(l,{key:1}))])])])],2)}const nj=Vi(qV,[["render",ej]]),rj={name:"App",components:{TheHeader:hV,TheAuth:nj},computed:{...hT(ec,["userLoggedIn"])},created(){sa.currentUser&&(this.userLoggedIn=!0)}},ij=Om('<div class="fixed bottom-0 left-0 bg-white px-4 py-2 w-full"><div class="text-center"><span class="song-title font-bold">Song Title</span> by <span class="song-artist">Artist</span></div><div class="flex flex-nowrap gap-4 items-center"><button type="button"><i class="fa fa-play text-gray-500 text-xl"></i></button><div class="player-currenttime">00:00</div><div class="w-full h-2 rounded bg-gray-200 relative cursor-pointer"><span class="absolute -top-2.5 -ml-2.5 text-gray-800 text-lg" style="left:50%;"><i class="fas fa-circle"></i></span><span class="block h-2 rounded bg-gradient-to-r from-green-500 to-green-400" style="width:50%;"></span></div><div class="player-duration">03:06</div></div></div>',1);function oj(t,e,n,i,o,u){const a=Jn("the-header"),l=Jn("router-view"),f=Jn("the-auth");return en(),Vn(pn,null,[Dt(a),Dt(l),ij,Dt(f)],64)}const sj=Vi(rj,[["render",oj]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ws=typeof window<"u";function uj(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Zt=Object.assign;function og(t,e){const n={};for(const i in e){const o=e[i];n[i]=gr(o)?o.map(t):t(o)}return n}const ua=()=>{},gr=Array.isArray,aj=/\/$/,cj=t=>t.replace(aj,"");function sg(t,e,n="/"){let i,o={},u="",a="";const l=e.indexOf("#");let f=e.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=e.slice(0,f),u=e.slice(f+1,l>-1?l:e.length),o=t(u)),l>-1&&(i=i||e.slice(0,l),a=e.slice(l,e.length)),i=dj(i??e,n),{fullPath:i+(u&&"?")+u+a,path:i,query:o,hash:a}}function lj(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function L_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function fj(t,e,n){const i=e.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&Qs(e.matched[i],n.matched[o])&&lA(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Qs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function lA(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!hj(t[n],e[n]))return!1;return!0}function hj(t,e){return gr(t)?M_(t,e):gr(e)?M_(e,t):t===e}function M_(t,e){return gr(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function dj(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/");let o=n.length-1,u,a;for(u=0;u<i.length;u++)if(a=i[u],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(u-(u===i.length?1:0)).join("/")}var La;(function(t){t.pop="pop",t.push="push"})(La||(La={}));var aa;(function(t){t.back="back",t.forward="forward",t.unknown=""})(aa||(aa={}));function pj(t){if(!t)if(ws){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),cj(t)}const gj=/^[^#]+#/;function mj(t,e){return t.replace(gj,"#")+e}function vj(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const sh=()=>({left:window.pageXOffset,top:window.pageYOffset});function yj(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=vj(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function F_(t,e){return(history.state?history.state.position-e:-1)+t}const im=new Map;function wj(t,e){im.set(t,e)}function bj(t){const e=im.get(t);return im.delete(t),e}let Ej=()=>location.protocol+"//"+location.host;function fA(t,e){const{pathname:n,search:i,hash:o}=e,u=t.indexOf("#");if(u>-1){let l=o.includes(t.slice(u))?t.slice(u).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),L_(f,"")}return L_(n,t)+i+o}function _j(t,e,n,i){let o=[],u=[],a=null;const l=({state:v})=>{const b=fA(t,location),E=n.value,T=e.value;let O=0;if(v){if(n.value=b,e.value=v,a&&a===E){a=null;return}O=T?v.position-T.position:0}else i(b);o.forEach(x=>{x(n.value,E,{delta:O,type:La.pop,direction:O?O>0?aa.forward:aa.back:aa.unknown})})};function f(){a=n.value}function d(v){o.push(v);const b=()=>{const E=o.indexOf(v);E>-1&&o.splice(E,1)};return u.push(b),b}function g(){const{history:v}=window;v.state&&v.replaceState(Zt({},v.state,{scroll:sh()}),"")}function m(){for(const v of u)v();u=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",g),{pauseListeners:f,listen:d,destroy:m}}function V_(t,e,n,i=!1,o=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:o?sh():null}}function Ij(t){const{history:e,location:n}=window,i={value:fA(t,n)},o={value:e.state};o.value||u(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function u(f,d,g){const m=t.indexOf("#"),v=m>-1?(n.host&&document.querySelector("base")?t:t.slice(m))+f:Ej()+t+f;try{e[g?"replaceState":"pushState"](d,"",v),o.value=d}catch(b){console.error(b),n[g?"replace":"assign"](v)}}function a(f,d){const g=Zt({},e.state,V_(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});u(f,g,!0),i.value=f}function l(f,d){const g=Zt({},o.value,e.state,{forward:f,scroll:sh()});u(g.current,g,!0);const m=Zt({},V_(i.value,f,null),{position:g.position+1},d);u(f,m,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function Tj(t){t=pj(t);const e=Ij(t),n=_j(t,e.state,e.location,e.replace);function i(u,a=!0){a||n.pauseListeners(),history.go(u)}const o=Zt({location:"",base:t,go:i,createHref:mj.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function Sj(t){return typeof t=="string"||t&&typeof t=="object"}function hA(t){return typeof t=="string"||typeof t=="symbol"}const fi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},dA=Symbol("");var j_;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(j_||(j_={}));function Ys(t,e){return Zt(new Error,{type:t,[dA]:!0},e)}function Ur(t,e){return t instanceof Error&&dA in t&&(e==null||!!(t.type&e))}const U_="[^/]+?",Aj={sensitive:!1,strict:!1,start:!0,end:!0},Nj=/[.+*?^${}()[\]/\\]/g;function kj(t,e){const n=Zt({},Aj,e),i=[];let o=n.start?"^":"";const u=[];for(const d of t){const g=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let m=0;m<d.length;m++){const v=d[m];let b=40+(n.sensitive?.25:0);if(v.type===0)m||(o+="/"),o+=v.value.replace(Nj,"\\$&"),b+=40;else if(v.type===1){const{value:E,repeatable:T,optional:O,regexp:x}=v;u.push({name:E,repeatable:T,optional:O});const V=x||U_;if(V!==U_){b+=10;try{new RegExp(`(${V})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${E}" (${V}): `+M.message)}}let C=T?`((?:${V})(?:/(?:${V}))*)`:`(${V})`;m||(C=O&&d.length<2?`(?:/${C})`:"/"+C),O&&(C+="?"),o+=C,b+=20,O&&(b+=-8),T&&(b+=-20),V===".*"&&(b+=-50)}g.push(b)}i.push(g)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const g=d.match(a),m={};if(!g)return null;for(let v=1;v<g.length;v++){const b=g[v]||"",E=u[v-1];m[E.name]=b&&E.repeatable?b.split("/"):b}return m}function f(d){let g="",m=!1;for(const v of t){(!m||!g.endsWith("/"))&&(g+="/"),m=!1;for(const b of v)if(b.type===0)g+=b.value;else if(b.type===1){const{value:E,repeatable:T,optional:O}=b,x=E in d?d[E]:"";if(gr(x)&&!T)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const V=gr(x)?x.join("/"):x;if(!V)if(O)v.length<2&&(g.endsWith("/")?g=g.slice(0,-1):m=!0);else throw new Error(`Missing required param "${E}"`);g+=V}}return g||"/"}return{re:a,score:i,keys:u,parse:l,stringify:f}}function xj(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Cj(t,e){let n=0;const i=t.score,o=e.score;for(;n<i.length&&n<o.length;){const u=xj(i[n],o[n]);if(u)return u;n++}if(Math.abs(o.length-i.length)===1){if(B_(i))return 1;if(B_(o))return-1}return o.length-i.length}function B_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Oj={type:0,value:""},Rj=/[a-zA-Z0-9_]/;function Dj(t){if(!t)return[[]];if(t==="/")return[[Oj]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let u;function a(){u&&o.push(u),u=[]}let l=0,f,d="",g="";function m(){d&&(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(f==="*"||f==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):e("Invalid state to consume buffer"),d="")}function v(){d+=f}for(;l<t.length;){if(f=t[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&m(),a()):f===":"?(m(),n=1):v();break;case 4:v(),n=i;break;case 1:f==="("?n=2:Rj.test(f)?v():(m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,g="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),m(),a(),o}function Pj(t,e,n){const i=kj(Dj(t.path),n),o=Zt(i,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function Lj(t,e){const n=[],i=new Map;e=K_({strict:!1,end:!0,sensitive:!1},e);function o(g){return i.get(g)}function u(g,m,v){const b=!v,E=Mj(g);E.aliasOf=v&&v.record;const T=K_(e,g),O=[E];if("alias"in g){const C=typeof g.alias=="string"?[g.alias]:g.alias;for(const M of C)O.push(Zt({},E,{components:v?v.record.components:E.components,path:M,aliasOf:v?v.record:E}))}let x,V;for(const C of O){const{path:M}=C;if(m&&M[0]!=="/"){const $=m.record.path,R=$[$.length-1]==="/"?"":"/";C.path=m.record.path+(M&&R+M)}if(x=Pj(C,m,T),v?v.alias.push(x):(V=V||x,V!==x&&V.alias.push(x),b&&g.name&&!$_(x)&&a(g.name)),E.children){const $=E.children;for(let R=0;R<$.length;R++)u($[R],x,v&&v.children[R])}v=v||x,(x.record.components&&Object.keys(x.record.components).length||x.record.name||x.record.redirect)&&f(x)}return V?()=>{a(V)}:ua}function a(g){if(hA(g)){const m=i.get(g);m&&(i.delete(g),n.splice(n.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=n.indexOf(g);m>-1&&(n.splice(m,1),g.record.name&&i.delete(g.record.name),g.children.forEach(a),g.alias.forEach(a))}}function l(){return n}function f(g){let m=0;for(;m<n.length&&Cj(g,n[m])>=0&&(g.record.path!==n[m].record.path||!pA(g,n[m]));)m++;n.splice(m,0,g),g.record.name&&!$_(g)&&i.set(g.record.name,g)}function d(g,m){let v,b={},E,T;if("name"in g&&g.name){if(v=i.get(g.name),!v)throw Ys(1,{location:g});T=v.record.name,b=Zt(q_(m.params,v.keys.filter(V=>!V.optional).map(V=>V.name)),g.params&&q_(g.params,v.keys.map(V=>V.name))),E=v.stringify(b)}else if("path"in g)E=g.path,v=n.find(V=>V.re.test(E)),v&&(b=v.parse(E),T=v.record.name);else{if(v=m.name?i.get(m.name):n.find(V=>V.re.test(m.path)),!v)throw Ys(1,{location:g,currentLocation:m});T=v.record.name,b=Zt({},m.params,g.params),E=v.stringify(b)}const O=[];let x=v;for(;x;)O.unshift(x.record),x=x.parent;return{name:T,path:E,params:b,matched:O,meta:Vj(O)}}return t.forEach(g=>u(g)),{addRoute:u,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function q_(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function Mj(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Fj(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Fj(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="boolean"?n:n[i];return e}function $_(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Vj(t){return t.reduce((e,n)=>Zt(e,n.meta),{})}function K_(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function pA(t,e){return e.children.some(n=>n===t||pA(t,n))}const gA=/#/g,jj=/&/g,Uj=/\//g,Bj=/=/g,qj=/\?/g,mA=/\+/g,$j=/%5B/g,Kj=/%5D/g,vA=/%5E/g,Hj=/%60/g,yA=/%7B/g,zj=/%7C/g,wA=/%7D/g,Gj=/%20/g;function Gv(t){return encodeURI(""+t).replace(zj,"|").replace($j,"[").replace(Kj,"]")}function Wj(t){return Gv(t).replace(yA,"{").replace(wA,"}").replace(vA,"^")}function om(t){return Gv(t).replace(mA,"%2B").replace(Gj,"+").replace(gA,"%23").replace(jj,"%26").replace(Hj,"`").replace(yA,"{").replace(wA,"}").replace(vA,"^")}function Qj(t){return om(t).replace(Bj,"%3D")}function Yj(t){return Gv(t).replace(gA,"%23").replace(qj,"%3F")}function Xj(t){return t==null?"":Yj(t).replace(Uj,"%2F")}function df(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Jj(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<i.length;++o){const u=i[o].replace(mA," "),a=u.indexOf("="),l=df(a<0?u:u.slice(0,a)),f=a<0?null:df(u.slice(a+1));if(l in e){let d=e[l];gr(d)||(d=e[l]=[d]),d.push(f)}else e[l]=f}return e}function H_(t){let e="";for(let n in t){const i=t[n];if(n=Qj(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(gr(i)?i.map(u=>u&&om(u)):[i&&om(i)]).forEach(u=>{u!==void 0&&(e+=(e.length?"&":"")+n,u!=null&&(e+="="+u))})}return e}function Zj(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=gr(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return e}const tU=Symbol(""),z_=Symbol(""),Wv=Symbol(""),bA=Symbol(""),sm=Symbol("");function Wu(){let t=[];function e(i){return t.push(i),()=>{const o=t.indexOf(i);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function mi(t,e,n,i,o){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=m=>{m===!1?l(Ys(4,{from:n,to:e})):m instanceof Error?l(m):Sj(m)?l(Ys(2,{from:e,to:m})):(u&&i.enterCallbacks[o]===u&&typeof m=="function"&&u.push(m),a())},d=t.call(i&&i.instances[o],e,n,f);let g=Promise.resolve(d);t.length<3&&(g=g.then(f)),g.catch(m=>l(m))})}function ug(t,e,n,i){const o=[];for(const u of t)for(const a in u.components){let l=u.components[a];if(!(e!=="beforeRouteEnter"&&!u.instances[a]))if(eU(l)){const d=(l.__vccOpts||l)[e];d&&o.push(mi(d,n,i,u,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${u.path}"`));const g=uj(d)?d.default:d;u.components[a]=g;const v=(g.__vccOpts||g)[e];return v&&mi(v,n,i,u,a)()}))}}return o}function eU(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function G_(t){const e=Xn(Wv),n=Xn(bA),i=Qt(()=>e.resolve(ct(t.to))),o=Qt(()=>{const{matched:f}=i.value,{length:d}=f,g=f[d-1],m=n.matched;if(!g||!m.length)return-1;const v=m.findIndex(Qs.bind(null,g));if(v>-1)return v;const b=W_(f[d-2]);return d>1&&W_(g)===b&&m[m.length-1].path!==b?m.findIndex(Qs.bind(null,f[d-2])):v}),u=Qt(()=>o.value>-1&&oU(n.params,i.value.params)),a=Qt(()=>o.value>-1&&o.value===n.matched.length-1&&lA(n.params,i.value.params));function l(f={}){return iU(f)?e[ct(t.replace)?"replace":"push"](ct(t.to)).catch(ua):Promise.resolve()}return{route:i,href:Qt(()=>i.value.href),isActive:u,isExactActive:a,navigate:l}}const nU=eu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:G_,setup(t,{slots:e}){const n=Qr(G_(t)),{options:i}=Xn(Wv),o=Qt(()=>({[Q_(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Q_(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=e.default&&e.default(n);return t.custom?u:Cs("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),rU=nU;function iU(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function oU(t,e){for(const n in e){const i=e[n],o=t[n];if(typeof i=="string"){if(i!==o)return!1}else if(!gr(o)||o.length!==i.length||i.some((u,a)=>u!==o[a]))return!1}return!0}function W_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Q_=(t,e,n)=>t??e??n,sU=eu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Xn(sm),o=Qt(()=>t.route||i.value),u=Xn(z_,0),a=Qt(()=>{let d=ct(u);const{matched:g}=o.value;let m;for(;(m=g[d])&&!m.components;)d++;return d}),l=Qt(()=>o.value.matched[a.value]);As(z_,Qt(()=>a.value+1)),As(tU,l),As(sm,o);const f=Sn();return He(()=>[f.value,l.value,t.name],([d,g,m],[v,b,E])=>{g&&(g.instances[m]=d,b&&b!==g&&d&&d===v&&(g.leaveGuards.size||(g.leaveGuards=b.leaveGuards),g.updateGuards.size||(g.updateGuards=b.updateGuards))),d&&g&&(!b||!Qs(g,b)||!v)&&(g.enterCallbacks[m]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=o.value,g=t.name,m=l.value,v=m&&m.components[g];if(!v)return Y_(n.default,{Component:v,route:d});const b=m.props[g],E=b?b===!0?d.params:typeof b=="function"?b(d):b:null,O=Cs(v,Zt({},E,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(m.instances[g]=null)},ref:f}));return Y_(n.default,{Component:O,route:d})||O}}});function Y_(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const uU=sU;function aU(t){const e=Lj(t.routes,t),n=t.parseQuery||Jj,i=t.stringifyQuery||H_,o=t.history,u=Wu(),a=Wu(),l=Wu(),f=wO(fi);let d=fi;ws&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=og.bind(null,q=>""+q),m=og.bind(null,Xj),v=og.bind(null,df);function b(q,F){let G,J;return hA(q)?(G=e.getRecordMatcher(q),J=F):J=q,e.addRoute(J,G)}function E(q){const F=e.getRecordMatcher(q);F&&e.removeRoute(F)}function T(){return e.getRoutes().map(q=>q.record)}function O(q){return!!e.getRecordMatcher(q)}function x(q,F){if(F=Zt({},F||f.value),typeof q=="string"){const _=sg(n,q,F.path),A=e.resolve({path:_.path},F),P=o.createHref(_.fullPath);return Zt(_,A,{params:v(A.params),hash:df(_.hash),redirectedFrom:void 0,href:P})}let G;if("path"in q)G=Zt({},q,{path:sg(n,q.path,F.path).path});else{const _=Zt({},q.params);for(const A in _)_[A]==null&&delete _[A];G=Zt({},q,{params:m(q.params)}),F.params=m(F.params)}const J=e.resolve(G,F),Rt=q.hash||"";J.params=g(v(J.params));const qt=lj(i,Zt({},q,{hash:Wj(Rt),path:J.path})),bt=o.createHref(qt);return Zt({fullPath:qt,hash:Rt,query:i===H_?Zj(q.query):q.query||{}},J,{redirectedFrom:void 0,href:bt})}function V(q){return typeof q=="string"?sg(n,q,f.value.path):Zt({},q)}function C(q,F){if(d!==q)return Ys(8,{from:F,to:q})}function M(q){return X(q)}function $(q){return M(Zt(V(q),{replace:!0}))}function R(q){const F=q.matched[q.matched.length-1];if(F&&F.redirect){const{redirect:G}=F;let J=typeof G=="function"?G(q):G;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=V(J):{path:J},J.params={}),Zt({query:q.query,hash:q.hash,params:"path"in J?{}:q.params},J)}}function X(q,F){const G=d=x(q),J=f.value,Rt=q.state,qt=q.force,bt=q.replace===!0,_=R(G);if(_)return X(Zt(V(_),{state:typeof _=="object"?Zt({},Rt,_.state):Rt,force:qt,replace:bt}),F||G);const A=G;A.redirectedFrom=F;let P;return!qt&&fj(i,J,G)&&(P=Ys(16,{to:A,from:J}),fe(J,J,!0,!1)),(P?Promise.resolve(P):ht(A,J)).catch(U=>Ur(U)?Ur(U,2)?U:be(U):kt(U,A,J)).then(U=>{if(U){if(Ur(U,2))return X(Zt({replace:bt},V(U.to),{state:typeof U.to=="object"?Zt({},Rt,U.to.state):Rt,force:qt}),F||A)}else U=St(A,J,!0,bt,Rt);return S(A,J,U),U})}function D(q,F){const G=C(q,F);return G?Promise.reject(G):Promise.resolve()}function ht(q,F){let G;const[J,Rt,qt]=cU(q,F);G=ug(J.reverse(),"beforeRouteLeave",q,F);for(const _ of J)_.leaveGuards.forEach(A=>{G.push(mi(A,q,F))});const bt=D.bind(null,q,F);return G.push(bt),ps(G).then(()=>{G=[];for(const _ of u.list())G.push(mi(_,q,F));return G.push(bt),ps(G)}).then(()=>{G=ug(Rt,"beforeRouteUpdate",q,F);for(const _ of Rt)_.updateGuards.forEach(A=>{G.push(mi(A,q,F))});return G.push(bt),ps(G)}).then(()=>{G=[];for(const _ of q.matched)if(_.beforeEnter&&!F.matched.includes(_))if(gr(_.beforeEnter))for(const A of _.beforeEnter)G.push(mi(A,q,F));else G.push(mi(_.beforeEnter,q,F));return G.push(bt),ps(G)}).then(()=>(q.matched.forEach(_=>_.enterCallbacks={}),G=ug(qt,"beforeRouteEnter",q,F),G.push(bt),ps(G))).then(()=>{G=[];for(const _ of a.list())G.push(mi(_,q,F));return G.push(bt),ps(G)}).catch(_=>Ur(_,8)?_:Promise.reject(_))}function S(q,F,G){for(const J of l.list())J(q,F,G)}function St(q,F,G,J,Rt){const qt=C(q,F);if(qt)return qt;const bt=F===fi,_=ws?history.state:{};G&&(J||bt?o.replace(q.fullPath,Zt({scroll:bt&&_&&_.scroll},Rt)):o.push(q.fullPath,Rt)),f.value=q,fe(q,F,G,bt),be()}let Ot;function Gt(){Ot||(Ot=o.listen((q,F,G)=>{if(!Qe.listening)return;const J=x(q),Rt=R(J);if(Rt){X(Zt(Rt,{replace:!0}),J).catch(ua);return}d=J;const qt=f.value;ws&&wj(F_(qt.fullPath,G.delta),sh()),ht(J,qt).catch(bt=>Ur(bt,12)?bt:Ur(bt,2)?(X(bt.to,J).then(_=>{Ur(_,20)&&!G.delta&&G.type===La.pop&&o.go(-1,!1)}).catch(ua),Promise.reject()):(G.delta&&o.go(-G.delta,!1),kt(bt,J,qt))).then(bt=>{bt=bt||St(J,qt,!1),bt&&(G.delta&&!Ur(bt,8)?o.go(-G.delta,!1):G.type===La.pop&&Ur(bt,20)&&o.go(-1,!1)),S(J,qt,bt)}).catch(ua)}))}let Wt=Wu(),Ut=Wu(),Nt;function kt(q,F,G){be(q);const J=Ut.list();return J.length?J.forEach(Rt=>Rt(q,F,G)):console.error(q),Promise.reject(q)}function vt(){return Nt&&f.value!==fi?Promise.resolve():new Promise((q,F)=>{Wt.add([q,F])})}function be(q){return Nt||(Nt=!q,Gt(),Wt.list().forEach(([F,G])=>q?G(q):F()),Wt.reset()),q}function fe(q,F,G,J){const{scrollBehavior:Rt}=t;if(!ws||!Rt)return Promise.resolve();const qt=!G&&bj(F_(q.fullPath,0))||(J||!G)&&history.state&&history.state.scroll||null;return Ei().then(()=>Rt(q,F,qt)).then(bt=>bt&&yj(bt)).catch(bt=>kt(bt,q,F))}const he=q=>o.go(q);let oe;const an=new Set,Qe={currentRoute:f,listening:!0,addRoute:b,removeRoute:E,hasRoute:O,getRoutes:T,resolve:x,options:t,push:M,replace:$,go:he,back:()=>he(-1),forward:()=>he(1),beforeEach:u.add,beforeResolve:a.add,afterEach:l.add,onError:Ut.add,isReady:vt,install(q){const F=this;q.component("RouterLink",rU),q.component("RouterView",uU),q.config.globalProperties.$router=F,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>ct(f)}),ws&&!oe&&f.value===fi&&(oe=!0,M(o.location).catch(Rt=>{}));const G={};for(const Rt in fi)G[Rt]=Qt(()=>f.value[Rt]);q.provide(Wv,F),q.provide(bA,Qr(G)),q.provide(sm,f);const J=q.unmount;an.add(q),q.unmount=function(){an.delete(q),an.size<1&&(d=fi,Ot&&Ot(),Ot=null,f.value=fi,oe=!1,Nt=!1),J()}}};return Qe}function ps(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function cU(t,e){const n=[],i=[],o=[],u=Math.max(e.matched.length,t.matched.length);for(let a=0;a<u;a++){const l=e.matched[a];l&&(t.matched.find(d=>Qs(d,l))?i.push(l):n.push(l));const f=t.matched[a];f&&(e.matched.find(d=>Qs(d,f))||o.push(f))}return[n,i,o]}const lU="/music-player/assets/img/introduction-music.png",fU={},hU=Om('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Listen to Great Music!</h1><p class="w-full md:w-8/12 mx-auto">Checkout some cool music here!</p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+lU+'"></section><section class="container mx-auto"><div class="bg-white rounded border border-gray-200 relative flex flex-col"><div class="px-6 pt-6 pb-5 font-bold border-b border-gray-200"><span class="card-title">Songs</span><i class="fa fa-headphones-alt float-right text-green-400 text-xl"></i></div><ol id="playlist"><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li></ol></div></section>',2);function dU(t,e,n,i,o,u){return hU}const pU=Vi(fU,[["render",dU]]);const gU={},mU={class:"about"},vU=wt("h1",null,"This is an about page",-1),yU=[vU];function wU(t,e){return en(),Vn("div",mU,yU)}const bU=Vi(gU,[["render",wU]]),EU={name:"manage"},_U={class:"container mx-auto mt-6"},IU=Om('<div class="md:grid md:grid-cols-3 md:gap-4"><div class="col-span-1"><div class="bg-white rounded border border-gray-200 relative flex flex-col"><div class="px-6 pt-6 pb-5 font-bold border-b border-gray-200"><span class="card-title">Upload</span><i class="fas fa-upload float-right text-green-400 text-2xl"></i></div><div class="p-6"><div class="w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid"><h5>Drop your files here</h5></div><hr class="my-6"><div class="mb-4"><div class="font-bold text-sm">Just another song.mp3</div><div class="flex h-4 overflow-hidden bg-gray-200 rounded"><div class="transition-all progress-bar bg-blue-400" style="width:75%;"></div></div></div><div class="mb-4"><div class="font-bold text-sm">Just another song.mp3</div><div class="flex h-4 overflow-hidden bg-gray-200 rounded"><div class="transition-all progress-bar bg-blue-400" style="width:35%;"></div></div></div><div class="mb-4"><div class="font-bold text-sm">Just another song.mp3</div><div class="flex h-4 overflow-hidden bg-gray-200 rounded"><div class="transition-all progress-bar bg-blue-400" style="width:55%;"></div></div></div></div></div></div><div class="col-span-2"><div class="bg-white rounded border border-gray-200 relative flex flex-col"><div class="px-6 pt-6 pb-5 font-bold border-b border-gray-200"><span class="card-title">My Songs</span><i class="fa fa-compact-disc float-right text-green-400 text-2xl"></i></div><div class="p-6"><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div><div><form><div class="mb-3"><label class="inline-block mb-2">Song Title</label><input type="text" class="block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded" placeholder="Enter Song Title"></div><div class="mb-3"><label class="inline-block mb-2">Genre</label><input type="text" class="block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded" placeholder="Enter Genre"></div><button type="submit" class="py-1.5 px-3 rounded text-white bg-green-600"> Submit </button><button type="button" class="py-1.5 px-3 rounded text-white bg-gray-600"> Go Back </button></form></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div></div></div></div></div>',1),TU=[IU];function SU(t,e,n,i,o,u){return en(),Vn("section",_U,TU)}const AU=Vi(EU,[["render",SU]]),NU=[{name:"home",path:"/",component:pU},{home:"about",path:"/about",component:bU},{name:"manage",path:"/manage-music",component:AU,beforeEnter:(t,e,n)=>{console.log("Manage Route Guard"),n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{path:"/:catchAll(.*)",redirect:{name:"home"}}],EA=aU({history:Tj("/music-player/"),routes:NU,linkExactActiveClass:"text-yellow-500"});EA.beforeEach((t,e,n)=>{if(!t.meta.requiresAuth){n();return}ec().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.7.3
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */function Ro(t){return typeof t=="function"}function ca(t){return t==null}const Do=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function _A(t){return Number(t)>=0}function kU(t){const e=parseFloat(t);return isNaN(e)?t:e}const IA={};function or(t,e){CU(t,e),IA[t]=e}function xU(t){return IA[t]}function CU(t,e){if(!Ro(e))throw new Error(`Extension Error: The validator '${t}' must be a function.`)}const nc=Symbol("vee-validate-form"),OU=Symbol("vee-validate-field-instance"),pf=Symbol("Default empty value"),RU=typeof window<"u";function um(t){return Ro(t)&&!!t.__locatorRef}function la(t){return!!t&&Ro(t.validate)}function Xs(t){return t==="checkbox"||t==="radio"}function DU(t){return Do(t)||Array.isArray(t)}function TA(t){return Array.isArray(t)?t.length===0:Do(t)&&Object.keys(t).length===0}function uh(t){return/^\[.+\]$/i.test(t)}function PU(t){return SA(t)&&t.multiple}function SA(t){return t.tagName==="SELECT"}function LU(t,e){const n=![!1,null,void 0,0].includes(e.multiple)&&!Number.isNaN(e.multiple);return t==="select"&&"multiple"in e&&n}function MU(t,e){return!LU(t,e)&&e.type!=="file"&&!Xs(e.type)}function AA(t){return Qv(t)&&t.target&&"submit"in t.target}function Qv(t){return t?!!(typeof Event<"u"&&Ro(Event)&&t instanceof Event||t&&t.srcElement):!1}function X_(t,e){return e in t&&t[e]!==pf}function Ve(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!Ve(t[i],e[i]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;for(i of t.entries())if(!Ve(i[1],e.get(i[0])))return!1;return!0}if(J_(t)&&J_(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[i]))return!1;for(i=n;i--!==0;){var u=o[i];if(!Ve(t[u],e[u]))return!1}return!0}return t!==t&&e!==e}function J_(t){return RU?t instanceof File:!1}function Z_(t,e,n){typeof n.value=="object"&&(n.value=re(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function re(t){if(typeof t!="object")return t;var e=0,n,i,o,u=Object.prototype.toString.call(t);if(u==="[object Object]"?o=Object.create(t.__proto__||null):u==="[object Array]"?o=Array(t.length):u==="[object Set]"?(o=new Set,t.forEach(function(a){o.add(re(a))})):u==="[object Map]"?(o=new Map,t.forEach(function(a,l){o.set(re(l),re(a))})):u==="[object Date]"?o=new Date(+t):u==="[object RegExp]"?o=new RegExp(t.source,t.flags):u==="[object DataView]"?o=new t.constructor(re(t.buffer)):u==="[object ArrayBuffer]"?o=t.slice(0):u.slice(-6)==="Array]"&&(o=new t.constructor(t)),o){for(i=Object.getOwnPropertySymbols(t);e<i.length;e++)Z_(o,i[e],Object.getOwnPropertyDescriptor(t,i[e]));for(e=0,i=Object.getOwnPropertyNames(t);e<i.length;e++)Object.hasOwnProperty.call(o,n=i[e])&&o[n]===t[n]||Z_(o,n,Object.getOwnPropertyDescriptor(t,n))}return o||t}function Yv(t){return uh(t)?t.replace(/\[|\]/gi,""):t}function Te(t,e,n){return t?uh(e)?t[Yv(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,u)=>DU(o)&&u in o?o[u]:n,t):n}function hi(t,e,n){if(uh(e)){t[Yv(e)]=n;return}const i=e.split(/\.|\[(\d+)\]/).filter(Boolean);let o=t;for(let u=0;u<i.length;u++){if(u===i.length-1){o[i[u]]=n;return}(!(i[u]in o)||ca(o[i[u]]))&&(o[i[u]]=_A(i[u+1])?[]:{}),o=o[i[u]]}}function ag(t,e){if(Array.isArray(t)&&_A(e)){t.splice(Number(e),1);return}Do(t)&&delete t[e]}function bl(t,e){if(uh(e)){delete t[Yv(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let i=t;for(let u=0;u<n.length;u++){if(u===n.length-1){ag(i,n[u]);break}if(!(n[u]in i)||ca(i[n[u]]))break;i=i[n[u]]}const o=n.map((u,a)=>Te(t,n.slice(0,a).join(".")));for(let u=o.length-1;u>=0;u--)if(TA(o[u])){if(u===0){ag(t,n[0]);continue}ag(o[u-1],n[u-1])}}function qe(t){return Object.keys(t)}function Xv(t,e=void 0){const n=kf();return(n==null?void 0:n.provides[t])||Xn(t,e)}function am(t,e,n){if(Array.isArray(t)){const i=[...t],o=i.findIndex(u=>Ve(u,e));return o>=0?i.splice(o,1):i.push(e),i}return Ve(t,e)?n:e}function tI(t,e=0){let n=null,i=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const u=t(...o);i.forEach(a=>a(u)),i=[]},e),new Promise(u=>i.push(u))}}function FU(t,e){return Do(e)&&e.number?kU(t):t}function cm(t,e){let n;return async function(...o){const u=t(...o);n=u;const a=await u;return u!==n||(n=void 0,e(a,o)),a}}function VU({get:t,set:e}){const n=Sn(re(t()));return He(t,i=>{Ve(i,n.value)||(n.value=re(i))},{deep:!0}),He(n,i=>{Ve(i,t())||e(re(i))},{deep:!0}),n}const ah=(t,e,n)=>e.slots.default?typeof t=="string"||!t?e.slots.default(n()):{default:()=>{var i,o;return(o=(i=e.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:e.slots.default;function cg(t){if(NA(t))return t._value}function NA(t){return"_value"in t}function Jv(t){if(!Qv(t))return t;const e=t.target;if(Xs(e.type)&&NA(e))return cg(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if(PU(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(cg);if(SA(e)){const n=Array.from(e.options).find(i=>i.selected);return n?cg(n):e.value}return e.value}function kA(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?Do(t)&&t._$$isNormalized?t:Do(t)?Object.keys(t).reduce((n,i)=>{const o=jU(t[i]);return t[i]!==!1&&(n[i]=eI(o)),n},e):typeof t!="string"?e:t.split("|").reduce((n,i)=>{const o=UU(i);return o.name&&(n[o.name]=eI(o.params)),n},e):e}function jU(t){return t===!0?[]:Array.isArray(t)||Do(t)?t:[t]}function eI(t){const e=n=>typeof n=="string"&&n[0]==="@"?BU(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,i)=>(n[i]=e(t[i]),n),{})}const UU=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function BU(t){const e=n=>Te(n,t)||n[t];return e.__locatorRef=t,e}function qU(t){return Array.isArray(t)?t.filter(um):qe(t).filter(e=>um(t[e])).map(e=>t[e])}const $U={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let lm=Object.assign({},$U);const Zv=()=>lm,KU=t=>{lm=Object.assign(Object.assign({},lm),t)},HU=KU;async function xA(t,e,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:e,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await zU(o,t)).errors;return{errors:a,valid:!a.length}}async function zU(t,e){if(la(t.rules))return GU(e,t.rules,{bails:t.bails});if(Ro(t.rules)||Array.isArray(t.rules)){const a={field:t.name,form:t.formData,value:e},l=Array.isArray(t.rules)?t.rules:[t.rules],f=l.length,d=[];for(let g=0;g<f;g++){const m=l[g],v=await m(e,a);if(typeof v!="string"&&v)continue;const E=typeof v=="string"?v:CA(a);if(d.push(E),t.bails)return{errors:d}}return{errors:d}}const n=Object.assign(Object.assign({},t),{rules:kA(t.rules)}),i=[],o=Object.keys(n.rules),u=o.length;for(let a=0;a<u;a++){const l=o[a],f=await WU(n,e,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),t.bails))return{errors:i}}return{errors:i}}async function GU(t,e,n){var i;return{errors:await e.validate(t,{abortEarly:(i=n.bails)!==null&&i!==void 0?i:!0}).then(()=>[]).catch(u=>{if(u.name==="ValidationError")return u.errors;throw u})}}async function WU(t,e,n){const i=xU(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=QU(n.params,t.formData),u={field:t.name,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(e,o,u);return typeof a=="string"?{error:a}:{error:a?void 0:CA(u)}}function CA(t){const e=Zv().generateMessage;return e?e(t):"Field is invalid"}function QU(t,e){const n=i=>um(i)?i(e):i;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((i,o)=>(i[o]=n(t[o]),i),{})}async function YU(t,e){const n=await t.validate(e,{abortEarly:!1}).then(()=>[]).catch(u=>{if(u.name!=="ValidationError")throw u;return u.inner||[]}),i={},o={};for(const u of n){const a=u.errors;i[u.path]={valid:!a.length,errors:a},a.length&&(o[u.path]=a[0])}return{valid:!n.length,results:i,errors:o}}async function XU(t,e,n){const o=qe(t).map(async d=>{var g,m,v;const b=await xA(Te(e,d),t[d],{name:((g=n==null?void 0:n.names)===null||g===void 0?void 0:g[d])||d,values:e,bails:(v=(m=n==null?void 0:n.bailsMap)===null||m===void 0?void 0:m[d])!==null&&v!==void 0?v:!0});return Object.assign(Object.assign({},b),{path:d})});let u=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(u=!1,f[d.path]=d.errors[0]);return{valid:u,results:l,errors:f}}let nI=0;function JU(t,e){const{value:n,initialValue:i,setInitialValue:o}=OA(t,e.modelValue,e.form),{errorMessage:u,errors:a,setErrors:l}=t2(t,e.form),f=ZU(n,i,a),d=nI>=Number.MAX_SAFE_INTEGER?0:++nI;function g(m){var v;"value"in m&&(n.value=m.value),"errors"in m&&l(m.errors),"touched"in m&&(f.touched=(v=m.touched)!==null&&v!==void 0?v:f.touched),"initialValue"in m&&o(m.initialValue)}return{id:d,path:t,value:n,initialValue:i,meta:f,errors:a,errorMessage:u,setState:g}}function OA(t,e,n){const i=Sn(ct(e));function o(){return n?Te(n.meta.value.initialValues,ct(t),ct(i)):ct(i)}function u(d){if(!n){i.value=d;return}n.stageInitialValue(ct(t),d,!0)}const a=Qt(o);if(!n)return{value:Sn(o()),initialValue:a,setInitialValue:u};const l=e?ct(e):Te(n.values,ct(t),ct(a));return n.stageInitialValue(ct(t),l,!0),{value:Qt({get(){return Te(n.values,ct(t))},set(d){n.setFieldValue(ct(t),d)}}),initialValue:a,setInitialValue:u}}function ZU(t,e,n){const i=Qr({touched:!1,pending:!1,valid:!0,validated:!!ct(n).length,initialValue:Qt(()=>ct(e)),dirty:Qt(()=>!Ve(ct(t),ct(e)))});return He(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function t2(t,e){function n(o){return o?Array.isArray(o)?o:[o]:[]}if(!e){const o=Sn([]);return{errors:o,errorMessage:Qt(()=>o.value[0]),setErrors:u=>{o.value=n(u)}}}const i=Qt(()=>e.errorBag.value[ct(t)]||[]);return{errors:i,errorMessage:Qt(()=>i.value[0]),setErrors:o=>{e.setFieldErrorBag(ct(t),n(o))}}}function e2(t,e,n){return Xs(n==null?void 0:n.type)?i2(t,e,n):RA(t,e,n)}function RA(t,e,n){const{initialValue:i,validateOnMount:o,bails:u,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:g,controlled:m,keepValueOnUnmount:v,modelPropName:b,syncVModel:E,form:T}=n2(ct(t),n),O=m?Xv(nc):void 0,x=T||O;let V=!1;const{id:C,value:M,initialValue:$,meta:R,setState:X,errors:D,errorMessage:ht}=JU(t,{modelValue:i,form:x});E&&o2({value:M,prop:b,handleChange:Nt});const S=()=>{R.touched=!0},St=Qt(()=>{let F=ct(e);const G=ct(x==null?void 0:x.schema);return G&&!la(G)&&(F=r2(G,ct(t))||F),la(F)||Ro(F)||Array.isArray(F)?F:kA(F)});async function Ot(F){var G,J;return x!=null&&x.validateSchema?(G=(await x.validateSchema(F)).results[ct(t)])!==null&&G!==void 0?G:{valid:!0,errors:[]}:xA(M.value,St.value,{name:ct(f)||ct(t),values:(J=x==null?void 0:x.values)!==null&&J!==void 0?J:{},bails:u})}const Gt=cm(async()=>(R.pending=!0,R.validated=!0,Ot("validated-only")),F=>(V&&(F.valid=!0,F.errors=[]),X({errors:F.errors}),R.pending=!1,F)),Wt=cm(async()=>Ot("silent"),F=>(V&&(F.valid=!0),R.valid=F.valid,F));function Ut(F){return(F==null?void 0:F.mode)==="silent"?Wt():Gt()}function Nt(F,G=!0){const J=Jv(F);M.value=J,!d&&G&&Gt()}Tf(()=>{if(o)return Gt();(!x||!x.validateSchema)&&Wt()});function kt(F){R.touched=F}let vt,be=re(M.value);function fe(){vt=He(M,(F,G)=>{if(Ve(F,G)&&Ve(F,be))return;(d?Gt:Wt)(),be=re(F)},{deep:!0})}fe();function he(F){var G;vt==null||vt();const J=F&&"value"in F?F.value:$.value;X({value:re(J),initialValue:re(J),touched:(G=F==null?void 0:F.touched)!==null&&G!==void 0?G:!1,errors:(F==null?void 0:F.errors)||[]}),R.pending=!1,R.validated=!1,Wt(),Ei(()=>{fe()})}function oe(F){M.value=F}function an(F){X({errors:Array.isArray(F)?F:[F]})}const Qe={id:C,name:t,label:f,value:M,meta:R,errors:D,errorMessage:ht,type:a,checkedValue:l,uncheckedValue:g,bails:u,keepValueOnUnmount:v,resetField:he,handleReset:()=>he(),validate:Ut,handleChange:Nt,handleBlur:S,setState:X,setTouched:kt,setErrors:an,setValue:oe};if(As(OU,Qe),ie(e)&&typeof ct(e)!="function"&&He(e,(F,G)=>{Ve(F,G)||(R.validated?Gt():Wt())},{deep:!0}),!x)return Qe;x.register(Qe),Sf(()=>{V=!0,x.unregister(Qe)});const q=Qt(()=>{const F=St.value;return!F||Ro(F)||la(F)||Array.isArray(F)?{}:Object.keys(F).reduce((G,J)=>{const Rt=qU(F[J]).map(qt=>qt.__locatorRef).reduce((qt,bt)=>{const _=Te(x.values,bt)||x.values[bt];return _!==void 0&&(qt[bt]=_),qt},{});return Object.assign(G,Rt),G},{})});return He(q,(F,G)=>{if(!Object.keys(F).length)return;!Ve(F,G)&&(R.validated?Gt():Wt())}),Qe}function n2(t,e){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:t,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0});if(!e)return n();const i="valueProp"in e?e.valueProp:e.checkedValue,o="standalone"in e?!e.standalone:e.controlled;return Object.assign(Object.assign(Object.assign({},n()),e||{}),{controlled:o??!0,checkedValue:i})}function r2(t,e){if(t)return t[e]}function i2(t,e,n){const i=n!=null&&n.standalone?void 0:Xv(nc),o=n==null?void 0:n.checkedValue,u=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=Qt(()=>{const m=ct(l.value),v=ct(o);return Array.isArray(m)?m.findIndex(b=>Ve(b,v))>=0:Ve(v,m)});function g(m,v=!0){var b;if(d.value===((b=m==null?void 0:m.target)===null||b===void 0?void 0:b.checked)){v&&l.validate();return}let E=Jv(m);i||(E=am(ct(l.value),ct(o),ct(u))),f(E,v)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:u,handleChange:g})}return a(RA(t,e,n))}function o2({prop:t,value:e,handleChange:n}){const i=kf();if(!i)return;const o=t||"modelValue",u=`update:${o}`;o in i.props&&(He(e,a=>{Ve(a,rI(i,o))||i.emit(u,a)}),He(()=>rI(i,o),a=>{if(a===pf&&e.value===void 0)return;const l=a===pf?void 0:a;Ve(l,FU(e.value,i.props.modelModifiers))||n(l)}))}function rI(t,e){return t.props[e]}const s2=eu({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Zv().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:pf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(t,e){const n=kr(t,"rules"),i=kr(t,"name"),o=kr(t,"label"),u=kr(t,"uncheckedValue"),a=kr(t,"keepValue"),{errors:l,value:f,errorMessage:d,validate:g,handleChange:m,handleBlur:v,setTouched:b,resetField:E,handleReset:T,meta:O,checked:x,setErrors:V}=e2(i,n,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:e.attrs.type,initialValue:a2(t,e),checkedValue:e.attrs.value,uncheckedValue:u,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a}),C=function(ht,S=!0){m(ht,S),e.emit("update:modelValue",f.value)},M=D=>{Xs(e.attrs.type)||(f.value=Jv(D))},$=function(ht){M(ht),e.emit("update:modelValue",f.value)},R=Qt(()=>{const{validateOnInput:D,validateOnChange:ht,validateOnBlur:S,validateOnModelUpdate:St}=u2(t),Ot=[v,e.attrs.onBlur,S?g:void 0].filter(Boolean),Gt=[kt=>C(kt,D),e.attrs.onInput].filter(Boolean),Wt=[kt=>C(kt,ht),e.attrs.onChange].filter(Boolean),Ut={name:t.name,onBlur:Ot,onInput:Gt,onChange:Wt};Ut["onUpdate:modelValue"]=kt=>C(kt,St),Xs(e.attrs.type)&&x&&(Ut.checked=x.value);const Nt=iI(t,e);return MU(Nt,e.attrs)&&(Ut.value=f.value),Ut});function X(){return{field:R.value,value:f.value,meta:O,errors:l.value,errorMessage:d.value,validate:g,resetField:E,handleChange:C,handleInput:$,handleReset:T,handleBlur:v,setTouched:b,setErrors:V}}return e.expose({setErrors:V,setTouched:b,reset:E,validate:g,handleChange:m}),()=>{const D=km(iI(t,e)),ht=ah(D,e,X);return D?Cs(D,Object.assign(Object.assign({},e.attrs),R.value),ht):ht}}});function iI(t,e){let n=t.as||"";return!t.as&&!e.slots.default&&(n="input"),n}function u2(t){var e,n,i,o;const{validateOnInput:u,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Zv();return{validateOnInput:(e=t.validateOnInput)!==null&&e!==void 0?e:u,validateOnChange:(n=t.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=t.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=t.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function a2(t,e){return Xs(e.attrs.type)?X_(t,"modelValue")?t.modelValue:void 0:X_(t,"modelValue")?t.modelValue:e.attrs.value}const c2=s2;let l2=0;function f2(t){var e;const n=l2++,i=new Set;let o=!1;const u=Sn({}),a=Sn(!1),l=Sn(0),f=[],d=Qr(re(ct(t==null?void 0:t.initialValues)||{})),{errorBag:g,setErrorBag:m,setFieldErrorBag:v}=p2(t==null?void 0:t.initialErrors),b=Qt(()=>qe(g.value).reduce((N,k)=>{const W=g.value[k];return W&&W.length&&(N[k]=W[0]),N},{}));function E(N){const k=u.value[N];return Array.isArray(k)?k[0]:k}function T(N){return!!u.value[N]}const O=Qt(()=>qe(u.value).reduce((N,k)=>{const W=E(k);return W&&(N[k]=ct(W.label||W.name)||""),N},{})),x=Qt(()=>qe(u.value).reduce((N,k)=>{var W;const Q=E(k);return Q&&(N[k]=(W=Q.bails)!==null&&W!==void 0?W:!0),N},{})),V=Object.assign({},(t==null?void 0:t.initialErrors)||{}),C=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:M,originalInitialValues:$,setInitialValues:R}=d2(u,d,t==null?void 0:t.initialValues),X=h2(u,d,$,b),D=Qt(()=>[...i,...qe(u.value)].reduce((N,k)=>{const W=Te(d,k);return hi(N,k,W),N},{})),ht=t==null?void 0:t.validationSchema,S=tI(ot,5),St=tI(ot,5),Ot=cm(async N=>await N==="silent"?S():St(),(N,[k])=>{const W=Nt.fieldsByPath.value||{},Q=qe(Nt.errorBag.value);return[...new Set([...qe(N.results),...qe(W),...Q])].reduce((it,at)=>{const st=W[at],xt=(N.results[at]||{errors:[]}).errors,Lt={errors:xt,valid:!xt.length};if(it.results[at]=Lt,Lt.valid||(it.errors[at]=Lt.errors[0]),!st)return fe(at,xt),it;if(vt(st,cn=>cn.meta.valid=Lt.valid),k==="silent")return it;const Ye=Array.isArray(st)?st.some(cn=>cn.meta.validated):st.meta.validated;return k==="validated-only"&&!Ye||vt(st,cn=>cn.setState({errors:Lt.errors})),it},{valid:N.valid,results:{},errors:{}})});function Gt(N){return function(W,Q){return function(it){return it instanceof Event&&(it.preventDefault(),it.stopPropagation()),G(qe(u.value).reduce((at,st)=>(at[st]=!0,at),{})),a.value=!0,l.value++,A().then(at=>{const st=re(d);if(at.valid&&typeof W=="function"){const xt=re(D.value);return W(N?xt:st,{evt:it,controlledValues:xt,setErrors:he,setFieldError:fe,setTouched:G,setFieldTouched:F,setValues:an,setFieldValue:oe,resetForm:J})}!at.valid&&typeof Q=="function"&&Q({values:st,evt:it,errors:at.errors,results:at.results})}).then(at=>(a.value=!1,at),at=>{throw a.value=!1,at})}}}const Ut=Gt(!1);Ut.withControlled=Gt(!0);const Nt={formId:n,fieldsByPath:u,values:d,controlledValues:D,errorBag:g,errors:b,schema:ht,submitCount:l,meta:X,isSubmitting:a,fieldArrays:f,keepValuesOnUnmount:C,validateSchema:ct(ht)?Ot:void 0,validate:A,register:bt,unregister:_,setFieldErrorBag:v,validateField:P,setFieldValue:oe,setValues:an,setErrors:he,setFieldError:fe,setFieldTouched:F,setTouched:G,resetForm:J,handleSubmit:Ut,stageInitialValue:B,unsetInitialValue:U,setFieldInitialValue:tt,useFieldModel:q};function kt(N){return Array.isArray(N)}function vt(N,k){return Array.isArray(N)?N.forEach(k):k(N)}function be(N){Object.values(u.value).forEach(k=>{k&&vt(k,N)})}function fe(N,k){v(N,k)}function he(N){m(N)}function oe(N,k,{force:W}={force:!1}){var Q;const rt=u.value[N],it=re(k);if(!rt){hi(d,N,it);return}if(kt(rt)&&((Q=rt[0])===null||Q===void 0?void 0:Q.type)==="checkbox"&&!Array.isArray(k)){const st=re(am(Te(d,N)||[],k,void 0));hi(d,N,st);return}let at=it;!kt(rt)&&rt.type==="checkbox"&&!W&&!o&&(at=re(am(Te(d,N),k,ct(rt.uncheckedValue)))),hi(d,N,at)}function an(N){qe(d).forEach(k=>{delete d[k]}),qe(N).forEach(k=>{oe(k,N[k])}),f.forEach(k=>k&&k.reset())}function Qe(N){const{value:k}=OA(N,void 0,Nt);return He(k,()=>{T(ct(N))||A({mode:"validated-only"})},{deep:!0}),i.add(ct(N)),k}function q(N){return Array.isArray(N)?N.map(Qe):Qe(N)}function F(N,k){const W=u.value[N];W&&vt(W,Q=>Q.setTouched(k))}function G(N){qe(N).forEach(k=>{F(k,!!N[k])})}function J(N){o=!0,be(W=>W.resetField());const k=N!=null&&N.values?N.values:$.value;R(k),an(k),N!=null&&N.touched&&G(N.touched),he((N==null?void 0:N.errors)||{}),l.value=(N==null?void 0:N.submitCount)||0,Ei(()=>{o=!1})}function Rt(N,k){const W=To(N),Q=k;if(!u.value[Q]){u.value[Q]=W;return}const rt=u.value[Q];rt&&!Array.isArray(rt)&&(u.value[Q]=[rt]),u.value[Q]=[...u.value[Q],W]}function qt(N,k){const W=k,Q=u.value[W];if(Q){if(!kt(Q)&&N.id===Q.id){delete u.value[W];return}if(kt(Q)){const rt=Q.findIndex(it=>it.id===N.id);if(rt===-1)return;Q.splice(rt,1),Q.length||delete u.value[W]}}}function bt(N){const k=ct(N.name);Rt(N,k),ie(N.name)&&He(N.name,async(Q,rt)=>{await Ei(),qt(N,rt),Rt(N,Q),(b.value[rt]||b.value[Q])&&(fe(rt,void 0),P(Q)),await Ei(),T(rt)||bl(d,rt)});const W=ct(N.errorMessage);W&&(V==null?void 0:V[k])!==W&&P(k),delete V[k]}function _(N){const k=ct(N.name),W=u.value[k],Q=!!W&&kt(W);qt(N,k),Ei(()=>{var rt;const it=(rt=ct(N.keepValueOnUnmount))!==null&&rt!==void 0?rt:ct(C),at=Te(d,k);if(Q&&(W===u.value[k]||!u.value[k])&&!it)if(Array.isArray(at)){const xt=at.findIndex(Lt=>Ve(Lt,ct(N.checkedValue)));if(xt>-1){const Lt=[...at];Lt.splice(xt,1),oe(k,Lt,{force:!0})}}else at===ct(N.checkedValue)&&bl(d,k);if(!T(k)){if(fe(k,void 0),it||Q&&Array.isArray(at)&&!TA(at))return;bl(d,k)}})}async function A(N){const k=(N==null?void 0:N.mode)||"force";if(k==="force"&&be(it=>it.meta.validated=!0),Nt.validateSchema)return Nt.validateSchema(k);const W=await Promise.all(Object.values(u.value).map(it=>{const at=Array.isArray(it)?it[0]:it;return at?at.validate(N).then(st=>({key:ct(at.name),valid:st.valid,errors:st.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),Q={},rt={};for(const it of W)Q[it.key]={valid:it.valid,errors:it.errors},it.errors.length&&(rt[it.key]=it.errors[0]);return{valid:W.every(it=>it.valid),results:Q,errors:rt}}async function P(N){const k=u.value[N];return k?Array.isArray(k)?k.map(W=>W.validate())[0]:k.validate():Promise.resolve({errors:[],valid:!0})}function U(N){bl(M.value,N)}function B(N,k,W=!1){hi(d,N,k),tt(N,k),W&&!(t!=null&&t.initialValues)&&hi($.value,N,re(k))}function tt(N,k){hi(M.value,N,re(k))}async function ot(){const N=ct(ht);return N?la(N)?await YU(N,d):await XU(N,d,{names:O.value,bailsMap:x.value}):{valid:!0,results:{},errors:{}}}const et=Ut((N,{evt:k})=>{AA(k)&&k.target.submit()});return Tf(()=>{if(t!=null&&t.initialErrors&&he(t.initialErrors),t!=null&&t.initialTouched&&G(t.initialTouched),t!=null&&t.validateOnMount){A();return}Nt.validateSchema&&Nt.validateSchema("silent")}),ie(ht)&&He(ht,()=>{var N;(N=Nt.validateSchema)===null||N===void 0||N.call(Nt,"validated-only")}),As(nc,Nt),Object.assign(Object.assign({},Nt),{handleReset:()=>J(),submitForm:et})}function h2(t,e,n,i){const o={touched:"some",pending:"some",valid:"every"},u=Qt(()=>!Ve(e,ct(n)));function a(){const f=Object.values(t.value).flat(1).filter(Boolean);return qe(o).reduce((d,g)=>{const m=o[g];return d[g]=f[m](v=>v.meta[g]),d},{})}const l=Qr(a());return VO(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Qt(()=>Object.assign(Object.assign({initialValues:ct(n)},l),{valid:l.valid&&!qe(i.value).length,dirty:u.value}))}function d2(t,e,n){const i=Sn(re(ct(n))||{}),o=Sn(re(ct(n))||{});function u(a,l=!1){i.value=re(a),o.value=re(a),l&&qe(t.value).forEach(f=>{const d=t.value[f],g=Array.isArray(d)?d.some(v=>v.meta.touched):d==null?void 0:d.meta.touched;if(!d||g)return;const m=Te(i.value,f);hi(e,f,re(m))})}return ie(n)&&He(n,a=>{u(a,!0)},{deep:!0}),{initialValues:i,originalInitialValues:o,setInitialValues:u}}function p2(t){const e=Sn({});function n(u){return Array.isArray(u)?u:u?[u]:[]}function i(u,a){if(!a){delete e.value[u];return}e.value[u]=n(a)}function o(u){e.value=qe(u).reduce((a,l)=>{const f=u[l];return f&&(a[l]=n(f)),a},{})}return t&&o(t),{errorBag:e,setErrorBag:o,setFieldErrorBag:i}}const g2=eu({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(t,e){const n=kr(t,"initialValues"),i=kr(t,"validationSchema"),o=kr(t,"keepValues"),{errors:u,values:a,meta:l,isSubmitting:f,submitCount:d,controlledValues:g,validate:m,validateField:v,handleReset:b,resetForm:E,handleSubmit:T,setErrors:O,setFieldError:x,setFieldValue:V,setValues:C,setFieldTouched:M,setTouched:$}=f2({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount,keepValuesOnUnmount:o}),R=T((St,{evt:Ot})=>{AA(Ot)&&Ot.target.submit()},t.onInvalidSubmit),X=t.onSubmit?T(t.onSubmit,t.onInvalidSubmit):R;function D(St){Qv(St)&&St.preventDefault(),b(),typeof e.attrs.onReset=="function"&&e.attrs.onReset()}function ht(St,Ot){return T(typeof St=="function"&&!Ot?St:Ot,t.onInvalidSubmit)(St)}function S(){return{meta:l.value,errors:u.value,values:a,isSubmitting:f.value,submitCount:d.value,controlledValues:g.value,validate:m,validateField:v,handleSubmit:ht,handleReset:b,submitForm:R,setErrors:O,setFieldError:x,setFieldValue:V,setValues:C,setFieldTouched:M,setTouched:$,resetForm:E}}return e.expose({setFieldError:x,setErrors:O,setFieldValue:V,setValues:C,setFieldTouched:M,setTouched:$,resetForm:E,validate:m,validateField:v}),function(){const Ot=t.as==="form"?t.as:km(t.as),Gt=ah(Ot,e,S);if(!t.as)return Gt;const Wt=t.as==="form"?{novalidate:!0}:{};return Cs(Ot,Object.assign(Object.assign(Object.assign({},Wt),e.attrs),{onSubmit:X,onReset:D}),Gt)}}}),m2=g2;function v2(t){const e=Xv(nc,void 0),n=Sn([]),i=()=>{},o={fields:n,remove:i,push:i,swap:i,insert:i,update:i,replace:i,prepend:i,move:i};if(!e||!ct(t))return o;const u=e.fieldArrays.find(C=>ct(C.path)===ct(t));if(u)return u;let a=0;function l(){const C=Te(e==null?void 0:e.values,ct(t),[])||[];n.value=C.map(d),f()}l();function f(){const C=n.value.length;for(let M=0;M<C;M++){const $=n.value[M];$.isFirst=M===0,$.isLast=M===C-1}}function d(C){const M=a++;return{key:M,value:VU({get(){const R=Te(e==null?void 0:e.values,ct(t),[])||[],X=n.value.findIndex(D=>D.key===M);return X===-1?C:R[X]},set(R){const X=n.value.findIndex(D=>D.key===M);X!==-1&&T(X,R)}}),isFirst:!1,isLast:!1}}function g(C){const M=ct(t),$=Te(e==null?void 0:e.values,M);if(!$||!Array.isArray($))return;const R=[...$];R.splice(C,1),e==null||e.unsetInitialValue(M+`[${C}]`),e==null||e.setFieldValue(M,R),n.value.splice(C,1),f()}function m(C){const M=ct(t),$=Te(e==null?void 0:e.values,M),R=ca($)?[]:$;if(!Array.isArray(R))return;const X=[...R];X.push(C),e==null||e.stageInitialValue(M+`[${X.length-1}]`,C),e==null||e.setFieldValue(M,X),n.value.push(d(C)),f()}function v(C,M){const $=ct(t),R=Te(e==null?void 0:e.values,$);if(!Array.isArray(R)||!(C in R)||!(M in R))return;const X=[...R],D=[...n.value],ht=X[C];X[C]=X[M],X[M]=ht;const S=D[C];D[C]=D[M],D[M]=S,e==null||e.setFieldValue($,X),n.value=D,f()}function b(C,M){const $=ct(t),R=Te(e==null?void 0:e.values,$);if(!Array.isArray(R)||R.length<C)return;const X=[...R],D=[...n.value];X.splice(C,0,M),D.splice(C,0,d(M)),e==null||e.setFieldValue($,X),n.value=D,f()}function E(C){const M=ct(t);e==null||e.setFieldValue(M,C),l()}function T(C,M){const $=ct(t),R=Te(e==null?void 0:e.values,$);!Array.isArray(R)||R.length-1<C||(e==null||e.setFieldValue(`${$}[${C}]`,M),e==null||e.validate({mode:"validated-only"}))}function O(C){const M=ct(t),$=Te(e==null?void 0:e.values,M),R=ca($)?[]:$;if(!Array.isArray(R))return;const X=[C,...R];e==null||e.stageInitialValue(M+`[${X.length-1}]`,C),e==null||e.setFieldValue(M,X),n.value.unshift(d(C)),f()}function x(C,M){const $=ct(t),R=Te(e==null?void 0:e.values,$),X=ca(R)?[]:[...R];if(!Array.isArray(R)||!(C in R)||!(M in R))return;const D=[...n.value],ht=D[C];D.splice(C,1),D.splice(M,0,ht);const S=X[C];X.splice(C,1),X.splice(M,0,S),e==null||e.setFieldValue($,X),n.value=D,f()}const V={fields:n,remove:g,push:m,swap:v,insert:b,update:T,replace:E,prepend:O,move:x};return e.fieldArrays.push(Object.assign({path:t,reset:l},V)),Sf(()=>{const C=e.fieldArrays.findIndex(M=>ct(M.path)===ct(t));C>=0&&e.fieldArrays.splice(C,1)}),V}eu({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(t,e){const{push:n,remove:i,swap:o,insert:u,replace:a,update:l,prepend:f,move:d,fields:g}=v2(kr(t,"name"));function m(){return{fields:g.value,push:n,remove:i,swap:o,insert:u,update:l,replace:a,prepend:f,move:d}}return e.expose({push:n,remove:i,swap:o,insert:u,update:l,replace:a,prepend:f,move:d}),()=>ah(void 0,e,m)}});const y2=eu({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,e){const n=Xn(nc,void 0),i=Qt(()=>n==null?void 0:n.errors.value[t.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const u=t.as?km(t.as):t.as,a=ah(u,e,o),l=Object.assign({role:"alert"},e.attrs);return!u&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Cs(u||"span",l,i.value):Cs(u,l,a)}}}),w2=y2;/**
  * vee-validate v4.7.3
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */const El={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},b2=t=>{if(t)return Array.isArray(t)?t[0]:t.locale};function rc(t,e){return Array.isArray(t)?t[0]:t[e]}function ji(t){return!!(t==null||t===""||Array.isArray(t)&&t.length===0)}const DA=(t,e)=>{if(ji(t))return!0;const n=b2(e);if(Array.isArray(t))return t.every(o=>DA(o,{locale:n}));const i=String(t);return n?(El[n]||El.en).test(i):Object.keys(El).some(o=>El[o].test(i))},E2=(t,e)=>{const n=rc(e,"target");return String(t)===String(n)},_2=t=>{if(ji(t))return!0;const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(t)?t.every(n=>e.test(String(n))):e.test(String(t))};function I2(t){return t==null}function T2(t){return Array.isArray(t)&&t.length===0}const PA=(t,e)=>{if(ji(t))return!0;const n=rc(e,"length");return Array.isArray(t)?t.every(i=>PA(i,{length:n})):String(t).length<=Number(n)},LA=(t,e)=>{if(ji(t))return!0;const n=rc(e,"max");return Array.isArray(t)?t.length>0&&t.every(i=>LA(i,{max:n})):Number(t)<=Number(n)},MA=(t,e)=>{if(ji(t))return!0;const n=rc(e,"length");return Array.isArray(t)?t.every(i=>MA(i,{length:n})):String(t).length>=Number(n)},FA=(t,e)=>{if(ji(t))return!0;const n=rc(e,"min");return Array.isArray(t)?t.length>0&&t.every(i=>FA(i,{min:n})):Number(t)>=Number(n)},VA=(t,e)=>ji(t)?!0:Array.isArray(t)?t.every(n=>VA(n,e)):Array.from(e).some(n=>n==t),oI=(t,e)=>ji(t)?!0:!VA(t,e),sI=t=>I2(t)||T2(t)||t===!1?!1:!!String(t).trim().length,S2={install(t){t.component("VeeForm",m2),t.component("VeeField",c2),t.component("ErrorMessage",w2),or("required",sI),or("tos",sI),or("min",MA),or("max",PA),or("alpha_spaces",DA),or("email",_2),or("min_value",FA),or("max_value",LA),or("passwords_mismatch",E2),or("excluded",oI),or("country_excluded",oI),HU({generateMessage:e=>{const n={required:`The field ${e.field} is required.`,min:`The field ${e.field} is too short.`,max:`The field ${e.field} is too long.`,alpha_spaces:`The field ${e.field} may only contain alphabetical characters and spaces.`,email:` The field ${e.field} must be a valid email.`,min_val:`The field ${e.field} is too low.`,max_val:`The field ${e.field} is too high.`,excluded:`You are not allowed to use this value for the field ${e.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",passwords_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service"};return n[e.rule.name]?n[e.rule.name]:`The field ${e.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let gs;sa.onAuthStateChanged(()=>{gs||(gs=tD(sj),gs.use(rD()),gs.use(EA),gs.use(S2),gs.mount("#app"))});
