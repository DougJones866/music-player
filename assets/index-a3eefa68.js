(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Jm(e,t){const n=Object.create(null),i=e.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function Kf(e){if(Ie(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=Pt(i)?uO(i):Kf(i);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Pt(e))return e;if(ot(e))return e}}const iO=/;(?![^(]*\))/g,oO=/:([^]+)/,sO=/\/\*.*?\*\//gs;function uO(e){const t={};return e.replace(sO,"").split(iO).forEach(n=>{if(n){const i=n.split(oO);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function xn(e){let t="";if(Pt(e))t=e;else if(Ie(e))for(let n=0;n<e.length;n++){const i=xn(e[n]);i&&(t+=i+" ")}else if(ot(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const aO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cO=Jm(aO);function fT(e){return!!e||e===""}function lO(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=zf(e[i],t[i]);return n}function zf(e,t){if(e===t)return!0;let n=A_(e),i=A_(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Oa(e),i=Oa(t),n||i)return e===t;if(n=Ie(e),i=Ie(t),n||i)return n&&i?lO(e,t):!1;if(n=ot(e),i=ot(t),n||i){if(!n||!i)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const a in e){const l=e.hasOwnProperty(a),f=t.hasOwnProperty(a);if(l&&!f||!l&&f||!zf(e[a],t[a]))return!1}}return String(e)===String(t)}function fO(e,t){return e.findIndex(n=>zf(n,t))}const rn=e=>Pt(e)?e:e==null?"":Ie(e)||ot(e)&&(e.toString===pT||!Oe(e.toString))?JSON.stringify(e,hT,2):String(e),hT=(e,t)=>t&&t.__v_isRef?hT(e,t.value):Vs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:Wf(t)?{[`Set(${t.size})`]:[...t.values()]}:ot(t)&&!Ie(t)&&!gT(t)?String(t):t,ut={},Us=[],yr=()=>{},hO=()=>!1,dO=/^on[^a-z]/,Gf=e=>dO.test(e),Zm=e=>e.startsWith("onUpdate:"),ln=Object.assign,ev=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},pO=Object.prototype.hasOwnProperty,$e=(e,t)=>pO.call(e,t),Ie=Array.isArray,Vs=e=>oc(e)==="[object Map]",Wf=e=>oc(e)==="[object Set]",A_=e=>oc(e)==="[object Date]",Oe=e=>typeof e=="function",Pt=e=>typeof e=="string",Oa=e=>typeof e=="symbol",ot=e=>e!==null&&typeof e=="object",dT=e=>ot(e)&&Oe(e.then)&&Oe(e.catch),pT=Object.prototype.toString,oc=e=>pT.call(e),gO=e=>oc(e).slice(8,-1),gT=e=>oc(e)==="[object Object]",tv=e=>Pt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ql=Jm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},mO=/-(\w)/g,Hr=Xf(e=>e.replace(mO,(t,n)=>n?n.toUpperCase():"")),vO=/\B([A-Z])/g,mu=Xf(e=>e.replace(vO,"-$1").toLowerCase()),Yf=Xf(e=>e.charAt(0).toUpperCase()+e.slice(1)),_g=Xf(e=>e?`on${Yf(e)}`:""),Da=(e,t)=>!Object.is(e,t),Jl=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},lf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},nv=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let k_;const yO=()=>k_||(k_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Bn;class mT{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Bn,!t&&Bn&&(this.index=(Bn.scopes||(Bn.scopes=[])).push(this)-1)}run(t){if(this.active){const n=Bn;try{return Bn=this,t()}finally{Bn=n}}}on(){Bn=this}off(){Bn=this.parent}stop(t){if(this.active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function vT(e){return new mT(e)}function wO(e,t=Bn){t&&t.active&&t.effects.push(e)}function bO(){return Bn}function _O(e){Bn&&Bn.cleanups.push(e)}const rv=e=>{const t=new Set(e);return t.w=0,t.n=0,t},yT=e=>(e.w&qi)>0,wT=e=>(e.n&qi)>0,EO=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=qi},IO=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const o=t[i];yT(o)&&!wT(o)?o.delete(e):t[n++]=o,o.w&=~qi,o.n&=~qi}t.length=n}},Yg=new WeakMap;let ma=0,qi=1;const Qg=30;let mr;const Oo=Symbol(""),Jg=Symbol("");class iv{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,wO(this,i)}run(){if(!this.active)return this.fn();let t=mr,n=Mi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=mr,mr=this,Mi=!0,qi=1<<++ma,ma<=Qg?EO(this):C_(this),this.fn()}finally{ma<=Qg&&IO(this),qi=1<<--ma,mr=this.parent,Mi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){mr===this?this.deferStop=!0:this.active&&(C_(this),this.onStop&&this.onStop(),this.active=!1)}}function C_(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Mi=!0;const bT=[];function vu(){bT.push(Mi),Mi=!1}function yu(){const e=bT.pop();Mi=e===void 0?!0:e}function Yn(e,t,n){if(Mi&&mr){let i=Yg.get(e);i||Yg.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=rv()),_T(o)}}function _T(e,t){let n=!1;ma<=Qg?wT(e)||(e.n|=qi,n=!yT(e)):n=!e.has(mr),n&&(e.add(mr),mr.deps.push(e))}function si(e,t,n,i,o,s){const a=Yg.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&Ie(e)){const f=nv(i);a.forEach((d,p)=>{(p==="length"||p>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":Ie(e)?tv(n)&&l.push(a.get("length")):(l.push(a.get(Oo)),Vs(e)&&l.push(a.get(Jg)));break;case"delete":Ie(e)||(l.push(a.get(Oo)),Vs(e)&&l.push(a.get(Jg)));break;case"set":Vs(e)&&l.push(a.get(Oo));break}if(l.length===1)l[0]&&Zg(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);Zg(rv(f))}}function Zg(e,t){const n=Ie(e)?e:[...e];for(const i of n)i.computed&&N_(i);for(const i of n)i.computed||N_(i)}function N_(e,t){(e!==mr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const TO=Jm("__proto__,__v_isRef,__isVue"),ET=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Oa)),SO=ov(),AO=ov(!1,!0),kO=ov(!0),R_=CO();function CO(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Ge(this);for(let s=0,a=this.length;s<a;s++)Yn(i,"get",s+"");const o=i[t](...n);return o===-1||o===!1?i[t](...n.map(Ge)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){vu();const i=Ge(this)[t].apply(this,n);return yu(),i}}),e}function ov(e=!1,t=!1){return function(i,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?HO:kT:t?AT:ST).get(i))return i;const a=Ie(i);if(!e&&a&&$e(R_,o))return Reflect.get(R_,o,s);const l=Reflect.get(i,o,s);return(Oa(o)?ET.has(o):TO(o))||(e||Yn(i,"get",o),t)?l:ct(l)?a&&tv(o)?l:l.value:ot(l)?e?CT(l):ai(l):l}}const NO=IT(),RO=IT(!0);function IT(e=!1){return function(n,i,o,s){let a=n[i];if(Hs(a)&&ct(a)&&!ct(o))return!1;if(!e&&(!ff(o)&&!Hs(o)&&(a=Ge(a),o=Ge(o)),!Ie(n)&&ct(a)&&!ct(o)))return a.value=o,!0;const l=Ie(n)&&tv(i)?Number(i)<n.length:$e(n,i),f=Reflect.set(n,i,o,s);return n===Ge(s)&&(l?Da(o,a)&&si(n,"set",i,o):si(n,"add",i,o)),f}}function xO(e,t){const n=$e(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&si(e,"delete",t,void 0),i}function OO(e,t){const n=Reflect.has(e,t);return(!Oa(t)||!ET.has(t))&&Yn(e,"has",t),n}function DO(e){return Yn(e,"iterate",Ie(e)?"length":Oo),Reflect.ownKeys(e)}const TT={get:SO,set:NO,deleteProperty:xO,has:OO,ownKeys:DO},PO={get:kO,set(e,t){return!0},deleteProperty(e,t){return!0}},LO=ln({},TT,{get:AO,set:RO}),sv=e=>e,Qf=e=>Reflect.getPrototypeOf(e);function Rl(e,t,n=!1,i=!1){e=e.__v_raw;const o=Ge(e),s=Ge(t);n||(t!==s&&Yn(o,"get",t),Yn(o,"get",s));const{has:a}=Qf(o),l=i?sv:n?cv:Pa;if(a.call(o,t))return l(e.get(t));if(a.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function xl(e,t=!1){const n=this.__v_raw,i=Ge(n),o=Ge(e);return t||(e!==o&&Yn(i,"has",e),Yn(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Ol(e,t=!1){return e=e.__v_raw,!t&&Yn(Ge(e),"iterate",Oo),Reflect.get(e,"size",e)}function x_(e){e=Ge(e);const t=Ge(this);return Qf(t).has.call(t,e)||(t.add(e),si(t,"add",e,e)),this}function O_(e,t){t=Ge(t);const n=Ge(this),{has:i,get:o}=Qf(n);let s=i.call(n,e);s||(e=Ge(e),s=i.call(n,e));const a=o.call(n,e);return n.set(e,t),s?Da(t,a)&&si(n,"set",e,t):si(n,"add",e,t),this}function D_(e){const t=Ge(this),{has:n,get:i}=Qf(t);let o=n.call(t,e);o||(e=Ge(e),o=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return o&&si(t,"delete",e,void 0),s}function P_(){const e=Ge(this),t=e.size!==0,n=e.clear();return t&&si(e,"clear",void 0,void 0),n}function Dl(e,t){return function(i,o){const s=this,a=s.__v_raw,l=Ge(a),f=t?sv:e?cv:Pa;return!e&&Yn(l,"iterate",Oo),a.forEach((d,p)=>i.call(o,f(d),f(p),s))}}function Pl(e,t,n){return function(...i){const o=this.__v_raw,s=Ge(o),a=Vs(s),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,d=o[e](...i),p=n?sv:t?cv:Pa;return!t&&Yn(s,"iterate",f?Jg:Oo),{next(){const{value:m,done:v}=d.next();return v?{value:m,done:v}:{value:l?[p(m[0]),p(m[1])]:p(m),done:v}},[Symbol.iterator](){return this}}}}function _i(e){return function(...t){return e==="delete"?!1:this}}function MO(){const e={get(s){return Rl(this,s)},get size(){return Ol(this)},has:xl,add:x_,set:O_,delete:D_,clear:P_,forEach:Dl(!1,!1)},t={get(s){return Rl(this,s,!1,!0)},get size(){return Ol(this)},has:xl,add:x_,set:O_,delete:D_,clear:P_,forEach:Dl(!1,!0)},n={get(s){return Rl(this,s,!0)},get size(){return Ol(this,!0)},has(s){return xl.call(this,s,!0)},add:_i("add"),set:_i("set"),delete:_i("delete"),clear:_i("clear"),forEach:Dl(!0,!1)},i={get(s){return Rl(this,s,!0,!0)},get size(){return Ol(this,!0)},has(s){return xl.call(this,s,!0)},add:_i("add"),set:_i("set"),delete:_i("delete"),clear:_i("clear"),forEach:Dl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Pl(s,!1,!1),n[s]=Pl(s,!0,!1),t[s]=Pl(s,!1,!0),i[s]=Pl(s,!0,!0)}),[e,n,t,i]}const[FO,UO,VO,jO]=MO();function uv(e,t){const n=t?e?jO:VO:e?UO:FO;return(i,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get($e(n,o)&&o in i?n:i,o,s)}const qO={get:uv(!1,!1)},BO={get:uv(!1,!0)},$O={get:uv(!0,!1)},ST=new WeakMap,AT=new WeakMap,kT=new WeakMap,HO=new WeakMap;function KO(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zO(e){return e.__v_skip||!Object.isExtensible(e)?0:KO(gO(e))}function ai(e){return Hs(e)?e:av(e,!1,TT,qO,ST)}function GO(e){return av(e,!1,LO,BO,AT)}function CT(e){return av(e,!0,PO,$O,kT)}function av(e,t,n,i,o){if(!ot(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=zO(e);if(a===0)return e;const l=new Proxy(e,a===2?i:n);return o.set(e,l),l}function Fi(e){return Hs(e)?Fi(e.__v_raw):!!(e&&e.__v_isReactive)}function Hs(e){return!!(e&&e.__v_isReadonly)}function ff(e){return!!(e&&e.__v_isShallow)}function NT(e){return Fi(e)||Hs(e)}function Ge(e){const t=e&&e.__v_raw;return t?Ge(t):e}function Vo(e){return lf(e,"__v_skip",!0),e}const Pa=e=>ot(e)?ai(e):e,cv=e=>ot(e)?CT(e):e;function RT(e){Mi&&mr&&(e=Ge(e),_T(e.dep||(e.dep=rv())))}function xT(e,t){e=Ge(e),e.dep&&Zg(e.dep)}function ct(e){return!!(e&&e.__v_isRef===!0)}function Dn(e){return OT(e,!1)}function WO(e){return OT(e,!0)}function OT(e,t){return ct(e)?e:new XO(e,t)}class XO{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ge(t),this._value=n?t:Pa(t)}get value(){return RT(this),this._value}set value(t){const n=this.__v_isShallow||ff(t)||Hs(t);t=n?t:Ge(t),Da(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Pa(t),xT(this))}}function fe(e){return ct(e)?e.value:e}const YO={get:(e,t,n)=>fe(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return ct(o)&&!ct(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function DT(e){return Fi(e)?e:new Proxy(e,YO)}function QO(e){const t=Ie(e)?new Array(e.length):{};for(const n in e)t[n]=Ur(e,n);return t}class JO{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Ur(e,t,n){const i=e[t];return ct(i)?i:new JO(e,t,n)}var PT;class ZO{constructor(t,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[PT]=!1,this._dirty=!0,this.effect=new iv(t,()=>{this._dirty||(this._dirty=!0,xT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=Ge(this);return RT(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}PT="__v_isReadonly";function eD(e,t,n=!1){let i,o;const s=Oe(e);return s?(i=e,o=yr):(i=e.get,o=e.set),new ZO(i,o,s||!o,n)}function Ui(e,t,n,i){let o;try{o=i?e(...i):e()}catch(s){Jf(s,t,n)}return o}function or(e,t,n,i){if(Oe(e)){const s=Ui(e,t,n,i);return s&&dT(s)&&s.catch(a=>{Jf(a,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(or(e[s],t,n,i));return o}function Jf(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,l=n;for(;s;){const d=s.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,a,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){Ui(f,null,10,[e,a,l]);return}}tD(e,n,o,i)}function tD(e,t,n,i=!0){console.error(e)}let La=!1,em=!1;const un=[];let Vr=0;const js=[];let Zr=null,Io=0;const LT=Promise.resolve();let lv=null;function Li(e){const t=lv||LT;return e?t.then(this?e.bind(this):e):t}function nD(e){let t=Vr+1,n=un.length;for(;t<n;){const i=t+n>>>1;Ma(un[i])<e?t=i+1:n=i}return t}function fv(e){(!un.length||!un.includes(e,La&&e.allowRecurse?Vr+1:Vr))&&(e.id==null?un.push(e):un.splice(nD(e.id),0,e),MT())}function MT(){!La&&!em&&(em=!0,lv=LT.then(UT))}function rD(e){const t=un.indexOf(e);t>Vr&&un.splice(t,1)}function iD(e){Ie(e)?js.push(...e):(!Zr||!Zr.includes(e,e.allowRecurse?Io+1:Io))&&js.push(e),MT()}function L_(e,t=La?Vr+1:0){for(;t<un.length;t++){const n=un[t];n&&n.pre&&(un.splice(t,1),t--,n())}}function FT(e){if(js.length){const t=[...new Set(js)];if(js.length=0,Zr){Zr.push(...t);return}for(Zr=t,Zr.sort((n,i)=>Ma(n)-Ma(i)),Io=0;Io<Zr.length;Io++)Zr[Io]();Zr=null,Io=0}}const Ma=e=>e.id==null?1/0:e.id,oD=(e,t)=>{const n=Ma(e)-Ma(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function UT(e){em=!1,La=!0,un.sort(oD);const t=yr;try{for(Vr=0;Vr<un.length;Vr++){const n=un[Vr];n&&n.active!==!1&&Ui(n,null,14)}}finally{Vr=0,un.length=0,FT(),La=!1,lv=null,(un.length||js.length)&&UT()}}function sD(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||ut;let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in i){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:m,trim:v}=i[p]||ut;v&&(o=n.map(b=>Pt(b)?b.trim():b)),m&&(o=n.map(nv))}let l,f=i[l=_g(t)]||i[l=_g(Hr(t))];!f&&s&&(f=i[l=_g(mu(t))]),f&&or(f,e,6,o);const d=i[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,or(d,e,6,o)}}function VT(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const s=e.emits;let a={},l=!1;if(!Oe(e)){const f=d=>{const p=VT(d,t,!0);p&&(l=!0,ln(a,p))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(ot(e)&&i.set(e,null),null):(Ie(s)?s.forEach(f=>a[f]=null):ln(a,s),ot(e)&&i.set(e,a),a)}function Zf(e,t){return!e||!Gf(t)?!1:(t=t.slice(2).replace(/Once$/,""),$e(e,t[0].toLowerCase()+t.slice(1))||$e(e,mu(t))||$e(e,t))}let zn=null,jT=null;function hf(e){const t=zn;return zn=e,jT=e&&e.type.__scopeId||null,t}function wr(e,t=zn,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&K_(-1);const s=hf(t);let a;try{a=e(...o)}finally{hf(s),i._d&&K_(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Eg(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[a],slots:l,attrs:f,emit:d,render:p,renderCache:m,data:v,setupState:b,ctx:_,inheritAttrs:I}=e;let N,R;const P=hf(e);try{if(n.shapeFlag&4){const L=o||i;N=Fr(p.call(L,L,m,s,b,v,_)),R=f}else{const L=t;N=Fr(L.length>1?L(s,{attrs:f,slots:l,emit:d}):L(s,null)),R=t.props?f:uD(f)}}catch(L){ba.length=0,Jf(L,e,1),N=Ee(br)}let C=N;if(R&&I!==!1){const L=Object.keys(R),{shapeFlag:B}=C;L.length&&B&7&&(a&&L.some(Zm)&&(R=aD(R,a)),C=Bi(C,R))}return n.dirs&&(C=Bi(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),N=C,hf(P),N}const uD=e=>{let t;for(const n in e)(n==="class"||n==="style"||Gf(n))&&((t||(t={}))[n]=e[n]);return t},aD=(e,t)=>{const n={};for(const i in e)(!Zm(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function cD(e,t,n){const{props:i,children:o,component:s}=e,{props:a,children:l,patchFlag:f}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?M_(i,a,d):!!a;if(f&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const v=p[m];if(a[v]!==i[v]&&!Zf(d,v))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?M_(i,a,d):!0:!!a;return!1}function M_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const s=i[o];if(t[s]!==e[s]&&!Zf(n,s))return!0}return!1}function lD({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const fD=e=>e.__isSuspense;function hD(e,t){t&&t.pendingBranch?Ie(e)?t.effects.push(...e):t.effects.push(e):iD(e)}function qs(e,t){if(Bt){let n=Bt.provides;const i=Bt.parent&&Bt.parent.provides;i===n&&(n=Bt.provides=Object.create(i)),n[e]=t}}function sr(e,t,n=!1){const i=Bt||zn;if(i){const o=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Oe(t)?t.call(i.proxy):t}}function dD(e,t){return hv(e,null,t)}const Ll={};function Yt(e,t,n){return hv(e,t,n)}function hv(e,t,{immediate:n,deep:i,flush:o,onTrack:s,onTrigger:a}=ut){const l=Bt;let f,d=!1,p=!1;if(ct(e)?(f=()=>e.value,d=ff(e)):Fi(e)?(f=()=>e,i=!0):Ie(e)?(p=!0,d=e.some(C=>Fi(C)||ff(C)),f=()=>e.map(C=>{if(ct(C))return C.value;if(Fi(C))return ko(C);if(Oe(C))return Ui(C,l,2)})):Oe(e)?t?f=()=>Ui(e,l,2):f=()=>{if(!(l&&l.isUnmounted))return m&&m(),or(e,l,3,[v])}:f=yr,t&&i){const C=f;f=()=>ko(C())}let m,v=C=>{m=R.onStop=()=>{Ui(C,l,4)}},b;if(Va)if(v=yr,t?n&&or(t,l,3,[f(),p?[]:void 0,v]):f(),o==="sync"){const C=iP();b=C.__watcherHandles||(C.__watcherHandles=[])}else return yr;let _=p?new Array(e.length).fill(Ll):Ll;const I=()=>{if(R.active)if(t){const C=R.run();(i||d||(p?C.some((L,B)=>Da(L,_[B])):Da(C,_)))&&(m&&m(),or(t,l,3,[C,_===Ll?void 0:p&&_[0]===Ll?[]:_,v]),_=C)}else R.run()};I.allowRecurse=!!t;let N;o==="sync"?N=I:o==="post"?N=()=>Nn(I,l&&l.suspense):(I.pre=!0,l&&(I.id=l.uid),N=()=>fv(I));const R=new iv(f,N);t?n?I():_=R.run():o==="post"?Nn(R.run.bind(R),l&&l.suspense):R.run();const P=()=>{R.stop(),l&&l.scope&&ev(l.scope.effects,R)};return b&&b.push(P),P}function pD(e,t,n){const i=this.proxy,o=Pt(e)?e.includes(".")?qT(i,e):()=>i[e]:e.bind(i,i);let s;Oe(t)?s=t:(s=t.handler,n=t);const a=Bt;zs(this);const l=hv(o,s.bind(i),n);return a?zs(a):Po(),l}function qT(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function ko(e,t){if(!ot(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ct(e))ko(e.value,t);else if(Ie(e))for(let n=0;n<e.length;n++)ko(e[n],t);else if(Wf(e)||Vs(e))e.forEach(n=>{ko(n,t)});else if(gT(e))for(const n in e)ko(e[n],t);return e}function gD(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return nh(()=>{e.isMounted=!0}),rh(()=>{e.isUnmounting=!0}),e}const nr=[Function,Array],mD={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:nr,onEnter:nr,onAfterEnter:nr,onEnterCancelled:nr,onBeforeLeave:nr,onLeave:nr,onAfterLeave:nr,onLeaveCancelled:nr,onBeforeAppear:nr,onAppear:nr,onAfterAppear:nr,onAppearCancelled:nr},setup(e,{slots:t}){const n=sh(),i=gD();let o;return()=>{const s=t.default&&$T(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const I of s)if(I.type!==br){a=I;break}}const l=Ge(e),{mode:f}=l;if(i.isLeaving)return Ig(a);const d=F_(a);if(!d)return Ig(a);const p=tm(d,l,i,n);nm(d,p);const m=n.subTree,v=m&&F_(m);let b=!1;const{getTransitionKey:_}=d.type;if(_){const I=_();o===void 0?o=I:I!==o&&(o=I,b=!0)}if(v&&v.type!==br&&(!To(d,v)||b)){const I=tm(v,l,i,n);if(nm(v,I),f==="out-in")return i.isLeaving=!0,I.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Ig(a);f==="in-out"&&d.type!==br&&(I.delayLeave=(N,R,P)=>{const C=BT(i,v);C[String(v.key)]=v,N._leaveCb=()=>{R(),N._leaveCb=void 0,delete p.delayedLeave},p.delayedLeave=P})}return a}}},vD=mD;function BT(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function tm(e,t,n,i){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:m,onLeave:v,onAfterLeave:b,onLeaveCancelled:_,onBeforeAppear:I,onAppear:N,onAfterAppear:R,onAppearCancelled:P}=t,C=String(e.key),L=BT(n,e),B=(D,ue)=>{D&&or(D,i,9,ue)},O=(D,ue)=>{const S=ue[1];B(D,ue),Ie(D)?D.every(ke=>ke.length<=1)&&S():D.length<=1&&S()},X={mode:s,persisted:a,beforeEnter(D){let ue=l;if(!n.isMounted)if(o)ue=I||l;else return;D._leaveCb&&D._leaveCb(!0);const S=L[C];S&&To(e,S)&&S.el._leaveCb&&S.el._leaveCb(),B(ue,[D])},enter(D){let ue=f,S=d,ke=p;if(!n.isMounted)if(o)ue=N||f,S=R||d,ke=P||p;else return;let De=!1;const We=D._enterCb=Xe=>{De||(De=!0,Xe?B(ke,[D]):B(S,[D]),X.delayedLeave&&X.delayedLeave(),D._enterCb=void 0)};ue?O(ue,[D,We]):We()},leave(D,ue){const S=String(e.key);if(D._enterCb&&D._enterCb(!0),n.isUnmounting)return ue();B(m,[D]);let ke=!1;const De=D._leaveCb=We=>{ke||(ke=!0,ue(),We?B(_,[D]):B(b,[D]),D._leaveCb=void 0,L[S]===e&&delete L[S])};L[S]=e,v?O(v,[D,De]):De()},clone(D){return tm(D,t,n,i)}};return X}function Ig(e){if(eh(e))return e=Bi(e),e.children=null,e}function F_(e){return eh(e)?e.children?e.children[0]:void 0:e}function nm(e,t){e.shapeFlag&6&&e.component?nm(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function $T(e,t=!1,n){let i=[],o=0;for(let s=0;s<e.length;s++){let a=e[s];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Nt?(a.patchFlag&128&&o++,i=i.concat($T(a.children,t,l))):(t||a.type!==br)&&i.push(l!=null?Bi(a,{key:l}):a)}if(o>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function wu(e){return Oe(e)?{setup:e,name:e.name}:e}const Zl=e=>!!e.type.__asyncLoader,eh=e=>e.type.__isKeepAlive;function yD(e,t){HT(e,"a",t)}function wD(e,t){HT(e,"da",t)}function HT(e,t,n=Bt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(th(t,i,n),n){let o=n.parent;for(;o&&o.parent;)eh(o.parent.vnode)&&bD(i,t,n,o),o=o.parent}}function bD(e,t,n,i){const o=th(t,e,i,!0);KT(()=>{ev(i[t],o)},n)}function th(e,t,n=Bt,i=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;vu(),zs(n);const l=or(t,n,e,a);return Po(),yu(),l});return i?o.unshift(s):o.push(s),s}}const ci=e=>(t,n=Bt)=>(!Va||e==="sp")&&th(e,(...i)=>t(...i),n),_D=ci("bm"),nh=ci("m"),ED=ci("bu"),ID=ci("u"),rh=ci("bum"),KT=ci("um"),TD=ci("sp"),SD=ci("rtg"),AD=ci("rtc");function kD(e,t=Bt){th("ec",e,t)}function rm(e,t){const n=zn;if(n===null)return e;const i=uh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,l,f,d=ut]=t[s];a&&(Oe(a)&&(a={mounted:a,updated:a}),a.deep&&ko(l),o.push({dir:a,instance:i,value:l,oldValue:void 0,arg:f,modifiers:d}))}return e}function yo(e,t,n,i){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let f=l.dir[i];f&&(vu(),or(f,n,8,[e.el,l,e,t]),yu())}}const dv="components";function It(e,t){return GT(dv,e,!0,t)||e}const zT=Symbol();function pv(e){return Pt(e)?GT(dv,e,!1)||e:e||zT}function GT(e,t,n=!0,i=!1){const o=zn||Bt;if(o){const s=o.type;if(e===dv){const l=tP(s,!1);if(l&&(l===t||l===Hr(t)||l===Yf(Hr(t))))return s}const a=U_(o[e]||s[e],t)||U_(o.appContext[e],t);return!a&&i?s:a}}function U_(e,t){return e&&(e[t]||e[Hr(t)]||e[Yf(Hr(t))])}function sc(e,t,n,i){let o;const s=n&&n[i];if(Ie(e)||Pt(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,s&&s[a])}else if(ot(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=t(e[d],d,l,s&&s[l])}}else o=[];return n&&(n[i]=o),o}const im=e=>e?sS(e)?uh(e)||e.proxy:im(e.parent):null,wa=ln(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>im(e.parent),$root:e=>im(e.root),$emit:e=>e.emit,$options:e=>gv(e),$forceUpdate:e=>e.f||(e.f=()=>fv(e.update)),$nextTick:e=>e.n||(e.n=Li.bind(e.proxy)),$watch:e=>pD.bind(e)}),Tg=(e,t)=>e!==ut&&!e.__isScriptSetup&&$e(e,t),CD={get({_:e},t){const{ctx:n,setupState:i,data:o,props:s,accessCache:a,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Tg(i,t))return a[t]=1,i[t];if(o!==ut&&$e(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&$e(d,t))return a[t]=3,s[t];if(n!==ut&&$e(n,t))return a[t]=4,n[t];om&&(a[t]=0)}}const p=wa[t];let m,v;if(p)return t==="$attrs"&&Yn(e,"get",t),p(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==ut&&$e(n,t))return a[t]=4,n[t];if(v=f.config.globalProperties,$e(v,t))return v[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;return Tg(o,t)?(o[t]=n,!0):i!==ut&&$e(i,t)?(i[t]=n,!0):$e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==ut&&$e(e,a)||Tg(t,a)||(l=s[0])&&$e(l,a)||$e(i,a)||$e(wa,a)||$e(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:$e(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let om=!0;function ND(e){const t=gv(e),n=e.proxy,i=e.ctx;om=!1,t.beforeCreate&&V_(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:l,provide:f,inject:d,created:p,beforeMount:m,mounted:v,beforeUpdate:b,updated:_,activated:I,deactivated:N,beforeDestroy:R,beforeUnmount:P,destroyed:C,unmounted:L,render:B,renderTracked:O,renderTriggered:X,errorCaptured:D,serverPrefetch:ue,expose:S,inheritAttrs:ke,components:De,directives:We,filters:Xe}=t;if(d&&RD(d,i,null,e.appContext.config.unwrapInjectedRef),a)for(const Ne in a){const we=a[Ne];Oe(we)&&(i[Ne]=we.bind(n))}if(o){const Ne=o.call(n,n);ot(Ne)&&(e.data=ai(Ne))}if(om=!0,s)for(const Ne in s){const we=s[Ne],Tt=Oe(we)?we.bind(n,n):Oe(we.get)?we.get.bind(n,n):yr,gt=!Oe(we)&&Oe(we.set)?we.set.bind(n):yr,mt=Ye({get:Tt,set:gt});Object.defineProperty(i,Ne,{enumerable:!0,configurable:!0,get:()=>mt.value,set:lt=>mt.value=lt})}if(l)for(const Ne in l)WT(l[Ne],i,n,Ne);if(f){const Ne=Oe(f)?f.call(n):f;Reflect.ownKeys(Ne).forEach(we=>{qs(we,Ne[we])})}p&&V_(p,e,"c");function Ce(Ne,we){Ie(we)?we.forEach(Tt=>Ne(Tt.bind(n))):we&&Ne(we.bind(n))}if(Ce(_D,m),Ce(nh,v),Ce(ED,b),Ce(ID,_),Ce(yD,I),Ce(wD,N),Ce(kD,D),Ce(AD,O),Ce(SD,X),Ce(rh,P),Ce(KT,L),Ce(TD,ue),Ie(S))if(S.length){const Ne=e.exposed||(e.exposed={});S.forEach(we=>{Object.defineProperty(Ne,we,{get:()=>n[we],set:Tt=>n[we]=Tt})})}else e.exposed||(e.exposed={});B&&e.render===yr&&(e.render=B),ke!=null&&(e.inheritAttrs=ke),De&&(e.components=De),We&&(e.directives=We)}function RD(e,t,n=yr,i=!1){Ie(e)&&(e=sm(e));for(const o in e){const s=e[o];let a;ot(s)?"default"in s?a=sr(s.from||o,s.default,!0):a=sr(s.from||o):a=sr(s),ct(a)&&i?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function V_(e,t,n){or(Ie(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function WT(e,t,n,i){const o=i.includes(".")?qT(n,i):()=>n[i];if(Pt(e)){const s=t[e];Oe(s)&&Yt(o,s)}else if(Oe(e))Yt(o,e.bind(n));else if(ot(e))if(Ie(e))e.forEach(s=>WT(s,t,n,i));else{const s=Oe(e.handler)?e.handler.bind(n):t[e.handler];Oe(s)&&Yt(o,s,e)}}function gv(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!i?f=t:(f={},o.length&&o.forEach(d=>df(f,d,a,!0)),df(f,t,a)),ot(t)&&s.set(t,f),f}function df(e,t,n,i=!1){const{mixins:o,extends:s}=t;s&&df(e,s,n,!0),o&&o.forEach(a=>df(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const l=xD[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const xD={data:j_,props:_o,emits:_o,methods:_o,computed:_o,beforeCreate:yn,created:yn,beforeMount:yn,mounted:yn,beforeUpdate:yn,updated:yn,beforeDestroy:yn,beforeUnmount:yn,destroyed:yn,unmounted:yn,activated:yn,deactivated:yn,errorCaptured:yn,serverPrefetch:yn,components:_o,directives:_o,watch:DD,provide:j_,inject:OD};function j_(e,t){return t?e?function(){return ln(Oe(e)?e.call(this,this):e,Oe(t)?t.call(this,this):t)}:t:e}function OD(e,t){return _o(sm(e),sm(t))}function sm(e){if(Ie(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function yn(e,t){return e?[...new Set([].concat(e,t))]:t}function _o(e,t){return e?ln(ln(Object.create(null),e),t):t}function DD(e,t){if(!e)return t;if(!t)return e;const n=ln(Object.create(null),e);for(const i in t)n[i]=yn(e[i],t[i]);return n}function PD(e,t,n,i=!1){const o={},s={};lf(s,oh,1),e.propsDefaults=Object.create(null),XT(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=i?o:GO(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function LD(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,l=Ge(o),[f]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let m=0;m<p.length;m++){let v=p[m];if(Zf(e.emitsOptions,v))continue;const b=t[v];if(f)if($e(s,v))b!==s[v]&&(s[v]=b,d=!0);else{const _=Hr(v);o[_]=um(f,l,_,b,e,!1)}else b!==s[v]&&(s[v]=b,d=!0)}}}else{XT(e,t,o,s)&&(d=!0);let p;for(const m in l)(!t||!$e(t,m)&&((p=mu(m))===m||!$e(t,p)))&&(f?n&&(n[m]!==void 0||n[p]!==void 0)&&(o[m]=um(f,l,m,void 0,e,!0)):delete o[m]);if(s!==l)for(const m in s)(!t||!$e(t,m))&&(delete s[m],d=!0)}d&&si(e,"set","$attrs")}function XT(e,t,n,i){const[o,s]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(Ql(f))continue;const d=t[f];let p;o&&$e(o,p=Hr(f))?!s||!s.includes(p)?n[p]=d:(l||(l={}))[p]=d:Zf(e.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(s){const f=Ge(n),d=l||ut;for(let p=0;p<s.length;p++){const m=s[p];n[m]=um(o,f,m,d[m],e,!$e(d,m))}}return a}function um(e,t,n,i,o,s){const a=e[n];if(a!=null){const l=$e(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&Oe(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(zs(o),i=d[n]=f.call(null,t),Po())}else i=f}a[0]&&(s&&!l?i=!1:a[1]&&(i===""||i===mu(n))&&(i=!0))}return i}function YT(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const s=e.props,a={},l=[];let f=!1;if(!Oe(e)){const p=m=>{f=!0;const[v,b]=YT(m,t,!0);ln(a,v),b&&l.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!s&&!f)return ot(e)&&i.set(e,Us),Us;if(Ie(s))for(let p=0;p<s.length;p++){const m=Hr(s[p]);q_(m)&&(a[m]=ut)}else if(s)for(const p in s){const m=Hr(p);if(q_(m)){const v=s[p],b=a[m]=Ie(v)||Oe(v)?{type:v}:Object.assign({},v);if(b){const _=H_(Boolean,b.type),I=H_(String,b.type);b[0]=_>-1,b[1]=I<0||_<I,(_>-1||$e(b,"default"))&&l.push(m)}}}const d=[a,l];return ot(e)&&i.set(e,d),d}function q_(e){return e[0]!=="$"}function B_(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function $_(e,t){return B_(e)===B_(t)}function H_(e,t){return Ie(t)?t.findIndex(n=>$_(n,e)):Oe(t)&&$_(t,e)?0:-1}const QT=e=>e[0]==="_"||e==="$stable",mv=e=>Ie(e)?e.map(Fr):[Fr(e)],MD=(e,t,n)=>{if(t._n)return t;const i=wr((...o)=>mv(t(...o)),n);return i._c=!1,i},JT=(e,t,n)=>{const i=e._ctx;for(const o in e){if(QT(o))continue;const s=e[o];if(Oe(s))t[o]=MD(o,s,i);else if(s!=null){const a=mv(s);t[o]=()=>a}}},ZT=(e,t)=>{const n=mv(t);e.slots.default=()=>n},FD=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ge(t),lf(t,"_",n)):JT(t,e.slots={})}else e.slots={},t&&ZT(e,t);lf(e.slots,oh,1)},UD=(e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,a=ut;if(i.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(ln(o,t),!n&&l===1&&delete o._):(s=!t.$stable,JT(t,o)),a=t}else t&&(ZT(e,t),a={default:1});if(s)for(const l in o)!QT(l)&&!(l in a)&&delete o[l]};function eS(){return{app:null,config:{isNativeTag:hO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let VD=0;function jD(e,t){return function(i,o=null){Oe(i)||(i=Object.assign({},i)),o!=null&&!ot(o)&&(o=null);const s=eS(),a=new Set;let l=!1;const f=s.app={_uid:VD++,_component:i,_props:o,_container:null,_context:s,_instance:null,version:oP,get config(){return s.config},set config(d){},use(d,...p){return a.has(d)||(d&&Oe(d.install)?(a.add(d),d.install(f,...p)):Oe(d)&&(a.add(d),d(f,...p))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,p){return p?(s.components[d]=p,f):s.components[d]},directive(d,p){return p?(s.directives[d]=p,f):s.directives[d]},mount(d,p,m){if(!l){const v=Ee(i,o);return v.appContext=s,p&&t?t(v,d):e(v,d,m),l=!0,f._container=d,d.__vue_app__=f,uh(v.component)||v.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,p){return s.provides[d]=p,f}};return f}}function am(e,t,n,i,o=!1){if(Ie(e)){e.forEach((v,b)=>am(v,t&&(Ie(t)?t[b]:t),n,i,o));return}if(Zl(i)&&!o)return;const s=i.shapeFlag&4?uh(i.component)||i.component.proxy:i.el,a=o?null:s,{i:l,r:f}=e,d=t&&t.r,p=l.refs===ut?l.refs={}:l.refs,m=l.setupState;if(d!=null&&d!==f&&(Pt(d)?(p[d]=null,$e(m,d)&&(m[d]=null)):ct(d)&&(d.value=null)),Oe(f))Ui(f,l,12,[a,p]);else{const v=Pt(f),b=ct(f);if(v||b){const _=()=>{if(e.f){const I=v?$e(m,f)?m[f]:p[f]:f.value;o?Ie(I)&&ev(I,s):Ie(I)?I.includes(s)||I.push(s):v?(p[f]=[s],$e(m,f)&&(m[f]=p[f])):(f.value=[s],e.k&&(p[e.k]=f.value))}else v?(p[f]=a,$e(m,f)&&(m[f]=a)):b&&(f.value=a,e.k&&(p[e.k]=a))};a?(_.id=-1,Nn(_,n)):_()}}}const Nn=hD;function qD(e){return BD(e)}function BD(e,t){const n=yO();n.__VUE__=!0;const{insert:i,remove:o,patchProp:s,createElement:a,createText:l,createComment:f,setText:d,setElementText:p,parentNode:m,nextSibling:v,setScopeId:b=yr,insertStaticContent:_}=e,I=(E,A,M,j=null,H=null,te=null,se=!1,ne=null,k=!!A.dynamicChildren)=>{if(E===A)return;E&&!To(E,A)&&(j=W(E),lt(E,H,te,!0),E=null),A.patchFlag===-2&&(k=!1,A.dynamicChildren=null);const{type:x,ref:Y,shapeFlag:Q}=A;switch(x){case ih:N(E,A,M,j);break;case br:R(E,A,M,j);break;case ef:E==null&&P(A,M,j,se);break;case Nt:De(E,A,M,j,H,te,se,ne,k);break;default:Q&1?B(E,A,M,j,H,te,se,ne,k):Q&6?We(E,A,M,j,H,te,se,ne,k):(Q&64||Q&128)&&x.process(E,A,M,j,H,te,se,ne,k,Pe)}Y!=null&&H&&am(Y,E&&E.ref,te,A||E,!A)},N=(E,A,M,j)=>{if(E==null)i(A.el=l(A.children),M,j);else{const H=A.el=E.el;A.children!==E.children&&d(H,A.children)}},R=(E,A,M,j)=>{E==null?i(A.el=f(A.children||""),M,j):A.el=E.el},P=(E,A,M,j)=>{[E.el,E.anchor]=_(E.children,A,M,j,E.el,E.anchor)},C=({el:E,anchor:A},M,j)=>{let H;for(;E&&E!==A;)H=v(E),i(E,M,j),E=H;i(A,M,j)},L=({el:E,anchor:A})=>{let M;for(;E&&E!==A;)M=v(E),o(E),E=M;o(A)},B=(E,A,M,j,H,te,se,ne,k)=>{se=se||A.type==="svg",E==null?O(A,M,j,H,te,se,ne,k):ue(E,A,H,te,se,ne,k)},O=(E,A,M,j,H,te,se,ne)=>{let k,x;const{type:Y,props:Q,shapeFlag:ie,transition:oe,dirs:le}=E;if(k=E.el=a(E.type,te,Q&&Q.is,Q),ie&8?p(k,E.children):ie&16&&D(E.children,k,null,j,H,te&&Y!=="foreignObject",se,ne),le&&yo(E,null,j,"created"),Q){for(const Re in Q)Re!=="value"&&!Ql(Re)&&s(k,Re,null,Q[Re],te,E.children,j,H,U);"value"in Q&&s(k,"value",null,Q.value),(x=Q.onVnodeBeforeMount)&&Lr(x,j,E)}X(k,E,E.scopeId,se,j),le&&yo(E,null,j,"beforeMount");const ae=(!H||H&&!H.pendingBranch)&&oe&&!oe.persisted;ae&&oe.beforeEnter(k),i(k,A,M),((x=Q&&Q.onVnodeMounted)||ae||le)&&Nn(()=>{x&&Lr(x,j,E),ae&&oe.enter(k),le&&yo(E,null,j,"mounted")},H)},X=(E,A,M,j,H)=>{if(M&&b(E,M),j)for(let te=0;te<j.length;te++)b(E,j[te]);if(H){let te=H.subTree;if(A===te){const se=H.vnode;X(E,se,se.scopeId,se.slotScopeIds,H.parent)}}},D=(E,A,M,j,H,te,se,ne,k=0)=>{for(let x=k;x<E.length;x++){const Y=E[x]=ne?ki(E[x]):Fr(E[x]);I(null,Y,A,M,j,H,te,se,ne)}},ue=(E,A,M,j,H,te,se)=>{const ne=A.el=E.el;let{patchFlag:k,dynamicChildren:x,dirs:Y}=A;k|=E.patchFlag&16;const Q=E.props||ut,ie=A.props||ut;let oe;M&&wo(M,!1),(oe=ie.onVnodeBeforeUpdate)&&Lr(oe,M,A,E),Y&&yo(A,E,M,"beforeUpdate"),M&&wo(M,!0);const le=H&&A.type!=="foreignObject";if(x?S(E.dynamicChildren,x,ne,M,j,le,te):se||we(E,A,ne,null,M,j,le,te,!1),k>0){if(k&16)ke(ne,A,Q,ie,M,j,H);else if(k&2&&Q.class!==ie.class&&s(ne,"class",null,ie.class,H),k&4&&s(ne,"style",Q.style,ie.style,H),k&8){const ae=A.dynamicProps;for(let Re=0;Re<ae.length;Re++){const Le=ae[Re],tn=Q[Le],pn=ie[Le];(pn!==tn||Le==="value")&&s(ne,Le,tn,pn,H,E.children,M,j,U)}}k&1&&E.children!==A.children&&p(ne,A.children)}else!se&&x==null&&ke(ne,A,Q,ie,M,j,H);((oe=ie.onVnodeUpdated)||Y)&&Nn(()=>{oe&&Lr(oe,M,A,E),Y&&yo(A,E,M,"updated")},j)},S=(E,A,M,j,H,te,se)=>{for(let ne=0;ne<A.length;ne++){const k=E[ne],x=A[ne],Y=k.el&&(k.type===Nt||!To(k,x)||k.shapeFlag&70)?m(k.el):M;I(k,x,Y,null,j,H,te,se,!0)}},ke=(E,A,M,j,H,te,se)=>{if(M!==j){if(M!==ut)for(const ne in M)!Ql(ne)&&!(ne in j)&&s(E,ne,M[ne],null,se,A.children,H,te,U);for(const ne in j){if(Ql(ne))continue;const k=j[ne],x=M[ne];k!==x&&ne!=="value"&&s(E,ne,x,k,se,A.children,H,te,U)}"value"in j&&s(E,"value",M.value,j.value)}},De=(E,A,M,j,H,te,se,ne,k)=>{const x=A.el=E?E.el:l(""),Y=A.anchor=E?E.anchor:l("");let{patchFlag:Q,dynamicChildren:ie,slotScopeIds:oe}=A;oe&&(ne=ne?ne.concat(oe):oe),E==null?(i(x,M,j),i(Y,M,j),D(A.children,M,Y,H,te,se,ne,k)):Q>0&&Q&64&&ie&&E.dynamicChildren?(S(E.dynamicChildren,ie,M,H,te,se,ne),(A.key!=null||H&&A===H.subTree)&&tS(E,A,!0)):we(E,A,M,Y,H,te,se,ne,k)},We=(E,A,M,j,H,te,se,ne,k)=>{A.slotScopeIds=ne,E==null?A.shapeFlag&512?H.ctx.activate(A,M,j,se,k):Xe(A,M,j,H,te,se,k):je(E,A,k)},Xe=(E,A,M,j,H,te,se)=>{const ne=E.component=YD(E,j,H);if(eh(E)&&(ne.ctx.renderer=Pe),QD(ne),ne.asyncDep){if(H&&H.registerDep(ne,Ce),!E.el){const k=ne.subTree=Ee(br);R(null,k,A,M)}return}Ce(ne,E,A,M,H,te,se)},je=(E,A,M)=>{const j=A.component=E.component;if(cD(E,A,M))if(j.asyncDep&&!j.asyncResolved){Ne(j,A,M);return}else j.next=A,rD(j.update),j.update();else A.el=E.el,j.vnode=A},Ce=(E,A,M,j,H,te,se)=>{const ne=()=>{if(E.isMounted){let{next:Y,bu:Q,u:ie,parent:oe,vnode:le}=E,ae=Y,Re;wo(E,!1),Y?(Y.el=le.el,Ne(E,Y,se)):Y=le,Q&&Jl(Q),(Re=Y.props&&Y.props.onVnodeBeforeUpdate)&&Lr(Re,oe,Y,le),wo(E,!0);const Le=Eg(E),tn=E.subTree;E.subTree=Le,I(tn,Le,m(tn.el),W(tn),E,H,te),Y.el=Le.el,ae===null&&lD(E,Le.el),ie&&Nn(ie,H),(Re=Y.props&&Y.props.onVnodeUpdated)&&Nn(()=>Lr(Re,oe,Y,le),H)}else{let Y;const{el:Q,props:ie}=A,{bm:oe,m:le,parent:ae}=E,Re=Zl(A);if(wo(E,!1),oe&&Jl(oe),!Re&&(Y=ie&&ie.onVnodeBeforeMount)&&Lr(Y,ae,A),wo(E,!0),Q&&_e){const Le=()=>{E.subTree=Eg(E),_e(Q,E.subTree,E,H,null)};Re?A.type.__asyncLoader().then(()=>!E.isUnmounted&&Le()):Le()}else{const Le=E.subTree=Eg(E);I(null,Le,M,j,E,H,te),A.el=Le.el}if(le&&Nn(le,H),!Re&&(Y=ie&&ie.onVnodeMounted)){const Le=A;Nn(()=>Lr(Y,ae,Le),H)}(A.shapeFlag&256||ae&&Zl(ae.vnode)&&ae.vnode.shapeFlag&256)&&E.a&&Nn(E.a,H),E.isMounted=!0,A=M=j=null}},k=E.effect=new iv(ne,()=>fv(x),E.scope),x=E.update=()=>k.run();x.id=E.uid,wo(E,!0),x()},Ne=(E,A,M)=>{A.component=E;const j=E.vnode.props;E.vnode=A,E.next=null,LD(E,A.props,j,M),UD(E,A.children,M),vu(),L_(),yu()},we=(E,A,M,j,H,te,se,ne,k=!1)=>{const x=E&&E.children,Y=E?E.shapeFlag:0,Q=A.children,{patchFlag:ie,shapeFlag:oe}=A;if(ie>0){if(ie&128){gt(x,Q,M,j,H,te,se,ne,k);return}else if(ie&256){Tt(x,Q,M,j,H,te,se,ne,k);return}}oe&8?(Y&16&&U(x,H,te),Q!==x&&p(M,Q)):Y&16?oe&16?gt(x,Q,M,j,H,te,se,ne,k):U(x,H,te,!0):(Y&8&&p(M,""),oe&16&&D(Q,M,j,H,te,se,ne,k))},Tt=(E,A,M,j,H,te,se,ne,k)=>{E=E||Us,A=A||Us;const x=E.length,Y=A.length,Q=Math.min(x,Y);let ie;for(ie=0;ie<Q;ie++){const oe=A[ie]=k?ki(A[ie]):Fr(A[ie]);I(E[ie],oe,M,null,H,te,se,ne,k)}x>Y?U(E,H,te,!0,!1,Q):D(A,M,j,H,te,se,ne,k,Q)},gt=(E,A,M,j,H,te,se,ne,k)=>{let x=0;const Y=A.length;let Q=E.length-1,ie=Y-1;for(;x<=Q&&x<=ie;){const oe=E[x],le=A[x]=k?ki(A[x]):Fr(A[x]);if(To(oe,le))I(oe,le,M,null,H,te,se,ne,k);else break;x++}for(;x<=Q&&x<=ie;){const oe=E[Q],le=A[ie]=k?ki(A[ie]):Fr(A[ie]);if(To(oe,le))I(oe,le,M,null,H,te,se,ne,k);else break;Q--,ie--}if(x>Q){if(x<=ie){const oe=ie+1,le=oe<Y?A[oe].el:j;for(;x<=ie;)I(null,A[x]=k?ki(A[x]):Fr(A[x]),M,le,H,te,se,ne,k),x++}}else if(x>ie)for(;x<=Q;)lt(E[x],H,te,!0),x++;else{const oe=x,le=x,ae=new Map;for(x=le;x<=ie;x++){const bt=A[x]=k?ki(A[x]):Fr(A[x]);bt.key!=null&&ae.set(bt.key,x)}let Re,Le=0;const tn=ie-le+1;let pn=!1,wt=0;const hi=new Array(tn);for(x=0;x<tn;x++)hi[x]=0;for(x=oe;x<=Q;x++){const bt=E[x];if(Le>=tn){lt(bt,H,te,!0);continue}let Un;if(bt.key!=null)Un=ae.get(bt.key);else for(Re=le;Re<=ie;Re++)if(hi[Re-le]===0&&To(bt,A[Re])){Un=Re;break}Un===void 0?lt(bt,H,te,!0):(hi[Un-le]=x+1,Un>=wt?wt=Un:pn=!0,I(bt,A[Un],M,null,H,te,se,ne,k),Le++)}const Ar=pn?$D(hi):Us;for(Re=Ar.length-1,x=tn-1;x>=0;x--){const bt=le+x,Un=A[bt],Kt=bt+1<Y?A[bt+1].el:j;hi[x]===0?I(null,Un,M,Kt,H,te,se,ne,k):pn&&(Re<0||x!==Ar[Re]?mt(Un,M,Kt,2):Re--)}}},mt=(E,A,M,j,H=null)=>{const{el:te,type:se,transition:ne,children:k,shapeFlag:x}=E;if(x&6){mt(E.component.subTree,A,M,j);return}if(x&128){E.suspense.move(A,M,j);return}if(x&64){se.move(E,A,M,Pe);return}if(se===Nt){i(te,A,M);for(let Q=0;Q<k.length;Q++)mt(k[Q],A,M,j);i(E.anchor,A,M);return}if(se===ef){C(E,A,M);return}if(j!==2&&x&1&&ne)if(j===0)ne.beforeEnter(te),i(te,A,M),Nn(()=>ne.enter(te),H);else{const{leave:Q,delayLeave:ie,afterLeave:oe}=ne,le=()=>i(te,A,M),ae=()=>{Q(te,()=>{le(),oe&&oe()})};ie?ie(te,le,ae):ae()}else i(te,A,M)},lt=(E,A,M,j=!1,H=!1)=>{const{type:te,props:se,ref:ne,children:k,dynamicChildren:x,shapeFlag:Y,patchFlag:Q,dirs:ie}=E;if(ne!=null&&am(ne,null,M,E,!0),Y&256){A.ctx.deactivate(E);return}const oe=Y&1&&ie,le=!Zl(E);let ae;if(le&&(ae=se&&se.onVnodeBeforeUnmount)&&Lr(ae,A,E),Y&6)z(E.component,M,j);else{if(Y&128){E.suspense.unmount(M,j);return}oe&&yo(E,null,A,"beforeUnmount"),Y&64?E.type.remove(E,A,M,H,Pe,j):x&&(te!==Nt||Q>0&&Q&64)?U(x,A,M,!1,!0):(te===Nt&&Q&384||!H&&Y&16)&&U(k,A,M),j&&dn(E)}(le&&(ae=se&&se.onVnodeUnmounted)||oe)&&Nn(()=>{ae&&Lr(ae,A,E),oe&&yo(E,null,A,"unmounted")},M)},dn=E=>{const{type:A,el:M,anchor:j,transition:H}=E;if(A===Nt){en(M,j);return}if(A===ef){L(E);return}const te=()=>{o(M),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(E.shapeFlag&1&&H&&!H.persisted){const{leave:se,delayLeave:ne}=H,k=()=>se(M,te);ne?ne(E.el,te,k):k()}else te()},en=(E,A)=>{let M;for(;E!==A;)M=v(E),o(E),E=M;o(A)},z=(E,A,M)=>{const{bum:j,scope:H,update:te,subTree:se,um:ne}=E;j&&Jl(j),H.stop(),te&&(te.active=!1,lt(se,E,A,M)),ne&&Nn(ne,A),Nn(()=>{E.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},U=(E,A,M,j=!1,H=!1,te=0)=>{for(let se=te;se<E.length;se++)lt(E[se],A,M,j,H)},W=E=>E.shapeFlag&6?W(E.component.subTree):E.shapeFlag&128?E.suspense.next():v(E.anchor||E.el),Z=(E,A,M)=>{E==null?A._vnode&&lt(A._vnode,null,null,!0):I(A._vnode||null,E,A,null,null,null,M),L_(),FT(),A._vnode=E},Pe={p:I,um:lt,m:mt,r:dn,mt:Xe,mc:D,pc:we,pbc:S,n:W,o:e};let Be,_e;return t&&([Be,_e]=t(Pe)),{render:Z,hydrate:Be,createApp:jD(Z,Be)}}function wo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function tS(e,t,n=!1){const i=e.children,o=t.children;if(Ie(i)&&Ie(o))for(let s=0;s<i.length;s++){const a=i[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=ki(o[s]),l.el=a.el),n||tS(a,l)),l.type===ih&&(l.el=a.el)}}function $D(e){const t=e.slice(),n=[0];let i,o,s,a,l;const f=e.length;for(i=0;i<f;i++){const d=e[i];if(d!==0){if(o=n[n.length-1],e[o]<d){t[i]=o,n.push(i);continue}for(s=0,a=n.length-1;s<a;)l=s+a>>1,e[n[l]]<d?s=l+1:a=l;d<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const HD=e=>e.__isTeleport,Nt=Symbol(void 0),ih=Symbol(void 0),br=Symbol(void 0),ef=Symbol(void 0),ba=[];let vr=null;function ze(e=!1){ba.push(vr=e?null:[])}function KD(){ba.pop(),vr=ba[ba.length-1]||null}let Fa=1;function K_(e){Fa+=e}function nS(e){return e.dynamicChildren=Fa>0?vr||Us:null,KD(),Fa>0&&vr&&vr.push(e),e}function rt(e,t,n,i,o,s){return nS(q(e,t,n,i,o,s,!0))}function Ks(e,t,n,i,o){return nS(Ee(e,t,n,i,o,!0))}function cm(e){return e?e.__v_isVNode===!0:!1}function To(e,t){return e.type===t.type&&e.key===t.key}const oh="__vInternal",rS=({key:e})=>e??null,tf=({ref:e,ref_key:t,ref_for:n})=>e!=null?Pt(e)||ct(e)||Oe(e)?{i:zn,r:e,k:t,f:!!n}:e:null;function q(e,t=null,n=null,i=0,o=null,s=e===Nt?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&rS(t),ref:t&&tf(t),scopeId:jT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:zn};return l?(vv(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Pt(n)?8:16),Fa>0&&!a&&vr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&vr.push(f),f}const Ee=zD;function zD(e,t=null,n=null,i=0,o=null,s=!1){if((!e||e===zT)&&(e=br),cm(e)){const l=Bi(e,t,!0);return n&&vv(l,n),Fa>0&&!s&&vr&&(l.shapeFlag&6?vr[vr.indexOf(e)]=l:vr.push(l)),l.patchFlag|=-2,l}if(nP(e)&&(e=e.__vccOpts),t){t=GD(t);let{class:l,style:f}=t;l&&!Pt(l)&&(t.class=xn(l)),ot(f)&&(NT(f)&&!Ie(f)&&(f=ln({},f)),t.style=Kf(f))}const a=Pt(e)?1:fD(e)?128:HD(e)?64:ot(e)?4:Oe(e)?2:0;return q(e,t,n,i,o,a,s,!0)}function GD(e){return e?NT(e)||oh in e?ln({},e):e:null}function Bi(e,t,n=!1){const{props:i,ref:o,patchFlag:s,children:a}=e,l=t?oS(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&rS(l),ref:t&&t.ref?n&&o?Ie(o)?o.concat(tf(t)):[o,tf(t)]:tf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Nt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Bi(e.ssContent),ssFallback:e.ssFallback&&Bi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function Do(e=" ",t=0){return Ee(ih,null,e,t)}function iS(e,t){const n=Ee(ef,null,e);return n.staticCount=t,n}function Ua(e="",t=!1){return t?(ze(),Ks(br,null,e)):Ee(br,null,e)}function Fr(e){return e==null||typeof e=="boolean"?Ee(br):Ie(e)?Ee(Nt,null,e.slice()):typeof e=="object"?ki(e):Ee(ih,null,String(e))}function ki(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Bi(e)}function vv(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ie(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),vv(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(oh in t)?t._ctx=zn:o===3&&zn&&(zn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Oe(t)?(t={default:t,_ctx:zn},n=32):(t=String(t),i&64?(n=16,t=[Do(t)]):n=8);e.children=t,e.shapeFlag|=n}function oS(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=xn([t.class,i.class]));else if(o==="style")t.style=Kf([t.style,i.style]);else if(Gf(o)){const s=t[o],a=i[o];a&&s!==a&&!(Ie(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=i[o])}return t}function Lr(e,t,n,i=null){or(e,t,7,[n,i])}const WD=eS();let XD=0;function YD(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||WD,s={uid:XD++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new mT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:YT(i,o),emitsOptions:VT(i,o),emit:null,emitted:null,propsDefaults:ut,inheritAttrs:i.inheritAttrs,ctx:ut,data:ut,props:ut,attrs:ut,slots:ut,refs:ut,setupState:ut,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=sD.bind(null,s),e.ce&&e.ce(s),s}let Bt=null;const sh=()=>Bt||zn,zs=e=>{Bt=e,e.scope.on()},Po=()=>{Bt&&Bt.scope.off(),Bt=null};function sS(e){return e.vnode.shapeFlag&4}let Va=!1;function QD(e,t=!1){Va=t;const{props:n,children:i}=e.vnode,o=sS(e);PD(e,n,o,t),FD(e,i);const s=o?JD(e,t):void 0;return Va=!1,s}function JD(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Vo(new Proxy(e.ctx,CD));const{setup:i}=n;if(i){const o=e.setupContext=i.length>1?eP(e):null;zs(e),vu();const s=Ui(i,e,0,[e.props,o]);if(yu(),Po(),dT(s)){if(s.then(Po,Po),t)return s.then(a=>{z_(e,a,t)}).catch(a=>{Jf(a,e,0)});e.asyncDep=s}else z_(e,s,t)}else uS(e,t)}function z_(e,t,n){Oe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ot(t)&&(e.setupState=DT(t)),uS(e,n)}let G_;function uS(e,t,n){const i=e.type;if(!e.render){if(!t&&G_&&!i.render){const o=i.template||gv(e).template;if(o){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=i,d=ln(ln({isCustomElement:s,delimiters:l},a),f);i.render=G_(o,d)}}e.render=i.render||yr}zs(e),vu(),ND(e),yu(),Po()}function ZD(e){return new Proxy(e.attrs,{get(t,n){return Yn(e,"get","$attrs"),t[n]}})}function eP(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=ZD(e))},slots:e.slots,emit:e.emit,expose:t}}function uh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(DT(Vo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in wa)return wa[n](e)},has(t,n){return n in t||n in wa}}))}function tP(e,t=!0){return Oe(e)?e.displayName||e.name:e.name||t&&e.__name}function nP(e){return Oe(e)&&"__vccOpts"in e}const Ye=(e,t)=>eD(e,t,Va);function Gs(e,t,n){const i=arguments.length;return i===2?ot(t)&&!Ie(t)?cm(t)?Ee(e,null,[t]):Ee(e,t):Ee(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&cm(n)&&(n=[n]),Ee(e,t,n))}const rP=Symbol(""),iP=()=>sr(rP),oP="3.2.45",sP="http://www.w3.org/2000/svg",So=typeof document<"u"?document:null,W_=So&&So.createElement("template"),uP={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t?So.createElementNS(sP,e):So.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>So.createTextNode(e),createComment:e=>So.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>So.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,s){const a=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{W_.innerHTML=i?`<svg>${e}</svg>`:e;const l=W_.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function aP(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function cP(e,t,n){const i=e.style,o=Pt(n);if(n&&!o){for(const s in n)lm(i,s,n[s]);if(t&&!Pt(t))for(const s in t)n[s]==null&&lm(i,s,"")}else{const s=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=s)}}const X_=/\s*!important$/;function lm(e,t,n){if(Ie(n))n.forEach(i=>lm(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=lP(e,t);X_.test(n)?e.setProperty(mu(i),n.replace(X_,""),"important"):e[i]=n}}const Y_=["Webkit","Moz","ms"],Sg={};function lP(e,t){const n=Sg[t];if(n)return n;let i=Hr(t);if(i!=="filter"&&i in e)return Sg[t]=i;i=Yf(i);for(let o=0;o<Y_.length;o++){const s=Y_[o]+i;if(s in e)return Sg[t]=s}return t}const Q_="http://www.w3.org/1999/xlink";function fP(e,t,n,i,o){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Q_,t.slice(6,t.length)):e.setAttributeNS(Q_,t,n);else{const s=cO(t);n==null||s&&!fT(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function hP(e,t,n,i,o,s,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,o,s),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const f=n??"";(e.value!==f||e.tagName==="OPTION")&&(e.value=f),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=fT(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function aS(e,t,n,i){e.addEventListener(t,n,i)}function dP(e,t,n,i){e.removeEventListener(t,n,i)}function pP(e,t,n,i,o=null){const s=e._vei||(e._vei={}),a=s[t];if(i&&a)a.value=i;else{const[l,f]=gP(t);if(i){const d=s[t]=yP(i,o);aS(e,l,d,f)}else a&&(dP(e,l,a,f),s[t]=void 0)}}const J_=/(?:Once|Passive|Capture)$/;function gP(e){let t;if(J_.test(e)){t={};let i;for(;i=e.match(J_);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):mu(e.slice(2)),t]}let Ag=0;const mP=Promise.resolve(),vP=()=>Ag||(mP.then(()=>Ag=0),Ag=Date.now());function yP(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;or(wP(i,n.value),t,5,[i])};return n.value=e,n.attached=vP(),n}function wP(e,t){if(Ie(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const Z_=/^on[a-z]/,bP=(e,t,n,i,o=!1,s,a,l,f)=>{t==="class"?aP(e,i,o):t==="style"?cP(e,n,i):Gf(t)?Zm(t)||pP(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):_P(e,t,i,o))?hP(e,t,i,s,a,l,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),fP(e,t,i,o))};function _P(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&Z_.test(t)&&Oe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Z_.test(t)&&Pt(n)?!1:t in e}const EP={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};vD.props;const eE=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ie(t)?n=>Jl(t,n):t},IP={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const o=Wf(t);aS(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?nv(pf(a)):pf(a));e._assign(e.multiple?o?new Set(s):s:s[0])}),e._assign=eE(i)},mounted(e,{value:t}){tE(e,t)},beforeUpdate(e,t,n){e._assign=eE(n)},updated(e,{value:t}){tE(e,t)}};function tE(e,t){const n=e.multiple;if(!(n&&!Ie(t)&&!Wf(t))){for(let i=0,o=e.options.length;i<o;i++){const s=e.options[i],a=pf(s);if(n)Ie(t)?s.selected=fO(t,a)>-1:s.selected=t.has(a);else if(zf(pf(s),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function pf(e){return"_value"in e?e._value:e.value}const TP=["ctrl","shift","alt","meta"],SP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>TP.some(n=>e[`${n}Key`]&&!t.includes(n))},Rn=(e,t)=>(n,...i)=>{for(let o=0;o<t.length;o++){const s=SP[t[o]];if(s&&s(n,t))return}return e(n,...i)},nE={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ha(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),ha(e,!0),i.enter(e)):i.leave(e,()=>{ha(e,!1)}):ha(e,t))},beforeUnmount(e,{value:t}){ha(e,t)}};function ha(e,t){e.style.display=t?e._vod:"none"}const AP=ln({patchProp:bP},uP);let rE;function kP(){return rE||(rE=qD(AP))}const CP=(...e)=>{const t=kP().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=NP(i);if(!o)return;const s=t._component;!Oe(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function NP(e){return Pt(e)?document.querySelector(e):e}var RP=!1;/*!
  * pinia v2.0.30
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let cS;const ah=e=>cS=e,lS=Symbol();function fm(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var _a;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(_a||(_a={}));function xP(){const e=vT(!0),t=e.run(()=>Dn({}));let n=[],i=[];const o=Vo({install(s){ah(o),o._a=s,s.provide(lS,o),s.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(s){return!this._a&&!RP?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const fS=()=>{};function iE(e,t,n,i=fS){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&bO()&&_O(o),o}function As(e,...t){e.slice().forEach(n=>{n(...t)})}function hm(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];fm(o)&&fm(i)&&e.hasOwnProperty(n)&&!ct(i)&&!Fi(i)?e[n]=hm(o,i):e[n]=i}return e}const OP=Symbol();function DP(e){return!fm(e)||!e.hasOwnProperty(OP)}const{assign:Ci}=Object;function PP(e){return!!(ct(e)&&e.effect)}function LP(e,t,n,i){const{state:o,actions:s,getters:a}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const p=QO(n.state.value[e]);return Ci(p,s,Object.keys(a||{}).reduce((m,v)=>(m[v]=Vo(Ye(()=>{ah(n);const b=n._s.get(e);return a[v].call(b,b)})),m),{}))}return f=hS(e,d,t,n,i,!0),f.$reset=function(){const m=o?o():{};this.$patch(v=>{Ci(v,m)})},f}function hS(e,t,n={},i,o,s){let a;const l=Ci({actions:{}},n),f={deep:!0};let d,p,m=Vo([]),v=Vo([]),b;const _=i.state.value[e];!s&&!_&&(i.state.value[e]={}),Dn({});let I;function N(X){let D;d=p=!1,typeof X=="function"?(X(i.state.value[e]),D={type:_a.patchFunction,storeId:e,events:b}):(hm(i.state.value[e],X),D={type:_a.patchObject,payload:X,storeId:e,events:b});const ue=I=Symbol();Li().then(()=>{I===ue&&(d=!0)}),p=!0,As(m,D,i.state.value[e])}const R=fS;function P(){a.stop(),m=[],v=[],i._s.delete(e)}function C(X,D){return function(){ah(i);const ue=Array.from(arguments),S=[],ke=[];function De(je){S.push(je)}function We(je){ke.push(je)}As(v,{args:ue,name:X,store:B,after:De,onError:We});let Xe;try{Xe=D.apply(this&&this.$id===e?this:B,ue)}catch(je){throw As(ke,je),je}return Xe instanceof Promise?Xe.then(je=>(As(S,je),je)).catch(je=>(As(ke,je),Promise.reject(je))):(As(S,Xe),Xe)}}const L={_p:i,$id:e,$onAction:iE.bind(null,v),$patch:N,$reset:R,$subscribe(X,D={}){const ue=iE(m,X,D.detached,()=>S()),S=a.run(()=>Yt(()=>i.state.value[e],ke=>{(D.flush==="sync"?p:d)&&X({storeId:e,type:_a.direct,events:b},ke)},Ci({},f,D)));return ue},$dispose:P},B=ai(L);i._s.set(e,B);const O=i._e.run(()=>(a=vT(),a.run(()=>t())));for(const X in O){const D=O[X];if(ct(D)&&!PP(D)||Fi(D))s||(_&&DP(D)&&(ct(D)?D.value=_[X]:hm(D,_[X])),i.state.value[e][X]=D);else if(typeof D=="function"){const ue=C(X,D);O[X]=ue,l.actions[X]=D}}return Ci(B,O),Ci(Ge(B),O),Object.defineProperty(B,"$state",{get:()=>i.state.value[e],set:X=>{N(D=>{Ci(D,X)})}}),i._p.forEach(X=>{Ci(B,a.run(()=>X({store:B,app:i._a,pinia:i,options:l})))}),_&&s&&n.hydrate&&n.hydrate(B.$state,_),d=!0,p=!0,B}function dS(e,t,n){let i,o;const s=typeof t=="function";typeof e=="string"?(i=e,o=s?n:t):(o=e,i=e.id);function a(l,f){const d=sh();return l=l||d&&sr(lS,null),l&&ah(l),l=cS,l._s.has(i)||(s?hS(i,t,o,l):LP(i,o,l)),l._s.get(i)}return a.$id=i,a}let MP="Store";function FP(...e){return e.reduce((t,n)=>(t[n.$id+MP]=function(){return n(this.$pinia)},t),{})}function pS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(){return e(this.$pinia)[i]},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(){const o=e(this.$pinia),s=t[i];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function gS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[i](...o)},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[t[i]](...o)},n),{})}function mS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[i]},set(o){return e(this.$pinia)[i]=o}},n),{}):Object.keys(t).reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[t[i]]},set(o){return e(this.$pinia)[t[i]]=o}},n),{})}const dm=dS("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var pm=function(e,t){return pm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},pm(e,t)};function ye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ws=function(){return Ws=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ws.apply(this,arguments)};function K(e,t,n,i){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{d(i.next(p))}catch(m){a(m)}}function f(p){try{d(i.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):o(p.value).then(l,f)}d((i=i.apply(e,t||[])).next())})}function $(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(p){return f([d,p])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],o=0}finally{i=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function kg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ml(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function dt(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,s;i<o;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vS=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},UP=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[i++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},VP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var s=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,p=s>>2,m=(s&3)<<4|l>>4,v=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(v=64)),i.push(n[p],n[m],n[v],n[b])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vS(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):UP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var s=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var p=o<e.length,m=p?n[e.charAt(o)]:64;if(++o,s==null||l==null||d==null||m==null)throw Error();var v=s<<2|l>>4;if(i.push(v),d!==64){var b=l<<4&240|d>>2;if(i.push(b),m!==64){var _=d<<6&192|m;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},jP=function(e){var t=vS(e);return VP.encodeByteArray(t,!0)},oE=function(e){return jP(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(e){return ja(void 0,e)}function ja(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!BP(i)||(e[i]=ja(e[i],t[i]));return e}function BP(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $P=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Ws({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[oE(JSON.stringify(n)),oE(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jo())}function wS(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KP(){return typeof self=="object"&&self.self===self}function zP(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function GP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WP(){return jo().indexOf("Electron/")>=0}function XP(){var e=jo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function YP(){return jo().indexOf("MSAppHost/")>=0}function QP(){return!wS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JP="FirebaseError",bS=function(e){ye(t,e);function t(n,i,o){var s=e.call(this,i)||this;return s.code=n,s.customData=o,s.name=JP,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,yv.prototype.create),s}return t}(Error),yv=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?ZP(a,o):"Error",f=this.serviceName+": "+l+" ("+s+").",d=new bS(s,f,o);return d},e}();function ZP(e,t){return e.replace(eL,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var eL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tL(e,t){var n=new nL(e,t);return n.subscribe.bind(n)}var nL=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");rL(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Cg),s.error===void 0&&(s.error=Cg),s.complete===void 0&&(s.complete=Cg);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function rL(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(e){return e&&e._delegate?e._delegate:e}var uc=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new $P;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(sL(t))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}try{for(var o=kg(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var a=Ml(s.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:d});f.resolve(p)}catch{}}}catch(m){n={error:m}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Eo),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return K(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(dt(dt([],Ml(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),Ml(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Eo),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Eo),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var f=kg(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var p=Ml(d.value,2),m=p[0],v=p[1],b=this.normalizeInstanceIdentifier(m);a===b&&v.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(o,s);var a=this.instances.get(o);return a&&t(a,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,s=this.onInitCallbacks.get(n);if(s)try{for(var a=kg(s),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:oL(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Eo),this.component?this.component.multipleInstances?t:Eo:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function oL(e){return e===Eo?void 0:e}function sL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new iL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function gr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)i[o]=s[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bo,wv=[],Ke;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ke||(Ke={}));var _S={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},aL=Ke.INFO,cL=(bo={},bo[Ke.DEBUG]="log",bo[Ke.VERBOSE]="log",bo[Ke.INFO]="info",bo[Ke.WARN]="warn",bo[Ke.ERROR]="error",bo),lL=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=cL[t];if(s)console[s].apply(console,gr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},ES=function(){function e(t){this.name=t,this._logLevel=aL,this._logHandler=lL,this._userLogHandler=null,wv.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Ke))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?_S[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,Ke.DEBUG],t)),this._logHandler.apply(this,gr([this,Ke.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,Ke.VERBOSE],t)),this._logHandler.apply(this,gr([this,Ke.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,Ke.INFO],t)),this._logHandler.apply(this,gr([this,Ke.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,Ke.WARN],t)),this._logHandler.apply(this,gr([this,Ke.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,gr([this,Ke.ERROR],t)),this._logHandler.apply(this,gr([this,Ke.ERROR],t))},e}();function fL(e){wv.forEach(function(t){t.setLogLevel(e)})}function hL(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=_S[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var p=[],m=2;m<arguments.length;m++)p[m-2]=arguments[m];var v=p.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&e({level:Ke[d].toLowerCase(),message:v,args:p,type:f.name})}},i=0,o=wv;i<o.length;i++){var s=o[i];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ei,dL=(Ei={},Ei["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ei["bad-app-name"]="Illegal App name: '{$appName}",Ei["duplicate-app"]="Firebase App named '{$appName}' already exists",Ei["app-deleted"]="Firebase App named '{$appName}' already deleted",Ei["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ei["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ei),Os=new yv("app","Firebase",dL),IS="@firebase/app",pL="0.6.30",gL="@firebase/analytics",mL="@firebase/app-check",vL="@firebase/auth",yL="@firebase/database",wL="@firebase/functions",bL="@firebase/installations",_L="@firebase/messaging",EL="@firebase/performance",IL="@firebase/remote-config",TL="@firebase/storage",SL="@firebase/firestore",AL="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,gf="[DEFAULT]",kL=(nn={},nn[IS]="fire-core",nn[gL]="fire-analytics",nn[mL]="fire-app-check",nn[vL]="fire-auth",nn[yL]="fire-rtdb",nn[wL]="fire-fn",nn[bL]="fire-iid",nn[_L]="fire-fcm",nn[EL]="fire-perf",nn[IL]="fire-rc",nn[TL]="fire-gcs",nn[SL]="fire-fst",nn["fire-js"]="fire-js",nn[AL]="fire-js-all",nn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xs=new ES("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nf=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=qP(t),this.container=new uL(n.name),this._addComponent(new uc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=gf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=gf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Xs.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Os.create("app-deleted",{appName:this.name_})},e}();nf.prototype.name&&nf.prototype.options||nf.prototype.delete||console.log("dc");var CL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(e){var t={},n=new Map,i={__esModule:!0,initializeApp:a,app:s,registerVersion:d,setLogLevel:fL,onLog:p,apps:null,SDK_VERSION:CL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:m}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(v){delete t[v]}function s(v){if(v=v||gf,!sE(t,v))throw Os.create("no-app",{appName:v});return t[v]}s.App=e;function a(v,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var _=b;b={name:_}}var I=b;I.name===void 0&&(I.name=gf);var N=I.name;if(typeof N!="string"||!N)throw Os.create("bad-app-name",{appName:String(N)});if(sE(t,N))throw Os.create("duplicate-app",{appName:N});var R=new e(v,I,i);return t[N]=R,R}function l(){return Object.keys(t).map(function(v){return t[v]})}function f(v){var b=v.name;if(n.has(b))return Xs.debug("There were multiple attempts to register component "+b+"."),v.type==="PUBLIC"?i[b]:null;if(n.set(b,v),v.type==="PUBLIC"){var _=function(P){if(P===void 0&&(P=s()),typeof P[b]!="function")throw Os.create("invalid-app-argument",{appName:b});return P[b]()};v.serviceProps!==void 0&&ja(_,v.serviceProps),i[b]=_,e.prototype[b]=function(){for(var P=[],C=0;C<arguments.length;C++)P[C]=arguments[C];var L=this._getService.bind(this,b);return L.apply(this,v.multipleInstances?P:[])}}for(var I=0,N=Object.keys(t);I<N.length;I++){var R=N[I];t[R]._addComponent(v)}return v.type==="PUBLIC"?i[b]:null}function d(v,b,_){var I,N=(I=kL[v])!==null&&I!==void 0?I:v;_&&(N+="-"+_);var R=N.match(/\s|\//),P=b.match(/\s|\//);if(R||P){var C=['Unable to register library "'+N+'" with version "'+b+'":'];R&&C.push('library name "'+N+'" contains illegal characters (whitespace or "/")'),R&&P&&C.push("and"),P&&C.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),Xs.warn(C.join(" "));return}f(new uc(N+"-version",function(){return{library:N,version:b}},"VERSION"))}function p(v,b){if(v!==null&&typeof v!="function")throw Os.create("invalid-log-argument");hL(v,b)}function m(v,b){if(b==="serverAuth")return null;var _=b;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){var e=NL(nf);e.INTERNAL=Ws(Ws({},e.INTERNAL),{createFirebaseNamespace:TS,extendNamespace:t,createSubscribe:tL,ErrorFactory:yv,deepExtend:ja});function t(n){ja(e,n)}return e}var bv=TS();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RL=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(xL(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function xL(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(e,t){e.INTERNAL.registerComponent(new uc("platform-logger",function(n){return new RL(n)},"PRIVATE")),e.registerVersion(IS,pL,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(KP()&&self.firebase!==void 0){Xs.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var uE=self.firebase.SDK_VERSION;uE&&uE.indexOf("LITE")>=0&&Xs.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var DL=bv.initializeApp;bv.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return wS()&&Xs.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),DL.apply(void 0,e)};var be=bv;OL(be);var PL="firebase",SS="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */be.registerVersion(PL,SS,"app");be.SDK_VERSION=SS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,u,c){r!=Array.prototype&&r!=Object.prototype&&(r[u]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var u=0;u<r.length;++u){var c=r[u];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,u){if(u){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var g=r[h];g in c||(c[g]={}),c=c[g]}r=r[r.length-1],h=c[r],u=u(h),u!=h&&u!=null&&t(c,r,{configurable:!0,writable:!0,value:u})}}function s(r){var u=0;return function(){return u<r.length?{done:!1,value:r[u++]}:{done:!0}}}function a(r){var u=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return u?u.call(r):{next:s(r)}}o("Promise",function(r){function u(w){this.b=0,this.c=void 0,this.a=[];var T=this.f();try{w(T.resolve,T.reject)}catch(V){T.reject(V)}}function c(){this.a=null}function h(w){return w instanceof u?w:new u(function(T){T(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var T=this;this.c(function(){T.g()})}this.a.push(w)};var g=i.setTimeout;c.prototype.c=function(w){g(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var T=0;T<w.length;++T){var V=w[T];w[T]=null;try{V()}catch(G){this.f(G)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},u.prototype.f=function(){function w(G){return function(Se){V||(V=!0,G.call(T,Se))}}var T=this,V=!1;return{resolve:w(this.m),reject:w(this.g)}},u.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof u)this.s(w);else{e:switch(typeof w){case"object":var T=w!=null;break e;case"function":T=!0;break e;default:T=!1}T?this.v(w):this.h(w)}},u.prototype.v=function(w){var T=void 0;try{T=w.then}catch(V){this.g(V);return}typeof T=="function"?this.u(T,w):this.h(w)},u.prototype.g=function(w){this.i(2,w)},u.prototype.h=function(w){this.i(1,w)},u.prototype.i=function(w,T){if(this.b!=0)throw Error("Cannot settle("+w+", "+T+"): Promise already settled in state"+this.b);this.b=w,this.c=T,this.l()},u.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)y.b(this.a[w]);this.a=null}};var y=new c;return u.prototype.s=function(w){var T=this.f();w.Ra(T.resolve,T.reject)},u.prototype.u=function(w,T){var V=this.f();try{w.call(T,V.resolve,V.reject)}catch(G){V.reject(G)}},u.prototype.then=function(w,T){function V(He,jt){return typeof He=="function"?function(Qr){try{G(He(Qr))}catch(bg){Se(bg)}}:jt}var G,Se,Ze=new u(function(He,jt){G=He,Se=jt});return this.Ra(V(w,G),V(T,Se)),Ze},u.prototype.catch=function(w){return this.then(void 0,w)},u.prototype.Ra=function(w,T){function V(){switch(G.b){case 1:w(G.c);break;case 2:T(G.c);break;default:throw Error("Unexpected state: "+G.b)}}var G=this;this.a==null?y.b(V):this.a.push(V)},u.resolve=h,u.reject=function(w){return new u(function(T,V){V(w)})},u.race=function(w){return new u(function(T,V){for(var G=a(w),Se=G.next();!Se.done;Se=G.next())h(Se.value).Ra(T,V)})},u.all=function(w){var T=a(w),V=T.next();return V.done?h([]):new u(function(G,Se){function Ze(Qr){return function(bg){He[Qr]=bg,jt--,jt==0&&G(He)}}var He=[],jt=0;do He.push(void 0),jt++,h(V.value).Ra(Ze(He.length-1),Se),V=T.next();while(!V.done)})},u});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,p=null;function m(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function v(){}function b(r){var u=typeof r;return u!="object"?u:r?Array.isArray(r)?"array":u:"null"}function _(r){var u=b(r);return u=="array"||u=="object"&&typeof r.length=="number"}function I(r){return b(r)=="function"}function N(r){var u=typeof r;return u=="object"&&r!=null||u=="function"}function R(r){return Object.prototype.hasOwnProperty.call(r,P)&&r[P]||(r[P]=++C)}var P="closure_uid_"+(1e9*Math.random()>>>0),C=0;function L(r,u,c){return r.call.apply(r.bind,arguments)}function B(r,u,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,h),r.apply(u,g)}}return function(){return r.apply(u,arguments)}}function O(r,u,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=L:O=B,O.apply(null,arguments)}function X(r,u){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function D(r,u){function c(){}c.prototype=u.prototype,r.bb=u.prototype,r.prototype=new c,r.prototype.constructor=r}function ue(r){return r}function S(r,u,c){this.code=De+r,this.message=u||We[r]||"",this.a=c||null}D(S,Error),S.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},S.prototype.toJSON=function(){return this.w()};function ke(r){var u=r&&r.code;return u?new S(u.substring(De.length),r.message,r.serverResponse):null}var De="auth/",We={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Xe={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function je(r){for(var u in Xe)if(Xe[u].id===r)return r=Xe[u],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var Ce;Ce=je("__EID__")?"__EID__":void 0;function Ne(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function we(r){if(Error.captureStackTrace)Error.captureStackTrace(this,we);else{var u=Error().stack;u&&(this.stack=u)}r&&(this.message=String(r))}D(we,Error),we.prototype.name="CustomError";function Tt(r,u){r=r.split("%s");for(var c="",h=r.length-1,g=0;g<h;g++)c+=r[g]+(g<u.length?u[g]:"%s");we.call(this,c+r[h])}D(Tt,we),Tt.prototype.name="AssertionError";function gt(r,u){throw new Tt("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function mt(r,u){this.c=r,this.f=u,this.b=0,this.a=null}mt.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function lt(r,u){r.f(u),100>r.b&&(r.b++,u.next=r.a,r.a=u)}function dn(){this.b=this.a=null}var en=new mt(function(){return new U},function(r){r.reset()});dn.prototype.add=function(r,u){var c=en.get();c.set(r,u),this.b?this.b.next=c:this.a=c,this.b=c};function z(){var r=fw,u=null;return r.a&&(u=r.a,r.a=r.a.next,r.a||(r.b=null),u.next=null),u}function U(){this.next=this.b=this.a=null}U.prototype.set=function(r,u){this.a=r,this.b=u,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var W=Array.prototype.indexOf?function(r,u){return Array.prototype.indexOf.call(r,u,void 0)}:function(r,u){if(typeof r=="string")return typeof u!="string"||u.length!=1?-1:r.indexOf(u,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===u)return c;return-1},Z=Array.prototype.forEach?function(r,u,c){Array.prototype.forEach.call(r,u,c)}:function(r,u,c){for(var h=r.length,g=typeof r=="string"?r.split(""):r,y=0;y<h;y++)y in g&&u.call(c,g[y],y,r)};function Pe(r,u){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&u.call(void 0,c[h],h,r)}var Be=Array.prototype.filter?function(r,u){return Array.prototype.filter.call(r,u,void 0)}:function(r,u){for(var c=r.length,h=[],g=0,y=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in y){var T=y[w];u.call(void 0,T,w,r)&&(h[g++]=T)}return h},_e=Array.prototype.map?function(r,u){return Array.prototype.map.call(r,u,void 0)}:function(r,u){for(var c=r.length,h=Array(c),g=typeof r=="string"?r.split(""):r,y=0;y<c;y++)y in g&&(h[y]=u.call(void 0,g[y],y,r));return h},E=Array.prototype.some?function(r,u){return Array.prototype.some.call(r,u,void 0)}:function(r,u){for(var c=r.length,h=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in h&&u.call(void 0,h[g],g,r))return!0;return!1};function A(r){e:{for(var u=FN,c=r.length,h=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in h&&u.call(void 0,h[g],g,r)){u=g;break e}u=-1}return 0>u?null:typeof r=="string"?r.charAt(u):r[u]}function M(r,u){return 0<=W(r,u)}function j(r,u){u=W(r,u);var c;return(c=0<=u)&&Array.prototype.splice.call(r,u,1),c}function H(r,u){var c=0;Pe(r,function(h,g){u.call(void 0,h,g,r)&&Array.prototype.splice.call(r,g,1).length==1&&c++})}function te(r){return Array.prototype.concat.apply([],arguments)}function se(r){var u=r.length;if(0<u){for(var c=Array(u),h=0;h<u;h++)c[h]=r[h];return c}return[]}var ne=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},k=/&/g,x=/</g,Y=/>/g,Q=/"/g,ie=/'/g,oe=/\x00/g,le=/[\x00&<>"']/;function ae(r,u){return r.indexOf(u)!=-1}function Re(r,u){return r<u?-1:r>u?1:0}var Le;e:{var tn=f.navigator;if(tn){var pn=tn.userAgent;if(pn){Le=pn;break e}}Le=""}function wt(r){return ae(Le,r)}function hi(r,u){for(var c in r)u.call(void 0,r[c],c,r)}function Ar(r){for(var u in r)return!1;return!0}function bt(r){var u={},c;for(c in r)u[c]=r[c];return u}var Un="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kt(r,u){for(var c,h,g=1;g<arguments.length;g++){h=arguments[g];for(c in h)r[c]=h[c];for(var y=0;y<Un.length;y++)c=Un[y],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function Ky(r,u){e:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var g=h;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!r||!(r instanceof g[u])&&(r instanceof g.Location||r instanceof g.Element))){if(N(r))try{var y=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{y="<object could not be stringified>"}else y=r===void 0?"undefined":r===null?"null":typeof r;gt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,y)}}function kr(r,u){this.a=r===Nc&&u||"",this.b=zy}kr.prototype.ta=!0,kr.prototype.sa=function(){return this.a},kr.prototype.toString=function(){return"Const{"+this.a+"}"};function Gh(r){return r instanceof kr&&r.constructor===kr&&r.b===zy?r.a:(gt("expected object of type Const, got '"+r+"'"),"type_error:Const")}var zy={},Nc={},Rc;function Gy(){if(Rc===void 0){var r=null,u=f.trustedTypes;if(u&&u.createPolicy){try{r=u.createPolicy("goog#html",{createHTML:ue,createScript:ue,createScriptURL:ue})}catch(c){f.console&&f.console.error(c.message)}Rc=r}else Rc=r}return Rc}function rs(r,u){this.a=u===Xy?r:""}rs.prototype.ta=!0,rs.prototype.sa=function(){return this.a.toString()},rs.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Wy(r){return r instanceof rs&&r.constructor===rs?r.a:(gt("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function Wh(r,u){var c=Gh(r);if(!dC.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(hC,function(h,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(u));return h=u[g],h instanceof kr?Gh(h):encodeURIComponent(String(h))}),pC(r)}var hC=/%{(\w+)}/g,dC=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Xy={};function pC(r){var u=Gy();return r=u?u.createScriptURL(r):r,new rs(r,Xy)}function Sn(r,u){this.a=u===Ru?r:""}Sn.prototype.ta=!0,Sn.prototype.sa=function(){return this.a.toString()},Sn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function xc(r){return r instanceof Sn&&r.constructor===Sn?r.a:(gt("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var gC=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,mC=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Yy=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Qy(r){if(r instanceof Sn)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),Yy.test(r))r=new Sn(r,Ru);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var u=r.match(mC);r=u&&gC.test(u[1])?new Sn(r,Ru):null}return r}function Jy(r){return r instanceof Sn?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),Yy.test(r)||(r="about:invalid#zClosurez"),new Sn(r,Ru))}var Ru={},Zy=new Sn("about:invalid#zClosurez",Ru);function is(r,u,c){this.a=c===ew?r:""}is.prototype.ta=!0,is.prototype.sa=function(){return this.a.toString()},is.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function vC(r){return r instanceof is&&r.constructor===is?r.a:(gt("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var ew={};function yC(r,u){Ky(r,"HTMLScriptElement"),r.src=Wy(u),(u=r.ownerDocument&&r.ownerDocument.defaultView)&&u!=f?u=m(u.document):(p===null&&(p=m(f.document)),u=p),u&&r.setAttribute("nonce",u)}function tw(r,u,c,h){return r=r instanceof Sn?r:Jy(r),u=u||f,c=c instanceof kr?Gh(c):c||"",u.open(xc(r),c,h,void 0)}function nw(r,u){for(var c=r.split("%s"),h="",g=Array.prototype.slice.call(arguments,1);g.length&&1<c.length;)h+=c.shift()+g.shift();return h+c.join("%s")}function Xh(r){return le.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(k,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(x,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(Y,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(Q,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(ie,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(oe,"&#0;"))),r}function Yh(r){return Yh[" "](r),r}Yh[" "]=v;function wC(r,u){var c=IC;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=u(r)}var bC=wt("Opera"),ar=wt("Trident")||wt("MSIE"),rw=wt("Edge"),_C=rw||ar,iw=wt("Gecko")&&!(ae(Le.toLowerCase(),"webkit")&&!wt("Edge"))&&!(wt("Trident")||wt("MSIE"))&&!wt("Edge"),EC=ae(Le.toLowerCase(),"webkit")&&!wt("Edge");function ow(){var r=f.document;return r?r.documentMode:void 0}var Oc;e:{var Qh="",Jh=function(){var r=Le;if(iw)return/rv:([^\);]+)(\)|;)/.exec(r);if(rw)return/Edge\/([\d\.]+)/.exec(r);if(ar)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(EC)return/WebKit\/(\S+)/.exec(r);if(bC)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Jh&&(Qh=Jh?Jh[1]:""),ar){var Zh=ow();if(Zh!=null&&Zh>parseFloat(Qh)){Oc=String(Zh);break e}}Oc=Qh}var IC={};function sw(r){return wC(r,function(){for(var u=0,c=ne(String(Oc)).split("."),h=ne(String(r)).split("."),g=Math.max(c.length,h.length),y=0;u==0&&y<g;y++){var w=c[y]||"",T=h[y]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],T=/(\d*)(\D*)(.*)/.exec(T)||["","","",""],w[0].length==0&&T[0].length==0)break;u=Re(w[1].length==0?0:parseInt(w[1],10),T[1].length==0?0:parseInt(T[1],10))||Re(w[2].length==0,T[2].length==0)||Re(w[2],T[2]),w=w[3],T=T[3]}while(u==0)}return 0<=u})}var ed;if(f.document&&ar){var uw=ow();ed=uw||parseInt(Oc,10)||void 0}else ed=void 0;var di=ed;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var TC=!ar||9<=Number(di);function xu(r){var u=document;return typeof r=="string"?u.getElementById(r):r}function aw(r,u){hi(u,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:cw.hasOwnProperty(h)?r.setAttribute(cw[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var cw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function SC(r,u,c){var h=arguments,g=document,y=String(h[0]),w=h[1];if(!TC&&w&&(w.name||w.type)){if(y=["<",y],w.name&&y.push(' name="',Xh(w.name),'"'),w.type){y.push(' type="',Xh(w.type),'"');var T={};Kt(T,w),delete T.type,w=T}y.push(">"),y=y.join("")}return y=Dc(g,y),w&&(typeof w=="string"?y.className=w:Array.isArray(w)?y.className=w.join(" "):aw(y,w)),2<h.length&&AC(g,y,h),y}function AC(r,u,c){function h(T){T&&u.appendChild(typeof T=="string"?r.createTextNode(T):T)}for(var g=2;g<c.length;g++){var y=c[g];if(!_(y)||N(y)&&0<y.nodeType)h(y);else{e:{if(y&&typeof y.length=="number"){if(N(y)){var w=typeof y.item=="function"||typeof y.item=="string";break e}if(I(y)){w=typeof y.item=="function";break e}}w=!1}Z(w?se(y):y,h)}}}function Dc(r,u){return u=String(u),r.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),r.createElement(u)}function lw(r){f.setTimeout(function(){throw r},0)}var td;function kC(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!wt("Presto")&&(r=function(){var g=Dc(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var y=g.contentWindow;g=y.document,g.open(),g.close();var w="callImmediate"+Math.random(),T=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;g=O(function(V){(T=="*"||V.origin==T)&&V.data==w&&this.port1.onmessage()},this),y.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(w,T)}}}),typeof r<"u"&&!wt("Trident")&&!wt("MSIE")){var u=new r,c={},h=c;return u.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var g=c.Hb;c.Hb=null,g()}},function(g){h.next={Hb:g},h=h.next,u.port2.postMessage(0)}}return function(g){f.setTimeout(g,0)}}function Pc(r,u){Lc||CC(),nd||(Lc(),nd=!0),fw.add(r,u)}var Lc;function CC(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);Lc=function(){r.then(hw)}}else Lc=function(){var u=hw;!I(f.setImmediate)||f.Window&&f.Window.prototype&&!wt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(td||(td=kC()),td(u)):f.setImmediate(u)}}var nd=!1,fw=new dn;function hw(){for(var r;r=z();){try{r.a.call(r.b)}catch(u){lw(u)}lt(en,r)}nd=!1}function Fe(r,u){if(this.a=Ji,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=v)try{var c=this;r.call(u,function(h){Zi(c,Ou,h)},function(h){if(!(h instanceof os))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Zi(c,Gr,h)})}catch(h){Zi(this,Gr,h)}}var Ji=0,Ou=2,Gr=3;function dw(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}dw.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var pw=new mt(function(){return new dw},function(r){r.reset()});function rd(r,u,c){var h=pw.get();return h.g=r,h.b=u,h.f=c,h}function ve(r){if(r instanceof Fe)return r;var u=new Fe(v);return Zi(u,Ou,r),u}function ft(r){return new Fe(function(u,c){c(r)})}function gw(r,u,c){ww(r,u,c,null)||Pc(X(u,r))}function NC(r){return new Fe(function(u,c){var h=r.length,g=[];if(h)for(var y=function(G,Se){h--,g[G]=Se,h==0&&u(g)},w=function(G){c(G)},T=0,V;T<r.length;T++)V=r[T],gw(V,X(y,T),w);else u(g)})}function mw(r){return new Fe(function(u){var c=r.length,h=[];if(c)for(var g=function(T,V,G){c--,h[T]=V?{Qb:!0,value:G}:{Qb:!1,reason:G},c==0&&u(h)},y=0,w;y<r.length;y++)w=r[y],gw(w,X(g,y,!0),X(g,y,!1));else u(h)})}Fe.prototype.then=function(r,u,c){return yw(this,I(r)?r:null,I(u)?u:null,c)},Fe.prototype.$goog_Thenable=!0,e=Fe.prototype,e.oa=function(r,u){return r=rd(r,r,u),r.c=!0,id(this,r),this},e.o=function(r,u){return yw(this,null,r,u)},e.cancel=function(r){if(this.a==Ji){var u=new os(r);Pc(function(){vw(this,u)},this)}};function vw(r,u){if(r.a==Ji)if(r.c){var c=r.c;if(c.b){for(var h=0,g=null,y=null,w=c.b;w&&(w.c||(h++,w.a==r&&(g=w),!(g&&1<h)));w=w.next)g||(y=w);g&&(c.a==Ji&&h==1?vw(c,u):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):_w(c),Ew(c,g,Gr,u)))}r.c=null}else Zi(r,Gr,u)}function id(r,u){r.b||r.a!=Ou&&r.a!=Gr||bw(r),r.f?r.f.next=u:r.b=u,r.f=u}function yw(r,u,c,h){var g=rd(null,null,null);return g.a=new Fe(function(y,w){g.g=u?function(T){try{var V=u.call(h,T);y(V)}catch(G){w(G)}}:y,g.b=c?function(T){try{var V=c.call(h,T);V===void 0&&T instanceof os?w(T):y(V)}catch(G){w(G)}}:w}),g.a.c=r,id(r,g),g.a}e.$c=function(r){this.a=Ji,Zi(this,Ou,r)},e.ad=function(r){this.a=Ji,Zi(this,Gr,r)};function Zi(r,u,c){r.a==Ji&&(r===c&&(u=Gr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,ww(c,r.$c,r.ad,r)||(r.i=c,r.a=u,r.c=null,bw(r),u!=Gr||c instanceof os||xC(r,c)))}function ww(r,u,c,h){if(r instanceof Fe)return id(r,rd(u||v,c||null,h)),!0;if(Ne(r))return r.then(u,c,h),!0;if(N(r))try{var g=r.then;if(I(g))return RC(r,g,u,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function RC(r,u,c,h,g){function y(V){T||(T=!0,h.call(g,V))}function w(V){T||(T=!0,c.call(g,V))}var T=!1;try{u.call(r,w,y)}catch(V){y(V)}}function bw(r){r.h||(r.h=!0,Pc(r.gc,r))}function _w(r){var u=null;return r.b&&(u=r.b,r.b=u.next,u.next=null),r.b||(r.f=null),u}e.gc=function(){for(var r;r=_w(this);)Ew(this,r,this.a,this.i);this.h=!1};function Ew(r,u,c,h){if(c==Gr&&u.b&&!u.c)for(;r&&r.g;r=r.c)r.g=!1;if(u.a)u.a.c=null,Iw(u,c,h);else try{u.c?u.g.call(u.f):Iw(u,c,h)}catch(g){Tw.call(null,g)}lt(pw,u)}function Iw(r,u,c){u==Ou?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function xC(r,u){r.g=!0,Pc(function(){r.g&&Tw.call(null,u)})}var Tw=lw;function os(r){we.call(this,r)}D(os,we),os.prototype.name="cancel";function Mc(){this.ya=this.ya,this.pa=this.pa}var OC=0;Mc.prototype.ya=!1;function Sw(r){!r.ya&&(r.ya=!0,r.Da(),OC!=0)&&R(r)}Mc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var DC=Object.freeze||function(r){return r},Aw=!ar||9<=Number(di),PC=ar&&!sw("9"),LC=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,u=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",v,u),f.removeEventListener("test",v,u)}catch{}return r}();function An(r,u){this.type=r,this.b=this.target=u,this.defaultPrevented=!1}An.prototype.preventDefault=function(){this.defaultPrevented=!0};function eo(r,u){if(An.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=u,u=r.relatedTarget){if(iw){e:{try{Yh(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else c=="mouseover"?u=r.fromElement:c=="mouseout"&&(u=r.toElement);this.relatedTarget=u,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:MC[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}D(eo,An);var MC=DC({2:"touch",3:"pen",4:"mouse"});eo.prototype.preventDefault=function(){eo.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,PC)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},eo.prototype.g=function(){return this.a};var Du="closure_listenable_"+(1e6*Math.random()|0),FC=0;function UC(r,u,c,h,g){this.listener=r,this.proxy=null,this.src=u,this.type=c,this.capture=!!h,this.Wa=g,this.key=++FC,this.wa=this.Qa=!1}function Fc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function Uc(r){this.src=r,this.a={},this.b=0}Uc.prototype.add=function(r,u,c,h,g){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.b++);var w=sd(r,u,h,g);return-1<w?(u=r[w],c||(u.Qa=!1)):(u=new UC(u,this.src,y,!!h,g),u.Qa=c,r.push(u)),u};function od(r,u){var c=u.type;c in r.a&&j(r.a[c],u)&&(Fc(u),r.a[c].length==0&&(delete r.a[c],r.b--))}function sd(r,u,c,h){for(var g=0;g<r.length;++g){var y=r[g];if(!y.wa&&y.listener==u&&y.capture==!!c&&y.Wa==h)return g}return-1}var ud="closure_lm_"+(1e6*Math.random()|0),ad={};function Jn(r,u,c,h,g){if(h&&h.once)cd(r,u,c,h,g);else if(Array.isArray(u))for(var y=0;y<u.length;y++)Jn(r,u[y],c,h,g);else c=fd(c),r&&r[Du]?Ow(r,u,c,N(h)?!!h.capture:!!h,g):kw(r,u,c,!1,h,g)}function kw(r,u,c,h,g,y){if(!u)throw Error("Invalid event type");var w=N(g)?!!g.capture:!!g,T=Vc(r);if(T||(r[ud]=T=new Uc(r)),c=T.add(u,c,h,w,y),!c.proxy)if(h=VC(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)LC||(g=w),g===void 0&&(g=!1),r.addEventListener(u.toString(),h,g);else if(r.attachEvent)r.attachEvent(Nw(u.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function VC(){var r=jC,u=Aw?function(c){return r.call(u.src,u.listener,c)}:function(c){if(c=r.call(u.src,u.listener,c),!c)return c};return u}function cd(r,u,c,h,g){if(Array.isArray(u))for(var y=0;y<u.length;y++)cd(r,u[y],c,h,g);else c=fd(c),r&&r[Du]?hd(r,u,c,N(h)?!!h.capture:!!h,g):kw(r,u,c,!0,h,g)}function Vn(r,u,c,h,g){if(Array.isArray(u))for(var y=0;y<u.length;y++)Vn(r,u[y],c,h,g);else h=N(h)?!!h.capture:!!h,c=fd(c),r&&r[Du]?(r=r.v,u=String(u).toString(),u in r.a&&(y=r.a[u],c=sd(y,c,h,g),-1<c&&(Fc(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete r.a[u],r.b--)))):r&&(r=Vc(r))&&(u=r.a[u.toString()],r=-1,u&&(r=sd(u,c,h,g)),(c=-1<r?u[r]:null)&&Cw(c))}function Cw(r){if(typeof r!="number"&&r&&!r.wa){var u=r.src;if(u&&u[Du])od(u.v,r);else{var c=r.type,h=r.proxy;u.removeEventListener?u.removeEventListener(c,h,r.capture):u.detachEvent?u.detachEvent(Nw(c),h):u.addListener&&u.removeListener&&u.removeListener(h),(c=Vc(u))?(od(c,r),c.b==0&&(c.src=null,u[ud]=null)):Fc(r)}}}function Nw(r){return r in ad?ad[r]:ad[r]="on"+r}function Rw(r,u,c,h){var g=!0;if((r=Vc(r))&&(u=r.a[u.toString()]))for(u=u.concat(),r=0;r<u.length;r++){var y=u[r];y&&y.capture==c&&!y.wa&&(y=xw(y,h),g=g&&y!==!1)}return g}function xw(r,u){var c=r.listener,h=r.Wa||r.src;return r.Qa&&Cw(r),c.call(h,u)}function jC(r,u){if(r.wa)return!0;if(!Aw){if(!u)e:{u=["window","event"];for(var c=f,h=0;h<u.length;h++)if(c=c[u[h]],c==null){u=null;break e}u=c}if(h=u,u=new eo(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var g=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{g=!0}(g||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],g=u.b;g;g=g.parentNode)h.push(g);for(r=r.type,g=h.length-1;0<=g;g--){u.b=h[g];var y=Rw(h[g],r,!0,u);c=c&&y}for(g=0;g<h.length;g++)u.b=h[g],y=Rw(h[g],r,!1,u),c=c&&y}return c}return xw(r,new eo(u,this))}function Vc(r){return r=r[ud],r instanceof Uc?r:null}var ld="__closure_events_fn_"+(1e9*Math.random()>>>0);function fd(r){return I(r)?r:(r[ld]||(r[ld]=function(u){return r.handleEvent(u)}),r[ld])}function gn(){Mc.call(this),this.v=new Uc(this),this.bc=this,this.hb=null}D(gn,Mc),gn.prototype[Du]=!0,gn.prototype.addEventListener=function(r,u,c,h){Jn(this,r,u,c,h)},gn.prototype.removeEventListener=function(r,u,c,h){Vn(this,r,u,c,h)},gn.prototype.dispatchEvent=function(r){var u,c=this.hb;if(c)for(u=[];c;c=c.hb)u.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new An(r,c);else if(r instanceof An)r.target=r.target||c;else{var g=r;r=new An(h,c),Kt(r,g)}if(g=!0,u)for(var y=u.length-1;0<=y;y--){var w=r.b=u[y];g=jc(w,h,!0,r)&&g}if(w=r.b=c,g=jc(w,h,!0,r)&&g,g=jc(w,h,!1,r)&&g,u)for(y=0;y<u.length;y++)w=r.b=u[y],g=jc(w,h,!1,r)&&g;return g},gn.prototype.Da=function(){if(gn.bb.Da.call(this),this.v){var r=this.v,u;for(u in r.a){for(var c=r.a[u],h=0;h<c.length;h++)Fc(c[h]);delete r.a[u],r.b--}}this.hb=null};function Ow(r,u,c,h,g){r.v.add(String(u),c,!1,h,g)}function hd(r,u,c,h,g){r.v.add(String(u),c,!0,h,g)}function jc(r,u,c,h){if(u=r.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,y=0;y<u.length;++y){var w=u[y];if(w&&!w.wa&&w.capture==c){var T=w.listener,V=w.Wa||w.src;w.Qa&&od(r.v,w),g=T.call(V,h)!==!1&&g}}return g&&!h.defaultPrevented}function dd(r,u,c){if(I(r))c&&(r=O(r,c));else if(r&&typeof r.handleEvent=="function")r=O(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:f.setTimeout(r,u||0)}function ss(r){var u=null;return new Fe(function(c,h){u=dd(function(){c(void 0)},r),u==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(u),c})}function Dw(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var u=[],c=r.length,h=0;h<c;h++)u.push(r[h]);return u}u=[],c=0;for(h in r)u[c++]=r[h];return u}function Pw(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var u=[];r=r.length;for(var c=0;c<r;c++)u.push(c);return u}u=[],c=0;for(var h in r)u[c++]=h;return u}}function qC(r,u){if(r.forEach&&typeof r.forEach=="function")r.forEach(u,void 0);else if(_(r)||typeof r=="string")Z(r,u,void 0);else for(var c=Pw(r),h=Dw(r),g=h.length,y=0;y<g;y++)u.call(void 0,h[y],c&&c[y],r)}function us(r,u){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof us)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}e=us.prototype,e.X=function(){pd(this);for(var r=[],u=0;u<this.a.length;u++)r.push(this.b[this.a[u]]);return r},e.Y=function(){return pd(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function pd(r){if(r.c!=r.a.length){for(var u=0,c=0;u<r.a.length;){var h=r.a[u];to(r.b,h)&&(r.a[c++]=h),u++}r.a.length=c}if(r.c!=r.a.length){var g={};for(c=u=0;u<r.a.length;)h=r.a[u],to(g,h)||(r.a[c++]=h,g[h]=1),u++;r.a.length=c}}e.get=function(r,u){return to(this.b,r)?this.b[r]:u},e.set=function(r,u){to(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=u},e.forEach=function(r,u){for(var c=this.Y(),h=0;h<c.length;h++){var g=c[h],y=this.get(g);r.call(u,y,g,this)}};function to(r,u){return Object.prototype.hasOwnProperty.call(r,u)}var Lw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function BC(r,u){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),g=null;if(0<=h){var y=r[c].substring(0,h);g=r[c].substring(h+1)}else y=r[c];u(y,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function pi(r,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof pi?(this.i=u!==void 0?u:r.i,Pu(this,r.c),this.l=r.l,this.a=r.a,Lu(this,r.g),this.f=r.f,gd(this,Vw(r.b)),this.h=r.h):r&&(c=String(r).match(Lw))?(this.i=!!u,Pu(this,c[1]||"",!0),this.l=Mu(c[2]||""),this.a=Mu(c[3]||"",!0),Lu(this,c[4]),this.f=Mu(c[5]||"",!0),gd(this,c[6]||"",!0),this.h=Mu(c[7]||"")):(this.i=!!u,this.b=new no(null,this.i))}pi.prototype.toString=function(){var r=[],u=this.c;u&&r.push(Fu(u,Mw,!0),":");var c=this.a;return(c||u=="file")&&(r.push("//"),(u=this.l)&&r.push(Fu(u,Mw,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(Fu(c,c.charAt(0)=="/"?KC:HC,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",Fu(c,GC)),r.join("")},pi.prototype.resolve=function(r){var u=new pi(this),c=!!r.c;c?Pu(u,r.c):c=!!r.l,c?u.l=r.l:c=!!r.a,c?u.a=r.a:c=r.g!=null;var h=r.f;if(c)Lu(u,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var g=u.f.lastIndexOf("/");g!=-1&&(h=u.f.substr(0,g+1)+h)}if(g=h,g==".."||g==".")h="";else if(ae(g,"./")||ae(g,"/.")){h=g.lastIndexOf("/",0)==0,g=g.split("/");for(var y=[],w=0;w<g.length;){var T=g[w++];T=="."?h&&w==g.length&&y.push(""):T==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&w==g.length&&y.push("")):(y.push(T),h=!0)}h=y.join("/")}else h=g}return c?u.f=h:c=r.b.toString()!=="",c?gd(u,Vw(r.b)):c=!!r.h,c&&(u.h=r.h),u};function Pu(r,u,c){r.c=c?Mu(u,!0):u,r.c&&(r.c=r.c.replace(/:$/,""))}function Lu(r,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);r.g=u}else r.g=null}function gd(r,u,c){u instanceof no?(r.b=u,WC(r.b,r.i)):(c||(u=Fu(u,zC)),r.b=new no(u,r.i))}function St(r,u,c){r.b.set(u,c)}function Zn(r,u){return r.b.get(u)}function kn(r){return r instanceof pi?new pi(r):new pi(r,void 0)}function qc(r,u,c,h){var g=new pi(null,void 0);return r&&Pu(g,r),u&&(g.a=u),c&&Lu(g,c),h&&(g.f=h),g}function Mu(r,u){return r?u?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Fu(r,u,c){return typeof r=="string"?(r=encodeURI(r).replace(u,$C),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function $C(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Mw=/[#\/\?@]/g,HC=/[#\?:]/g,KC=/[#\?]/g,zC=/[#\?@]/g,GC=/#/g;function no(r,u){this.b=this.a=null,this.c=r||null,this.f=!!u}function gi(r){r.a||(r.a=new us,r.b=0,r.c&&BC(r.c,function(u,c){r.add(decodeURIComponent(u.replace(/\+/g," ")),c)}))}function Fw(r){var u=Pw(r);if(typeof u>"u")throw Error("Keys are undefined");var c=new no(null,void 0);r=Dw(r);for(var h=0;h<u.length;h++){var g=u[h],y=r[h];Array.isArray(y)?Uw(c,g,y):c.add(g,y)}return c}e=no.prototype,e.add=function(r,u){gi(this),this.c=null,r=as(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(u),this.b+=1,this};function Cr(r,u){gi(r),u=as(r,u),to(r.a.b,u)&&(r.c=null,r.b-=r.a.get(u).length,r=r.a,to(r.b,u)&&(delete r.b[u],r.c--,r.a.length>2*r.c&&pd(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function md(r,u){return gi(r),u=as(r,u),to(r.a.b,u)}e.forEach=function(r,u){gi(this),this.a.forEach(function(c,h){Z(c,function(g){r.call(u,g,h,this)},this)},this)},e.Y=function(){gi(this);for(var r=this.a.X(),u=this.a.Y(),c=[],h=0;h<u.length;h++)for(var g=r[h],y=0;y<g.length;y++)c.push(u[h]);return c},e.X=function(r){gi(this);var u=[];if(typeof r=="string")md(this,r)&&(u=te(u,this.a.get(as(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)u=te(u,r[c])}return u},e.set=function(r,u){return gi(this),this.c=null,r=as(this,r),md(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[u]),this.b+=1,this},e.get=function(r,u){return r?(r=this.X(r),0<r.length?String(r[0]):u):u};function Uw(r,u,c){Cr(r,u),0<c.length&&(r.c=null,r.a.set(as(r,u),se(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],u=this.a.Y(),c=0;c<u.length;c++){var h=u[c],g=encodeURIComponent(String(h));h=this.X(h);for(var y=0;y<h.length;y++){var w=g;h[y]!==""&&(w+="="+encodeURIComponent(String(h[y]))),r.push(w)}}return this.c=r.join("&")};function Vw(r){var u=new no;return u.c=r.c,r.a&&(u.a=new us(r.a),u.b=r.b),u}function as(r,u){return u=String(u),r.f&&(u=u.toLowerCase()),u}function WC(r,u){u&&!r.f&&(gi(r),r.c=null,r.a.forEach(function(c,h){var g=h.toLowerCase();h!=g&&(Cr(this,h),Uw(this,g,c))},r)),r.f=u}function jw(r){var u=[];return vd(new XC,r,u),u.join("")}function XC(){}function vd(r,u,c){if(u==null)c.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var h=u;u=h.length,c.push("[");for(var g="",y=0;y<u;y++)c.push(g),vd(r,h[y],c),g=",";c.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{c.push("{"),g="";for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&(y=u[h],typeof y!="function"&&(c.push(g),Bw(h,c),c.push(":"),vd(r,y,c),g=","));c.push("}");return}}switch(typeof u){case"string":Bw(u,c);break;case"number":c.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":c.push(String(u));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var qw={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},YC=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Bw(r,u){u.push('"',r.replace(YC,function(c){var h=qw[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),qw[c]=h),h}),'"')}function yd(){var r=zt();return ar&&!!di&&di==11||/Edge\/\d+/.test(r)}function Uu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function $w(r,u){u=u||f.window;var c="about:blank";r&&(c=xc(Qy(r)||Zy)),u.location.href=c}function Hw(r,u){var c=[],h;for(h in r)h in u?typeof r[h]!=typeof u[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&u[h]!=null?0<Hw(r[h],u[h]).length&&c.push(h):r[h]!==u[h]&&c.push(h):c.push(h);for(h in u)h in r||c.push(h);return c}function QC(){var r=zt();return r=cs(r)!=Ww?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!ar||!di||9<di}function Kw(r){return r=(r||zt()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function ro(r){r=r||f.window;try{r.close()}catch{}}function zw(r,u,c){var h=Math.floor(1e9*Math.random()).toString();u=u||500,c=c||600;var g=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-u)/2;u={width:u,height:c,top:0<g?g:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=zt().toLowerCase(),h&&(u.target=h,ae(c,"crios/")&&(u.target="_blank")),cs(zt())==_d&&(r=r||"http://localhost",u.scrollbars=!0),c=r||"",(r=u)||(r={}),h=window,u=c instanceof Sn?c:Qy(typeof c.href<"u"?c.href:String(c))||Zy,c=r.target||c.target,g=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":g.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(w+"="+(r[w]?1:0))}var w=g.join(",");if((wt("iPhone")&&!wt("iPod")&&!wt("iPad")||wt("iPad")||wt("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=Dc(document,"A"),Ky(w,"HTMLAnchorElement"),u=u instanceof Sn?u:Jy(u),w.href=xc(u),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=tw("",h,c,w),r=xc(u),w&&(_C&&ae(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Xh(r)+'">',r=(h=Gy())?h.createHTML(r):r,r=new is(r,null,ew),h=w.document)&&(h.write(vC(r)),h.close())):(w=tw(u,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function JC(r){return new Fe(function(u){function c(){ss(2e3).then(function(){if(!r||r.closed)u();else return c()})}return c()})}var ZC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eN=/^[^@]+@[^@]+$/;function Bc(){var r=null;return new Fe(function(u){f.document.readyState=="complete"?u():(r=function(){u()},cd(window,"load",r))}).o(function(u){throw Vn(window,"load",r),u})}function tN(){return wd(void 0)?Bc().then(function(){return new Fe(function(r,u){var c=f.document,h=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):ft(Error("Cordova must run in an Android or iOS file scheme."))}function wd(r){return r=r||zt(),!(fs()!=="file:"&&fs()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function bd(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function cr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Nr(){return be.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":be.INTERNAL.hasOwnProperty("node")?"Node":cr()?"Worker":"Browser"}function Gw(){var r=Nr();return r==="ReactNative"||r==="Node"}function nN(){for(var r=50,u=[];0<r;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return u.join("")}var _d="Firefox",Ww="Chrome";function cs(r){var u=r.toLowerCase();if(ae(u,"opera/")||ae(u,"opr/")||ae(u,"opios/"))return"Opera";if(ae(u,"iemobile"))return"IEMobile";if(ae(u,"msie")||ae(u,"trident/"))return"IE";if(ae(u,"edge/"))return"Edge";if(ae(u,"firefox/"))return _d;if(ae(u,"silk/"))return"Silk";if(ae(u,"blackberry"))return"Blackberry";if(ae(u,"webos"))return"Webos";if(!ae(u,"safari/")||ae(u,"chrome/")||ae(u,"crios/")||ae(u,"android"))if(!ae(u,"chrome/")&&!ae(u,"crios/")||ae(u,"edge/")){if(ae(u,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return Ww;else return"Safari";return"Other"}var Xw={md:"FirebaseCore-web",od:"FirebaseUI-web"};function ls(r,u){u=u||[];var c=[],h={},g;for(g in Xw)h[Xw[g]]=!0;for(g=0;g<u.length;g++)typeof h[u[g]]<"u"&&(delete h[u[g]],c.push(u[g]));return c.sort(),u=c,u.length||(u=["FirebaseCore-web"]),c=Nr(),c==="Browser"?(h=zt(),c=cs(h)):c==="Worker"&&(h=zt(),c=cs(h)+"-"+c),c+"/JsCore/"+r+"/"+u.join(",")}function zt(){return f.navigator&&f.navigator.userAgent||""}function ht(r,u){r=r.split("."),u=u||f;for(var c=0;c<r.length&&typeof u=="object"&&u!=null;c++)u=u[r[c]];return c!=r.length&&(u=void 0),u}function Ed(){try{var r=f.localStorage,u=oo();if(r)return r.setItem(u,"1"),r.removeItem(u),yd()?!!f.indexedDB:!0}catch{return cr()&&!!f.indexedDB}return!1}function io(){return($c()||fs()==="chrome-extension:"||wd())&&!Gw()&&Ed()&&!cr()}function $c(){return fs()==="http:"||fs()==="https:"}function fs(){return f.location&&f.location.protocol||null}function Vu(r){return r=r||zt(),!(Kw(r)||cs(r)==_d)}function ju(r){return typeof r>"u"?null:jw(r)}function Yw(r){var u={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(u[c]=r[c]);return u}function hs(r){if(r!==null)return JSON.parse(r)}function oo(r){return r||Math.floor(1e9*Math.random()).toString()}function Qw(r){return r=r||zt(),!(cs(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function Jw(){var r=f.___jsl;if(r&&r.H){for(var u in r.H)if(r.H[u].r=r.H[u].r||[],r.H[u].L=r.H[u].L||[],r.H[u].r=r.H[u].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function mi(r,u){if(r>u)throw Error("Short delay should be less than long delay!");this.a=r,this.c=u,r=zt(),u=Nr(),this.b=Kw(r)||u==="ReactNative"}mi.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&($c()||fs()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Id(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function rN(){var r=f.document,u=null;return Id()||!r?ve():new Fe(function(c){u=function(){Id()&&(r.removeEventListener("visibilitychange",u,!1),c())},r.addEventListener("visibilitychange",u,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",u,!1),c})}function qu(r){try{var u=new Date(parseInt(r,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(r))return u.toUTCString()}catch{}return null}function Zw(){return!(!ht("fireauth.oauthhelper",f)&&!ht("fireauth.iframe",f))}function iN(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function oN(){var r=f.navigator;return r&&r.serviceWorker?ve().then(function(){return r.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):ve(null)}var e0={};function Td(r){e0[r]||(e0[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Sd;try{var Ad={};Object.defineProperty(Ad,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ad,"abcd",{configurable:!0,enumerable:!0,value:2}),Sd=Ad.abcd==2}catch{Sd=!1}function pe(r,u,c){Sd?Object.defineProperty(r,u,{configurable:!0,enumerable:!0,value:c}):r[u]=c}function mn(r,u){if(u)for(var c in u)u.hasOwnProperty(c)&&pe(r,c,u[c])}function Rr(r){var u={};return mn(u,r),u}function sN(r){var u={},c;for(c in r)r.hasOwnProperty(c)&&(u[c]=r[c]);return u}function uN(r,u){if(!u||!u.length)return!0;if(!r)return!1;for(var c=0;c<u.length;c++){var h=r[u[c]];if(h==null||h==="")return!1}return!0}function kd(r){var u=r;if(typeof r=="object"&&r!=null){u="length"in r?[]:{};for(var c in r)pe(u,c,kd(r[c]))}return u}function Cd(r){var u=r&&(r[Od]?"phone":null);if(u&&r&&r[xd]){pe(this,"uid",r[xd]),pe(this,"displayName",r[t0]||null);var c=null;r[Rd]&&(c=new Date(r[Rd]).toUTCString()),pe(this,"enrollmentTime",c),pe(this,"factorId",u)}else throw new S("internal-error","Internal assert: invalid MultiFactorInfo object")}Cd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Nd(r){try{var u=new Bu(r)}catch{u=null}return u}var t0="displayName",Rd="enrolledAt",xd="mfaEnrollmentId",Od="phoneInfo";function Bu(r){Cd.call(this,r),pe(this,"phoneNumber",r[Od])}D(Bu,Cd),Bu.prototype.w=function(){var r=Bu.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function aN(r){var u={},c=r[cN],h=r[fN],g=r[hN];if(r=Nd(r[lN]),!g||g!=Hc&&g!=$u&&!c||g==$u&&!h||g==Dd&&!r)throw Error("Invalid checkActionCode response!");g==$u?(u[r0]=c||null,u[i0]=c||null,u[n0]=h):(u[r0]=h||null,u[i0]=h||null,u[n0]=c||null),u[dN]=r||null,pe(this,gN,g),pe(this,pN,kd(u))}var Dd="REVERT_SECOND_FACTOR_ADDITION",Hc="EMAIL_SIGNIN",$u="VERIFY_AND_CHANGE_EMAIL",cN="email",lN="mfaInfo",fN="newEmail",hN="requestType",n0="email",r0="fromEmail",dN="multiFactorInfo",i0="previousEmail",pN="data",gN="operation";function Pd(r){r=kn(r);var u=Zn(r,o0)||null,c=Zn(r,s0)||null,h=Zn(r,u0)||null;if(h=h&&wN[h]||null,!u||!c||!h)throw new S("argument-error",o0+", "+s0+"and "+u0+" are required in a valid action code URL.");mn(this,{apiKey:u,operation:h,code:c,continueUrl:Zn(r,mN)||null,languageCode:Zn(r,vN)||null,tenantId:Zn(r,yN)||null})}var o0="apiKey",s0="oobCode",mN="continueUrl",vN="languageCode",u0="mode",yN="tenantId",wN={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Dd,signIn:Hc,verifyAndChangeEmail:$u,verifyEmail:"VERIFY_EMAIL"};function a0(r){try{return new Pd(r)}catch{return null}}function Kc(r){var u=r[bN];if(typeof u>"u")throw new S("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new S("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var c=r[c0];if(c&&typeof c=="object"){u=c[p0];var h=c[h0];if(c=c[d0],typeof u=="string"&&u.length){if(this.a=u,typeof h<"u"&&typeof h!="boolean")throw new S("argument-error",h0+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new S("argument-error",d0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof u<"u")throw new S("argument-error",p0+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new S("missing-android-pkg-name")}}else if(typeof c<"u")throw new S("argument-error",c0+" property must be a non null object when specified.");if(this.f=null,(u=r[f0])&&typeof u=="object"){if(u=u[g0],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new S("argument-error",g0+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new S("argument-error",f0+" property must be a non null object when specified.");if(u=r[Ld],typeof u<"u"&&typeof u!="boolean")throw new S("argument-error",Ld+" property must be a boolean when specified.");if(this.c=!!u,r=r[l0],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new S("argument-error",l0+" property must be a non empty string when specified.");this.i=r||null}var c0="android",l0="dynamicLinkDomain",Ld="handleCodeInApp",f0="iOS",bN="url",h0="installApp",d0="minimumVersion",p0="packageName",g0="bundleId";function zc(r){var u={};u.continueUrl=r.h,u.canHandleCodeInApp=r.c,(u.androidPackageName=r.a)&&(u.androidMinimumVersion=r.b,u.androidInstallApp=r.g),u.iOSBundleId=r.f,u.dynamicLinkDomain=r.i;for(var c in u)u[c]===null&&delete u[c];return u}function _N(r){return _e(r,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var Hu=null;function EN(r){var u=[];return IN(r,function(c){u.push(c)}),u}function IN(r,u){function c(V){for(;h<r.length;){var G=r.charAt(h++),Se=Hu[G];if(Se!=null)return Se;if(!/^[\s\xa0]*$/.test(G))throw Error("Unknown base64 encoding at char: "+G)}return V}TN();for(var h=0;;){var g=c(-1),y=c(0),w=c(64),T=c(64);if(T===64&&g===-1)break;u(g<<2|y>>4),w!=64&&(u(y<<4&240|w>>2),T!=64&&u(w<<6&192|T))}}function TN(){if(!Hu){Hu={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(u[c].split("")),g=0;g<h.length;g++){var y=h[g];Hu[y]===void 0&&(Hu[y]=g)}}}function Gc(r){var u=m0(r);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=r,this.a=u.exp,this.i=u.sub,r=Date.now()/1e3,this.g=u.iat||(r>this.a?this.a:r),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Gc.prototype.T=function(){return this.f},Gc.prototype.l=function(){return this.c},Gc.prototype.toString=function(){return this.h};function Wc(r){try{return new Gc(r)}catch{return null}}function m0(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var u=(4-r.length%4)%4,c=0;c<u;c++)r+=".";try{var h=EN(r);for(r=[],c=u=0;u<h.length;){var g=h[u++];if(128>g)r[c++]=String.fromCharCode(g);else if(191<g&&224>g){var y=h[u++];r[c++]=String.fromCharCode((g&31)<<6|y&63)}else if(239<g&&365>g){y=h[u++];var w=h[u++],T=h[u++],V=((g&7)<<18|(y&63)<<12|(w&63)<<6|T&63)-65536;r[c++]=String.fromCharCode(55296+(V>>10)),r[c++]=String.fromCharCode(56320+(V&1023))}else y=h[u++],w=h[u++],r[c++]=String.fromCharCode((g&15)<<12|(y&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var v0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Xc=["client_id","response_type","scope","redirect_uri","state"],Md={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Xc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Xc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Xc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:v0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Fd(r){for(var u in Md)if(Md[u].fa==r)return Md[u];return null}function y0(r){var u={};u["facebook.com"]=b0,u["google.com"]=E0,u["github.com"]=_0,u["twitter.com"]=I0;var c=r&&r[w0];try{if(c)return u[c]?new u[c](r):new xr(r);if(typeof r[Ud]<"u")return new Vd(r)}catch{}return null}var Ud="idToken",w0="providerId";function Vd(r){var u=r[w0];if(!u&&r[Ud]){var c=Wc(r[Ud]);c&&c.b&&(u=c.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),pe(this,"providerId",u),pe(this,"isNewUser",c)}function xr(r){Vd.call(this,r),r=hs(r.rawUserInfo||"{}"),pe(this,"profile",kd(r||{}))}D(xr,Vd);function b0(r){if(xr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}D(b0,xr);function _0(r){if(xr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");pe(this,"username",this.profile&&this.profile.login||null)}D(_0,xr);function E0(r){if(xr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}D(E0,xr);function I0(r){if(xr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");pe(this,"username",r.screenName||null)}D(I0,xr);function T0(r){var u=kn(r),c=Zn(u,"link"),h=Zn(kn(c),"link");return u=Zn(u,"deep_link_id"),Zn(kn(u),"link")||u||h||c||r}function Yc(r,u){if(!r&&!u)throw new S("internal-error","Internal assert: no raw session string available");if(r&&u)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=u||null,this.type=this.a?Ku:Qc}var Ku="enroll",Qc="signin";Yc.prototype.Ha=function(){return this.a?ve(this.a):ve(this.b)},Yc.prototype.w=function(){return this.type==Ku?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ds(){}ds.prototype.ka=function(){},ds.prototype.b=function(){},ds.prototype.c=function(){},ds.prototype.w=function(){};function ps(r,u){return r.then(function(c){if(c[hr]){var h=Wc(c[hr]);if(!h||u!=h.i)throw new S("user-mismatch");return c}throw new S("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==De+"user-not-found"?new S("user-mismatch"):c})}function so(r,u){if(u)this.a=u;else throw new S("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",r)}so.prototype.ka=function(r){return cp(r,jd(this))},so.prototype.b=function(r,u){var c=jd(this);return c.idToken=u,lp(r,c)},so.prototype.c=function(r,u){return ps(fp(r,jd(this)),u)};function jd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}so.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function SN(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new so(r.providerId,r.pendingToken)}catch{}return null}function Wr(r,u,c){if(this.a=null,u.idToken||u.accessToken)u.idToken&&pe(this,"idToken",u.idToken),u.accessToken&&pe(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&pe(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)pe(this,"accessToken",u.oauthToken),pe(this,"secret",u.oauthTokenSecret);else throw new S("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",c)}Wr.prototype.ka=function(r){return cp(r,qd(this))},Wr.prototype.b=function(r,u){var c=qd(this);return c.idToken=u,lp(r,c)},Wr.prototype.c=function(r,u){var c=qd(this);return ps(fp(r,c),u)};function qd(r){var u={};return r.idToken&&(u.id_token=r.idToken),r.accessToken&&(u.access_token=r.accessToken),r.secret&&(u.oauth_token_secret=r.secret),u.providerId=r.providerId,r.nonce&&!r.a&&(u.nonce=r.nonce),u={postBody:Fw(u).toString(),requestUri:"http://localhost"},r.a&&(delete u.postBody,u.pendingToken=r.a),u}Wr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function AN(r){if(r&&r.providerId&&r.signInMethod){var u={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Wr(r.providerId,u,r.signInMethod)}catch{}}return null}function uo(r,u){this.Qc=u||[],mn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(Fd(r)||{}).Ja||null,this.pb=null}uo.prototype.Ka=function(r){return this.Jb=bt(r),this};function S0(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');uo.call(this,r,[])}D(S0,uo);function jn(r){uo.call(this,r,Xc),this.a=[]}D(jn,uo),jn.prototype.Ca=function(r){return M(this.a,r)||this.a.push(r),this},jn.prototype.Rb=function(){return se(this.a)},jn.prototype.credential=function(r,u){var c;if(N(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:u||null},!c.idToken&&!c.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new Wr(this.providerId,c,this.providerId)};function ao(){jn.call(this,"facebook.com")}D(ao,jn),pe(ao,"PROVIDER_ID","facebook.com"),pe(ao,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function A0(r){if(!r)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=r;return N(r)&&(u=r.accessToken),new ao().credential({accessToken:u})}function co(){jn.call(this,"github.com")}D(co,jn),pe(co,"PROVIDER_ID","github.com"),pe(co,"GITHUB_SIGN_IN_METHOD","github.com");function k0(r){if(!r)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=r;return N(r)&&(u=r.accessToken),new co().credential({accessToken:u})}function lo(){jn.call(this,"google.com"),this.Ca("profile")}D(lo,jn),pe(lo,"PROVIDER_ID","google.com"),pe(lo,"GOOGLE_SIGN_IN_METHOD","google.com");function C0(r,u){var c=r;return N(r)&&(c=r.idToken,u=r.accessToken),new lo().credential({idToken:c,accessToken:u})}function gs(){uo.call(this,"twitter.com",v0)}D(gs,uo),pe(gs,"PROVIDER_ID","twitter.com"),pe(gs,"TWITTER_SIGN_IN_METHOD","twitter.com");function N0(r,u){var c=r;if(N(c)||(c={oauthToken:r,oauthTokenSecret:u}),!c.oauthToken||!c.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Wr("twitter.com",c,"twitter.com")}function vi(r,u,c){this.a=r,this.f=u,pe(this,"providerId","password"),pe(this,"signInMethod",c===er.EMAIL_LINK_SIGN_IN_METHOD?er.EMAIL_LINK_SIGN_IN_METHOD:er.EMAIL_PASSWORD_SIGN_IN_METHOD)}vi.prototype.ka=function(r){return this.signInMethod==er.EMAIL_LINK_SIGN_IN_METHOD?Ue(r,lR,{email:this.a,oobCode:this.f}):Ue(r,rb,{email:this.a,password:this.f})},vi.prototype.b=function(r,u){return this.signInMethod==er.EMAIL_LINK_SIGN_IN_METHOD?Ue(r,fR,{idToken:u,email:this.a,oobCode:this.f}):Ue(r,nb,{idToken:u,email:this.a,password:this.f})},vi.prototype.c=function(r,u){return ps(this.ka(r),u)},vi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function kN(r){return r&&r.email&&r.password?new vi(r.email,r.password,r.signInMethod):null}function er(){mn(this,{providerId:"password",isOAuthProvider:!1})}function R0(r,u){if(u=Bd(u),!u)throw new S("argument-error","Invalid email link!");return new vi(r,u.code,er.EMAIL_LINK_SIGN_IN_METHOD)}function Bd(r){return r=T0(r),(r=a0(r))&&r.operation===Hc?r:null}mn(er,{PROVIDER_ID:"password"}),mn(er,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),mn(er,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function yi(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new S("internal-error");this.a=r,pe(this,"providerId","phone"),this.fa="phone",pe(this,"signInMethod","phone")}yi.prototype.ka=function(r){return r.gb(zu(this))},yi.prototype.b=function(r,u){var c=zu(this);return c.idToken=u,Ue(r,xR,c)},yi.prototype.c=function(r,u){var c=zu(this);return c.operation="REAUTH",r=Ue(r,OR,c),ps(r,u)},yi.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function CN(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var u={};return Z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(u[c]=r[c])}),new yi(u)}return null}function zu(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function Xr(r){try{this.a=r||be.auth()}catch{throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}mn(this,{providerId:"phone",isOAuthProvider:!1})}Xr.prototype.gb=function(r,u){var c=this.a.a;return ve(u.verify()).then(function(h){if(typeof h!="string")throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=N(r)?r.session:null,y=N(r)?r.phoneNumber:r,w;return g&&g.type==Ku?w=g.Ha().then(function(T){return tR(c,{idToken:T,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):g&&g.type==Qc?w=g.Ha().then(function(T){return nR(c,{mfaPendingCredential:T,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=eR(c,{phoneNumber:y,recaptchaToken:h}),w.then(function(T){return typeof u.reset=="function"&&u.reset(),T},function(T){throw typeof u.reset=="function"&&u.reset(),T});default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function x0(r,u){if(!r)throw new S("missing-verification-id");if(!u)throw new S("missing-verification-code");return new yi({fb:r,eb:u})}mn(Xr,{PROVIDER_ID:"phone"}),mn(Xr,{PHONE_SIGN_IN_METHOD:"phone"});function $d(r){if(r.temporaryProof&&r.phoneNumber)return new yi({La:r.temporaryProof,ea:r.phoneNumber});var u=r&&r.providerId;if(!u||u==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,g=r&&r.nonce,y=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(u){case"google.com":return C0(y,c);case"facebook.com":return A0(c);case"github.com":return k0(c);case"twitter.com":return N0(c,h);default:return c||h||y||w?w?u.indexOf("saml.")==0?new so(u,w):new Wr(u,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},u):new jn(u).credential({idToken:y,accessToken:c,rawNonce:g}):null}}catch{return null}}function Hd(r){if(!r.isOAuthProvider)throw new S("invalid-oauth-provider")}function lr(r,u,c,h,g,y,w){if(this.c=r,this.b=u||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=w||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}else throw new S("invalid-auth-event")}lr.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},lr.prototype.T=function(){return this.h},lr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function O0(r){return r=r||{},r.type?new lr(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&ke(r.error),r.postBody,r.tenantId):null}function NN(){this.b=null,this.a=[]}var Kd=null;function RN(r){var u=Kd;u.a.push(r),u.b||(u.b=function(c){for(var h=0;h<u.a.length;h++)u.a[h](c)},r=ht("universalLinks.subscribe",f),typeof r=="function"&&r(null,u.b))}function zd(r){var u="unauthorized-domain",c=void 0,h=kn(r);r=h.a,h=h.c,h=="chrome-extension"?c=nw("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=nw("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):u="operation-not-supported-in-this-environment",S.call(this,u,c)}D(zd,S);function Gu(r,u,c){S.call(this,r,c),r=u||{},r.Kb&&pe(this,"email",r.Kb),r.ea&&pe(this,"phoneNumber",r.ea),r.credential&&pe(this,"credential",r.credential),r.$b&&pe(this,"tenantId",r.$b)}D(Gu,S),Gu.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Kt(r,u),r},Gu.prototype.toJSON=function(){return this.w()};function Jc(r){if(r.code){var u=r.code||"";u.indexOf(De)==0&&(u=u.substring(De.length));var c={credential:$d(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new S(u,r.message||void 0);return new Gu(u,c,r.message)}return null}function Wu(){}Wu.prototype.c=null;function D0(r){return r.c||(r.c=r.b())}var Gd;function Zc(){}D(Zc,Wu),Zc.prototype.a=function(){var r=P0(this);return r?new ActiveXObject(r):new XMLHttpRequest},Zc.prototype.b=function(){var r={};return P0(this)&&(r[0]=!0,r[1]=!0),r};function P0(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<u.length;c++){var h=u[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}Gd=new Zc;function el(){}D(el,Wu),el.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new L0;throw Error("Unsupported browser")},el.prototype.b=function(){return{}};function L0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Tb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=L0.prototype,e.open=function(r,u,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,u)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Wd(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Wd(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Wd(this,1)};function Wd(r,u){r.readyState=u,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Xd(r,u,c){this.reset(r,u,c,void 0,void 0)}Xd.prototype.a=null,Xd.prototype.reset=function(r,u,c,h,g){delete this.a};function Yd(r){this.f=r,this.b=this.c=this.a=null}function Xu(r,u){this.name=r,this.value=u}Xu.prototype.toString=function(){return this.name};var M0=new Xu("SEVERE",1e3),Qd=new Xu("WARNING",900),xN=new Xu("CONFIG",700),ON=new Xu("FINE",500);function F0(r){return r.c?r.c:r.a?F0(r.a):(gt("Root logger has no level set."),null)}Yd.prototype.log=function(r,u,c){if(r.value>=F0(this).value)for(I(u)&&(u=u()),r=new Xd(r,String(u),this.f),c&&(r.a=c),c=this;c;)c=c.a};var Jd={},tl=null;function Zd(r){tl||(tl=new Yd(""),Jd[""]=tl,tl.c=xN);var u;if(!(u=Jd[r])){u=new Yd(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=Zd(r.substr(0,c)),c.b||(c.b={}),c.b[h]=u,u.a=c,Jd[r]=u}return u}function tr(r,u){r&&r.log(ON,u,void 0)}function nl(r){this.f=r}D(nl,Wu),nl.prototype.a=function(){return new rl(this.f)},nl.prototype.b=function(r){return function(){return r}}({});function rl(r){gn.call(this),this.u=r,this.h=void 0,this.readyState=ep,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Zd("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}D(rl,gn);var ep=0;e=rl.prototype,e.open=function(r,u){if(this.readyState!=ep)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=u,this.readyState=1,Qu(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(u.body=r),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Yu(this)),this.readyState=ep},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Qu(this)),this.a&&(this.readyState=3,Qu(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,U0(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function U0(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var u=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});u&&(this.response=this.responseText+=u),r.done?Yu(this):Qu(this),this.readyState==3&&U0(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,Yu(this))},e.sc=function(r){this.a&&(this.response=r,Yu(this))},e.Va=function(r){var u=this.i;u&&u.log(Qd,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Yu(this)};function Yu(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Qu(r)}e.setRequestHeader=function(r,u){this.l.append(r,u)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(Qd,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(Qd,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var u=this.b.entries(),c=u.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=u.next();return r.join(`\r
`)};function Qu(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(rl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Ju(r){gn.call(this),this.headers=new us,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=V0,this.u=this.S=!1}D(Ju,gn);var V0="";Ju.prototype.b=Zd("goog.net.XhrIo");var DN=/^https?$/i,PN=["POST","PUT"];function LN(r,u,c,h,g){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+u);c=c?c.toUpperCase():"GET",r.l=u,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():Gd.a(),r.C=r.D?D0(r.D):D0(Gd),r.a.onreadystatechange=O(r.Wb,r);try{tr(r.b,Yr(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(u),!0),r.N=!1}catch(w){tr(r.b,Yr(r,"Error opening Xhr: "+w.message)),j0(r,w);return}u=h||"";var y=new us(r.headers);g&&qC(g,function(w,T){y.set(T,w)}),g=A(y.Y()),h=f.FormData&&u instanceof f.FormData,!M(PN,c)||g||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(w,T){this.a.setRequestHeader(T,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{$0(r),0<r.g&&(r.u=MN(r.a),tr(r.b,Yr(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=O(r.Ma,r)):r.s=dd(r.Ma,r.g,r)),tr(r.b,Yr(r,"Sending request")),r.i=!0,r.a.send(u),r.i=!1}catch(w){tr(r.b,Yr(r,"Send error: "+w.message)),j0(r,w)}}function MN(r){return ar&&sw(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function FN(r){return r.toLowerCase()=="content-type"}e=Ju.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",tr(this.b,Yr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function j0(r,u){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=u,q0(r),il(r)}function q0(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(tr(this.b,Yr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),il(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),il(this,!0)),Ju.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?B0(this):this.Jc())},e.Jc=function(){B0(this)};function B0(r){if(r.c&&typeof l<"u"){if(r.C[1]&&Zu(r)==4&&ol(r)==2)tr(r.b,Yr(r,"Local request error detected and ignored"));else if(r.i&&Zu(r)==4)dd(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),Zu(r)==4){tr(r.b,Yr(r,"Request complete")),r.c=!1;try{var u=ol(r);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var h;if(!(h=c)){var g;if(g=u===0){var y=String(r.l).match(Lw)[1]||null;if(!y&&f.self&&f.self.location){var w=f.self.location.protocol;y=w.substr(0,w.length-1)}g=!DN.test(y?y.toLowerCase():"")}h=g}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var T=2<Zu(r)?r.a.statusText:""}catch(V){tr(r.b,"Can not get status: "+V.message),T=""}r.h=T+" ["+ol(r)+"]",q0(r)}}finally{il(r)}}}}function il(r,u){if(r.a){$0(r);var c=r.a,h=r.C[0]?v:null;r.a=null,r.C=null,u||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(g){(r=r.b)&&r.log(M0,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function $0(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function Zu(r){return r.a?r.a.readyState:0}function ol(r){try{return 2<Zu(r)?r.a.status:-1}catch{return-1}}function UN(r){try{return r.a?r.a.responseText:""}catch(u){return tr(r.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case V0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(M0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return tr(this.b,"Can not get response: "+u.message),null}};function Yr(r,u){return u+" ["+r.P+" "+r.l+" "+ol(r)+"]"}function fo(r){var u=qN;this.g=[],this.u=u,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}fo.prototype.cancel=function(r){if(this.a)this.c instanceof fo&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,r?u.cancel(r):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new ta,sl(this),ea(this,!1,r))}},fo.prototype.m=function(r,u){this.i=!1,ea(this,r,u)};function ea(r,u,c){r.a=!0,r.c=c,r.f=!u,K0(r)}function sl(r){if(r.a){if(!r.v)throw new ul;r.v=!1}}function VN(r,u){tp(r,null,u,void 0)}function tp(r,u,c,h){r.g.push([u,c,h]),r.a&&K0(r)}fo.prototype.then=function(r,u,c){var h,g,y=new Fe(function(w,T){h=w,g=T});return tp(this,h,function(w){w instanceof ta?y.cancel():g(w)}),y.then(r,u,c)},fo.prototype.$goog_Thenable=!0;function H0(r){return E(r.g,function(u){return I(u[1])})}function K0(r){if(r.h&&r.a&&H0(r)){var u=r.h,c=al[u];c&&(f.clearTimeout(c.a),delete al[u]),r.h=0}r.b&&(r.b.l--,delete r.b),u=r.c;for(var h=c=!1;r.g.length&&!r.i;){var g=r.g.shift(),y=g[0],w=g[1];if(g=g[2],y=r.f?w:y)try{var T=y.call(g||r.s,u);T!==void 0&&(r.f=r.f&&(T==u||T instanceof Error),r.c=u=T),(Ne(u)||typeof f.Promise=="function"&&u instanceof f.Promise)&&(h=!0,r.i=!0)}catch(V){u=V,r.f=!0,H0(r)||(c=!0)}}r.c=u,h&&(T=O(r.m,r,!0),h=O(r.m,r,!1),u instanceof fo?(tp(u,T,h),u.C=!0):u.then(T,h)),c&&(u=new z0(u),al[u.a]=u,r.h=u.a)}function ul(){we.call(this)}D(ul,we),ul.prototype.message="Deferred has already fired",ul.prototype.name="AlreadyCalledError";function ta(){we.call(this)}D(ta,we),ta.prototype.message="Deferred was canceled",ta.prototype.name="CanceledError";function z0(r){this.a=f.setTimeout(O(this.c,this),0),this.b=r}z0.prototype.c=function(){throw delete al[this.a],this.b};var al={};function np(r){var u={},c=u.document||document,h=Wy(r).toString(),g=Dc(document,"SCRIPT"),y={Xb:g,Ma:void 0},w=new fo(y),T=null,V=u.timeout!=null?u.timeout:5e3;return 0<V&&(T=window.setTimeout(function(){cl(g,!0);var G=new rp($N,"Timeout reached for loading script "+h);sl(w),ea(w,!1,G)},V),y.Ma=T),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(cl(g,u.xd||!1,T),sl(w),ea(w,!0,null))},g.onerror=function(){cl(g,!0,T);var G=new rp(BN,"Error while loading script "+h);sl(w),ea(w,!1,G)},y=u.attributes||{},Kt(y,{type:"text/javascript",charset:"UTF-8"}),aw(g,y),yC(g,r),jN(c).appendChild(g),w}function jN(r){var u;return(u=(r||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:r.documentElement}function qN(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&cl(r,!0,this.Ma)}}function cl(r,u,c){c!=null&&f.clearTimeout(c),r.onload=v,r.onerror=v,r.onreadystatechange=v,u&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var BN=0,$N=1;function rp(r,u){var c="Jsloader error (code #"+r+")";u&&(c+=": "+u),we.call(this,c),this.code=r}D(rp,we);function ll(r){this.f=r}D(ll,Wu),ll.prototype.a=function(){return new this.f},ll.prototype.b=function(){return{}};function fr(r,u,c){if(this.c=r,r=u||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||HN,this.g=bt(r.secureTokenHeaders||KN),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||zN,this.a=bt(r.firebaseHeaders||GN),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Nr()=="Node",c=f.XMLHttpRequest||c&&be.INTERNAL.node&&be.INTERNAL.node.XMLHttpRequest,!c&&!cr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,cr()?this.f=new nl(self):Gw()?this.f=new ll(c):this.f=new el,this.b=null}var ip,hr="idToken",HN=new mi(3e4,6e4),KN={"Content-Type":"application/x-www-form-urlencoded"},zN=new mi(3e4,6e4),GN={"Content-Type":"application/json"};function G0(r,u){u?r.a["X-Firebase-Locale"]=u:delete r.a["X-Firebase-Locale"]}function fl(r,u){u&&(r.l=op("https://securetoken.googleapis.com/v1/token",u),r.h=op("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),r.i=op("https://identitytoolkit.googleapis.com/v2/",u))}function op(r,u){return r=kn(r),u=kn(u.url),r.f=r.a+r.f,Pu(r,u.c),r.a=u.a,Lu(r,u.g),r.toString()}function W0(r,u){u?(r.a["X-Client-Version"]=u,r.g["X-Client-Version"]=u):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}fr.prototype.T=function(){return this.b};function X0(r,u,c,h,g,y,w){QC()||cr()?r=O(r.u,r):(ip||(ip=new Fe(function(T,V){XN(T,V)})),r=O(r.s,r)),r(u,c,h,g,y,w)}fr.prototype.u=function(r,u,c,h,g,y){if(cr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Ju(this.f);if(y){w.g=Math.max(0,y);var T=setTimeout(function(){w.dispatchEvent("timeout")},y)}Ow(w,"complete",function(){T&&clearTimeout(T);var V=null;try{V=JSON.parse(UN(this))||null}catch{V=null}u&&u(V)}),hd(w,"ready",function(){T&&clearTimeout(T),Sw(this)}),hd(w,"timeout",function(){T&&clearTimeout(T),Sw(this),u&&u(null)}),LN(w,r,c,h,g)};var WN=new kr(Nc,"https://apis.google.com/js/client.js?onload=%{onload}"),Y0="__fcb"+Math.floor(1e6*Math.random()).toString();function XN(r,u){if(((window.gapi||{}).client||{}).request)r();else{f[Y0]=function(){((window.gapi||{}).client||{}).request?r():u(Error("CORS_UNSUPPORTED"))};var c=Wh(WN,{onload:Y0});VN(np(c),function(){u(Error("CORS_UNSUPPORTED"))})}}fr.prototype.s=function(r,u,c,h,g){var y=this;ip.then(function(){window.gapi.client.setApiKey(y.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:g,authType:"none",callback:function(T){window.gapi.auth.setToken(w),u&&u(T)}})}).o(function(w){u&&u({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function YN(r,u){return new Fe(function(c,h){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?X0(r,r.l+"?key="+encodeURIComponent(r.c),function(g){g?g.error?h(dp(g)):g.access_token&&g.refresh_token?c(g):h(new S("internal-error")):h(new S("network-request-failed"))},"POST",Fw(u).toString(),r.g,r.m.get()):h(new S("internal-error"))})}function Q0(r,u,c,h,g,y,w){var T=kn(u+c);St(T,"key",r.c),w&&St(T,"cb",Date.now().toString());var V=h=="GET";if(V)for(var G in g)g.hasOwnProperty(G)&&St(T,G,g[G]);return new Fe(function(Se,Ze){X0(r,T.toString(),function(He){He?He.error?Ze(dp(He,y||{})):Se(He):Ze(new S("network-request-failed"))},h,V?void 0:jw(Yw(g)),r.a,r.v.get())})}function ho(r){if(r=r.email,typeof r!="string"||!eN.test(r))throw new S("invalid-email")}function J0(r){"email"in r&&ho(r)}function QN(r,u){return Ue(r,uR,{identifier:u,continueUri:$c()?Uu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function JN(r){return Ue(r,wR,{}).then(function(u){return u.authorizedDomains||[]})}function Cn(r){if(!r[hr])throw r.mfaPendingCredential?new S("multi-factor-auth-required",null,bt(r)):new S("internal-error")}function sp(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new S("internal-error")}else{if(!r.sessionInfo)throw new S("missing-verification-id");if(!r.code)throw new S("missing-verification-code")}}fr.prototype.Ab=function(){return Ue(this,IR,{})},fr.prototype.Cb=function(r,u){return Ue(this,tb,{idToken:r,email:u})},fr.prototype.Db=function(r,u){return Ue(this,nb,{idToken:r,password:u})};var ZN={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=fr.prototype,e.Eb=function(r,u){var c={idToken:r},h=[];return hi(ZN,function(g,y){var w=u[y];w===null?h.push(g):y in u&&(c[y]=w)}),h.length&&(c.deleteAttribute=h),Ue(this,tb,c)},e.wb=function(r,u){return r={requestType:"PASSWORD_RESET",email:r},Kt(r,u),Ue(this,yR,r)},e.xb=function(r,u){return r={requestType:"EMAIL_SIGNIN",email:r},Kt(r,u),Ue(this,gR,r)},e.vb=function(r,u){return r={requestType:"VERIFY_EMAIL",idToken:r},Kt(r,u),Ue(this,mR,r)},e.Fb=function(r,u,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:u},Kt(r,c),Ue(this,vR,r)};function eR(r,u){return Ue(r,ER,u)}e.gb=function(r){return Ue(this,RR,r)};function tR(r,u){return Ue(r,TR,u).then(function(c){return c.phoneSessionInfo.sessionInfo})}function Z0(r){if(!r.phoneVerificationInfo)throw new S("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new S("missing-verification-code")}function nR(r,u){return Ue(r,SR,u).then(function(c){return c.phoneResponseInfo.sessionInfo})}function rR(r,u,c){return Ue(r,cR,{idToken:u,deleteProvider:c})}function up(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new S("internal-error")}function ap(r,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(r.sessionId?u.nonce=r.sessionId:r.postBody&&(r=new no(r.postBody),md(r,"nonce")&&(u.nonce=r.get("nonce")))),u}function eb(r){var u=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",u=Jc(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",u=Jc(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",u=Jc(r)):r.errorMessage&&(u=ib(r.errorMessage)),u)throw u;Cn(r)}function cp(r,u){return u.returnIdpCredential=!0,Ue(r,AR,u)}function lp(r,u){return u.returnIdpCredential=!0,Ue(r,CR,u)}function fp(r,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Ue(r,kR,u)}function hp(r){if(!r.oobCode)throw new S("invalid-action-code")}e.ob=function(r,u){return Ue(this,_R,{oobCode:r,newPassword:u})},e.Sa=function(r){return Ue(this,oR,{oobCode:r})},e.kb=function(r){return Ue(this,iR,{oobCode:r})};var iR={endpoint:"setAccountInfo",A:hp,Z:"email",B:!0},oR={endpoint:"resetPassword",A:hp,G:function(r){var u=r.requestType;if(!u||!r.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new S("internal-error")},B:!0},sR={endpoint:"signupNewUser",A:function(r){if(ho(r),!r.password)throw new S("weak-password")},G:Cn,V:!0,B:!0},uR={endpoint:"createAuthUri",B:!0},aR={endpoint:"deleteAccount",O:["idToken"]},cR={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new S("internal-error")}},lR={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ho,G:Cn,V:!0,B:!0},fR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ho,G:Cn,V:!0},hR={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Z0,G:Cn,B:!0,Na:!0},dR={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Z0,G:Cn,B:!0,Na:!0},pR={endpoint:"getAccountInfo"},gR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new S("internal-error");ho(r)},Z:"email",B:!0},mR={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new S("internal-error")},Z:"email",B:!0},vR={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new S("internal-error")},Z:"email",B:!0},yR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new S("internal-error");ho(r)},Z:"email",B:!0},wR={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},bR={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new S("internal-error")}},_R={endpoint:"resetPassword",A:hp,Z:"email",B:!0},ER={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},tb={endpoint:"setAccountInfo",O:["idToken"],A:J0,V:!0},nb={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(J0(r),!r.password)throw new S("weak-password")},G:Cn,V:!0},IR={endpoint:"signupNewUser",G:Cn,V:!0,B:!0},TR={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new S("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},SR={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},AR={endpoint:"verifyAssertion",A:up,Za:ap,G:eb,V:!0,B:!0},kR={endpoint:"verifyAssertion",A:up,Za:ap,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new S("user-not-found");if(r.errorMessage)throw ib(r.errorMessage);Cn(r)},V:!0,B:!0},CR={endpoint:"verifyAssertion",A:function(r){if(up(r),!r.idToken)throw new S("internal-error")},Za:ap,G:eb,V:!0},NR={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new S("invalid-custom-token")},G:Cn,V:!0,B:!0},rb={endpoint:"verifyPassword",A:function(r){if(ho(r),!r.password)throw new S("wrong-password")},G:Cn,V:!0,B:!0},RR={endpoint:"verifyPhoneNumber",A:sp,G:Cn,B:!0},xR={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new S("internal-error");sp(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",Jc(r);Cn(r)}},OR={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:sp,G:Cn,B:!0},DR={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[hr]^!!r.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function Ue(r,u,c){if(!uN(c,u.O))return ft(new S("internal-error"));var h=!!u.Na,g=u.Vb||"POST",y;return ve(c).then(u.A).then(function(){return u.V&&(c.returnSecureToken=!0),u.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?Q0(r,r.i,u.endpoint,g,c,u.Ib,u.mb||!1):Q0(r,r.h,u.endpoint,g,c,u.Ib,u.mb||!1)}).then(function(w){return y=w,u.Za?u.Za(c,y):y}).then(u.G).then(function(){if(!u.Z)return y;if(!(u.Z in y))throw new S("internal-error");return y[u.Z]})}function ib(r){return dp({error:{errors:[{message:r}],code:400,message:r}})}function dp(r,u){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new S(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Kt(h,u||{}),u=(u=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in h)if(c.indexOf(g)===0)return new S(h[g],u);return!u&&r&&(u=ju(r)),new S("internal-error",u)}function PR(r){this.b=r,this.a=null,this.sb=LR(this)}function LR(r){return qR().then(function(){return new Fe(function(u,c){ht("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:ht("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function g(){clearTimeout(y),u()}r.a=h,r.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},jR.get());h.ping(g).then(g,function(){c(Error("Network Error"))})})})})}function MR(r,u){return r.sb.then(function(){return new Fe(function(c){r.a.send(u.type,u,c,ht("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function FR(r,u){r.sb.then(function(){r.a.register("authEvent",u,ht("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var UR=new kr(Nc,"https://apis.google.com/js/api.js?onload=%{onload}"),VR=new mi(3e4,6e4),jR=new mi(5e3,15e3),hl=null;function qR(){return hl||(hl=new Fe(function(r,u){function c(){Jw(),ht("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){Jw(),u(Error("Network Error"))},timeout:VR.get()})}if(ht("gapi.iframes.Iframe"))r();else if(ht("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){ht("gapi.load")?c():u(Error("Network Error"))},h=Wh(UR,{onload:h}),ve(np(h)).o(function(){u(Error("Network Error"))})}}).o(function(r){throw hl=null,r}))}function ob(r,u,c,h){this.l=r,this.h=u,this.i=c,this.g=h,this.f=null,this.g?(r=kn(this.g.url),r=qc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=qc("https",this.l,null,"/__/auth/iframe"),this.a=r,St(this.a,"apiKey",this.h),St(this.a,"appName",this.i),this.b=null,this.c=[]}ob.prototype.toString=function(){return this.f?St(this.a,"v",this.f):Cr(this.a.b,"v"),this.b?St(this.a,"eid",this.b):Cr(this.a.b,"eid"),this.c.length?St(this.a,"fw",this.c.join(",")):Cr(this.a.b,"fw"),this.a.toString()};function pp(r,u,c,h,g,y){this.u=r,this.s=u,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}pp.prototype.zb=function(r){return this.h=r,this},pp.prototype.toString=function(){if(this.v){var r=kn(this.v.url);r=qc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=qc("https",this.u,null,"/__/auth/handler");if(St(r,"apiKey",this.s),St(r,"appName",this.c),St(r,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var c=be.app(this.c).auth().la()}catch{c=null}u.pb=c,St(r,"providerId",this.a.providerId),c=this.a,u=Yw(c.Jb);for(var h in u)u[h]=u[h].toString();h=c.Qc,u=bt(u);for(var g=0;g<h.length;g++){var y=h[g];y in u&&delete u[y]}c.qb&&c.pb&&!u[c.qb]&&(u[c.qb]=c.pb),Ar(u)||St(r,"customParameters",ju(u))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&St(r,"scopes",c.join(","))),this.l?St(r,"redirectUrl",this.l):Cr(r.b,"redirectUrl"),this.g?St(r,"eventId",this.g):Cr(r.b,"eventId"),this.i?St(r,"v",this.i):Cr(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Zn(r,w)&&St(r,w,this.b[w]);return this.h?St(r,"tid",this.h):Cr(r.b,"tid"),this.f?St(r,"eid",this.f):Cr(r.b,"eid"),w=gp(this.c),w.length&&St(r,"fw",w.join(",")),r.toString()};function gp(r){try{return be.app(r).auth().Ga()}catch{return[]}}function sb(r,u,c,h,g,y){this.s=r,this.g=u,this.b=c,this.f=y,this.c=h||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function ub(r){var u=Uu();return JN(r).then(function(c){e:{var h=kn(u),g=h.c;h=h.a;for(var y=0;y<c.length;y++){var w=c[y],T=h,V=g;if(w.indexOf("chrome-extension://")==0?T=kn(w).a==T&&V=="chrome-extension":V!="http"&&V!="https"?T=!1:ZC.test(w)?T=T==w:(w=w.split(".").join("\\."),T=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(T)),T){c=!0;break e}}c=!1}if(!c)throw new zd(Uu())})}function ab(r){return r.m||(r.m=Bc().then(function(){if(!r.u){var u=r.c,c=r.i,h=gp(r.b),g=new ob(r.s,r.g,r.b,r.f);g.f=u,g.b=c,g.c=se(h||[]),r.u=g.toString()}r.v=new PR(r.u),BR(r)})),r.m}e=sb.prototype,e.Pb=function(r,u,c){var h=new S("popup-closed-by-user"),g=new S("web-storage-unsupported"),y=this,w=!1;return this.ma().then(function(){$R(y).then(function(T){T||(r&&ro(r),u(g),w=!0)})}).o(function(){}).then(function(){if(!w)return JC(r)}).then(function(){if(!w)return ss(c).then(function(){u(h)})})},e.Yb=function(){var r=zt();return!Vu(r)&&!Qw(r)},e.Ub=function(){return!1},e.Nb=function(r,u,c,h,g,y,w,T){if(!r)return ft(new S("popup-blocked"));if(w&&!Vu())return this.ma().o(function(G){ro(r),g(G)}),h(),ve();this.a||(this.a=ub(cb(this)));var V=this;return this.a.then(function(){var G=V.ma().o(function(Se){throw ro(r),g(Se),Se});return h(),G}).then(function(){if(Hd(c),!w){var G=na(V.s,V.g,V.b,u,c,null,y,V.c,void 0,V.i,T,V.f);$w(G,r)}}).o(function(G){throw G.code=="auth/network-request-failed"&&(V.a=null),G})};function cb(r){return r.l||(r.C=r.c?ls(r.c,gp(r.b)):null,r.l=new fr(r.g,je(r.i),r.C),r.f&&fl(r.l,r.f)),r.l}e.Ob=function(r,u,c,h){this.a||(this.a=ub(cb(this)));var g=this;return this.a.then(function(){Hd(u);var y=na(g.s,g.g,g.b,r,u,Uu(),c,g.c,void 0,g.i,h,g.f);$w(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(g.a=null),y})},e.ma=function(){var r=this;return ab(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new S("network-request-failed")})},e.ac=function(){return!0};function na(r,u,c,h,g,y,w,T,V,G,Se,Ze){return r=new pp(r,u,c,h,g,Ze),r.l=y,r.g=w,r.i=T,r.b=bt(V||null),r.f=G,r.zb(Se).toString()}function BR(r){if(!r.v)throw Error("IfcHandler must be initialized!");FR(r.v,function(u){var c={};if(u&&u.authEvent){var h=!1;for(u=O0(u.authEvent),c=0;c<r.h.length;c++)h=r.h[c](u)||h;return c={},c.status=h?"ACK":"ERROR",ve(c)}return c.status="ERROR",ve(c)})}function $R(r){var u={type:"webStorageSupport"};return ab(r).then(function(){return MR(r.v,u)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){H(this.h,function(u){return u==r})};function lb(r){if(this.a=r||be.INTERNAL.reactNative&&be.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=lb.prototype,e.get=function(r){return ve(this.a.getItem(r)).then(function(u){return u&&hs(u)})},e.set=function(r,u){return ve(this.a.setItem(r,ju(u)))},e.U=function(r){return ve(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function fb(r){this.b=r,this.a={},this.f=O(this.c,this)}var hb=[];function HR(){var r=cr()?self:null;if(Z(hb,function(c){c.b==r&&(u=c)}),!u){var u=new fb(r);hb.push(u)}return u}fb.prototype.c=function(r){var u=r.data.eventType,c=r.data.eventId,h=this.a[u];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:u,response:null});var g=[];Z(h,function(y){g.push(ve().then(function(){return y(r.origin,r.data.data)}))}),mw(g).then(function(y){var w=[];Z(y,function(T){w.push({fulfilled:T.Qb,value:T.value,reason:T.reason?T.reason.message:void 0})}),Z(w,function(T){for(var V in T)typeof T[V]>"u"&&delete T[V]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:u,response:w})})}};function db(r,u,c){Ar(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[u]>"u"&&(r.a[u]=[]),r.a[u].push(c)}function pb(r){this.a=r}pb.prototype.postMessage=function(r,u){this.a.postMessage(r,u)};function gb(r){this.c=r,this.b=!1,this.a=[]}function mb(r,u,c,h){var g,y=c||{},w,T,V,G=null;if(r.b)return ft(Error("connection_unavailable"));var Se=h?800:50,Ze=typeof MessageChannel<"u"?new MessageChannel:null;return new Fe(function(He,jt){Ze?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ze.port1.start(),T=setTimeout(function(){jt(Error("unsupported_event"))},Se),w=function(Qr){Qr.data.eventId===g&&(Qr.data.status==="ack"?(clearTimeout(T),V=setTimeout(function(){jt(Error("timeout"))},3e3)):Qr.data.status==="done"?(clearTimeout(V),typeof Qr.data.response<"u"?He(Qr.data.response):jt(Error("unknown_error"))):(clearTimeout(T),clearTimeout(V),jt(Error("invalid_response"))))},G={messageChannel:Ze,onMessage:w},r.a.push(G),Ze.port1.addEventListener("message",w),r.c.postMessage({eventType:u,eventId:g,data:y},[Ze.port2])):jt(Error("connection_unavailable"))}).then(function(He){return mp(r,G),He}).o(function(He){throw mp(r,G),He})}function mp(r,u){if(u){var c=u.messageChannel,h=u.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),H(r.a,function(g){return g==u})}}gb.prototype.close=function(){for(;0<this.a.length;)mp(this,this.a[0]);this.b=!0};function vb(){if(!wp())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;cr()&&self?(this.v=HR(),db(this.v,"keyChanged",function(u,c){return bb(r).then(function(h){return 0<h.length&&Z(r.a,function(g){g(h)}),{keyProcessed:M(h,c.key)}})}),db(this.v,"ping",function(){return ve(["keyChanged"])})):oN().then(function(u){(r.h=u)&&(r.g=new gb(new pb(u)),mb(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&M(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var vp;function KR(r){return new Fe(function(u,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){u()},h.onerror=function(g){c(Error(g.target.error))}})}function yb(r){return new Fe(function(u,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(g){try{g.preventDefault()}catch{}c(Error(g.target.error))},h.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):KR(r).then(function(){return yb(r)}).then(function(y){u(y)}).o(function(y){c(y)})}})}function yp(r){return r.i||(r.i=yb(r)),r.i}function dl(r,u){function c(g,y){yp(r).then(u).then(g).o(function(w){if(3<++h)y(w);else return yp(r).then(function(T){return T.close(),r.i=void 0,c(g,y)}).o(function(T){y(T)})})}var h=0;return new Fe(c)}function wp(){try{return!!f.indexedDB}catch{return!1}}function ra(r){return r.objectStore("firebaseLocalStorage")}function ia(r,u){return r.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function ms(r){return new Fe(function(u,c){r.onsuccess=function(h){h&&h.target?u(h.target.result):u()},r.onerror=function(h){c(h.target.error)}})}e=vb.prototype,e.set=function(r,u){var c=this,h=!1;return dl(this,function(g){return g=ra(ia(g,!0)),ms(g.get(r))}).then(function(g){return dl(c,function(y){if(y=ra(ia(y,!0)),g)return g.value=u,ms(y.put(g));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=u,ms(y.add(w))})}).then(function(){return c.c[r]=u,wb(c,r)}).oa(function(){h&&c.b--})};function wb(r,u){return r.g&&r.h&&iN()===r.h?mb(r.g,"keyChanged",{key:u},r.s).then(function(){}).o(function(){}):ve()}e.get=function(r){return dl(this,function(u){return ms(ra(ia(u,!1)).get(r))}).then(function(u){return u&&u.value})},e.U=function(r){var u=this,c=!1;return dl(this,function(h){return c=!0,u.b++,ms(ra(ia(h,!0)).delete(r))}).then(function(){return delete u.c[r],wb(u,r)}).oa(function(){c&&u.b--})};function bb(r){return yp(r).then(function(u){var c=ra(ia(u,!1));return c.getAll?ms(c.getAll()):new Fe(function(h,g){var y=[],w=c.openCursor();w.onsuccess=function(T){(T=T.target.result)?(y.push(T.value),T.continue()):h(y)},w.onerror=function(T){g(T.target.error)}})}).then(function(u){var c={},h=[];if(r.b==0){for(h=0;h<u.length;h++)c[u[h].fbase_key]=u[h].value;h=Hw(r.c,c),r.c=c}return h})}e.ca=function(r){this.a.length==0&&zR(this),this.a.push(r)},e.ia=function(r){H(this.a,function(u){return u==r}),this.a.length==0&&_b(this)};function zR(r){function u(){r.f=setTimeout(function(){r.l=bb(r).then(function(c){0<c.length&&Z(r.a,function(h){h(c)})}).then(function(){u()}).o(function(c){c.message!="STOP_EVENT"&&u()})},800)}_b(r),u()}function _b(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function Eb(r){var u=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=ve().then(function(){if(wp()){var h=oo(),g="__sak"+h;return vp||(vp=new vb),c=vp,c.set(g,h).then(function(){return c.get(g)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(g)}).then(function(){return c}).o(function(){return u.c})}return u.c}).then(function(h){return u.type=h.type,h.ca(function(g){Z(u.a,function(y){y(g)})}),h})}e=Eb.prototype,e.get=function(r){return this.b.then(function(u){return u.get(r)})},e.set=function(r,u){return this.b.then(function(c){return c.set(r,u)})},e.U=function(r){return this.b.then(function(u){return u.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){H(this.a,function(u){return u==r})};function oa(){this.a={},this.type="inMemory"}e=oa.prototype,e.get=function(r){return ve(this.a[r])},e.set=function(r,u){return this.a[r]=u,ve()},e.U=function(r){return delete this.a[r],ve()},e.ca=function(){},e.ia=function(){};function pl(){if(!GR())throw Nr()=="Node"?new S("internal-error","The LocalStorage compatibility library was not found."):new S("web-storage-unsupported");this.a=Ib()||be.INTERNAL.node.localStorage,this.type="localStorage"}function Ib(){try{var r=f.localStorage,u=oo();return r&&(r.setItem(u,"1"),r.removeItem(u)),r}catch{return null}}function GR(){var r=Nr()=="Node";if(r=Ib()||r&&be.INTERNAL.node&&be.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=pl.prototype,e.get=function(r){var u=this;return ve().then(function(){var c=u.a.getItem(r);return hs(c)})},e.set=function(r,u){var c=this;return ve().then(function(){var h=ju(u);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var u=this;return ve().then(function(){u.a.removeItem(r)})},e.ca=function(r){f.window&&Jn(f.window,"storage",r)},e.ia=function(r){f.window&&Vn(f.window,"storage",r)};function bp(){this.type="nullStorage"}e=bp.prototype,e.get=function(){return ve(null)},e.set=function(){return ve()},e.U=function(){return ve()},e.ca=function(){},e.ia=function(){};function _p(){if(!WR())throw Nr()=="Node"?new S("internal-error","The SessionStorage compatibility library was not found."):new S("web-storage-unsupported");this.a=Tb()||be.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Tb(){try{var r=f.sessionStorage,u=oo();return r&&(r.setItem(u,"1"),r.removeItem(u)),r}catch{return null}}function WR(){var r=Nr()=="Node";if(r=Tb()||r&&be.INTERNAL.node&&be.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=_p.prototype,e.get=function(r){var u=this;return ve().then(function(){var c=u.a.getItem(r);return hs(c)})},e.set=function(r,u){var c=this;return ve().then(function(){var h=ju(u);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var u=this;return ve().then(function(){u.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function XR(){var r={};r.Browser=YR,r.Node=QR,r.ReactNative=JR,r.Worker=ZR,this.a=r[Nr()]}var Ep,YR={F:pl,cb:_p},QR={F:pl,cb:_p},JR={F:lb,cb:bp},ZR={F:pl,cb:bp},vs={rd:"local",NONE:"none",td:"session"};function ex(r){var u=new S("invalid-persistence-type"),c=new S("unsupported-persistence-type");e:{for(h in vs)if(vs[h]==r){var h=!0;break e}h=!1}if(!h||typeof r!="string")throw u;switch(Nr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!wp()&&r!=="none")throw c;break;default:if(!Ed()&&r!=="none")throw c}}function Sb(){var r=!!(!Qw(zt())&&bd()),u=Vu(),c=Ed();this.m=r,this.h=u,this.l=c,this.a={},Ep||(Ep=new XR),r=Ep;try{this.g=!yd()&&Zw()||!f.indexedDB?new r.a.F:new Eb(cr()?new oa:new r.a.F)}catch{this.g=new oa,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new oa}this.v=new oa,this.f=O(this.Zb,this),this.b={}}var Ip;function sa(){return Ip||(Ip=new Sb),Ip}function po(r,u){switch(u){case"session":return r.i;case"none":return r.v;default:return r.g}}function ys(r,u){return"firebase:"+r.name+(u?":"+u:"")}function tx(r,u,c){var h=ys(u,c),g=po(r,u.F);return r.get(u,c).then(function(y){var w=null;try{w=hs(f.localStorage.getItem(h))}catch{}if(w&&!y)return f.localStorage.removeItem(h),r.set(u,w,c);w&&y&&g.type!="localStorage"&&f.localStorage.removeItem(h)})}e=Sb.prototype,e.get=function(r,u){return po(this,r.F).get(ys(r,u))};function ws(r,u,c){return c=ys(u,c),u.F=="local"&&(r.b[c]=null),po(r,u.F).U(c)}e.set=function(r,u,c){var h=ys(r,c),g=this,y=po(this,r.F);return y.set(h,u).then(function(){return y.get(h)}).then(function(w){r.F=="local"&&(g.b[h]=w)})},e.addListener=function(r,u,c){r=ys(r,u),this.l&&(this.b[r]=f.localStorage.getItem(r)),Ar(this.a)&&(po(this,"local").ca(this.f),this.h||(yd()||!Zw())&&f.indexedDB||!this.l||nx(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,u,c){r=ys(r,u),this.a[r]&&(H(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),Ar(this.a)&&(po(this,"local").ia(this.f),Tp(this))};function nx(r){Tp(r),r.c=setInterval(function(){for(var u in r.a){var c=f.localStorage.getItem(u),h=r.b[u];c!=h&&(r.b[u]=c,c=new eo({type:"storage",key:u,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Tp(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var u=r.a.key;if(u==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var g=f.localStorage.getItem(c);g!==h&&(this.b[c]=g,this.nb(c))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof r.a.a<"u"?po(this,"local").ia(this.f):Tp(this),this.m){if(c=f.localStorage.getItem(u),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(u,h):f.localStorage.removeItem(u);else if(this.b[u]===h&&typeof r.a.a>"u")return}var y=this;c=function(){(typeof r.a.a<"u"||y.b[u]!==f.localStorage.getItem(u))&&(y.b[u]=f.localStorage.getItem(u),y.nb(u))},ar&&di&&di==10&&f.localStorage.getItem(u)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else Z(r,O(this.nb,this))},e.nb=function(r){this.a[r]&&Z(this.a[r],function(u){u()})};function rx(r){this.a=r,this.b=sa()}var Sp={name:"authEvent",F:"local"};function ix(r){return r.b.get(Sp,r.a).then(function(u){return O0(u)})}function ox(){this.a=sa()}function sx(){this.b=-1}function gl(r,u){this.b=Ab,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=u,this.l=f.Int32Array?new Int32Array(64):Array(64),ml===void 0&&(f.Int32Array?ml=new Int32Array(Nb):ml=Nb),this.reset()}var ml;D(gl,sx);for(var Ab=64,ux=Ab-1,kb=[],Ap=0;Ap<ux;Ap++)kb[Ap]=0;var Cb=te(128,kb);gl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):se(this.h)};function kp(r){for(var u=r.f,c=r.l,h=0,g=0;g<u.length;)c[h++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*h;for(u=16;64>u;u++){g=c[u-15]|0,h=c[u-2]|0;var y=(c[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,w=(c[u-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[u]=y+w|0}h=r.a[0]|0,g=r.a[1]|0;var T=r.a[2]|0,V=r.a[3]|0,G=r.a[4]|0,Se=r.a[5]|0,Ze=r.a[6]|0;for(y=r.a[7]|0,u=0;64>u;u++){var He=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&g^h&T^g&T)|0;w=G&Se^~G&Ze,y=y+((G>>>6|G<<26)^(G>>>11|G<<21)^(G>>>25|G<<7))|0,w=w+(ml[u]|0)|0,w=y+(w+(c[u]|0)|0)|0,y=Ze,Ze=Se,Se=G,G=V+w|0,V=T,T=g,g=h,h=w+He|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+g|0,r.a[2]=r.a[2]+T|0,r.a[3]=r.a[3]+V|0,r.a[4]=r.a[4]+G|0,r.a[5]=r.a[5]+Se|0,r.a[6]=r.a[6]+Ze|0,r.a[7]=r.a[7]+y|0}function Cp(r,u,c){c===void 0&&(c=u.length);var h=0,g=r.c;if(typeof u=="string")for(;h<c;)r.f[g++]=u.charCodeAt(h++),g==r.b&&(kp(r),g=0);else if(_(u))for(;h<c;){var y=u[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");r.f[g++]=y,g==r.b&&(kp(r),g=0)}else throw Error("message must be string or array");r.c=g,r.g+=c}var Nb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Rb(){gl.call(this,8,ax)}D(Rb,gl);var ax=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function xb(r,u,c,h,g,y){this.v=r,this.i=u,this.l=c,this.m=h||null,this.u=g||null,this.s=y,this.h=u+":"+c,this.C=new ox,this.g=new rx(this.h),this.f=null,this.b=[],this.a=this.c=null}function vl(r){return new S("invalid-cordova-configuration",r)}e=xb.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=tN().then(function(){if(typeof ht("universalLinks.subscribe",f)!="function")throw vl("cordova-universal-links-plugin-fix is not installed");if(typeof ht("BuildInfo.packageName",f)>"u")throw vl("cordova-plugin-buildinfo is not installed");if(typeof ht("cordova.plugins.browsertab.openUrl",f)!="function")throw vl("cordova-plugin-browsertab is not installed");if(typeof ht("cordova.InAppBrowser.open",f)!="function")throw vl("cordova-plugin-inappbrowser is not installed")},function(){throw new S("cordova-not-ready")})};function cx(){for(var r=20,u=[];0<r;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return u.join("")}function lx(r){var u=new Rb;Cp(u,r),r=[];var c=8*u.g;56>u.c?Cp(u,Cb,56-u.c):Cp(u,Cb,u.b-(u.c-56));for(var h=63;56<=h;h--)u.f[h]=c&255,c/=256;for(kp(u),h=c=0;h<u.i;h++)for(var g=24;0<=g;g-=8)r[c++]=u.a[h]>>g&255;return _N(r)}e.Pb=function(r,u){return u(new S("operation-not-supported-in-this-environment")),ve()},e.Nb=function(){return ft(new S("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,u,c,h){if(this.c)return ft(new S("redirect-operation-pending"));var g=this,y=f.document,w=null,T=null,V=null,G=null;return this.c=ve().then(function(){return Hd(u),Db(g)}).then(function(){return fx(g,r,u,c,h)}).then(function(){return new Fe(function(Se,Ze){T=function(){var He=ht("cordova.plugins.browsertab.close",f);return Se(),typeof He=="function"&&He(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(T),V=function(){w||(w=ss(2e3).then(function(){Ze(new S("redirect-cancelled-by-user"))}))},G=function(){Id()&&V()},y.addEventListener("resume",V,!1),zt().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",G,!1)}).o(function(Se){return Np(g).then(function(){throw Se})})}).oa(function(){V&&y.removeEventListener("resume",V,!1),G&&y.removeEventListener("visibilitychange",G,!1),w&&w.cancel(),T&&g.Ta(T),g.c=null})};function fx(r,u,c,h,g){var y=cx(),w=new lr(u,h,null,y,new S("no-auth-event"),null,g),T=ht("BuildInfo.packageName",f);if(typeof T!="string")throw new S("invalid-cordova-configuration");var V=ht("BuildInfo.displayName",f),G={};if(zt().toLowerCase().match(/iphone|ipad|ipod/))G.ibi=T;else if(zt().toLowerCase().match(/android/))G.apn=T;else return ft(new S("operation-not-supported-in-this-environment"));V&&(G.appDisplayName=V),y=lx(y),G.sessionId=y;var Se=na(r.v,r.i,r.l,u,c,null,h,r.m,G,r.u,g,r.s);return r.ma().then(function(){var Ze=r.h;return r.C.a.set(Sp,w.w(),Ze)}).then(function(){var Ze=ht("cordova.plugins.browsertab.isAvailable",f);if(typeof Ze!="function")throw new S("invalid-cordova-configuration");var He=null;Ze(function(jt){if(jt){if(He=ht("cordova.plugins.browsertab.openUrl",f),typeof He!="function")throw new S("invalid-cordova-configuration");He(Se)}else{if(He=ht("cordova.InAppBrowser.open",f),typeof He!="function")throw new S("invalid-cordova-configuration");jt=zt(),r.a=He(Se,jt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||jt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Ob(r,u){for(var c=0;c<r.b.length;c++)try{r.b[c](u)}catch{}}function Db(r){return r.f||(r.f=r.ma().then(function(){return new Fe(function(u){function c(h){return u(h),r.Ta(c),!1}r.Ea(c),hx(r)})})),r.f}function Np(r){var u=null;return ix(r.g).then(function(c){return u=c,c=r.g,ws(c.b,Sp,c.a)}).then(function(){return u})}function hx(r){function u(w){h=!0,g&&g.cancel(),Np(r).then(function(T){var V=c;if(T&&w&&w.url){var G=null;V=T0(w.url),V.indexOf("/__/auth/callback")!=-1&&(G=kn(V),G=hs(Zn(G,"firebaseError")||null),G=(G=typeof G=="object"?ke(G):null)?new lr(T.c,T.b,null,null,G,null,T.T()):new lr(T.c,T.b,V,T.f,null,null,T.T())),V=G||c}Ob(r,V)})}var c=new lr("unknown",null,null,null,new S("no-auth-event")),h=!1,g=ss(500).then(function(){return Np(r).then(function(){h||Ob(r,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(ht("BuildInfo.packageName",f).toLowerCase()+"://")==0&&u({url:w}),typeof y=="function")try{y(w)}catch(T){console.error(T)}},Kd||(Kd=new NN),RN(u)}e.Ea=function(r){this.b.push(r),Db(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new lr("unknown",null,null,null,new S("no-auth-event")),r(u))})},e.Ta=function(r){H(this.b,function(u){return u==r})};function dx(r){this.a=r,this.b=sa()}var Rp={name:"pendingRedirect",F:"session"};function px(r){return r.b.set(Rp,"pending",r.a)}function xp(r){return ws(r.b,Rp,r.a)}function gx(r){return r.b.get(Rp,r.a).then(function(u){return u=="pending"})}function yl(r,u,c,h){this.i={},this.u=0,this.D=r,this.v=u,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new bl,this.C=new $b,this.g=new dx(jb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Pb(this.D,this.v,this.m,Ce,this.J)}function Pb(r,u,c,h,g){var y=be.SDK_VERSION||null;return wd()?new xb(r,u,c,y,h,g):new sb(r,u,c,y,h,g)}yl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Pb(this.D,this.v,this.m,null,this.J),this.i={}};function Lb(r){r.f||(r.f=!0,r.a.Ea(r.l));var u=r.a;return r.a.ma().o(function(c){throw r.a==u&&r.reset(),c})}function Mb(r){r.a.Yb()&&Lb(r).o(function(u){var c=new lr("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Dp(u)&&r.s(c)}),r.a.Ub()||qb(r.b)}function wl(r,u){M(r.h,u)||r.h.push(u),r.f||gx(r.g).then(function(c){c?xp(r.g).then(function(){Lb(r).o(function(h){var g=new lr("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Dp(h)&&r.s(g)})}):Mb(r)}).o(function(){Mb(r)})}function Op(r,u){H(r.h,function(c){return c==u})}yl.prototype.s=function(r){if(!r)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var u=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(u=this.c[r.c])&&(u.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),u=!0;break}}return qb(this.b),u};var mx=new mi(2e3,1e4),vx=new mi(3e4,6e4);yl.prototype.ra=function(){return this.b.ra()};function Fb(r,u,c,h,g,y,w){return r.a.Nb(u,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},g,y,w)}function Dp(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Ub(r,u,c,h,g){var y;return px(r.g).then(function(){return r.a.Ob(u,c,h,g).o(function(w){if(Dp(w))throw new S("operation-not-supported-in-this-environment");return y=w,xp(r.g).then(function(){throw y})}).then(function(){return r.a.ac()?new Fe(function(){}):xp(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Vb(r,u,c,h,g){return r.a.Pb(h,function(y){u.na(c,null,y,g)},mx.get())}var Pp={};function jb(r,u,c){return r=r+":"+u,c&&(r=r+":"+c.url),r}function Lp(r,u,c,h){var g=jb(u,c,h);return Pp[g]||(Pp[g]=new yl(r,u,c,h)),Pp[g]}function bl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}bl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},bl.prototype.h=function(r,u){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,g=r.a&&r.a.code=="auth/web-storage-unsupported",y=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!y),c!="unknown"||g||y?r.a?(go(this,!0,null,r.a),ve()):u.Fa(c,h)?yx(this,r,u):ft(new S("invalid-auth-event")):(go(this,!1,null,null),ve())}else ft(new S("invalid-auth-event"))};function qb(r){r.g||(r.g=!0,go(r,!1,null,null))}function _l(r){r.g&&!r.i&&go(r,!1,null,null)}function yx(r,u,c){c=c.Fa(u.c,u.b);var h=u.g,g=u.f,y=u.i,w=u.T(),T=!!u.c.match(/Redirect$/);c(h,g,w,y).then(function(V){go(r,T,V,null)}).o(function(V){go(r,T,null,V)})}function wx(r,u){if(r.b=function(){return ft(u)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](u)}function Bb(r,u){if(r.b=function(){return ve(u)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](u)}function go(r,u,c,h){u?h?wx(r,h):Bb(r,c):Bb(r,{user:null}),r.f=[],r.c=[]}bl.prototype.ra=function(){var r=this;return new Fe(function(u,c){r.b?r.b().then(u,c):(r.f.push(u),r.c.push(c),bx(r))})};function bx(r){var u=new S("timeout");r.a&&r.a.cancel(),r.a=ss(vx.get()).then(function(){r.b||(r.g=!0,go(r,!0,null,u))})}function $b(){}$b.prototype.h=function(r,u){if(r){var c=r.c,h=r.b;r.a?(u.na(r.c,null,r.a,r.b),ve()):u.Fa(c,h)?_x(r,u):ft(new S("invalid-auth-event"))}else ft(new S("invalid-auth-event"))};function _x(r,u){var c=r.b,h=r.c;u.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(g){u.na(h,g,null,c)}).o(function(g){u.na(h,null,g,c)})}function Hb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Mp(r,u){this.a=u,pe(this,"verificationId",r)}Mp.prototype.confirm=function(r){return r=x0(this.verificationId,r),this.a(r)};function Fp(r,u,c,h){return new Xr(r).gb(u,c).then(function(g){return new Mp(g,h)})}function Ex(r){var u=m0(r);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");mn(this,{token:r,expirationTime:qu(1e3*u.exp),authTime:qu(1e3*u.auth_time),issuedAtTime:qu(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function Up(r,u,c){var h=u&&u[zb];if(!h)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=bt(u),this.g=c,this.c=new Yc(null,h),this.b=[];var g=this;Z(u[Kb]||[],function(y){(y=Nd(y))&&g.b.push(y)}),pe(this,"auth",this.a),pe(this,"session",this.c),pe(this,"hints",this.b)}var Kb="mfaInfo",zb="mfaPendingCredential";Up.prototype.Rc=function(r){var u=this;return r.tb(this.a.a,this.c).then(function(c){var h=bt(u.f);return delete h[Kb],delete h[zb],Kt(h,c),u.g(h)})};function Vp(r,u,c,h){S.call(this,"multi-factor-auth-required",h,u),this.b=new Up(r,u,c),pe(this,"resolver",this.b)}D(Vp,S);function Gb(r,u,c){if(r&&N(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new Vp(u,r.serverResponse,c,r.message)}catch{}return null}function Wb(){}Wb.prototype.tb=function(r,u,c){return u.type==Ku?Ix(this,r,u,c):Tx(this,r,u)};function Ix(r,u,c,h){return c.Ha().then(function(g){return g={idToken:g},typeof h<"u"&&(g.displayName=h),Kt(g,{phoneVerificationInfo:zu(r.a)}),Ue(u,hR,g)})}function Tx(r,u,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},Kt(h,{phoneVerificationInfo:zu(r.a)}),Ue(u,dR,h)})}function jp(r){pe(this,"factorId",r.fa),this.a=r}D(jp,Wb);function Xb(r){if(jp.call(this,r),this.a.fa!=Xr.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}D(Xb,jp);function bs(r,u){An.call(this,r);for(var c in u)this[c]=u[c]}D(bs,An);function qp(r,u){this.a=r,this.b=[],this.c=O(this.yc,this),Jn(this.a,"userReloaded",this.c);var c=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Z(u.multiFactor.enrolledFactors,function(h){var g=null,y={};if(h){h.uid&&(y[xd]=h.uid),h.displayName&&(y[t0]=h.displayName),h.enrollmentTime&&(y[Rd]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[Od]=h.phoneNumber);try{g=new Bu(y)}catch{}h=g}else h=null;h&&c.push(h)}),El(this,c)}function Sx(r){var u=[];return Z(r.mfaInfo||[],function(c){(c=Nd(c))&&u.push(c)}),u}e=qp.prototype,e.yc=function(r){El(this,Sx(r.hd))};function El(r,u){r.b=u,pe(r,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(r){return new Yc(r,null)})},e.fc=function(r,u){var c=this,h=this.a.a;return this.Sb().then(function(g){return r.tb(h,g,u)}).then(function(g){return Or(c.a,g),c.a.reload()})},e.bd=function(r){var u=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(g){return Ue(h,DR,{idToken:g,mfaEnrollmentId:c})}).then(function(g){var y=Be(u.b,function(w){return w.uid!=c});return El(u,y),Or(u.a,g),u.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:_e(this.b,function(r){return r.w()})}}};function Bp(r,u,c){if(this.h=r,this.i=u,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Bp.prototype.start=function(){this.a=this.c,$p(this,!0)};function Ax(r,u){return u?(r.a=r.c,r.g()):(u=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),u)}function $p(r,u){r.stop(),r.b=ss(Ax(r,u)).then(function(){return rN()}).then(function(){return r.h()}).then(function(){$p(r,!0)}).o(function(c){r.i(c)&&$p(r,!1)})}Bp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Hp(r){this.f=r,this.b=this.a=null,this.c=Date.now()}Hp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Yb(r,u){typeof u>"u"&&(r.b?(u=r.b,u=u.a-u.g):u=0),r.c=Date.now()+1e3*u}function Qb(r,u){r.b=Wc(u[hr]||""),r.a=u.refreshToken,u=u.expiresIn,Yb(r,typeof u<"u"?Number(u):void 0)}function kx(r,u){r.b=u.b,r.a=u.a,r.c=u.c}function Cx(r,u){return YN(r.f,u).then(function(c){return r.b=Wc(c.access_token),r.a=c.refresh_token,Yb(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}Hp.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?ft(new S("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?Cx(this,{grant_type:"refresh_token",refresh_token:this.a}):ve(null):ve({accessToken:this.b.toString(),refreshToken:this.a})};function Il(r,u){this.a=r||null,this.b=u||null,mn(this,{lastSignInTime:qu(u||null),creationTime:qu(r||null)})}function Nx(r){return new Il(r.a,r.b)}Il.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function Rx(r,u,c,h,g,y){mn(this,{uid:r,displayName:h||null,photoURL:g||null,email:c||null,phoneNumber:y||null,providerId:u})}function qn(r,u,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=be.SDK_VERSION?ls(be.SDK_VERSION):null;this.a=new fr(this.l,je(Ce),h),(this.u=r.emulatorConfig||null)&&fl(this.a,this.u),this.h=new Hp(this.a),Qp(this,u[hr]),Qb(this.h,u),pe(this,"refreshToken",this.h.a),Zb(this,c||{}),gn.call(this),this.P=!1,this.s&&io()&&(this.b=Lp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=xx(this),this.ba=O(this.ib,this);var g=this;this.za=null,this.Pa=function(y){g.xa(y.h)},this.qa=null,this.Ba=function(y){Kp(g,y.c)},this.$=null,this.aa=[],this.Oa=function(y){ua(g,y.f)},this.ja=null,this.S=new qp(this,c),pe(this,"multiFactor",this.S)}D(qn,gn),qn.prototype.xa=function(r){this.za=r,G0(this.a,r)};function Kp(r,u){r.u=u,fl(r.a,u),r.b&&(u=r.b,r.b=Lp(r.s,r.l,r.m,r.u),r.P&&(Op(u,r),wl(r.b,r)))}qn.prototype.la=function(){return this.za};function zp(r,u){r.qa&&Vn(r.qa,"languageCodeChanged",r.Pa),(r.qa=u)&&Jn(u,"languageCodeChanged",r.Pa)}function Gp(r,u){r.$&&Vn(r.$,"emulatorConfigChanged",r.Ba),(r.$=u)&&Jn(u,"emulatorConfigChanged",r.Ba)}function ua(r,u){r.aa=u,W0(r.a,be.SDK_VERSION?ls(be.SDK_VERSION,r.aa):null)}qn.prototype.Ga=function(){return se(this.aa)};function Wp(r,u){r.ja&&Vn(r.ja,"frameworkChanged",r.Oa),(r.ja=u)&&Jn(u,"frameworkChanged",r.Oa)}qn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Xp(r){try{return be.app(r.m).auth()}catch{throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function xx(r){return new Bp(function(){return r.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=r.h.c-Date.now()-3e5;return 0<u?u:0})}function Jb(r){r.J||r.D.b||(r.D.start(),Vn(r,"tokenChanged",r.ba),Jn(r,"tokenChanged",r.ba))}function Yp(r){Vn(r,"tokenChanged",r.ba),r.D.stop()}function Qp(r,u){r.Aa=u,pe(r,"_lat",u)}function Ox(r,u){H(r.W,function(c){return c==u})}function mo(r){for(var u=[],c=0;c<r.W.length;c++)u.push(r.W[c](r));return mw(u).then(function(){return r})}function aa(r){r.b&&!r.P&&(r.P=!0,wl(r.b,r))}function Zb(r,u){mn(r,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Il(u.createdAt,u.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}pe(qn.prototype,"providerId","firebase");function e_(){}function Jp(r){return ve().then(function(){if(r.J)throw new S("app-deleted")})}function Zp(r){return _e(r.providerData,function(u){return u.providerId})}function eg(r,u){u&&(t_(r,u.providerId),r.providerData.push(u))}function t_(r,u){H(r.providerData,function(c){return c.providerId==u})}function wi(r,u,c){(u!="uid"||c)&&r.hasOwnProperty(u)&&pe(r,u,c)}function Tl(r,u){r!=u&&(mn(r,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?pe(r,"metadata",Nx(u.metadata)):pe(r,"metadata",new Il),Z(u.providerData,function(c){eg(r,c)}),kx(r.h,u.h),pe(r,"refreshToken",r.h.a),El(r.S,u.S.b))}e=qn.prototype,e.reload=function(){var r=this;return Ft(this,Jp(this).then(function(){return tg(r).then(function(){return mo(r)}).then(e_)}))};function tg(r){return r.I().then(function(u){var c=r.isAnonymous;return Dx(r,u).then(function(){return c||wi(r,"isAnonymous",!1),u})})}e.oc=function(r){return this.I(r).then(function(u){return new Ex(u)})},e.I=function(r){var u=this;return Ft(this,Jp(this).then(function(){return u.h.getToken(r)}).then(function(c){if(!c)throw new S("internal-error");return c.accessToken!=u.Aa&&(Qp(u,c.accessToken),u.dispatchEvent(new bs("tokenChanged"))),wi(u,"refreshToken",c.refreshToken),c.accessToken}))};function Or(r,u){u[hr]&&r.Aa!=u[hr]&&(Qb(r.h,u),r.dispatchEvent(new bs("tokenChanged")),Qp(r,u[hr]),wi(r,"refreshToken",r.h.a))}function Dx(r,u){return Ue(r.a,pR,{idToken:u}).then(O(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new S("internal-error");r=r[0],Zb(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var u=Px(r),c=0;c<u.length;c++)eg(this,u[c]);wi(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new bs("userReloaded",{hd:r}))};function Px(r){return(r=r.providerUserInfo)&&r.length?_e(r,function(u){return new Rx(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(r){return Td("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var u=this,c=null;return Ft(this,r.c(this.a,this.uid).then(function(h){return Or(u,h),c=ca(u,h,"reauthenticate"),u.i=null,u.reload()}).then(function(){return c}),!0)};function Sl(r,u){return tg(r).then(function(){if(M(Zp(r),u))return mo(r).then(function(){throw new S("provider-already-linked")})})}e.Cc=function(r){return Td("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var u=this,c=null;return Ft(this,Sl(this,r.providerId).then(function(){return u.I()}).then(function(h){return r.b(u.a,h)}).then(function(h){return c=ca(u,h,"link"),n_(u,h)}).then(function(){return c}))},e.Dc=function(r,u){var c=this;return Ft(this,Sl(this,"phone").then(function(){return Fp(Xp(c),r,u,O(c.rb,c))}))},e.Mc=function(r,u){var c=this;return Ft(this,ve().then(function(){return Fp(Xp(c),r,u,O(c.ub,c))}),!0)};function ca(r,u,c){var h=$d(u);return u=y0(u),Rr({user:r,credential:h,additionalUserInfo:u,operationType:c})}function n_(r,u){return Or(r,u),r.reload().then(function(){return r})}e.Cb=function(r){var u=this;return Ft(this,this.I().then(function(c){return u.a.Cb(c,r)}).then(function(c){return Or(u,c),u.reload()}))},e.ed=function(r){var u=this;return Ft(this,this.I().then(function(c){return r.b(u.a,c)}).then(function(c){return Or(u,c),u.reload()}))},e.Db=function(r){var u=this;return Ft(this,this.I().then(function(c){return u.a.Db(c,r)}).then(function(c){return Or(u,c),u.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return Jp(this);var u=this;return Ft(this,this.I().then(function(c){return u.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Or(u,c),wi(u,"displayName",c.displayName||null),wi(u,"photoURL",c.photoUrl||null),Z(u.providerData,function(h){h.providerId==="password"&&(pe(h,"displayName",u.displayName),pe(h,"photoURL",u.photoURL))}),mo(u)}).then(e_))},e.cd=function(r){var u=this;return Ft(this,tg(this).then(function(c){return M(Zp(u),r)?rR(u.a,c,[r]).then(function(h){var g={};return Z(h.providerUserInfo||[],function(y){g[y.providerId]=!0}),Z(Zp(u),function(y){g[y]||t_(u,y)}),g[Xr.PROVIDER_ID]||pe(u,"phoneNumber",null),mo(u)}):mo(u).then(function(){throw new S("no-such-provider")})}))},e.delete=function(){var r=this;return Ft(this,this.I().then(function(u){return Ue(r.a,aR,{idToken:u})}).then(function(){r.dispatchEvent(new bs("userDeleted"))})).then(function(){for(var u=0;u<r.N.length;u++)r.N[u].cancel("app-deleted");zp(r,null),Gp(r,null),Wp(r,null),r.N=[],r.J=!0,Yp(r),pe(r,"refreshToken",null),r.b&&Op(r.b,r)})},e.Gb=function(r,u){return!!(r=="linkViaPopup"&&(this.g||null)==u&&this.f||r=="reauthViaPopup"&&(this.g||null)==u&&this.f||r=="linkViaRedirect"&&(this.ga||null)==u||r=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(r,u,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,u){return r=="linkViaPopup"&&u==(this.g||null)?O(this.Lb,this):r=="reauthViaPopup"&&u==(this.g||null)?O(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==u?O(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==u?O(this.Mb,this):null},e.Ec=function(r){var u=this;return r_(this,"linkViaPopup",r,function(){return Sl(u,r.providerId).then(function(){return mo(u)})},!1)},e.Nc=function(r){return r_(this,"reauthViaPopup",r,function(){return ve()},!0)};function r_(r,u,c,h,g){if(!io())return ft(new S("operation-not-supported-in-this-environment"));if(r.i&&!g)return ft(r.i);var y=Fd(c.providerId),w=oo(r.uid+":::"),T=null;(!Vu()||bd())&&r.s&&c.isOAuthProvider&&(T=na(r.s,r.l,r.m,u,c,null,w,be.SDK_VERSION||null,null,null,r.tenantId,r.u));var V=zw(T,y&&y.va,y&&y.ua);return h=h().then(function(){if(o_(r),!g)return r.I().then(function(){})}).then(function(){return Fb(r.b,V,u,c,w,!!T,r.tenantId)}).then(function(){return new Fe(function(G,Se){r.na(u,null,new S("cancelled-popup-request"),r.g||null),r.f=G,r.C=Se,r.g=w,r.c=Vb(r.b,r,u,V,w)})}).then(function(G){return V&&ro(V),G?Rr(G):null}).o(function(G){throw V&&ro(V),G}),Ft(r,h,g)}e.Fc=function(r){var u=this;return i_(this,"linkViaRedirect",r,function(){return Sl(u,r.providerId)},!1)},e.Oc=function(r){return i_(this,"reauthViaRedirect",r,function(){return ve()},!0)};function i_(r,u,c,h,g){if(!io())return ft(new S("operation-not-supported-in-this-environment"));if(r.i&&!g)return ft(r.i);var y=null,w=oo(r.uid+":::");return h=h().then(function(){if(o_(r),!g)return r.I().then(function(){})}).then(function(){return r.ga=w,mo(r)}).then(function(T){return r.ha&&(T=r.ha,T=T.b.set(ng,r.w(),T.a)),T}).then(function(){return Ub(r.b,u,c,w,r.tenantId)}).o(function(T){if(y=T,r.ha)return u_(r.ha);throw y}).then(function(){if(y)throw y}),Ft(r,h,g)}function o_(r){if(!r.b||!r.P)throw r.b&&!r.P?new S("internal-error"):new S("auth-domain-config-required")}e.Lb=function(r,u,c,h){var g=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(w){return lp(g.a,{requestUri:r,postBody:h,sessionId:u,idToken:w})}).then(function(w){return y=ca(g,w,"link"),n_(g,w)}).then(function(){return y}),Ft(this,c)},e.Mb=function(r,u,c,h){var g=this;this.c&&(this.c.cancel(),this.c=null);var y=null,w=ve().then(function(){return ps(fp(g.a,{requestUri:r,sessionId:u,postBody:h,tenantId:c}),g.uid)}).then(function(T){return y=ca(g,T,"reauthenticate"),Or(g,T),g.i=null,g.reload()}).then(function(){return y});return Ft(this,w,!0)},e.vb=function(r){var u=this,c=null;return Ft(this,this.I().then(function(h){return c=h,typeof r>"u"||Ar(r)?{}:zc(new Kc(r))}).then(function(h){return u.a.vb(c,h)}).then(function(h){if(u.email!=h)return u.reload()}).then(function(){}))},e.Fb=function(r,u){var c=this,h=null;return Ft(this,this.I().then(function(g){return h=g,typeof u>"u"||Ar(u)?{}:zc(new Kc(u))}).then(function(g){return c.a.Fb(h,r,g)}).then(function(g){if(c.email!=g)return c.reload()}).then(function(){}))};function Ft(r,u,c){var h=Lx(r,u,c);return r.N.push(h),h.oa(function(){j(r.N,h)}),h.o(function(g){var y=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(y=Gb(g.w(),Xp(r),O(r.jc,r))),y||g})}e.jc=function(r){var u=null,c=this;return r=ps(ve(r),c.uid).then(function(h){return u=ca(c,h,"reauthenticate"),Or(c,h),c.i=null,c.reload()}).then(function(){return u}),Ft(this,r,!0)};function Lx(r,u,c){return r.i&&!c?(u.cancel(),ft(r.i)):u.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new bs("userInvalidated")),r.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Kt(r,this.metadata.w()),Z(this.providerData,function(u){r.providerData.push(sN(u))}),Kt(r,this.S.w()),r};function s_(r){if(!r.apiKey)return null;var u={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[hr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var g=new qn(u,c,r);return r.providerData&&Z(r.providerData,function(y){y&&eg(g,Rr(y))}),r.redirectEventId&&(g.ga=r.redirectEventId),g}function Mx(r,u,c,h){var g=new qn(r,u);return c&&(g.ha=c),h&&ua(g,h),g.reload().then(function(){return g})}function Fx(r,u,c,h){var g=r.h,y={};return y[hr]=g.b&&g.b.toString(),y.refreshToken=g.a,u=new qn(u||{apiKey:r.l,authDomain:r.s,appName:r.m},y),c&&(u.ha=c),h&&ua(u,h),Tl(u,r),u}function Ux(r){this.a=r,this.b=sa()}var ng={name:"redirectUser",F:"session"};function u_(r){return ws(r.b,ng,r.a)}function Vx(r,u){return r.b.get(ng,r.a).then(function(c){return c&&u&&(c.authDomain=u),s_(c||{})})}function rg(r){this.a=r,this.b=sa(),this.c=null,this.f=jx(this),this.b.addListener(Dr("local"),this.a,O(this.g,this))}rg.prototype.g=function(){var r=this,u=Dr("local");_s(this,function(){return ve().then(function(){return r.c&&r.c.F!="local"?r.b.get(u,r.a):null}).then(function(c){if(c)return ig(r,"local").then(function(){r.c=u})})})};function ig(r,u){var c=[],h;for(h in vs)vs[h]!==u&&c.push(ws(r.b,Dr(vs[h]),r.a));return c.push(ws(r.b,og,r.a)),NC(c)}function jx(r){var u=Dr("local"),c=Dr("session"),h=Dr("none");return tx(r.b,u,r.a).then(function(){return r.b.get(c,r.a)}).then(function(g){return g?c:r.b.get(h,r.a).then(function(y){return y?h:r.b.get(u,r.a).then(function(w){return w?u:r.b.get(og,r.a).then(function(T){return T?Dr(T):u})})})}).then(function(g){return r.c=g,ig(r,g.F)}).o(function(){r.c||(r.c=u)})}var og={name:"persistence",F:"session"};function Dr(r){return{name:"authUser",F:r}}rg.prototype.yb=function(r){var u=null,c=this;return ex(r),_s(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return u=h,ig(c,r)}).then(function(){if(c.c=Dr(r),u)return c.b.set(c.c,u,c.a)}):ve()})};function qx(r){return _s(r,function(){return r.b.set(og,r.c.F,r.a)})}function a_(r,u){return _s(r,function(){return r.b.set(r.c,u.w(),r.a)})}function c_(r){return _s(r,function(){return ws(r.b,r.c,r.a)})}function l_(r,u,c){return _s(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&u&&(h.authDomain=u),h&&c&&(h.emulatorConfig=c),s_(h||{})})})}function _s(r,u){return r.f=r.f.then(u,u),r.f}function dr(r){if(this.l=!1,pe(this,"settings",new Hb),pe(this,"app",r),tt(this).options&&tt(this).options.apiKey)r=be.SDK_VERSION?ls(be.SDK_VERSION):null,this.a=new fr(tt(this).options&&tt(this).options.apiKey,je(Ce),r);else throw new S("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=be.INTERNAL.createSubscribe(O(this.zc,this)),this.W=void 0,this.ib=be.INTERNAL.createSubscribe(O(this.Ac,this)),Es(this,null),this.i=new rg(tt(this).options.apiKey+":"+tt(this).name),this.D=new Ux(tt(this).options.apiKey+":"+tt(this).name),this.$=_t(this,Gx(this)),this.h=_t(this,Wx(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.qa=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,Hx(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,gn.call(this),$x(this),this.J=[],this.R=null}D(dr,gn);function f_(r){An.call(this,"languageCodeChanged"),this.h=r}D(f_,An);function h_(r){An.call(this,"emulatorConfigChanged"),this.c=r}D(h_,An);function d_(r){An.call(this,"frameworkChanged"),this.f=r}D(d_,An),e=dr.prototype,e.yb=function(r){return r=this.i.yb(r),_t(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,G0(this.a,this.aa),this.dispatchEvent(new f_(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,u){if(!this.R){if(!/^https?:\/\//.test(r))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,Bx(u),this.R={url:r,ec:u},this.settings.jb=!0,fl(this.a,this.R),this.dispatchEvent(new h_(this.R))}};function Bx(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Bc().then(function(){var u=f.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),f.document.body.appendChild(u)})}e.Gc=function(r){this.J.push(r),W0(this.a,be.SDK_VERSION?ls(be.SDK_VERSION,this.J):null),this.dispatchEvent(new d_(this.J))},e.Ga=function(){return se(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function $x(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var u=kn(this.R.url);u=Rr({protocol:u.c,host:u.a,port:u.g,options:Rr({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:tt(this).options.apiKey,authDomain:tt(this).options.authDomain,appName:tt(this).name,currentUser:xe(this)&&xe(this).w()}};function sg(r){return r.Oa||ft(new S("auth-domain-config-required"))}function Hx(r){var u=tt(r).options.authDomain,c=tt(r).options.apiKey;u&&io()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Lp(u,c,tt(r).name,r.R),wl(r.b,r),xe(r)&&aa(xe(r)),r.m){aa(r.m);var h=r.m;h.xa(r.la()),zp(h,r),h=r.m,ua(h,r.J),Wp(h,r),h=r.m,Kp(h,r.R),Gp(h,r),r.m=null}return r.b}}))}e.Gb=function(r,u){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(r,u,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,u){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==u&&this.f?O(this.ic,this):null},e.ic=function(r,u,c,h){var g=this,y={requestUri:r,postBody:h,sessionId:u,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return vo(g,cp(g.a,y))})},e.Xc=function(r){if(!io())return ft(new S("operation-not-supported-in-this-environment"));var u=this,c=Fd(r.providerId),h=oo(),g=null;(!Vu()||bd())&&tt(this).options.authDomain&&r.isOAuthProvider&&(g=na(tt(this).options.authDomain,tt(this).options.apiKey,tt(this).name,"signInViaPopup",r,null,h,be.SDK_VERSION||null,null,null,this.T(),this.R));var y=zw(g,c&&c.va,c&&c.ua);return c=sg(this).then(function(w){return Fb(w,y,"signInViaPopup",r,h,!!g,u.T())}).then(function(){return new Fe(function(w,T){u.na("signInViaPopup",null,new S("cancelled-popup-request"),u.g),u.f=w,u.C=T,u.g=h,u.c=Vb(u.b,u,"signInViaPopup",y,h)})}).then(function(w){return y&&ro(y),w?Rr(w):null}).o(function(w){throw y&&ro(y),w}),_t(this,c)},e.Yc=function(r){if(!io())return ft(new S("operation-not-supported-in-this-environment"));var u=this,c=sg(this).then(function(){return qx(u.i)}).then(function(){return Ub(u.b,"signInViaRedirect",r,void 0,u.T())});return _t(this,c)};function p_(r){if(!io())return ft(new S("operation-not-supported-in-this-environment"));var u=sg(r).then(function(){return r.b.ra()}).then(function(c){return c?Rr(c):null});return _t(r,u)}e.ra=function(){var r=this;return p_(this).then(function(u){return r.b&&_l(r.b.b),u}).o(function(u){throw r.b&&_l(r.b.b),u})},e.dd=function(r){if(!r)return ft(new S("null-user"));if(this.S!=r.tenantId)return ft(new S("tenant-id-mismatch"));var u=this,c={};c.apiKey=tt(this).options.apiKey,c.authDomain=tt(this).options.authDomain,c.appName=tt(this).name;var h=Fx(r,c,u.D,u.Ga());return _t(this,this.h.then(function(){if(tt(u).options.apiKey!=r.l)return h.reload()}).then(function(){return xe(u)&&r.uid==xe(u).uid?(Tl(xe(u),r),u.da(r)):(Es(u,h),aa(h),u.da(h))}).then(function(){la(u)}))};function Kx(r,u){var c={};return c.apiKey=tt(r).options.apiKey,c.authDomain=tt(r).options.authDomain,c.appName=tt(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return Mx(c,u,r.D,r.Ga())}).then(function(h){return xe(r)&&h.uid==xe(r).uid?(Tl(xe(r),h),r.da(h)):(Es(r,h),aa(h),r.da(h))}).then(function(){la(r)})}function Es(r,u){xe(r)&&(Ox(xe(r),r.Ba),Vn(xe(r),"tokenChanged",r.qa),Vn(xe(r),"userDeleted",r.za),Vn(xe(r),"userInvalidated",r.Aa),Yp(xe(r))),u&&(u.W.push(r.Ba),Jn(u,"tokenChanged",r.qa),Jn(u,"userDeleted",r.za),Jn(u,"userInvalidated",r.Aa),0<r.u&&Jb(u)),pe(r,"currentUser",u),u&&(u.xa(r.la()),zp(u,r),ua(u,r.J),Wp(u,r),Kp(u,r.R),Gp(u,r))}e.Bb=function(){var r=this,u=this.h.then(function(){return r.b&&_l(r.b.b),xe(r)?(Es(r,null),c_(r.i).then(function(){la(r)})):ve()});return _t(this,u)};function zx(r){var u=Vx(r.D,tt(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),u_(r.D)});return _t(r,u)}function Gx(r){var u=tt(r).options.authDomain,c=zx(r).then(function(){return l_(r.i,u,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return a_(r.i,h).then(function(){return h})}).o(function(g){return g.code=="auth/network-request-failed"?h:c_(r.i)})):null}).then(function(h){Es(r,h||null)});return _t(r,c)}function Wx(r){return r.$.then(function(){return p_(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var u=r.i;u.b.addListener(Dr("local"),u.a,r.ja)}})}e.Zc=function(){var r=this;return l_(this.i,tt(this).options.authDomain).then(function(u){if(!r.l){var c;if(c=xe(r)&&u){c=xe(r).uid;var h=u.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return Tl(xe(r),u),xe(r).I();(xe(r)||u)&&(Es(r,u),u&&(aa(u),u.ha=r.D),r.b&&wl(r.b,r),la(r))}})},e.da=function(r){return a_(this.i,r)},e.mc=function(){la(this),this.da(xe(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function vo(r,u){var c=null,h=null;return _t(r,u.then(function(g){return c=$d(g),h=y0(g),Kx(r,g)},function(g){var y=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(y=Gb(g.w(),r,O(r.kc,r))),y||g}).then(function(){return Rr({user:xe(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(r){var u=this;return this.h.then(function(){return vo(u,ve(r))})},e.zc=function(r){var u=this;this.addAuthTokenListener(function(){r.next(xe(u))})},e.Ac=function(r){var u=this;Xx(this,function(){r.next(xe(u))})},e.Ic=function(r,u,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(xe(h)):typeof r.next=="function"&&r.next(xe(h))}),this.Pa(r,u,c)},e.Hc=function(r,u,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(xe(h)):typeof r.next=="function"&&r.next(xe(h))}),this.ib(r,u,c)},e.nc=function(r){var u=this,c=this.h.then(function(){return xe(u)?xe(u).I(r).then(function(h){return{accessToken:h}}):null});return _t(this,c)},e.Tc=function(r){var u=this;return this.h.then(function(){return vo(u,Ue(u.a,NR,{token:r}))}).then(function(c){var h=c.user;return wi(h,"isAnonymous",!1),u.da(h),c})},e.Uc=function(r,u){var c=this;return this.h.then(function(){return vo(c,Ue(c.a,rb,{email:r,password:u}))})},e.dc=function(r,u){var c=this;return this.h.then(function(){return vo(c,Ue(c.a,sR,{email:r,password:u}))})},e.ab=function(r){var u=this;return this.h.then(function(){return vo(u,r.ka(u.a))})},e.Sc=function(r){return Td("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var u=xe(r);if(u&&u.isAnonymous){var c=Rr({providerId:null,isNewUser:!1});return Rr({user:u,credential:null,additionalUserInfo:c,operationType:"signIn"})}return vo(r,r.a.Ab()).then(function(h){var g=h.user;return wi(g,"isAnonymous",!0),r.da(g),h})})};function tt(r){return r.app}function xe(r){return r.currentUser}e.getUid=function(){return xe(this)&&xe(this).uid||null};function Al(r){return xe(r)&&xe(r)._lat||null}function la(r){if(r.ba){for(var u=0;u<r.s.length;u++)r.s[u]&&r.s[u](Al(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),u=0;u<r.N.length;u++)r.N[u]&&r.N[u](Al(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&xe(this)&&Jb(xe(this))},e.Pc=function(r){var u=this;Z(this.s,function(c){c==r&&u.u--}),0>this.u&&(this.u=0),this.u==0&&xe(this)&&Yp(xe(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var u=this;this.s.push(r),_t(this,this.h.then(function(){u.l||M(u.s,r)&&r(Al(u))}))},e.removeAuthTokenListener=function(r){H(this.s,function(u){return u==r})};function Xx(r,u){r.N.push(u),_t(r,r.h.then(function(){!r.l&&M(r.N,u)&&r.W!==r.getUid()&&(r.W=r.getUid(),u(Al(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Dr("local"),r.a,this.ja)),this.b&&(Op(this.b,this),_l(this.b.b)),Promise.resolve()};function _t(r,u){return r.P.push(u),u.oa(function(){j(r.P,u)}),u}e.hc=function(r){return _t(this,QN(this.a,r))},e.Bc=function(r){return!!Bd(r)},e.xb=function(r,u){var c=this;return _t(this,ve().then(function(){var h=new Kc(u);if(!h.c)throw new S("argument-error",Ld+" must be true when sending sign in link to email");return zc(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(u){return u.data.email})},e.ob=function(r,u){return _t(this,this.a.ob(r,u).then(function(){}))},e.Sa=function(r){return _t(this,this.a.Sa(r).then(function(u){return new aN(u)}))},e.kb=function(r){return _t(this,this.a.kb(r).then(function(){}))},e.wb=function(r,u){var c=this;return _t(this,ve().then(function(){return typeof u>"u"||Ar(u)?{}:zc(new Kc(u))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},e.Wc=function(r,u){return _t(this,Fp(this,r,u,O(this.ab,this)))},e.Vc=function(r,u){var c=this;return _t(this,ve().then(function(){var h=u||Uu(),g=R0(r,h);if(h=Bd(h),!h)throw new S("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new S("tenant-id-mismatch");return c.ab(g)}))};function fa(){}fa.prototype.render=function(){},fa.prototype.reset=function(){},fa.prototype.getResponse=function(){},fa.prototype.execute=function(){};function Is(){this.a={},this.b=1e12}var ug=null;Is.prototype.render=function(r,u){return this.a[this.b.toString()]=new kl(r,u),this.b++},Is.prototype.reset=function(r){var u=ag(this,r);r=g_(r),u&&r&&(u.delete(),delete this.a[r])},Is.prototype.getResponse=function(r){return(r=ag(this,r))?r.getResponse():null},Is.prototype.execute=function(r){(r=ag(this,r))&&r.execute()};function ag(r,u){return(u=g_(u))&&r.a[u]||null}function g_(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function kl(r,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=xu(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():Jn(this.f,"click",this.i)}kl.prototype.getResponse=function(){return cg(this),this.b},kl.prototype.execute=function(){cg(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=nN();var u=r.c.callback,c=r.c["expired-callback"];if(u)try{u(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},kl.prototype.delete=function(){cg(this),this.g=!0,clearTimeout(this.a),this.a=null,Vn(this.f,"click",this.i)};function cg(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function lg(){}pe(lg,"FACTOR_ID","phone");function fg(){}fg.prototype.g=function(){return ug||(ug=new Is),ve(ug)},fg.prototype.c=function(){};var hg=null;function dg(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Yx=new kr(Nc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Qx=new mi(3e4,6e4);dg.prototype.g=function(r){var u=this;return new Fe(function(c,h){var g=setTimeout(function(){h(new S("network-request-failed"))},Qx.get());if(!f.grecaptcha||r!==u.f&&!u.b){f[u.a]=function(){if(f.grecaptcha){u.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(T,V){return T=w(T,V),u.b++,T},clearTimeout(g),c(f.grecaptcha)}else clearTimeout(g),h(new S("internal-error"));delete f[u.a]};var y=Wh(Yx,{onload:u.a,hl:r||""});ve(np(y)).o(function(){clearTimeout(g),h(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),c(f.grecaptcha)})},dg.prototype.c=function(){this.b--};var pg=null;function gg(r,u,c,h,g,y,w){if(pe(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,w?(hg||(hg=new fg),w=hg):(pg||(pg=new dg),w=pg),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[y_])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[Jx]==="invisible",!f.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!xu(u)||!this.i&&xu(u).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new fr(r,y||null,g||null),this.u=h||function(){return null};var T=this;this.l=[];var V=this.a[m_];this.a[m_]=function(Se){if(w_(T,Se),typeof V=="function")V(Se);else if(typeof V=="string"){var Ze=ht(V,f);typeof Ze=="function"&&Ze(Se)}};var G=this.a[v_];this.a[v_]=function(){if(w_(T,null),typeof G=="function")G();else if(typeof G=="string"){var Se=ht(G,f);typeof Se=="function"&&Se()}}}var m_="callback",v_="expired-callback",y_="sitekey",Jx="size";function w_(r,u){for(var c=0;c<r.l.length;c++)try{r.l[c](u)}catch{}}function Zx(r,u){H(r.l,function(c){return c==u})}function mg(r,u){return r.h.push(u),u.oa(function(){j(r.h,u)}),u}e=gg.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=mg(this,ve().then(function(){if($c()&&!cr())return Bc();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(u){return r.g=u,Ue(r.s,bR,{})}).then(function(u){r.a[y_]=u.recaptchaSiteKey}).o(function(u){throw r.f=null,u}))},e.render=function(){Cl(this);var r=this;return mg(this,this.Ia().then(function(){if(r.c===null){var u=r.v;if(!r.i){var c=xu(u);u=SC("DIV"),c.appendChild(u)}r.c=r.g.render(u,r.a)}return r.c}))},e.verify=function(){Cl(this);var r=this;return mg(this,this.render().then(function(u){return new Fe(function(c){var h=r.g.getResponse(u);if(h)c(h);else{var g=function(y){y&&(Zx(r,g),c(y))};r.l.push(g),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){Cl(this),this.c!==null&&this.g.reset(this.c)};function Cl(r){if(r.J)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Cl(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=xu(this.v);for(var u;u=r.firstChild;)r.removeChild(u)}};function vg(r,u,c){var h=!1;try{this.b=c||be.app()}catch{throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new S("invalid-api-key");var g=this,y=null;try{y=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=be.SDK_VERSION?ls(be.SDK_VERSION,y):null,gg.call(this,c,r,u,function(){try{var w=g.b.auth().la()}catch{w=null}return w},y,je(Ce),h)}D(vg,gg);function b_(r,u,c,h){e:{c=Array.prototype.slice.call(c);for(var g=0,y=!1,w=0;w<u.length;w++)if(u[w].optional)y=!0;else{if(y)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(y=u.length,c.length<g||y<c.length)h="Expected "+(g==y?g==1?"1 argument":g+" arguments":g+"-"+y+" arguments")+" but got "+c.length+".";else{for(g=0;g<c.length;g++)if(y=u[g].optional&&c[g]===void 0,!u[g].M(c[g])&&!y){if(u=u[g],0>g||g>=__.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");c=__[g],h=(h?"":c+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}h=null}}if(h)throw new S("argument-error",r+" failed: "+h)}var __="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function de(r,u){return{name:r||"",K:"a valid string",optional:!!u,M:function(c){return typeof c=="string"}}}function yg(r,u){return{name:r||"",K:"a boolean",optional:!!u,M:function(c){return typeof c=="boolean"}}}function Rt(r,u){return{name:r||"",K:"a valid object",optional:!!u,M:N}}function Ts(r,u){return{name:r||"",K:"a function",optional:!!u,M:function(c){return typeof c=="function"}}}function Pr(r,u){return{name:r||"",K:"null",optional:!!u,M:function(c){return c===null}}}function eO(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function tO(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof dr)}}}function nO(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof be.app.App)}}}function bi(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var c=!r||u.providerId===r;return!(!u.ka||!c)}}}function E_(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function Ss(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function wg(r,u){return N(r)&&typeof r.type=="string"&&r.type===u&&typeof r.Ha=="function"}function I_(r){return N(r)&&typeof r.uid=="string"}function Nl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function At(r,u,c,h){return{name:c||"",K:r.K+" or "+u.K,optional:!!h,M:function(g){return r.M(g)||u.M(g)}}}function vt(r,u){for(var c in u){var h=u[c].name;r[h]=S_(h,r[c],u[c].j)}}function T_(r,u){for(var c in u){var h=u[c].name;h!==c&&Object.defineProperty(r,h,{get:X(function(g){return this[g]},c),set:X(function(g,y,w,T){b_(g,[w],[T],!0),this[y]=T},h,c,u[c].lb),enumerable:!0})}}function kt(r,u,c,h){r[u]=S_(u,c,h)}function S_(r,u,c){function h(){var w=Array.prototype.slice.call(arguments);return b_(g,c,w),u.apply(this,w)}if(!c)return u;var g=rO(r),y;for(y in u)h[y]=u[y];for(y in u.prototype)h.prototype[y]=u.prototype[y];return h}function rO(r){return r=r.split("."),r[r.length-1]}vt(dr.prototype,{kb:{name:"applyActionCode",j:[de("code")]},Sa:{name:"checkActionCode",j:[de("code")]},ob:{name:"confirmPasswordReset",j:[de("code"),de("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[de("email"),de("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[de("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[de("emailLink")]},Hc:{name:"onAuthStateChanged",j:[At(Rt(),Ts(),"nextOrObserver"),Ts("opt_error",!0),Ts("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[At(Rt(),Ts(),"nextOrObserver"),Ts("opt_error",!0),Ts("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[de("email"),At(Rt("opt_actionCodeSettings",!0),Pr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[de("email"),Rt("actionCodeSettings")]},yb:{name:"setPersistence",j:[de("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[bi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[bi()]},Tc:{name:"signInWithCustomToken",j:[de("token")]},Uc:{name:"signInWithEmailAndPassword",j:[de("email"),de("password")]},Vc:{name:"signInWithEmailLink",j:[de("email"),de("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[de("phoneNumber"),Nl()]},Xc:{name:"signInWithPopup",j:[Ss()]},Yc:{name:"signInWithRedirect",j:[Ss()]},dd:{name:"updateCurrentUser",j:[At(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(u){return!!(u&&u instanceof qn)}}}(),Pr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[de(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[de("url"),Rt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[de("code")]}}),T_(dr.prototype,{lc:{name:"languageCode",lb:At(de(),Pr(),"languageCode")},ti:{name:"tenantId",lb:At(de(),Pr(),"tenantId")}}),dr.Persistence=vs,dr.Persistence.LOCAL="local",dr.Persistence.SESSION="session",dr.Persistence.NONE="none",vt(qn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[yg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[yg("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[bi()]},rb:{name:"linkWithCredential",j:[bi()]},Dc:{name:"linkWithPhoneNumber",j:[de("phoneNumber"),Nl()]},Ec:{name:"linkWithPopup",j:[Ss()]},Fc:{name:"linkWithRedirect",j:[Ss()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[bi()]},ub:{name:"reauthenticateWithCredential",j:[bi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[de("phoneNumber"),Nl()]},Nc:{name:"reauthenticateWithPopup",j:[Ss()]},Oc:{name:"reauthenticateWithRedirect",j:[Ss()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[At(Rt("opt_actionCodeSettings",!0),Pr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[de(null,!0)]},cd:{name:"unlink",j:[de("provider")]},Cb:{name:"updateEmail",j:[de("email")]},Db:{name:"updatePassword",j:[de("password")]},ed:{name:"updatePhoneNumber",j:[bi("phone")]},Eb:{name:"updateProfile",j:[Rt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[de("email"),At(Rt("opt_actionCodeSettings",!0),Pr(null,!0),"opt_actionCodeSettings",!0)]}}),vt(Is.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vt(fa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),vt(Fe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),T_(Hb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:yg("appVerificationDisabledForTesting")}}),vt(Mp.prototype,{confirm:{name:"confirm",j:[de("verificationCode")]}}),kt(ds,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var u,c=[AN,kN,CN,SN],h=0;h<c.length;h++)if(u=c[h](r))return u;return null},[At(de(),Rt(),"json")]),kt(er,"credential",function(r,u){return new vi(r,u)},[de("email"),de("password")]),vt(vi.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),vt(ao.prototype,{Ca:{name:"addScope",j:[de("scope")]},Ka:{name:"setCustomParameters",j:[Rt("customOAuthParameters")]}}),kt(ao,"credential",A0,[At(de(),Rt(),"token")]),kt(er,"credentialWithLink",R0,[de("email"),de("emailLink")]),vt(co.prototype,{Ca:{name:"addScope",j:[de("scope")]},Ka:{name:"setCustomParameters",j:[Rt("customOAuthParameters")]}}),kt(co,"credential",k0,[At(de(),Rt(),"token")]),vt(lo.prototype,{Ca:{name:"addScope",j:[de("scope")]},Ka:{name:"setCustomParameters",j:[Rt("customOAuthParameters")]}}),kt(lo,"credential",C0,[At(de(),At(Rt(),Pr()),"idToken"),At(de(),Pr(),"accessToken",!0)]),vt(gs.prototype,{Ka:{name:"setCustomParameters",j:[Rt("customOAuthParameters")]}}),kt(gs,"credential",N0,[At(de(),Rt(),"token"),de("secret",!0)]),vt(jn.prototype,{Ca:{name:"addScope",j:[de("scope")]},credential:{name:"credential",j:[At(de(),At(Rt(),Pr()),"optionsOrIdToken"),At(de(),Pr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Rt("customOAuthParameters")]}}),vt(Wr.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),vt(so.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),kt(Xr,"credential",x0,[de("verificationId"),de("verificationCode")]),vt(Xr.prototype,{gb:{name:"verifyPhoneNumber",j:[At(de(),function(r,u){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(c){return c?c.session&&c.phoneNumber?wg(c.session,Ku)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?wg(c.session,Qc)&&I_(c.multiFactorHint):c.session&&c.multiFactorUid?wg(c.session,Qc)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Nl()]}}),vt(yi.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),vt(S.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),vt(Gu.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),vt(zd.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),vt(Vp.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),vt(Up.prototype,{Rc:{name:"resolveSignIn",j:[E_()]}}),vt(qp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[E_(),de("displayName",!0)]},bd:{name:"unenroll",j:[At({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:I_},de(),"multiFactorInfoIdentifier")]}}),vt(vg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),kt(Pd,"parseLink",a0,[de("link")]),kt(lg,"assertion",function(r){return new Xb(r)},[bi("phone")]),function(){if(typeof be<"u"&&be.INTERNAL&&be.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Hc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Dd,VERIFY_AND_CHANGE_EMAIL:$u,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:dr,AuthCredential:ds,Error:S};kt(r,"EmailAuthProvider",er,[]),kt(r,"FacebookAuthProvider",ao,[]),kt(r,"GithubAuthProvider",co,[]),kt(r,"GoogleAuthProvider",lo,[]),kt(r,"TwitterAuthProvider",gs,[]),kt(r,"OAuthProvider",jn,[de("providerId")]),kt(r,"SAMLAuthProvider",S0,[de("providerId")]),kt(r,"PhoneAuthProvider",Xr,[tO()]),kt(r,"RecaptchaVerifier",vg,[At(de(),eO(),"recaptchaContainer"),Rt("recaptchaParameters",!0),nO()]),kt(r,"ActionCodeURL",Pd,[]),kt(r,"PhoneMultiFactorGenerator",lg,[]),be.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new dr(u)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),be.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:O(u.getUid,u),getToken:O(u.nc,u),addAuthTokenListener:O(u.cc,u),removeAuthTokenListener:O(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),be.registerVersion("@firebase/auth","0.16.8"),be.INTERNAL.extendNamespace({User:qn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gm=function(e,t){return gm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},gm(e,t)};function LL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");gm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function AS(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ML=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he,_v=_v||{},Ae=ML||self;function mf(){}function mm(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ac(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function FL(e){return Object.prototype.hasOwnProperty.call(e,Ng)&&e[Ng]||(e[Ng]=++UL)}var Ng="closure_uid_"+(1e9*Math.random()>>>0),UL=0;function VL(e,t,n){return e.call.apply(e.bind,arguments)}function jL(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function Qt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qt=VL:Qt=jL,Qt.apply(null,arguments)}function Fl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function Zt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(i,a)}}function Ki(){this.s=this.s,this.o=this.o}var qL=0;Ki.prototype.s=!1;Ki.prototype.na=function(){!this.s&&(this.s=!0,this.M(),qL!=0)&&FL(this)};Ki.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var kS=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},CS=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<i;s++)s in o&&t.call(n,o[s],s,e)};function BL(e){e:{for(var t=DM,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function aE(e){return Array.prototype.concat.apply([],arguments)}function Ev(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function vf(e){return/^[\s\xa0]*$/.test(e)}var cE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function _n(e,t){return e.indexOf(t)!=-1}function Rg(e,t){return e<t?-1:e>t?1:0}var En;e:{var lE=Ae.navigator;if(lE){var fE=lE.userAgent;if(fE){En=fE;break e}}En=""}function Iv(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function NS(e){var t={};for(var n in e)t[n]=e[n];return t}var hE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RS(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var s=0;s<hE.length;s++)n=hE[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Tv(e){return Tv[" "](e),e}Tv[" "]=mf;function $L(e){var t=zL;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var HL=_n(En,"Opera"),Ys=_n(En,"Trident")||_n(En,"MSIE"),xS=_n(En,"Edge"),vm=xS||Ys,OS=_n(En,"Gecko")&&!(_n(En.toLowerCase(),"webkit")&&!_n(En,"Edge"))&&!(_n(En,"Trident")||_n(En,"MSIE"))&&!_n(En,"Edge"),KL=_n(En.toLowerCase(),"webkit")&&!_n(En,"Edge");function DS(){var e=Ae.document;return e?e.documentMode:void 0}var yf;e:{var xg="",Og=function(){var e=En;if(OS)return/rv:([^\);]+)(\)|;)/.exec(e);if(xS)return/Edge\/([\d\.]+)/.exec(e);if(Ys)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(KL)return/WebKit\/(\S+)/.exec(e);if(HL)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Og&&(xg=Og?Og[1]:""),Ys){var Dg=DS();if(Dg!=null&&Dg>parseFloat(xg)){yf=String(Dg);break e}}yf=xg}var zL={};function GL(){return $L(function(){for(var e=0,t=cE(String(yf)).split("."),n=cE("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var s=t[o]||"",a=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=Rg(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||Rg(s[2].length==0,a[2].length==0)||Rg(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var ym;if(Ae.document&&Ys){var dE=DS();ym=dE||parseInt(yf,10)||void 0}else ym=void 0;var WL=ym,XL=function(){if(!Ae.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ae.addEventListener("test",mf,t),Ae.removeEventListener("test",mf,t)}catch{}return e}();function cn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}cn.prototype.h=function(){this.defaultPrevented=!0};function qa(e,t){if(cn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(OS){e:{try{Tv(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:YL[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&qa.Z.h.call(this)}}Zt(qa,cn);var YL={2:"touch",3:"pen",4:"mouse"};qa.prototype.h=function(){qa.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var cc="closure_listenable_"+(1e6*Math.random()|0),QL=0;function JL(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++QL,this.ca=this.fa=!1}function ch(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function lh(e){this.src=e,this.g={},this.h=0}lh.prototype.add=function(e,t,n,i,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=bm(e,t,i,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new JL(t,this.src,s,!!i,o),t.fa=n,e.push(t)),t};function wm(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=kS(i,t),s;(s=0<=o)&&Array.prototype.splice.call(i,o,1),s&&(ch(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function bm(e,t,n,i){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return o}return-1}var Sv="closure_lm_"+(1e6*Math.random()|0),Pg={};function PS(e,t,n,i,o){if(i&&i.once)return MS(e,t,n,i,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)PS(e,t[s],n,i,o);return null}return n=Cv(n),e&&e[cc]?e.N(t,n,ac(i)?!!i.capture:!!i,o):LS(e,t,n,!1,i,o)}function LS(e,t,n,i,o,s){if(!t)throw Error("Invalid event type");var a=ac(o)?!!o.capture:!!o,l=kv(e);if(l||(e[Sv]=l=new lh(e)),n=l.add(t,n,i,a,s),n.proxy)return n;if(i=ZL(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)XL||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(US(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ZL(){function e(n){return t.call(e.src,e.listener,n)}var t=eM;return e}function MS(e,t,n,i,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)MS(e,t[s],n,i,o);return null}return n=Cv(n),e&&e[cc]?e.O(t,n,ac(i)?!!i.capture:!!i,o):LS(e,t,n,!0,i,o)}function FS(e,t,n,i,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)FS(e,t[s],n,i,o);else i=ac(i)?!!i.capture:!!i,n=Cv(n),e&&e[cc]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=bm(s,n,i,o),-1<n&&(ch(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=kv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bm(t,n,i,o)),(n=-1<e?t[e]:null)&&Av(n))}function Av(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[cc])wm(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(US(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=kv(t))?(wm(n,e),n.h==0&&(n.src=null,t[Sv]=null)):ch(e)}}}function US(e){return e in Pg?Pg[e]:Pg[e]="on"+e}function eM(e,t){if(e.ca)e=!0;else{t=new qa(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Av(e),e=n.call(i,t)}return e}function kv(e){return e=e[Sv],e instanceof lh?e:null}var Lg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cv(e){return typeof e=="function"?e:(e[Lg]||(e[Lg]=function(t){return e.handleEvent(t)}),e[Lg])}function Ht(){Ki.call(this),this.i=new lh(this),this.P=this,this.I=null}Zt(Ht,Ki);Ht.prototype[cc]=!0;Ht.prototype.removeEventListener=function(e,t,n,i){FS(this,e,t,n,i)};function Jt(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new cn(t,e);else if(t instanceof cn)t.target=t.target||e;else{var o=t;t=new cn(i,e),RS(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];o=Ul(a,i,!0,t)&&o}if(a=t.g=e,o=Ul(a,i,!0,t)&&o,o=Ul(a,i,!1,t)&&o,n)for(s=0;s<n.length;s++)a=t.g=n[s],o=Ul(a,i,!1,t)&&o}Ht.prototype.M=function(){if(Ht.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)ch(n[i]);delete e.g[t],e.h--}}this.I=null};Ht.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Ht.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Ul(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&wm(e.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Nv=Ae.JSON.stringify;function tM(){var e=jS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var nM=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=VS.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),VS=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new rM},function(e){return e.reset()}),rM=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function iM(e){Ae.setTimeout(function(){throw e},0)}function Rv(e,t){_m||oM(),Em||(_m(),Em=!0),jS.add(e,t)}var _m;function oM(){var e=Ae.Promise.resolve(void 0);_m=function(){e.then(sM)}}var Em=!1,jS=new nM;function sM(){for(var e;e=tM();){try{e.h.call(e.g)}catch(n){iM(n)}var t=VS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Em=!1}function fh(e,t){Ht.call(this),this.h=e||1,this.g=t||Ae,this.j=Qt(this.kb,this),this.l=Date.now()}Zt(fh,Ht);he=fh.prototype;he.da=!1;he.S=null;he.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Jt(this,"tick"),this.da&&(xv(this),this.start()))}};he.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}he.M=function(){fh.Z.M.call(this),xv(this),delete this.g};function Ov(e,t,n){if(typeof e=="function")n&&(e=Qt(e,n));else if(e&&typeof e.handleEvent=="function")e=Qt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Ae.setTimeout(e,t||0)}function qS(e){e.g=Ov(function(){e.g=null,e.i&&(e.i=!1,qS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var uM=function(e){LL(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:qS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Ki);function Ba(e){Ki.call(this),this.h=e,this.g={}}Zt(Ba,Ki);var pE=[];function BS(e,t,n,i){Array.isArray(n)||(n&&(pE[0]=n.toString()),n=pE);for(var o=0;o<n.length;o++){var s=PS(t,n[o],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function $S(e){Iv(e.g,function(t,n){this.g.hasOwnProperty(n)&&Av(t)},e),e.g={}}Ba.prototype.M=function(){Ba.Z.M.call(this),$S(this)};Ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function hh(){this.g=!0}hh.prototype.Aa=function(){this.g=!1};function aM(e,t,n,i,o,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var p=d[0];d=d[1];var m=p.split("_");a=2<=m.length&&m[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function cM(e,t,n,i,o,s,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+a})}function Ms(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+fM(e,n)+(i?" "+i:"")})}function lM(e,t){e.info(function(){return"TIMEOUT: "+t})}hh.prototype.info=function(){};function fM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Nv(n)}catch{return t}}var Xo={},gE=null;function dh(){return gE=gE||new Ht}Xo.Ma="serverreachability";function HS(e){cn.call(this,Xo.Ma,e)}Zt(HS,cn);function $a(e){var t=dh();Jt(t,new HS(t))}Xo.STAT_EVENT="statevent";function KS(e,t){cn.call(this,Xo.STAT_EVENT,e),this.stat=t}Zt(KS,cn);function In(e){var t=dh();Jt(t,new KS(t,e))}Xo.Na="timingevent";function zS(e,t){cn.call(this,Xo.Na,e),this.size=t}Zt(zS,cn);function lc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Ae.setTimeout(function(){e()},t)}var ph={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},GS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Dv(){}Dv.prototype.h=null;function mE(e){return e.h||(e.h=e.i())}function WS(){}var fc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Pv(){cn.call(this,"d")}Zt(Pv,cn);function Lv(){cn.call(this,"c")}Zt(Lv,cn);var Im;function gh(){}Zt(gh,Dv);gh.prototype.g=function(){return new XMLHttpRequest};gh.prototype.i=function(){return{}};Im=new gh;function hc(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new Ba(this),this.P=hM,e=vm?125:void 0,this.W=new fh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new XS}function XS(){this.i=null,this.g="",this.h=!1}var hM=45e3,Tm={},wf={};he=hc.prototype;he.setTimeout=function(e){this.P=e};function Sm(e,t,n){e.K=1,e.v=vh(ui(t)),e.s=n,e.U=!0,YS(e,null)}function YS(e,t){e.F=Date.now(),dc(e),e.A=ui(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),r1(n.h,"t",i),e.C=0,n=e.l.H,e.h=new XS,e.g=I1(e.l,n?t:null,!e.s),0<e.O&&(e.L=new uM(Qt(e.Ia,e,e.g),e.O)),BS(e.V,e.g,"readystatechange",e.gb),t=e.H?NS(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),$a(),aM(e.j,e.u,e.A,e.m,e.X,e.s)}he.gb=function(e){e=e.target;var t=this.L;t&&ei(e)==3?t.l():this.Ia(e)};he.Ia=function(e){try{if(e==this.g)e:{var t=ei(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||vm||this.g&&(this.h.h||this.g.ga()||bE(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?$a(3):$a(2)),mh(this);var o=this.g.ba();this.N=o;t:if(QS(this)){var s=bE(this.g);e="";var a=s.length,l=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Co(this),Ea(this);var f="";break t}this.h.i=new Ae.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,cM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vf(d)){var m=d;break t}}m=null}if(o=m)Ms(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Am(this,o);else{this.i=!1,this.o=3,In(12),Co(this),Ea(this);break e}}this.U?(JS(this,t,f),vm&&this.i&&t==3&&(BS(this.V,this.W,"tick",this.fb),this.W.start())):(Ms(this.j,this.m,f,null),Am(this,f)),t==4&&Co(this),this.i&&!this.I&&(t==4?w1(this.l,this):(this.i=!1,dc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,In(12)):(this.o=0,In(13)),Co(this),Ea(this)}}}catch{}finally{}};function QS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function JS(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=dM(e,n),o==wf){t==4&&(e.o=4,In(14),i=!1),Ms(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Tm){e.o=4,In(15),Ms(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Ms(e.j,e.m,o,null),Am(e,o);QS(e)&&o!=wf&&o!=Tm&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,In(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hv(t),t.L=!0,In(11))):(Ms(e.j,e.m,n,"[Invalid Chunked Response]"),Co(e),Ea(e))}he.fb=function(){if(this.g){var e=ei(this.g),t=this.g.ga();this.C<t.length&&(mh(this),JS(this,e,t),this.i&&e!=4&&dc(this))}};function dM(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?wf:(n=Number(t.substring(n,i)),isNaN(n)?Tm:(i+=1,i+n>t.length?wf:(t=t.substr(i,n),e.C=i+n,t)))}he.cancel=function(){this.I=!0,Co(this)};function dc(e){e.Y=Date.now()+e.P,ZS(e,e.P)}function ZS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=lc(Qt(e.eb,e),t)}function mh(e){e.B&&(Ae.clearTimeout(e.B),e.B=null)}he.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(lM(this.j,this.A),this.K!=2&&($a(),In(17)),Co(this),this.o=2,Ea(this)):ZS(this,this.Y-e)};function Ea(e){e.l.G==0||e.I||w1(e.l,e)}function Co(e){mh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,xv(e.W),$S(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Am(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||km(n.i,e))){if(n.I=e.N,!e.J&&km(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)If(n),bh(n);else break e;$v(n),In(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=lc(Qt(n.ab,n),6e3));if(1>=s1(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else No(n,11)}else if((e.J||n.g==e)&&If(n),!vf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=e.g;if(d){var p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var m=i.i;!m.g&&(_n(p,"spdy")||_n(p,"quic")||_n(p,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(Uv(m,m.h),m.h=null))}if(i.D){var v=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(i.sa=v,pt(i.F,i.D,v))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=e;if(i.oa=E1(i,i.H?i.la:null,i.W),b.J){u1(i.i,b);var _=b,I=i.K;I&&_.setTimeout(I),_.B&&(mh(_),dc(_)),i.g=b}else v1(i);0<n.l.length&&_h(n)}else s[0]!="stop"&&s[0]!="close"||No(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?No(n,7):Bv(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}$a(4)}catch{}}function pM(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(mm(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Mv(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(mm(e)||typeof e=="string")CS(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(mm(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=pM(e),o=i.length;for(var s=0;s<o;s++)t.call(void 0,i[s],n&&n[s],e)}}function bu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof bu)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}he=bu.prototype;he.R=function(){Fv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};he.T=function(){return Fv(this),this.g.concat()};function Fv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];qo(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],qo(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}he.get=function(e,t){return qo(this.h,e)?this.h[e]:t};he.set=function(e,t){qo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};he.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],s=this.get(o);e.call(t,s,o,this)}};function qo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var e1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var s=e[n].substring(0,i);o=e[n].substring(i+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Bo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Bo){this.g=t!==void 0?t:e.g,bf(this,e.j),this.s=e.s,_f(this,e.i),Ef(this,e.m),this.l=e.l,t=e.h;var n=new Ha;n.i=t.i,t.g&&(n.g=new bu(t.g),n.h=t.h),vE(this,n),this.o=e.o}else e&&(n=String(e).match(e1))?(this.g=!!t,bf(this,n[1]||"",!0),this.s=Ia(n[2]||""),_f(this,n[3]||"",!0),Ef(this,n[4]),this.l=Ia(n[5]||"",!0),vE(this,n[6]||"",!0),this.o=Ia(n[7]||"")):(this.g=!!t,this.h=new Ha(null,this.g))}Bo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(va(t,yE,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(va(t,yE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(va(n,n.charAt(0)=="/"?bM:wM,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",va(n,EM)),e.join("")};function ui(e){return new Bo(e)}function bf(e,t,n){e.j=n?Ia(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _f(e,t,n){e.i=n?Ia(t,!0):t}function Ef(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function vE(e,t,n){t instanceof Ha?(e.h=t,IM(e.h,e.g)):(n||(t=va(t,_M)),e.h=new Ha(t,e.g))}function pt(e,t,n){e.h.set(t,n)}function vh(e){return pt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function mM(e){return e instanceof Bo?ui(e):new Bo(e,void 0)}function vM(e,t,n,i){var o=new Bo(null,void 0);return e&&bf(o,e),t&&_f(o,t),n&&Ef(o,n),i&&(o.l=i),o}function Ia(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function va(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,yM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var yE=/[#\/\?@]/g,wM=/[#\?:]/g,bM=/[#\?]/g,_M=/[#\?@]/g,EM=/#/g;function Ha(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zi(e){e.g||(e.g=new bu,e.h=0,e.i&&gM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}he=Ha.prototype;he.add=function(e,t){zi(this),this.i=null,e=_u(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function t1(e,t){zi(e),t=_u(e,t),qo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,qo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Fv(e)))}function n1(e,t){return zi(e),t=_u(e,t),qo(e.g.h,t)}he.forEach=function(e,t){zi(this),this.g.forEach(function(n,i){CS(n,function(o){e.call(t,o,i,this)},this)},this)};he.T=function(){zi(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],s=0;s<o.length;s++)n.push(t[i]);return n};he.R=function(e){zi(this);var t=[];if(typeof e=="string")n1(this,e)&&(t=aE(t,this.g.get(_u(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=aE(t,e[n])}return t};he.set=function(e,t){return zi(this),this.i=null,e=_u(this,e),n1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};he.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function r1(e,t,n){t1(e,t),0<n.length&&(e.i=null,e.g.set(_u(e,t),Ev(n)),e.h+=n.length)}he.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var a=o;i[s]!==""&&(a+="="+encodeURIComponent(String(i[s]))),e.push(a)}}return this.i=e.join("&")};function _u(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function IM(e,t){t&&!e.j&&(zi(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(t1(this,i),r1(this,o,n))},e)),e.j=t}var TM=function(){function e(t,n){this.h=t,this.g=n}return e}();function i1(e){this.l=e||SM,Ae.PerformanceNavigationTiming?(e=Ae.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Ae.g&&Ae.g.Ea&&Ae.g.Ea()&&Ae.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var SM=10;function o1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function s1(e){return e.h?1:e.g?e.g.size:0}function km(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Uv(e,t){e.g?e.g.add(t):e.h=t}function u1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}i1.prototype.cancel=function(){var e,t;if(this.i=a1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=AS(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function a1(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=AS(e.g.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return Ev(e.i)}function Vv(){}Vv.prototype.stringify=function(e){return Ae.JSON.stringify(e,void 0)};Vv.prototype.parse=function(e){return Ae.JSON.parse(e,void 0)};function AM(){this.g=new Vv}function kM(e,t,n){var i=n||"";try{Mv(e,function(o,s){var a=o;ac(o)&&(a=Nv(o)),t.push(i+s+"="+encodeURIComponent(a))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function CM(e,t){var n=new hh;if(Ae.Image){var i=new Image;i.onload=Fl(Vl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Fl(Vl,n,i,"TestLoadImage: error",!1,t),i.onabort=Fl(Vl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Fl(Vl,n,i,"TestLoadImage: timeout",!1,t),Ae.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Vl(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function pc(e){this.l=e.$b||null,this.j=e.ib||!1}Zt(pc,Dv);pc.prototype.g=function(){return new yh(this.l,this.j)};pc.prototype.i=function(e){return function(){return e}}({});function yh(e,t){Ht.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=jv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zt(yh,Ht);var jv=0;he=yh.prototype;he.open=function(e,t){if(this.readyState!=jv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ka(this)};he.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ae).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gc(this)),this.readyState=jv};he.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ae.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;c1(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function c1(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}he.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?gc(this):Ka(this),this.readyState==3&&c1(this)}};he.Ua=function(e){this.g&&(this.response=this.responseText=e,gc(this))};he.Ta=function(e){this.g&&(this.response=e,gc(this))};he.ha=function(){this.g&&gc(this)};function gc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ka(e)}he.setRequestHeader=function(e,t){this.v.append(e,t)};he.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};he.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ka(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(yh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var NM=Ae.JSON.parse;function Lt(e){Ht.call(this),this.headers=new bu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=l1,this.K=this.L=!1}Zt(Lt,Ht);var l1="",RM=/^https?$/i,xM=["POST","PUT"];he=Lt.prototype;he.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Im.g(),this.C=this.u?mE(this.u):mE(Im),this.g.onreadystatechange=Qt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){wE(this,s);return}e=n||"";var o=new bu(this.headers);i&&Mv(i,function(s,a){o.set(a,s)}),i=BL(o.T()),n=Ae.FormData&&e instanceof Ae.FormData,!(0<=kS(xM,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{d1(this),0<this.B&&((this.K=OM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qt(this.pa,this)):this.A=Ov(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){wE(this,s)}};function OM(e){return Ys&&GL()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function DM(e){return e.toLowerCase()=="content-type"}he.pa=function(){typeof _v<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))};function wE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,f1(e),wh(e)}function f1(e){e.D||(e.D=!0,Jt(e,"complete"),Jt(e,"error"))}he.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Jt(this,"complete"),Jt(this,"abort"),wh(this))};he.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wh(this,!0)),Lt.Z.M.call(this)};he.Fa=function(){this.s||(this.F||this.v||this.l?h1(this):this.cb())};he.cb=function(){h1(this)};function h1(e){if(e.h&&typeof _v<"u"&&(!e.C[1]||ei(e)!=4||e.ba()!=2)){if(e.v&&ei(e)==4)Ov(e.Fa,0,e);else if(Jt(e,"readystatechange"),ei(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var s=String(e.H).match(e1)[1]||null;if(!s&&Ae.self&&Ae.self.location){var a=Ae.self.location.protocol;s=a.substr(0,a.length-1)}o=!RM.test(s?s.toLowerCase():"")}i=o}if(i)Jt(e,"complete"),Jt(e,"success");else{e.m=6;try{var l=2<ei(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",f1(e)}}finally{wh(e)}}}}function wh(e,t){if(e.g){d1(e);var n=e.g,i=e.C[0]?mf:null;e.g=null,e.C=null,t||Jt(e,"ready");try{n.onreadystatechange=i}catch{}}}function d1(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ae.clearTimeout(e.A),e.A=null)}function ei(e){return e.g?e.g.readyState:0}he.ba=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}};he.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};he.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),NM(t)}};function bE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case l1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}he.Da=function(){return this.m};he.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function PM(e){var t="";return Iv(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function qv(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=PM(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):pt(e,t,n))}function da(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function p1(e){this.za=0,this.l=[],this.h=new hh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=da("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=da("baseRetryDelayMs",5e3,e),this.$a=da("retryDelaySeedMs",1e4,e),this.Ya=da("forwardChannelMaxRetries",2,e),this.ra=da("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new i1(e&&e.concurrentRequestLimit),this.Ca=new AM,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}he=p1.prototype;he.ma=8;he.G=1;function Bv(e){if(g1(e),e.G==3){var t=e.V++,n=ui(e.F);pt(n,"SID",e.J),pt(n,"RID",t),pt(n,"TYPE","terminate"),mc(e,n),t=new hc(e,e.h,t,void 0),t.K=2,t.v=vh(ui(n)),n=!1,Ae.navigator&&Ae.navigator.sendBeacon&&(n=Ae.navigator.sendBeacon(t.v.toString(),"")),!n&&Ae.Image&&(new Image().src=t.v,n=!0),n||(t.g=I1(t.l,null),t.g.ea(t.v)),t.F=Date.now(),dc(t)}_1(e)}he.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function bh(e){e.g&&(Hv(e),e.g.cancel(),e.g=null)}function g1(e){bh(e),e.u&&(Ae.clearTimeout(e.u),e.u=null),If(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Ae.clearTimeout(e.m),e.m=null)}function Mg(e,t){e.l.push(new TM(e.Za++,t)),e.G==3&&_h(e)}function _h(e){o1(e.i)||e.m||(e.m=!0,Rv(e.Ha,e),e.C=0)}function LM(e,t){return s1(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=lc(Qt(e.Ha,e,t),b1(e,e.C)),e.C++,!0)}he.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new hc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=NS(n),RS(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(i+=s,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=m1(this,t,i),o=ui(this.F),pt(o,"RID",e),pt(o,"CVER",22),this.D&&pt(o,"X-HTTP-Session-Id",this.D),mc(this,o),this.o&&n&&qv(o,this.o,n),Uv(this.i,t),this.Ra&&pt(o,"TYPE","init"),this.ja?(pt(o,"$req",i),pt(o,"SID","null"),t.$=!0,Sm(t,o,null)):Sm(t,o,i),this.G=2}}else this.G==3&&(e?_E(this,e):this.l.length==0||o1(this.i)||_E(this))};function _E(e,t){var n;t?n=t.m:n=e.V++;var i=ui(e.F);pt(i,"SID",e.J),pt(i,"RID",n),pt(i,"AID",e.U),mc(e,i),e.o&&e.s&&qv(i,e.o,e.s),n=new hc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=m1(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Uv(e.i,n),Sm(n,i,t)}function mc(e,t){e.j&&Mv({},function(n,i){pt(t,i,n)})}function m1(e,t,n){n=Math.min(e.l.length,n);var i=e.j?Qt(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=o[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var d=o[f].h,p=o[f].g;if(d-=s,0>d)s=Math.max(0,o[f].h-100),l=!1;else try{kM(p,a,"req"+d+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function v1(e){e.g||e.u||(e.Y=1,Rv(e.Ga,e),e.A=0)}function $v(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=lc(Qt(e.Ga,e),b1(e,e.A)),e.A++,!0)}he.Ga=function(){if(this.u=null,y1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=lc(Qt(this.bb,this),e)}};he.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,In(10),bh(this),y1(this))};function Hv(e){e.B!=null&&(Ae.clearTimeout(e.B),e.B=null)}function y1(e){e.g=new hc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=ui(e.oa);pt(t,"RID","rpc"),pt(t,"SID",e.J),pt(t,"CI",e.N?"0":"1"),pt(t,"AID",e.U),mc(e,t),pt(t,"TYPE","xmlhttp"),e.o&&e.s&&qv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=vh(ui(t)),n.s=null,n.U=!0,YS(n,e)}he.ab=function(){this.v!=null&&(this.v=null,bh(this),$v(this),In(19))};function If(e){e.v!=null&&(Ae.clearTimeout(e.v),e.v=null)}function w1(e,t){var n=null;if(e.g==t){If(e),Hv(e),e.g=null;var i=2}else if(km(e.i,t))n=t.D,u1(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=dh(),Jt(i,new zS(i,n)),_h(e)}else v1(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&LM(e,t)||i==2&&$v(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:No(e,5);break;case 4:No(e,10);break;case 3:No(e,6);break;default:No(e,2)}}}function b1(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function No(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=Qt(e.jb,e);n||(n=new Bo("//www.google.com/images/cleardot.gif"),Ae.location&&Ae.location.protocol=="http"||bf(n,"https"),vh(n)),CM(n.toString(),i)}else In(2);e.G=0,e.j&&e.j.va(t),_1(e),g1(e)}he.jb=function(e){e?(this.h.info("Successfully pinged google.com"),In(2)):(this.h.info("Failed to ping google.com"),In(1))};function _1(e){e.G=0,e.I=-1,e.j&&((a1(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Ev(e.l),e.l.length=0),e.j.ua())}function E1(e,t,n){var i=mM(n);if(i.i!="")t&&_f(i,t+"."+i.i),Ef(i,i.m);else{var o=Ae.location;i=vM(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Iv(e.aa,function(s,a){pt(i,a,s)}),t=e.D,n=e.sa,t&&n&&pt(i,t,n),pt(i,"VER",e.ma),mc(e,i),i}function I1(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Lt(new pc({ib:!0})):new Lt(e.qa),t.L=e.H,t}function T1(){}he=T1.prototype;he.xa=function(){};he.wa=function(){};he.va=function(){};he.ua=function(){};he.Oa=function(){};function Tf(){if(Ys&&!(10<=Number(WL)))throw Error("Environmental error: no available transport.")}Tf.prototype.g=function(e,t){return new Qn(e,t)};function Qn(e,t){Ht.call(this),this.g=new p1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!vf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!vf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Eu(this)}Zt(Qn,Ht);Qn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Rv(Qt(e.hb,e,t))),In(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=E1(e,null,e.W),_h(e)};Qn.prototype.close=function(){Bv(this.g)};Qn.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Mg(this.g,t)}else this.v?(t={},t.__data__=Nv(e),Mg(this.g,t)):Mg(this.g,e)};Qn.prototype.M=function(){this.g.j=null,delete this.j,Bv(this.g),delete this.g,Qn.Z.M.call(this)};function S1(e){Pv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Zt(S1,Pv);function A1(){Lv.call(this),this.status=1}Zt(A1,Lv);function Eu(e){this.g=e}Zt(Eu,T1);Eu.prototype.xa=function(){Jt(this.g,"a")};Eu.prototype.wa=function(e){Jt(this.g,new S1(e))};Eu.prototype.va=function(e){Jt(this.g,new A1)};Eu.prototype.ua=function(){Jt(this.g,"b")};Tf.prototype.createWebChannel=Tf.prototype.g;Qn.prototype.send=Qn.prototype.u;Qn.prototype.open=Qn.prototype.m;Qn.prototype.close=Qn.prototype.close;ph.NO_ERROR=0;ph.TIMEOUT=8;ph.HTTP_ERROR=6;GS.COMPLETE="complete";WS.EventType=fc;fc.OPEN="a";fc.CLOSE="b";fc.ERROR="c";fc.MESSAGE="d";Ht.prototype.listen=Ht.prototype.N;Lt.prototype.listenOnce=Lt.prototype.O;Lt.prototype.getLastError=Lt.prototype.La;Lt.prototype.getLastErrorCode=Lt.prototype.Da;Lt.prototype.getStatus=Lt.prototype.ba;Lt.prototype.getResponseJson=Lt.prototype.Qa;Lt.prototype.getResponseText=Lt.prototype.ga;Lt.prototype.send=Lt.prototype.ea;var MM=function(){return new Tf},FM=function(){return dh()},Fg=ph,UM=GS,VM=Xo,EE={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jM=pc,jl=WS,qM=Lt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Gn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},J=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return ye(t,e),t}(Error),_r=new ES("@firebase/firestore");function Cm(){return _r.logLevel}function re(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(_r.logLevel<=Ke.DEBUG){var i=t.map(Kv);_r.debug.apply(_r,dt(["Firestore (8.10.1): "+e],i))}}function Dt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(_r.logLevel<=Ke.ERROR){var i=t.map(Kv);_r.error.apply(_r,dt(["Firestore (8.10.1): "+e],i))}}function Sf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(_r.logLevel<=Ke.WARN){var i=t.map(Kv);_r.warn.apply(_r,dt(["Firestore (8.10.1): "+e],i))}}function Kv(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Dt(t),new Error(t)}function Te(e,t){e||ge()}function ce(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k1=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=BM(40),s=0;s<o.length;++s)i.length<20&&o[s]<n&&(i+=t.charAt(o[s]%t.length));return i},e}();function Ve(e,t){return e<t?-1:e>t?1:0}function Qs(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function C1(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new J(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new J(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new J(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ve(this.nanoseconds,t.nanoseconds):Ve(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Me=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Pn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function N1(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R1=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&ge(),i===void 0?i=t.length-n:i>t.length-n&&ge(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var s=t.get(o),a=n.get(o);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Qe=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new J(F.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(R1),$M=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return $M.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",s=0,a=function(){if(o.length===0)throw new J(F.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new J(F.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new J(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(a(),s++)}if(a(),l)throw new J(F.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(R1),Js=function(){function e(t){this.fields=t,t.sort(Tr.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Qs(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),Ln=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ve(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Ln.EMPTY_BYTE_STRING=new Ln("");var HM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(e){if(Te(!!e),typeof e=="string"){var t=0,n=HM.exec(e);if(Te(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Ot(e.seconds),nanos:Ot(e.nanos)}}function Ot(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Zs(e){return typeof e=="string"?Ln.fromBase64String(e):Ln.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function x1(e){var t=e.mapValue.fields.__previous_value__;return zv(t)?x1(t):t}function za(e){var t=$i(e.mapValue.fields.__local_write_time__.timestampValue);return new Pn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){return e==null}function Af(e){return e===0&&1/e==-1/0}function O1(e){return typeof e=="number"&&Number.isInteger(e)&&!Af(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Qe.fromString(t))},e.fromName=function(t){return new e(Qe.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Qe.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Qe.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Qe(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zv(e)?4:10:ge()}function Kr(e,t){var n=$o(e);if(n!==$o(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return za(e).isEqual(za(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var s=$i(i.timestampValue),a=$i(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Zs(i.bytesValue).isEqual(Zs(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Ot(i.geoPointValue.latitude)===Ot(o.geoPointValue.latitude)&&Ot(i.geoPointValue.longitude)===Ot(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ot(i.integerValue)===Ot(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var s=Ot(i.doubleValue),a=Ot(o.doubleValue);return s===a?Af(s)===Af(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Qs(e.arrayValue.values||[],t.arrayValue.values||[],Kr);case 10:return function(i,o){var s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(IE(s)!==IE(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Kr(s[l],a[l])))return!1;return!0}(e,t);default:return ge()}}function Ga(e,t){return(e.values||[]).find(function(n){return Kr(n,t)})!==void 0}function eu(e,t){var n=$o(e),i=$o(t);if(n!==i)return Ve(n,i);switch(n){case 0:return 0;case 1:return Ve(e.booleanValue,t.booleanValue);case 2:return function(o,s){var a=Ot(o.integerValue||o.doubleValue),l=Ot(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return TE(e.timestampValue,t.timestampValue);case 4:return TE(za(e),za(t));case 5:return Ve(e.stringValue,t.stringValue);case 6:return function(o,s){var a=Zs(o),l=Zs(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var a=o.split("/"),l=s.split("/"),f=0;f<a.length&&f<l.length;f++){var d=Ve(a[f],l[f]);if(d!==0)return d}return Ve(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var a=Ve(Ot(o.latitude),Ot(s.latitude));return a!==0?a:Ve(Ot(o.longitude),Ot(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var a=o.values||[],l=s.values||[],f=0;f<a.length&&f<l.length;++f){var d=eu(a[f],l[f]);if(d)return d}return Ve(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a=o.fields||{},l=Object.keys(a),f=s.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var p=0;p<l.length&&p<d.length;++p){var m=Ve(l[p],d[p]);if(m!==0)return m;var v=eu(a[l[p]],f[d[p]]);if(v!==0)return v}return Ve(l.length,d.length)}(e.mapValue,t.mapValue);default:throw ge()}}function TE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ve(e,t);var n=$i(e),i=$i(t),o=Ve(n.seconds,i.seconds);return o!==0?o:Ve(n.nanos,i.nanos)}function Gv(e){return Nm(e)}function Nm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=$i(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Zs(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,me.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",s=!0,a=0,l=i.values||[];a<l.length;a++)s?s=!1:o+=",",o+=Nm(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",s=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];s?s=!1:o+=",",o+=f+":"+Nm(i.fields[f])}return o+"}"}(e.mapValue):ge();var t,n}function kf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Rm(e){return!!e&&"integerValue"in e}function Wv(e){return!!e&&"arrayValue"in e}function SE(e){return!!e&&"nullValue"in e}function AE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rf(e){return!!e&&"mapValue"in e}function Ta(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Yo(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Ta(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Ta(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!rf(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ta(n)},e.prototype.setAll=function(t){var n=this,i=Tr.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,s),o={},s=[],i=f.popLast()}l?o[f.lastSegment()]=Ta(l):s.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Kr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];rf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){Yo(n,function(l,f){return t[l]=f});for(var o=0,s=i;o<s.length;o++){var a=s[o];delete t[a]}},e.prototype.clone=function(){return new e(Ta(this.value))},e}();function D1(e){var t=[];return Yo(e.fields,function(n,i){var o=new Tr([n]);if(rf(i)){var s=D1(i.mapValue).fields;if(s.length===0)t.push(o);else for(var a=0,l=s;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new Js(t)}var fn=function(){function e(t,n,i,o,s){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Me.min(),Kn.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Kn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Kn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),KM=function(e,t,n,i,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(e,t,n,i,o,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),new KM(e,t,n,i,o,s,a)}function vc(e){var t=ce(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+Gv(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Qo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Nf(t.startAt)),t.endAt&&(n+="|ub:",n+=Nf(t.endAt)),t.h=n}return t.h}function Eh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ZM(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],s=t.filters[i],o.op!==s.op||!o.field.isEqual(s.field)||!Kr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!NE(e.startAt,t.startAt)&&NE(e.endAt,t.endAt)}function Cf(e){return me.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Wn=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).field=n,s.op=i,s.value=o,s}return ye(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new zM(n,i,o):i==="array-contains"?new XM(n,o):i==="in"?new YM(n,o):i==="not-in"?new QM(n,o):i==="array-contains-any"?new JM(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new GM(n,o):new WM(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(eu(i,this.value)):i!==null&&$o(this.value)===$o(i)&&this.m(eu(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ge()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),zM=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,o)||this).key=me.fromName(o.referenceValue),s}return ye(t,e),t.prototype.matches=function(n){var i=me.comparator(n.key,this.key);return this.m(i)},t}(Wn),GM=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=P1("in",i),o}return ye(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(Wn),WM=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=P1("not-in",i),o}return ye(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(Wn);function P1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return me.fromName(i.referenceValue)})}var XM=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return ye(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return Wv(i)&&Ga(i.arrayValue,this.value)},t}(Wn),YM=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return ye(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Ga(this.value.arrayValue,i)},t}(Wn),QM=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return ye(t,e),t.prototype.matches=function(n){if(Ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Ga(this.value.arrayValue,i)},t}(Wn),JM=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return ye(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!Wv(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return Ga(i.value.arrayValue,s)})},t}(Wn),Wa=function(e,t){this.position=e,this.before=t};function Nf(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Gv(t)}).join(",")}var Bs=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function ZM(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function CE(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var s=t[o],a=e.position[o];if(i=s.field.isKeyField()?me.comparator(me.fromName(a.referenceValue),n.key):eu(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function NE(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Kr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li=function(e,t,n,i,o,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function L1(e,t,n,i,o,s,a,l){return new li(e,t,n,i,o,s,a,l)}function yc(e){return new li(e)}function of(e){return!Qo(e.limit)&&e.limitType==="F"}function Rf(e){return!Qo(e.limit)&&e.limitType==="L"}function Xv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Yv(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function Qv(e){return e.collectionGroup!==null}function tu(e){var t=ce(e);if(t.p===null){t.p=[];var n=Yv(t),i=Xv(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new Bs(n)),t.p.push(new Bs(Tr.keyField(),"asc"));else{for(var o=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Bs(Tr.keyField(),f))}}}return t.p}function zr(e){var t=ce(e);if(!t.T)if(t.limitType==="F")t.T=kE(t.path,t.collectionGroup,tu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=tu(t);i<o.length;i++){var s=o[i],a=s.dir==="desc"?"asc":"desc";n.push(new Bs(s.field,a))}var l=t.endAt?new Wa(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Wa(t.startAt.position,!t.startAt.before):null;t.T=kE(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function M1(e,t,n){return new li(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wc(e,t){return Eh(zr(e),zr(t))&&e.limitType===t.limitType}function F1(e){return vc(zr(e))+"|lt:"+e.limitType}function xm(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+Gv(o.value);var o}).join(", ")+"]"),Qo(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Nf(t.startAt)),t.endAt&&(n+=", endAt: "+Nf(t.endAt)),"Target("+n+")"}(zr(e))+"; limitType="+e.limitType+")"}function bc(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):me.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var a=s[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!CE(n.startAt,tu(n),i))&&(!n.endAt||!CE(n.endAt,tu(n),i))}(e,t)}function U1(e){return function(t,n){for(var i=!1,o=0,s=tu(e);o<s.length;o++){var a=s[o],l=eF(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function eF(e,t,n){var i=e.field.isKeyField()?me.comparator(t.key,n.key):function(o,s,a){var l=s.data.field(o),f=a.data.field(o);return l!==null&&f!==null?eu(l,f):ge()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(t)?"-0":t}}function j1(e){return{integerValue:""+e}}function q1(e,t){return O1(t)?j1(t):V1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ih=function(){this._=void 0};function tF(e,t,n){return e instanceof nu?function(i,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Ho?$1(e,t):e instanceof Ko?H1(e,t):function(i,o){var s=B1(i,o),a=RE(s)+RE(i.A);return Rm(s)&&Rm(i.A)?j1(a):V1(i.R,a)}(e,t)}function nF(e,t,n){return e instanceof Ho?$1(e,t):e instanceof Ko?H1(e,t):n}function B1(e,t){return e instanceof ru?Rm(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var nu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t}(Ih),Ho=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return ye(t,e),t}(Ih);function $1(e,t){for(var n=K1(t),i=function(a){n.some(function(l){return Kr(l,a)})||n.push(a)},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var Ko=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return ye(t,e),t}(Ih);function H1(e,t){for(var n=K1(t),i=function(a){n=n.filter(function(l){return!Kr(l,a)})},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var ru=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return ye(t,e),t}(Ih);function RE(e){return Ot(e.integerValue||e.doubleValue)}function K1(e){return Wv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _c=function(e,t){this.field=e,this.transform=t},rF=function(e,t){this.version=e,this.transformResults=t},an=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function sf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Th=function(){};function iF(e,t,n){e instanceof Ec?function(i,o,s){var a=i.value.clone(),l=DE(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Gi?function(i,o,s){if(sf(i.precondition,o)){var a=DE(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(z1(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Om(e,t,n){e instanceof Ec?function(i,o,s){if(sf(i.precondition,o)){var a=i.value.clone(),l=PE(i.fieldTransforms,s,o);a.setAll(l),o.convertToFoundDocument(OE(o),a).setHasLocalMutations()}}(e,t,n):e instanceof Gi?function(i,o,s){if(sf(i.precondition,o)){var a=PE(i.fieldTransforms,s,o),l=o.data;l.setAll(z1(i)),l.setAll(a),o.convertToFoundDocument(OE(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){sf(i.precondition,o)&&o.convertToNoDocument(Me.min())}(e,t)}function oF(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var s=o[i],a=t.data.field(s.field),l=B1(s.transform,a||null);l!=null&&(n==null&&(n=Kn.empty()),n.set(s.field,l))}return n||null}function xE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Qs(n,i,function(o,s){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof Ho&&d instanceof Ho||f instanceof Ko&&d instanceof Ko?Qs(f.elements,d.elements,Kr):f instanceof ru&&d instanceof ru?Kr(f.A,d.A):f instanceof nu&&d instanceof nu}(a.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function OE(e){return e.isFoundDocument()?e.version:Me.min()}var Ec=function(e){function t(n,i,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=s,a.type=0,a}return ye(t,e),t}(Th),Gi=function(e){function t(n,i,o,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return ye(t,e),t}(Th);function z1(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function DE(e,t,n){var i=new Map;Te(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],a=s.transform,l=t.data.field(s.field);i.set(s.field,nF(a,l,n[o]))}return i}function PE(e,t,n){for(var i=new Map,o=0,s=e;o<s.length;o++){var a=s[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,tF(l,f,t))}return i}var xt,qe,Ic=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return ye(t,e),t}(Th),Jv=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return ye(t,e),t}(Th),sF=function(e){this.count=e};function G1(e){switch(e){case F.OK:return ge();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ge()}}function W1(e){if(e===void 0)return Dt("GRPC error has no .code"),F.UNKNOWN;switch(e){case xt.OK:return F.OK;case xt.CANCELLED:return F.CANCELLED;case xt.UNKNOWN:return F.UNKNOWN;case xt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case xt.INTERNAL:return F.INTERNAL;case xt.UNAVAILABLE:return F.UNAVAILABLE;case xt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case xt.NOT_FOUND:return F.NOT_FOUND;case xt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case xt.ABORTED:return F.ABORTED;case xt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case xt.DATA_LOSS:return F.DATA_LOSS;default:return ge()}}(qe=xt||(xt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn=function(){function e(t,n){this.comparator=t,this.root=n||xi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new ql(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new ql(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new ql(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new ql(this.root,t,this.comparator,!0)},e}(),ql=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?i(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),xi=function(){function e(t,n,i,o,s){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,s){return new e(t??this.key,n??this.value,i??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,s=i(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,i),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();var t=this.left.check();if(t!==this.right.check())throw ge();return t+(this.isRed()?0:1)},e}();xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ge()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,s){return this},e.prototype.insert=function(t,n,i){return new xi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt=function(){function e(t){this.comparator=t,this.data=new hn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new LE(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new LE(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),LE=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),uF=new hn(me.comparator);function Er(){return uF}var aF=new hn(me.comparator);function Dm(){return aF}var cF=new hn(me.comparator);function lF(){return cF}var fF=new Vt(me.comparator);function it(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=fF,i=0,o=e;i<o.length;i++){var s=o[i];n=n.add(s)}return n}var hF=new Vt(Ve);function Sh(){return hF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zv=function(){function e(t,n,i,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,ey.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Me.min(),i,Sh(),Er(),it())},e}(),ey=function(){function e(t,n,i,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Ln.EMPTY_BYTE_STRING,n,it(),it(),it())},e}(),uf=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},X1=function(e,t){this.targetId=e,this.V=t},Y1=function(e,t,n,i){n===void 0&&(n=Ln.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},ME=function(){function e(){this.S=0,this.D=UE(),this.C=Ln.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=it(),n=it(),i=it();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ge()}}),new ey(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=UE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),dF=function(){function e(t){this.W=t,this.G=new Map,this.H=Er(),this.J=FE(),this.Y=new Vt(Ve)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)o=a[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:ge()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){i.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var s=o.target;if(Cf(s))if(i===0){var a=new me(s.path);this.tt(n,a,fn.newNoDocument(a,Me.min()))}else Te(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Cf(f.target)){var d=new me(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,fn.newNoDocument(d,t))}a.$&&(i.set(l,a.M()),a.L())}});var o=it();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var p=n.ot(d);return!p||p.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var s=new Zv(t,i,this.Y,this.H,o);return this.H=Er(),this.J=FE(),this.Y=new Vt(Ve),s},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new ME,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Vt(Ve),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||re("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new ME),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function FE(){return new hn(me.comparator)}function UE(){return new hn(me.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pF={asc:"ASCENDING",desc:"DESCENDING"},gF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mF=function(e,t){this.databaseId=e,this.I=t};function Xa(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Q1(e,t){return e.I?t.toBase64():t.toUint8Array()}function vF(e,t){return Xa(e,t.toTimestamp())}function Tn(e){return Te(!!e),Me.fromTimestamp(function(t){var n=$i(t);return new Pn(n.seconds,n.nanos)}(e))}function ty(e,t){return function(n){return new Qe(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function J1(e){var t=Qe.fromString(e);return Te(oA(t)),t}function Ya(e,t){return ty(e.databaseId,t.path)}function ni(e,t){var n=J1(t);if(n.get(1)!==e.databaseId.projectId)throw new J(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new J(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new me(eA(n))}function Pm(e,t){return ty(e.databaseId,t)}function Z1(e){var t=J1(e);return t.length===4?Qe.emptyPath():eA(t)}function Qa(e){return new Qe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function eA(e){return Te(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function VE(e,t,n){return{name:Ya(e,t),fields:n.value.mapValue.fields}}function yF(e,t,n){var i=ni(e,t.name),o=Tn(t.updateTime),s=new Kn({mapValue:{fields:t.fields}}),a=fn.newFoundDocument(i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function xf(e,t){var n;if(t instanceof Ec)n={update:VE(e,t.key,t.value)};else if(t instanceof Ic)n={delete:Ya(e,t.key)};else if(t instanceof Gi)n={update:VE(e,t.key,t.data),updateMask:IF(t.fieldMask)};else{if(!(t instanceof Jv))return ge();n={verify:Ya(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,s){var a=s.transform;if(a instanceof nu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ho)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ko)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ru)return{fieldPath:s.field.canonicalString(),increment:a.A};throw ge()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:vF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge()}(e,t.precondition)),n}function jE(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?an.updateTime(Tn(d.updateTime)):d.exists!==void 0?an.exists(d.exists):an.none()}(t.currentDocument):an.none(),i=t.updateTransforms?t.updateTransforms.map(function(d){return function(p,m){var v=null;if("setToServerValue"in m)Te(m.setToServerValue==="REQUEST_TIME"),v=new nu;else if("appendMissingElements"in m){var b=m.appendMissingElements.values||[];v=new Ho(b)}else if("removeAllFromArray"in m){var _=m.removeAllFromArray.values||[];v=new Ko(_)}else"increment"in m?v=new ru(p,m.increment):ge();var I=Tr.fromServerFormat(m.fieldPath);return new _c(I,v)}(e,d)}):[];if(t.update){t.update.name;var o=ni(e,t.update.name),s=new Kn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var p=d.fieldPaths||[];return new Js(p.map(function(m){return Tr.fromServerFormat(m)}))}(t.updateMask);return new Gi(o,s,a,n,i)}return new Ec(o,s,n,i)}if(t.delete){var l=ni(e,t.delete);return new Ic(l,n)}if(t.verify){var f=ni(e,t.verify);return new Jv(f,n)}return ge()}function tA(e,t){return{documents:[Pm(e,t.path)]}}function nA(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Pm(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Pm(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(p){if(p.op==="=="){if(AE(p.value))return{unaryFilter:{field:ks(p.field),op:"IS_NAN"}};if(SE(p.value))return{unaryFilter:{field:ks(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(AE(p.value))return{unaryFilter:{field:ks(p.field),op:"IS_NOT_NAN"}};if(SE(p.value))return{unaryFilter:{field:ks(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(p.field),op:bF(p.op),value:p.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:ks(d.field),direction:wF(d.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,f){return l.I||Qo(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=qE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=qE(t.endAt)),n}function rA(e){var t=Z1(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Te(i===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=iA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(m){return function(v){return new Bs(Fs(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m)}));var f=null;n.limit&&(f=function(m){var v;return Qo(v=typeof m=="object"?m.value:m)?null:v}(n.limit));var d=null;n.startAt&&(d=BE(n.startAt));var p=null;return n.endAt&&(p=BE(n.endAt)),L1(t,o,l,a,f,"F",d,p)}function iA(e){return e?e.unaryFilter!==void 0?[EF(e)]:e.fieldFilter!==void 0?[_F(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return iA(t)}).reduce(function(t,n){return t.concat(n)}):ge():[]}function qE(e){return{before:e.before,values:e.position}}function BE(e){var t=!!e.before,n=e.values||[];return new Wa(n,t)}function wF(e){return pF[e]}function bF(e){return gF[e]}function ks(e){return{fieldPath:e.canonicalString()}}function Fs(e){return Tr.fromServerFormat(e.fieldPath)}function _F(e){return Wn.create(Fs(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ge()}}(e.fieldFilter.op),e.fieldFilter.value)}function EF(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Fs(e.unaryFilter.field);return Wn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Fs(e.unaryFilter.field);return Wn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Fs(e.unaryFilter.field);return Wn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Fs(e.unaryFilter.field);return Wn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ge()}}function IF(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function oA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$E(t)),t=TF(e.get(n),t);return $E(t)}function TF(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function $E(e){return e+""}function ti(e){var t=e.length;if(Te(t>=2),t===2)return Te(e.charAt(0)===""&&e.charAt(1)===""),Qe.emptyPath();for(var n=t-2,i=[],o="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&ge(),e.charAt(a+1)){case"":var l=e.substring(s,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(s,a),o+="\0";break;case"":o+=e.substring(s,a+1);break;default:ge()}s=a+2}return new Qe(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SF=function(e,t){this.seconds=e,this.nanoseconds=t},$n=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};$n.store="owner",$n.key="owner";var Vi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Vi.store="mutationQueues",Vi.keyPath="userId";var st=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};st.store="mutations",st.keyPath="batchId",st.userMutationsIndex="userMutationsIndex",st.userMutationsKeyPath=["userId","batchId"];var on=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Ir(n)]},e.key=function(t,n,i){return[t,Ir(n),i]},e}();on.store="documentMutations",on.PLACEHOLDER=new on;var AF=function(e,t){this.path=e,this.readTime=t},kF=function(e,t){this.path=e,this.version=t},Et=function(e,t,n,i,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=s};Et.store="remoteDocuments",Et.readTimeIndex="readTimeIndex",Et.readTimeIndexPath="readTime",Et.collectionReadTimeIndex="collectionReadTimeIndex",Et.collectionReadTimeIndexPath=["parentPath","readTime"];var jr=function(e){this.byteSize=e};jr.store="remoteDocumentGlobal",jr.key="remoteDocumentGlobalKey";var On=function(e,t,n,i,o,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=a};On.store="targets",On.keyPath="targetId",On.queryTargetsIndexName="queryTargetsIndex",On.queryTargetsKeyPath=["canonicalId","targetId"];var Xt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Xt.store="targetDocuments",Xt.keyPath=["targetId","path"],Xt.documentTargetsIndex="documentTargetsIndex",Xt.documentTargetsKeyPath=["path","targetId"];var Hn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Hn.key="targetGlobalKey",Hn.store="targetGlobal";var Lo=function(e,t){this.collectionId=e,this.parent=t};Lo.store="collectionParents",Lo.keyPath=["collectionId","parent"];var ri=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};ri.store="clientMetadata",ri.keyPath="clientId";var iu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};iu.store="bundles",iu.keyPath="bundleId";var ou=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ou.store="namedQueries",ou.keyPath="name";var CF=dt(dt([],dt(dt([],dt(dt([],dt(dt([],[Vi.store,st.store,on.store,Et.store,On.store,$n.store,Hn.store,Xt.store]),[ri.store])),[jr.store])),[Lo.store])),[iu.store,ou.store]),sA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uA=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Mn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},ee=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){i.nextCallback=function(a){i.wrapSuccess(t,a).next(o,s)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,s=0,a=!1;t.forEach(function(l){++o,l.next(function(){++s,a&&s===o&&n()},function(f){return i(f)})}),a=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,s=t;o<s.length;o++)i(s[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(s,a){o.push(n.call(i,s,a))}),this.waitFor(o)},e}(),aA=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Mn,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new Sa(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var s=ny(o.target.error);i.ft.reject(new Sa(t,s))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(s){throw new Sa(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(re("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new RF(n)},e}(),su=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(jo())===12.2&&Dt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return re("SimpleDb","Removing database:",t),Ao(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=jo(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return K(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(re("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;s(d)},l.onblocked=function(){a(new Sa(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new J(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Sa(t,d))},l.onupgradeneeded=function(f){re("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){re("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return i.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return K(this,void 0,void 0,function(){var s,a,l,f,d;return $(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var m,v,b,_,I;return $(this,function(N){switch(N.label){case 0:++a,N.label=1;case 1:return N.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=N.sent(),m=aA.open(f.db,t,s?"readonly":"readwrite",i),v=o(m).catch(function(R){return m.abort(R),ee.reject(R)}).toPromise(),b={},v.catch(function(){}),[4,m.dt];case 3:return[2,(b.value=(N.sent(),v),b)];case 4:return _=N.sent(),I=_.name!=="FirebaseError"&&a<3,re("SimpleDb","Transaction failed with error:",_.message,"Retrying:",I),f.close(),I?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(d=p.sent())=="object")return[2,d.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),NF=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Ao(this.Pt.delete())},e}(),Sa=function(e){function t(n,i){var o=this;return(o=e.call(this,F.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return ye(t,e),t}(J);function Jo(e){return e.name==="IndexedDbTransactionError"}var RF=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(re("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Ao(i)},e.prototype.add=function(t){return re("SimpleDb","ADD",this.store.name,t,t),Ao(this.store.add(t))},e.prototype.get=function(t){var n=this;return Ao(this.store.get(t)).next(function(i){return i===void 0&&(i=null),re("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return re("SimpleDb","DELETE",this.store.name,t),Ao(this.store.delete(t))},e.prototype.count=function(){return re("SimpleDb","COUNT",this.store.name),Ao(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(s,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){re("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new ee(function(i,o){n.onerror=function(s){var a=ny(s.target.error);o(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new ee(function(o,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new NF(l),d=n(l.primaryKey,l.value,f);if(d instanceof ee){var p=d.catch(function(m){return f.done(),ee.reject(m)});i.push(p)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return ee.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Ao(e){return new ee(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=ny(i.target.error);n(o)}})}var HE=!1;function ny(e){var t=su._t(jo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new J("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return HE||(HE=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KE=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return ye(t,e),t}(uA);function Fn(e,t){var n=ce(e);return su.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ry=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&iF(s,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t.key)&&Om(a,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t.key)&&Om(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(Me.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},it())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Qs(this.mutations,t.mutations,function(n,i){return xE(n,i)})&&Qs(this.baseMutations,t.baseMutations,function(n,i){return xE(n,i)})},e}(),xF=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){Te(t.mutations.length===i.length);for(var o=lF(),s=t.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,i[a].version);return new e(t,n,i,o)},e}(),Ah=function(){function e(t,n,i,o,s,a,l){s===void 0&&(s=Me.min()),a===void 0&&(a=Me.min()),l===void 0&&(l=Ln.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),cA=function(e){this.Lt=e};function Lm(e,t){if(t.document)return yF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=me.fromSegments(t.noDocument.path),i=au(t.noDocument.readTime),o=fn.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=me.fromSegments(t.unknownDocument.path);return i=au(t.unknownDocument.version),fn.newUnknownDocument(s,i)}return ge()}function zE(e,t,n){var i=iy(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(m,v){return{name:Ya(m,v.key),fields:v.data.value.mapValue.fields,updateTime:Xa(m,v.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Et(null,null,s,a,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=uu(t.version);return a=t.hasCommittedMutations,new Et(null,new AF(l,f),null,a,i,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),p=uu(t.version);return new Et(new kF(d,p),null,null,!0,i,o)}return ge()}function iy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function lA(e){var t=new Pn(e[0],e[1]);return Me.fromTimestamp(t)}function uu(e){var t=e.toTimestamp();return new SF(t.seconds,t.nanoseconds)}function au(e){var t=new Pn(e.seconds,e.nanoseconds);return Me.fromTimestamp(t)}function Ds(e,t){for(var n=(t.baseMutations||[]).map(function(f){return jE(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var s=t.mutations[i+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var a=t.mutations.map(function(f){return jE(e.Lt,f)}),l=Pn.fromMillis(t.localWriteTimeMs);return new ry(t.batchId,l,n,a)}function ya(e){var t,n,i=au(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?au(e.lastLimboFreeSnapshotVersion):Me.min();return e.query.documents!==void 0?(Te((n=e.query).documents.length===1),t=zr(yc(Z1(n.documents[0])))):t=function(s){return zr(rA(s))}(e.query),new Ah(t,e.targetId,0,e.lastListenSequenceNumber,i,o,Ln.fromBase64String(e.resumeToken))}function fA(e,t){var n,i=uu(t.snapshotVersion),o=uu(t.lastLimboFreeSnapshotVersion);n=Cf(t.target)?tA(e.Lt,t.target):nA(e.Lt,t.target);var s=t.resumeToken.toBase64();return new On(t.targetId,vc(t.target),i,s,t.sequenceNumber,o,n)}function hA(e){var t=rA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?M1(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OF=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return GE(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:au(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return GE(t).put({bundleId:(i=n).id,createTime:uu(Tn(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return WE(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:hA(o.bundledQuery),readTime:au(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return WE(t).put(function(i){return{name:i.name,readTime:uu(Tn(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function GE(e){return Fn(e,iu.store)}function WE(e){return Fn(e,ou.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DF=function(){function e(){this.Bt=new oy}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),ee.resolve()},e.prototype.getCollectionParents=function(t,n){return ee.resolve(this.Bt.getEntries(n))},e}(),oy=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Vt(Qe.comparator),s=!o.has(i);return this.index[n]=o.add(i),s},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Vt(Qe.comparator)).toArray()},e}(),PF=function(){function e(){this.qt=new oy}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:Ir(s)};return XE(t).put(a)}return ee.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[C1(n),""],!1,!0);return XE(t).Nt(o).next(function(s){for(var a=0,l=s;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(ti(f.parent))}return i})},e}();function XE(e){return Fn(e,Lo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mr=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(e,t,n){var i=e.store(st.store),o=e.store(on.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,I,N){return l++,N.delete()});s.push(f.next(function(){Te(l===1)}));for(var d=[],p=0,m=n.mutations;p<m.length;p++){var v=m[p],b=on.key(t,v.key.path,n.batchId);s.push(o.delete(b)),d.push(v.key)}return ee.waitFor(s).next(function(){return d})}function Of(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ge();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(41943040,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);var LF=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return Te(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ii(t).$t({index:st.userMutationsIndex,range:i},function(o,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var s=this,a=Ps(t),l=Ii(t);return l.add({}).next(function(f){Te(typeof f=="number");for(var d=new ry(f,n,i,o),p=function(R,P,C){var L=C.baseMutations.map(function(O){return xf(R.Lt,O)}),B=C.mutations.map(function(O){return xf(R.Lt,O)});return new st(P,C.batchId,C.localWriteTime.toMillis(),L,B)}(s.R,s.userId,d),m=[],v=new Vt(function(R,P){return Ve(R.canonicalString(),P.canonicalString())}),b=0,_=o;b<_.length;b++){var I=_[b],N=on.key(s.userId,I.key.path,f);v=v.add(I.key.path.popLast()),m.push(l.put(p)),m.push(a.put(N,on.PLACEHOLDER))}return v.forEach(function(R){m.push(s.Ut.addToCollectionParentIndex(t,R))}),t.addOnCommittedListener(function(){s.Kt[f]=d.keys()}),ee.waitFor(m).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Ii(t).get(n).next(function(o){return o?(Te(o.userId===i.userId),Ds(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?ee.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return i.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),a=null;return Ii(t).$t({index:st.userMutationsIndex,range:s},function(l,f,d){f.userId===i.userId&&(Te(f.batchId>=o),a=Ds(i.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Ii(t).$t({index:st.userMutationsIndex,range:n,reverse:!0},function(o,s,a){i=s.batchId,a.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ii(t).Nt(st.userMutationsIndex,i).next(function(o){return o.map(function(s){return Ds(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=on.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),a=[];return Ps(t).$t({range:s},function(l,f,d){var p=l[0],m=l[1],v=l[2],b=ti(m);if(p===i.userId&&n.path.isEqual(b))return Ii(t).get(v).next(function(_){if(!_)throw ge();Te(_.userId===i.userId),a.push(Ds(i.R,_))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Vt(Ve),s=[];return n.forEach(function(a){var l=on.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=Ps(t).$t({range:f},function(p,m,v){var b=p[0],_=p[1],I=p[2],N=ti(_);b===i.userId&&a.path.isEqual(N)?o=o.add(I):v.done()});s.push(d)}),ee.waitFor(s).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,s=o.length+1,a=on.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Vt(Ve);return Ps(t).$t({range:l},function(d,p,m){var v=d[0],b=d[1],_=d[2],I=ti(b);v===i.userId&&o.isPrefixOf(I)?I.length===s&&(f=f.add(_)):m.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],s=[];return n.forEach(function(a){s.push(Ii(t).get(a).next(function(l){if(l===null)throw ge();Te(l.userId===i.userId),o.push(Ds(i.R,l))}))}),ee.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return dA(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),ee.forEach(o,function(s){return i.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return ee.resolve();var o=IDBKeyRange.lowerBound(on.prefixForUser(n.userId)),s=[];return Ps(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=ti(a[1]);s.push(d)}else f.done()}).next(function(){Te(s.length===0)})})},e.prototype.containsKey=function(t,n){return pA(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return gA(t).get(this.userId).next(function(i){return i||new Vi(n.userId,-1,"")})},e}();function pA(e,t,n){var i=on.prefixForPath(t,n.path),o=i[1],s=IDBKeyRange.lowerBound(i),a=!1;return Ps(e).$t({range:s,Ft:!0},function(l,f,d){var p=l[0],m=l[1];l[2],p===t&&m===o&&(a=!0),d.done()}).next(function(){return a})}function Ii(e){return Fn(e,st.store)}function Ps(e){return Fn(e,on.store)}function gA(e){return Fn(e,Vi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Df=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),MF=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new Df(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Me.fromTimestamp(new Pn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Cs(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return Te(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,a=[];return Cs(t).$t(function(l,f){var d=ya(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(s++,a.push(o.removeTargetData(t,d)))}).next(function(){return ee.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Cs(t).$t(function(i,o){var s=ya(o);n(s)})},e.prototype.Xt=function(t){return QE(t).get(Hn.key).next(function(n){return Te(n!==null),n})},e.prototype.Zt=function(t,n){return QE(t).put(Hn.key,n)},e.prototype.te=function(t,n){return Cs(t).put(fA(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=vc(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return Cs(t).$t({range:o,index:On.queryTargetsIndexName},function(a,l,f){var d=ya(l);Eh(n,d.target)&&(s=d,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,s=[],a=Oi(t);return n.forEach(function(l){var f=Ir(l.path);s.push(a.put(new Xt(i,f))),s.push(o.referenceDelegate.addReference(t,i,l))}),ee.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,s=Oi(t);return ee.forEach(n,function(a){var l=Ir(a.path);return ee.waitFor([s.delete([i,l]),o.referenceDelegate.removeReference(t,i,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Oi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Oi(t),s=it();return o.$t({range:i,Ft:!0},function(a,l,f){var d=ti(a[1]),p=new me(d);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var i=Ir(n.path),o=IDBKeyRange.bound([i],[C1(i)],!1,!0),s=0;return Oi(t).$t({index:Xt.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Cs(t).get(n).next(function(i){return i?ya(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(e){return Fn(e,On.store)}function QE(e){return Fn(e,Hn.store)}function Oi(e){return Fn(e,Xt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(e){return K(this,void 0,void 0,function(){return $(this,function(t){if(e.code!==F.FAILED_PRECONDITION||e.message!==sA)throw e;return re("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(e,t){var n=e[0],i=e[1],o=t[0],s=t[1],a=Ve(n,o);return a===0?Ve(i,s):a}var FF=function(){function e(t){this.ne=t,this.buffer=new Vt(JE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();JE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),UF=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;re("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return K(n,void 0,void 0,function(){var o;return $(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Jo(o=s.sent())?(re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Zo(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),VF=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return ee.resolve(Gn.o);var o=new FF(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return i.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(YE)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),YE):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,s,a,l,f,d,p=this,m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(v){return v>p.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+v),o=p.params.maximumSequenceNumbersToCollect):o=v,a=Date.now(),p.nthSequenceNumber(t,o)}).next(function(v){return i=v,l=Date.now(),p.removeTargets(t,i,n)}).next(function(v){return s=v,f=Date.now(),p.removeOrphanedDocuments(t,i)}).next(function(v){return d=Date.now(),Cm()<=Ke.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-m)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+v+" documents in "+(d-f)+`ms
Total Duration: `+(d-m)+"ms"),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:v})})},e}(),jF=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new VF(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return Bl(t,i)},e.prototype.removeReference=function(t,n,i){return Bl(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return Bl(t,n)},e.prototype._e=function(t,n){return function(i,o){var s=!1;return gA(i).Ot(function(a){return pA(i,a,o).next(function(l){return l&&(s=!0),ee.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,f){if(f<=n){var d=i._e(t,l).next(function(p){if(!p)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Oi(t).delete([0,Ir(l.path)])})});s.push(d)}}).next(function(){return ee.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return Bl(t,n)},e.prototype.we=function(t,n){var i,o=Oi(t),s=Gn.o;return o.$t({index:Xt.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,p=l.sequenceNumber;f===0?(s!==Gn.o&&n(new me(ti(i)),s),s=p,i=d):s=Gn.o}).next(function(){s!==Gn.o&&n(new me(ti(i)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Bl(e,t){return Oi(e).put(function(n,i){return new Xt(0,Ir(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,s=i;o<s.length;o++){var a=s[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Yo(this.inner,function(n,i){for(var o=0,s=i;o<s.length;o++){var a=s[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return N1(this.inner)},e}(),mA=function(){function e(){this.changes=new Iu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Me.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:fn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?ee.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),qF=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Ni(t).put($l(n),i)},e.prototype.removeEntry=function(t,n){var i=Ni(t),o=$l(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return Ni(t).get($l(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return Ni(t).get($l(n)).next(function(o){return{document:i.ye(n,o),size:Of(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=Er();return this.pe(t,n,function(s,a){var l=i.ye(s,a);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=Er(),s=new hn(me.comparator);return this.pe(t,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),s=s.insert(a,Of(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return ee.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Ni(t).$t({range:o},function(l,f,d){for(var p=me.fromSegments(l);a&&me.comparator(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,f),a=s.hasNext()?s.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,s=Er(),a=n.path.length+1,l={};if(i.isEqual(Me.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),p=iy(i);l.range=IDBKeyRange.lowerBound([d,p],!0),l.index=Et.collectionReadTimeIndex}return Ni(t).$t(l,function(m,v,b){if(m.length===a){var _=Lm(o.R,v);n.path.isPrefixOf(_.key.path)?bc(n,_)&&(s=s.insert(_.key,_)):b.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new BF(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return ZE(t).get(jr.key).next(function(n){return Te(!!n),n})},e.prototype.me=function(t,n){return ZE(t).put(jr.key,n)},e.prototype.ye=function(t,n){if(n){var i=Lm(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(Me.min()))return i}return fn.newInvalidDocument(t)},e}(),BF=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new Iu(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),o}return ye(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],s=0,a=new Vt(function(l,f){return Ve(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var p=zE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var m=Of(p);s+=m-d,o.push(i.Ie.addEntry(n,l,p))}else if(s-=d,i.trackRemovals){var v=zE(i.Ie.R,fn.newNoDocument(l,Me.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,v))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),ee.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(s){return o.Ae.set(i,s.size),s.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(s){var a=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(mA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(e){return Fn(e,jr.store)}function Ni(e){return Fn(e,Et.store)}function $l(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $F=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var s=this;Te(i<o&&i>=0&&o<=11);var a=new aA("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore($n.store)}(t),function(f){f.createObjectStore(Vi.store,{keyPath:Vi.keyPath}),f.createObjectStore(st.store,{keyPath:st.keyPath,autoIncrement:!0}).createIndex(st.userMutationsIndex,st.userMutationsKeyPath,{unique:!0}),f.createObjectStore(on.store)}(t),eI(t),function(f){f.createObjectStore(Et.store)}(t));var l=ee.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(Xt.store),f.deleteObjectStore(On.store),f.deleteObjectStore(Hn.store)}(t),eI(t)),l=l.next(function(){return function(f){var d=f.store(Hn.store),p=new Hn(0,0,Me.min().toTimestamp(),0);return d.put(Hn.key,p)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(st.store).Nt().next(function(p){f.deleteObjectStore(st.store),f.createObjectStore(st.store,{keyPath:st.keyPath,autoIncrement:!0}).createIndex(st.userMutationsIndex,st.userMutationsKeyPath,{unique:!0});var m=d.store(st.store),v=p.map(function(b){return m.put(b)});return ee.waitFor(v)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(ri.store,{keyPath:ri.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return s.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(jr.store)}(t),s.be(a)})),i<7&&o>=7&&(l=l.next(function(){return s.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return s.Pe(t,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(Et.store);d.createIndex(Et.readTimeIndex,Et.readTimeIndexPath,{unique:!1}),d.createIndex(Et.collectionReadTimeIndex,Et.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return s.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(iu.store,{keyPath:iu.keyPath})})(t),function(f){f.createObjectStore(ou.store,{keyPath:ou.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Et.store).$t(function(i,o){n+=Of(o)}).next(function(){var i=new jr(n);return t.store(jr.store).put(jr.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(Vi.store),o=t.store(st.store);return i.Nt().next(function(s){return ee.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(st.userMutationsIndex,l).next(function(f){return ee.forEach(f,function(d){Te(d.userId===a.userId);var p=Ds(n.R,d);return dA(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Xt.store),i=t.store(Et.store);return t.store(Hn.store).get(Hn.key).next(function(o){var s=[];return i.$t(function(a,l){var f=new Qe(a),d=function(p){return[0,Ir(p)]}(f);s.push(n.get(d).next(function(p){return p?ee.resolve():function(m){return n.put(new Xt(0,Ir(m),o.highestListenSequenceNumber))}(f)}))}).next(function(){return ee.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Lo.store,{keyPath:Lo.keyPath});var i=n.store(Lo.store),o=new oy,s=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:Ir(f)})}};return n.store(Et.store).$t({Ft:!0},function(a,l){var f=new Qe(a);return s(f.popLast())}).next(function(){return n.store(on.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=ti(f);return s(d.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(On.store);return i.$t(function(o,s){var a=ya(s),l=fA(n.R,a);return i.put(l)})},e}();function eI(e){e.createObjectStore(Xt.store,{keyPath:Xt.keyPath}).createIndex(Xt.documentTargetsIndex,Xt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(On.store,{keyPath:On.keyPath}).createIndex(On.queryTargetsIndexName,On.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Hn.store)}var Ug="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",HF=function(){function e(t,n,i,o,s,a,l,f,d,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=s,this.window=a,this.document=l,this.De=d,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(m){return Promise.resolve()},!e.yt())throw new J(F.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jF(this,o),this.Le=n+"main",this.R=new cA(f),this.Be=new su(this.Le,11,new $F(this.R)),this.qe=new MF(this.referenceDelegate,this.R),this.Ut=new PF,this.Ue=function(m,v){return new qF(m,v)}(this.R,this.Ut),this.Ke=new OF,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&Dt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new J(F.FAILED_PRECONDITION,Ug);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Gn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return K(n,void 0,void 0,function(){return $(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return K(n,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return K(n,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Hl(n).put(new ri(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Jo(n))return re("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return pa(t).get($n.key).next(function(i){return ee.resolve(n.tn(i))})},e.prototype.en=function(t){return Hl(t).delete(this.clientId)},e.prototype.nn=function(){return K(this,void 0,void 0,function(){var t,n,i,o,s=this;return $(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Fn(l,ri.store);return f.Nt().next(function(d){var p=s.rn(d,18e5),m=d.filter(function(v){return p.indexOf(v)===-1});return ee.forEach(m,function(v){return f.delete(v.clientId)}).next(function(){return m})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?ee.resolve(!0):pa(t).get($n.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new J(F.FAILED_PRECONDITION,Ug);return!1}}return!(!n.networkEnabled||!n.inForeground)||Hl(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&re("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return K(this,void 0,void 0,function(){var t=this;return $(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[$n.store,ri.store],function(i){var o=new KE(i,Gn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Hl(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return LF.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;re("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,CF,function(l){return s=new KE(l,o.Ne?o.Ne.next():Gn.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw Dt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new J(F.FAILED_PRECONDITION,sA);return i(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return i(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return pa(t).get($n.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new J(F.FAILED_PRECONDITION,Ug)})},e.prototype.Ze=function(t){var n=new $n(this.clientId,this.allowTabSynchronization,Date.now());return pa(t).put($n.key,n)},e.yt=function(){return su.yt()},e.prototype.Xe=function(t){var n=this,i=pa(t);return i.get($n.key).next(function(o){return n.tn(o)?(re("IndexedDbPersistence","Releasing primary lease."),i.delete($n.key)):ee.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(Dt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),QP()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return re("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Dt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Dt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function pa(e){return Fn(e,$n.store)}function Hl(e){return Fn(e,ri.store)}function sy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var vA=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,a=i;s<a.length;s++)a[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):Qv(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new me(n)).next(function(i){var o=Dm();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,s=n.collectionGroup,a=Dm();return this.Ut.getCollectionParents(t,s).next(function(l){return ee.forEach(l,function(f){var d=function(p,m){return new li(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,f.child(s));return o.An(t,d,i).next(function(p){p.forEach(function(m,v){a=a.insert(m,v)})})}).next(function(){return a})})},e.prototype.An=function(t,n,i){var o,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,o).next(function(f){o=f;for(var d=0,p=s;d<p.length;d++)for(var m=p[d],v=0,b=m.mutations;v<b.length;v++){var _=b[v],I=_.key,N=o.get(I);N==null&&(N=fn.newInvalidDocument(I),o=o.insert(I,N)),Om(_,N,m.localWriteTime),N.isFoundDocument()||(o=o.remove(I))}})}).next(function(){return o.forEach(function(l,f){bc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=it(),s=0,a=n;s<a.length;s++)for(var l=0,f=a[s].mutations;l<f.length;l++){var d=f[l];d instanceof Gi&&i.get(d.key)===null&&(o=o.add(d.key))}var p=i;return this.Ue.getEntries(t,o).next(function(m){return m.forEach(function(v,b){b.isFoundDocument()&&(p=p.insert(v,b))}),p})},e}(),KF=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=it(),o=it(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),yA=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(Me.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=s.Cn(n,a);return(of(n)||Rf(n))&&s.Nn(n.limitType,l,o,i)?s.Dn(t,n):(Cm()<=Ke.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xm(n)),s.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var i=new Vt(U1(t));return n.forEach(function(o,s){bc(t,s)&&(i=i.add(s))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Cm()<=Ke.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",xm(n)),this.Sn.getDocumentsMatchingQuery(t,n,Me.min())},e}(),zF=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new hn(Ve),this.Fn=new Iu(function(s){return vc(s)},Eh),this.$n=Me.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new vA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(e,t,n,i){return new zF(e,t,n,i)}function bA(e,t){return K(this,void 0,void 0,function(){var n,i,o,s;return $(this,function(a){switch(a.label){case 0:return n=ce(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(t),o=new vA(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var p=[],m=[],v=it(),b=0,_=f;b<_.length;b++){var I=_[b];p.push(I.batchId);for(var N=0,R=I.mutations;N<R.length;N++){var P=R[N];v=v.add(P.key)}}for(var C=0,L=d;C<L.length;C++){var B=L[C];m.push(B.batchId);for(var O=0,X=B.mutations;O<X.length;O++){var D=X[O];v=v.add(D.key)}}return o.pn(l,v).next(function(ue){return{Ln:ue,removedBatchIds:p,addedBatchIds:m}})})})];case 1:return s=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function GF(e,t){var n=ce(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var p=f.batch,m=p.keys(),v=ee.resolve();return m.forEach(function(b){v=v.next(function(){return d.getEntry(l,b)}).next(function(_){var I=f.docVersions.get(b);Te(I!==null),_.version.compareTo(I)<0&&(p.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),v.next(function(){return a._n.removeMutationBatch(l,p)})}(n,i,t,s).next(function(){return s.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function _A(e){var t=ce(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function WF(e,t){var n=ce(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(p,m){var v=o.get(m);if(v){l.push(n.qe.removeMatchingKeys(s,p.removedDocuments,m).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,m)}));var b=p.resumeToken;if(b.approximateByteSize()>0){var _=v.withResumeToken(b,i).withSequenceNumber(s.currentSequenceNumber);o=o.insert(m,_),function(I,N,R){return Te(N.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(v,_,p)&&l.push(n.qe.updateTargetData(s,_))}}});var f=Er();if(t.documentUpdates.forEach(function(p,m){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(XF(s,a,t.documentUpdates,i,void 0).next(function(p){f=p})),!i.isEqual(Me.min())){var d=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,i)});l.push(d)}return ee.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function XF(e,t,n,i,o){var s=it();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=Er();return n.forEach(function(f,d){var p=a.get(f),m=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual(Me.min())?(t.removeEntry(f,m),l=l.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d,m),l=l.insert(f,d)):re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),l})}function YF(e,t){var n=ce(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function Pf(e,t){var n=ce(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(s){return s?(o=s,ee.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Ah(t,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function cu(e,t,n){return K(this,void 0,void 0,function(){var i,o,s,a;return $(this,function(l){switch(l.label){case 0:i=ce(e),o=i.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Jo(a=l.sent()))throw a;return re("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function Lf(e,t,n){var i=ce(e),o=Me.min(),s=it();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var p=ce(l),m=p.Fn.get(d);return m!==void 0?ee.resolve(p.kn.get(m)):p.qe.getTargetData(f,d)}(i,a,zr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){s=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,t,n?o:Me.min(),n?s:it())}).next(function(l){return{documents:l,Bn:s}})})}function EA(e,t){var n=ce(e),i=ce(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return i.lt(s,t).next(function(a){return a?a.target:null})})}function IA(e){var t=ce(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,s){var a=ce(i),l=Er(),f=iy(s),d=Ni(o),p=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Et.readTimeIndex,range:p},function(m,v){var b=Lm(a.R,v);l=l.insert(b.key,b),f=v.readTime}).next(function(){return{wn:l,readTime:lA(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function QF(e){return K(this,void 0,void 0,function(){var t;return $(this,function(n){return[2,(t=ce(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var s=Ni(o),a=Me.min();return s.$t({index:Et.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=lA(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JF=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return ee.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:Tn(i.createTime)}),ee.resolve()},e.prototype.getNamedQuery=function(t,n){return ee.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:hA(i.bundledQuery),readTime:Tn(i.readTime)}}(n)),ee.resolve()},e}(),uy=function(){function e(){this.Wn=new Vt(qt.Gn),this.zn=new Vt(qt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new qt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new qt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new me(new Qe([])),o=new qt(i,t),s=new qt(i,t+1),a=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new me(new Qe([])),i=new qt(n,t),o=new qt(n,t+1),s=it();return this.zn.forEachInRange([i,o],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new qt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),qt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return me.comparator(t.key,n.key)||Ve(t.ns,n.ns)},e.Hn=function(t,n){return Ve(t.ns,n.ns)||me.comparator(t.key,n.key)},e}(),ZF=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Vt(qt.Gn)}return e.prototype.checkEmpty=function(t){return ee.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new ry(s,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new qt(d.key,s)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return ee.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return ee.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),s=o<0?0:o;return ee.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ee.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return ee.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new qt(n,0),s=new qt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,s],function(l){var f=i.os(l.ns);a.push(f)}),ee.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Vt(Ve);return n.forEach(function(s){var a=new qt(s,0),l=new qt(s,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),ee.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,s=i;me.isDocumentKey(s)||(s=s.child(""));var a=new qt(new me(s),0),l=new Vt(Ve);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),ee.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var s=n.os(o);s!==null&&i.push(s)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;Te(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return ee.forEach(n.mutations,function(s){var a=new qt(s.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new qt(n,0),o=this.rs.firstAfterOrEqual(i);return ee.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,ee.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),eU=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new hn(me.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,s=this.docs.get(o),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return ee.resolve(i?i.document.clone():fn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=Er();return n.forEach(function(s){var a=i.docs.get(s);o=o.insert(s,a?a.document.clone():fn.newInvalidDocument(s))}),ee.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=Er(),s=new me(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,p=d.document,m=d.readTime;if(!n.path.isPrefixOf(f.path))break;m.compareTo(i)<=0||bc(n,p)&&(o=o.insert(p.key,p.clone()))}return ee.resolve(o)},e.prototype.fs=function(t,n){return ee.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new tU(this)},e.prototype.getSize=function(t){return ee.resolve(this.size)},e}(),tU=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return ye(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(s))):i.Ie.removeEntry(s)}),ee.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(mA),nU=function(){function e(t){this.persistence=t,this.ds=new Iu(function(n){return vc(n)},Eh),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.ws=0,this._s=new uy,this.targetCount=0,this.ys=Df.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),ee.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return ee.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return ee.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ee.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),ee.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Df(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,ee.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),ee.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ee.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),ee.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return ee.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return ee.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),ee.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(a){s.push(o.markPotentiallyOrphaned(t,a))}),ee.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),ee.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return ee.resolve(i)},e.prototype.containsKey=function(t,n){return ee.resolve(this._s.containsKey(n))},e}(),rU=function(){function e(t,n){var i=this;this.gs={},this.Ne=new Gn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new nU(this),this.Ut=new DF,this.Ue=function(o,s){return new eU(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new cA(n),this.Ke=new JF(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new ZF(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;re("MemoryPersistence","Starting transaction:",t);var s=new iU(this.Ne.next());return this.referenceDelegate.Es(),i(s).next(function(a){return o.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return ee.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),iU=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return ye(t,e),t}(uA),oU=function(){function e(t){this.persistence=t,this.As=new uy,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ge()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),ee.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),ee.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),ee.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(s){return i.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.vs,function(o){var s=me.fromPath(o);return n.Ps(t,s).next(function(a){a||i.removeEntry(s)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return ee.or([function(){return ee.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),Wt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(e,t){return"firestore_clients_"+e+"_"+t}function nI(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function Vg(e,t){return"firestore_targets_"+e+"_"+t}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");var rI=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,s=JSON.parse(i),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new J(s.error.code,s.error.message)),a?new e(t,n,s.state,o):(Dt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),jg=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new J(o.error.code,o.error.message)),s?new e(t,o.state,i):(Dt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),iI=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,s=Sh(),a=0;o&&a<i.activeTargetIds.length;++a)o=O1(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return o?new e(t,s):(Dt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),sU=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Dt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Mm=function(){function e(){this.activeTargetIds=Sh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),qg=function(){function e(t,n,i,o,s){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new hn(Ve),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=tI(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Mm),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return K(this,void 0,void 0,function(){var t,n,i,o,s,a,l,f,d,p,m,v=this;return $(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=b.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(s=this.getItem(tI(this.persistenceKey,o)))&&(a=iI.Vs(o,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,p=this.$s;d<p.length;d++)m=p[d],this.ks(m);return this.$s=[],this.window.addEventListener("pagehide",function(){return v.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(Vg(this.persistenceKey,t));if(i){var o=jg.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Vg(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,i.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return re("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){re("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){re("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(re("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Dt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return K(n,void 0,void 0,function(){var o,s,a,l,f,d;return $(this,function(p){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(s=this.ni(i.key,i.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(m){var v=Gn.o;if(m!=null)try{var b=JSON.parse(m);Te(typeof b=="number"),v=b}catch(_){Dt("SharedClientState","Failed to read sequence number from WebStorage",_)}return v}(i.newValue))!==Gn.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new rI(this.currentUser,t,n,i),s=nI(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=nI(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=Vg(this.persistenceKey,t),s=new jg(t,n,i);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return iI.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),s=i[2]!==void 0?i[2]:null;return rI.Vs(new Wt(s),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return jg.Vs(o,n)},e.prototype.js=function(t){return sU.Vs(t)},e.prototype.ii=function(t){return K(this,void 0,void 0,function(){return $(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(re("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){s.has(d)||l.push(d)}),s.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Sh();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),TA=function(){function e(){this.li=new Mm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Mm,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),uU=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),oI=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),aU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},cU=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),lU=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return ye(t,e),t.prototype.Fi=function(n,i,o,s){return new Promise(function(a,l){var f=new qM;f.listenOnce(UM.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Fg.NO_ERROR:var p=f.getResponseJson();re("Connection","XHR received:",JSON.stringify(p)),a(p);break;case Fg.TIMEOUT:re("Connection",'RPC "'+n+'" timed out'),l(new J(F.DEADLINE_EXCEEDED,"Request time out"));break;case Fg.HTTP_ERROR:var m=f.getStatus();if(re("Connection",'RPC "'+n+'" failed with status:',m,"response text:",f.getResponseText()),m>0){var v=f.getResponseJson().error;if(v&&v.status&&v.message){var b=function(_){var I=_.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(I)>=0?I:F.UNKNOWN}(v.status);l(new J(b,v.message))}else l(new J(F.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new J(F.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{re("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);f.send(i,"POST",d,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=MM(),a=FM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new jM({})),this.ki(l.initMessageHeaders,i),HP()||GP()||WP()||XP()||YP()||zP()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");re("Connection","Creating WebChannel: "+f,l);var d=s.createWebChannel(f,l),p=!1,m=!1,v=new cU({Ei:function(_){m?re("Connection","Not sending because WebChannel is closed:",_):(p||(re("Connection","Opening WebChannel transport."),d.open(),p=!0),re("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),b=function(_,I,N){_.listen(I,function(R){try{N(R)}catch(P){setTimeout(function(){throw P},0)}})};return b(d,jl.EventType.OPEN,function(){m||re("Connection","WebChannel transport opened.")}),b(d,jl.EventType.CLOSE,function(){m||(m=!0,re("Connection","WebChannel transport closed"),v.Vi())}),b(d,jl.EventType.ERROR,function(_){m||(m=!0,Sf("Connection","WebChannel transport errored:",_),v.Vi(new J(F.UNAVAILABLE,"The operation could not be completed")))}),b(d,jl.EventType.MESSAGE,function(_){var I;if(!m){var N=_.data[0];Te(!!N);var R=N,P=R.error||((I=R[0])===null||I===void 0?void 0:I.error);if(P){re("Connection","WebChannel received error:",P);var C=P.status,L=function(O){var X=xt[O];if(X!==void 0)return W1(X)}(C),B=P.message;L===void 0&&(L=F.INTERNAL,B="Unknown error status: "+C+" with message "+P.message),m=!0,v.Vi(new J(L,B)),d.close()}else re("Connection","WebChannel received:",N),v.Si(N)}}),b(a,VM.STAT_EVENT,function(_){_.stat===EE.PROXY?re("Connection","Detected buffering proxy"):_.stat===EE.NOPROXY&&re("Connection","Detected no buffering proxy")}),setTimeout(function(){v.Pi()},0),v},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var s=this.xi(t,n);re("RestConnection","Sending: ",s,i);var a={};return this.ki(a,o),this.Fi(t,s,a,i).then(function(l){return re("RestConnection","Received: ",l),l},function(l){throw Sf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=aU[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){return typeof window<"u"?window:null}function af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(e){return new mF(e,!0)}var ay=function(){function e(t,n,i,o,s){i===void 0&&(i=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,i-o);s>0&&re("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),AA=function(){function e(t,n,i,o,s,a){this.Se=t,this.zi=i,this.Hi=o,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ay(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return K(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return K(this,void 0,void 0,function(){return $(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return K(this,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Dt(n.toString()),Dt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===F.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var s=new J(F.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return K(t,void 0,void 0,function(){return $(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return re("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),fU=function(e){function t(n,i,o,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=s,l}return ye(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(s,a){var l;if("targetChange"in a){a.targetChange;var f=function(N){return N==="NO_CHANGE"?0:N==="ADD"?1:N==="REMOVE"?2:N==="CURRENT"?3:N==="RESET"?4:ge()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],p=function(N,R){return N.I?(Te(R===void 0||typeof R=="string"),Ln.fromBase64String(R||"")):(Te(R===void 0||R instanceof Uint8Array),Ln.fromUint8Array(R||new Uint8Array))}(s,a.targetChange.resumeToken),m=(v=a.targetChange.cause)&&function(N){var R=N.code===void 0?F.UNKNOWN:W1(N.code);return new J(R,N.message||"")}(v);l=new Y1(f,d,p,m||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=ni(s,f.document.name),p=Tn(f.document.updateTime);var v=new Kn({mapValue:{fields:f.document.fields}}),b=(m=fn.newFoundDocument(d,p,v),f.targetIds||[]),_=f.removedTargetIds||[];l=new uf(b,_,m.key,m)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=ni(s,f.document),p=f.readTime?Tn(f.readTime):Me.min(),v=fn.newNoDocument(d,p),m=f.removedTargetIds||[],l=new uf([],m,v.key,v);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=ni(s,f.document),p=f.removedTargetIds||[],l=new uf([],p,d,null);else{if(!("filter"in a))return ge();a.filter;var I=a.filter;I.targetId,f=I.count||0,d=new sF(f),p=I.targetId,l=new X1(p,d)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return Me.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Me.min():a.readTime?Tn(a.readTime):Me.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=Qa(this.R),i.addTarget=function(s,a){var l,f=a.target;return(l=Cf(f)?{documents:tA(s,f)}:{query:nA(s,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=Q1(s,a.resumeToken):a.snapshotVersion.compareTo(Me.min())>0&&(l.readTime=Xa(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ge()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=Qa(this.R),i.removeTarget=n,this.cr(i)},t}(AA),hU=function(e){function t(n,i,o,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=s,l.gr=!1,l}return ye(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Te(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(s,a){return s&&s.length>0?(Te(a!==void 0),s.map(function(l){return function(f,d){var p=f.updateTime?Tn(f.updateTime):Tn(d);return p.isEqual(Me.min())&&(p=Tn(d)),new rF(p,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=Tn(n.commitTime);return this.listener.Tr(o,i)}return Te(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Qa(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return xf(i.R,s)})};this.cr(o)},t}(AA),dU=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=i,s.R=o,s.Rr=!1,s}return ye(t,e),t.prototype.br=function(){if(this.Rr)throw new J(F.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new J(F.UNKNOWN,a.toString())})},t.prototype.$i=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new J(F.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),pU=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Dt(n),this.Vr=!1):re("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),gU=function(e,t,n,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return K(s,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return Wi(this)?(re("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return K(this,void 0,void 0,function(){var d;return $(this,function(p){switch(p.label){case 0:return(d=ce(f)).Or.add(4),[4,Tu(d)];case 1:return p.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Tc(d)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new pU(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(e){return K(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:if(!Wi(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Tu(e){return K(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ch(e,t){var n=ce(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),fy(n)?ly(n):Au(n).er()&&cy(n,t))}function Ja(e,t){var n=ce(e),i=Au(n);n.$r.delete(t),i.er()&&kA(n,t),n.$r.size===0&&(i.er()?i.ir():Wi(n)&&n.Br.set("Unknown"))}function cy(e,t){e.qr.U(t.targetId),Au(e).mr(t)}function kA(e,t){e.qr.U(t),Au(e).yr(t)}function ly(e){e.qr=new dF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Au(e).start(),e.Br.Sr()}function fy(e){return Wi(e)&&!Au(e).tr()&&e.$r.size>0}function Wi(e){return ce(e).Or.size===0}function CA(e){e.qr=void 0}function mU(e){return K(this,void 0,void 0,function(){return $(this,function(t){return e.$r.forEach(function(n,i){cy(e,n)}),[2]})})}function vU(e,t){return K(this,void 0,void 0,function(){return $(this,function(n){return CA(e),fy(e)?(e.Br.Nr(t),ly(e)):e.Br.set("Unknown"),[2]})})}function yU(e,t,n){return K(this,void 0,void 0,function(){var i,o,s;return $(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Y1&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return K(this,void 0,void 0,function(){var d,p,m,v;return $(this,function(b){switch(b.label){case 0:d=f.cause,p=0,m=f.targetIds,b.label=1;case 1:return p<m.length?(v=m[p],l.$r.has(v)?[4,l.remoteSyncer.rejectListen(v,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(v),l.qr.removeTarget(v),b.label=3;case 3:b.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Mf(e,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof uf?e.qr.X(t):t instanceof X1?e.qr.rt(t):e.qr.et(t),n.isEqual(Me.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,_A(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(p,m){if(p.resumeToken.approximateByteSize()>0){var v=l.$r.get(m);v&&l.$r.set(m,v.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach(function(p){var m=l.$r.get(p);if(m){l.$r.set(p,m.withResumeToken(Ln.EMPTY_BYTE_STRING,m.snapshotVersion)),kA(l,p);var v=new Ah(m.target,p,1,m.sequenceNumber);cy(l,v)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return re("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Mf(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Mf(e,t,n){return K(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:if(!Jo(t))throw t;return e.Or.add(1),[4,Tu(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return _A(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return K(i,void 0,void 0,function(){return $(this,function(s){switch(s.label){case 0:return re("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Tc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function NA(e,t){return t().catch(function(n){return Mf(e,n,t)})}function Su(e){return K(this,void 0,void 0,function(){var t,n,i,o,s;return $(this,function(a){switch(a.label){case 0:t=ce(e),n=Hi(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Wi(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,YF(t.localStore,i)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=Hi(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return s=a.sent(),[4,Mf(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return RA(t)&&xA(t),[2]}})})}function RA(e){return Wi(e)&&!Hi(e).tr()&&e.Fr.length>0}function xA(e){Hi(e).start()}function wU(e){return K(this,void 0,void 0,function(){return $(this,function(t){return Hi(e).Ar(),[2]})})}function bU(e){return K(this,void 0,void 0,function(){var t,n,i,o;return $(this,function(s){for(t=Hi(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function _U(e,t,n){return K(this,void 0,void 0,function(){var i,o;return $(this,function(s){switch(s.label){case 0:return i=e.Fr.shift(),o=xF.from(i,t,n),[4,NA(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Su(e)];case 2:return s.sent(),[2]}})})}function EU(e,t){return K(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return t&&Hi(e).pr?[4,function(i,o){return K(this,void 0,void 0,function(){var s,a;return $(this,function(l){switch(l.label){case 0:return G1(a=o.code)&&a!==F.ABORTED?(s=i.Fr.shift(),Hi(i).sr(),[4,NA(i,function(){return i.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Su(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return RA(e)&&xA(e),[2]}})})}function Fm(e,t){return K(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ce(e),t?(n.Or.delete(2),[4,Tc(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Tu(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Au(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var s=ce(n);return s.br(),new fU(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:mU.bind(null,e),Ri:vU.bind(null,e),_r:yU.bind(null,e)}),e.Mr.push(function(n){return K(t,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),fy(e)?ly(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),CA(e),i.label=3;case 3:return[2]}})})})),e.Ur}function Hi(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var s=ce(n);return s.br(),new hU(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:wU.bind(null,e),Ri:EU.bind(null,e),Ir:bU.bind(null,e),Tr:_U.bind(null,e)}),e.Mr.push(function(n){return K(t,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Su(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(re("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var IU=function(){function e(t,n,i,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new Mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,i,o,s){var a=new e(t,n,Date.now()+i,o,s);return a.start(i),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function ku(e,t){if(Dt("AsyncQueue",t+": "+e),Jo(e))return new J(F.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OA=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||me.comparator(n.key,i.key)}:function(n,i){return me.comparator(n.key,i.key)},this.keyedMap=Dm(),this.sortedSet=new hn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),sI=function(){function e(){this.Qr=new hn(me.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ge():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),Ff=function(){function e(t,n,i,o,s,a,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,OA.emptySet(n),s,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),TU=function(){this.Wr=void 0,this.listeners=[]},SU=function(){this.queries=new Iu(function(e){return F1(e)},wc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(e,t){return K(this,void 0,void 0,function(){var n,i,o,s,a,l,f;return $(this,function(d){switch(d.label){case 0:if(n=ce(e),i=t.query,o=!1,(s=n.queries.get(i))||(o=!0,s=new TU),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=s,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=ku(l,"Initialization of query '"+xm(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&py(n),[2]}})})}function dy(e,t){return K(this,void 0,void 0,function(){var n,i,o,s,a;return $(this,function(l){return n=ce(e),i=t.query,o=!1,(s=n.queries.get(i))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),o=s.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function AU(e,t){for(var n=ce(e),i=!1,o=0,s=t;o<s.length;o++){var a=s[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,p=f.listeners;d<p.length;d++)p[d].Hr(a)&&(i=!0);f.Wr=a}}i&&py(n)}function kU(e,t,n){var i=ce(e),o=i.queries.get(t);if(o)for(var s=0,a=o.listeners;s<a.length;s++)a[s].onError(n);i.queries.delete(t)}function py(e){e.Gr.forEach(function(t){t.next()})}var gy=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var s=o[i];s.type!==3&&n.push(s)}t=new Ff(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Ff.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DA=function(e){this.key=e},PA=function(e){this.key=e},LA=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=it(),this.mutatedKeys=it(),this.lo=U1(t),this.fo=new OA(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new sI,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,d=of(this.query)&&s.size===this.query.limit?s.last():null,p=Rf(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(v,b){var _=s.get(v),I=bc(i.query,b)?b:null,N=!!_&&i.mutatedKeys.has(_.key),R=!!I&&(I.hasLocalMutations||i.mutatedKeys.has(I.key)&&I.hasCommittedMutations),P=!1;_&&I?_.data.isEqual(I.data)?N!==R&&(o.track({type:3,doc:I}),P=!0):i.yo(_,I)||(o.track({type:2,doc:I}),P=!0,(d&&i.lo(I,d)>0||p&&i.lo(I,p)<0)&&(f=!0)):!_&&I?(o.track({type:0,doc:I}),P=!0):_&&!I&&(o.track({type:1,doc:_}),P=!0,(d||p)&&(f=!0)),P&&(I?(l=l.add(I),a=R?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))}),of(this.query)||Rf(this.query))for(;l.size>this.query.limit;){var m=of(this.query)?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),o.track({type:1,doc:m})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,m){return function(v,b){var _=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return _(v)-_(b)}(p.type,m.type)||o.lo(p.doc,m.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new Ff(this.query,t.fo,s,a,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new sI,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=it(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new PA(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new DA(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=it();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Ff.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),CU=function(e,t,n){this.query=e,this.targetId=t,this.view=n},NU=function(e){this.key=e,this.bo=!1},RU=function(){function e(t,n,i,o,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Iu(function(l){return F1(l)},wc),this.Vo=new Map,this.So=new Set,this.Do=new hn(me.comparator),this.Co=new Map,this.No=new uy,this.xo={},this.ko=new Map,this.Fo=Df.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function xU(e,t){return K(this,void 0,void 0,function(){var n,i,o,s,a,l;return $(this,function(f){switch(f.label){case 0:return n=by(e),(s=n.Po.get(t))?(i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Pf(n.localStore,zr(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,my(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Ch(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function my(e,t,n,i){return K(this,void 0,void 0,function(){var o,s,a,l,f,d;return $(this,function(p){switch(p.label){case 0:return e.Oo=function(m,v,b){return function(_,I,N,R){return K(this,void 0,void 0,function(){var P,C,L;return $(this,function(B){switch(B.label){case 0:return P=I.view._o(N),P.Nn?[4,Lf(_.localStore,I.query,!1).then(function(O){var X=O.documents;return I.view._o(X,P)})]:[3,2];case 1:P=B.sent(),B.label=2;case 2:return C=R&&R.targetChanges.get(I.targetId),L=I.view.applyChanges(P,_.isPrimaryClient,C),[2,(Um(_,I.targetId,L.To),L.snapshot)]}})})}(e,m,v,b)},[4,Lf(e.localStore,t,!0)];case 1:return o=p.sent(),s=new LA(t,o.Bn),a=s._o(o.documents),l=ey.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=s.applyChanges(a,e.isPrimaryClient,l),Um(e,n,f.To),d=new CU(t,n,s),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function OU(e,t){return K(this,void 0,void 0,function(){var n,i,o;return $(this,function(s){switch(s.label){case 0:return n=ce(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!wc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,cu(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Ja(n.remoteStore,i.targetId),lu(n,i.targetId)}).catch(Zo)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return lu(n,i.targetId),[4,cu(n.localStore,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function DU(e,t,n){return K(this,void 0,void 0,function(){var i,o,s,a;return $(this,function(l){switch(l.label){case 0:i=_y(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var p,m=ce(f),v=Pn.now(),b=d.reduce(function(_,I){return _.add(I.key)},it());return m.persistence.runTransaction("Locally write mutations","readwrite",function(_){return m.Mn.pn(_,b).next(function(I){p=I;for(var N=[],R=0,P=d;R<P.length;R++){var C=P[R],L=oF(C,p.get(C.key));L!=null&&N.push(new Gi(C.key,L,D1(L.value.mapValue),an.exists(!0)))}return m._n.addMutationBatch(_,v,N,d)})}).then(function(_){return _.applyToLocalDocumentSet(p),{batchId:_.batchId,changes:p}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,p){var m=f.xo[f.currentUser.toKey()];m||(m=new hn(Ve)),m=m.insert(d,p),f.xo[f.currentUser.toKey()]=m}(i,o.batchId,n),[4,Xi(i,o.changes)];case 3:return l.sent(),[4,Su(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=ku(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function MA(e,t){return K(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:n=ce(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,WF(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?Te(l.bo):s.removedDocuments.size>0&&(Te(l.bo),l.bo=!1))}),[4,Xi(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,Zo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function uI(e,t,n){var i=ce(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,a){var l=ce(s);l.onlineState=a;var f=!1;l.queries.forEach(function(d,p){for(var m=0,v=p.listeners;m<v.length;m++)v[m].zr(a)&&(f=!0)}),f&&py(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function PU(e,t,n){return K(this,void 0,void 0,function(){var i,o,s,a,l,f;return $(this,function(d){switch(d.label){case 0:return(i=ce(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(s=o&&o.key)?(a=(a=new hn(me.comparator)).insert(s,fn.newNoDocument(s,Me.min())),l=it().add(s),f=new Zv(Me.min(),new Map,new Vt(Ve),a,l),[4,MA(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(s),i.Co.delete(t),wy(i),[3,4];case 2:return[4,cu(i.localStore,t,!1).then(function(){return lu(i,t,n)}).catch(Zo)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function LU(e,t){return K(this,void 0,void 0,function(){var n,i,o;return $(this,function(s){switch(s.label){case 0:n=ce(e),i=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,GF(n.localStore,t)];case 2:return o=s.sent(),yy(n,i,null),vy(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Xi(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,Zo(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function MU(e,t,n){return K(this,void 0,void 0,function(){var i,o;return $(this,function(s){switch(s.label){case 0:i=ce(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var f=ce(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var p;return f._n.lookupMutationBatch(d,l).next(function(m){return Te(m!==null),p=m.keys(),f._n.removeMutationBatch(d,m)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,p)})})}(i.localStore,t)];case 2:return o=s.sent(),yy(i,t,n),vy(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Xi(i,o)];case 3:return s.sent(),[3,6];case 4:return[4,Zo(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function FU(e,t){return K(this,void 0,void 0,function(){var n,i,o,s,a;return $(this,function(l){switch(l.label){case 0:Wi((n=ce(e)).remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=ce(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return d._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return s=l.sent(),a=ku(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function vy(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function yy(e,t,n){var i=ce(e),o=i.xo[i.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function lu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var s=o[i];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||FA(e,a)})}function FA(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Ja(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),wy(e))}function Um(e,t,n){for(var i=0,o=n;i<o.length;i++){var s=o[i];s instanceof DA?(e.No.addReference(s.key,t),UU(e,s)):s instanceof PA?(re("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||FA(e,s.key)):ge()}}function UU(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(re("SyncEngine","New document in limbo: "+n),e.So.add(i),wy(e))}function wy(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new me(Qe.fromString(t)),i=e.Fo.next();e.Co.set(i,new NU(n)),e.Do=e.Do.insert(n,i),Ch(e.remoteStore,new Ah(zr(yc(n.path)),i,2,Gn.o))}}function Xi(e,t,n){return K(this,void 0,void 0,function(){var i,o,s,a;return $(this,function(l){switch(l.label){case 0:return i=ce(e),o=[],s=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,t,n).then(function(p){if(p){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,p.fromCache?"not-current":"current"),o.push(p);var m=KF.Pn(d.targetId,p);s.push(m)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return K(this,void 0,void 0,function(){var p,m,v,b,_,I,N,R,P;return $(this,function(C){switch(C.label){case 0:p=ce(f),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(L){return ee.forEach(d,function(B){return ee.forEach(B.bn,function(O){return p.persistence.referenceDelegate.addReference(L,B.targetId,O)}).next(function(){return ee.forEach(B.vn,function(O){return p.persistence.referenceDelegate.removeReference(L,B.targetId,O)})})})})];case 2:return C.sent(),[3,4];case 3:if(!Jo(m=C.sent()))throw m;return re("LocalStore","Failed to update sequence numbers: "+m),[3,4];case 4:for(v=0,b=d;v<b.length;v++)_=b[v],I=_.targetId,_.fromCache||(N=p.kn.get(I),R=N.snapshotVersion,P=N.withLastLimboFreeSnapshotVersion(R),p.kn=p.kn.insert(I,P));return[2]}})})}(i.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function VU(e,t){return K(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return(n=ce(e)).currentUser.isEqual(t)?[3,3]:(re("SyncEngine","User change. New user:",t.toKey()),[4,bA(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new J(F.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Xi(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function jU(e,t){var n=ce(e),i=n.Co.get(t);if(i&&i.bo)return it().add(i.key);var o=it(),s=n.Vo.get(t);if(!s)return o;for(var a=0,l=s;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function qU(e,t){return K(this,void 0,void 0,function(){var n,i,o;return $(this,function(s){switch(s.label){case 0:return[4,Lf((n=ce(e)).localStore,t.query,!0)];case 1:return i=s.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Um(n,t.targetId,o.To),o)]}})})}function BU(e){return K(this,void 0,void 0,function(){var t;return $(this,function(n){return[2,IA((t=ce(e)).localStore).then(function(i){return Xi(t,i)})]})})}function $U(e,t,n,i){return K(this,void 0,void 0,function(){var o,s;return $(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=ce(l),p=ce(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(m){return p.jt(m,f).next(function(v){return v?d.Mn.pn(m,v):ee.resolve(null)})})}((o=ce(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Su(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(yy(o,t,i||null),vy(o,t),function(l,f){ce(ce(l)._n).Gt(f)}(o.localStore,t)):ge(),a.label=4;case 4:return[4,Xi(o,s)];case 5:return a.sent(),[3,7];case 6:re("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function HU(e,t){return K(this,void 0,void 0,function(){var n,i,o,s,a,l,f,d;return $(this,function(p){switch(p.label){case 0:return by(n=ce(e)),_y(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,aI(n,i.toArray())]);case 1:return o=p.sent(),n.$o=!0,[4,Fm(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=o;s<a.length;s++)l=a[s],Ch(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(m,v){n.sharedClientState.isLocalQueryTarget(v)?f.push(v):d=d.then(function(){return lu(n,v),cu(n.localStore,v,!0)}),Ja(n.remoteStore,v)}),[4,d]);case 4:return p.sent(),[4,aI(n,f)];case 5:return p.sent(),function(m){var v=ce(m);v.Co.forEach(function(b,_){Ja(v.remoteStore,_)}),v.No.ts(),v.Co=new Map,v.Do=new hn(me.comparator)}(n),n.$o=!1,[4,Fm(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function aI(e,t,n){return K(this,void 0,void 0,function(){var i,o,s,a,l,f,d,p,m,v,b,_,I,N;return $(this,function(R){switch(R.label){case 0:i=ce(e),o=[],s=[],a=0,l=t,R.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(p=i.Vo.get(f))&&p.length!==0?[4,Pf(i.localStore,zr(p[0]))]:[3,7]):[3,13];case 2:d=R.sent(),m=0,v=p,R.label=3;case 3:return m<v.length?(b=v[m],_=i.Po.get(b),[4,qU(i,_)]):[3,6];case 4:(I=R.sent()).snapshot&&s.push(I.snapshot),R.label=5;case 5:return m++,[3,3];case 6:return[3,11];case 7:return[4,EA(i.localStore,f)];case 8:return N=R.sent(),[4,Pf(i.localStore,N)];case 9:return d=R.sent(),[4,my(i,UA(N),f,!1)];case 10:R.sent(),R.label=11;case 11:o.push(d),R.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(s),o)]}})})}function UA(e){return L1(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function KU(e){var t=ce(e);return ce(ce(t.localStore).persistence).fn()}function zU(e,t,n,i){return K(this,void 0,void 0,function(){var o,s,a;return $(this,function(l){switch(l.label){case 0:return(o=ce(e)).$o?(re("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,IA(o.localStore)];case 3:return s=l.sent(),a=Zv.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Xi(o,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,cu(o.localStore,t,!0)];case 6:return l.sent(),lu(o,t,i),[3,8];case 7:ge(),l.label=8;case 8:return[2]}})})}function GU(e,t,n){return K(this,void 0,void 0,function(){var i,o,s,a,l,f,d,p,m,v;return $(this,function(b){switch(b.label){case 0:if(!(i=by(e)).$o)return[3,10];o=0,s=t,b.label=1;case 1:return o<s.length?(a=s[o],i.Vo.has(a)?(re("SyncEngine","Adding an already active target "+a),[3,5]):[4,EA(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,Pf(i.localStore,l)];case 3:return f=b.sent(),[4,my(i,UA(l),f.targetId,!1)];case 4:b.sent(),Ch(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(_){return $(this,function(I){switch(I.label){case 0:return i.Vo.has(_)?[4,cu(i.localStore,_,!1).then(function(){Ja(i.remoteStore,_),lu(i,_)}).catch(Zo)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},p=0,m=n,b.label=7;case 7:return p<m.length?(v=m[p],[5,d(v)]):[3,10];case 8:b.sent(),b.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function by(e){var t=ce(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=MA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PU.bind(null,t),t.vo._r=AU.bind(null,t.eventManager),t.vo.Mo=kU.bind(null,t.eventManager),t}function _y(e){var t=ce(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MU.bind(null,t),t}var VA=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return K(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return this.R=kh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return wA(this.persistence,new yA,t.initialUser,this.R)},e.prototype.qo=function(t){return new rU(oU.bs,this.R)},e.prototype.Bo=function(t){return new TA},e.prototype.terminate=function(){return K(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),jA=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=i,s.forceOwnership=o,s.synchronizeTabs=!1,s}return ye(t,e),t.prototype.initialize=function(n){return K(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,QF(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,_y(this.Qo.syncEngine)];case 4:return o.sent(),[4,Su(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return wA(this.persistence,new yA,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new UF(i,n.asyncQueue)},t.prototype.qo=function(n){var i=sy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new HF(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,SA(),af(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new TA},t}(VA),WU=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return ye(t,e),t.prototype.initialize=function(n){return K(this,void 0,void 0,function(){var i,o=this;return $(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof qg?(this.sharedClientState.syncEngine={ui:$U.bind(null,i),ai:zU.bind(null,i),hi:GU.bind(null,i),fn:KU.bind(null,i),ci:BU.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return K(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return[4,HU(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var i=SA();if(!qg.yt(i))throw new J(F.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=sy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new qg(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(jA),Vm=function(){function e(){}return e.prototype.initialize=function(t,n){return K(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return uI(i.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=VU.bind(null,this.syncEngine),[4,Fm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new SU},e.prototype.createDatastore=function(t){var n,i=kh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new lU(n));return function(s,a,l){return new dU(s,a,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,s,a,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,s=function(f){return uI(l.syncEngine,f,0)},a=oI.yt()?new oI:new uU,new gU(n,i,o,s,a)},e.prototype.createSyncEngine=function(t,n){return function(i,o,s,a,l,f,d){var p=new RU(i,o,s,a,l,f);return d&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return K(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ce(t),re("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Tu(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),XU=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return K(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new J(F.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return K(this,void 0,void 0,function(){var l,f,d,p,m,v;return $(this,function(b){switch(b.label){case 0:return l=ce(s),f=Qa(l.R)+"/documents",d={documents:a.map(function(_){return Ya(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return p=b.sent(),m=new Map,p.forEach(function(_){var I=function(N,R){return"found"in R?function(P,C){Te(!!C.found),C.found.name,C.found.updateTime;var L=ni(P,C.found.name),B=Tn(C.found.updateTime),O=new Kn({mapValue:{fields:C.found.fields}});return fn.newFoundDocument(L,B,O)}(N,R):"missing"in R?function(P,C){Te(!!C.missing),Te(!!C.readTime);var L=ni(P,C.missing),B=Tn(C.readTime);return fn.newNoDocument(L,B)}(N,R):ge()}(l.R,_);m.set(I.key.toString(),I)}),v=[],[2,(a.forEach(function(_){var I=m.get(_.toString());Te(!!I),v.push(I)}),v)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return i.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Ic(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return K(this,void 0,void 0,function(){var t,n=this;return $(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var a=me.fromPath(s);n.mutations.push(new Jv(a,n.precondition(a)))}),[4,function(o,s){return K(this,void 0,void 0,function(){var a,l,f;return $(this,function(d){switch(d.label){case 0:return a=ce(o),l=Qa(a.R)+"/documents",f={writes:s.map(function(p){return xf(a.R,p)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ge();n=Me.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new J(F.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?an.updateTime(n):an.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Me.min()))throw new J(F.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(n)}return an.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),YU=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new ay(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return K(t,void 0,void 0,function(){var n,i,o=this;return $(this,function(s){return n=new XU(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Qo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!G1(n)}return!1},e}(),QU=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Wt.UNAUTHENTICATED,this.clientId=k1.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return K(o,void 0,void 0,function(){return $(this,function(a){switch(a.label){case 0:return re("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return K(this,void 0,void 0,function(){return $(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new J(F.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return K(t,void 0,void 0,function(){var i,o;return $(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=s.sent(),o=ku(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(e,t){return K(this,void 0,void 0,function(){var n,i,o=this;return $(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),i=n.initialUser,e.setCredentialChangeListener(function(a){return K(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,bA(t.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function BA(e,t){return K(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Ey(e)];case 1:return n=o.sent(),re("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return K(this,void 0,void 0,function(){var f,d;return $(this,function(p){switch(p.label){case 0:return(f=ce(a)).asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials"),d=Wi(f),f.Or.add(3),[4,Tu(f)];case 1:return p.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),f.Or.delete(3),[4,Tc(f)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Ey(e){return K(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(re("FirestoreClient","Using default OfflineComponentProvider"),[4,qA(e,new VA)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Rh(e){return K(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(re("FirestoreClient","Using default OnlineComponentProvider"),[4,BA(e,new Vm)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function cI(e){return Ey(e).then(function(t){return t.persistence})}function $A(e){return Ey(e).then(function(t){return t.localStore})}function lI(e){return Rh(e).then(function(t){return t.remoteStore})}function HA(e){return Rh(e).then(function(t){return t.syncEngine})}function fu(e){return K(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:return[4,Rh(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=xU.bind(null,t.syncEngine),n.onUnlisten=OU.bind(null,t.syncEngine),n)]}})})}function fI(e,t,n){var i=this;n===void 0&&(n={});var o=new Mn;return e.asyncQueue.enqueueAndForget(function(){return K(i,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return s=function(l,f,d,p,m){var v=new Nh({next:function(_){f.enqueueAndForget(function(){return dy(l,b)});var I=_.docs.has(d);!I&&_.fromCache?m.reject(new J(F.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&p&&p.source==="server"?m.reject(new J(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:function(_){return m.reject(_)}}),b=new gy(yc(d.path),v,{includeMetadataChanges:!0,so:!0});return hy(l,b)},[4,fu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function hI(e,t,n){var i=this;n===void 0&&(n={});var o=new Mn;return e.asyncQueue.enqueueAndForget(function(){return K(i,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return s=function(l,f,d,p,m){var v=new Nh({next:function(_){f.enqueueAndForget(function(){return dy(l,b)}),_.fromCache&&p.source==="server"?m.reject(new J(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:function(_){return m.reject(_)}}),b=new gy(d,v,{includeMetadataChanges:!0,so:!0});return hy(l,b)},[4,fu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var JU=function(e,t,n,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},Uf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),dI=new Map,KA=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},pI=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Wt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),ZU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),eV=function(){function e(t){var n=this;this.currentUser=Wt.UNAUTHENTICATED,this.oc=new Mn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){re("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(re("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(re("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Te(typeof o.accessToken=="string"),new KA(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return K(i,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Te(t===null||typeof t=="string"),new Wt(t)},e}(),tV=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),nV=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new tV(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Wt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(e,t,n){if(!n)throw new J(F.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Ty(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new J(F.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function zA(e,t,n,i){if(t===!0&&i===!0)throw new J(F.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function gI(e){if(!me.isDocumentKey(e))throw new J(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function mI(e){if(me.isDocumentKey(e))throw new J(F.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function xh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ge()}function Je(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new J(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xh(e);throw new J(F.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function vI(e,t){if(t<=0)throw new J(F.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yI=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new J(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new J(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,zA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Za=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yI({}),this._settingsFrozen=!1,t instanceof Uf?(this._databaseId=t,this._credentials=new pI):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new J(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uf(i.options.projectId)}(t),this._credentials=new eV(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new J(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new J(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yI(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new pI;switch(n.type){case"gapi":var i=n.client;return Te(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new nV(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new J(F.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=dI.get(t))&&(re("ComponentProvider","Removing Datastore"),dI.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),yt=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ji(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Xn=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),ji=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,yc(o))||this)._path=o,s.type="collection",s}return ye(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new yt(this.firestore,null,new me(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Xn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=nt(e),Iy("collection","path",t),e instanceof Za)return mI(n=Qe.fromString.apply(Qe,dt([t],i))),new ji(e,null,n);if(!(e instanceof yt||e instanceof ji))throw new J(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return mI(n=Qe.fromString.apply(Qe,dt([e.path],i)).child(Qe.fromString(t))),new ji(e.firestore,null,n)}function cf(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=nt(e),arguments.length===1&&(t=k1.u()),Iy("doc","path",t),e instanceof Za)return gI(n=Qe.fromString.apply(Qe,dt([t],i))),new yt(e,null,new me(n));if(!(e instanceof yt||e instanceof ji))throw new J(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return gI(n=e._path.child(Qe.fromString.apply(Qe,dt([t],i)))),new yt(e.firestore,e instanceof ji?e.converter:null,new me(n))}function WA(e,t){return e=nt(e),t=nt(t),(e instanceof yt||e instanceof ji)&&(t instanceof yt||t instanceof ji)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function XA(e,t){return e=nt(e),t=nt(t),e instanceof Xn&&t instanceof Xn&&e.firestore===t.firestore&&wc(e._query,t._query)&&e.converter===t.converter}var rV=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ay(this,"async_queue_retry"),this.Ic=function(){var i=af();i&&re("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=af();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=af();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Mn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return K(this,void 0,void 0,function(){var t,n=this;return $(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Jo(t=i.sent()))throw t;return re("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Dt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=IU.createAndSchedule(this,t,n,i,function(a){return o.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&ge()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return K(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var s=o[i];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function hu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,s=["next","error","complete"];o<s.length;o++){var a=s[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(e)}var iV=-1,Ut=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new rV,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return ye(t,e),t.prototype._terminate=function(){return this._firestoreClient||YA(this),this._firestoreClient.terminate()},t}(Za);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(e){return e._firestoreClient||YA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function YA(e){var t,n=e._freezeSettings(),i=function(o,s,a,l){return new JU(o,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new QU(e._credentials,e._queue,i)}function wI(e,t,n){var i=this,o=new Mn;return e.asyncQueue.enqueue(function(){return K(i,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,qA(e,n)];case 1:return a.sent(),[4,BA(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===F.FAILED_PRECONDITION||l.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function bI(e){if(e._initialized||e._terminated)throw new J(F.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new J(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),zo=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Ln.fromBase64String(t))}catch(n){throw new J(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Ln.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),es=function(e){this._methodName=e},Oh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new J(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new J(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ve(this._lat,t._lat)||Ve(this._long,t._long)},e}(),oV=/^__.*__$/,sV=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Gi(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ec(t,this.data,n,this.fieldTransforms)},e}(),QA=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new Gi(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}var ZA=function(){function e(t,n,i,o,s,a){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Vf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(JA(this.Nc)&&oV.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),uV=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||kh(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new ZA({Nc:t,methodName:n,qc:i,path:Tr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ts(e){var t=e._freezeSettings(),n=kh(e._databaseId);return new uV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Dh(e,t,n,i,o,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);Cy("Data must be an object, but it was:",a,i);var l,f,d=nk(i,a);if(s.merge)l=new Js(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){for(var p=[],m=0,v=s.mergeFields;m<v.length;m++){var b=jm(t,v[m],n);if(!a.contains(b))throw new J(F.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");ik(p,b)||p.push(b)}l=new Js(p),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new sV(new Kn(d),l,f)}var Sy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(es);function ek(e,t,n){return new ZA({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var aV=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype._toFieldTransform=function(n){return new _c(n.path,new nu)},t.prototype.isEqual=function(n){return n instanceof t},t}(es),cV=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return ye(t,e),t.prototype._toFieldTransform=function(n){var i=ek(this,n,!0),o=this.Kc.map(function(a){return ns(a,i)}),s=new Ho(o);return new _c(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(es),lV=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return ye(t,e),t.prototype._toFieldTransform=function(n){var i=ek(this,n,!0),o=this.Kc.map(function(a){return ns(a,i)}),s=new Ko(o);return new _c(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(es),fV=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return ye(t,e),t.prototype._toFieldTransform=function(n){var i=new ru(n.R,q1(n.R,this.Qc));return new _c(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(es);function Ay(e,t,n,i){var o=e.Uc(1,t,n);Cy("Data must be an object, but it was:",o,i);var s=[],a=Kn.empty();Yo(i,function(f,d){var p=Ny(t,f,n);d=nt(d);var m=o.Oc(p);if(d instanceof Sy)s.push(p);else{var v=ns(d,m);v!=null&&(s.push(p),a.set(p,v))}});var l=new Js(s);return new QA(a,l,o.fieldTransforms)}function ky(e,t,n,i,o,s){var a=e.Uc(1,t,n),l=[jm(t,i,n)],f=[o];if(s.length%2!=0)throw new J(F.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)l.push(jm(t,s[d])),f.push(s[d+1]);for(var p=[],m=Kn.empty(),v=l.length-1;v>=0;--v)if(!ik(p,l[v])){var b=l[v],_=f[v];_=nt(_);var I=a.Oc(b);if(_ instanceof Sy)p.push(b);else{var N=ns(_,I);N!=null&&(p.push(b),m.set(b,N))}}var R=new Js(p);return new QA(m,R,a.fieldTransforms)}function tk(e,t,n,i){return i===void 0&&(i=!1),ns(n,e.Uc(i?4:3,t))}function ns(e,t){if(rk(e=nt(e)))return Cy("Unsupported field value:",t,e),nk(e,t);if(e instanceof es)return function(n,i){if(!JA(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],s=0,a=0,l=n;a<l.length;a++){var f=ns(l[a],i.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=nt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return q1(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Pn.fromDate(n);return{timestampValue:Xa(i.R,o)}}if(n instanceof Pn)return o=new Pn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Xa(i.R,o)};if(n instanceof Oh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof zo)return{bytesValue:Q1(i.R,n._byteString)};if(n instanceof yt){o=i.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw i.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:ty(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+xh(n))}(e,t)}function nk(e,t){var n={};return N1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yo(e,function(i,o){var s=ns(o,t.kc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function rk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Pn||e instanceof Oh||e instanceof zo||e instanceof yt||e instanceof es)}function Cy(e,t,n){if(!rk(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=xh(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function jm(e,t,n){if((t=nt(t))instanceof qr)return t._internalPath;if(typeof t=="string")return Ny(e,t);throw Vf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var hV=new RegExp("[~\\*/\\[\\]]");function Ny(e,t,n){if(t.search(hV)>=0)throw Vf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(qr.bind.apply(qr,dt([void 0],t.split("."))))()._internalPath}catch{throw Vf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Vf(e,t,n,i,o){var s=i&&!i.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||a)&&(f+=" (found",s&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new J(F.INVALID_ARGUMENT,(l+=". ")+e+f)}function ik(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ec=function(){function e(t,n,i,o,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new yt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new dV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(jf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),dV=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(ec);function jf(e,t){return typeof t=="string"?Ny(e,t):t instanceof qr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ii=function(e){function t(n,i,o,s,a,l){var f=this;return(f=e.call(this,n,i,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return ye(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Aa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(jf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(ec),Aa=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ii),Di=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ro(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Aa(i._firestore,i._userDataWriter,o.key,o,new Ro(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var s=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Aa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ro(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Aa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ro(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:pV(l.type),doc:f,oldIndex:d,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function pV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}function ok(e,t){return e instanceof ii&&t instanceof ii?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Di&&t instanceof Di&&e._firestore===t._firestore&&XA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(e){if(Rf(e)&&e.explicitOrderBy.length===0)throw new J(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Sc=function(){};function Ti(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var s=o[i];e=s._apply(e)}return e}var gV=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=i,s.Gc=o,s.type="where",s}return ye(t,e),t.prototype._apply=function(n){var i=ts(n.firestore),o=function(s,a,l,f,d,p,m){var v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new J(F.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){SI(m,p);for(var b=[],_=0,I=m;_<I.length;_++){var N=I[_];b.push(TI(f,s,N))}v={arrayValue:{values:b}}}else v=TI(f,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||SI(m,p),v=tk(l,"where",m,p==="in"||p==="not-in");var R=Wn.create(d,p,v);return function(P,C){if(C.g()){var L=Yv(P);if(L!==null&&!L.isEqual(C.field))throw new J(F.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+L.toString()+"' and '"+C.field.toString()+"'");var B=Xv(P);B!==null&&ak(P,C.field,B)}var O=function(X,D){for(var ue=0,S=X.filters;ue<S.length;ue++){var ke=S[ue];if(D.indexOf(ke.op)>=0)return ke.op}return null}(P,function(X){switch(X){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(C.op));if(O!==null)throw O===C.op?new J(F.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+C.op.toString()+"' filter."):new J(F.INVALID_ARGUMENT,"Invalid query. You cannot use '"+C.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,R),R}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Xn(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new li(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(Sc),mV=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return ye(t,e),t.prototype._apply=function(n){var i=function(o,s,a){if(o.startAt!==null)throw new J(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new J(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Bs(s,a);return function(f,d){if(Xv(f)===null){var p=Yv(f);p!==null&&ak(f,p,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Xn(n.firestore,n.converter,function(o,s){var a=o.explicitOrderBy.concat([s]);return new li(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Sc),_I=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=i,s.Jc=o,s}return ye(t,e),t.prototype._apply=function(n){return new Xn(n.firestore,n.converter,M1(n._query,this.Hc,this.Jc))},t}(Sc),EI=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return ye(t,e),t.prototype._apply=function(n){var i=uk(n,this.type,this.Yc,this.Xc);return new Xn(n.firestore,n.converter,function(o,s){return new li(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,i))},t}(Sc),II=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return ye(t,e),t.prototype._apply=function(n){var i=uk(n,this.type,this.Yc,this.Xc);return new Xn(n.firestore,n.converter,function(o,s){return new li(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,i))},t}(Sc);function uk(e,t,n,i){if(n[0]=nt(n[0]),n[0]instanceof ec)return function(s,a,l,f,d){if(!f)throw new J(F.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],m=0,v=tu(s);m<v.length;m++){var b=v[m];if(b.field.isKeyField())p.push(kf(a,f.key));else{var _=f.data.field(b.field);if(zv(_))throw new J(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var I=b.field.canonicalString();throw new J(F.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}p.push(_)}}return new Wa(p,d)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=ts(e.firestore);return function(s,a,l,f,d,p){var m=s.explicitOrderBy;if(d.length>m.length)throw new J(F.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var v=[],b=0;b<d.length;b++){var _=d[b];if(m[b].field.isKeyField()){if(typeof _!="string")throw new J(F.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!Qv(s)&&_.indexOf("/")!==-1)throw new J(F.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var I=s.path.child(Qe.fromString(_));if(!me.isDocumentKey(I))throw new J(F.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var N=new me(I);v.push(kf(a,N))}else{var R=tk(l,f,_);v.push(R)}}return new Wa(v,p)}(e._query,e.firestore._databaseId,o,t,n,i)}function TI(e,t,n){if(typeof(n=nt(n))=="string"){if(n==="")throw new J(F.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qv(t)&&n.indexOf("/")!==-1)throw new J(F.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(Qe.fromString(n));if(!me.isDocumentKey(i))throw new J(F.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return kf(e,new me(i))}if(n instanceof yt)return kf(e,n._key);throw new J(F.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+xh(n)+".")}function SI(e,t){if(!Array.isArray(e)||e.length===0)throw new J(F.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new J(F.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function ak(e,t,n){if(!n.isEqual(t))throw new J(F.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ry=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),$o(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ot(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ge()}},e.prototype.convertObject=function(t,n){var i=this,o={};return Yo(t.fields,function(s,a){o[s]=i.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new Oh(Ot(t.latitude),Ot(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=x1(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(za(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=$i(t);return new Pn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=Qe.fromString(t);Te(oA(i));var o=new Uf(i.get(1),i.get(3)),s=new me(i.popFirst(5));return o.isEqual(n)||Dt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var vV=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return ye(t,e),t.prototype.convertBytes=function(n){return new zo(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new yt(this.firestore,null,i)},t}(Ry),yV=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ts(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=Pi(t,this._firestore),s=Ph(o.converter,n,i),a=Dh(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,an.none())),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var a,l=Pi(t,this._firestore);return a=typeof(n=nt(n))=="string"||n instanceof qr?ky(this._dataReader,"WriteBatch.update",l._key,n,i,o):Ay(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,an.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Pi(t,this._firestore);return this._mutations=this._mutations.concat(new Ic(n._key,an.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new J(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(e,t){if((e=nt(e)).firestore!==t)throw new J(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return ye(t,e),t.prototype.convertBytes=function(n){return new zo(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new yt(this.firestore,null,i)},t}(Ry);function AI(e,t,n){e=Je(e,yt);var i=Je(e.firestore,Ut),o=Ph(e.converter,t,n);return Ac(i,[Dh(ts(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,an.none())])}function kI(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=Je(e,yt);var s=Je(e.firestore,Ut),a=ts(s);return Ac(s,[(typeof(t=nt(t))=="string"||t instanceof qr?ky(a,"updateDoc",e._key,t,n,i):Ay(a,"updateDoc",e._key,t)).toMutation(e._key,an.exists(!0))])}function ck(e){for(var t,n,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=nt(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||hu(o[l])||(a=o[l],l++);var f,d,p,m={includeMetadataChanges:a.includeMetadataChanges};if(hu(o[l])){var v=o[l];o[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),o[l+1]=(n=v.error)===null||n===void 0?void 0:n.bind(v),o[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}if(e instanceof yt)d=Je(e.firestore,Ut),p=yc(e._key.path),f={next:function(I){o[l]&&o[l](qm(d,e,I))},error:o[l+1],complete:o[l+2]};else{var b=Je(e,Xn);d=Je(b.firestore,Ut),p=b._query;var _=new Mo(d);f={next:function(I){o[l]&&o[l](new Di(d,_,b,I))},error:o[l+1],complete:o[l+2]},sk(e._query)}return function(I,N,R,P){var C=this,L=new Nh(P),B=new gy(N,L,R);return I.asyncQueue.enqueueAndForget(function(){return K(C,void 0,void 0,function(){var O;return $(this,function(X){switch(X.label){case 0:return O=hy,[4,fu(I)];case 1:return[2,O.apply(void 0,[X.sent(),B])]}})})}),function(){L.Wo(),I.asyncQueue.enqueueAndForget(function(){return K(C,void 0,void 0,function(){var O;return $(this,function(X){switch(X.label){case 0:return O=dy,[4,fu(I)];case 1:return[2,O.apply(void 0,[X.sent(),B])]}})})})}}(sn(d),p,m,f)}function Ac(e,t){return function(n,i){var o=this,s=new Mn;return n.asyncQueue.enqueueAndForget(function(){return K(o,void 0,void 0,function(){var a;return $(this,function(l){switch(l.label){case 0:return a=DU,[4,HA(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,s])]}})})}),s.promise}(sn(e),t)}function qm(e,t,n){var i=n.docs.get(t._key),o=new Mo(e);return new ii(e,o,t._key,i,new Ro(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wV=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return ye(t,e),t.prototype.get=function(n){var i=this,o=Pi(n,this._firestore),s=new Mo(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new ii(i._firestore,s,o._key,a._document,new Ro(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=ts(t)}return e.prototype.get=function(t){var n=this,i=Pi(t,this._firestore),o=new vV(this._firestore);return this._transaction.lookup([i._key]).then(function(s){if(!s||s.length!==1)return ge();var a=s[0];if(a.isFoundDocument())return new ec(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new ec(n._firestore,o,i._key,null,i.converter);throw ge()})},e.prototype.set=function(t,n,i){var o=Pi(t,this._firestore),s=Ph(o.converter,n,i),a=Dh(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a,l=Pi(t,this._firestore);return a=typeof(n=nt(n))=="string"||n instanceof qr?ky(this._dataReader,"Transaction.update",l._key,n,i,o):Ay(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Pi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(){if(typeof Uint8Array>"u")throw new J(F.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function NI(){if(typeof atob>"u")throw new J(F.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var lk=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return NI(),new e(zo.fromBase64String(t))},e.fromUint8Array=function(t){return CI(),new e(zo.fromUint8Array(t))},e.prototype.toBase64=function(){return NI(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return CI(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),bV=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){bI(i=Je(i,Ut));var s=sn(i),a=i._freezeSettings(),l=new Vm;return wI(s,l,new jA(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){bI(n=Je(n,Ut));var i=sn(n),o=n._freezeSettings(),s=new Vm;return wI(i,s,new WU(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new J(F.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Mn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return K(i,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return K(this,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return su.yt()?(f=l+"main",[4,su.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(sy(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return s=a.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),fk=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Uf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Sf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,s,a,l){var f;l===void 0&&(l={});var d=(o=Je(o,Za))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==s&&Sf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:s+":"+a,ssl:!1})),l.mockUserToken){var p,m;if(typeof l.mockUserToken=="string")p=l.mockUserToken,m=Wt.MOCK_USER;else{p=yS(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var v=l.mockUserToken.sub||l.mockUserToken.user_id;if(!v)throw new J(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Wt(v)}o._credentials=new ZU(new KA(p,m))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return K(n,void 0,void 0,function(){var i,o;return $(this,function(s){switch(s.label){case 0:return[4,cI(t)];case 1:return i=s.sent(),[4,lI(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=ce(a);return l.Or.delete(0),Tc(l)}(o))]}})})})}(sn(Je(this._delegate,Ut)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return K(n,void 0,void 0,function(){var i,o;return $(this,function(s){switch(s.label){case 0:return[4,cI(t)];case 1:return i=s.sent(),[4,lI(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!1),function(a){return K(this,void 0,void 0,function(){var l;return $(this,function(f){switch(f.label){case 0:return(l=ce(a)).Or.add(0),[4,Tu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(sn(Je(this._delegate,Ut)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&zA("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new Mn;return t.asyncQueue.enqueueAndForget(function(){return K(n,void 0,void 0,function(){var o;return $(this,function(s){switch(s.label){case 0:return o=FU,[4,HA(t)];case 1:return[2,o.apply(void 0,[s.sent(),i])]}})})}),i.promise}(sn(Je(this._delegate,Ut)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,s){var a=this,l=new Nh(s);return o.asyncQueue.enqueueAndForget(function(){return K(a,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(p,m){ce(p).Gr.add(m),m.next()},[4,fu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return K(a,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(p,m){ce(p).Gr.delete(m)},[4,fu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(sn(n=Je(n,Ut)),hu(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new J(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new qf(this,GA(this._delegate,t))}catch(n){throw wn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Fo(this,cf(this._delegate,t))}catch(n){throw wn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Fh(this,function(n,i){if(n=Je(n,Za),Iy("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new J(F.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Xn(n,null,function(o){return new li(Qe.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw wn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(s,a){var l=this,f=new Mn;return s.asyncQueue.enqueueAndForget(function(){return K(l,void 0,void 0,function(){var d;return $(this,function(p){switch(p.label){case 0:return[4,function(m){return Rh(m).then(function(v){return v.datastore})}(s)];case 1:return d=p.sent(),new YU(s.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(sn(i),function(s){return o(new wV(i,s))})}(this._delegate,function(i){return t(new hk(n,i))})},e.prototype.batch=function(){var t=this;return sn(this._delegate),new dk(new yV(this._delegate,function(n){return Ac(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new J(F.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new J(F.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Lh=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return ye(t,e),t.prototype.convertBytes=function(n){return new lk(new zo(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Fo.eu(i,this.firestore,null)},t}(Ry);function _V(e){var t;t=e,_r.setLogLevel(t)}var hk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Lh(t)}return e.prototype.get=function(t){var n=this,i=xo(t);return this._delegate.get(i).then(function(o){return new tc(n._firestore,new ii(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=xo(t);return i?(Ty("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=xo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,dt([l,n,i],s)),this},e.prototype.delete=function(t){var n=xo(t);return this._delegate.delete(n),this},e}(),dk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=xo(t);return i?(Ty("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=xo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,dt([l,n,i],s)),this},e.prototype.delete=function(t){var n=xo(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Mh=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Aa(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new nc(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var s=o.get(n);return s||(s=new e(t,new Lh(t),n),o.set(n,s)),s},e}();Mh.su=new WeakMap;var Fo=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Lh(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new J(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new yt(n._delegate,i,new me(t)))},e.eu=function(t,n,i){return new e(n,new yt(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new qf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new qf(this.firestore,GA(this._delegate,t))}catch(n){throw wn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=nt(t))instanceof yt&&WA(this._delegate,t)},e.prototype.set=function(t,n){n=Ty("DocumentReference.set",n);try{return n?AI(this._delegate,t,n):AI(this._delegate,t)}catch(i){throw wn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?kI(this._delegate,t):kI.apply(void 0,dt([this._delegate,t,n],i))}catch(s){throw wn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ac(Je((t=this._delegate).firestore,Ut),[new Ic(t._key,an.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=pk(n),s=gk(n,function(a){return new tc(t.firestore,new ii(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return ck(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=Je(i,yt);var o=Je(i.firestore,Ut),s=sn(o),a=new Mo(o);return function(l,f){var d=this,p=new Mn;return l.asyncQueue.enqueueAndForget(function(){return K(d,void 0,void 0,function(){var m;return $(this,function(v){switch(v.label){case 0:return m=function(b,_,I){return K(this,void 0,void 0,function(){var N,R;return $(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,function(C,L){var B=ce(C);return B.persistence.runTransaction("read document","readonly",function(O){return B.Mn.mn(O,L)})}(b,_)];case 1:return(R=P.sent()).isFoundDocument()?I.resolve(R):R.isNoDocument()?I.resolve(null):I.reject(new J(F.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return N=P.sent(),R=ku(N,"Failed to get document '"+_+" from cache"),I.reject(R),[3,3];case 3:return[2]}})})},[4,$A(l)];case 1:return[2,m.apply(void 0,[v.sent(),f,p])]}})})}),p.promise}(s,i._key).then(function(l){return new ii(o,a,i._key,l,new Ro(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=Je(i,yt);var o=Je(i.firestore,Ut);return fI(sn(o),i._key,{source:"server"}).then(function(s){return qm(o,i,s)})}(this._delegate):function(i){i=Je(i,yt);var o=Je(i.firestore,Ut);return fI(sn(o),i._key).then(function(s){return qm(o,i,s)})}(this._delegate)).then(function(i){return new tc(n.firestore,new ii(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Mh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function wn(e,t,n){return e.message=e.message.replace(t,n),e}function pk(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!hu(i))return i}return{}}function gk(e,t){var n,i,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=hu(e[0])?e[0]:hu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var tc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Fo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return ok(this._delegate,t._delegate)},e}(),nc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(tc),Fh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Lh(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,Ti(this._delegate,function(o,s,a){var l=s,f=jf("where",o);return new gV(f,l,a)}(t,n,i)))}catch(o){throw wn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ti(this._delegate,function(i,o){o===void 0&&(o="asc");var s=o,a=jf("orderBy",i);return new mV(a,s)}(t,n)))}catch(i){throw wn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ti(this._delegate,function(n){return vI("limit",n),new _I("limit",n,"F")}(t)))}catch(n){throw wn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ti(this._delegate,function(n){return vI("limitToLast",n),new _I("limitToLast",n,"L")}(t)))}catch(n){throw wn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new EI("startAt",i,!0)}.apply(void 0,t)))}catch(i){throw wn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new EI("startAfter",i,!1)}.apply(void 0,t)))}catch(i){throw wn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new II("endBefore",i,!0)}.apply(void 0,t)))}catch(i){throw wn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ti(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new II("endAt",i,!1)}.apply(void 0,t)))}catch(i){throw wn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return XA(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=Je(i,Xn);var o=Je(i.firestore,Ut),s=sn(o),a=new Mo(o);return function(l,f){var d=this,p=new Mn;return l.asyncQueue.enqueueAndForget(function(){return K(d,void 0,void 0,function(){var m;return $(this,function(v){switch(v.label){case 0:return m=function(b,_,I){return K(this,void 0,void 0,function(){var N,R,P,C,L;return $(this,function(B){switch(B.label){case 0:return B.trys.push([0,2,,3]),[4,Lf(b,_,!0)];case 1:return L=B.sent(),N=new LA(_,L.Bn),R=N._o(L.documents),P=N.applyChanges(R,!1),I.resolve(P.snapshot),[3,3];case 2:return C=B.sent(),L=ku(C,"Failed to execute query '"+_+" against cache"),I.reject(L),[3,3];case 3:return[2]}})})},[4,$A(l)];case 1:return[2,m.apply(void 0,[v.sent(),f,p])]}})})}),p.promise}(s,i._query).then(function(l){return new Di(o,a,i,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=Je(i,Xn);var o=Je(i.firestore,Ut),s=sn(o),a=new Mo(o);return hI(s,i._query,{source:"server"}).then(function(l){return new Di(o,a,i,l)})}(this._delegate):function(i){i=Je(i,Xn);var o=Je(i.firestore,Ut),s=sn(o),a=new Mo(o);return sk(i._query),hI(s,i._query).then(function(l){return new Di(o,a,i,l)})}(this._delegate)).then(function(i){return new Bm(n.firestore,new Di(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=pk(n),s=gk(n,function(a){return new Bm(t.firestore,new Di(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return ck(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Mh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),EV=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new nc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Bm=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Fh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new nc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new EV(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new nc(i._firestore,o))})},e.prototype.isEqual=function(t){return ok(this._delegate,t._delegate)},e}(),qf=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return ye(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Fo(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Fo(this.firestore,n===void 0?cf(this._delegate):cf(this._delegate,n))}catch(i){throw wn(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,s){var a=Je(o.firestore,Ut),l=cf(o),f=Ph(o.converter,s);return Ac(a,[Dh(ts(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,an.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Fo(i.firestore,o)})},t.prototype.isEqual=function(n){return WA(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Mh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Fh);function xo(e){return Je(e,yt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IV=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(qr.bind.apply(qr,dt([void 0],t)))}return e.documentId=function(){return new e(Tr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=nt(t))instanceof qr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),TV=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new aV("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Sy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new cV("arrayUnion",o)}.apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new lV("arrayRemove",o)}.apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new fV("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),SV={Firestore:fk,GeoPoint:Oh,Timestamp:Pn,Blob:lk,Transaction:hk,WriteBatch:dk,DocumentReference:Fo,DocumentSnapshot:tc,Query:Fh,QueryDocumentSnapshot:nc,QuerySnapshot:Bm,CollectionReference:qf,FieldPath:IV,FieldValue:TV,setLogLevel:_V,CACHE_SIZE_UNLIMITED:iV};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(e){(function(t,n){t.INTERNAL.registerComponent(new uc("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},SV)))})(e,function(t,n){return new fk(t,new Ut(t,n),new bV)}),e.registerVersion("@firebase/firestore","2.4.1")}AV(be);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mk="firebasestorage.googleapis.com",vk="storageBucket",kV=2*60*1e3,CV=10*60*1e3,Mt=function(e){ye(t,e);function t(n,i){var o=e.call(this,Bg(n),"Firebase Storage: "+i+" ("+Bg(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Bg(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(bS);function Bg(e){return"storage/"+e}function xy(){var e="An unknown error occurred, please check the error payload for server response.";return new Mt("unknown",e)}function NV(e){return new Mt("object-not-found","Object '"+e+"' does not exist.")}function RV(e){return new Mt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xV(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt("unauthenticated",e)}function OV(){return new Mt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function DV(e){return new Mt("unauthorized","User does not have permission to access '"+e+"'.")}function PV(){return new Mt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function yk(){return new Mt("canceled","User canceled the upload/download.")}function LV(e){return new Mt("invalid-url","Invalid URL '"+e+"'.")}function MV(e){return new Mt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function FV(){return new Mt("no-default-bucket","No default bucket found. Did you set the '"+vk+"' property when initializing the app?")}function wk(){return new Mt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function UV(){return new Mt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function VV(){return new Mt("no-download-url","The given file does not have any download URLs.")}function $s(e){return new Mt("invalid-argument",e)}function bk(){return new Mt("app-deleted","The Firebase app was deleted.")}function _k(e){return new Mt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ka(e,t){return new Mt("invalid-format","String does not match format '"+e+"': "+t)}function Kl(e){throw new Mt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},$g=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function Ek(e,t){switch(e){case rr.RAW:return new $g(Ik(t));case rr.BASE64:case rr.BASE64URL:return new $g(Tk(e,t));case rr.DATA_URL:return new $g(BV(t),$V(t))}throw xy()}function Ik(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=i,a=e.charCodeAt(++n);i=65536|(s&1023)<<10|a&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function qV(e){var t;try{t=decodeURIComponent(e)}catch{throw ka(rr.DATA_URL,"Malformed data URL.")}return Ik(t)}function Tk(e,t){switch(e){case rr.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var o=n?"-":"_";throw ka(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case rr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var o=s?"+":"/";throw ka(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=jV(t)}catch{throw ka(e,"Invalid character found")}for(var f=new Uint8Array(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);return f}var Sk=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw ka(rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=HV(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();function BV(e){var t=new Sk(e);return t.base64?Tk(rr.BASE64,t.rest):qV(t.rest)}function $V(e){var t=new Sk(e);return t.contentType}function HV(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KV={STATE_CHANGED:"state_changed"},bn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Hg(e){switch(e){case"running":case"pausing":case"canceling":return bn.RUNNING;case"paused":return bn.PAUSED;case"success":return bn.SUCCESS;case"canceled":return bn.CANCELED;case"error":return bn.ERROR;default:return bn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uo;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Uo||(Uo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zV=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Uo.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Uo.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Uo.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,o){if(this.sent_)throw Kl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Kl("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Kl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Kl("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function GV(){return new zV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WV=function(){function e(){}return e.prototype.createConnection=function(){return GV()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw MV(t)},e.makeFromUrl=function(t,n){var i=null,o="([A-Za-z0-9.\\-_]+)";function s(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function d(ue){ue.path_=decodeURIComponent(ue.path)}for(var p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp("^https?://"+m+"/"+p+"/b/"+o+"/o"+v,"i"),_={bucket:1,path:3},I=n===mk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",R=new RegExp("^https?://"+I+"/"+o+"/"+N,"i"),P={bucket:1,path:2},C=[{regex:l,indices:f,postModify:s},{regex:b,indices:_,postModify:d},{regex:R,indices:P,postModify:d}],L=0;L<C.length;L++){var B=C[L],O=B.regex.exec(t);if(O){var X=O[B.indices.bucket],D=O[B.indices.path];D||(D=""),i=new e(X,D),B.postModify(i);break}}if(i==null)throw LV(t);return i},e}(),XV=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(e,t,n){var i=1,o=null,s=!1,a=0;function l(){return a===2}var f=!1;function d(){for(var _=[],I=0;I<arguments.length;I++)_[I]=arguments[I];f||(f=!0,t.apply(null,_))}function p(_){o=setTimeout(function(){o=null,e(m,l())},_)}function m(_){for(var I=[],N=1;N<arguments.length;N++)I[N-1]=arguments[N];if(!f){if(_){d.call.apply(d,dt([null,_],I));return}var R=l()||s;if(R){d.call.apply(d,dt([null,_],I));return}i<64&&(i*=2);var P;a===1?(a=2,P=0):P=(i+Math.random())*1e3,p(P)}}var v=!1;function b(_){v||(v=!0,!f&&(o!==null?(_||(a=2),clearTimeout(o),p(0)):_||(a=1)))}return p(0),setTimeout(function(){s=!0,b(!0)},n),b}function QV(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(e){return e!==void 0}function ZV(e){return typeof e=="function"}function ej(e){return typeof e=="object"&&!Array.isArray(e)}function Uh(e){return typeof e=="string"||e instanceof String}function RI(e){return Oy()&&e instanceof Blob}function Oy(){return typeof Blob<"u"}function $m(e,t,n,i){if(i<t)throw $s("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw $s("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n==null?void 0:n[1],o=t;return i==null&&(o="https://"+t),o+"/v0"+e}function Ak(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var o=t(i)+"="+t(e[i]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tj=function(){function e(t,n,i,o,s,a,l,f,d,p,m){var v=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=p,this.timeout_=d,this.pool_=m,this.promise_=new Promise(function(b,_){v.resolve_=b,v.reject_=_,v.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new zl(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(f){var d=f.loaded,p=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var f=a.getErrorCode()===Uo.NO_ERROR,d=a.getStatus();if(!f||t.isRetryStatusCode_(d)){var p=a.getErrorCode()===Uo.ABORT;o(!1,new zl(!1,null,p));return}var m=t.successCodes_.indexOf(d)!==-1;o(!0,new zl(m,a))})}function i(o,s){var a=t.resolve_,l=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());JV(d)?a(d):a()}catch(m){l(m)}else if(f!==null){var p=xy();p.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,p)):l(p)}else if(s.canceled){var p=t.appDelete_?bk():yk();l(p)}else{var p=PV();l(p)}}this.canceled_?i(!1,new zl(!1,null,!0)):this.backoffId_=YV(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&QV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],o=i.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),zl=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();function nj(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function rj(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ij(e,t){t&&(e["X-Firebase-GMPID"]=t)}function oj(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function sj(e,t,n,i,o,s){var a=Ak(e.urlParams),l=e.url+a,f=Object.assign({},e.headers);return ij(f,t),nj(f,n),rj(f,s),oj(f,i),new tj(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function aj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=uj();if(n!==void 0){for(var i=new n,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}else{if(Oy())return new Blob(e);throw new Mt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function cj(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dy=function(){function e(t,n){var i=0,o="";RI(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(RI(this.data_)){var i=this.data_,o=cj(i,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Oy()){var i=t.map(function(f){return f instanceof e?f.data_:f});return new e(aj.apply(null,i))}else{var o=t.map(function(f){return Uh(f)?Ek(rr.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var a=new Uint8Array(s),l=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)a[l++]=f[d]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(e){var t;try{t=JSON.parse(e)}catch{return null}return ej(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function fj(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function kk(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(e,t){return t}var vn=function(){function e(t,n,i,o){this.server=t,this.local=n||t,this.writable=!!i,this.xform=o||hj}return e}(),Gl=null;function dj(e){return!Uh(e)||e.length<2?e:kk(e)}function Vh(){if(Gl)return Gl;var e=[];e.push(new vn("bucket")),e.push(new vn("generation")),e.push(new vn("metageneration")),e.push(new vn("name","fullPath",!0));function t(s,a){return dj(a)}var n=new vn("name");n.xform=t,e.push(n);function i(s,a){return a!==void 0?Number(a):a}var o=new vn("size");return o.xform=i,e.push(o),e.push(new vn("timeCreated")),e.push(new vn("updated")),e.push(new vn("md5Hash",null,!0)),e.push(new vn("cacheControl",null,!0)),e.push(new vn("contentDisposition",null,!0)),e.push(new vn("contentEncoding",null,!0)),e.push(new vn("contentLanguage",null,!0)),e.push(new vn("contentType",null,!0)),e.push(new vn("metadata","customMetadata",!0)),Gl=e,Gl}function pj(e,t){function n(){var i=e.bucket,o=e.fullPath,s=new ir(i,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function gj(e,t,n){var i={};i.type="file";for(var o=n.length,s=0;s<o;s++){var a=n[s];i[a.local]=a.xform(i,t[a.server])}return pj(i,e),i}function Ck(e,t,n){var i=Py(t);if(i===null)return null;var o=i;return gj(e,o,n)}function mj(e,t,n){var i=Py(t);if(i===null||!Uh(i.downloadTokens))return null;var o=i.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,a=o.split(","),l=a.map(function(f){var d=e.bucket,p=e.fullPath,m="/b/"+s(d)+"/o/"+s(p),v=Yi(m,n),b=Ak({alt:"media",token:f});return v+b});return l[0]}function Ly(e,t){for(var n={},i=t.length,o=0;o<i;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xI="prefixes",OI="items";function vj(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[xI])for(var o=0,s=n[xI];o<s.length;o++){var a=s[o],l=a.replace(/\/$/,""),f=e._makeStorageReference(new ir(t,l));i.prefixes.push(f)}if(n[OI])for(var d=0,p=n[OI];d<p.length;d++){var m=p[d],f=e._makeStorageReference(new ir(t,m.name));i.items.push(f)}return i}function yj(e,t,n){var i=Py(n);if(i===null)return null;var o=i;return vj(e,t,o)}var fi=function(){function e(t,n,i,o){this.url=t,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(e){if(!e)throw xy()}function jh(e,t){function n(i,o){var s=Ck(e,o,t);return Br(s!==null),s}return n}function wj(e,t){function n(i,o){var s=yj(e,t,o);return Br(s!==null),s}return n}function bj(e,t){function n(i,o){var s=Ck(e,o,t);return Br(s!==null),mj(s,o,e.host)}return n}function Cu(e){function t(n,i){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=OV():o=xV():n.getStatus()===402?o=RV(e.bucket):n.getStatus()===403?o=DV(e.path):o=i,o.serverResponse=i.serverResponse,o}return t}function qh(e){var t=Cu(e);function n(i,o){var s=t(i,o);return i.getStatus()===404&&(s=NV(e.path)),s.serverResponse=o.serverResponse,s}return n}function Nk(e,t,n){var i=t.fullServerUrl(),o=Yi(i,e.host),s="GET",a=e.maxOperationRetryTime,l=new fi(o,s,jh(e,n),a);return l.errorHandler=qh(t),l}function _j(e,t,n,i,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),o&&(s.maxResults=o);var a=t.bucketOnlyServerUrl(),l=Yi(a,e.host),f="GET",d=e.maxOperationRetryTime,p=new fi(l,f,wj(e,t.bucket),d);return p.urlParams=s,p.errorHandler=Cu(t),p}function Ej(e,t,n){var i=t.fullServerUrl(),o=Yi(i,e.host),s="GET",a=e.maxOperationRetryTime,l=new fi(o,s,bj(e,n),a);return l.errorHandler=qh(t),l}function Ij(e,t,n,i){var o=t.fullServerUrl(),s=Yi(o,e.host),a="PATCH",l=Ly(n,i),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,p=new fi(s,a,jh(e,i),d);return p.headers=f,p.body=l,p.errorHandler=qh(t),p}function Tj(e,t){var n=t.fullServerUrl(),i=Yi(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function a(f,d){}var l=new fi(i,o,a,s);return l.successCodes=[200,204],l.errorHandler=qh(t),l}function Sj(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Rk(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=Sj(null,t)),i}function Aj(e,t,n,i,o){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var C="",L=0;L<2;L++)C=C+Math.random().toString().slice(2);return C}var f=l();a["Content-Type"]="multipart/related; boundary="+f;var d=Rk(t,i,o),p=Ly(d,n),m="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,v=`\r
--`+f+"--",b=Dy.getBlob(m,i,v);if(b===null)throw wk();var _={name:d.fullPath},I=Yi(s,e.host),N="POST",R=e.maxUploadRetryTime,P=new fi(I,N,jh(e,n),R);return P.urlParams=_,P.headers=a,P.body=b.uploadData(),P.errorHandler=Cu(t),P}var Bf=function(){function e(t,n,i,o){this.current=t,this.total=n,this.finalized=!!i,this.metadata=o||null}return e}();function My(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Br(!1)}var i=t||["active"];return Br(!!n&&i.indexOf(n)!==-1),n}function kj(e,t,n,i,o){var s=t.bucketOnlyServerUrl(),a=Rk(t,i,o),l={name:a.fullPath},f=Yi(s,e.host),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},m=Ly(a,n),v=e.maxUploadRetryTime;function b(I){My(I);var N;try{N=I.getResponseHeader("X-Goog-Upload-URL")}catch{Br(!1)}return Br(Uh(N)),N}var _=new fi(f,d,b,v);return _.urlParams=l,_.headers=p,_.body=m,_.errorHandler=Cu(t),_}function Cj(e,t,n,i){var o={"X-Goog-Upload-Command":"query"};function s(d){var p=My(d,["active","final"]),m=null;try{m=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Br(!1)}m||Br(!1);var v=Number(m);return Br(!isNaN(v)),new Bf(v,i.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,f=new fi(n,a,s,l);return f.headers=o,f.errorHandler=Cu(t),f}var DI=256*1024;function Nj(e,t,n,i,o,s,a,l){var f=new Bf(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw UV();var d=f.total-f.current,p=d;o>0&&(p=Math.min(p,o));var m=f.current,v=m+p,b=p===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":""+f.current},I=i.slice(m,v);if(I===null)throw wk();function N(L,B){var O=My(L,["active","final"]),X=f.current+p,D=i.size(),ue;return O==="final"?ue=jh(t,s)(L,B):ue=null,new Bf(X,D,O==="final",ue)}var R="POST",P=t.maxUploadRetryTime,C=new fi(n,R,N,P);return C.headers=_,C.body=I.uploadData(),C.progressCallback=l||null,C.errorHandler=Cu(e),C}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rj=function(){function e(t,n,i){var o=ZV(t)||n!=null||i!=null;if(o)this.next=t,this.error=n,this.complete=i;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xk=function(){function e(t,n,i){var o=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Vh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,a){o._resolve=s,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var o=i[0],s=i[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var o=kj(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,o){var s=Cj(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=DI*this._chunkMultiplier,i=new Bf(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=Nj(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(l,s,a);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=DI*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var o=Nk(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var o=Aj(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=yk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Hg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,o){var s=this,a=new Rj(n,i,o);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Hg(this._state)){case bn.SUCCESS:Ns(this._resolve.bind(null,this.snapshot))();break;case bn.CANCELED:case bn.ERROR:var n=this._reject;Ns(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Hg(this._state);switch(n){case bn.RUNNING:case bn.PAUSED:t.next&&Ns(t.next.bind(t,this.snapshot))();break;case bn.SUCCESS:t.complete&&Ns(t.complete.bind(t))();break;case bn.CANCELED:case bn.ERROR:t.error&&Ns(t.error.bind(t,this._error))();break;default:t.error&&Ns(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bh=function(){function e(t,n){this._service=t,n instanceof ir?this._location=n:this._location=ir.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new ir(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return kk(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=lj(this._location.path);if(t===null)return null;var n=new ir(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw _k(t)},e}();function xj(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new xk(e,new Dy(t),n)}function Oj(e){var t={prefixes:[],items:[]};return Ok(e,t).then(function(){return t})}function Ok(e,t,n){return K(this,void 0,void 0,function(){var i,o,s,a;return $(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,Dk(e,i)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,Ok(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Dk(e,t){return K(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&$m("options.maxResults",1,1e3,t.maxResults),n=t||{},i=_j(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}function Dj(e){return K(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Nk(e.storage,e._location,Vh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Pj(e,t){return K(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=Ij(e.storage,e._location,t,Vh()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function Lj(e){return K(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=Ej(e.storage,e._location,Vh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw VV();return i})]}})})}function Mj(e){return K(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=Tj(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Pk(e,t){var n=fj(e._location.path,t),i=new ir(e._location.bucket,n);return new Bh(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(e){return/^[A-Za-z]+:\/\//.test(e)}function Fj(e,t){return new Bh(e,t)}function Lk(e,t){if(e instanceof $h){var n=e;if(n._bucket==null)throw FV();var i=new Bh(n,n._bucket);return t!=null?Lk(i,t):i}else return t!==void 0?Pk(e,t):e}function Uj(e,t){if(t&&Hm(t)){if(e instanceof $h)return Fj(e,t);throw $s("To use ref(service, url), the first argument must be a Storage instance.")}else return Lk(e,t)}function PI(e,t){var n=t==null?void 0:t[vk];return n==null?null:ir.makeFromBucketSpec(n,e)}function Vj(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var o=i.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:yS(o,e.app.options.projectId))}var $h=function(){function e(t,n,i,o,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=o,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=mk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kV,this._maxUploadRetryTime=CV,this._requests=new Set,s!=null?this._bucket=ir.makeFromBucketSpec(s,this._host):this._bucket=PI(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=ir.makeFromBucketSpec(this._url,t):this._bucket=PI(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){$m("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){$m("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return K(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return K(this,void 0,void 0,function(){var t,n;return $(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Bh(this,t)},e.prototype._makeRequest=function(t,n,i){var o=this;if(this._deleted)return new XV(bk());var s=sj(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return K(this,void 0,void 0,function(){var n,i,o;return $(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),i=n[0],o=n[1],[2,this._makeRequest(t,i,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(e,t,n){return e=nt(e),xj(e,t,n)}function qj(e){return e=nt(e),Dj(e)}function Bj(e,t){return e=nt(e),Pj(e,t)}function $j(e,t){return e=nt(e),Dk(e,t)}function Hj(e){return e=nt(e),Oj(e)}function Kj(e){return e=nt(e),Lj(e)}function zj(e){return e=nt(e),Mj(e)}function LI(e,t){return e=nt(e),Uj(e,t)}function Gj(e,t){return Pk(e,t)}function Wj(e,t,n,i){i===void 0&&(i={}),Vj(e,t,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wl=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MI=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Wl(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(o){if(t)return t(new Wl(o,i,i._ref))},n)},e.prototype.on=function(t,n,i,o){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Wl(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new Wl(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,i||void 0,o||void 0)},e}(),FI=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new rc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new rc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=Gj(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new MI(jj(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=rr.RAW),this._throwIfRoot("putString");var o=Ek(n,t),s=Ws({},i);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new MI(new xk(this._delegate,new Dy(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return Hj(this._delegate).then(function(n){return new FI(n,t.storage)})},e.prototype.list=function(t){var n=this;return $j(this._delegate,t||void 0).then(function(i){return new FI(i,n.storage)})},e.prototype.getMetadata=function(){return qj(this._delegate)},e.prototype.updateMetadata=function(t){return Bj(this._delegate,t)},e.prototype.getDownloadURL=function(){return Kj(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),zj(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw _k(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xj=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Hm(t))throw $s("ref() expected a child path but got a URL, use refFromURL instead.");return new rc(LI(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Hm(t))throw $s("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ir.makeFromUrl(t,this._delegate.host)}catch{throw $s("refFromUrl() expected a valid full URL but got an invalid one.")}return new rc(LI(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),Wj(this._delegate,t,n,i)},e}(),Yj="@firebase/storage",Qj="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jj="storage";function Zj(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new Xj(i,new $h(i,o,s,new WV,n,be.SDK_VERSION));return a}function e2(e){var t={TaskState:bn,TaskEvent:KV,StringFormat:rr,Storage:$h,Reference:rc};e.INTERNAL.registerComponent(new uc(Jj,Zj,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(Yj,Qj)}e2(be);const t2={apiKey:"AIzaSyCmrDsXaXqtJ-_bBhE6mijvEJRXGrQV1-8",authDomain:"music-123a9.firebaseapp.com",projectId:"music-123a9",storageBucket:"music-123a9.appspot.com",messagingSenderId:"353431526100",appId:"1:353431526100:web:2a3e6ba688ef0af5a97941"};be.initializeApp(t2);const $r=be.auth(),Fy=be.firestore(),Mk=be.storage(),n2=Fy.collection("users"),oi=Fy.collection("songs"),UI=Fy.collection("comments"),Nu=dS("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await $r.createUserWithEmailAndPassword(e.email,e.password);await n2.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await $r.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await $r.signOut(),this.userLoggedIn=!1}}}),ur=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},r2={name:"TheHeader",computed:{...FP(dm,Nu)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen,console.log(this.modalStore.isOpen)},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},i2={id:"header",class:"bg-gray-700"},o2={class:"container mx-auto flex justify-start items-center py-5 px-4"},s2={class:"flex flex-grow items-center"},u2={class:"flex flex-row mt-1"},a2={key:0};function c2(e,t,n,i,o,s){const a=It("router-link");return ze(),rt("header",i2,[q("nav",o2,[Ee(a,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:wr(()=>[Do("Music")]),_:1}),q("div",s2,[q("ul",u2,[q("li",null,[Ee(a,{class:"px-2 text-white",to:"/about"},{default:wr(()=>[Do("About")]),_:1})]),e.userStore.userLoggedIn?(ze(),rt(Nt,{key:1},[q("li",null,[Ee(a,{class:"px-2 text-white",to:"manage"},{default:wr(()=>[Do("Manage")]),_:1})]),q("li",null,[q("a",{class:"px-2 text-white hover:text-red-500 hover:font-bold",href:"#",onClick:t[1]||(t[1]=Rn((...l)=>s.signOut&&s.signOut(...l),["prevent"]))},"Logout")])],64)):(ze(),rt("li",a2,[q("a",{class:"px-2 text-white",href:"#",onClick:t[0]||(t[0]=Rn((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},"Login / Register")]))])])])])}const l2=ur(r2,[["render",c2]]),f2={name:"loginForm",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:100"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! You are being logged in."}},methods:{...gS(Nu,["authenticate"]),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_show_alert="bg-blue-500",this.login_alert_msg="Please wait! You are being logged in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_show_alert="bg-red-500",this.login_alert_msg="invalid Login Details";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="You are now logged in.",window.location.reload()}}},h2={class:"mb-3"},d2=q("label",{class:"inline-block mb-2"},"Email",-1),p2={class:"mb-3"},g2=q("label",{class:"inline-block mb-2"},"Password",-1),m2=["disabled"];function v2(e,t,n,i,o,s){const a=It("vee-field"),l=It("ErrorMessage"),f=It("vee-form");return ze(),rt(Nt,null,[o.login_show_alert?(ze(),rt("div",{key:0,class:xn(["text-white text-center font-bold p-4 mb-4",o.login_alert_variant])},rn(o.login_alert_msg),3)):Ua("",!0),Ee(f,{"validation-schema":o.loginSchema,onSubmit:s.login},{default:wr(()=>[q("div",h2,[d2,Ee(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ee(l,{class:"text-red-600",name:"email"})]),q("div",p2,[g2,Ee(a,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),Ee(l,{class:"text-red-600",name:"password"})]),q("button",{type:"submit",disabled:o.login_in_submission,class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",8,m2)]),_:1},8,["validation-schema","onSubmit"])],64)}const y2=ur(f2,[["render",v2]]),w2={name:"registerForm",data(){return{schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:120",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! You account is bring created."}},mounted(){console.log(this.userLoggedIn)},methods:{...gS(Nu,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! You account is bring created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occured. Please try again later.";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="You account has been created",window.location.reload()}}},b2={class:"mb-3"},_2=q("label",{class:"inline-block mb-2"},"Name",-1),E2={class:"mb-3"},I2=q("label",{class:"inline-block mb-2"},"Email",-1),T2={class:"mb-3"},S2=q("label",{class:"inline-block mb-2"},"Age",-1),A2={class:"mb-3"},k2=q("label",{class:"inline-block mb-2"},"Password",-1),C2={class:"mb-3"},N2=q("label",{class:"inline-block mb-2"},"Confirm Password",-1),R2={class:"mb-3"},x2=q("label",{class:"inline-block mb-2"},"Country",-1),O2=q("option",{value:"USA"},"USA",-1),D2=q("option",{value:"Mexico"},"Mexico",-1),P2=q("option",{value:"Germany"},"Germany",-1),L2={class:"mb-3 pl-6"},M2=q("label",{class:"inline-block"},"Accept terms of service",-1),F2=q("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",-1);function U2(e,t,n,i,o,s){const a=It("vee-field"),l=It("ErrorMessage"),f=It("vee-form");return ze(),rt(Nt,null,[o.reg_show_alert?(ze(),rt("div",{key:0,class:xn(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},rn(o.reg_alert_msg),3)):Ua("",!0),Ee(f,{"validation-schema":o.schema,onSubmit:s.register,"initial-values":o.userData},{default:wr(()=>[q("div",b2,[_2,Ee(a,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Ee(l,{class:"text-red-600",name:"name"})]),q("div",E2,[I2,Ee(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ee(l,{class:"text-red-600",name:"email"})]),q("div",T2,[S2,Ee(a,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Ee(l,{class:"text-red-600",name:"age"})]),q("div",A2,[k2,Ee(a,{name:"password",bails:!1},{default:wr(({field:d,errors:p})=>[q("input",oS({type:"password",placeholder:"Password"},d,{class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),null,16),(ze(!0),rt(Nt,null,sc(p,m=>(ze(),rt("div",{class:"text-red-600",key:m},rn(m),1))),128))]),_:1}),Ee(l,{class:"text-red-600",name:"password"})]),q("div",C2,[N2,Ee(a,{name:"confirm_password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Ee(l,{class:"text-red-600",name:"confirm_password"})]),q("div",R2,[x2,Ee(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:wr(()=>[O2,D2,P2]),_:1}),Ee(l,{class:"text-red-600",name:"country"})]),q("div",L2,[Ee(a,{name:"tos",value:"1",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),Ee(l,{class:"text-red-600 block",name:"tos"}),M2]),F2]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const V2=ur(w2,[["render",U2]]),j2={name:"TheAuth",components:{LoginForm:y2,RegisterForm:V2},data(){return{tab:"login"}},computed:{...pS(dm,["hiddenClass"]),...mS(dm,{modalVisibility:"isOpen"})},methods:{}},q2={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},B2=q("div",{class:"fixed inset-0 transition-opacity"},[q("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),$2=q("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),H2={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},K2={class:"py-4 text-left px-6"},z2={class:"flex justify-between items-center pb-4"},G2=q("p",{class:"text-2xl font-bold"},"Your Account",-1),W2=q("i",{class:"fas fa-times"},null,-1),X2=[W2],Y2={class:"flex flex-wrap mb-4"},Q2={class:"flex-auto text-center"},J2={class:"flex-auto text-center"};function Z2(e,t,n,i,o,s){const a=It("login-form"),l=It("register-form");return ze(),rt("div",{class:xn(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[q("div",q2,[B2,$2,q("div",H2,[q("div",K2,[q("div",z2,[G2,q("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.modalVisibility=!1)},X2)]),q("ul",Y2,[q("li",Q2,[q("a",{class:xn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=Rn(f=>o.tab="login",["prevent"]))},"Login",2)]),q("li",J2,[q("a",{class:xn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=Rn(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(ze(),Ks(a,{key:0})):(ze(),Ks(l,{key:1}))])])])],2)}const eq=ur(j2,[["render",Z2]]),tq={name:"App",components:{TheHeader:l2,TheAuth:eq},computed:{...mS(Nu,["userLoggedIn"])},created(){$r.currentUser&&(this.userLoggedIn=!0)}},nq=iS('<div class="fixed bottom-0 left-0 bg-white px-4 py-2 w-full"><div class="text-center"><span class="song-title font-bold">Song Title</span> by <span class="song-artist">Artist</span></div><div class="flex flex-nowrap gap-4 items-center"><button type="button"><i class="fa fa-play text-gray-500 text-xl"></i></button><div class="player-currenttime">00:00</div><div class="w-full h-2 rounded bg-gray-200 relative cursor-pointer"><span class="absolute -top-2.5 -ml-2.5 text-gray-800 text-lg" style="left:50%;"><i class="fas fa-circle"></i></span><span class="block h-2 rounded bg-gradient-to-r from-green-500 to-green-400" style="width:50%;"></span></div><div class="player-duration">03:06</div></div></div>',1);function rq(e,t,n,i,o,s){const a=It("the-header"),l=It("router-view"),f=It("the-auth");return ze(),rt(Nt,null,[Ee(a),Ee(l),nq,Ee(f)],64)}const iq=ur(tq,[["render",rq]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Ls=typeof window<"u";function oq(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const et=Object.assign;function Kg(e,t){const n={};for(const i in t){const o=t[i];n[i]=Sr(o)?o.map(e):e(o)}return n}const Ca=()=>{},Sr=Array.isArray,sq=/\/$/,uq=e=>e.replace(sq,"");function zg(e,t,n="/"){let i,o={},s="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=fq(i??t,n),{fullPath:i+(s&&"?")+s+a,path:i,query:o,hash:a}}function aq(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function VI(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function cq(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&du(t.matched[i],n.matched[o])&&Fk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function du(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Fk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!lq(e[n],t[n]))return!1;return!0}function lq(e,t){return Sr(e)?jI(e,t):Sr(t)?jI(t,e):e===t}function jI(e,t){return Sr(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function fq(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let o=n.length-1,s,a;for(s=0;s<i.length;s++)if(a=i[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(s-(s===i.length?1:0)).join("/")}var ic;(function(e){e.pop="pop",e.push="push"})(ic||(ic={}));var Na;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Na||(Na={}));function hq(e){if(!e)if(Ls){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),uq(e)}const dq=/^[^#]+#/;function pq(e,t){return e.replace(dq,"#")+t}function gq(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Hh=()=>({left:window.pageXOffset,top:window.pageYOffset});function mq(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=gq(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function qI(e,t){return(history.state?history.state.position-t:-1)+e}const Km=new Map;function vq(e,t){Km.set(e,t)}function yq(e){const t=Km.get(e);return Km.delete(e),t}let wq=()=>location.protocol+"//"+location.host;function Uk(e,t){const{pathname:n,search:i,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),VI(f,"")}return VI(n,e)+i+o}function bq(e,t,n,i){let o=[],s=[],a=null;const l=({state:v})=>{const b=Uk(e,location),_=n.value,I=t.value;let N=0;if(v){if(n.value=b,t.value=v,a&&a===_){a=null;return}N=I?v.position-I.position:0}else i(b);o.forEach(R=>{R(n.value,_,{delta:N,type:ic.pop,direction:N?N>0?Na.forward:Na.back:Na.unknown})})};function f(){a=n.value}function d(v){o.push(v);const b=()=>{const _=o.indexOf(v);_>-1&&o.splice(_,1)};return s.push(b),b}function p(){const{history:v}=window;v.state&&v.replaceState(et({},v.state,{scroll:Hh()}),"")}function m(){for(const v of s)v();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p),{pauseListeners:f,listen:d,destroy:m}}function BI(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?Hh():null}}function _q(e){const{history:t,location:n}=window,i={value:Uk(e,n)},o={value:t.state};o.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,d,p){const m=e.indexOf("#"),v=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+f:wq()+e+f;try{t[p?"replaceState":"pushState"](d,"",v),o.value=d}catch(b){console.error(b),n[p?"replace":"assign"](v)}}function a(f,d){const p=et({},t.state,BI(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});s(f,p,!0),i.value=f}function l(f,d){const p=et({},o.value,t.state,{forward:f,scroll:Hh()});s(p.current,p,!0);const m=et({},BI(i.value,f,null),{position:p.position+1},d);s(f,m,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function Eq(e){e=hq(e);const t=_q(e),n=bq(e,t.state,t.location,t.replace);function i(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=et({location:"",base:e,go:i,createHref:pq.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Iq(e){return typeof e=="string"||e&&typeof e=="object"}function Vk(e){return typeof e=="string"||typeof e=="symbol"}const Si={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},jk=Symbol("");var $I;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})($I||($I={}));function pu(e,t){return et(new Error,{type:e,[jk]:!0},t)}function Jr(e,t){return e instanceof Error&&jk in e&&(t==null||!!(e.type&t))}const HI="[^/]+?",Tq={sensitive:!1,strict:!1,start:!0,end:!0},Sq=/[.+*?^${}()[\]/\\]/g;function Aq(e,t){const n=et({},Tq,t),i=[];let o=n.start?"^":"";const s=[];for(const d of e){const p=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let m=0;m<d.length;m++){const v=d[m];let b=40+(n.sensitive?.25:0);if(v.type===0)m||(o+="/"),o+=v.value.replace(Sq,"\\$&"),b+=40;else if(v.type===1){const{value:_,repeatable:I,optional:N,regexp:R}=v;s.push({name:_,repeatable:I,optional:N});const P=R||HI;if(P!==HI){b+=10;try{new RegExp(`(${P})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${_}" (${P}): `+L.message)}}let C=I?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;m||(C=N&&d.length<2?`(?:/${C})`:"/"+C),N&&(C+="?"),o+=C,b+=20,N&&(b+=-8),I&&(b+=-20),P===".*"&&(b+=-50)}p.push(b)}i.push(p)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const p=d.match(a),m={};if(!p)return null;for(let v=1;v<p.length;v++){const b=p[v]||"",_=s[v-1];m[_.name]=b&&_.repeatable?b.split("/"):b}return m}function f(d){let p="",m=!1;for(const v of e){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const b of v)if(b.type===0)p+=b.value;else if(b.type===1){const{value:_,repeatable:I,optional:N}=b,R=_ in d?d[_]:"";if(Sr(R)&&!I)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const P=Sr(R)?R.join("/"):R;if(!P)if(N)v.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${_}"`);p+=P}}return p||"/"}return{re:a,score:i,keys:s,parse:l,stringify:f}}function kq(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Cq(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const s=kq(i[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-i.length)===1){if(KI(i))return 1;if(KI(o))return-1}return o.length-i.length}function KI(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Nq={type:0,value:""},Rq=/[a-zA-Z0-9_]/;function xq(e){if(!e)return[[]];if(e==="/")return[[Nq]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let l=0,f,d="",p="";function m(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:p,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function v(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&m(),a()):f===":"?(m(),n=1):v();break;case 4:v(),n=i;break;case 1:f==="("?n=2:Rq.test(f)?v():(m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+f:n=3:p+=f;break;case 3:m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),m(),a(),o}function Oq(e,t,n){const i=Aq(xq(e.path),n),o=et(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Dq(e,t){const n=[],i=new Map;t=WI({strict:!1,end:!0,sensitive:!1},t);function o(p){return i.get(p)}function s(p,m,v){const b=!v,_=Pq(p);_.aliasOf=v&&v.record;const I=WI(t,p),N=[_];if("alias"in p){const C=typeof p.alias=="string"?[p.alias]:p.alias;for(const L of C)N.push(et({},_,{components:v?v.record.components:_.components,path:L,aliasOf:v?v.record:_}))}let R,P;for(const C of N){const{path:L}=C;if(m&&L[0]!=="/"){const B=m.record.path,O=B[B.length-1]==="/"?"":"/";C.path=m.record.path+(L&&O+L)}if(R=Oq(C,m,I),v?v.alias.push(R):(P=P||R,P!==R&&P.alias.push(R),b&&p.name&&!GI(R)&&a(p.name)),_.children){const B=_.children;for(let O=0;O<B.length;O++)s(B[O],R,v&&v.children[O])}v=v||R,(R.record.components&&Object.keys(R.record.components).length||R.record.name||R.record.redirect)&&f(R)}return P?()=>{a(P)}:Ca}function a(p){if(Vk(p)){const m=i.get(p);m&&(i.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&i.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function f(p){let m=0;for(;m<n.length&&Cq(p,n[m])>=0&&(p.record.path!==n[m].record.path||!qk(p,n[m]));)m++;n.splice(m,0,p),p.record.name&&!GI(p)&&i.set(p.record.name,p)}function d(p,m){let v,b={},_,I;if("name"in p&&p.name){if(v=i.get(p.name),!v)throw pu(1,{location:p});I=v.record.name,b=et(zI(m.params,v.keys.filter(P=>!P.optional).map(P=>P.name)),p.params&&zI(p.params,v.keys.map(P=>P.name))),_=v.stringify(b)}else if("path"in p)_=p.path,v=n.find(P=>P.re.test(_)),v&&(b=v.parse(_),I=v.record.name);else{if(v=m.name?i.get(m.name):n.find(P=>P.re.test(m.path)),!v)throw pu(1,{location:p,currentLocation:m});I=v.record.name,b=et({},m.params,p.params),_=v.stringify(b)}const N=[];let R=v;for(;R;)N.unshift(R.record),R=R.parent;return{name:I,path:_,params:b,matched:N,meta:Mq(N)}}return e.forEach(p=>s(p)),{addRoute:s,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function zI(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function Pq(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Lq(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Lq(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function GI(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Mq(e){return e.reduce((t,n)=>et(t,n.meta),{})}function WI(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function qk(e,t){return t.children.some(n=>n===e||qk(e,n))}const Bk=/#/g,Fq=/&/g,Uq=/\//g,Vq=/=/g,jq=/\?/g,$k=/\+/g,qq=/%5B/g,Bq=/%5D/g,Hk=/%5E/g,$q=/%60/g,Kk=/%7B/g,Hq=/%7C/g,zk=/%7D/g,Kq=/%20/g;function Uy(e){return encodeURI(""+e).replace(Hq,"|").replace(qq,"[").replace(Bq,"]")}function zq(e){return Uy(e).replace(Kk,"{").replace(zk,"}").replace(Hk,"^")}function zm(e){return Uy(e).replace($k,"%2B").replace(Kq,"+").replace(Bk,"%23").replace(Fq,"%26").replace($q,"`").replace(Kk,"{").replace(zk,"}").replace(Hk,"^")}function Gq(e){return zm(e).replace(Vq,"%3D")}function Wq(e){return Uy(e).replace(Bk,"%23").replace(jq,"%3F")}function Xq(e){return e==null?"":Wq(e).replace(Uq,"%2F")}function $f(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Yq(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const s=i[o].replace($k," "),a=s.indexOf("="),l=$f(a<0?s:s.slice(0,a)),f=a<0?null:$f(s.slice(a+1));if(l in t){let d=t[l];Sr(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function XI(e){let t="";for(let n in e){const i=e[n];if(n=Gq(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Sr(i)?i.map(s=>s&&zm(s)):[i&&zm(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Qq(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Sr(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const Jq=Symbol(""),YI=Symbol(""),Vy=Symbol(""),Gk=Symbol(""),Gm=Symbol("");function ga(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Ri(e,t,n,i,o){const s=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=m=>{m===!1?l(pu(4,{from:n,to:t})):m instanceof Error?l(m):Iq(m)?l(pu(2,{from:t,to:m})):(s&&i.enterCallbacks[o]===s&&typeof m=="function"&&s.push(m),a())},d=e.call(i&&i.instances[o],t,n,f);let p=Promise.resolve(d);e.length<3&&(p=p.then(f)),p.catch(m=>l(m))})}function Gg(e,t,n,i){const o=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(Zq(l)){const d=(l.__vccOpts||l)[t];d&&o.push(Ri(d,n,i,s,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const p=oq(d)?d.default:d;s.components[a]=p;const v=(p.__vccOpts||p)[t];return v&&Ri(v,n,i,s,a)()}))}}return o}function Zq(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function QI(e){const t=sr(Vy),n=sr(Gk),i=Ye(()=>t.resolve(fe(e.to))),o=Ye(()=>{const{matched:f}=i.value,{length:d}=f,p=f[d-1],m=n.matched;if(!p||!m.length)return-1;const v=m.findIndex(du.bind(null,p));if(v>-1)return v;const b=JI(f[d-2]);return d>1&&JI(p)===b&&m[m.length-1].path!==b?m.findIndex(du.bind(null,f[d-2])):v}),s=Ye(()=>o.value>-1&&rB(n.params,i.value.params)),a=Ye(()=>o.value>-1&&o.value===n.matched.length-1&&Fk(n.params,i.value.params));function l(f={}){return nB(f)?t[fe(e.replace)?"replace":"push"](fe(e.to)).catch(Ca):Promise.resolve()}return{route:i,href:Ye(()=>i.value.href),isActive:s,isExactActive:a,navigate:l}}const eB=wu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:QI,setup(e,{slots:t}){const n=ai(QI(e)),{options:i}=sr(Vy),o=Ye(()=>({[ZI(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[ZI(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Gs("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),tB=eB;function nB(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function rB(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Sr(o)||o.length!==i.length||i.some((s,a)=>s!==o[a]))return!1}return!0}function JI(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ZI=(e,t,n)=>e??t??n,iB=wu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=sr(Gm),o=Ye(()=>e.route||i.value),s=sr(YI,0),a=Ye(()=>{let d=fe(s);const{matched:p}=o.value;let m;for(;(m=p[d])&&!m.components;)d++;return d}),l=Ye(()=>o.value.matched[a.value]);qs(YI,Ye(()=>a.value+1)),qs(Jq,l),qs(Gm,o);const f=Dn();return Yt(()=>[f.value,l.value,e.name],([d,p,m],[v,b,_])=>{p&&(p.instances[m]=d,b&&b!==p&&d&&d===v&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),d&&p&&(!b||!du(p,b)||!v)&&(p.enterCallbacks[m]||[]).forEach(I=>I(d))},{flush:"post"}),()=>{const d=o.value,p=e.name,m=l.value,v=m&&m.components[p];if(!v)return eT(n.default,{Component:v,route:d});const b=m.props[p],_=b?b===!0?d.params:typeof b=="function"?b(d):b:null,N=Gs(v,et({},_,t,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(m.instances[p]=null)},ref:f}));return eT(n.default,{Component:N,route:d})||N}}});function eT(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const oB=iB;function sB(e){const t=Dq(e.routes,e),n=e.parseQuery||Yq,i=e.stringifyQuery||XI,o=e.history,s=ga(),a=ga(),l=ga(),f=WO(Si);let d=Si;Ls&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Kg.bind(null,z=>""+z),m=Kg.bind(null,Xq),v=Kg.bind(null,$f);function b(z,U){let W,Z;return Vk(z)?(W=t.getRecordMatcher(z),Z=U):Z=z,t.addRoute(Z,W)}function _(z){const U=t.getRecordMatcher(z);U&&t.removeRoute(U)}function I(){return t.getRoutes().map(z=>z.record)}function N(z){return!!t.getRecordMatcher(z)}function R(z,U){if(U=et({},U||f.value),typeof z=="string"){const E=zg(n,z,U.path),A=t.resolve({path:E.path},U),M=o.createHref(E.fullPath);return et(E,A,{params:v(A.params),hash:$f(E.hash),redirectedFrom:void 0,href:M})}let W;if("path"in z)W=et({},z,{path:zg(n,z.path,U.path).path});else{const E=et({},z.params);for(const A in E)E[A]==null&&delete E[A];W=et({},z,{params:m(z.params)}),U.params=m(U.params)}const Z=t.resolve(W,U),Pe=z.hash||"";Z.params=p(v(Z.params));const Be=aq(i,et({},z,{hash:zq(Pe),path:Z.path})),_e=o.createHref(Be);return et({fullPath:Be,hash:Pe,query:i===XI?Qq(z.query):z.query||{}},Z,{redirectedFrom:void 0,href:_e})}function P(z){return typeof z=="string"?zg(n,z,f.value.path):et({},z)}function C(z,U){if(d!==z)return pu(8,{from:U,to:z})}function L(z){return X(z)}function B(z){return L(et(P(z),{replace:!0}))}function O(z){const U=z.matched[z.matched.length-1];if(U&&U.redirect){const{redirect:W}=U;let Z=typeof W=="function"?W(z):W;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=P(Z):{path:Z},Z.params={}),et({query:z.query,hash:z.hash,params:"path"in Z?{}:z.params},Z)}}function X(z,U){const W=d=R(z),Z=f.value,Pe=z.state,Be=z.force,_e=z.replace===!0,E=O(W);if(E)return X(et(P(E),{state:typeof E=="object"?et({},Pe,E.state):Pe,force:Be,replace:_e}),U||W);const A=W;A.redirectedFrom=U;let M;return!Be&&cq(i,Z,W)&&(M=pu(16,{to:A,from:Z}),gt(Z,Z,!0,!1)),(M?Promise.resolve(M):ue(A,Z)).catch(j=>Jr(j)?Jr(j,2)?j:Tt(j):Ne(j,A,Z)).then(j=>{if(j){if(Jr(j,2))return X(et({replace:_e},P(j.to),{state:typeof j.to=="object"?et({},Pe,j.to.state):Pe,force:Be}),U||A)}else j=ke(A,Z,!0,_e,Pe);return S(A,Z,j),j})}function D(z,U){const W=C(z,U);return W?Promise.reject(W):Promise.resolve()}function ue(z,U){let W;const[Z,Pe,Be]=uB(z,U);W=Gg(Z.reverse(),"beforeRouteLeave",z,U);for(const E of Z)E.leaveGuards.forEach(A=>{W.push(Ri(A,z,U))});const _e=D.bind(null,z,U);return W.push(_e),Rs(W).then(()=>{W=[];for(const E of s.list())W.push(Ri(E,z,U));return W.push(_e),Rs(W)}).then(()=>{W=Gg(Pe,"beforeRouteUpdate",z,U);for(const E of Pe)E.updateGuards.forEach(A=>{W.push(Ri(A,z,U))});return W.push(_e),Rs(W)}).then(()=>{W=[];for(const E of z.matched)if(E.beforeEnter&&!U.matched.includes(E))if(Sr(E.beforeEnter))for(const A of E.beforeEnter)W.push(Ri(A,z,U));else W.push(Ri(E.beforeEnter,z,U));return W.push(_e),Rs(W)}).then(()=>(z.matched.forEach(E=>E.enterCallbacks={}),W=Gg(Be,"beforeRouteEnter",z,U),W.push(_e),Rs(W))).then(()=>{W=[];for(const E of a.list())W.push(Ri(E,z,U));return W.push(_e),Rs(W)}).catch(E=>Jr(E,8)?E:Promise.reject(E))}function S(z,U,W){for(const Z of l.list())Z(z,U,W)}function ke(z,U,W,Z,Pe){const Be=C(z,U);if(Be)return Be;const _e=U===Si,E=Ls?history.state:{};W&&(Z||_e?o.replace(z.fullPath,et({scroll:_e&&E&&E.scroll},Pe)):o.push(z.fullPath,Pe)),f.value=z,gt(z,U,W,_e),Tt()}let De;function We(){De||(De=o.listen((z,U,W)=>{if(!en.listening)return;const Z=R(z),Pe=O(Z);if(Pe){X(et(Pe,{replace:!0}),Z).catch(Ca);return}d=Z;const Be=f.value;Ls&&vq(qI(Be.fullPath,W.delta),Hh()),ue(Z,Be).catch(_e=>Jr(_e,12)?_e:Jr(_e,2)?(X(_e.to,Z).then(E=>{Jr(E,20)&&!W.delta&&W.type===ic.pop&&o.go(-1,!1)}).catch(Ca),Promise.reject()):(W.delta&&o.go(-W.delta,!1),Ne(_e,Z,Be))).then(_e=>{_e=_e||ke(Z,Be,!1),_e&&(W.delta&&!Jr(_e,8)?o.go(-W.delta,!1):W.type===ic.pop&&Jr(_e,20)&&o.go(-1,!1)),S(Z,Be,_e)}).catch(Ca)}))}let Xe=ga(),je=ga(),Ce;function Ne(z,U,W){Tt(z);const Z=je.list();return Z.length?Z.forEach(Pe=>Pe(z,U,W)):console.error(z),Promise.reject(z)}function we(){return Ce&&f.value!==Si?Promise.resolve():new Promise((z,U)=>{Xe.add([z,U])})}function Tt(z){return Ce||(Ce=!z,We(),Xe.list().forEach(([U,W])=>z?W(z):U()),Xe.reset()),z}function gt(z,U,W,Z){const{scrollBehavior:Pe}=e;if(!Ls||!Pe)return Promise.resolve();const Be=!W&&yq(qI(z.fullPath,0))||(Z||!W)&&history.state&&history.state.scroll||null;return Li().then(()=>Pe(z,U,Be)).then(_e=>_e&&mq(_e)).catch(_e=>Ne(_e,z,U))}const mt=z=>o.go(z);let lt;const dn=new Set,en={currentRoute:f,listening:!0,addRoute:b,removeRoute:_,hasRoute:N,getRoutes:I,resolve:R,options:e,push:L,replace:B,go:mt,back:()=>mt(-1),forward:()=>mt(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:je.add,isReady:we,install(z){const U=this;z.component("RouterLink",tB),z.component("RouterView",oB),z.config.globalProperties.$router=U,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>fe(f)}),Ls&&!lt&&f.value===Si&&(lt=!0,L(o.location).catch(Pe=>{}));const W={};for(const Pe in Si)W[Pe]=Ye(()=>f.value[Pe]);z.provide(Vy,U),z.provide(Gk,ai(W)),z.provide(Gm,f);const Z=z.unmount;dn.add(z),z.unmount=function(){dn.delete(z),dn.size<1&&(d=Si,De&&De(),De=null,f.value=Si,lt=!1,Ce=!1),Z()}}};return en}function Rs(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function uB(e,t){const n=[],i=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const l=t.matched[a];l&&(e.matched.find(d=>du(d,l))?i.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(d=>du(d,f))||o.push(f))}return[n,i,o]}const aB={name:"SongItem",props:["song"]},cB={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},lB={class:"text-gray-500 text-sm"},fB={class:"text-gray-600 text-lg"},hB={class:"comments"},dB=q("i",{class:"fa fa-comments text-gray-600"},null,-1);function pB(e,t,n,i,o,s){const a=It("router-link");return ze(),rt("li",cB,[q("div",null,[Ee(a,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block text-gray-600"},{default:wr(()=>[Do(rn(n.song.modified_name),1)]),_:1},8,["to"]),q("span",lB,rn(n.song.name),1)]),q("div",fB,[q("span",hB,[dB,Do(" "+rn(n.song.comment_count),1)])])])}const gB=ur(aB,[["render",pB]]),mB="/music-player/assets/img/introduction-music.png",vB={name:"Home",components:{AppSongItem:gB},data(){return{songs:[],maxPerPage:25,pendingRequest:!1}},async created(){this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n>t-100&&console.log("Bottom of window")},async getSongs(){if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const t=await oi.doc(this.songs[this.songs.length-1].docID).get();e=await oi.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get()}else e=await oi.orderBy("modified_name").limit(this.maxPerPage).get();e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})}),this.pendingRequest=!1}}},yB=iS('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Listen to Great Music!</h1><p class="w-full md:w-8/12 mx-auto">Checkout some cool music here!</p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+mB+'"></section>',1),wB={class:"container mx-auto"},bB={class:"bg-white rounded border border-gray-200 relative flex flex-col"},_B=q("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[q("span",{class:"card-title"},"Songs"),q("i",{class:"fa fa-headphones-alt float-right text-green-400 text-xl"})],-1),EB={id:"playlist"};function IB(e,t,n,i,o,s){const a=It("app-song-item");return ze(),rt(Nt,null,[yB,q("section",wB,[q("div",bB,[_B,q("ol",EB,[(ze(!0),rt(Nt,null,sc(o.songs,l=>(ze(),Ks(a,{key:l.docID,song:l},null,8,["song"]))),128))])])])],64)}const TB=ur(vB,[["render",IB]]);const SB={},AB={class:"about"},kB=q("h1",null,"This is an about page",-1),CB=[kB];function NB(e,t){return ze(),rt("div",AB,CB)}const RB=ur(SB,[["render",NB]]),xB={name:"Upload",data(){return{is_dragover:!1,uploads:[]}},props:["addSong"],methods:{upload(e){this.is_dragover=!1;const t=e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files];t.forEach(n=>{if(n.type!=="audio/mpeg")return;const s=Mk.ref().child(`songs/${n.name}`).put(n),a=this.uploads.push({task:s,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;s.on("state_changed",l=>{const f=l.bytesTransferred/l.totalBytes*100;this.uploads[a].current_progress=f},l=>{this.uploads[a].variant="bg-red-400",this.uploads[a].icon="fas fa-times",this.uploads[a].text_class="text-red-400",console.log(l)},async()=>{const l={uid:$r.currentUser.uid,display_name:$r.currentUser.displayName,original_name:s.snapshot.ref.name,modified_name:s.snapshot.ref.name,genre:"",comment_count:0};l.url=await s.snapshot.ref.getDownloadURL();const d=await(await oi.add(l)).get();this.addSong(d),this.uploads[a].variant="bg-green-400",this.uploads[a].icon="fas fa-check",this.uploads[a].text_class="text-green-400"})}),console.log(t)},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},OB={class:"bg-white rounded border border-gray-200 relative flex flex-col"},DB=q("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[q("span",{class:"card-title"},"Upload"),q("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),PB={class:"p-6"},LB=q("h5",null,"Drop your files here",-1),MB=[LB],FB=q("hr",{class:"my-6"},null,-1),UB={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function VB(e,t,n,i,o,s){return ze(),rt("div",OB,[DB,q("div",PB,[q("div",{class:xn(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=Rn(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Rn(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Rn(a=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Rn(a=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Rn(a=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Rn(a=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Rn(a=>s.upload(a),["prevent","stop"]))},MB,34),q("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=a=>s.upload(a))},null,32),FB,(ze(!0),rt(Nt,null,sc(o.uploads,a=>(ze(),rt("div",{class:"mb-4",key:a.name},[q("div",{class:xn(["font-bold text-sm",a.text_class])},[q("i",{class:xn(a.icon)},null,2),Do(rn(a.name),1)],2),q("div",UB,[q("div",{class:xn(["transition-all progress-bar",a.variant]),style:Kf({width:a.current_progress+"%"})},null,6)])]))),128))])])}const jB=ur(xB,[["render",VB]]),qB={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_message:"Please Wait! Updating Song Info"}},methods:{async edit(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_message="Please Wait! Updating Song Info";try{await oi.doc(this.song.docID).update(e)}catch{this.in_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Try again later";return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Success!"},async deleteSong(){await Mk.ref().child(`songs/${this.song.original_name}`).delete(),await oi.doc(this.song.docID).delete(),this.removeSong(this.index)}}},BB={class:"border border-gray-200 p-3 mb-4 rounded"},$B={class:"inline-block text-2xl font-bold"},HB=q("i",{class:"fa fa-times"},null,-1),KB=[HB],zB=q("i",{class:"fa fa-pencil-alt"},null,-1),GB=[zB],WB={class:"mb-3"},XB=q("label",{class:"inline-block mb-2"},"Song Title",-1),YB={class:"mb-3"},QB=q("label",{class:"inline-block mb-2"},"Genre",-1),JB=["disabled"],ZB=["disabled"];function e3(e,t,n,i,o,s){const a=It("vee-field"),l=It("ErrorMessage"),f=It("vee-form");return ze(),rt("div",BB,[rm(q("div",null,[q("h4",$B,rn(n.song.modified_name),1),q("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right",onClick:t[0]||(t[0]=Rn((...d)=>s.deleteSong&&s.deleteSong(...d),["prevent"]))},KB),q("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right",onClick:t[1]||(t[1]=Rn(d=>o.showForm=!o.showForm,["prevent"]))},GB)],512),[[nE,!o.showForm]]),rm(q("div",null,[o.show_alert?(ze(),rt("div",{key:0,class:xn(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},rn(o.alert_message),3)):Ua("",!0),Ee(f,{"validation-schema":o.schema,"initial-values":n.song,onSubmit:s.edit},{default:wr(()=>[q("div",WB,[XB,Ee(a,{name:"modified_name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateUnsavedFlag(!0))}),Ee(l,{class:"text-red-600",name:"modified_name"})]),q("div",YB,[QB,Ee(a,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=d=>n.updateUnsavedFlag(!0))}),Ee(l,{class:"text-red-600",name:"genre"})]),q("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600",disabled:o.in_submission}," Submit ",8,JB),q("button",{type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.in_submission,onClick:t[4]||(t[4]=Rn(d=>o.showForm=!1,["prevent"]))}," Go Back ",8,ZB)]),_:1},8,["validation-schema","initial-values","onSubmit"])],512),[[nE,o.showForm]])])}const t3=ur(qB,[["render",e3]]),n3={name:"manage",components:{AppUpload:jB,CompositionItem:t3},data(){return{songs:[],unsavedFlag:!1}},async created(){(await oi.where("uid","==",$r.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const i=confirm("You have unsaved changes. Are you sure you want to leave?");n(i)}}},r3={class:"container mx-auto mt-6"},i3={class:"md:grid md:grid-cols-3 md:gap-4"},o3={class:"col-span-1"},s3={class:"col-span-2"},u3={class:"bg-white rounded border border-gray-200 relative flex flex-col"},a3=q("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[q("span",{class:"card-title"},"My Songs"),q("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),c3={class:"p-6"};function l3(e,t,n,i,o,s){const a=It("app-upload"),l=It("composition-item");return ze(),rt("section",r3,[q("div",i3,[q("div",o3,[Ee(a,{ref:"upload",addSong:s.addSong},null,8,["addSong"])]),q("div",s3,[q("div",u3,[a3,q("div",c3,[(ze(!0),rt(Nt,null,sc(o.songs,(f,d)=>(ze(),Ks(l,{key:f.docID,song:f,updateSong:s.updateSong,index:d,removeSong:s.removeSong,updateUnsavedFlag:s.updateUnsavedFlag},null,8,["song","updateSong","index","removeSong","updateUnsavedFlag"]))),128))])])])])])}const f3=ur(n3,[["render",l3]]),h3={name:"Song",data(){return{song:{},schema:{comment:"required|min:3"},comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Please Wait! Your comment is being submitted",comments:[],sort:"1"}},computed:{...pS(Nu,["userLoggedIn"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.datePosted)-new Date(e.datePosted):new Date(e.datePosted)-new Date(t.datePosted))}},async created(){const e=await oi.doc(this.$route.params.id).get();if(!e.exists){this.$router.push({name:"home"});return}const{sort:t}=this.$route.query;this.sort=t,this.song=e.data(),this.getComments()},methods:{async addComment(e,{resetForm:t}){this.comment_in_submission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please Wait! Your comment is being submitted";const n={content:e.comment,datePosted:new Date().toString(),sid:this.$route.params.id,name:$r.currentUser.displayName,uid:$r.currentUser.uid};await UI.add(n),this.song.comment_count+=1,await oi.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant="bg-green-500",this.comment_alert_message="Comment added!",t()},async getComments(){const e=await UI.where("sid","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>[this.comments.push({docID:t.id,...t.data()})])}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}}},d3={class:"w-full mb-8 py-14 text-center text-white relative"},p3=q("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:{"background-image":"url(/assets/img/song-header.png)"}},null,-1),g3={class:"container mx-auto flex items-center"},m3=q("button",{type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},[q("i",{class:"fas fa-play"})],-1),v3={class:"z-50 text-left ml-8"},y3={class:"text-3xl font-bold"},w3={class:"container mx-auto mt-6"},b3={class:"bg-white rounded border border-gray-200 relative flex flex-col"},_3={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},E3={class:"card-title"},I3=q("i",{class:"fa fa-comments float-right text-green-400 text-2xl"},null,-1),T3={class:"p-6"},S3=["disabled"],A3=q("option",{value:"1"},"Latest",-1),k3=q("option",{value:"2"},"Oldest",-1),C3=[A3,k3],N3={class:"container mx-auto"},R3={class:"mb-5"},x3={class:"font-bold"},O3={class:"text-xs"};function D3(e,t,n,i,o,s){const a=It("vee-field"),l=It("ErrorMessage"),f=It("vee-form");return ze(),rt(Nt,null,[q("section",d3,[p3,q("div",g3,[m3,q("div",v3,[q("div",y3,rn(o.song.modified_name),1),q("div",null,rn(o.song.genre),1)])])]),q("section",w3,[q("div",b3,[q("div",_3,[q("span",E3,"Comments ("+rn(o.song.comment_count)+")",1),I3]),q("div",T3,[o.comment_show_alert?(ze(),rt("div",{key:0,class:xn(["text-white text-center font-bold p-4 mb-4",o.comment_alert_variant])},rn(o.comment_alert_message),3)):Ua("",!0),e.userLoggedIn?(ze(),Ks(f,{key:1,"validation-schema":o.schema,onSubmit:s.addComment},{default:wr(()=>[Ee(a,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4",placeholder:"Your comment here..."}),Ee(l,{class:"text-red-600",name:"comment"}),q("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Submit ",8,S3)]),_:1},8,["validation-schema","onSubmit"])):Ua("",!0),rm(q("select",{class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded","onUpdate:modelValue":t[0]||(t[0]=d=>o.sort=d)},C3,512),[[IP,o.sort]])])])]),q("ul",N3,[(ze(!0),rt(Nt,null,sc(s.sortedComments,d=>(ze(),rt("li",{class:"p-6 bg-gray-50 border border-gray-200",key:d.docID},[q("div",R3,[q("div",x3,rn(d.name),1),q("time",O3,rn(d.datePosted),1)]),q("p",null,rn(d.content),1)]))),128))])],64)}const P3=ur(h3,[["render",D3]]),L3=[{name:"home",path:"/",component:TB},{home:"about",path:"/about",component:RB},{name:"manage",path:"/manage-music",component:f3,beforeEnter:(e,t,n)=>{console.log("Manage Route Guard"),n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:P3},{path:"/:catchAll(.*)",redirect:{name:"home"}}],Wk=sB({history:Eq("/music-player/"),routes:L3,linkExactActiveClass:"text-yellow-500"});Wk.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}Nu().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.7.3
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */function Go(e){return typeof e=="function"}function Ra(e){return e==null}const Wo=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Xk(e){return Number(e)>=0}function M3(e){const t=parseFloat(e);return isNaN(t)?e:t}const Yk={};function pr(e,t){U3(e,t),Yk[e]=t}function F3(e){return Yk[e]}function U3(e,t){if(!Go(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const kc=Symbol("vee-validate-form"),V3=Symbol("vee-validate-field-instance"),Hf=Symbol("Default empty value"),j3=typeof window<"u";function Wm(e){return Go(e)&&!!e.__locatorRef}function xa(e){return!!e&&Go(e.validate)}function gu(e){return e==="checkbox"||e==="radio"}function q3(e){return Wo(e)||Array.isArray(e)}function Qk(e){return Array.isArray(e)?e.length===0:Wo(e)&&Object.keys(e).length===0}function Kh(e){return/^\[.+\]$/i.test(e)}function B3(e){return Jk(e)&&e.multiple}function Jk(e){return e.tagName==="SELECT"}function $3(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function H3(e,t){return!$3(e,t)&&t.type!=="file"&&!gu(t.type)}function Zk(e){return jy(e)&&e.target&&"submit"in e.target}function jy(e){return e?!!(typeof Event<"u"&&Go(Event)&&e instanceof Event||e&&e.srcElement):!1}function tT(e,t){return t in e&&e[t]!==Hf}function $t(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!$t(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!$t(i[1],t.get(i[0])))return!1;return!0}if(nT(e)&&nT(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!$t(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function nT(e){return j3?e instanceof File:!1}function rT(e,t,n){typeof n.value=="object"&&(n.value=at(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function at(e){if(typeof e!="object")return e;var t=0,n,i,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(at(a))})):s==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(at(l),at(a))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(at(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)rT(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||rT(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function qy(e){return Kh(e)?e.replace(/\[|\]/gi,""):e}function Ct(e,t,n){return e?Kh(t)?e[qy(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>q3(o)&&s in o?o[s]:n,e):n}function Ai(e,t,n){if(Kh(t)){e[qy(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<i.length;s++){if(s===i.length-1){o[i[s]]=n;return}(!(i[s]in o)||Ra(o[i[s]]))&&(o[i[s]]=Xk(i[s+1])?[]:{}),o=o[i[s]]}}function Wg(e,t){if(Array.isArray(e)&&Xk(t)){e.splice(Number(t),1);return}Wo(e)&&delete e[t]}function Xl(e,t){if(Kh(t)){delete e[qy(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Wg(i,n[s]);break}if(!(n[s]in i)||Ra(i[n[s]]))break;i=i[n[s]]}const o=n.map((s,a)=>Ct(e,n.slice(0,a).join(".")));for(let s=o.length-1;s>=0;s--)if(Qk(o[s])){if(s===0){Wg(e,n[0]);continue}Wg(o[s-1],n[s-1])}}function Gt(e){return Object.keys(e)}function By(e,t=void 0){const n=sh();return(n==null?void 0:n.provides[e])||sr(e,t)}function Xm(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(s=>$t(s,t));return o>=0?i.splice(o,1):i.push(t),i}return $t(e,t)?n:t}function iT(e,t=0){let n=null,i=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...o);i.forEach(a=>a(s)),i=[]},t),new Promise(s=>i.push(s))}}function K3(e,t){return Wo(t)&&t.number?M3(e):e}function Ym(e,t){let n;return async function(...o){const s=e(...o);n=s;const a=await s;return s!==n||(n=void 0,t(a,o)),a}}function z3({get:e,set:t}){const n=Dn(at(e()));return Yt(e,i=>{$t(i,n.value)||(n.value=at(i))},{deep:!0}),Yt(n,i=>{$t(i,e())||t(at(i))},{deep:!0}),n}const zh=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default;function Xg(e){if(eC(e))return e._value}function eC(e){return"_value"in e}function $y(e){if(!jy(e))return e;const t=e.target;if(gu(t.type)&&eC(t))return Xg(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(B3(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Xg);if(Jk(t)){const n=Array.from(t.options).find(i=>i.selected);return n?Xg(n):t.value}return t.value}function tC(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Wo(e)&&e._$$isNormalized?e:Wo(e)?Object.keys(e).reduce((n,i)=>{const o=G3(e[i]);return e[i]!==!1&&(n[i]=oT(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=W3(i);return o.name&&(n[o.name]=oT(o.params)),n},t):t}function G3(e){return e===!0?[]:Array.isArray(e)||Wo(e)?e:[e]}function oT(e){const t=n=>typeof n=="string"&&n[0]==="@"?X3(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const W3=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function X3(e){const t=n=>Ct(n,e)||n[e];return t.__locatorRef=e,t}function Y3(e){return Array.isArray(e)?e.filter(Wm):Gt(e).filter(t=>Wm(e[t])).map(t=>e[t])}const Q3={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Qm=Object.assign({},Q3);const Hy=()=>Qm,J3=e=>{Qm=Object.assign(Object.assign({},Qm),e)},Z3=J3;async function nC(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await e4(o,e)).errors;return{errors:a,valid:!a.length}}async function e4(e,t){if(xa(e.rules))return t4(t,e.rules,{bails:e.bails});if(Go(e.rules)||Array.isArray(e.rules)){const a={field:e.name,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let p=0;p<f;p++){const m=l[p],v=await m(t,a);if(typeof v!="string"&&v)continue;const _=typeof v=="string"?v:rC(a);if(d.push(_),e.bails)return{errors:d}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:tC(e.rules)}),i=[],o=Object.keys(n.rules),s=o.length;for(let a=0;a<s;a++){const l=o[a],f=await n4(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}async function t4(e,t,n){var i;return{errors:await t.validate(e,{abortEarly:(i=n.bails)!==null&&i!==void 0?i:!0}).then(()=>[]).catch(s=>{if(s.name==="ValidationError")return s.errors;throw s})}}async function n4(e,t,n){const i=F3(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=r4(n.params,e.formData),s={field:e.name,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(t,o,s);return typeof a=="string"?{error:a}:{error:a?void 0:rC(s)}}function rC(e){const t=Hy().generateMessage;return t?t(e):"Field is invalid"}function r4(e,t){const n=i=>Wm(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function i4(e,t){const n=await e.validate(t,{abortEarly:!1}).then(()=>[]).catch(s=>{if(s.name!=="ValidationError")throw s;return s.inner||[]}),i={},o={};for(const s of n){const a=s.errors;i[s.path]={valid:!a.length,errors:a},a.length&&(o[s.path]=a[0])}return{valid:!n.length,results:i,errors:o}}async function o4(e,t,n){const o=Gt(e).map(async d=>{var p,m,v;const b=await nC(Ct(t,d),e[d],{name:((p=n==null?void 0:n.names)===null||p===void 0?void 0:p[d])||d,values:t,bails:(v=(m=n==null?void 0:n.bailsMap)===null||m===void 0?void 0:m[d])!==null&&v!==void 0?v:!0});return Object.assign(Object.assign({},b),{path:d})});let s=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:l,errors:f}}let sT=0;function s4(e,t){const{value:n,initialValue:i,setInitialValue:o}=iC(e,t.modelValue,t.form),{errorMessage:s,errors:a,setErrors:l}=a4(e,t.form),f=u4(n,i,a),d=sT>=Number.MAX_SAFE_INTEGER?0:++sT;function p(m){var v;"value"in m&&(n.value=m.value),"errors"in m&&l(m.errors),"touched"in m&&(f.touched=(v=m.touched)!==null&&v!==void 0?v:f.touched),"initialValue"in m&&o(m.initialValue)}return{id:d,path:e,value:n,initialValue:i,meta:f,errors:a,errorMessage:s,setState:p}}function iC(e,t,n){const i=Dn(fe(t));function o(){return n?Ct(n.meta.value.initialValues,fe(e),fe(i)):fe(i)}function s(d){if(!n){i.value=d;return}n.stageInitialValue(fe(e),d,!0)}const a=Ye(o);if(!n)return{value:Dn(o()),initialValue:a,setInitialValue:s};const l=t?fe(t):Ct(n.values,fe(e),fe(a));return n.stageInitialValue(fe(e),l,!0),{value:Ye({get(){return Ct(n.values,fe(e))},set(d){n.setFieldValue(fe(e),d)}}),initialValue:a,setInitialValue:s}}function u4(e,t,n){const i=ai({touched:!1,pending:!1,valid:!0,validated:!!fe(n).length,initialValue:Ye(()=>fe(t)),dirty:Ye(()=>!$t(fe(e),fe(t)))});return Yt(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function a4(e,t){function n(o){return o?Array.isArray(o)?o:[o]:[]}if(!t){const o=Dn([]);return{errors:o,errorMessage:Ye(()=>o.value[0]),setErrors:s=>{o.value=n(s)}}}const i=Ye(()=>t.errorBag.value[fe(e)]||[]);return{errors:i,errorMessage:Ye(()=>i.value[0]),setErrors:o=>{t.setFieldErrorBag(fe(e),n(o))}}}function c4(e,t,n){return gu(n==null?void 0:n.type)?h4(e,t,n):oC(e,t,n)}function oC(e,t,n){const{initialValue:i,validateOnMount:o,bails:s,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:p,controlled:m,keepValueOnUnmount:v,modelPropName:b,syncVModel:_,form:I}=l4(fe(e),n),N=m?By(kc):void 0,R=I||N;let P=!1;const{id:C,value:L,initialValue:B,meta:O,setState:X,errors:D,errorMessage:ue}=s4(e,{modelValue:i,form:R});_&&d4({value:L,prop:b,handleChange:Ce});const S=()=>{O.touched=!0},ke=Ye(()=>{let U=fe(t);const W=fe(R==null?void 0:R.schema);return W&&!xa(W)&&(U=f4(W,fe(e))||U),xa(U)||Go(U)||Array.isArray(U)?U:tC(U)});async function De(U){var W,Z;return R!=null&&R.validateSchema?(W=(await R.validateSchema(U)).results[fe(e)])!==null&&W!==void 0?W:{valid:!0,errors:[]}:nC(L.value,ke.value,{name:fe(f)||fe(e),values:(Z=R==null?void 0:R.values)!==null&&Z!==void 0?Z:{},bails:s})}const We=Ym(async()=>(O.pending=!0,O.validated=!0,De("validated-only")),U=>(P&&(U.valid=!0,U.errors=[]),X({errors:U.errors}),O.pending=!1,U)),Xe=Ym(async()=>De("silent"),U=>(P&&(U.valid=!0),O.valid=U.valid,U));function je(U){return(U==null?void 0:U.mode)==="silent"?Xe():We()}function Ce(U,W=!0){const Z=$y(U);L.value=Z,!d&&W&&We()}nh(()=>{if(o)return We();(!R||!R.validateSchema)&&Xe()});function Ne(U){O.touched=U}let we,Tt=at(L.value);function gt(){we=Yt(L,(U,W)=>{if($t(U,W)&&$t(U,Tt))return;(d?We:Xe)(),Tt=at(U)},{deep:!0})}gt();function mt(U){var W;we==null||we();const Z=U&&"value"in U?U.value:B.value;X({value:at(Z),initialValue:at(Z),touched:(W=U==null?void 0:U.touched)!==null&&W!==void 0?W:!1,errors:(U==null?void 0:U.errors)||[]}),O.pending=!1,O.validated=!1,Xe(),Li(()=>{gt()})}function lt(U){L.value=U}function dn(U){X({errors:Array.isArray(U)?U:[U]})}const en={id:C,name:e,label:f,value:L,meta:O,errors:D,errorMessage:ue,type:a,checkedValue:l,uncheckedValue:p,bails:s,keepValueOnUnmount:v,resetField:mt,handleReset:()=>mt(),validate:je,handleChange:Ce,handleBlur:S,setState:X,setTouched:Ne,setErrors:dn,setValue:lt};if(qs(V3,en),ct(t)&&typeof fe(t)!="function"&&Yt(t,(U,W)=>{$t(U,W)||(O.validated?We():Xe())},{deep:!0}),!R)return en;R.register(en),rh(()=>{P=!0,R.unregister(en)});const z=Ye(()=>{const U=ke.value;return!U||Go(U)||xa(U)||Array.isArray(U)?{}:Object.keys(U).reduce((W,Z)=>{const Pe=Y3(U[Z]).map(Be=>Be.__locatorRef).reduce((Be,_e)=>{const E=Ct(R.values,_e)||R.values[_e];return E!==void 0&&(Be[_e]=E),Be},{});return Object.assign(W,Pe),W},{})});return Yt(z,(U,W)=>{if(!Object.keys(U).length)return;!$t(U,W)&&(O.validated?We():Xe())}),en}function l4(e,t){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:e,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0});if(!t)return n();const i="valueProp"in t?t.valueProp:t.checkedValue,o="standalone"in t?!t.standalone:t.controlled;return Object.assign(Object.assign(Object.assign({},n()),t||{}),{controlled:o??!0,checkedValue:i})}function f4(e,t){if(e)return e[t]}function h4(e,t,n){const i=n!=null&&n.standalone?void 0:By(kc),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=Ye(()=>{const m=fe(l.value),v=fe(o);return Array.isArray(m)?m.findIndex(b=>$t(b,v))>=0:$t(v,m)});function p(m,v=!0){var b;if(d.value===((b=m==null?void 0:m.target)===null||b===void 0?void 0:b.checked)){v&&l.validate();return}let _=$y(m);i||(_=Xm(fe(l.value),fe(o),fe(s))),f(_,v)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:p})}return a(oC(e,t,n))}function d4({prop:e,value:t,handleChange:n}){const i=sh();if(!i)return;const o=e||"modelValue",s=`update:${o}`;o in i.props&&(Yt(t,a=>{$t(a,uT(i,o))||i.emit(s,a)}),Yt(()=>uT(i,o),a=>{if(a===Hf&&t.value===void 0)return;const l=a===Hf?void 0:a;$t(l,K3(t.value,i.props.modelModifiers))||n(l)}))}function uT(e,t){return e.props[t]}const p4=wu({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Hy().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Hf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Ur(e,"rules"),i=Ur(e,"name"),o=Ur(e,"label"),s=Ur(e,"uncheckedValue"),a=Ur(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:p,handleChange:m,handleBlur:v,setTouched:b,resetField:_,handleReset:I,meta:N,checked:R,setErrors:P}=c4(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:m4(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a}),C=function(ue,S=!0){m(ue,S),t.emit("update:modelValue",f.value)},L=D=>{gu(t.attrs.type)||(f.value=$y(D))},B=function(ue){L(ue),t.emit("update:modelValue",f.value)},O=Ye(()=>{const{validateOnInput:D,validateOnChange:ue,validateOnBlur:S,validateOnModelUpdate:ke}=g4(e),De=[v,t.attrs.onBlur,S?p:void 0].filter(Boolean),We=[Ne=>C(Ne,D),t.attrs.onInput].filter(Boolean),Xe=[Ne=>C(Ne,ue),t.attrs.onChange].filter(Boolean),je={name:e.name,onBlur:De,onInput:We,onChange:Xe};je["onUpdate:modelValue"]=Ne=>C(Ne,ke),gu(t.attrs.type)&&R&&(je.checked=R.value);const Ce=aT(e,t);return H3(Ce,t.attrs)&&(je.value=f.value),je});function X(){return{field:O.value,value:f.value,meta:N,errors:l.value,errorMessage:d.value,validate:p,resetField:_,handleChange:C,handleInput:B,handleReset:I,handleBlur:v,setTouched:b,setErrors:P}}return t.expose({setErrors:P,setTouched:b,reset:_,validate:p,handleChange:m}),()=>{const D=pv(aT(e,t)),ue=zh(D,t,X);return D?Gs(D,Object.assign(Object.assign({},t.attrs),O.value),ue):ue}}});function aT(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function g4(e){var t,n,i,o;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Hy();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function m4(e,t){return gu(t.attrs.type)?tT(e,"modelValue")?e.modelValue:void 0:tT(e,"modelValue")?e.modelValue:t.attrs.value}const v4=p4;let y4=0;function w4(e){var t;const n=y4++,i=new Set;let o=!1;const s=Dn({}),a=Dn(!1),l=Dn(0),f=[],d=ai(at(fe(e==null?void 0:e.initialValues)||{})),{errorBag:p,setErrorBag:m,setFieldErrorBag:v}=E4(e==null?void 0:e.initialErrors),b=Ye(()=>Gt(p.value).reduce((k,x)=>{const Y=p.value[x];return Y&&Y.length&&(k[x]=Y[0]),k},{}));function _(k){const x=s.value[k];return Array.isArray(x)?x[0]:x}function I(k){return!!s.value[k]}const N=Ye(()=>Gt(s.value).reduce((k,x)=>{const Y=_(x);return Y&&(k[x]=fe(Y.label||Y.name)||""),k},{})),R=Ye(()=>Gt(s.value).reduce((k,x)=>{var Y;const Q=_(x);return Q&&(k[x]=(Y=Q.bails)!==null&&Y!==void 0?Y:!0),k},{})),P=Object.assign({},(e==null?void 0:e.initialErrors)||{}),C=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:L,originalInitialValues:B,setInitialValues:O}=_4(s,d,e==null?void 0:e.initialValues),X=b4(s,d,B,b),D=Ye(()=>[...i,...Gt(s.value)].reduce((k,x)=>{const Y=Ct(d,x);return Ai(k,x,Y),k},{})),ue=e==null?void 0:e.validationSchema,S=iT(se,5),ke=iT(se,5),De=Ym(async k=>await k==="silent"?S():ke(),(k,[x])=>{const Y=Ce.fieldsByPath.value||{},Q=Gt(Ce.errorBag.value);return[...new Set([...Gt(k.results),...Gt(Y),...Q])].reduce((oe,le)=>{const ae=Y[le],Re=(k.results[le]||{errors:[]}).errors,Le={errors:Re,valid:!Re.length};if(oe.results[le]=Le,Le.valid||(oe.errors[le]=Le.errors[0]),!ae)return gt(le,Re),oe;if(we(ae,pn=>pn.meta.valid=Le.valid),x==="silent")return oe;const tn=Array.isArray(ae)?ae.some(pn=>pn.meta.validated):ae.meta.validated;return x==="validated-only"&&!tn||we(ae,pn=>pn.setState({errors:Le.errors})),oe},{valid:k.valid,results:{},errors:{}})});function We(k){return function(Y,Q){return function(oe){return oe instanceof Event&&(oe.preventDefault(),oe.stopPropagation()),W(Gt(s.value).reduce((le,ae)=>(le[ae]=!0,le),{})),a.value=!0,l.value++,A().then(le=>{const ae=at(d);if(le.valid&&typeof Y=="function"){const Re=at(D.value);return Y(k?Re:ae,{evt:oe,controlledValues:Re,setErrors:mt,setFieldError:gt,setTouched:W,setFieldTouched:U,setValues:dn,setFieldValue:lt,resetForm:Z})}!le.valid&&typeof Q=="function"&&Q({values:ae,evt:oe,errors:le.errors,results:le.results})}).then(le=>(a.value=!1,le),le=>{throw a.value=!1,le})}}}const je=We(!1);je.withControlled=We(!0);const Ce={formId:n,fieldsByPath:s,values:d,controlledValues:D,errorBag:p,errors:b,schema:ue,submitCount:l,meta:X,isSubmitting:a,fieldArrays:f,keepValuesOnUnmount:C,validateSchema:fe(ue)?De:void 0,validate:A,register:_e,unregister:E,setFieldErrorBag:v,validateField:M,setFieldValue:lt,setValues:dn,setErrors:mt,setFieldError:gt,setFieldTouched:U,setTouched:W,resetForm:Z,handleSubmit:je,stageInitialValue:H,unsetInitialValue:j,setFieldInitialValue:te,useFieldModel:z};function Ne(k){return Array.isArray(k)}function we(k,x){return Array.isArray(k)?k.forEach(x):x(k)}function Tt(k){Object.values(s.value).forEach(x=>{x&&we(x,k)})}function gt(k,x){v(k,x)}function mt(k){m(k)}function lt(k,x,{force:Y}={force:!1}){var Q;const ie=s.value[k],oe=at(x);if(!ie){Ai(d,k,oe);return}if(Ne(ie)&&((Q=ie[0])===null||Q===void 0?void 0:Q.type)==="checkbox"&&!Array.isArray(x)){const ae=at(Xm(Ct(d,k)||[],x,void 0));Ai(d,k,ae);return}let le=oe;!Ne(ie)&&ie.type==="checkbox"&&!Y&&!o&&(le=at(Xm(Ct(d,k),x,fe(ie.uncheckedValue)))),Ai(d,k,le)}function dn(k){Gt(d).forEach(x=>{delete d[x]}),Gt(k).forEach(x=>{lt(x,k[x])}),f.forEach(x=>x&&x.reset())}function en(k){const{value:x}=iC(k,void 0,Ce);return Yt(x,()=>{I(fe(k))||A({mode:"validated-only"})},{deep:!0}),i.add(fe(k)),x}function z(k){return Array.isArray(k)?k.map(en):en(k)}function U(k,x){const Y=s.value[k];Y&&we(Y,Q=>Q.setTouched(x))}function W(k){Gt(k).forEach(x=>{U(x,!!k[x])})}function Z(k){o=!0,Tt(Y=>Y.resetField());const x=k!=null&&k.values?k.values:B.value;O(x),dn(x),k!=null&&k.touched&&W(k.touched),mt((k==null?void 0:k.errors)||{}),l.value=(k==null?void 0:k.submitCount)||0,Li(()=>{o=!1})}function Pe(k,x){const Y=Vo(k),Q=x;if(!s.value[Q]){s.value[Q]=Y;return}const ie=s.value[Q];ie&&!Array.isArray(ie)&&(s.value[Q]=[ie]),s.value[Q]=[...s.value[Q],Y]}function Be(k,x){const Y=x,Q=s.value[Y];if(Q){if(!Ne(Q)&&k.id===Q.id){delete s.value[Y];return}if(Ne(Q)){const ie=Q.findIndex(oe=>oe.id===k.id);if(ie===-1)return;Q.splice(ie,1),Q.length||delete s.value[Y]}}}function _e(k){const x=fe(k.name);Pe(k,x),ct(k.name)&&Yt(k.name,async(Q,ie)=>{await Li(),Be(k,ie),Pe(k,Q),(b.value[ie]||b.value[Q])&&(gt(ie,void 0),M(Q)),await Li(),I(ie)||Xl(d,ie)});const Y=fe(k.errorMessage);Y&&(P==null?void 0:P[x])!==Y&&M(x),delete P[x]}function E(k){const x=fe(k.name),Y=s.value[x],Q=!!Y&&Ne(Y);Be(k,x),Li(()=>{var ie;const oe=(ie=fe(k.keepValueOnUnmount))!==null&&ie!==void 0?ie:fe(C),le=Ct(d,x);if(Q&&(Y===s.value[x]||!s.value[x])&&!oe)if(Array.isArray(le)){const Re=le.findIndex(Le=>$t(Le,fe(k.checkedValue)));if(Re>-1){const Le=[...le];Le.splice(Re,1),lt(x,Le,{force:!0})}}else le===fe(k.checkedValue)&&Xl(d,x);if(!I(x)){if(gt(x,void 0),oe||Q&&Array.isArray(le)&&!Qk(le))return;Xl(d,x)}})}async function A(k){const x=(k==null?void 0:k.mode)||"force";if(x==="force"&&Tt(oe=>oe.meta.validated=!0),Ce.validateSchema)return Ce.validateSchema(x);const Y=await Promise.all(Object.values(s.value).map(oe=>{const le=Array.isArray(oe)?oe[0]:oe;return le?le.validate(k).then(ae=>({key:fe(le.name),valid:ae.valid,errors:ae.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),Q={},ie={};for(const oe of Y)Q[oe.key]={valid:oe.valid,errors:oe.errors},oe.errors.length&&(ie[oe.key]=oe.errors[0]);return{valid:Y.every(oe=>oe.valid),results:Q,errors:ie}}async function M(k){const x=s.value[k];return x?Array.isArray(x)?x.map(Y=>Y.validate())[0]:x.validate():Promise.resolve({errors:[],valid:!0})}function j(k){Xl(L.value,k)}function H(k,x,Y=!1){Ai(d,k,x),te(k,x),Y&&!(e!=null&&e.initialValues)&&Ai(B.value,k,at(x))}function te(k,x){Ai(L.value,k,at(x))}async function se(){const k=fe(ue);return k?xa(k)?await i4(k,d):await o4(k,d,{names:N.value,bailsMap:R.value}):{valid:!0,results:{},errors:{}}}const ne=je((k,{evt:x})=>{Zk(x)&&x.target.submit()});return nh(()=>{if(e!=null&&e.initialErrors&&mt(e.initialErrors),e!=null&&e.initialTouched&&W(e.initialTouched),e!=null&&e.validateOnMount){A();return}Ce.validateSchema&&Ce.validateSchema("silent")}),ct(ue)&&Yt(ue,()=>{var k;(k=Ce.validateSchema)===null||k===void 0||k.call(Ce,"validated-only")}),qs(kc,Ce),Object.assign(Object.assign({},Ce),{handleReset:()=>Z(),submitForm:ne})}function b4(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},s=Ye(()=>!$t(t,fe(n)));function a(){const f=Object.values(e.value).flat(1).filter(Boolean);return Gt(o).reduce((d,p)=>{const m=o[p];return d[p]=f[m](v=>v.meta[p]),d},{})}const l=ai(a());return dD(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Ye(()=>Object.assign(Object.assign({initialValues:fe(n)},l),{valid:l.valid&&!Gt(i.value).length,dirty:s.value}))}function _4(e,t,n){const i=Dn(at(fe(n))||{}),o=Dn(at(fe(n))||{});function s(a,l=!1){i.value=at(a),o.value=at(a),l&&Gt(e.value).forEach(f=>{const d=e.value[f],p=Array.isArray(d)?d.some(v=>v.meta.touched):d==null?void 0:d.meta.touched;if(!d||p)return;const m=Ct(i.value,f);Ai(t,f,at(m))})}return ct(n)&&Yt(n,a=>{s(a,!0)},{deep:!0}),{initialValues:i,originalInitialValues:o,setInitialValues:s}}function E4(e){const t=Dn({});function n(s){return Array.isArray(s)?s:s?[s]:[]}function i(s,a){if(!a){delete t.value[s];return}t.value[s]=n(a)}function o(s){t.value=Gt(s).reduce((a,l)=>{const f=s[l];return f&&(a[l]=n(f)),a},{})}return e&&o(e),{errorBag:t,setErrorBag:o,setFieldErrorBag:i}}const I4=wu({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Ur(e,"initialValues"),i=Ur(e,"validationSchema"),o=Ur(e,"keepValues"),{errors:s,values:a,meta:l,isSubmitting:f,submitCount:d,controlledValues:p,validate:m,validateField:v,handleReset:b,resetForm:_,handleSubmit:I,setErrors:N,setFieldError:R,setFieldValue:P,setValues:C,setFieldTouched:L,setTouched:B}=w4({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),O=I((ke,{evt:De})=>{Zk(De)&&De.target.submit()},e.onInvalidSubmit),X=e.onSubmit?I(e.onSubmit,e.onInvalidSubmit):O;function D(ke){jy(ke)&&ke.preventDefault(),b(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function ue(ke,De){return I(typeof ke=="function"&&!De?ke:De,e.onInvalidSubmit)(ke)}function S(){return{meta:l.value,errors:s.value,values:a,isSubmitting:f.value,submitCount:d.value,controlledValues:p.value,validate:m,validateField:v,handleSubmit:ue,handleReset:b,submitForm:O,setErrors:N,setFieldError:R,setFieldValue:P,setValues:C,setFieldTouched:L,setTouched:B,resetForm:_}}return t.expose({setFieldError:R,setErrors:N,setFieldValue:P,setValues:C,setFieldTouched:L,setTouched:B,resetForm:_,validate:m,validateField:v}),function(){const De=e.as==="form"?e.as:pv(e.as),We=zh(De,t,S);if(!e.as)return We;const Xe=e.as==="form"?{novalidate:!0}:{};return Gs(De,Object.assign(Object.assign(Object.assign({},Xe),t.attrs),{onSubmit:X,onReset:D}),We)}}}),T4=I4;function S4(e){const t=By(kc,void 0),n=Dn([]),i=()=>{},o={fields:n,remove:i,push:i,swap:i,insert:i,update:i,replace:i,prepend:i,move:i};if(!t||!fe(e))return o;const s=t.fieldArrays.find(C=>fe(C.path)===fe(e));if(s)return s;let a=0;function l(){const C=Ct(t==null?void 0:t.values,fe(e),[])||[];n.value=C.map(d),f()}l();function f(){const C=n.value.length;for(let L=0;L<C;L++){const B=n.value[L];B.isFirst=L===0,B.isLast=L===C-1}}function d(C){const L=a++;return{key:L,value:z3({get(){const O=Ct(t==null?void 0:t.values,fe(e),[])||[],X=n.value.findIndex(D=>D.key===L);return X===-1?C:O[X]},set(O){const X=n.value.findIndex(D=>D.key===L);X!==-1&&I(X,O)}}),isFirst:!1,isLast:!1}}function p(C){const L=fe(e),B=Ct(t==null?void 0:t.values,L);if(!B||!Array.isArray(B))return;const O=[...B];O.splice(C,1),t==null||t.unsetInitialValue(L+`[${C}]`),t==null||t.setFieldValue(L,O),n.value.splice(C,1),f()}function m(C){const L=fe(e),B=Ct(t==null?void 0:t.values,L),O=Ra(B)?[]:B;if(!Array.isArray(O))return;const X=[...O];X.push(C),t==null||t.stageInitialValue(L+`[${X.length-1}]`,C),t==null||t.setFieldValue(L,X),n.value.push(d(C)),f()}function v(C,L){const B=fe(e),O=Ct(t==null?void 0:t.values,B);if(!Array.isArray(O)||!(C in O)||!(L in O))return;const X=[...O],D=[...n.value],ue=X[C];X[C]=X[L],X[L]=ue;const S=D[C];D[C]=D[L],D[L]=S,t==null||t.setFieldValue(B,X),n.value=D,f()}function b(C,L){const B=fe(e),O=Ct(t==null?void 0:t.values,B);if(!Array.isArray(O)||O.length<C)return;const X=[...O],D=[...n.value];X.splice(C,0,L),D.splice(C,0,d(L)),t==null||t.setFieldValue(B,X),n.value=D,f()}function _(C){const L=fe(e);t==null||t.setFieldValue(L,C),l()}function I(C,L){const B=fe(e),O=Ct(t==null?void 0:t.values,B);!Array.isArray(O)||O.length-1<C||(t==null||t.setFieldValue(`${B}[${C}]`,L),t==null||t.validate({mode:"validated-only"}))}function N(C){const L=fe(e),B=Ct(t==null?void 0:t.values,L),O=Ra(B)?[]:B;if(!Array.isArray(O))return;const X=[C,...O];t==null||t.stageInitialValue(L+`[${X.length-1}]`,C),t==null||t.setFieldValue(L,X),n.value.unshift(d(C)),f()}function R(C,L){const B=fe(e),O=Ct(t==null?void 0:t.values,B),X=Ra(O)?[]:[...O];if(!Array.isArray(O)||!(C in O)||!(L in O))return;const D=[...n.value],ue=D[C];D.splice(C,1),D.splice(L,0,ue);const S=X[C];X.splice(C,1),X.splice(L,0,S),t==null||t.setFieldValue(B,X),n.value=D,f()}const P={fields:n,remove:p,push:m,swap:v,insert:b,update:I,replace:_,prepend:N,move:R};return t.fieldArrays.push(Object.assign({path:e,reset:l},P)),rh(()=>{const C=t.fieldArrays.findIndex(L=>fe(L.path)===fe(e));C>=0&&t.fieldArrays.splice(C,1)}),P}wu({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:i,swap:o,insert:s,replace:a,update:l,prepend:f,move:d,fields:p}=S4(Ur(e,"name"));function m(){return{fields:p.value,push:n,remove:i,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}}return t.expose({push:n,remove:i,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}),()=>zh(void 0,t,m)}});const A4=wu({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=sr(kc,void 0),i=Ye(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const s=e.as?pv(e.as):e.as,a=zh(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Gs(s||"span",l,i.value):Gs(s,l,a)}}}),k4=A4;/**
  * vee-validate v4.7.3
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */const Yl={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},C4=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Cc(e,t){return Array.isArray(e)?e[0]:e[t]}function Qi(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const sC=(e,t)=>{if(Qi(e))return!0;const n=C4(t);if(Array.isArray(e))return e.every(o=>sC(o,{locale:n}));const i=String(e);return n?(Yl[n]||Yl.en).test(i):Object.keys(Yl).some(o=>Yl[o].test(i))},N4=(e,t)=>{const n=Cc(t,"target");return String(e)===String(n)},R4=e=>{if(Qi(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function x4(e){return e==null}function O4(e){return Array.isArray(e)&&e.length===0}const uC=(e,t)=>{if(Qi(e))return!0;const n=Cc(t,"length");return Array.isArray(e)?e.every(i=>uC(i,{length:n})):String(e).length<=Number(n)},aC=(e,t)=>{if(Qi(e))return!0;const n=Cc(t,"max");return Array.isArray(e)?e.length>0&&e.every(i=>aC(i,{max:n})):Number(e)<=Number(n)},cC=(e,t)=>{if(Qi(e))return!0;const n=Cc(t,"length");return Array.isArray(e)?e.every(i=>cC(i,{length:n})):String(e).length>=Number(n)},lC=(e,t)=>{if(Qi(e))return!0;const n=Cc(t,"min");return Array.isArray(e)?e.length>0&&e.every(i=>lC(i,{min:n})):Number(e)>=Number(n)},fC=(e,t)=>Qi(e)?!0:Array.isArray(e)?e.every(n=>fC(n,t)):Array.from(t).some(n=>n==e),cT=(e,t)=>Qi(e)?!0:!fC(e,t),lT=e=>x4(e)||O4(e)||e===!1?!1:!!String(e).trim().length,D4={install(e){e.component("VeeForm",T4),e.component("VeeField",v4),e.component("ErrorMessage",k4),pr("required",lT),pr("tos",lT),pr("min",cC),pr("max",uC),pr("alpha_spaces",sC),pr("email",R4),pr("min_value",lC),pr("max_value",aC),pr("passwords_mismatch",N4),pr("excluded",cT),pr("country_excluded",cT),Z3({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too long.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces.`,email:` The field ${t.field} must be a valid email.`,min_val:`The field ${t.field} is too low.`,max_val:`The field ${t.field} is too high.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",passwords_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service"};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let xs;$r.onAuthStateChanged(()=>{xs||(xs=CP(iq),xs.use(xP()),xs.use(Wk),xs.use(D4),xs.mount("#app"))});
