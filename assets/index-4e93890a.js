(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function nm(t,e){const n=Object.create(null),i=t.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function rm(t){if(Nt(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=Ce(i)?Sx(i):rm(i);if(o)for(const u in o)e[u]=o[u]}return e}else{if(Ce(t))return t;if(le(t))return t}}const Ix=/;(?![^(]*\))/g,_x=/:([^]+)/,Tx=/\/\*.*?\*\//gs;function Sx(t){const e={};return t.replace(Tx,"").split(Ix).forEach(n=>{if(n){const i=n.split(_x);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function bi(t){let e="";if(Ce(t))e=t;else if(Nt(t))for(let n=0;n<t.length;n++){const i=bi(t[n]);i&&(e+=i+" ")}else if(le(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Ax="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nx=nm(Ax);function t_(t){return!!t||t===""}const rg=t=>Ce(t)?t:t==null?"":Nt(t)||le(t)&&(t.toString===i_||!Ot(t.toString))?JSON.stringify(t,e_,2):String(t),e_=(t,e)=>e&&e.__v_isRef?e_(t,e.value):ws(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:n_(e)?{[`Set(${e.size})`]:[...e.values()]}:le(e)&&!Nt(e)&&!o_(e)?String(e):e,ae={},ys=[],sr=()=>{},kx=()=>!1,Cx=/^on[^a-z]/,hf=t=>Cx.test(t),im=t=>t.startsWith("onUpdate:"),mn=Object.assign,om=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},xx=Object.prototype.hasOwnProperty,$t=(t,e)=>xx.call(t,e),Nt=Array.isArray,ws=t=>df(t)==="[object Map]",n_=t=>df(t)==="[object Set]",Ot=t=>typeof t=="function",Ce=t=>typeof t=="string",sm=t=>typeof t=="symbol",le=t=>t!==null&&typeof t=="object",r_=t=>le(t)&&Ot(t.then)&&Ot(t.catch),i_=Object.prototype.toString,df=t=>i_.call(t),Ox=t=>df(t).slice(8,-1),o_=t=>df(t)==="[object Object]",um=t=>Ce(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bl=nm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pf=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Rx=/-(\w)/g,xr=pf(t=>t.replace(Rx,(e,n)=>n?n.toUpperCase():"")),Dx=/\B([A-Z])/g,Ws=pf(t=>t.replace(Dx,"-$1").toLowerCase()),gf=pf(t=>t.charAt(0).toUpperCase()+t.slice(1)),Op=pf(t=>t?`on${gf(t)}`:""),la=(t,e)=>!Object.is(t,e),Rp=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ol=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},s_=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let kb;const Px=()=>kb||(kb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Pn;class u_{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Pn,!e&&Pn&&(this.index=(Pn.scopes||(Pn.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Pn;try{return Pn=this,e()}finally{Pn=n}}}on(){Pn=this}off(){Pn=this.parent}stop(e){if(this.active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function a_(t){return new u_(t)}function Lx(t,e=Pn){e&&e.active&&e.effects.push(t)}function Mx(){return Pn}function Fx(t){Pn&&Pn.cleanups.push(t)}const am=t=>{const e=new Set(t);return e.w=0,e.n=0,e},c_=t=>(t.w&Ai)>0,l_=t=>(t.n&Ai)>0,Vx=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ai},jx=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const o=e[i];c_(o)&&!l_(o)?o.delete(t):e[n++]=o,o.w&=~Ai,o.n&=~Ai}e.length=n}},ig=new WeakMap;let Gu=0,Ai=1;const og=30;let rr;const ho=Symbol(""),sg=Symbol("");class cm{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Lx(this,i)}run(){if(!this.active)return this.fn();let e=rr,n=Ei;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=rr,rr=this,Ei=!0,Ai=1<<++Gu,Gu<=og?Vx(this):Cb(this),this.fn()}finally{Gu<=og&&jx(this),Ai=1<<--Gu,rr=this.parent,Ei=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){rr===this?this.deferStop=!0:this.active&&(Cb(this),this.onStop&&this.onStop(),this.active=!1)}}function Cb(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Ei=!0;const f_=[];function Qs(){f_.push(Ei),Ei=!1}function Ys(){const t=f_.pop();Ei=t===void 0?!0:t}function Bn(t,e,n){if(Ei&&rr){let i=ig.get(t);i||ig.set(t,i=new Map);let o=i.get(n);o||i.set(n,o=am()),h_(o)}}function h_(t,e){let n=!1;Gu<=og?l_(t)||(t.n|=Ai,n=!c_(t)):n=!t.has(rr),n&&(t.add(rr),rr.deps.push(t))}function Hr(t,e,n,i,o,u){const a=ig.get(t);if(!a)return;let l=[];if(e==="clear")l=[...a.values()];else if(n==="length"&&Nt(t)){const f=s_(i);a.forEach((d,g)=>{(g==="length"||g>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),e){case"add":Nt(t)?um(n)&&l.push(a.get("length")):(l.push(a.get(ho)),ws(t)&&l.push(a.get(sg)));break;case"delete":Nt(t)||(l.push(a.get(ho)),ws(t)&&l.push(a.get(sg)));break;case"set":ws(t)&&l.push(a.get(ho));break}if(l.length===1)l[0]&&ug(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);ug(am(f))}}function ug(t,e){const n=Nt(t)?t:[...t];for(const i of n)i.computed&&xb(i);for(const i of n)i.computed||xb(i)}function xb(t,e){(t!==rr||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Ux=nm("__proto__,__v_isRef,__isVue"),d_=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(sm)),Bx=lm(),qx=lm(!1,!0),$x=lm(!0),Ob=Kx();function Kx(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Wt(this);for(let u=0,a=this.length;u<a;u++)Bn(i,"get",u+"");const o=i[e](...n);return o===-1||o===!1?i[e](...n.map(Wt)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Qs();const i=Wt(this)[e].apply(this,n);return Ys(),i}}),t}function lm(t=!1,e=!1){return function(i,o,u){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&u===(t?e?sO:y_:e?v_:m_).get(i))return i;const a=Nt(i);if(!t&&a&&$t(Ob,o))return Reflect.get(Ob,o,u);const l=Reflect.get(i,o,u);return(sm(o)?d_.has(o):Ux(o))||(t||Bn(i,"get",o),e)?l:ie(l)?a&&um(o)?l:l.value:le(l)?t?w_(l):Gr(l):l}}const Hx=p_(),zx=p_(!0);function p_(t=!1){return function(n,i,o,u){let a=n[i];if(_s(a)&&ie(a)&&!ie(o))return!1;if(!t&&(!Rl(o)&&!_s(o)&&(a=Wt(a),o=Wt(o)),!Nt(n)&&ie(a)&&!ie(o)))return a.value=o,!0;const l=Nt(n)&&um(i)?Number(i)<n.length:$t(n,i),f=Reflect.set(n,i,o,u);return n===Wt(u)&&(l?la(o,a)&&Hr(n,"set",i,o):Hr(n,"add",i,o)),f}}function Gx(t,e){const n=$t(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Hr(t,"delete",e,void 0),i}function Wx(t,e){const n=Reflect.has(t,e);return(!sm(e)||!d_.has(e))&&Bn(t,"has",e),n}function Qx(t){return Bn(t,"iterate",Nt(t)?"length":ho),Reflect.ownKeys(t)}const g_={get:Bx,set:Hx,deleteProperty:Gx,has:Wx,ownKeys:Qx},Yx={get:$x,set(t,e){return!0},deleteProperty(t,e){return!0}},Xx=mn({},g_,{get:qx,set:zx}),fm=t=>t,mf=t=>Reflect.getPrototypeOf(t);function rl(t,e,n=!1,i=!1){t=t.__v_raw;const o=Wt(t),u=Wt(e);n||(e!==u&&Bn(o,"get",e),Bn(o,"get",u));const{has:a}=mf(o),l=i?fm:n?pm:fa;if(a.call(o,e))return l(t.get(e));if(a.call(o,u))return l(t.get(u));t!==o&&t.get(e)}function il(t,e=!1){const n=this.__v_raw,i=Wt(n),o=Wt(t);return e||(t!==o&&Bn(i,"has",t),Bn(i,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function ol(t,e=!1){return t=t.__v_raw,!e&&Bn(Wt(t),"iterate",ho),Reflect.get(t,"size",t)}function Rb(t){t=Wt(t);const e=Wt(this);return mf(e).has.call(e,t)||(e.add(t),Hr(e,"add",t,t)),this}function Db(t,e){e=Wt(e);const n=Wt(this),{has:i,get:o}=mf(n);let u=i.call(n,t);u||(t=Wt(t),u=i.call(n,t));const a=o.call(n,t);return n.set(t,e),u?la(e,a)&&Hr(n,"set",t,e):Hr(n,"add",t,e),this}function Pb(t){const e=Wt(this),{has:n,get:i}=mf(e);let o=n.call(e,t);o||(t=Wt(t),o=n.call(e,t)),i&&i.call(e,t);const u=e.delete(t);return o&&Hr(e,"delete",t,void 0),u}function Lb(){const t=Wt(this),e=t.size!==0,n=t.clear();return e&&Hr(t,"clear",void 0,void 0),n}function sl(t,e){return function(i,o){const u=this,a=u.__v_raw,l=Wt(a),f=e?fm:t?pm:fa;return!t&&Bn(l,"iterate",ho),a.forEach((d,g)=>i.call(o,f(d),f(g),u))}}function ul(t,e,n){return function(...i){const o=this.__v_raw,u=Wt(o),a=ws(u),l=t==="entries"||t===Symbol.iterator&&a,f=t==="keys"&&a,d=o[t](...i),g=n?fm:e?pm:fa;return!e&&Bn(u,"iterate",f?sg:ho),{next(){const{value:m,done:v}=d.next();return v?{value:m,done:v}:{value:l?[g(m[0]),g(m[1])]:g(m),done:v}},[Symbol.iterator](){return this}}}}function oi(t){return function(...e){return t==="delete"?!1:this}}function Jx(){const t={get(u){return rl(this,u)},get size(){return ol(this)},has:il,add:Rb,set:Db,delete:Pb,clear:Lb,forEach:sl(!1,!1)},e={get(u){return rl(this,u,!1,!0)},get size(){return ol(this)},has:il,add:Rb,set:Db,delete:Pb,clear:Lb,forEach:sl(!1,!0)},n={get(u){return rl(this,u,!0)},get size(){return ol(this,!0)},has(u){return il.call(this,u,!0)},add:oi("add"),set:oi("set"),delete:oi("delete"),clear:oi("clear"),forEach:sl(!0,!1)},i={get(u){return rl(this,u,!0,!0)},get size(){return ol(this,!0)},has(u){return il.call(this,u,!0)},add:oi("add"),set:oi("set"),delete:oi("delete"),clear:oi("clear"),forEach:sl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{t[u]=ul(u,!1,!1),n[u]=ul(u,!0,!1),e[u]=ul(u,!1,!0),i[u]=ul(u,!0,!0)}),[t,n,e,i]}const[Zx,tO,eO,nO]=Jx();function hm(t,e){const n=e?t?nO:eO:t?tO:Zx;return(i,o,u)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?i:Reflect.get($t(n,o)&&o in i?n:i,o,u)}const rO={get:hm(!1,!1)},iO={get:hm(!1,!0)},oO={get:hm(!0,!1)},m_=new WeakMap,v_=new WeakMap,y_=new WeakMap,sO=new WeakMap;function uO(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aO(t){return t.__v_skip||!Object.isExtensible(t)?0:uO(Ox(t))}function Gr(t){return _s(t)?t:dm(t,!1,g_,rO,m_)}function cO(t){return dm(t,!1,Xx,iO,v_)}function w_(t){return dm(t,!0,Yx,oO,y_)}function dm(t,e,n,i,o){if(!le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const u=o.get(t);if(u)return u;const a=aO(t);if(a===0)return t;const l=new Proxy(t,a===2?i:n);return o.set(t,l),l}function Ii(t){return _s(t)?Ii(t.__v_raw):!!(t&&t.__v_isReactive)}function _s(t){return!!(t&&t.__v_isReadonly)}function Rl(t){return!!(t&&t.__v_isShallow)}function b_(t){return Ii(t)||_s(t)}function Wt(t){const e=t&&t.__v_raw;return e?Wt(e):t}function yo(t){return Ol(t,"__v_skip",!0),t}const fa=t=>le(t)?Gr(t):t,pm=t=>le(t)?w_(t):t;function E_(t){Ei&&rr&&(t=Wt(t),h_(t.dep||(t.dep=am())))}function I_(t,e){t=Wt(t),t.dep&&ug(t.dep)}function ie(t){return!!(t&&t.__v_isRef===!0)}function Sn(t){return __(t,!1)}function lO(t){return __(t,!0)}function __(t,e){return ie(t)?t:new fO(t,e)}class fO{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Wt(e),this._value=n?e:fa(e)}get value(){return E_(this),this._value}set value(e){const n=this.__v_isShallow||Rl(e)||_s(e);e=n?e:Wt(e),la(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:fa(e),I_(this))}}function ct(t){return ie(t)?t.value:t}const hO={get:(t,e,n)=>ct(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const o=t[e];return ie(o)&&!ie(n)?(o.value=n,!0):Reflect.set(t,e,n,i)}};function T_(t){return Ii(t)?t:new Proxy(t,hO)}function dO(t){const e=Nt(t)?new Array(t.length):{};for(const n in t)e[n]=Sr(t,n);return e}class pO{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Sr(t,e,n){const i=t[e];return ie(i)?i:new pO(t,e,n)}var S_;class gO{constructor(e,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[S_]=!1,this._dirty=!0,this.effect=new cm(e,()=>{this._dirty||(this._dirty=!0,I_(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const e=Wt(this);return E_(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}S_="__v_isReadonly";function mO(t,e,n=!1){let i,o;const u=Ot(t);return u?(i=t,o=sr):(i=t.get,o=t.set),new gO(i,o,u||!o,n)}function _i(t,e,n,i){let o;try{o=i?t(...i):t()}catch(u){vf(u,e,n)}return o}function ur(t,e,n,i){if(Ot(t)){const u=_i(t,e,n,i);return u&&r_(u)&&u.catch(a=>{vf(a,e,n)}),u}const o=[];for(let u=0;u<t.length;u++)o.push(ur(t[u],e,n,i));return o}function vf(t,e,n,i=!0){const o=e?e.vnode:null;if(e){let u=e.parent;const a=e.proxy,l=n;for(;u;){const d=u.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](t,a,l)===!1)return}u=u.parent}const f=e.appContext.config.errorHandler;if(f){_i(f,null,10,[t,a,l]);return}}vO(t,n,o,i)}function vO(t,e,n,i=!0){console.error(t)}let ha=!1,ag=!1;const tn=[];let Ar=0;const bs=[];let jr=null,oo=0;const A_=Promise.resolve();let gm=null;function wi(t){const e=gm||A_;return t?e.then(this?t.bind(this):t):e}function yO(t){let e=Ar+1,n=tn.length;for(;e<n;){const i=e+n>>>1;da(tn[i])<t?e=i+1:n=i}return e}function mm(t){(!tn.length||!tn.includes(t,ha&&t.allowRecurse?Ar+1:Ar))&&(t.id==null?tn.push(t):tn.splice(yO(t.id),0,t),N_())}function N_(){!ha&&!ag&&(ag=!0,gm=A_.then(C_))}function wO(t){const e=tn.indexOf(t);e>Ar&&tn.splice(e,1)}function bO(t){Nt(t)?bs.push(...t):(!jr||!jr.includes(t,t.allowRecurse?oo+1:oo))&&bs.push(t),N_()}function Mb(t,e=ha?Ar+1:0){for(;e<tn.length;e++){const n=tn[e];n&&n.pre&&(tn.splice(e,1),e--,n())}}function k_(t){if(bs.length){const e=[...new Set(bs)];if(bs.length=0,jr){jr.push(...e);return}for(jr=e,jr.sort((n,i)=>da(n)-da(i)),oo=0;oo<jr.length;oo++)jr[oo]();jr=null,oo=0}}const da=t=>t.id==null?1/0:t.id,EO=(t,e)=>{const n=da(t)-da(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function C_(t){ag=!1,ha=!0,tn.sort(EO);const e=sr;try{for(Ar=0;Ar<tn.length;Ar++){const n=tn[Ar];n&&n.active!==!1&&_i(n,null,14)}}finally{Ar=0,tn.length=0,k_(),ha=!1,gm=null,(tn.length||bs.length)&&C_()}}function IO(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||ae;let o=n;const u=e.startsWith("update:"),a=u&&e.slice(7);if(a&&a in i){const g=`${a==="modelValue"?"model":a}Modifiers`,{number:m,trim:v}=i[g]||ae;v&&(o=n.map(b=>Ce(b)?b.trim():b)),m&&(o=n.map(s_))}let l,f=i[l=Op(e)]||i[l=Op(xr(e))];!f&&u&&(f=i[l=Op(Ws(e))]),f&&ur(f,t,6,o);const d=i[l+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,ur(d,t,6,o)}}function x_(t,e,n=!1){const i=e.emitsCache,o=i.get(t);if(o!==void 0)return o;const u=t.emits;let a={},l=!1;if(!Ot(t)){const f=d=>{const g=x_(d,e,!0);g&&(l=!0,mn(a,g))};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!u&&!l?(le(t)&&i.set(t,null),null):(Nt(u)?u.forEach(f=>a[f]=null):mn(a,u),le(t)&&i.set(t,a),a)}function yf(t,e){return!t||!hf(e)?!1:(e=e.slice(2).replace(/Once$/,""),$t(t,e[0].toLowerCase()+e.slice(1))||$t(t,Ws(e))||$t(t,e))}let Gn=null,O_=null;function Dl(t){const e=Gn;return Gn=t,O_=t&&t.type.__scopeId||null,e}function Yu(t,e=Gn,n){if(!e||t._n)return t;const i=(...o)=>{i._d&&Hb(-1);const u=Dl(e);let a;try{a=t(...o)}finally{Dl(u),i._d&&Hb(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Dp(t){const{type:e,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[a],slots:l,attrs:f,emit:d,render:g,renderCache:m,data:v,setupState:b,ctx:I,inheritAttrs:T}=t;let O,C;const V=Dl(t);try{if(n.shapeFlag&4){const M=o||i;O=Tr(g.call(M,M,m,u,b,v,I)),C=f}else{const M=e;O=Tr(M.length>1?M(u,{attrs:f,slots:l,emit:d}):M(u,null)),C=e.props?f:_O(f)}}catch(M){Ju.length=0,vf(M,t,1),O=Ft(wo)}let x=O;if(C&&T!==!1){const M=Object.keys(C),{shapeFlag:W}=x;M.length&&W&7&&(a&&M.some(im)&&(C=TO(C,a)),x=Ts(x,C))}return n.dirs&&(x=Ts(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),O=x,Dl(V),O}const _O=t=>{let e;for(const n in t)(n==="class"||n==="style"||hf(n))&&((e||(e={}))[n]=t[n]);return e},TO=(t,e)=>{const n={};for(const i in t)(!im(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function SO(t,e,n){const{props:i,children:o,component:u}=t,{props:a,children:l,patchFlag:f}=e,d=u.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?Fb(i,a,d):!!a;if(f&8){const g=e.dynamicProps;for(let m=0;m<g.length;m++){const v=g[m];if(a[v]!==i[v]&&!yf(d,v))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?Fb(i,a,d):!0:!!a;return!1}function Fb(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(e[u]!==t[u]&&!yf(n,u))return!0}return!1}function AO({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const NO=t=>t.__isSuspense;function kO(t,e){e&&e.pendingBranch?Nt(t)?e.effects.push(...t):e.effects.push(t):bO(t)}function Es(t,e){if(Fe){let n=Fe.provides;const i=Fe.parent&&Fe.parent.provides;i===n&&(n=Fe.provides=Object.create(i)),n[t]=e}}function Wn(t,e,n=!1){const i=Fe||Gn;if(i){const o=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&Ot(e)?e.call(i.proxy):e}}function CO(t,e){return vm(t,null,e)}const al={};function He(t,e,n){return vm(t,e,n)}function vm(t,e,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:a}=ae){const l=Fe;let f,d=!1,g=!1;if(ie(t)?(f=()=>t.value,d=Rl(t)):Ii(t)?(f=()=>t,i=!0):Nt(t)?(g=!0,d=t.some(x=>Ii(x)||Rl(x)),f=()=>t.map(x=>{if(ie(x))return x.value;if(Ii(x))return gs(x);if(Ot(x))return _i(x,l,2)})):Ot(t)?e?f=()=>_i(t,l,2):f=()=>{if(!(l&&l.isUnmounted))return m&&m(),ur(t,l,3,[v])}:f=sr,e&&i){const x=f;f=()=>gs(x())}let m,v=x=>{m=C.onStop=()=>{_i(x,l,4)}},b;if(ga)if(v=sr,e?n&&ur(e,l,3,[f(),g?[]:void 0,v]):f(),o==="sync"){const x=bR();b=x.__watcherHandles||(x.__watcherHandles=[])}else return sr;let I=g?new Array(t.length).fill(al):al;const T=()=>{if(C.active)if(e){const x=C.run();(i||d||(g?x.some((M,W)=>la(M,I[W])):la(x,I)))&&(m&&m(),ur(e,l,3,[x,I===al?void 0:g&&I[0]===al?[]:I,v]),I=x)}else C.run()};T.allowRecurse=!!e;let O;o==="sync"?O=T:o==="post"?O=()=>En(T,l&&l.suspense):(T.pre=!0,l&&(T.id=l.uid),O=()=>mm(T));const C=new cm(f,O);e?n?T():I=C.run():o==="post"?En(C.run.bind(C),l&&l.suspense):C.run();const V=()=>{C.stop(),l&&l.scope&&om(l.scope.effects,C)};return b&&b.push(V),V}function xO(t,e,n){const i=this.proxy,o=Ce(t)?t.includes(".")?R_(i,t):()=>i[t]:t.bind(i,i);let u;Ot(e)?u=e:(u=e.handler,n=e);const a=Fe;Ss(this);const l=vm(o,u.bind(i),n);return a?Ss(a):po(),l}function R_(t,e){const n=e.split(".");return()=>{let i=t;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function gs(t,e){if(!le(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ie(t))gs(t.value,e);else if(Nt(t))for(let n=0;n<t.length;n++)gs(t[n],e);else if(n_(t)||ws(t))t.forEach(n=>{gs(n,e)});else if(o_(t))for(const n in t)gs(t[n],e);return t}function Xs(t){return Ot(t)?{setup:t,name:t.name}:t}const El=t=>!!t.type.__asyncLoader,D_=t=>t.type.__isKeepAlive;function OO(t,e){P_(t,"a",e)}function RO(t,e){P_(t,"da",e)}function P_(t,e,n=Fe){const i=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(wf(e,i,n),n){let o=n.parent;for(;o&&o.parent;)D_(o.parent.vnode)&&DO(i,e,n,o),o=o.parent}}function DO(t,e,n,i){const o=wf(e,t,i,!0);L_(()=>{om(i[e],o)},n)}function wf(t,e,n=Fe,i=!1){if(n){const o=n[t]||(n[t]=[]),u=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Qs(),Ss(n);const l=ur(e,n,t,a);return po(),Ys(),l});return i?o.unshift(u):o.push(u),u}}const Wr=t=>(e,n=Fe)=>(!ga||t==="sp")&&wf(t,(...i)=>e(...i),n),PO=Wr("bm"),ym=Wr("m"),LO=Wr("bu"),MO=Wr("u"),wm=Wr("bum"),L_=Wr("um"),FO=Wr("sp"),VO=Wr("rtg"),jO=Wr("rtc");function UO(t,e=Fe){wf("ec",t,e)}function to(t,e,n,i){const o=t.dirs,u=e&&e.dirs;for(let a=0;a<o.length;a++){const l=o[a];u&&(l.oldValue=u[a].value);let f=l.dir[i];f&&(Qs(),ur(f,n,8,[t.el,l,t,e]),Ys())}}const bm="components";function kr(t,e){return F_(bm,t,!0,e)||t}const M_=Symbol();function Em(t){return Ce(t)?F_(bm,t,!1)||t:t||M_}function F_(t,e,n=!0,i=!1){const o=Gn||Fe;if(o){const u=o.type;if(t===bm){const l=vR(u,!1);if(l&&(l===e||l===xr(e)||l===gf(xr(e))))return u}const a=Vb(o[t]||u[t],e)||Vb(o.appContext[t],e);return!a&&i?u:a}}function Vb(t,e){return t&&(t[e]||t[xr(e)]||t[gf(xr(e))])}function BO(t,e,n,i){let o;const u=n&&n[i];if(Nt(t)||Ce(t)){o=new Array(t.length);for(let a=0,l=t.length;a<l;a++)o[a]=e(t[a],a,void 0,u&&u[a])}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,u&&u[a])}else if(le(t))if(t[Symbol.iterator])o=Array.from(t,(a,l)=>e(a,l,void 0,u&&u[l]));else{const a=Object.keys(t);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=e(t[d],d,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const cg=t=>t?Y_(t)?Am(t)||t.proxy:cg(t.parent):null,Xu=mn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>cg(t.parent),$root:t=>cg(t.root),$emit:t=>t.emit,$options:t=>Im(t),$forceUpdate:t=>t.f||(t.f=()=>mm(t.update)),$nextTick:t=>t.n||(t.n=wi.bind(t.proxy)),$watch:t=>xO.bind(t)}),Pp=(t,e)=>t!==ae&&!t.__isScriptSetup&&$t(t,e),qO={get({_:t},e){const{ctx:n,setupState:i,data:o,props:u,accessCache:a,type:l,appContext:f}=t;let d;if(e[0]!=="$"){const b=a[e];if(b!==void 0)switch(b){case 1:return i[e];case 2:return o[e];case 4:return n[e];case 3:return u[e]}else{if(Pp(i,e))return a[e]=1,i[e];if(o!==ae&&$t(o,e))return a[e]=2,o[e];if((d=t.propsOptions[0])&&$t(d,e))return a[e]=3,u[e];if(n!==ae&&$t(n,e))return a[e]=4,n[e];lg&&(a[e]=0)}}const g=Xu[e];let m,v;if(g)return e==="$attrs"&&Bn(t,"get",e),g(t);if((m=l.__cssModules)&&(m=m[e]))return m;if(n!==ae&&$t(n,e))return a[e]=4,n[e];if(v=f.config.globalProperties,$t(v,e))return v[e]},set({_:t},e,n){const{data:i,setupState:o,ctx:u}=t;return Pp(o,e)?(o[e]=n,!0):i!==ae&&$t(i,e)?(i[e]=n,!0):$t(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(u[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:o,propsOptions:u}},a){let l;return!!n[a]||t!==ae&&$t(t,a)||Pp(e,a)||(l=u[0])&&$t(l,a)||$t(i,a)||$t(Xu,a)||$t(o.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:$t(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let lg=!0;function $O(t){const e=Im(t),n=t.proxy,i=t.ctx;lg=!1,e.beforeCreate&&jb(e.beforeCreate,t,"bc");const{data:o,computed:u,methods:a,watch:l,provide:f,inject:d,created:g,beforeMount:m,mounted:v,beforeUpdate:b,updated:I,activated:T,deactivated:O,beforeDestroy:C,beforeUnmount:V,destroyed:x,unmounted:M,render:W,renderTracked:R,renderTriggered:X,errorCaptured:B,serverPrefetch:bt,expose:A,inheritAttrs:Lt,components:Ut,directives:te,filters:Yt}=e;if(d&&KO(d,i,null,t.appContext.config.unwrapInjectedRef),a)for(const At in a){const mt=a[At];Ot(mt)&&(i[At]=mt.bind(n))}if(o){const At=o.call(n,n);le(At)&&(t.data=Gr(At))}if(lg=!0,u)for(const At in u){const mt=u[At],be=Ot(mt)?mt.bind(n,n):Ot(mt.get)?mt.get.bind(n,n):sr,fe=!Ot(mt)&&Ot(mt.set)?mt.set.bind(n):sr,he=zt({get:be,set:fe});Object.defineProperty(i,At,{enumerable:!0,configurable:!0,get:()=>he.value,set:oe=>he.value=oe})}if(l)for(const At in l)V_(l[At],i,n,At);if(f){const At=Ot(f)?f.call(n):f;Reflect.ownKeys(At).forEach(mt=>{Es(mt,At[mt])})}g&&jb(g,t,"c");function St(At,mt){Nt(mt)?mt.forEach(be=>At(be.bind(n))):mt&&At(mt.bind(n))}if(St(PO,m),St(ym,v),St(LO,b),St(MO,I),St(OO,T),St(RO,O),St(UO,B),St(jO,R),St(VO,X),St(wm,V),St(L_,M),St(FO,bt),Nt(A))if(A.length){const At=t.exposed||(t.exposed={});A.forEach(mt=>{Object.defineProperty(At,mt,{get:()=>n[mt],set:be=>n[mt]=be})})}else t.exposed||(t.exposed={});W&&t.render===sr&&(t.render=W),Lt!=null&&(t.inheritAttrs=Lt),Ut&&(t.components=Ut),te&&(t.directives=te)}function KO(t,e,n=sr,i=!1){Nt(t)&&(t=fg(t));for(const o in t){const u=t[o];let a;le(u)?"default"in u?a=Wn(u.from||o,u.default,!0):a=Wn(u.from||o):a=Wn(u),ie(a)&&i?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):e[o]=a}}function jb(t,e,n){ur(Nt(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function V_(t,e,n,i){const o=i.includes(".")?R_(n,i):()=>n[i];if(Ce(t)){const u=e[t];Ot(u)&&He(o,u)}else if(Ot(t))He(o,t.bind(n));else if(le(t))if(Nt(t))t.forEach(u=>V_(u,e,n,i));else{const u=Ot(t.handler)?t.handler.bind(n):e[t.handler];Ot(u)&&He(o,u,t)}}function Im(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:o,optionsCache:u,config:{optionMergeStrategies:a}}=t.appContext,l=u.get(e);let f;return l?f=l:!o.length&&!n&&!i?f=e:(f={},o.length&&o.forEach(d=>Pl(f,d,a,!0)),Pl(f,e,a)),le(e)&&u.set(e,f),f}function Pl(t,e,n,i=!1){const{mixins:o,extends:u}=e;u&&Pl(t,u,n,!0),o&&o.forEach(a=>Pl(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const l=HO[a]||n&&n[a];t[a]=l?l(t[a],e[a]):e[a]}return t}const HO={data:Ub,props:ro,emits:ro,methods:ro,computed:ro,beforeCreate:ln,created:ln,beforeMount:ln,mounted:ln,beforeUpdate:ln,updated:ln,beforeDestroy:ln,beforeUnmount:ln,destroyed:ln,unmounted:ln,activated:ln,deactivated:ln,errorCaptured:ln,serverPrefetch:ln,components:ro,directives:ro,watch:GO,provide:Ub,inject:zO};function Ub(t,e){return e?t?function(){return mn(Ot(t)?t.call(this,this):t,Ot(e)?e.call(this,this):e)}:e:t}function zO(t,e){return ro(fg(t),fg(e))}function fg(t){if(Nt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ln(t,e){return t?[...new Set([].concat(t,e))]:e}function ro(t,e){return t?mn(mn(Object.create(null),t),e):e}function GO(t,e){if(!t)return e;if(!e)return t;const n=mn(Object.create(null),t);for(const i in e)n[i]=ln(t[i],e[i]);return n}function WO(t,e,n,i=!1){const o={},u={};Ol(u,Ef,1),t.propsDefaults=Object.create(null),j_(t,e,o,u);for(const a in t.propsOptions[0])a in o||(o[a]=void 0);n?t.props=i?o:cO(o):t.type.props?t.props=o:t.props=u,t.attrs=u}function QO(t,e,n,i){const{props:o,attrs:u,vnode:{patchFlag:a}}=t,l=Wt(o),[f]=t.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const g=t.vnode.dynamicProps;for(let m=0;m<g.length;m++){let v=g[m];if(yf(t.emitsOptions,v))continue;const b=e[v];if(f)if($t(u,v))b!==u[v]&&(u[v]=b,d=!0);else{const I=xr(v);o[I]=hg(f,l,I,b,t,!1)}else b!==u[v]&&(u[v]=b,d=!0)}}}else{j_(t,e,o,u)&&(d=!0);let g;for(const m in l)(!e||!$t(e,m)&&((g=Ws(m))===m||!$t(e,g)))&&(f?n&&(n[m]!==void 0||n[g]!==void 0)&&(o[m]=hg(f,l,m,void 0,t,!0)):delete o[m]);if(u!==l)for(const m in u)(!e||!$t(e,m))&&(delete u[m],d=!0)}d&&Hr(t,"set","$attrs")}function j_(t,e,n,i){const[o,u]=t.propsOptions;let a=!1,l;if(e)for(let f in e){if(bl(f))continue;const d=e[f];let g;o&&$t(o,g=xr(f))?!u||!u.includes(g)?n[g]=d:(l||(l={}))[g]=d:yf(t.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(u){const f=Wt(n),d=l||ae;for(let g=0;g<u.length;g++){const m=u[g];n[m]=hg(o,f,m,d[m],t,!$t(d,m))}}return a}function hg(t,e,n,i,o,u){const a=t[n];if(a!=null){const l=$t(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&Ot(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(Ss(o),i=d[n]=f.call(null,e),po())}else i=f}a[0]&&(u&&!l?i=!1:a[1]&&(i===""||i===Ws(n))&&(i=!0))}return i}function U_(t,e,n=!1){const i=e.propsCache,o=i.get(t);if(o)return o;const u=t.props,a={},l=[];let f=!1;if(!Ot(t)){const g=m=>{f=!0;const[v,b]=U_(m,e,!0);mn(a,v),b&&l.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!u&&!f)return le(t)&&i.set(t,ys),ys;if(Nt(u))for(let g=0;g<u.length;g++){const m=xr(u[g]);Bb(m)&&(a[m]=ae)}else if(u)for(const g in u){const m=xr(g);if(Bb(m)){const v=u[g],b=a[m]=Nt(v)||Ot(v)?{type:v}:Object.assign({},v);if(b){const I=Kb(Boolean,b.type),T=Kb(String,b.type);b[0]=I>-1,b[1]=T<0||I<T,(I>-1||$t(b,"default"))&&l.push(m)}}}const d=[a,l];return le(t)&&i.set(t,d),d}function Bb(t){return t[0]!=="$"}function qb(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function $b(t,e){return qb(t)===qb(e)}function Kb(t,e){return Nt(e)?e.findIndex(n=>$b(n,t)):Ot(e)&&$b(e,t)?0:-1}const B_=t=>t[0]==="_"||t==="$stable",_m=t=>Nt(t)?t.map(Tr):[Tr(t)],YO=(t,e,n)=>{if(e._n)return e;const i=Yu((...o)=>_m(e(...o)),n);return i._c=!1,i},q_=(t,e,n)=>{const i=t._ctx;for(const o in t){if(B_(o))continue;const u=t[o];if(Ot(u))e[o]=YO(o,u,i);else if(u!=null){const a=_m(u);e[o]=()=>a}}},$_=(t,e)=>{const n=_m(e);t.slots.default=()=>n},XO=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Wt(e),Ol(e,"_",n)):q_(e,t.slots={})}else t.slots={},e&&$_(t,e);Ol(t.slots,Ef,1)},JO=(t,e,n)=>{const{vnode:i,slots:o}=t;let u=!0,a=ae;if(i.shapeFlag&32){const l=e._;l?n&&l===1?u=!1:(mn(o,e),!n&&l===1&&delete o._):(u=!e.$stable,q_(e,o)),a=e}else e&&($_(t,e),a={default:1});if(u)for(const l in o)!B_(l)&&!(l in a)&&delete o[l]};function K_(){return{app:null,config:{isNativeTag:kx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ZO=0;function tR(t,e){return function(i,o=null){Ot(i)||(i=Object.assign({},i)),o!=null&&!le(o)&&(o=null);const u=K_(),a=new Set;let l=!1;const f=u.app={_uid:ZO++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:ER,get config(){return u.config},set config(d){},use(d,...g){return a.has(d)||(d&&Ot(d.install)?(a.add(d),d.install(f,...g)):Ot(d)&&(a.add(d),d(f,...g))),f},mixin(d){return u.mixins.includes(d)||u.mixins.push(d),f},component(d,g){return g?(u.components[d]=g,f):u.components[d]},directive(d,g){return g?(u.directives[d]=g,f):u.directives[d]},mount(d,g,m){if(!l){const v=Ft(i,o);return v.appContext=u,g&&e?e(v,d):t(v,d,m),l=!0,f._container=d,d.__vue_app__=f,Am(v.component)||v.component.proxy}},unmount(){l&&(t(null,f._container),delete f._container.__vue_app__)},provide(d,g){return u.provides[d]=g,f}};return f}}function dg(t,e,n,i,o=!1){if(Nt(t)){t.forEach((v,b)=>dg(v,e&&(Nt(e)?e[b]:e),n,i,o));return}if(El(i)&&!o)return;const u=i.shapeFlag&4?Am(i.component)||i.component.proxy:i.el,a=o?null:u,{i:l,r:f}=t,d=e&&e.r,g=l.refs===ae?l.refs={}:l.refs,m=l.setupState;if(d!=null&&d!==f&&(Ce(d)?(g[d]=null,$t(m,d)&&(m[d]=null)):ie(d)&&(d.value=null)),Ot(f))_i(f,l,12,[a,g]);else{const v=Ce(f),b=ie(f);if(v||b){const I=()=>{if(t.f){const T=v?$t(m,f)?m[f]:g[f]:f.value;o?Nt(T)&&om(T,u):Nt(T)?T.includes(u)||T.push(u):v?(g[f]=[u],$t(m,f)&&(m[f]=g[f])):(f.value=[u],t.k&&(g[t.k]=f.value))}else v?(g[f]=a,$t(m,f)&&(m[f]=a)):b&&(f.value=a,t.k&&(g[t.k]=a))};a?(I.id=-1,En(I,n)):I()}}}const En=kO;function eR(t){return nR(t)}function nR(t,e){const n=Px();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:a,createText:l,createComment:f,setText:d,setElementText:g,parentNode:m,nextSibling:v,setScopeId:b=sr,insertStaticContent:I}=t,T=(E,S,D,j=null,U=null,tt=null,ot=!1,et=null,N=!!S.dynamicChildren)=>{if(E===S)return;E&&!$u(E,S)&&(j=z(E),oe(E,U,tt,!0),E=null),S.patchFlag===-2&&(N=!1,S.dynamicChildren=null);const{type:k,ref:G,shapeFlag:Q}=S;switch(k){case bf:O(E,S,D,j);break;case wo:C(E,S,D,j);break;case Il:E==null&&V(S,D,j,ot);break;case In:Ut(E,S,D,j,U,tt,ot,et,N);break;default:Q&1?W(E,S,D,j,U,tt,ot,et,N):Q&6?te(E,S,D,j,U,tt,ot,et,N):(Q&64||Q&128)&&k.process(E,S,D,j,U,tt,ot,et,N,xt)}G!=null&&U&&dg(G,E&&E.ref,tt,S||E,!S)},O=(E,S,D,j)=>{if(E==null)i(S.el=l(S.children),D,j);else{const U=S.el=E.el;S.children!==E.children&&d(U,S.children)}},C=(E,S,D,j)=>{E==null?i(S.el=f(S.children||""),D,j):S.el=E.el},V=(E,S,D,j)=>{[E.el,E.anchor]=I(E.children,S,D,j,E.el,E.anchor)},x=({el:E,anchor:S},D,j)=>{let U;for(;E&&E!==S;)U=v(E),i(E,D,j),E=U;i(S,D,j)},M=({el:E,anchor:S})=>{let D;for(;E&&E!==S;)D=v(E),o(E),E=D;o(S)},W=(E,S,D,j,U,tt,ot,et,N)=>{ot=ot||S.type==="svg",E==null?R(S,D,j,U,tt,ot,et,N):bt(E,S,U,tt,ot,et,N)},R=(E,S,D,j,U,tt,ot,et)=>{let N,k;const{type:G,props:Q,shapeFlag:rt,transition:it,dirs:at}=E;if(N=E.el=a(E.type,tt,Q&&Q.is,Q),rt&8?g(N,E.children):rt&16&&B(E.children,N,null,j,U,tt&&G!=="foreignObject",ot,et),at&&to(E,null,j,"created"),Q){for(const kt in Q)kt!=="value"&&!bl(kt)&&u(N,kt,null,Q[kt],tt,E.children,j,U,L);"value"in Q&&u(N,"value",null,Q.value),(k=Q.onVnodeBeforeMount)&&Ir(k,j,E)}X(N,E,E.scopeId,ot,j),at&&to(E,null,j,"beforeMount");const st=(!U||U&&!U.pendingBranch)&&it&&!it.persisted;st&&it.beforeEnter(N),i(N,S,D),((k=Q&&Q.onVnodeMounted)||st||at)&&En(()=>{k&&Ir(k,j,E),st&&it.enter(N),at&&to(E,null,j,"mounted")},U)},X=(E,S,D,j,U)=>{if(D&&b(E,D),j)for(let tt=0;tt<j.length;tt++)b(E,j[tt]);if(U){let tt=U.subTree;if(S===tt){const ot=U.vnode;X(E,ot,ot.scopeId,ot.slotScopeIds,U.parent)}}},B=(E,S,D,j,U,tt,ot,et,N=0)=>{for(let k=N;k<E.length;k++){const G=E[k]=et?fi(E[k]):Tr(E[k]);T(null,G,S,D,j,U,tt,ot,et)}},bt=(E,S,D,j,U,tt,ot)=>{const et=S.el=E.el;let{patchFlag:N,dynamicChildren:k,dirs:G}=S;N|=E.patchFlag&16;const Q=E.props||ae,rt=S.props||ae;let it;D&&eo(D,!1),(it=rt.onVnodeBeforeUpdate)&&Ir(it,D,S,E),G&&to(S,E,D,"beforeUpdate"),D&&eo(D,!0);const at=U&&S.type!=="foreignObject";if(k?A(E.dynamicChildren,k,et,D,j,at,tt):ot||mt(E,S,et,null,D,j,at,tt,!1),N>0){if(N&16)Lt(et,S,Q,rt,D,j,U);else if(N&2&&Q.class!==rt.class&&u(et,"class",null,rt.class,U),N&4&&u(et,"style",Q.style,rt.style,U),N&8){const st=S.dynamicProps;for(let kt=0;kt<st.length;kt++){const Rt=st[kt],Ye=Q[Rt],un=rt[Rt];(un!==Ye||Rt==="value")&&u(et,Rt,Ye,un,U,E.children,D,j,L)}}N&1&&E.children!==S.children&&g(et,S.children)}else!ot&&k==null&&Lt(et,S,Q,rt,D,j,U);((it=rt.onVnodeUpdated)||G)&&En(()=>{it&&Ir(it,D,S,E),G&&to(S,E,D,"updated")},j)},A=(E,S,D,j,U,tt,ot)=>{for(let et=0;et<S.length;et++){const N=E[et],k=S[et],G=N.el&&(N.type===In||!$u(N,k)||N.shapeFlag&70)?m(N.el):D;T(N,k,G,null,j,U,tt,ot,!0)}},Lt=(E,S,D,j,U,tt,ot)=>{if(D!==j){if(D!==ae)for(const et in D)!bl(et)&&!(et in j)&&u(E,et,D[et],null,ot,S.children,U,tt,L);for(const et in j){if(bl(et))continue;const N=j[et],k=D[et];N!==k&&et!=="value"&&u(E,et,k,N,ot,S.children,U,tt,L)}"value"in j&&u(E,"value",D.value,j.value)}},Ut=(E,S,D,j,U,tt,ot,et,N)=>{const k=S.el=E?E.el:l(""),G=S.anchor=E?E.anchor:l("");let{patchFlag:Q,dynamicChildren:rt,slotScopeIds:it}=S;it&&(et=et?et.concat(it):it),E==null?(i(k,D,j),i(G,D,j),B(S.children,D,G,U,tt,ot,et,N)):Q>0&&Q&64&&rt&&E.dynamicChildren?(A(E.dynamicChildren,rt,D,U,tt,ot,et),(S.key!=null||U&&S===U.subTree)&&H_(E,S,!0)):mt(E,S,D,G,U,tt,ot,et,N)},te=(E,S,D,j,U,tt,ot,et,N)=>{S.slotScopeIds=et,E==null?S.shapeFlag&512?U.ctx.activate(S,D,j,ot,N):Yt(S,D,j,U,tt,ot,N):jt(E,S,N)},Yt=(E,S,D,j,U,tt,ot)=>{const et=E.component=hR(E,j,U);if(D_(E)&&(et.ctx.renderer=xt),dR(et),et.asyncDep){if(U&&U.registerDep(et,St),!E.el){const N=et.subTree=Ft(wo);C(null,N,S,D)}return}St(et,E,S,D,U,tt,ot)},jt=(E,S,D)=>{const j=S.component=E.component;if(SO(E,S,D))if(j.asyncDep&&!j.asyncResolved){At(j,S,D);return}else j.next=S,wO(j.update),j.update();else S.el=E.el,j.vnode=S},St=(E,S,D,j,U,tt,ot)=>{const et=()=>{if(E.isMounted){let{next:G,bu:Q,u:rt,parent:it,vnode:at}=E,st=G,kt;eo(E,!1),G?(G.el=at.el,At(E,G,ot)):G=at,Q&&Rp(Q),(kt=G.props&&G.props.onVnodeBeforeUpdate)&&Ir(kt,it,G,at),eo(E,!0);const Rt=Dp(E),Ye=E.subTree;E.subTree=Rt,T(Ye,Rt,m(Ye.el),z(Ye),E,U,tt),G.el=Rt.el,st===null&&AO(E,Rt.el),rt&&En(rt,U),(kt=G.props&&G.props.onVnodeUpdated)&&En(()=>Ir(kt,it,G,at),U)}else{let G;const{el:Q,props:rt}=S,{bm:it,m:at,parent:st}=E,kt=El(S);if(eo(E,!1),it&&Rp(it),!kt&&(G=rt&&rt.onVnodeBeforeMount)&&Ir(G,st,S),eo(E,!0),Q&&wt){const Rt=()=>{E.subTree=Dp(E),wt(Q,E.subTree,E,U,null)};kt?S.type.__asyncLoader().then(()=>!E.isUnmounted&&Rt()):Rt()}else{const Rt=E.subTree=Dp(E);T(null,Rt,D,j,E,U,tt),S.el=Rt.el}if(at&&En(at,U),!kt&&(G=rt&&rt.onVnodeMounted)){const Rt=S;En(()=>Ir(G,st,Rt),U)}(S.shapeFlag&256||st&&El(st.vnode)&&st.vnode.shapeFlag&256)&&E.a&&En(E.a,U),E.isMounted=!0,S=D=j=null}},N=E.effect=new cm(et,()=>mm(k),E.scope),k=E.update=()=>N.run();k.id=E.uid,eo(E,!0),k()},At=(E,S,D)=>{S.component=E;const j=E.vnode.props;E.vnode=S,E.next=null,QO(E,S.props,j,D),JO(E,S.children,D),Qs(),Mb(),Ys()},mt=(E,S,D,j,U,tt,ot,et,N=!1)=>{const k=E&&E.children,G=E?E.shapeFlag:0,Q=S.children,{patchFlag:rt,shapeFlag:it}=S;if(rt>0){if(rt&128){fe(k,Q,D,j,U,tt,ot,et,N);return}else if(rt&256){be(k,Q,D,j,U,tt,ot,et,N);return}}it&8?(G&16&&L(k,U,tt),Q!==k&&g(D,Q)):G&16?it&16?fe(k,Q,D,j,U,tt,ot,et,N):L(k,U,tt,!0):(G&8&&g(D,""),it&16&&B(Q,D,j,U,tt,ot,et,N))},be=(E,S,D,j,U,tt,ot,et,N)=>{E=E||ys,S=S||ys;const k=E.length,G=S.length,Q=Math.min(k,G);let rt;for(rt=0;rt<Q;rt++){const it=S[rt]=N?fi(S[rt]):Tr(S[rt]);T(E[rt],it,D,null,U,tt,ot,et,N)}k>G?L(E,U,tt,!0,!1,Q):B(S,D,j,U,tt,ot,et,N,Q)},fe=(E,S,D,j,U,tt,ot,et,N)=>{let k=0;const G=S.length;let Q=E.length-1,rt=G-1;for(;k<=Q&&k<=rt;){const it=E[k],at=S[k]=N?fi(S[k]):Tr(S[k]);if($u(it,at))T(it,at,D,null,U,tt,ot,et,N);else break;k++}for(;k<=Q&&k<=rt;){const it=E[Q],at=S[rt]=N?fi(S[rt]):Tr(S[rt]);if($u(it,at))T(it,at,D,null,U,tt,ot,et,N);else break;Q--,rt--}if(k>Q){if(k<=rt){const it=rt+1,at=it<G?S[it].el:j;for(;k<=rt;)T(null,S[k]=N?fi(S[k]):Tr(S[k]),D,at,U,tt,ot,et,N),k++}}else if(k>rt)for(;k<=Q;)oe(E[k],U,tt,!0),k++;else{const it=k,at=k,st=new Map;for(k=at;k<=rt;k++){const me=S[k]=N?fi(S[k]):Tr(S[k]);me.key!=null&&st.set(me.key,k)}let kt,Rt=0;const Ye=rt-at+1;let un=!1,ge=0;const Yr=new Array(Ye);for(k=0;k<Ye;k++)Yr[k]=0;for(k=it;k<=Q;k++){const me=E[k];if(Rt>=Ye){oe(me,U,tt,!0);continue}let xn;if(me.key!=null)xn=st.get(me.key);else for(kt=at;kt<=rt;kt++)if(Yr[kt-at]===0&&$u(me,S[kt])){xn=kt;break}xn===void 0?oe(me,U,tt,!0):(Yr[xn-at]=k+1,xn>=ge?ge=xn:un=!0,T(me,S[xn],D,null,U,tt,ot,et,N),Rt++)}const dr=un?rR(Yr):ys;for(kt=dr.length-1,k=Ye-1;k>=0;k--){const me=at+k,xn=S[me],Ue=me+1<G?S[me+1].el:j;Yr[k]===0?T(null,xn,D,Ue,U,tt,ot,et,N):un&&(kt<0||k!==dr[kt]?he(xn,D,Ue,2):kt--)}}},he=(E,S,D,j,U=null)=>{const{el:tt,type:ot,transition:et,children:N,shapeFlag:k}=E;if(k&6){he(E.component.subTree,S,D,j);return}if(k&128){E.suspense.move(S,D,j);return}if(k&64){ot.move(E,S,D,xt);return}if(ot===In){i(tt,S,D);for(let Q=0;Q<N.length;Q++)he(N[Q],S,D,j);i(E.anchor,S,D);return}if(ot===Il){x(E,S,D);return}if(j!==2&&k&1&&et)if(j===0)et.beforeEnter(tt),i(tt,S,D),En(()=>et.enter(tt),U);else{const{leave:Q,delayLeave:rt,afterLeave:it}=et,at=()=>i(tt,S,D),st=()=>{Q(tt,()=>{at(),it&&it()})};rt?rt(tt,at,st):st()}else i(tt,S,D)},oe=(E,S,D,j=!1,U=!1)=>{const{type:tt,props:ot,ref:et,children:N,dynamicChildren:k,shapeFlag:G,patchFlag:Q,dirs:rt}=E;if(et!=null&&dg(et,null,D,E,!0),G&256){S.ctx.deactivate(E);return}const it=G&1&&rt,at=!El(E);let st;if(at&&(st=ot&&ot.onVnodeBeforeUnmount)&&Ir(st,S,E),G&6)q(E.component,D,j);else{if(G&128){E.suspense.unmount(D,j);return}it&&to(E,null,S,"beforeUnmount"),G&64?E.type.remove(E,S,D,U,xt,j):k&&(tt!==In||Q>0&&Q&64)?L(k,S,D,!1,!0):(tt===In&&Q&384||!U&&G&16)&&L(N,S,D),j&&sn(E)}(at&&(st=ot&&ot.onVnodeUnmounted)||it)&&En(()=>{st&&Ir(st,S,E),it&&to(E,null,S,"unmounted")},D)},sn=E=>{const{type:S,el:D,anchor:j,transition:U}=E;if(S===In){Qe(D,j);return}if(S===Il){M(E);return}const tt=()=>{o(D),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(E.shapeFlag&1&&U&&!U.persisted){const{leave:ot,delayLeave:et}=U,N=()=>ot(D,tt);et?et(E.el,tt,N):N()}else tt()},Qe=(E,S)=>{let D;for(;E!==S;)D=v(E),o(E),E=D;o(S)},q=(E,S,D)=>{const{bum:j,scope:U,update:tt,subTree:ot,um:et}=E;j&&Rp(j),U.stop(),tt&&(tt.active=!1,oe(ot,E,S,D)),et&&En(et,S),En(()=>{E.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},L=(E,S,D,j=!1,U=!1,tt=0)=>{for(let ot=tt;ot<E.length;ot++)oe(E[ot],S,D,j,U)},z=E=>E.shapeFlag&6?z(E.component.subTree):E.shapeFlag&128?E.suspense.next():v(E.anchor||E.el),J=(E,S,D)=>{E==null?S._vnode&&oe(S._vnode,null,null,!0):T(S._vnode||null,E,S,null,null,null,D),Mb(),k_(),S._vnode=E},xt={p:T,um:oe,m:he,r:sn,mt:Yt,mc:B,pc:mt,pbc:A,n:z,o:t};let qt,wt;return e&&([qt,wt]=e(xt)),{render:J,hydrate:qt,createApp:tR(J,qt)}}function eo({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function H_(t,e,n=!1){const i=t.children,o=e.children;if(Nt(i)&&Nt(o))for(let u=0;u<i.length;u++){const a=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=fi(o[u]),l.el=a.el),n||H_(a,l)),l.type===bf&&(l.el=a.el)}}function rR(t){const e=t.slice(),n=[0];let i,o,u,a,l;const f=t.length;for(i=0;i<f;i++){const d=t[i];if(d!==0){if(o=n[n.length-1],t[o]<d){e[i]=o,n.push(i);continue}for(u=0,a=n.length-1;u<a;)l=u+a>>1,t[n[l]]<d?u=l+1:a=l;d<t[n[u]]&&(u>0&&(e[i]=n[u-1]),n[u]=i)}}for(u=n.length,a=n[u-1];u-- >0;)n[u]=a,a=e[a];return n}const iR=t=>t.__isTeleport,In=Symbol(void 0),bf=Symbol(void 0),wo=Symbol(void 0),Il=Symbol(void 0),Ju=[];let ir=null;function _n(t=!1){Ju.push(ir=t?null:[])}function oR(){Ju.pop(),ir=Ju[Ju.length-1]||null}let pa=1;function Hb(t){pa+=t}function z_(t){return t.dynamicChildren=pa>0?ir||ys:null,oR(),pa>0&&ir&&ir.push(t),t}function or(t,e,n,i,o,u){return z_(yt(t,e,n,i,o,u,!0))}function pg(t,e,n,i,o){return z_(Ft(t,e,n,i,o,!0))}function gg(t){return t?t.__v_isVNode===!0:!1}function $u(t,e){return t.type===e.type&&t.key===e.key}const Ef="__vInternal",G_=({key:t})=>t??null,_l=({ref:t,ref_key:e,ref_for:n})=>t!=null?Ce(t)||ie(t)||Ot(t)?{i:Gn,r:t,k:e,f:!!n}:t:null;function yt(t,e=null,n=null,i=0,o=null,u=t===In?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&G_(e),ref:e&&_l(e),scopeId:O_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Gn};return l?(Tm(f,n),u&128&&t.normalize(f)):n&&(f.shapeFlag|=Ce(n)?8:16),pa>0&&!a&&ir&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&ir.push(f),f}const Ft=sR;function sR(t,e=null,n=null,i=0,o=null,u=!1){if((!t||t===M_)&&(t=wo),gg(t)){const l=Ts(t,e,!0);return n&&Tm(l,n),pa>0&&!u&&ir&&(l.shapeFlag&6?ir[ir.indexOf(t)]=l:ir.push(l)),l.patchFlag|=-2,l}if(yR(t)&&(t=t.__vccOpts),e){e=uR(e);let{class:l,style:f}=e;l&&!Ce(l)&&(e.class=bi(l)),le(f)&&(b_(f)&&!Nt(f)&&(f=mn({},f)),e.style=rm(f))}const a=Ce(t)?1:NO(t)?128:iR(t)?64:le(t)?4:Ot(t)?2:0;return yt(t,e,n,i,o,a,u,!0)}function uR(t){return t?b_(t)||Ef in t?mn({},t):t:null}function Ts(t,e,n=!1){const{props:i,ref:o,patchFlag:u,children:a}=t,l=e?Q_(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&G_(l),ref:e&&e.ref?n&&o?Nt(o)?o.concat(_l(e)):[o,_l(e)]:_l(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==In?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ts(t.ssContent),ssFallback:t.ssFallback&&Ts(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function aR(t=" ",e=0){return Ft(bf,null,t,e)}function cR(t,e){const n=Ft(Il,null,t);return n.staticCount=e,n}function W_(t="",e=!1){return e?(_n(),pg(wo,null,t)):Ft(wo,null,t)}function Tr(t){return t==null||typeof t=="boolean"?Ft(wo):Nt(t)?Ft(In,null,t.slice()):typeof t=="object"?fi(t):Ft(bf,null,String(t))}function fi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ts(t)}function Tm(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Nt(e))n=16;else if(typeof e=="object")if(i&65){const o=e.default;o&&(o._c&&(o._d=!1),Tm(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(Ef in e)?e._ctx=Gn:o===3&&Gn&&(Gn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ot(e)?(e={default:e,_ctx:Gn},n=32):(e=String(e),i&64?(n=16,e=[aR(e)]):n=8);t.children=e,t.shapeFlag|=n}function Q_(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const o in i)if(o==="class")e.class!==i.class&&(e.class=bi([e.class,i.class]));else if(o==="style")e.style=rm([e.style,i.style]);else if(hf(o)){const u=e[o],a=i[o];a&&u!==a&&!(Nt(u)&&u.includes(a))&&(e[o]=u?[].concat(u,a):a)}else o!==""&&(e[o]=i[o])}return e}function Ir(t,e,n,i=null){ur(t,e,7,[n,i])}const lR=K_();let fR=0;function hR(t,e,n){const i=t.type,o=(e?e.appContext:t.appContext)||lR,u={uid:fR++,vnode:t,type:i,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new u_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:U_(i,o),emitsOptions:x_(i,o),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:i.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=e?e.root:u,u.emit=IO.bind(null,u),t.ce&&t.ce(u),u}let Fe=null;const Sm=()=>Fe||Gn,Ss=t=>{Fe=t,t.scope.on()},po=()=>{Fe&&Fe.scope.off(),Fe=null};function Y_(t){return t.vnode.shapeFlag&4}let ga=!1;function dR(t,e=!1){ga=e;const{props:n,children:i}=t.vnode,o=Y_(t);WO(t,n,o,e),XO(t,i);const u=o?pR(t,e):void 0;return ga=!1,u}function pR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=yo(new Proxy(t.ctx,qO));const{setup:i}=n;if(i){const o=t.setupContext=i.length>1?mR(t):null;Ss(t),Qs();const u=_i(i,t,0,[t.props,o]);if(Ys(),po(),r_(u)){if(u.then(po,po),e)return u.then(a=>{zb(t,a,e)}).catch(a=>{vf(a,t,0)});t.asyncDep=u}else zb(t,u,e)}else X_(t,e)}function zb(t,e,n){Ot(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:le(e)&&(t.setupState=T_(e)),X_(t,n)}let Gb;function X_(t,e,n){const i=t.type;if(!t.render){if(!e&&Gb&&!i.render){const o=i.template||Im(t).template;if(o){const{isCustomElement:u,compilerOptions:a}=t.appContext.config,{delimiters:l,compilerOptions:f}=i,d=mn(mn({isCustomElement:u,delimiters:l},a),f);i.render=Gb(o,d)}}t.render=i.render||sr}Ss(t),Qs(),$O(t),Ys(),po()}function gR(t){return new Proxy(t.attrs,{get(e,n){return Bn(t,"get","$attrs"),e[n]}})}function mR(t){const e=i=>{t.exposed=i||{}};let n;return{get attrs(){return n||(n=gR(t))},slots:t.slots,emit:t.emit,expose:e}}function Am(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(T_(yo(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Xu)return Xu[n](t)},has(e,n){return n in e||n in Xu}}))}function vR(t,e=!0){return Ot(t)?t.displayName||t.name:t.name||e&&t.__name}function yR(t){return Ot(t)&&"__vccOpts"in t}const zt=(t,e)=>mO(t,e,ga);function As(t,e,n){const i=arguments.length;return i===2?le(e)&&!Nt(e)?gg(e)?Ft(t,null,[e]):Ft(t,e):Ft(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&gg(n)&&(n=[n]),Ft(t,e,n))}const wR=Symbol(""),bR=()=>Wn(wR),ER="3.2.45",IR="http://www.w3.org/2000/svg",so=typeof document<"u"?document:null,Wb=so&&so.createElement("template"),_R={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const o=e?so.createElementNS(IR,t):so.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:t=>so.createTextNode(t),createComment:t=>so.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>so.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,o,u){const a=n?n.previousSibling:e.lastChild;if(o&&(o===u||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{Wb.innerHTML=i?`<svg>${t}</svg>`:t;const l=Wb.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}e.insertBefore(l,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function TR(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function SR(t,e,n){const i=t.style,o=Ce(n);if(n&&!o){for(const u in n)mg(i,u,n[u]);if(e&&!Ce(e))for(const u in e)n[u]==null&&mg(i,u,"")}else{const u=i.display;o?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=u)}}const Qb=/\s*!important$/;function mg(t,e,n){if(Nt(n))n.forEach(i=>mg(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=AR(t,e);Qb.test(n)?t.setProperty(Ws(i),n.replace(Qb,""),"important"):t[i]=n}}const Yb=["Webkit","Moz","ms"],Lp={};function AR(t,e){const n=Lp[e];if(n)return n;let i=xr(e);if(i!=="filter"&&i in t)return Lp[e]=i;i=gf(i);for(let o=0;o<Yb.length;o++){const u=Yb[o]+i;if(u in t)return Lp[e]=u}return e}const Xb="http://www.w3.org/1999/xlink";function NR(t,e,n,i,o){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Xb,e.slice(6,e.length)):t.setAttributeNS(Xb,e,n);else{const u=Nx(e);n==null||u&&!t_(n)?t.removeAttribute(e):t.setAttribute(e,u?"":n)}}function kR(t,e,n,i,o,u,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,o,u),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const f=n??"";(t.value!==f||t.tagName==="OPTION")&&(t.value=f),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=t_(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function CR(t,e,n,i){t.addEventListener(e,n,i)}function xR(t,e,n,i){t.removeEventListener(e,n,i)}function OR(t,e,n,i,o=null){const u=t._vei||(t._vei={}),a=u[e];if(i&&a)a.value=i;else{const[l,f]=RR(e);if(i){const d=u[e]=LR(i,o);CR(t,l,d,f)}else a&&(xR(t,l,a,f),u[e]=void 0)}}const Jb=/(?:Once|Passive|Capture)$/;function RR(t){let e;if(Jb.test(t)){e={};let i;for(;i=t.match(Jb);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ws(t.slice(2)),e]}let Mp=0;const DR=Promise.resolve(),PR=()=>Mp||(DR.then(()=>Mp=0),Mp=Date.now());function LR(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;ur(MR(i,n.value),e,5,[i])};return n.value=t,n.attached=PR(),n}function MR(t,e){if(Nt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>o=>!o._stopped&&i&&i(o))}else return e}const Zb=/^on[a-z]/,FR=(t,e,n,i,o=!1,u,a,l,f)=>{e==="class"?TR(t,i,o):e==="style"?SR(t,n,i):hf(e)?im(e)||OR(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):VR(t,e,i,o))?kR(t,e,i,u,a,l,f):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),NR(t,e,i,o))};function VR(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&Zb.test(e)&&Ot(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Zb.test(e)&&Ce(n)?!1:e in t}const jR=["ctrl","shift","alt","meta"],UR={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>jR.some(n=>t[`${n}Key`]&&!e.includes(n))},Ll=(t,e)=>(n,...i)=>{for(let o=0;o<e.length;o++){const u=UR[e[o]];if(u&&u(n,e))return}return t(n,...i)},BR=mn({patchProp:FR},_R);let tE;function qR(){return tE||(tE=eR(BR))}const $R=(...t)=>{const e=qR().createApp(...t),{mount:n}=e;return e.mount=i=>{const o=KR(i);if(!o)return;const u=e._component;!Ot(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function KR(t){return Ce(t)?document.querySelector(t):t}var HR=!1;/*!
  * pinia v2.0.30
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let J_;const If=t=>J_=t,Z_=Symbol();function vg(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Zu;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Zu||(Zu={}));function zR(){const t=a_(!0),e=t.run(()=>Sn({}));let n=[],i=[];const o=yo({install(u){If(o),o._a=u,u.provide(Z_,o),u.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(u){return!this._a&&!HR?i.push(u):n.push(u),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return o}const tT=()=>{};function eE(t,e,n,i=tT){t.push(e);const o=()=>{const u=t.indexOf(e);u>-1&&(t.splice(u,1),i())};return!n&&Mx()&&Fx(o),o}function ss(t,...e){t.slice().forEach(n=>{n(...e)})}function yg(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],o=t[n];vg(o)&&vg(i)&&t.hasOwnProperty(n)&&!ie(i)&&!Ii(i)?t[n]=yg(o,i):t[n]=i}return t}const GR=Symbol();function WR(t){return!vg(t)||!t.hasOwnProperty(GR)}const{assign:hi}=Object;function QR(t){return!!(ie(t)&&t.effect)}function YR(t,e,n,i){const{state:o,actions:u,getters:a}=e,l=n.state.value[t];let f;function d(){l||(n.state.value[t]=o?o():{});const g=dO(n.state.value[t]);return hi(g,u,Object.keys(a||{}).reduce((m,v)=>(m[v]=yo(zt(()=>{If(n);const b=n._s.get(t);return a[v].call(b,b)})),m),{}))}return f=eT(t,d,e,n,i,!0),f.$reset=function(){const m=o?o():{};this.$patch(v=>{hi(v,m)})},f}function eT(t,e,n={},i,o,u){let a;const l=hi({actions:{}},n),f={deep:!0};let d,g,m=yo([]),v=yo([]),b;const I=i.state.value[t];!u&&!I&&(i.state.value[t]={}),Sn({});let T;function O(X){let B;d=g=!1,typeof X=="function"?(X(i.state.value[t]),B={type:Zu.patchFunction,storeId:t,events:b}):(yg(i.state.value[t],X),B={type:Zu.patchObject,payload:X,storeId:t,events:b});const bt=T=Symbol();wi().then(()=>{T===bt&&(d=!0)}),g=!0,ss(m,B,i.state.value[t])}const C=tT;function V(){a.stop(),m=[],v=[],i._s.delete(t)}function x(X,B){return function(){If(i);const bt=Array.from(arguments),A=[],Lt=[];function Ut(jt){A.push(jt)}function te(jt){Lt.push(jt)}ss(v,{args:bt,name:X,store:W,after:Ut,onError:te});let Yt;try{Yt=B.apply(this&&this.$id===t?this:W,bt)}catch(jt){throw ss(Lt,jt),jt}return Yt instanceof Promise?Yt.then(jt=>(ss(A,jt),jt)).catch(jt=>(ss(Lt,jt),Promise.reject(jt))):(ss(A,Yt),Yt)}}const M={_p:i,$id:t,$onAction:eE.bind(null,v),$patch:O,$reset:C,$subscribe(X,B={}){const bt=eE(m,X,B.detached,()=>A()),A=a.run(()=>He(()=>i.state.value[t],Lt=>{(B.flush==="sync"?g:d)&&X({storeId:t,type:Zu.direct,events:b},Lt)},hi({},f,B)));return bt},$dispose:V},W=Gr(M);i._s.set(t,W);const R=i._e.run(()=>(a=a_(),a.run(()=>e())));for(const X in R){const B=R[X];if(ie(B)&&!QR(B)||Ii(B))u||(I&&WR(B)&&(ie(B)?B.value=I[X]:yg(B,I[X])),i.state.value[t][X]=B);else if(typeof B=="function"){const bt=x(X,B);R[X]=bt,l.actions[X]=B}}return hi(W,R),hi(Wt(W),R),Object.defineProperty(W,"$state",{get:()=>i.state.value[t],set:X=>{O(B=>{hi(B,X)})}}),i._p.forEach(X=>{hi(W,a.run(()=>X({store:W,app:i._a,pinia:i,options:l})))}),I&&u&&n.hydrate&&n.hydrate(W.$state,I),d=!0,g=!0,W}function nT(t,e,n){let i,o;const u=typeof e=="function";typeof t=="string"?(i=t,o=u?n:e):(o=t,i=t.id);function a(l,f){const d=Sm();return l=l||d&&Wn(Z_,null),l&&If(l),l=J_,l._s.has(i)||(u?eT(i,e,o,l):YR(i,o,l)),l._s.get(i)}return a.$id=i,a}let XR="Store";function JR(...t){return t.reduce((e,n)=>(e[n.$id+XR]=function(){return n(this.$pinia)},e),{})}function ZR(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]=function(){return t(this.$pinia)[i]},n),{}):Object.keys(e).reduce((n,i)=>(n[i]=function(){const o=t(this.$pinia),u=e[i];return typeof u=="function"?u.call(this,o):o[u]},n),{})}function rT(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]=function(...o){return t(this.$pinia)[i](...o)},n),{}):Object.keys(e).reduce((n,i)=>(n[i]=function(...o){return t(this.$pinia)[e[i]](...o)},n),{})}function iT(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]={get(){return t(this.$pinia)[i]},set(o){return t(this.$pinia)[i]=o}},n),{}):Object.keys(e).reduce((n,i)=>(n[i]={get(){return t(this.$pinia)[e[i]]},set(o){return t(this.$pinia)[e[i]]=o}},n),{})}const wg=nT("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(t){return t.isOpen?"":"hidden"}}});var bg=function(t,e){return bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},bg(t,e)};function vt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");bg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ma=function(){return ma=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},ma.apply(this,arguments)};function H(t,e,n,i){function o(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function l(g){try{d(i.next(g))}catch(m){a(m)}}function f(g){try{d(i.throw(g))}catch(m){a(m)}}function d(g){g.done?u(g.value):o(g.value).then(l,f)}d((i=i.apply(t,e||[])).next())})}function $(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(g){return f([d,g])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(g){d=[6,g],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Fp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cl(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),o,u=[],a;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return u}function we(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,u;i<o;i++)(u||!(i in e))&&(u||(u=Array.prototype.slice.call(e,0,i)),u[i]=e[i]);return t.concat(u||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oT=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},tD=function(t){for(var e=[],n=0,i=0;n<t.length;){var o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=t[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=t[n++],a=t[n++],l=t[n++],f=((o&7)<<18|(u&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{var u=t[n++],a=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|a&63)}}return e.join("")},eD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<t.length;o+=3){var u=t[o],a=o+1<t.length,l=a?t[o+1]:0,f=o+2<t.length,d=f?t[o+2]:0,g=u>>2,m=(u&3)<<4|l>>4,v=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(v=64)),i.push(n[g],n[m],n[v],n[b])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oT(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<t.length;){var u=n[t.charAt(o++)],a=o<t.length,l=a?n[t.charAt(o)]:0;++o;var f=o<t.length,d=f?n[t.charAt(o)]:64;++o;var g=o<t.length,m=g?n[t.charAt(o)]:64;if(++o,u==null||l==null||d==null||m==null)throw Error();var v=u<<2|l>>4;if(i.push(v),d!==64){var b=l<<4&240|d>>2;if(i.push(b),m!==64){var I=d<<6&192|m;i.push(I)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},nD=function(t){var e=oT(t);return eD.encodeByteArray(e,!0)},nE=function(t){return nD(t).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){return va(void 0,t)}function va(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)!e.hasOwnProperty(i)||!iD(i)||(t[i]=va(t[i],e[i]));return t}function iD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oD=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){e.resolve=n,e.reject=i})}return t.prototype.wrapCallback=function(e){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(i):e(i,o))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=ma({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[nE(JSON.stringify(n)),nE(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bo())}function sT(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aD(){return typeof self=="object"&&self.self===self}function cD(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fD(){return bo().indexOf("Electron/")>=0}function hD(){var t=bo();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dD(){return bo().indexOf("MSAppHost/")>=0}function pD(){return!sT()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gD="FirebaseError",mD=function(t){vt(e,t);function e(n,i,o){var u=t.call(this,i)||this;return u.code=n,u.customData=o,u.name=gD,Object.setPrototypeOf(u,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,Nm.prototype.create),u}return e}(Error),Nm=function(){function t(e,n,i){this.service=e,this.serviceName=n,this.errors=i}return t.prototype.create=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+e,a=this.errors[e],l=a?vD(a,o):"Error",f=this.serviceName+": "+l+" ("+u+").",d=new mD(u,f,o);return d},t}();function vD(t,e){return t.replace(yD,function(n,i){var o=e[i];return o!=null?String(o):"<"+i+"?>"})}var yD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function wD(t,e){var n=new bD(t,e);return n.subscribe.bind(n)}var bD=function(){function t(e,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(i)}).catch(function(o){i.error(o)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,i){var o=this,u;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");ED(e,["next","error","complete"])?u=e:u={next:e,error:n,complete:i},u.next===void 0&&(u.next=Vp),u.error===void 0&&(u.error=Vp),u.complete===void 0&&(u.complete=Vp);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[e]!==void 0)try{n(i.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function ED(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o in t&&typeof t[o]=="function")return!0}return!1}function Vp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t){return t&&t._delegate?t._delegate:t}var _f=function(){function t(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ID=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var i=new oD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,i;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(TD(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}try{for(var o=Fp(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var a=cl(u.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var g=this.getOrInitializeService({instanceIdentifier:d});f.resolve(g)}catch{}}}catch(m){n={error:m}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=io),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return H(this,void 0,void 0,function(){var e;return $(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(we(we([],cl(e.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),cl(e.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=io),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=io),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,i;e===void 0&&(e={});var o=e.options,u=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var f=Fp(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var g=cl(d.value,2),m=g[0],v=g[1],b=this.normalizeInstanceIdentifier(m);a===b&&v.resolve(l)}}catch(I){n={error:I}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},t.prototype.onInit=function(e,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);var a=this.instances.get(o);return a&&e(a,o),function(){u.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var i,o,u=this.onInitCallbacks.get(n);if(u)try{for(var a=Fp(u),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(e,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,i=e.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:_D(n),options:o}),this.instances.set(n,u),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=io),this.component?this.component.multipleInstances?e:io:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function _D(t){return t===io?void 0:t}function TD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SD=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new ID(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function nr(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var u=arguments[e],a=0,l=u.length;a<l;a++,o++)i[o]=u[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var no,km=[],Ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ht||(Ht={}));var uT={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},AD=Ht.INFO,ND=(no={},no[Ht.DEBUG]="log",no[Ht.VERBOSE]="log",no[Ht.INFO]="info",no[Ht.WARN]="warn",no[Ht.ERROR]="error",no),kD=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=new Date().toISOString(),u=ND[e];if(u)console[u].apply(console,nr(["["+o+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},aT=function(){function t(e){this.name=e,this._logLevel=AD,this._logHandler=kD,this._userLogHandler=null,km.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Ht))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?uT[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,nr([this,Ht.DEBUG],e)),this._logHandler.apply(this,nr([this,Ht.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,nr([this,Ht.VERBOSE],e)),this._logHandler.apply(this,nr([this,Ht.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,nr([this,Ht.INFO],e)),this._logHandler.apply(this,nr([this,Ht.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,nr([this,Ht.WARN],e)),this._logHandler.apply(this,nr([this,Ht.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,nr([this,Ht.ERROR],e)),this._logHandler.apply(this,nr([this,Ht.ERROR],e))},t}();function CD(t){km.forEach(function(e){e.setLogLevel(t)})}function xD(t,e){for(var n=function(a){var l=null;e&&e.level&&(l=uT[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var g=[],m=2;m<arguments.length;m++)g[m-2]=arguments[m];var v=g.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&t({level:Ht[d].toLowerCase(),message:v,args:g,type:f.name})}},i=0,o=km;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si,OD=(si={},si["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",si["bad-app-name"]="Illegal App name: '{$appName}",si["duplicate-app"]="Firebase App named '{$appName}' already exists",si["app-deleted"]="Firebase App named '{$appName}' already deleted",si["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",si["invalid-log-argument"]="First argument to `onLog` must be null or a function.",si),fs=new Nm("app","Firebase",OD),cT="@firebase/app",RD="0.6.30",DD="@firebase/analytics",PD="@firebase/app-check",LD="@firebase/auth",MD="@firebase/database",FD="@firebase/functions",VD="@firebase/installations",jD="@firebase/messaging",UD="@firebase/performance",BD="@firebase/remote-config",qD="@firebase/storage",$D="@firebase/firestore",KD="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,Ml="[DEFAULT]",HD=(Xe={},Xe[cT]="fire-core",Xe[DD]="fire-analytics",Xe[PD]="fire-app-check",Xe[LD]="fire-auth",Xe[MD]="fire-rtdb",Xe[FD]="fire-fn",Xe[VD]="fire-iid",Xe[jD]="fire-fcm",Xe[UD]="fire-perf",Xe[BD]="fire-rc",Xe[qD]="fire-gcs",Xe[$D]="fire-fst",Xe["fire-js"]="fire-js",Xe[KD]="fire-js-all",Xe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ns=new aT("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tl=function(){function t(e,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=rD(e),this.container=new SD(n.name),this._addComponent(new _f("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var i;n===void 0&&(n=Ml),this.checkDestroyed_();var o=this.container.getProvider(e);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=Ml),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Ns.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw fs.create("app-deleted",{appName:this.name_})},t}();Tl.prototype.name&&Tl.prototype.options||Tl.prototype.delete||console.log("dc");var zD="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){var e={},n=new Map,i={__esModule:!0,initializeApp:a,app:u,registerVersion:d,setLogLevel:CD,onLog:g,apps:null,SDK_VERSION:zD,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:m}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(v){delete e[v]}function u(v){if(v=v||Ml,!rE(e,v))throw fs.create("no-app",{appName:v});return e[v]}u.App=t;function a(v,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var I=b;b={name:I}}var T=b;T.name===void 0&&(T.name=Ml);var O=T.name;if(typeof O!="string"||!O)throw fs.create("bad-app-name",{appName:String(O)});if(rE(e,O))throw fs.create("duplicate-app",{appName:O});var C=new t(v,T,i);return e[O]=C,C}function l(){return Object.keys(e).map(function(v){return e[v]})}function f(v){var b=v.name;if(n.has(b))return Ns.debug("There were multiple attempts to register component "+b+"."),v.type==="PUBLIC"?i[b]:null;if(n.set(b,v),v.type==="PUBLIC"){var I=function(V){if(V===void 0&&(V=u()),typeof V[b]!="function")throw fs.create("invalid-app-argument",{appName:b});return V[b]()};v.serviceProps!==void 0&&va(I,v.serviceProps),i[b]=I,t.prototype[b]=function(){for(var V=[],x=0;x<arguments.length;x++)V[x]=arguments[x];var M=this._getService.bind(this,b);return M.apply(this,v.multipleInstances?V:[])}}for(var T=0,O=Object.keys(e);T<O.length;T++){var C=O[T];e[C]._addComponent(v)}return v.type==="PUBLIC"?i[b]:null}function d(v,b,I){var T,O=(T=HD[v])!==null&&T!==void 0?T:v;I&&(O+="-"+I);var C=O.match(/\s|\//),V=b.match(/\s|\//);if(C||V){var x=['Unable to register library "'+O+'" with version "'+b+'":'];C&&x.push('library name "'+O+'" contains illegal characters (whitespace or "/")'),C&&V&&x.push("and"),V&&x.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),Ns.warn(x.join(" "));return}f(new _f(O+"-version",function(){return{library:O,version:b}},"VERSION"))}function g(v,b){if(v!==null&&typeof v!="function")throw fs.create("invalid-log-argument");xD(v,b)}function m(v,b){if(b==="serverAuth")return null;var I=b;return I}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){var t=GD(Tl);t.INTERNAL=ma(ma({},t.INTERNAL),{createFirebaseNamespace:lT,extendNamespace:e,createSubscribe:wD,ErrorFactory:Nm,deepExtend:va});function e(n){va(t,n)}return t}var Cm=lT();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WD=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(QD(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},t}();function QD(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t,e){t.INTERNAL.registerComponent(new _f("platform-logger",function(n){return new WD(n)},"PRIVATE")),t.registerVersion(cT,RD,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(aD()&&self.firebase!==void 0){Ns.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var iE=self.firebase.SDK_VERSION;iE&&iE.indexOf("LITE")>=0&&Ns.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var XD=Cm.initializeApp;Cm.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return sT()&&Ns.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),XD.apply(void 0,t)};var It=Cm;YD(It);var JD="firebase",fT="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */It.registerVersion(JD,fT,"app");It.SDK_VERSION=fT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var p=r[h];p in c||(c[p]={}),c=c[p]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&e(c,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function a(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(w){this.b=0,this.c=void 0,this.a=[];var _=this.f();try{w(_.resolve,_.reject)}catch(F){_.reject(F)}}function c(){this.a=null}function h(w){return w instanceof s?w:new s(function(_){_(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var _=this;this.c(function(){_.g()})}this.a.push(w)};var p=i.setTimeout;c.prototype.c=function(w){p(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var _=0;_<w.length;++_){var F=w[_];w[_]=null;try{F()}catch(K){this.f(K)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},s.prototype.f=function(){function w(K){return function(_t){F||(F=!0,K.call(_,_t))}}var _=this,F=!1;return{resolve:w(this.m),reject:w(this.g)}},s.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof s)this.s(w);else{t:switch(typeof w){case"object":var _=w!=null;break t;case"function":_=!0;break t;default:_=!1}_?this.v(w):this.h(w)}},s.prototype.v=function(w){var _=void 0;try{_=w.then}catch(F){this.g(F);return}typeof _=="function"?this.u(_,w):this.h(w)},s.prototype.g=function(w){this.i(2,w)},s.prototype.h=function(w){this.i(1,w)},s.prototype.i=function(w,_){if(this.b!=0)throw Error("Cannot settle("+w+", "+_+"): Promise already settled in state"+this.b);this.b=w,this.c=_,this.l()},s.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)y.b(this.a[w]);this.a=null}};var y=new c;return s.prototype.s=function(w){var _=this.f();w.Ra(_.resolve,_.reject)},s.prototype.u=function(w,_){var F=this.f();try{w.call(_,F.resolve,F.reject)}catch(K){F.reject(K)}},s.prototype.then=function(w,_){function F(Kt,Le){return typeof Kt=="function"?function(Fr){try{K(Kt(Fr))}catch(xp){_t(xp)}}:Le}var K,_t,Xt=new s(function(Kt,Le){K=Kt,_t=Le});return this.Ra(F(w,K),F(_,_t)),Xt},s.prototype.catch=function(w){return this.then(void 0,w)},s.prototype.Ra=function(w,_){function F(){switch(K.b){case 1:w(K.c);break;case 2:_(K.c);break;default:throw Error("Unexpected state: "+K.b)}}var K=this;this.a==null?y.b(F):this.a.push(F)},s.resolve=h,s.reject=function(w){return new s(function(_,F){F(w)})},s.race=function(w){return new s(function(_,F){for(var K=a(w),_t=K.next();!_t.done;_t=K.next())h(_t.value).Ra(_,F)})},s.all=function(w){var _=a(w),F=_.next();return F.done?h([]):new s(function(K,_t){function Xt(Fr){return function(xp){Kt[Fr]=xp,Le--,Le==0&&K(Kt)}}var Kt=[],Le=0;do Kt.push(void 0),Le++,h(F.value).Ra(Xt(Kt.length-1),_t),F=_.next();while(!F.done)})},s});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,g=null;function m(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function v(){}function b(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function I(r){var s=b(r);return s=="array"||s=="object"&&typeof r.length=="number"}function T(r){return b(r)=="function"}function O(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function C(r){return Object.prototype.hasOwnProperty.call(r,V)&&r[V]||(r[V]=++x)}var V="closure_uid_"+(1e9*Math.random()>>>0),x=0;function M(r,s,c){return r.call.apply(r.bind,arguments)}function W(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,h),r.apply(s,p)}}return function(){return r.apply(s,arguments)}}function R(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R=M:R=W,R.apply(null,arguments)}function X(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function B(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function bt(r){return r}function A(r,s,c){this.code=Ut+r,this.message=s||te[r]||"",this.a=c||null}B(A,Error),A.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},A.prototype.toJSON=function(){return this.w()};function Lt(r){var s=r&&r.code;return s?new A(s.substring(Ut.length),r.message,r.serverResponse):null}var Ut="auth/",te={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Yt={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function jt(r){for(var s in Yt)if(Yt[s].id===r)return r=Yt[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var St;St=jt("__EID__")?"__EID__":void 0;function At(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function mt(r){if(Error.captureStackTrace)Error.captureStackTrace(this,mt);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}B(mt,Error),mt.prototype.name="CustomError";function be(r,s){r=r.split("%s");for(var c="",h=r.length-1,p=0;p<h;p++)c+=r[p]+(p<s.length?s[p]:"%s");mt.call(this,c+r[h])}B(be,mt),be.prototype.name="AssertionError";function fe(r,s){throw new be("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function he(r,s){this.c=r,this.f=s,this.b=0,this.a=null}he.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function oe(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function sn(){this.b=this.a=null}var Qe=new he(function(){return new L},function(r){r.reset()});sn.prototype.add=function(r,s){var c=Qe.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function q(){var r=dy,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function L(){this.next=this.b=this.a=null}L.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},L.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},J=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var h=r.length,p=typeof r=="string"?r.split(""):r,y=0;y<h;y++)y in p&&s.call(c,p[y],y,r)};function xt(r,s){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&s.call(void 0,c[h],h,r)}var qt=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=[],p=0,y=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in y){var _=y[w];s.call(void 0,_,w,r)&&(h[p++]=_)}return h},wt=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=Array(c),p=typeof r=="string"?r.split(""):r,y=0;y<c;y++)y in p&&(h[y]=s.call(void 0,p[y],y,r));return h},E=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<c;p++)if(p in h&&s.call(void 0,h[p],p,r))return!0;return!1};function S(r){t:{for(var s=ek,c=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<c;p++)if(p in h&&s.call(void 0,h[p],p,r)){s=p;break t}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function D(r,s){return 0<=z(r,s)}function j(r,s){s=z(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function U(r,s){var c=0;xt(r,function(h,p){s.call(void 0,h,p,r)&&Array.prototype.splice.call(r,p,1).length==1&&c++})}function tt(r){return Array.prototype.concat.apply([],arguments)}function ot(r){var s=r.length;if(0<s){for(var c=Array(s),h=0;h<s;h++)c[h]=r[h];return c}return[]}var et=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},N=/&/g,k=/</g,G=/>/g,Q=/"/g,rt=/'/g,it=/\x00/g,at=/[\x00&<>"']/;function st(r,s){return r.indexOf(s)!=-1}function kt(r,s){return r<s?-1:r>s?1:0}var Rt;t:{var Ye=f.navigator;if(Ye){var un=Ye.userAgent;if(un){Rt=un;break t}}Rt=""}function ge(r){return st(Rt,r)}function Yr(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function dr(r){for(var s in r)return!1;return!0}function me(r){var s={},c;for(c in r)s[c]=r[c];return s}var xn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ue(r,s){for(var c,h,p=1;p<arguments.length;p++){h=arguments[p];for(c in h)r[c]=h[c];for(var y=0;y<xn.length;y++)c=xn[y],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function Gv(r,s){t:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var p=h;break t}}catch{}p=null}if(p&&typeof p[s]<"u"&&(!r||!(r instanceof p[s])&&(r instanceof p.Location||r instanceof p.Element))){if(O(r))try{var y=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{y="<object could not be stringified>"}else y=r===void 0?"undefined":r===null?"null":typeof r;fe("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,y)}}function pr(r,s){this.a=r===nc&&s||"",this.b=Wv}pr.prototype.ta=!0,pr.prototype.sa=function(){return this.a},pr.prototype.toString=function(){return"Const{"+this.a+"}"};function rh(r){return r instanceof pr&&r.constructor===pr&&r.b===Wv?r.a:(fe("expected object of type Const, got '"+r+"'"),"type_error:Const")}var Wv={},nc={},rc;function Qv(){if(rc===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:bt,createScript:bt,createScriptURL:bt})}catch(c){f.console&&f.console.error(c.message)}rc=r}else rc=r}return rc}function Fo(r,s){this.a=s===Xv?r:""}Fo.prototype.ta=!0,Fo.prototype.sa=function(){return this.a.toString()},Fo.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Yv(r){return r instanceof Fo&&r.constructor===Fo?r.a:(fe("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function ih(r,s){var c=rh(r);if(!OA.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(xA,function(h,p){if(!Object.prototype.hasOwnProperty.call(s,p))throw Error('Found marker, "'+p+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[p],h instanceof pr?rh(h):encodeURIComponent(String(h))}),RA(r)}var xA=/%{(\w+)}/g,OA=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Xv={};function RA(r){var s=Qv();return r=s?s.createScriptURL(r):r,new Fo(r,Xv)}function vn(r,s){this.a=s===uu?r:""}vn.prototype.ta=!0,vn.prototype.sa=function(){return this.a.toString()},vn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function ic(r){return r instanceof vn&&r.constructor===vn?r.a:(fe("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var DA=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,PA=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Jv=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Zv(r){if(r instanceof vn)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),Jv.test(r))r=new vn(r,uu);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(PA);r=s&&DA.test(s[1])?new vn(r,uu):null}return r}function ty(r){return r instanceof vn?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),Jv.test(r)||(r="about:invalid#zClosurez"),new vn(r,uu))}var uu={},ey=new vn("about:invalid#zClosurez",uu);function Vo(r,s,c){this.a=c===ny?r:""}Vo.prototype.ta=!0,Vo.prototype.sa=function(){return this.a.toString()},Vo.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function LA(r){return r instanceof Vo&&r.constructor===Vo?r.a:(fe("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var ny={};function MA(r,s){Gv(r,"HTMLScriptElement"),r.src=Yv(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=m(s.document):(g===null&&(g=m(f.document)),s=g),s&&r.setAttribute("nonce",s)}function ry(r,s,c,h){return r=r instanceof vn?r:ty(r),s=s||f,c=c instanceof pr?rh(c):c||"",s.open(ic(r),c,h,void 0)}function iy(r,s){for(var c=r.split("%s"),h="",p=Array.prototype.slice.call(arguments,1);p.length&&1<c.length;)h+=c.shift()+p.shift();return h+c.join("%s")}function oh(r){return at.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(N,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(k,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(G,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(Q,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(rt,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(it,"&#0;"))),r}function sh(r){return sh[" "](r),r}sh[" "]=v;function FA(r,s){var c=BA;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var VA=ge("Opera"),Qn=ge("Trident")||ge("MSIE"),oy=ge("Edge"),jA=oy||Qn,sy=ge("Gecko")&&!(st(Rt.toLowerCase(),"webkit")&&!ge("Edge"))&&!(ge("Trident")||ge("MSIE"))&&!ge("Edge"),UA=st(Rt.toLowerCase(),"webkit")&&!ge("Edge");function uy(){var r=f.document;return r?r.documentMode:void 0}var oc;t:{var uh="",ah=function(){var r=Rt;if(sy)return/rv:([^\);]+)(\)|;)/.exec(r);if(oy)return/Edge\/([\d\.]+)/.exec(r);if(Qn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(UA)return/WebKit\/(\S+)/.exec(r);if(VA)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(ah&&(uh=ah?ah[1]:""),Qn){var ch=uy();if(ch!=null&&ch>parseFloat(uh)){oc=String(ch);break t}}oc=uh}var BA={};function ay(r){return FA(r,function(){for(var s=0,c=et(String(oc)).split("."),h=et(String(r)).split("."),p=Math.max(c.length,h.length),y=0;s==0&&y<p;y++){var w=c[y]||"",_=h[y]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],w[0].length==0&&_[0].length==0)break;s=kt(w[1].length==0?0:parseInt(w[1],10),_[1].length==0?0:parseInt(_[1],10))||kt(w[2].length==0,_[2].length==0)||kt(w[2],_[2]),w=w[3],_=_[3]}while(s==0)}return 0<=s})}var lh;if(f.document&&Qn){var cy=uy();lh=cy||parseInt(oc,10)||void 0}else lh=void 0;var Xr=lh;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var qA=!Qn||9<=Number(Xr);function au(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function ly(r,s){Yr(s,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:fy.hasOwnProperty(h)?r.setAttribute(fy[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var fy={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function $A(r,s,c){var h=arguments,p=document,y=String(h[0]),w=h[1];if(!qA&&w&&(w.name||w.type)){if(y=["<",y],w.name&&y.push(' name="',oh(w.name),'"'),w.type){y.push(' type="',oh(w.type),'"');var _={};Ue(_,w),delete _.type,w=_}y.push(">"),y=y.join("")}return y=sc(p,y),w&&(typeof w=="string"?y.className=w:Array.isArray(w)?y.className=w.join(" "):ly(y,w)),2<h.length&&KA(p,y,h),y}function KA(r,s,c){function h(_){_&&s.appendChild(typeof _=="string"?r.createTextNode(_):_)}for(var p=2;p<c.length;p++){var y=c[p];if(!I(y)||O(y)&&0<y.nodeType)h(y);else{t:{if(y&&typeof y.length=="number"){if(O(y)){var w=typeof y.item=="function"||typeof y.item=="string";break t}if(T(y)){w=typeof y.item=="function";break t}}w=!1}J(w?ot(y):y,h)}}}function sc(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function hy(r){f.setTimeout(function(){throw r},0)}var fh;function HA(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ge("Presto")&&(r=function(){var p=sc(document,"IFRAME");p.style.display="none",document.documentElement.appendChild(p);var y=p.contentWindow;p=y.document,p.open(),p.close();var w="callImmediate"+Math.random(),_=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;p=R(function(F){(_=="*"||F.origin==_)&&F.data==w&&this.port1.onmessage()},this),y.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(w,_)}}}),typeof r<"u"&&!ge("Trident")&&!ge("MSIE")){var s=new r,c={},h=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var p=c.Hb;c.Hb=null,p()}},function(p){h.next={Hb:p},h=h.next,s.port2.postMessage(0)}}return function(p){f.setTimeout(p,0)}}function uc(r,s){ac||zA(),hh||(ac(),hh=!0),dy.add(r,s)}var ac;function zA(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);ac=function(){r.then(py)}}else ac=function(){var s=py;!T(f.setImmediate)||f.Window&&f.Window.prototype&&!ge("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(fh||(fh=HA()),fh(s)):f.setImmediate(s)}}var hh=!1,dy=new sn;function py(){for(var r;r=q();){try{r.a.call(r.b)}catch(s){hy(s)}oe(Qe,r)}hh=!1}function Pt(r,s){if(this.a=Li,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=v)try{var c=this;r.call(s,function(h){Mi(c,cu,h)},function(h){if(!(h instanceof jo))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Mi(c,Dr,h)})}catch(h){Mi(this,Dr,h)}}var Li=0,cu=2,Dr=3;function gy(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}gy.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var my=new he(function(){return new gy},function(r){r.reset()});function dh(r,s,c){var h=my.get();return h.g=r,h.b=s,h.f=c,h}function gt(r){if(r instanceof Pt)return r;var s=new Pt(v);return Mi(s,cu,r),s}function se(r){return new Pt(function(s,c){c(r)})}function vy(r,s,c){Ey(r,s,c,null)||uc(X(s,r))}function GA(r){return new Pt(function(s,c){var h=r.length,p=[];if(h)for(var y=function(K,_t){h--,p[K]=_t,h==0&&s(p)},w=function(K){c(K)},_=0,F;_<r.length;_++)F=r[_],vy(F,X(y,_),w);else s(p)})}function yy(r){return new Pt(function(s){var c=r.length,h=[];if(c)for(var p=function(_,F,K){c--,h[_]=F?{Qb:!0,value:K}:{Qb:!1,reason:K},c==0&&s(h)},y=0,w;y<r.length;y++)w=r[y],vy(w,X(p,y,!0),X(p,y,!1));else s(h)})}Pt.prototype.then=function(r,s,c){return by(this,T(r)?r:null,T(s)?s:null,c)},Pt.prototype.$goog_Thenable=!0,t=Pt.prototype,t.oa=function(r,s){return r=dh(r,r,s),r.c=!0,ph(this,r),this},t.o=function(r,s){return by(this,null,r,s)},t.cancel=function(r){if(this.a==Li){var s=new jo(r);uc(function(){wy(this,s)},this)}};function wy(r,s){if(r.a==Li)if(r.c){var c=r.c;if(c.b){for(var h=0,p=null,y=null,w=c.b;w&&(w.c||(h++,w.a==r&&(p=w),!(p&&1<h)));w=w.next)p||(y=w);p&&(c.a==Li&&h==1?wy(c,s):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):_y(c),Ty(c,p,Dr,s)))}r.c=null}else Mi(r,Dr,s)}function ph(r,s){r.b||r.a!=cu&&r.a!=Dr||Iy(r),r.f?r.f.next=s:r.b=s,r.f=s}function by(r,s,c,h){var p=dh(null,null,null);return p.a=new Pt(function(y,w){p.g=s?function(_){try{var F=s.call(h,_);y(F)}catch(K){w(K)}}:y,p.b=c?function(_){try{var F=c.call(h,_);F===void 0&&_ instanceof jo?w(_):y(F)}catch(K){w(K)}}:w}),p.a.c=r,ph(r,p),p.a}t.$c=function(r){this.a=Li,Mi(this,cu,r)},t.ad=function(r){this.a=Li,Mi(this,Dr,r)};function Mi(r,s,c){r.a==Li&&(r===c&&(s=Dr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,Ey(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,Iy(r),s!=Dr||c instanceof jo||QA(r,c)))}function Ey(r,s,c,h){if(r instanceof Pt)return ph(r,dh(s||v,c||null,h)),!0;if(At(r))return r.then(s,c,h),!0;if(O(r))try{var p=r.then;if(T(p))return WA(r,p,s,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function WA(r,s,c,h,p){function y(F){_||(_=!0,h.call(p,F))}function w(F){_||(_=!0,c.call(p,F))}var _=!1;try{s.call(r,w,y)}catch(F){y(F)}}function Iy(r){r.h||(r.h=!0,uc(r.gc,r))}function _y(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}t.gc=function(){for(var r;r=_y(this);)Ty(this,r,this.a,this.i);this.h=!1};function Ty(r,s,c,h){if(c==Dr&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,Sy(s,c,h);else try{s.c?s.g.call(s.f):Sy(s,c,h)}catch(p){Ay.call(null,p)}oe(my,s)}function Sy(r,s,c){s==cu?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function QA(r,s){r.g=!0,uc(function(){r.g&&Ay.call(null,s)})}var Ay=hy;function jo(r){mt.call(this,r)}B(jo,mt),jo.prototype.name="cancel";function cc(){this.ya=this.ya,this.pa=this.pa}var YA=0;cc.prototype.ya=!1;function Ny(r){!r.ya&&(r.ya=!0,r.Da(),YA!=0)&&C(r)}cc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var XA=Object.freeze||function(r){return r},ky=!Qn||9<=Number(Xr),JA=Qn&&!ay("9"),ZA=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",v,s),f.removeEventListener("test",v,s)}catch{}return r}();function yn(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}yn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Fi(r,s){if(yn.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(sy){t:{try{sh(s.nodeName);var p=!0;break t}catch{}p=!1}p||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:tN[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}B(Fi,yn);var tN=XA({2:"touch",3:"pen",4:"mouse"});Fi.prototype.preventDefault=function(){Fi.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,JA)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},Fi.prototype.g=function(){return this.a};var lu="closure_listenable_"+(1e6*Math.random()|0),eN=0;function nN(r,s,c,h,p){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.Wa=p,this.key=++eN,this.wa=this.Qa=!1}function lc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function fc(r){this.src=r,this.a={},this.b=0}fc.prototype.add=function(r,s,c,h,p){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.b++);var w=mh(r,s,h,p);return-1<w?(s=r[w],c||(s.Qa=!1)):(s=new nN(s,this.src,y,!!h,p),s.Qa=c,r.push(s)),s};function gh(r,s){var c=s.type;c in r.a&&j(r.a[c],s)&&(lc(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function mh(r,s,c,h){for(var p=0;p<r.length;++p){var y=r[p];if(!y.wa&&y.listener==s&&y.capture==!!c&&y.Wa==h)return p}return-1}var vh="closure_lm_"+(1e6*Math.random()|0),yh={};function $n(r,s,c,h,p){if(h&&h.once)wh(r,s,c,h,p);else if(Array.isArray(s))for(var y=0;y<s.length;y++)$n(r,s[y],c,h,p);else c=Eh(c),r&&r[lu]?Py(r,s,c,O(h)?!!h.capture:!!h,p):Cy(r,s,c,!1,h,p)}function Cy(r,s,c,h,p,y){if(!s)throw Error("Invalid event type");var w=O(p)?!!p.capture:!!p,_=hc(r);if(_||(r[vh]=_=new fc(r)),c=_.add(s,c,h,w,y),!c.proxy)if(h=rN(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)ZA||(p=w),p===void 0&&(p=!1),r.addEventListener(s.toString(),h,p);else if(r.attachEvent)r.attachEvent(Oy(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function rN(){var r=iN,s=ky?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function wh(r,s,c,h,p){if(Array.isArray(s))for(var y=0;y<s.length;y++)wh(r,s[y],c,h,p);else c=Eh(c),r&&r[lu]?Ih(r,s,c,O(h)?!!h.capture:!!h,p):Cy(r,s,c,!0,h,p)}function On(r,s,c,h,p){if(Array.isArray(s))for(var y=0;y<s.length;y++)On(r,s[y],c,h,p);else h=O(h)?!!h.capture:!!h,c=Eh(c),r&&r[lu]?(r=r.v,s=String(s).toString(),s in r.a&&(y=r.a[s],c=mh(y,c,h,p),-1<c&&(lc(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete r.a[s],r.b--)))):r&&(r=hc(r))&&(s=r.a[s.toString()],r=-1,s&&(r=mh(s,c,h,p)),(c=-1<r?s[r]:null)&&xy(c))}function xy(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[lu])gh(s.v,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent(Oy(c),h):s.addListener&&s.removeListener&&s.removeListener(h),(c=hc(s))?(gh(c,r),c.b==0&&(c.src=null,s[vh]=null)):lc(r)}}}function Oy(r){return r in yh?yh[r]:yh[r]="on"+r}function Ry(r,s,c,h){var p=!0;if((r=hc(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var y=s[r];y&&y.capture==c&&!y.wa&&(y=Dy(y,h),p=p&&y!==!1)}return p}function Dy(r,s){var c=r.listener,h=r.Wa||r.src;return r.Qa&&xy(r),c.call(h,s)}function iN(r,s){if(r.wa)return!0;if(!ky){if(!s)t:{s=["window","event"];for(var c=f,h=0;h<s.length;h++)if(c=c[s[h]],c==null){s=null;break t}s=c}if(h=s,s=new Fi(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){t:{var p=!1;if(h.keyCode==0)try{h.keyCode=-1;break t}catch{p=!0}(p||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],p=s.b;p;p=p.parentNode)h.push(p);for(r=r.type,p=h.length-1;0<=p;p--){s.b=h[p];var y=Ry(h[p],r,!0,s);c=c&&y}for(p=0;p<h.length;p++)s.b=h[p],y=Ry(h[p],r,!1,s),c=c&&y}return c}return Dy(r,new Fi(s,this))}function hc(r){return r=r[vh],r instanceof fc?r:null}var bh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eh(r){return T(r)?r:(r[bh]||(r[bh]=function(s){return r.handleEvent(s)}),r[bh])}function an(){cc.call(this),this.v=new fc(this),this.bc=this,this.hb=null}B(an,cc),an.prototype[lu]=!0,an.prototype.addEventListener=function(r,s,c,h){$n(this,r,s,c,h)},an.prototype.removeEventListener=function(r,s,c,h){On(this,r,s,c,h)},an.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new yn(r,c);else if(r instanceof yn)r.target=r.target||c;else{var p=r;r=new yn(h,c),Ue(r,p)}if(p=!0,s)for(var y=s.length-1;0<=y;y--){var w=r.b=s[y];p=dc(w,h,!0,r)&&p}if(w=r.b=c,p=dc(w,h,!0,r)&&p,p=dc(w,h,!1,r)&&p,s)for(y=0;y<s.length;y++)w=r.b=s[y],p=dc(w,h,!1,r)&&p;return p},an.prototype.Da=function(){if(an.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var c=r.a[s],h=0;h<c.length;h++)lc(c[h]);delete r.a[s],r.b--}}this.hb=null};function Py(r,s,c,h,p){r.v.add(String(s),c,!1,h,p)}function Ih(r,s,c,h,p){r.v.add(String(s),c,!0,h,p)}function dc(r,s,c,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var p=!0,y=0;y<s.length;++y){var w=s[y];if(w&&!w.wa&&w.capture==c){var _=w.listener,F=w.Wa||w.src;w.Qa&&gh(r.v,w),p=_.call(F,h)!==!1&&p}}return p&&!h.defaultPrevented}function _h(r,s,c){if(T(r))c&&(r=R(r,c));else if(r&&typeof r.handleEvent=="function")r=R(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function Uo(r){var s=null;return new Pt(function(c,h){s=_h(function(){c(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(s),c})}function Ly(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(I(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function My(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(I(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var h in r)s[c++]=h;return s}}function oN(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(I(r)||typeof r=="string")J(r,s,void 0);else for(var c=My(r),h=Ly(r),p=h.length,y=0;y<p;y++)s.call(void 0,h[y],c&&c[y],r)}function Bo(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof Bo)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}t=Bo.prototype,t.X=function(){Th(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},t.Y=function(){return Th(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function Th(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var h=r.a[s];Vi(r.b,h)&&(r.a[c++]=h),s++}r.a.length=c}if(r.c!=r.a.length){var p={};for(c=s=0;s<r.a.length;)h=r.a[s],Vi(p,h)||(r.a[c++]=h,p[h]=1),s++;r.a.length=c}}t.get=function(r,s){return Vi(this.b,r)?this.b[r]:s},t.set=function(r,s){Vi(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},t.forEach=function(r,s){for(var c=this.Y(),h=0;h<c.length;h++){var p=c[h],y=this.get(p);r.call(s,y,p,this)}};function Vi(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var Fy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sN(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),p=null;if(0<=h){var y=r[c].substring(0,h);p=r[c].substring(h+1)}else y=r[c];s(y,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function Jr(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof Jr?(this.i=s!==void 0?s:r.i,fu(this,r.c),this.l=r.l,this.a=r.a,hu(this,r.g),this.f=r.f,Sh(this,By(r.b)),this.h=r.h):r&&(c=String(r).match(Fy))?(this.i=!!s,fu(this,c[1]||"",!0),this.l=du(c[2]||""),this.a=du(c[3]||"",!0),hu(this,c[4]),this.f=du(c[5]||"",!0),Sh(this,c[6]||"",!0),this.h=du(c[7]||"")):(this.i=!!s,this.b=new ji(null,this.i))}Jr.prototype.toString=function(){var r=[],s=this.c;s&&r.push(pu(s,Vy,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push(pu(s,Vy,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(pu(c,c.charAt(0)=="/"?cN:aN,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",pu(c,fN)),r.join("")},Jr.prototype.resolve=function(r){var s=new Jr(this),c=!!r.c;c?fu(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var h=r.f;if(c)hu(s,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var p=s.f.lastIndexOf("/");p!=-1&&(h=s.f.substr(0,p+1)+h)}if(p=h,p==".."||p==".")h="";else if(st(p,"./")||st(p,"/.")){h=p.lastIndexOf("/",0)==0,p=p.split("/");for(var y=[],w=0;w<p.length;){var _=p[w++];_=="."?h&&w==p.length&&y.push(""):_==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&w==p.length&&y.push("")):(y.push(_),h=!0)}h=y.join("/")}else h=p}return c?s.f=h:c=r.b.toString()!=="",c?Sh(s,By(r.b)):c=!!r.h,c&&(s.h=r.h),s};function fu(r,s,c){r.c=c?du(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function hu(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function Sh(r,s,c){s instanceof ji?(r.b=s,hN(r.b,r.i)):(c||(s=pu(s,lN)),r.b=new ji(s,r.i))}function Ee(r,s,c){r.b.set(s,c)}function Kn(r,s){return r.b.get(s)}function wn(r){return r instanceof Jr?new Jr(r):new Jr(r,void 0)}function pc(r,s,c,h){var p=new Jr(null,void 0);return r&&fu(p,r),s&&(p.a=s),c&&hu(p,c),h&&(p.f=h),p}function du(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function pu(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,uN),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function uN(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Vy=/[#\/\?@]/g,aN=/[#\?:]/g,cN=/[#\?]/g,lN=/[#\?@]/g,fN=/#/g;function ji(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function Zr(r){r.a||(r.a=new Bo,r.b=0,r.c&&sN(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function jy(r){var s=My(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new ji(null,void 0);r=Ly(r);for(var h=0;h<s.length;h++){var p=s[h],y=r[h];Array.isArray(y)?Uy(c,p,y):c.add(p,y)}return c}t=ji.prototype,t.add=function(r,s){Zr(this),this.c=null,r=qo(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function gr(r,s){Zr(r),s=qo(r,s),Vi(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,Vi(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&Th(r)))}t.clear=function(){this.a=this.c=null,this.b=0};function Ah(r,s){return Zr(r),s=qo(r,s),Vi(r.a.b,s)}t.forEach=function(r,s){Zr(this),this.a.forEach(function(c,h){J(c,function(p){r.call(s,p,h,this)},this)},this)},t.Y=function(){Zr(this);for(var r=this.a.X(),s=this.a.Y(),c=[],h=0;h<s.length;h++)for(var p=r[h],y=0;y<p.length;y++)c.push(s[h]);return c},t.X=function(r){Zr(this);var s=[];if(typeof r=="string")Ah(this,r)&&(s=tt(s,this.a.get(qo(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=tt(s,r[c])}return s},t.set=function(r,s){return Zr(this),this.c=null,r=qo(this,r),Ah(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},t.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function Uy(r,s,c){gr(r,s),0<c.length&&(r.c=null,r.a.set(qo(r,s),ot(c)),r.b+=c.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var h=s[c],p=encodeURIComponent(String(h));h=this.X(h);for(var y=0;y<h.length;y++){var w=p;h[y]!==""&&(w+="="+encodeURIComponent(String(h[y]))),r.push(w)}}return this.c=r.join("&")};function By(r){var s=new ji;return s.c=r.c,r.a&&(s.a=new Bo(r.a),s.b=r.b),s}function qo(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function hN(r,s){s&&!r.f&&(Zr(r),r.c=null,r.a.forEach(function(c,h){var p=h.toLowerCase();h!=p&&(gr(this,h),Uy(this,p,c))},r)),r.f=s}function qy(r){var s=[];return Nh(new dN,r,s),s.join("")}function dN(){}function Nh(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,c.push("[");for(var p="",y=0;y<s;y++)c.push(p),Nh(r,h[y],c),p=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),p="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(y=s[h],typeof y!="function"&&(c.push(p),Ky(h,c),c.push(":"),Nh(r,y,c),p=","));c.push("}");return}}switch(typeof s){case"string":Ky(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var $y={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},pN=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Ky(r,s){s.push('"',r.replace(pN,function(c){var h=$y[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),$y[c]=h),h}),'"')}function kh(){var r=Be();return Qn&&!!Xr&&Xr==11||/Edge\/\d+/.test(r)}function gu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Hy(r,s){s=s||f.window;var c="about:blank";r&&(c=ic(Zv(r)||ey)),s.location.href=c}function zy(r,s){var c=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<zy(r[h],s[h]).length&&c.push(h):r[h]!==s[h]&&c.push(h):c.push(h);for(h in s)h in r||c.push(h);return c}function gN(){var r=Be();return r=$o(r)!=Yy?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!Qn||!Xr||9<Xr}function Gy(r){return r=(r||Be()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function Ui(r){r=r||f.window;try{r.close()}catch{}}function Wy(r,s,c){var h=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var p=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<p?p:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=Be().toLowerCase(),h&&(s.target=h,st(c,"crios/")&&(s.target="_blank")),$o(Be())==Oh&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),h=window,s=c instanceof vn?c:Zv(typeof c.href<"u"?c.href:String(c))||ey,c=r.target||c.target,p=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":p.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(w+"="+(r[w]?1:0))}var w=p.join(",");if((ge("iPhone")&&!ge("iPod")&&!ge("iPad")||ge("iPad")||ge("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=sc(document,"A"),Gv(w,"HTMLAnchorElement"),s=s instanceof vn?s:ty(s),w.href=ic(s),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=ry("",h,c,w),r=ic(s),w&&(jA&&st(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+oh(r)+'">',r=(h=Qv())?h.createHTML(r):r,r=new Vo(r,null,ny),h=w.document)&&(h.write(LA(r)),h.close())):(w=ry(s,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function mN(r){return new Pt(function(s){function c(){Uo(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var vN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yN=/^[^@]+@[^@]+$/;function gc(){var r=null;return new Pt(function(s){f.document.readyState=="complete"?s():(r=function(){s()},wh(window,"load",r))}).o(function(s){throw On(window,"load",r),s})}function wN(){return Ch(void 0)?gc().then(function(){return new Pt(function(r,s){var c=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):se(Error("Cordova must run in an Android or iOS file scheme."))}function Ch(r){return r=r||Be(),!(Ho()!=="file:"&&Ho()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function xh(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function Yn(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function mr(){return It.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":It.INTERNAL.hasOwnProperty("node")?"Node":Yn()?"Worker":"Browser"}function Qy(){var r=mr();return r==="ReactNative"||r==="Node"}function bN(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var Oh="Firefox",Yy="Chrome";function $o(r){var s=r.toLowerCase();if(st(s,"opera/")||st(s,"opr/")||st(s,"opios/"))return"Opera";if(st(s,"iemobile"))return"IEMobile";if(st(s,"msie")||st(s,"trident/"))return"IE";if(st(s,"edge/"))return"Edge";if(st(s,"firefox/"))return Oh;if(st(s,"silk/"))return"Silk";if(st(s,"blackberry"))return"Blackberry";if(st(s,"webos"))return"Webos";if(!st(s,"safari/")||st(s,"chrome/")||st(s,"crios/")||st(s,"android"))if(!st(s,"chrome/")&&!st(s,"crios/")||st(s,"edge/")){if(st(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return Yy;else return"Safari";return"Other"}var Xy={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ko(r,s){s=s||[];var c=[],h={},p;for(p in Xy)h[Xy[p]]=!0;for(p=0;p<s.length;p++)typeof h[s[p]]<"u"&&(delete h[s[p]],c.push(s[p]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=mr(),c==="Browser"?(h=Be(),c=$o(h)):c==="Worker"&&(h=Be(),c=$o(h)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function Be(){return f.navigator&&f.navigator.userAgent||""}function ue(r,s){r=r.split("."),s=s||f;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function Rh(){try{var r=f.localStorage,s=qi();if(r)return r.setItem(s,"1"),r.removeItem(s),kh()?!!f.indexedDB:!0}catch{return Yn()&&!!f.indexedDB}return!1}function Bi(){return(mc()||Ho()==="chrome-extension:"||Ch())&&!Qy()&&Rh()&&!Yn()}function mc(){return Ho()==="http:"||Ho()==="https:"}function Ho(){return f.location&&f.location.protocol||null}function mu(r){return r=r||Be(),!(Gy(r)||$o(r)==Oh)}function vu(r){return typeof r>"u"?null:qy(r)}function Jy(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function zo(r){if(r!==null)return JSON.parse(r)}function qi(r){return r||Math.floor(1e9*Math.random()).toString()}function Zy(r){return r=r||Be(),!($o(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function t0(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function ti(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=Be(),s=mr(),this.b=Gy(r)||s==="ReactNative"}ti.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(mc()||Ho()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Dh(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function EN(){var r=f.document,s=null;return Dh()||!r?gt():new Pt(function(c){s=function(){Dh()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function yu(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function e0(){return!(!ue("fireauth.oauthhelper",f)&&!ue("fireauth.iframe",f))}function IN(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function _N(){var r=f.navigator;return r&&r.serviceWorker?gt().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):gt(null)}var n0={};function Ph(r){n0[r]||(n0[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Lh;try{var Mh={};Object.defineProperty(Mh,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Mh,"abcd",{configurable:!0,enumerable:!0,value:2}),Lh=Mh.abcd==2}catch{Lh=!1}function ht(r,s,c){Lh?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function cn(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&ht(r,c,s[c])}function vr(r){var s={};return cn(s,r),s}function TN(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function SN(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var h=r[s[c]];if(h==null||h==="")return!1}return!0}function Fh(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)ht(s,c,Fh(r[c]))}return s}function Vh(r){var s=r&&(r[qh]?"phone":null);if(s&&r&&r[Bh]){ht(this,"uid",r[Bh]),ht(this,"displayName",r[r0]||null);var c=null;r[Uh]&&(c=new Date(r[Uh]).toUTCString()),ht(this,"enrollmentTime",c),ht(this,"factorId",s)}else throw new A("internal-error","Internal assert: invalid MultiFactorInfo object")}Vh.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function jh(r){try{var s=new wu(r)}catch{s=null}return s}var r0="displayName",Uh="enrolledAt",Bh="mfaEnrollmentId",qh="phoneInfo";function wu(r){Vh.call(this,r),ht(this,"phoneNumber",r[qh])}B(wu,Vh),wu.prototype.w=function(){var r=wu.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function AN(r){var s={},c=r[NN],h=r[CN],p=r[xN];if(r=jh(r[kN]),!p||p!=vc&&p!=bu&&!c||p==bu&&!h||p==$h&&!r)throw Error("Invalid checkActionCode response!");p==bu?(s[o0]=c||null,s[s0]=c||null,s[i0]=h):(s[o0]=h||null,s[s0]=h||null,s[i0]=c||null),s[ON]=r||null,ht(this,DN,p),ht(this,RN,Fh(s))}var $h="REVERT_SECOND_FACTOR_ADDITION",vc="EMAIL_SIGNIN",bu="VERIFY_AND_CHANGE_EMAIL",NN="email",kN="mfaInfo",CN="newEmail",xN="requestType",i0="email",o0="fromEmail",ON="multiFactorInfo",s0="previousEmail",RN="data",DN="operation";function Kh(r){r=wn(r);var s=Kn(r,u0)||null,c=Kn(r,a0)||null,h=Kn(r,c0)||null;if(h=h&&FN[h]||null,!s||!c||!h)throw new A("argument-error",u0+", "+a0+"and "+c0+" are required in a valid action code URL.");cn(this,{apiKey:s,operation:h,code:c,continueUrl:Kn(r,PN)||null,languageCode:Kn(r,LN)||null,tenantId:Kn(r,MN)||null})}var u0="apiKey",a0="oobCode",PN="continueUrl",LN="languageCode",c0="mode",MN="tenantId",FN={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:$h,signIn:vc,verifyAndChangeEmail:bu,verifyEmail:"VERIFY_EMAIL"};function l0(r){try{return new Kh(r)}catch{return null}}function yc(r){var s=r[VN];if(typeof s>"u")throw new A("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new A("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[f0];if(c&&typeof c=="object"){s=c[m0];var h=c[p0];if(c=c[g0],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new A("argument-error",p0+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new A("argument-error",g0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new A("argument-error",m0+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new A("missing-android-pkg-name")}}else if(typeof c<"u")throw new A("argument-error",f0+" property must be a non null object when specified.");if(this.f=null,(s=r[d0])&&typeof s=="object"){if(s=s[v0],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new A("argument-error",v0+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new A("argument-error",d0+" property must be a non null object when specified.");if(s=r[Hh],typeof s<"u"&&typeof s!="boolean")throw new A("argument-error",Hh+" property must be a boolean when specified.");if(this.c=!!s,r=r[h0],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new A("argument-error",h0+" property must be a non empty string when specified.");this.i=r||null}var f0="android",h0="dynamicLinkDomain",Hh="handleCodeInApp",d0="iOS",VN="url",p0="installApp",g0="minimumVersion",m0="packageName",v0="bundleId";function wc(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function jN(r){return wt(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var Eu=null;function UN(r){var s=[];return BN(r,function(c){s.push(c)}),s}function BN(r,s){function c(F){for(;h<r.length;){var K=r.charAt(h++),_t=Eu[K];if(_t!=null)return _t;if(!/^[\s\xa0]*$/.test(K))throw Error("Unknown base64 encoding at char: "+K)}return F}qN();for(var h=0;;){var p=c(-1),y=c(0),w=c(64),_=c(64);if(_===64&&p===-1)break;s(p<<2|y>>4),w!=64&&(s(y<<4&240|w>>2),_!=64&&s(w<<6&192|_))}}function qN(){if(!Eu){Eu={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(s[c].split("")),p=0;p<h.length;p++){var y=h[p];Eu[y]===void 0&&(Eu[y]=p)}}}function bc(r){var s=y0(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}bc.prototype.T=function(){return this.f},bc.prototype.l=function(){return this.c},bc.prototype.toString=function(){return this.h};function Ec(r){try{return new bc(r)}catch{return null}}function y0(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var h=UN(r);for(r=[],c=s=0;s<h.length;){var p=h[s++];if(128>p)r[c++]=String.fromCharCode(p);else if(191<p&&224>p){var y=h[s++];r[c++]=String.fromCharCode((p&31)<<6|y&63)}else if(239<p&&365>p){y=h[s++];var w=h[s++],_=h[s++],F=((p&7)<<18|(y&63)<<12|(w&63)<<6|_&63)-65536;r[c++]=String.fromCharCode(55296+(F>>10)),r[c++]=String.fromCharCode(56320+(F&1023))}else y=h[s++],w=h[s++],r[c++]=String.fromCharCode((p&15)<<12|(y&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var w0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ic=["client_id","response_type","scope","redirect_uri","state"],zh={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Ic},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Ic},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Ic},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:w0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Gh(r){for(var s in zh)if(zh[s].fa==r)return zh[s];return null}function b0(r){var s={};s["facebook.com"]=I0,s["google.com"]=T0,s["github.com"]=_0,s["twitter.com"]=S0;var c=r&&r[E0];try{if(c)return s[c]?new s[c](r):new yr(r);if(typeof r[Wh]<"u")return new Qh(r)}catch{}return null}var Wh="idToken",E0="providerId";function Qh(r){var s=r[E0];if(!s&&r[Wh]){var c=Ec(r[Wh]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),ht(this,"providerId",s),ht(this,"isNewUser",c)}function yr(r){Qh.call(this,r),r=zo(r.rawUserInfo||"{}"),ht(this,"profile",Fh(r||{}))}B(yr,Qh);function I0(r){if(yr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}B(I0,yr);function _0(r){if(yr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");ht(this,"username",this.profile&&this.profile.login||null)}B(_0,yr);function T0(r){if(yr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}B(T0,yr);function S0(r){if(yr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ht(this,"username",r.screenName||null)}B(S0,yr);function A0(r){var s=wn(r),c=Kn(s,"link"),h=Kn(wn(c),"link");return s=Kn(s,"deep_link_id"),Kn(wn(s),"link")||s||h||c||r}function _c(r,s){if(!r&&!s)throw new A("internal-error","Internal assert: no raw session string available");if(r&&s)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Iu:Tc}var Iu="enroll",Tc="signin";_c.prototype.Ha=function(){return this.a?gt(this.a):gt(this.b)},_c.prototype.w=function(){return this.type==Iu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Go(){}Go.prototype.ka=function(){},Go.prototype.b=function(){},Go.prototype.c=function(){},Go.prototype.w=function(){};function Wo(r,s){return r.then(function(c){if(c[Zn]){var h=Ec(c[Zn]);if(!h||s!=h.i)throw new A("user-mismatch");return c}throw new A("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==Ut+"user-not-found"?new A("user-mismatch"):c})}function $i(r,s){if(s)this.a=s;else throw new A("internal-error","failed to construct a credential");ht(this,"providerId",r),ht(this,"signInMethod",r)}$i.prototype.ka=function(r){return wd(r,Yh(this))},$i.prototype.b=function(r,s){var c=Yh(this);return c.idToken=s,bd(r,c)},$i.prototype.c=function(r,s){return Wo(Ed(r,Yh(this)),s)};function Yh(r){return{pendingToken:r.a,requestUri:"http://localhost"}}$i.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function $N(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new $i(r.providerId,r.pendingToken)}catch{}return null}function Pr(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&ht(this,"idToken",s.idToken),s.accessToken&&ht(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&ht(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)ht(this,"accessToken",s.oauthToken),ht(this,"secret",s.oauthTokenSecret);else throw new A("internal-error","failed to construct a credential");ht(this,"providerId",r),ht(this,"signInMethod",c)}Pr.prototype.ka=function(r){return wd(r,Xh(this))},Pr.prototype.b=function(r,s){var c=Xh(this);return c.idToken=s,bd(r,c)},Pr.prototype.c=function(r,s){var c=Xh(this);return Wo(Ed(r,c),s)};function Xh(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:jy(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}Pr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function KN(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Pr(r.providerId,s,r.signInMethod)}catch{}}return null}function Ki(r,s){this.Qc=s||[],cn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(Gh(r)||{}).Ja||null,this.pb=null}Ki.prototype.Ka=function(r){return this.Jb=me(r),this};function N0(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');Ki.call(this,r,[])}B(N0,Ki);function Rn(r){Ki.call(this,r,Ic),this.a=[]}B(Rn,Ki),Rn.prototype.Ca=function(r){return D(this.a,r)||this.a.push(r),this},Rn.prototype.Rb=function(){return ot(this.a)},Rn.prototype.credential=function(r,s){var c;if(O(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new Pr(this.providerId,c,this.providerId)};function Hi(){Rn.call(this,"facebook.com")}B(Hi,Rn),ht(Hi,"PROVIDER_ID","facebook.com"),ht(Hi,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function k0(r){if(!r)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return O(r)&&(s=r.accessToken),new Hi().credential({accessToken:s})}function zi(){Rn.call(this,"github.com")}B(zi,Rn),ht(zi,"PROVIDER_ID","github.com"),ht(zi,"GITHUB_SIGN_IN_METHOD","github.com");function C0(r){if(!r)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return O(r)&&(s=r.accessToken),new zi().credential({accessToken:s})}function Gi(){Rn.call(this,"google.com"),this.Ca("profile")}B(Gi,Rn),ht(Gi,"PROVIDER_ID","google.com"),ht(Gi,"GOOGLE_SIGN_IN_METHOD","google.com");function x0(r,s){var c=r;return O(r)&&(c=r.idToken,s=r.accessToken),new Gi().credential({idToken:c,accessToken:s})}function Qo(){Ki.call(this,"twitter.com",w0)}B(Qo,Ki),ht(Qo,"PROVIDER_ID","twitter.com"),ht(Qo,"TWITTER_SIGN_IN_METHOD","twitter.com");function O0(r,s){var c=r;if(O(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Pr("twitter.com",c,"twitter.com")}function ei(r,s,c){this.a=r,this.f=s,ht(this,"providerId","password"),ht(this,"signInMethod",c===Hn.EMAIL_LINK_SIGN_IN_METHOD?Hn.EMAIL_LINK_SIGN_IN_METHOD:Hn.EMAIL_PASSWORD_SIGN_IN_METHOD)}ei.prototype.ka=function(r){return this.signInMethod==Hn.EMAIL_LINK_SIGN_IN_METHOD?Mt(r,kk,{email:this.a,oobCode:this.f}):Mt(r,ow,{email:this.a,password:this.f})},ei.prototype.b=function(r,s){return this.signInMethod==Hn.EMAIL_LINK_SIGN_IN_METHOD?Mt(r,Ck,{idToken:s,email:this.a,oobCode:this.f}):Mt(r,iw,{idToken:s,email:this.a,password:this.f})},ei.prototype.c=function(r,s){return Wo(this.ka(r),s)},ei.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function HN(r){return r&&r.email&&r.password?new ei(r.email,r.password,r.signInMethod):null}function Hn(){cn(this,{providerId:"password",isOAuthProvider:!1})}function R0(r,s){if(s=Jh(s),!s)throw new A("argument-error","Invalid email link!");return new ei(r,s.code,Hn.EMAIL_LINK_SIGN_IN_METHOD)}function Jh(r){return r=A0(r),(r=l0(r))&&r.operation===vc?r:null}cn(Hn,{PROVIDER_ID:"password"}),cn(Hn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),cn(Hn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ni(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new A("internal-error");this.a=r,ht(this,"providerId","phone"),this.fa="phone",ht(this,"signInMethod","phone")}ni.prototype.ka=function(r){return r.gb(_u(this))},ni.prototype.b=function(r,s){var c=_u(this);return c.idToken=s,Mt(r,Qk,c)},ni.prototype.c=function(r,s){var c=_u(this);return c.operation="REAUTH",r=Mt(r,Yk,c),Wo(r,s)},ni.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function zN(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return J(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new ni(s)}return null}function _u(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function Lr(r){try{this.a=r||It.auth()}catch{throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}cn(this,{providerId:"phone",isOAuthProvider:!1})}Lr.prototype.gb=function(r,s){var c=this.a.a;return gt(s.verify()).then(function(h){if(typeof h!="string")throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var p=O(r)?r.session:null,y=O(r)?r.phoneNumber:r,w;return p&&p.type==Iu?w=p.Ha().then(function(_){return wk(c,{idToken:_,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):p&&p.type==Tc?w=p.Ha().then(function(_){return bk(c,{mfaPendingCredential:_,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=yk(c,{phoneNumber:y,recaptchaToken:h}),w.then(function(_){return typeof s.reset=="function"&&s.reset(),_},function(_){throw typeof s.reset=="function"&&s.reset(),_});default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function D0(r,s){if(!r)throw new A("missing-verification-id");if(!s)throw new A("missing-verification-code");return new ni({fb:r,eb:s})}cn(Lr,{PROVIDER_ID:"phone"}),cn(Lr,{PHONE_SIGN_IN_METHOD:"phone"});function Zh(r){if(r.temporaryProof&&r.phoneNumber)return new ni({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,p=r&&r.nonce,y=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(s){case"google.com":return x0(y,c);case"facebook.com":return k0(c);case"github.com":return C0(c);case"twitter.com":return O0(c,h);default:return c||h||y||w?w?s.indexOf("saml.")==0?new $i(s,w):new Pr(s,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new Rn(s).credential({idToken:y,accessToken:c,rawNonce:p}):null}}catch{return null}}function td(r){if(!r.isOAuthProvider)throw new A("invalid-oauth-provider")}function Xn(r,s,c,h,p,y,w){if(this.c=r,this.b=s||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=w||null,this.a=p||null,this.g||this.a){if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}else throw new A("invalid-auth-event")}Xn.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},Xn.prototype.T=function(){return this.h},Xn.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function P0(r){return r=r||{},r.type?new Xn(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Lt(r.error),r.postBody,r.tenantId):null}function GN(){this.b=null,this.a=[]}var ed=null;function WN(r){var s=ed;s.a.push(r),s.b||(s.b=function(c){for(var h=0;h<s.a.length;h++)s.a[h](c)},r=ue("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function nd(r){var s="unauthorized-domain",c=void 0,h=wn(r);r=h.a,h=h.c,h=="chrome-extension"?c=iy("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=iy("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",A.call(this,s,c)}B(nd,A);function Tu(r,s,c){A.call(this,r,c),r=s||{},r.Kb&&ht(this,"email",r.Kb),r.ea&&ht(this,"phoneNumber",r.ea),r.credential&&ht(this,"credential",r.credential),r.$b&&ht(this,"tenantId",r.$b)}B(Tu,A),Tu.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Ue(r,s),r},Tu.prototype.toJSON=function(){return this.w()};function Sc(r){if(r.code){var s=r.code||"";s.indexOf(Ut)==0&&(s=s.substring(Ut.length));var c={credential:Zh(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new A(s,r.message||void 0);return new Tu(s,c,r.message)}return null}function Su(){}Su.prototype.c=null;function L0(r){return r.c||(r.c=r.b())}var rd;function Ac(){}B(Ac,Su),Ac.prototype.a=function(){var r=M0(this);return r?new ActiveXObject(r):new XMLHttpRequest},Ac.prototype.b=function(){var r={};return M0(this)&&(r[0]=!0,r[1]=!0),r};function M0(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var h=s[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}rd=new Ac;function Nc(){}B(Nc,Su),Nc.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new F0;throw Error("Unsupported browser")},Nc.prototype.b=function(){return{}};function F0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=R(this.qc,this),this.a.onerror=R(this.Tb,this),this.a.onprogress=R(this.rc,this),this.a.ontimeout=R(this.vc,this)}t=F0.prototype,t.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},t.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,id(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",id(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,id(this,1)};function id(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function od(r,s,c){this.reset(r,s,c,void 0,void 0)}od.prototype.a=null,od.prototype.reset=function(r,s,c,h,p){delete this.a};function sd(r){this.f=r,this.b=this.c=this.a=null}function Au(r,s){this.name=r,this.value=s}Au.prototype.toString=function(){return this.name};var V0=new Au("SEVERE",1e3),ud=new Au("WARNING",900),QN=new Au("CONFIG",700),YN=new Au("FINE",500);function j0(r){return r.c?r.c:r.a?j0(r.a):(fe("Root logger has no level set."),null)}sd.prototype.log=function(r,s,c){if(r.value>=j0(this).value)for(T(s)&&(s=s()),r=new od(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var ad={},kc=null;function cd(r){kc||(kc=new sd(""),ad[""]=kc,kc.c=QN);var s;if(!(s=ad[r])){s=new sd(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=cd(r.substr(0,c)),c.b||(c.b={}),c.b[h]=s,s.a=c,ad[r]=s}return s}function zn(r,s){r&&r.log(YN,s,void 0)}function Cc(r){this.f=r}B(Cc,Su),Cc.prototype.a=function(){return new xc(this.f)},Cc.prototype.b=function(r){return function(){return r}}({});function xc(r){an.call(this),this.u=r,this.h=void 0,this.readyState=ld,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=cd("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}B(xc,an);var ld=0;t=xc.prototype,t.open=function(r,s){if(this.readyState!=ld)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,ku(this)},t.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Nu(this)),this.readyState=ld},t.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,ku(this)),this.a&&(this.readyState=3,ku(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,U0(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function U0(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}t.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?Nu(this):ku(this),this.readyState==3&&U0(this)}},t.tc=function(r){this.a&&(this.response=this.responseText=r,Nu(this))},t.sc=function(r){this.a&&(this.response=r,Nu(this))},t.Va=function(r){var s=this.i;s&&s.log(ud,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Nu(this)};function Nu(r){r.readyState=4,r.g=null,r.c=null,r.m=null,ku(r)}t.setRequestHeader=function(r,s){this.l.append(r,s)},t.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(ud,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(ud,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function ku(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(xc.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Cu(r){an.call(this),this.headers=new Bo,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=B0,this.u=this.S=!1}B(Cu,an);var B0="";Cu.prototype.b=cd("goog.net.XhrIo");var XN=/^https?$/i,JN=["POST","PUT"];function ZN(r,s,c,h,p){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():rd.a(),r.C=r.D?L0(r.D):L0(rd),r.a.onreadystatechange=R(r.Wb,r);try{zn(r.b,Mr(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(w){zn(r.b,Mr(r,"Error opening Xhr: "+w.message)),q0(r,w);return}s=h||"";var y=new Bo(r.headers);p&&oN(p,function(w,_){y.set(_,w)}),p=S(y.Y()),h=f.FormData&&s instanceof f.FormData,!D(JN,c)||p||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(w,_){this.a.setRequestHeader(_,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{H0(r),0<r.g&&(r.u=tk(r.a),zn(r.b,Mr(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=R(r.Ma,r)):r.s=_h(r.Ma,r.g,r)),zn(r.b,Mr(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(w){zn(r.b,Mr(r,"Send error: "+w.message)),q0(r,w)}}function tk(r){return Qn&&ay(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function ek(r){return r.toLowerCase()=="content-type"}t=Cu.prototype,t.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",zn(this.b,Mr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function q0(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,$0(r),Oc(r)}function $0(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(zn(this.b,Mr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Oc(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Oc(this,!0)),Cu.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?K0(this):this.Jc())},t.Jc=function(){K0(this)};function K0(r){if(r.c&&typeof l<"u"){if(r.C[1]&&xu(r)==4&&Rc(r)==2)zn(r.b,Mr(r,"Local request error detected and ignored"));else if(r.i&&xu(r)==4)_h(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),xu(r)==4){zn(r.b,Mr(r,"Request complete")),r.c=!1;try{var s=Rc(r);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var h;if(!(h=c)){var p;if(p=s===0){var y=String(r.l).match(Fy)[1]||null;if(!y&&f.self&&f.self.location){var w=f.self.location.protocol;y=w.substr(0,w.length-1)}p=!XN.test(y?y.toLowerCase():"")}h=p}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var _=2<xu(r)?r.a.statusText:""}catch(F){zn(r.b,"Can not get status: "+F.message),_=""}r.h=_+" ["+Rc(r)+"]",$0(r)}}finally{Oc(r)}}}}function Oc(r,s){if(r.a){H0(r);var c=r.a,h=r.C[0]?v:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(p){(r=r.b)&&r.log(V0,"Problem encountered resetting onreadystatechange: "+p.message,void 0)}}}function H0(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function xu(r){return r.a?r.a.readyState:0}function Rc(r){try{return 2<xu(r)?r.a.status:-1}catch{return-1}}function nk(r){try{return r.a?r.a.responseText:""}catch(s){return zn(r.b,"Can not get responseText: "+s.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case B0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(V0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return zn(this.b,"Can not get response: "+s.message),null}};function Mr(r,s){return s+" ["+r.P+" "+r.l+" "+Rc(r)+"]"}function Wi(r){var s=ok;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Wi.prototype.cancel=function(r){if(this.a)this.c instanceof Wi&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new Ru,Dc(this),Ou(this,!1,r))}},Wi.prototype.m=function(r,s){this.i=!1,Ou(this,r,s)};function Ou(r,s,c){r.a=!0,r.c=c,r.f=!s,G0(r)}function Dc(r){if(r.a){if(!r.v)throw new Pc;r.v=!1}}function rk(r,s){fd(r,null,s,void 0)}function fd(r,s,c,h){r.g.push([s,c,h]),r.a&&G0(r)}Wi.prototype.then=function(r,s,c){var h,p,y=new Pt(function(w,_){h=w,p=_});return fd(this,h,function(w){w instanceof Ru?y.cancel():p(w)}),y.then(r,s,c)},Wi.prototype.$goog_Thenable=!0;function z0(r){return E(r.g,function(s){return T(s[1])})}function G0(r){if(r.h&&r.a&&z0(r)){var s=r.h,c=Lc[s];c&&(f.clearTimeout(c.a),delete Lc[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=c=!1;r.g.length&&!r.i;){var p=r.g.shift(),y=p[0],w=p[1];if(p=p[2],y=r.f?w:y)try{var _=y.call(p||r.s,s);_!==void 0&&(r.f=r.f&&(_==s||_ instanceof Error),r.c=s=_),(At(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(F){s=F,r.f=!0,z0(r)||(c=!0)}}r.c=s,h&&(_=R(r.m,r,!0),h=R(r.m,r,!1),s instanceof Wi?(fd(s,_,h),s.C=!0):s.then(_,h)),c&&(s=new W0(s),Lc[s.a]=s,r.h=s.a)}function Pc(){mt.call(this)}B(Pc,mt),Pc.prototype.message="Deferred has already fired",Pc.prototype.name="AlreadyCalledError";function Ru(){mt.call(this)}B(Ru,mt),Ru.prototype.message="Deferred was canceled",Ru.prototype.name="CanceledError";function W0(r){this.a=f.setTimeout(R(this.c,this),0),this.b=r}W0.prototype.c=function(){throw delete Lc[this.a],this.b};var Lc={};function hd(r){var s={},c=s.document||document,h=Yv(r).toString(),p=sc(document,"SCRIPT"),y={Xb:p,Ma:void 0},w=new Wi(y),_=null,F=s.timeout!=null?s.timeout:5e3;return 0<F&&(_=window.setTimeout(function(){Mc(p,!0);var K=new dd(uk,"Timeout reached for loading script "+h);Dc(w),Ou(w,!1,K)},F),y.Ma=_),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(Mc(p,s.xd||!1,_),Dc(w),Ou(w,!0,null))},p.onerror=function(){Mc(p,!0,_);var K=new dd(sk,"Error while loading script "+h);Dc(w),Ou(w,!1,K)},y=s.attributes||{},Ue(y,{type:"text/javascript",charset:"UTF-8"}),ly(p,y),MA(p,r),ik(c).appendChild(p),w}function ik(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function ok(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&Mc(r,!0,this.Ma)}}function Mc(r,s,c){c!=null&&f.clearTimeout(c),r.onload=v,r.onerror=v,r.onreadystatechange=v,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var sk=0,uk=1;function dd(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),mt.call(this,c),this.code=r}B(dd,mt);function Fc(r){this.f=r}B(Fc,Su),Fc.prototype.a=function(){return new this.f},Fc.prototype.b=function(){return{}};function Jn(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||ak,this.g=me(r.secureTokenHeaders||ck),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||lk,this.a=me(r.firebaseHeaders||fk),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=mr()=="Node",c=f.XMLHttpRequest||c&&It.INTERNAL.node&&It.INTERNAL.node.XMLHttpRequest,!c&&!Yn())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Yn()?this.f=new Cc(self):Qy()?this.f=new Fc(c):this.f=new Nc,this.b=null}var pd,Zn="idToken",ak=new ti(3e4,6e4),ck={"Content-Type":"application/x-www-form-urlencoded"},lk=new ti(3e4,6e4),fk={"Content-Type":"application/json"};function Q0(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function Vc(r,s){s&&(r.l=gd("https://securetoken.googleapis.com/v1/token",s),r.h=gd("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=gd("https://identitytoolkit.googleapis.com/v2/",s))}function gd(r,s){return r=wn(r),s=wn(s.url),r.f=r.a+r.f,fu(r,s.c),r.a=s.a,hu(r,s.g),r.toString()}function Y0(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}Jn.prototype.T=function(){return this.b};function X0(r,s,c,h,p,y,w){gN()||Yn()?r=R(r.u,r):(pd||(pd=new Pt(function(_,F){dk(_,F)})),r=R(r.s,r)),r(s,c,h,p,y,w)}Jn.prototype.u=function(r,s,c,h,p,y){if(Yn()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Cu(this.f);if(y){w.g=Math.max(0,y);var _=setTimeout(function(){w.dispatchEvent("timeout")},y)}Py(w,"complete",function(){_&&clearTimeout(_);var F=null;try{F=JSON.parse(nk(this))||null}catch{F=null}s&&s(F)}),Ih(w,"ready",function(){_&&clearTimeout(_),Ny(this)}),Ih(w,"timeout",function(){_&&clearTimeout(_),Ny(this),s&&s(null)}),ZN(w,r,c,h,p)};var hk=new pr(nc,"https://apis.google.com/js/client.js?onload=%{onload}"),J0="__fcb"+Math.floor(1e6*Math.random()).toString();function dk(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[J0]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=ih(hk,{onload:J0});rk(hd(c),function(){s(Error("CORS_UNSUPPORTED"))})}}Jn.prototype.s=function(r,s,c,h,p){var y=this;pd.then(function(){window.gapi.client.setApiKey(y.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:p,authType:"none",callback:function(_){window.gapi.auth.setToken(w),s&&s(_)}})}).o(function(w){s&&s({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function pk(r,s){return new Pt(function(c,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?X0(r,r.l+"?key="+encodeURIComponent(r.c),function(p){p?p.error?h(_d(p)):p.access_token&&p.refresh_token?c(p):h(new A("internal-error")):h(new A("network-request-failed"))},"POST",jy(s).toString(),r.g,r.m.get()):h(new A("internal-error"))})}function Z0(r,s,c,h,p,y,w){var _=wn(s+c);Ee(_,"key",r.c),w&&Ee(_,"cb",Date.now().toString());var F=h=="GET";if(F)for(var K in p)p.hasOwnProperty(K)&&Ee(_,K,p[K]);return new Pt(function(_t,Xt){X0(r,_.toString(),function(Kt){Kt?Kt.error?Xt(_d(Kt,y||{})):_t(Kt):Xt(new A("network-request-failed"))},h,F?void 0:qy(Jy(p)),r.a,r.v.get())})}function Qi(r){if(r=r.email,typeof r!="string"||!yN.test(r))throw new A("invalid-email")}function tw(r){"email"in r&&Qi(r)}function gk(r,s){return Mt(r,Sk,{identifier:s,continueUri:mc()?gu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function mk(r){return Mt(r,Fk,{}).then(function(s){return s.authorizedDomains||[]})}function bn(r){if(!r[Zn])throw r.mfaPendingCredential?new A("multi-factor-auth-required",null,me(r)):new A("internal-error")}function md(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new A("internal-error")}else{if(!r.sessionInfo)throw new A("missing-verification-id");if(!r.code)throw new A("missing-verification-code")}}Jn.prototype.Ab=function(){return Mt(this,Bk,{})},Jn.prototype.Cb=function(r,s){return Mt(this,rw,{idToken:r,email:s})},Jn.prototype.Db=function(r,s){return Mt(this,iw,{idToken:r,password:s})};var vk={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=Jn.prototype,t.Eb=function(r,s){var c={idToken:r},h=[];return Yr(vk,function(p,y){var w=s[y];w===null?h.push(p):y in s&&(c[y]=w)}),h.length&&(c.deleteAttribute=h),Mt(this,rw,c)},t.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},Ue(r,s),Mt(this,Mk,r)},t.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},Ue(r,s),Mt(this,Dk,r)},t.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},Ue(r,s),Mt(this,Pk,r)},t.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},Ue(r,c),Mt(this,Lk,r)};function yk(r,s){return Mt(r,Uk,s)}t.gb=function(r){return Mt(this,Wk,r)};function wk(r,s){return Mt(r,qk,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function ew(r){if(!r.phoneVerificationInfo)throw new A("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new A("missing-verification-code")}function bk(r,s){return Mt(r,$k,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function Ek(r,s,c){return Mt(r,Nk,{idToken:s,deleteProvider:c})}function vd(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new A("internal-error")}function yd(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new ji(r.postBody),Ah(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function nw(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=Sc(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=Sc(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=Sc(r)):r.errorMessage&&(s=sw(r.errorMessage)),s)throw s;bn(r)}function wd(r,s){return s.returnIdpCredential=!0,Mt(r,Kk,s)}function bd(r,s){return s.returnIdpCredential=!0,Mt(r,zk,s)}function Ed(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,Mt(r,Hk,s)}function Id(r){if(!r.oobCode)throw new A("invalid-action-code")}t.ob=function(r,s){return Mt(this,jk,{oobCode:r,newPassword:s})},t.Sa=function(r){return Mt(this,_k,{oobCode:r})},t.kb=function(r){return Mt(this,Ik,{oobCode:r})};var Ik={endpoint:"setAccountInfo",A:Id,Z:"email",B:!0},_k={endpoint:"resetPassword",A:Id,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},B:!0},Tk={endpoint:"signupNewUser",A:function(r){if(Qi(r),!r.password)throw new A("weak-password")},G:bn,V:!0,B:!0},Sk={endpoint:"createAuthUri",B:!0},Ak={endpoint:"deleteAccount",O:["idToken"]},Nk={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new A("internal-error")}},kk={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Qi,G:bn,V:!0,B:!0},Ck={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Qi,G:bn,V:!0},xk={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ew,G:bn,B:!0,Na:!0},Ok={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ew,G:bn,B:!0,Na:!0},Rk={endpoint:"getAccountInfo"},Dk={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new A("internal-error");Qi(r)},Z:"email",B:!0},Pk={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new A("internal-error")},Z:"email",B:!0},Lk={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},Z:"email",B:!0},Mk={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new A("internal-error");Qi(r)},Z:"email",B:!0},Fk={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Vk={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new A("internal-error")}},jk={endpoint:"resetPassword",A:Id,Z:"email",B:!0},Uk={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},rw={endpoint:"setAccountInfo",O:["idToken"],A:tw,V:!0},iw={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(tw(r),!r.password)throw new A("weak-password")},G:bn,V:!0},Bk={endpoint:"signupNewUser",G:bn,V:!0,B:!0},qk={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new A("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},$k={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},Kk={endpoint:"verifyAssertion",A:vd,Za:yd,G:nw,V:!0,B:!0},Hk={endpoint:"verifyAssertion",A:vd,Za:yd,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new A("user-not-found");if(r.errorMessage)throw sw(r.errorMessage);bn(r)},V:!0,B:!0},zk={endpoint:"verifyAssertion",A:function(r){if(vd(r),!r.idToken)throw new A("internal-error")},Za:yd,G:nw,V:!0},Gk={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new A("invalid-custom-token")},G:bn,V:!0,B:!0},ow={endpoint:"verifyPassword",A:function(r){if(Qi(r),!r.password)throw new A("wrong-password")},G:bn,V:!0,B:!0},Wk={endpoint:"verifyPhoneNumber",A:md,G:bn,B:!0},Qk={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new A("internal-error");md(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",Sc(r);bn(r)}},Yk={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:md,G:bn,B:!0},Xk={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[Zn]^!!r.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function Mt(r,s,c){if(!SN(c,s.O))return se(new A("internal-error"));var h=!!s.Na,p=s.Vb||"POST",y;return gt(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?Z0(r,r.i,s.endpoint,p,c,s.Ib,s.mb||!1):Z0(r,r.h,s.endpoint,p,c,s.Ib,s.mb||!1)}).then(function(w){return y=w,s.Za?s.Za(c,y):y}).then(s.G).then(function(){if(!s.Z)return y;if(!(s.Z in y))throw new A("internal-error");return y[s.Z]})}function sw(r){return _d({error:{errors:[{message:r}],code:400,message:r}})}function _d(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new A(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Ue(h,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var p in h)if(c.indexOf(p)===0)return new A(h[p],s);return!s&&r&&(s=vu(r)),new A("internal-error",s)}function Jk(r){this.b=r,this.a=null,this.sb=Zk(this)}function Zk(r){return oC().then(function(){return new Pt(function(s,c){ue("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:ue("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function p(){clearTimeout(y),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},iC.get());h.ping(p).then(p,function(){c(Error("Network Error"))})})})})}function tC(r,s){return r.sb.then(function(){return new Pt(function(c){r.a.send(s.type,s,c,ue("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function eC(r,s){r.sb.then(function(){r.a.register("authEvent",s,ue("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var nC=new pr(nc,"https://apis.google.com/js/api.js?onload=%{onload}"),rC=new ti(3e4,6e4),iC=new ti(5e3,15e3),jc=null;function oC(){return jc||(jc=new Pt(function(r,s){function c(){t0(),ue("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){t0(),s(Error("Network Error"))},timeout:rC.get()})}if(ue("gapi.iframes.Iframe"))r();else if(ue("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){ue("gapi.load")?c():s(Error("Network Error"))},h=ih(nC,{onload:h}),gt(hd(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw jc=null,r}))}function uw(r,s,c,h){this.l=r,this.h=s,this.i=c,this.g=h,this.f=null,this.g?(r=wn(this.g.url),r=pc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=pc("https",this.l,null,"/__/auth/iframe"),this.a=r,Ee(this.a,"apiKey",this.h),Ee(this.a,"appName",this.i),this.b=null,this.c=[]}uw.prototype.toString=function(){return this.f?Ee(this.a,"v",this.f):gr(this.a.b,"v"),this.b?Ee(this.a,"eid",this.b):gr(this.a.b,"eid"),this.c.length?Ee(this.a,"fw",this.c.join(",")):gr(this.a.b,"fw"),this.a.toString()};function Td(r,s,c,h,p,y){this.u=r,this.s=s,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=p,this.h=this.f=null}Td.prototype.zb=function(r){return this.h=r,this},Td.prototype.toString=function(){if(this.v){var r=wn(this.v.url);r=pc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=pc("https",this.u,null,"/__/auth/handler");if(Ee(r,"apiKey",this.s),Ee(r,"appName",this.c),Ee(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=It.app(this.c).auth().la()}catch{c=null}s.pb=c,Ee(r,"providerId",this.a.providerId),c=this.a,s=Jy(c.Jb);for(var h in s)s[h]=s[h].toString();h=c.Qc,s=me(s);for(var p=0;p<h.length;p++){var y=h[p];y in s&&delete s[y]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),dr(s)||Ee(r,"customParameters",vu(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Ee(r,"scopes",c.join(","))),this.l?Ee(r,"redirectUrl",this.l):gr(r.b,"redirectUrl"),this.g?Ee(r,"eventId",this.g):gr(r.b,"eventId"),this.i?Ee(r,"v",this.i):gr(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Kn(r,w)&&Ee(r,w,this.b[w]);return this.h?Ee(r,"tid",this.h):gr(r.b,"tid"),this.f?Ee(r,"eid",this.f):gr(r.b,"eid"),w=Sd(this.c),w.length&&Ee(r,"fw",w.join(",")),r.toString()};function Sd(r){try{return It.app(r).auth().Ga()}catch{return[]}}function aw(r,s,c,h,p,y){this.s=r,this.g=s,this.b=c,this.f=y,this.c=h||null,this.i=p||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function cw(r){var s=gu();return mk(r).then(function(c){t:{var h=wn(s),p=h.c;h=h.a;for(var y=0;y<c.length;y++){var w=c[y],_=h,F=p;if(w.indexOf("chrome-extension://")==0?_=wn(w).a==_&&F=="chrome-extension":F!="http"&&F!="https"?_=!1:vN.test(w)?_=_==w:(w=w.split(".").join("\\."),_=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(_)),_){c=!0;break t}}c=!1}if(!c)throw new nd(gu())})}function lw(r){return r.m||(r.m=gc().then(function(){if(!r.u){var s=r.c,c=r.i,h=Sd(r.b),p=new uw(r.s,r.g,r.b,r.f);p.f=s,p.b=c,p.c=ot(h||[]),r.u=p.toString()}r.v=new Jk(r.u),sC(r)})),r.m}t=aw.prototype,t.Pb=function(r,s,c){var h=new A("popup-closed-by-user"),p=new A("web-storage-unsupported"),y=this,w=!1;return this.ma().then(function(){uC(y).then(function(_){_||(r&&Ui(r),s(p),w=!0)})}).o(function(){}).then(function(){if(!w)return mN(r)}).then(function(){if(!w)return Uo(c).then(function(){s(h)})})},t.Yb=function(){var r=Be();return!mu(r)&&!Zy(r)},t.Ub=function(){return!1},t.Nb=function(r,s,c,h,p,y,w,_){if(!r)return se(new A("popup-blocked"));if(w&&!mu())return this.ma().o(function(K){Ui(r),p(K)}),h(),gt();this.a||(this.a=cw(fw(this)));var F=this;return this.a.then(function(){var K=F.ma().o(function(_t){throw Ui(r),p(_t),_t});return h(),K}).then(function(){if(td(c),!w){var K=Du(F.s,F.g,F.b,s,c,null,y,F.c,void 0,F.i,_,F.f);Hy(K,r)}}).o(function(K){throw K.code=="auth/network-request-failed"&&(F.a=null),K})};function fw(r){return r.l||(r.C=r.c?Ko(r.c,Sd(r.b)):null,r.l=new Jn(r.g,jt(r.i),r.C),r.f&&Vc(r.l,r.f)),r.l}t.Ob=function(r,s,c,h){this.a||(this.a=cw(fw(this)));var p=this;return this.a.then(function(){td(s);var y=Du(p.s,p.g,p.b,r,s,gu(),c,p.c,void 0,p.i,h,p.f);Hy(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(p.a=null),y})},t.ma=function(){var r=this;return lw(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new A("network-request-failed")})},t.ac=function(){return!0};function Du(r,s,c,h,p,y,w,_,F,K,_t,Xt){return r=new Td(r,s,c,h,p,Xt),r.l=y,r.g=w,r.i=_,r.b=me(F||null),r.f=K,r.zb(_t).toString()}function sC(r){if(!r.v)throw Error("IfcHandler must be initialized!");eC(r.v,function(s){var c={};if(s&&s.authEvent){var h=!1;for(s=P0(s.authEvent),c=0;c<r.h.length;c++)h=r.h[c](s)||h;return c={},c.status=h?"ACK":"ERROR",gt(c)}return c.status="ERROR",gt(c)})}function uC(r){var s={type:"webStorageSupport"};return lw(r).then(function(){return tC(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}t.Ea=function(r){this.h.push(r)},t.Ta=function(r){U(this.h,function(s){return s==r})};function hw(r){if(this.a=r||It.INTERNAL.reactNative&&It.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=hw.prototype,t.get=function(r){return gt(this.a.getItem(r)).then(function(s){return s&&zo(s)})},t.set=function(r,s){return gt(this.a.setItem(r,vu(s)))},t.U=function(r){return gt(this.a.removeItem(r))},t.ca=function(){},t.ia=function(){};function dw(r){this.b=r,this.a={},this.f=R(this.c,this)}var pw=[];function aC(){var r=Yn()?self:null;if(J(pw,function(c){c.b==r&&(s=c)}),!s){var s=new dw(r);pw.push(s)}return s}dw.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var p=[];J(h,function(y){p.push(gt().then(function(){return y(r.origin,r.data.data)}))}),yy(p).then(function(y){var w=[];J(y,function(_){w.push({fulfilled:_.Qb,value:_.value,reason:_.reason?_.reason.message:void 0})}),J(w,function(_){for(var F in _)typeof _[F]>"u"&&delete _[F]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:w})})}};function gw(r,s,c){dr(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function mw(r){this.a=r}mw.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function vw(r){this.c=r,this.b=!1,this.a=[]}function yw(r,s,c,h){var p,y=c||{},w,_,F,K=null;if(r.b)return se(Error("connection_unavailable"));var _t=h?800:50,Xt=typeof MessageChannel<"u"?new MessageChannel:null;return new Pt(function(Kt,Le){Xt?(p=Math.floor(Math.random()*Math.pow(10,20)).toString(),Xt.port1.start(),_=setTimeout(function(){Le(Error("unsupported_event"))},_t),w=function(Fr){Fr.data.eventId===p&&(Fr.data.status==="ack"?(clearTimeout(_),F=setTimeout(function(){Le(Error("timeout"))},3e3)):Fr.data.status==="done"?(clearTimeout(F),typeof Fr.data.response<"u"?Kt(Fr.data.response):Le(Error("unknown_error"))):(clearTimeout(_),clearTimeout(F),Le(Error("invalid_response"))))},K={messageChannel:Xt,onMessage:w},r.a.push(K),Xt.port1.addEventListener("message",w),r.c.postMessage({eventType:s,eventId:p,data:y},[Xt.port2])):Le(Error("connection_unavailable"))}).then(function(Kt){return Ad(r,K),Kt}).o(function(Kt){throw Ad(r,K),Kt})}function Ad(r,s){if(s){var c=s.messageChannel,h=s.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),U(r.a,function(p){return p==s})}}vw.prototype.close=function(){for(;0<this.a.length;)Ad(this,this.a[0]);this.b=!0};function ww(){if(!Cd())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;Yn()&&self?(this.v=aC(),gw(this.v,"keyChanged",function(s,c){return Iw(r).then(function(h){return 0<h.length&&J(r.a,function(p){p(h)}),{keyProcessed:D(h,c.key)}})}),gw(this.v,"ping",function(){return gt(["keyChanged"])})):_N().then(function(s){(r.h=s)&&(r.g=new vw(new mw(s)),yw(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&D(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var Nd;function cC(r){return new Pt(function(s,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(p){c(Error(p.target.error))}})}function bw(r){return new Pt(function(s,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(p){try{p.preventDefault()}catch{}c(Error(p.target.error))},h.onupgradeneeded=function(p){p=p.target.result;try{p.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(p){p=p.target.result,p.objectStoreNames.contains("firebaseLocalStorage")?s(p):cC(r).then(function(){return bw(r)}).then(function(y){s(y)}).o(function(y){c(y)})}})}function kd(r){return r.i||(r.i=bw(r)),r.i}function Uc(r,s){function c(p,y){kd(r).then(s).then(p).o(function(w){if(3<++h)y(w);else return kd(r).then(function(_){return _.close(),r.i=void 0,c(p,y)}).o(function(_){y(_)})})}var h=0;return new Pt(c)}function Cd(){try{return!!f.indexedDB}catch{return!1}}function Pu(r){return r.objectStore("firebaseLocalStorage")}function Lu(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function Yo(r){return new Pt(function(s,c){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){c(h.target.error)}})}t=ww.prototype,t.set=function(r,s){var c=this,h=!1;return Uc(this,function(p){return p=Pu(Lu(p,!0)),Yo(p.get(r))}).then(function(p){return Uc(c,function(y){if(y=Pu(Lu(y,!0)),p)return p.value=s,Yo(y.put(p));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=s,Yo(y.add(w))})}).then(function(){return c.c[r]=s,Ew(c,r)}).oa(function(){h&&c.b--})};function Ew(r,s){return r.g&&r.h&&IN()===r.h?yw(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):gt()}t.get=function(r){return Uc(this,function(s){return Yo(Pu(Lu(s,!1)).get(r))}).then(function(s){return s&&s.value})},t.U=function(r){var s=this,c=!1;return Uc(this,function(h){return c=!0,s.b++,Yo(Pu(Lu(h,!0)).delete(r))}).then(function(){return delete s.c[r],Ew(s,r)}).oa(function(){c&&s.b--})};function Iw(r){return kd(r).then(function(s){var c=Pu(Lu(s,!1));return c.getAll?Yo(c.getAll()):new Pt(function(h,p){var y=[],w=c.openCursor();w.onsuccess=function(_){(_=_.target.result)?(y.push(_.value),_.continue()):h(y)},w.onerror=function(_){p(_.target.error)}})}).then(function(s){var c={},h=[];if(r.b==0){for(h=0;h<s.length;h++)c[s[h].fbase_key]=s[h].value;h=zy(r.c,c),r.c=c}return h})}t.ca=function(r){this.a.length==0&&lC(this),this.a.push(r)},t.ia=function(r){U(this.a,function(s){return s==r}),this.a.length==0&&_w(this)};function lC(r){function s(){r.f=setTimeout(function(){r.l=Iw(r).then(function(c){0<c.length&&J(r.a,function(h){h(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}_w(r),s()}function _w(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function Tw(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=gt().then(function(){if(Cd()){var h=qi(),p="__sak"+h;return Nd||(Nd=new ww),c=Nd,c.set(p,h).then(function(){return c.get(p)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(p)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(p){J(s.a,function(y){y(p)})}),h})}t=Tw.prototype,t.get=function(r){return this.b.then(function(s){return s.get(r)})},t.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},t.U=function(r){return this.b.then(function(s){return s.U(r)})},t.ca=function(r){this.a.push(r)},t.ia=function(r){U(this.a,function(s){return s==r})};function Mu(){this.a={},this.type="inMemory"}t=Mu.prototype,t.get=function(r){return gt(this.a[r])},t.set=function(r,s){return this.a[r]=s,gt()},t.U=function(r){return delete this.a[r],gt()},t.ca=function(){},t.ia=function(){};function Bc(){if(!fC())throw mr()=="Node"?new A("internal-error","The LocalStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=Sw()||It.INTERNAL.node.localStorage,this.type="localStorage"}function Sw(){try{var r=f.localStorage,s=qi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function fC(){var r=mr()=="Node";if(r=Sw()||r&&It.INTERNAL.node&&It.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=Bc.prototype,t.get=function(r){var s=this;return gt().then(function(){var c=s.a.getItem(r);return zo(c)})},t.set=function(r,s){var c=this;return gt().then(function(){var h=vu(s);h===null?c.U(r):c.a.setItem(r,h)})},t.U=function(r){var s=this;return gt().then(function(){s.a.removeItem(r)})},t.ca=function(r){f.window&&$n(f.window,"storage",r)},t.ia=function(r){f.window&&On(f.window,"storage",r)};function xd(){this.type="nullStorage"}t=xd.prototype,t.get=function(){return gt(null)},t.set=function(){return gt()},t.U=function(){return gt()},t.ca=function(){},t.ia=function(){};function Od(){if(!hC())throw mr()=="Node"?new A("internal-error","The SessionStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=Aw()||It.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Aw(){try{var r=f.sessionStorage,s=qi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function hC(){var r=mr()=="Node";if(r=Aw()||r&&It.INTERNAL.node&&It.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=Od.prototype,t.get=function(r){var s=this;return gt().then(function(){var c=s.a.getItem(r);return zo(c)})},t.set=function(r,s){var c=this;return gt().then(function(){var h=vu(s);h===null?c.U(r):c.a.setItem(r,h)})},t.U=function(r){var s=this;return gt().then(function(){s.a.removeItem(r)})},t.ca=function(){},t.ia=function(){};function dC(){var r={};r.Browser=pC,r.Node=gC,r.ReactNative=mC,r.Worker=vC,this.a=r[mr()]}var Rd,pC={F:Bc,cb:Od},gC={F:Bc,cb:Od},mC={F:hw,cb:xd},vC={F:Bc,cb:xd},Xo={rd:"local",NONE:"none",td:"session"};function yC(r){var s=new A("invalid-persistence-type"),c=new A("unsupported-persistence-type");t:{for(h in Xo)if(Xo[h]==r){var h=!0;break t}h=!1}if(!h||typeof r!="string")throw s;switch(mr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!Cd()&&r!=="none")throw c;break;default:if(!Rh()&&r!=="none")throw c}}function Nw(){var r=!!(!Zy(Be())&&xh()),s=mu(),c=Rh();this.m=r,this.h=s,this.l=c,this.a={},Rd||(Rd=new dC),r=Rd;try{this.g=!kh()&&e0()||!f.indexedDB?new r.a.F:new Tw(Yn()?new Mu:new r.a.F)}catch{this.g=new Mu,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new Mu}this.v=new Mu,this.f=R(this.Zb,this),this.b={}}var Dd;function Fu(){return Dd||(Dd=new Nw),Dd}function Yi(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function Jo(r,s){return"firebase:"+r.name+(s?":"+s:"")}function wC(r,s,c){var h=Jo(s,c),p=Yi(r,s.F);return r.get(s,c).then(function(y){var w=null;try{w=zo(f.localStorage.getItem(h))}catch{}if(w&&!y)return f.localStorage.removeItem(h),r.set(s,w,c);w&&y&&p.type!="localStorage"&&f.localStorage.removeItem(h)})}t=Nw.prototype,t.get=function(r,s){return Yi(this,r.F).get(Jo(r,s))};function Zo(r,s,c){return c=Jo(s,c),s.F=="local"&&(r.b[c]=null),Yi(r,s.F).U(c)}t.set=function(r,s,c){var h=Jo(r,c),p=this,y=Yi(this,r.F);return y.set(h,s).then(function(){return y.get(h)}).then(function(w){r.F=="local"&&(p.b[h]=w)})},t.addListener=function(r,s,c){r=Jo(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),dr(this.a)&&(Yi(this,"local").ca(this.f),this.h||(kh()||!e0())&&f.indexedDB||!this.l||bC(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},t.removeListener=function(r,s,c){r=Jo(r,s),this.a[r]&&(U(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),dr(this.a)&&(Yi(this,"local").ia(this.f),Pd(this))};function bC(r){Pd(r),r.c=setInterval(function(){for(var s in r.a){var c=f.localStorage.getItem(s),h=r.b[s];c!=h&&(r.b[s]=c,c=new Fi({type:"storage",key:s,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Pd(r){r.c&&(clearInterval(r.c),r.c=null)}t.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var p=f.localStorage.getItem(c);p!==h&&(this.b[c]=p,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?Yi(this,"local").ia(this.f):Pd(this),this.m){if(c=f.localStorage.getItem(s),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var y=this;c=function(){(typeof r.a.a<"u"||y.b[s]!==f.localStorage.getItem(s))&&(y.b[s]=f.localStorage.getItem(s),y.nb(s))},Qn&&Xr&&Xr==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else J(r,R(this.nb,this))},t.nb=function(r){this.a[r]&&J(this.a[r],function(s){s()})};function EC(r){this.a=r,this.b=Fu()}var Ld={name:"authEvent",F:"local"};function IC(r){return r.b.get(Ld,r.a).then(function(s){return P0(s)})}function _C(){this.a=Fu()}function TC(){this.b=-1}function qc(r,s){this.b=kw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),$c===void 0&&(f.Int32Array?$c=new Int32Array(Ow):$c=Ow),this.reset()}var $c;B(qc,TC);for(var kw=64,SC=kw-1,Cw=[],Md=0;Md<SC;Md++)Cw[Md]=0;var xw=tt(128,Cw);qc.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):ot(this.h)};function Fd(r){for(var s=r.f,c=r.l,h=0,p=0;p<s.length;)c[h++]=s[p]<<24|s[p+1]<<16|s[p+2]<<8|s[p+3],p=4*h;for(s=16;64>s;s++){p=c[s-15]|0,h=c[s-2]|0;var y=(c[s-16]|0)+((p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3)|0,w=(c[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[s]=y+w|0}h=r.a[0]|0,p=r.a[1]|0;var _=r.a[2]|0,F=r.a[3]|0,K=r.a[4]|0,_t=r.a[5]|0,Xt=r.a[6]|0;for(y=r.a[7]|0,s=0;64>s;s++){var Kt=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&p^h&_^p&_)|0;w=K&_t^~K&Xt,y=y+((K>>>6|K<<26)^(K>>>11|K<<21)^(K>>>25|K<<7))|0,w=w+($c[s]|0)|0,w=y+(w+(c[s]|0)|0)|0,y=Xt,Xt=_t,_t=K,K=F+w|0,F=_,_=p,p=h,h=w+Kt|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+p|0,r.a[2]=r.a[2]+_|0,r.a[3]=r.a[3]+F|0,r.a[4]=r.a[4]+K|0,r.a[5]=r.a[5]+_t|0,r.a[6]=r.a[6]+Xt|0,r.a[7]=r.a[7]+y|0}function Vd(r,s,c){c===void 0&&(c=s.length);var h=0,p=r.c;if(typeof s=="string")for(;h<c;)r.f[p++]=s.charCodeAt(h++),p==r.b&&(Fd(r),p=0);else if(I(s))for(;h<c;){var y=s[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");r.f[p++]=y,p==r.b&&(Fd(r),p=0)}else throw Error("message must be string or array");r.c=p,r.g+=c}var Ow=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Rw(){qc.call(this,8,AC)}B(Rw,qc);var AC=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Dw(r,s,c,h,p,y){this.v=r,this.i=s,this.l=c,this.m=h||null,this.u=p||null,this.s=y,this.h=s+":"+c,this.C=new _C,this.g=new EC(this.h),this.f=null,this.b=[],this.a=this.c=null}function Kc(r){return new A("invalid-cordova-configuration",r)}t=Dw.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=wN().then(function(){if(typeof ue("universalLinks.subscribe",f)!="function")throw Kc("cordova-universal-links-plugin-fix is not installed");if(typeof ue("BuildInfo.packageName",f)>"u")throw Kc("cordova-plugin-buildinfo is not installed");if(typeof ue("cordova.plugins.browsertab.openUrl",f)!="function")throw Kc("cordova-plugin-browsertab is not installed");if(typeof ue("cordova.InAppBrowser.open",f)!="function")throw Kc("cordova-plugin-inappbrowser is not installed")},function(){throw new A("cordova-not-ready")})};function NC(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function kC(r){var s=new Rw;Vd(s,r),r=[];var c=8*s.g;56>s.c?Vd(s,xw,56-s.c):Vd(s,xw,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=c&255,c/=256;for(Fd(s),h=c=0;h<s.i;h++)for(var p=24;0<=p;p-=8)r[c++]=s.a[h]>>p&255;return jN(r)}t.Pb=function(r,s){return s(new A("operation-not-supported-in-this-environment")),gt()},t.Nb=function(){return se(new A("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(r,s,c,h){if(this.c)return se(new A("redirect-operation-pending"));var p=this,y=f.document,w=null,_=null,F=null,K=null;return this.c=gt().then(function(){return td(s),Lw(p)}).then(function(){return CC(p,r,s,c,h)}).then(function(){return new Pt(function(_t,Xt){_=function(){var Kt=ue("cordova.plugins.browsertab.close",f);return _t(),typeof Kt=="function"&&Kt(),p.a&&typeof p.a.close=="function"&&(p.a.close(),p.a=null),!1},p.Ea(_),F=function(){w||(w=Uo(2e3).then(function(){Xt(new A("redirect-cancelled-by-user"))}))},K=function(){Dh()&&F()},y.addEventListener("resume",F,!1),Be().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",K,!1)}).o(function(_t){return jd(p).then(function(){throw _t})})}).oa(function(){F&&y.removeEventListener("resume",F,!1),K&&y.removeEventListener("visibilitychange",K,!1),w&&w.cancel(),_&&p.Ta(_),p.c=null})};function CC(r,s,c,h,p){var y=NC(),w=new Xn(s,h,null,y,new A("no-auth-event"),null,p),_=ue("BuildInfo.packageName",f);if(typeof _!="string")throw new A("invalid-cordova-configuration");var F=ue("BuildInfo.displayName",f),K={};if(Be().toLowerCase().match(/iphone|ipad|ipod/))K.ibi=_;else if(Be().toLowerCase().match(/android/))K.apn=_;else return se(new A("operation-not-supported-in-this-environment"));F&&(K.appDisplayName=F),y=kC(y),K.sessionId=y;var _t=Du(r.v,r.i,r.l,s,c,null,h,r.m,K,r.u,p,r.s);return r.ma().then(function(){var Xt=r.h;return r.C.a.set(Ld,w.w(),Xt)}).then(function(){var Xt=ue("cordova.plugins.browsertab.isAvailable",f);if(typeof Xt!="function")throw new A("invalid-cordova-configuration");var Kt=null;Xt(function(Le){if(Le){if(Kt=ue("cordova.plugins.browsertab.openUrl",f),typeof Kt!="function")throw new A("invalid-cordova-configuration");Kt(_t)}else{if(Kt=ue("cordova.InAppBrowser.open",f),typeof Kt!="function")throw new A("invalid-cordova-configuration");Le=Be(),r.a=Kt(_t,Le.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Le.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Pw(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function Lw(r){return r.f||(r.f=r.ma().then(function(){return new Pt(function(s){function c(h){return s(h),r.Ta(c),!1}r.Ea(c),xC(r)})})),r.f}function jd(r){var s=null;return IC(r.g).then(function(c){return s=c,c=r.g,Zo(c.b,Ld,c.a)}).then(function(){return s})}function xC(r){function s(w){h=!0,p&&p.cancel(),jd(r).then(function(_){var F=c;if(_&&w&&w.url){var K=null;F=A0(w.url),F.indexOf("/__/auth/callback")!=-1&&(K=wn(F),K=zo(Kn(K,"firebaseError")||null),K=(K=typeof K=="object"?Lt(K):null)?new Xn(_.c,_.b,null,null,K,null,_.T()):new Xn(_.c,_.b,F,_.f,null,null,_.T())),F=K||c}Pw(r,F)})}var c=new Xn("unknown",null,null,null,new A("no-auth-event")),h=!1,p=Uo(500).then(function(){return jd(r).then(function(){h||Pw(r,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(ue("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:w}),typeof y=="function")try{y(w)}catch(_){console.error(_)}},ed||(ed=new GN),WN(s)}t.Ea=function(r){this.b.push(r),Lw(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new Xn("unknown",null,null,null,new A("no-auth-event")),r(s))})},t.Ta=function(r){U(this.b,function(s){return s==r})};function OC(r){this.a=r,this.b=Fu()}var Ud={name:"pendingRedirect",F:"session"};function RC(r){return r.b.set(Ud,"pending",r.a)}function Bd(r){return Zo(r.b,Ud,r.a)}function DC(r){return r.b.get(Ud,r.a).then(function(s){return s=="pending"})}function Hc(r,s,c,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=R(this.s,this),this.b=new Gc,this.C=new Hw,this.g=new OC(qw(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Mw(this.D,this.v,this.m,St,this.J)}function Mw(r,s,c,h,p){var y=It.SDK_VERSION||null;return Ch()?new Dw(r,s,c,y,h,p):new aw(r,s,c,y,h,p)}Hc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Mw(this.D,this.v,this.m,null,this.J),this.i={}};function Fw(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function Vw(r){r.a.Yb()&&Fw(r).o(function(s){var c=new Xn("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));$d(s)&&r.s(c)}),r.a.Ub()||$w(r.b)}function zc(r,s){D(r.h,s)||r.h.push(s),r.f||DC(r.g).then(function(c){c?Bd(r.g).then(function(){Fw(r).o(function(h){var p=new Xn("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));$d(h)&&r.s(p)})}):Vw(r)}).o(function(){Vw(r)})}function qd(r,s){U(r.h,function(c){return c==s})}Hc.prototype.s=function(r){if(!r)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return $w(this.b),s};var PC=new ti(2e3,1e4),LC=new ti(3e4,6e4);Hc.prototype.ra=function(){return this.b.ra()};function jw(r,s,c,h,p,y,w){return r.a.Nb(s,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},p,y,w)}function $d(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Uw(r,s,c,h,p){var y;return RC(r.g).then(function(){return r.a.Ob(s,c,h,p).o(function(w){if($d(w))throw new A("operation-not-supported-in-this-environment");return y=w,Bd(r.g).then(function(){throw y})}).then(function(){return r.a.ac()?new Pt(function(){}):Bd(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Bw(r,s,c,h,p){return r.a.Pb(h,function(y){s.na(c,null,y,p)},PC.get())}var Kd={};function qw(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function Hd(r,s,c,h){var p=qw(s,c,h);return Kd[p]||(Kd[p]=new Hc(r,s,c,h)),Kd[p]}function Gc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Gc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Gc.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,p=r.a&&r.a.code=="auth/web-storage-unsupported",y=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!p&&!y),c!="unknown"||p||y?r.a?(Xi(this,!0,null,r.a),gt()):s.Fa(c,h)?MC(this,r,s):se(new A("invalid-auth-event")):(Xi(this,!1,null,null),gt())}else se(new A("invalid-auth-event"))};function $w(r){r.g||(r.g=!0,Xi(r,!1,null,null))}function Wc(r){r.g&&!r.i&&Xi(r,!1,null,null)}function MC(r,s,c){c=c.Fa(s.c,s.b);var h=s.g,p=s.f,y=s.i,w=s.T(),_=!!s.c.match(/Redirect$/);c(h,p,w,y).then(function(F){Xi(r,_,F,null)}).o(function(F){Xi(r,_,null,F)})}function FC(r,s){if(r.b=function(){return se(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function Kw(r,s){if(r.b=function(){return gt(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function Xi(r,s,c,h){s?h?FC(r,h):Kw(r,c):Kw(r,{user:null}),r.f=[],r.c=[]}Gc.prototype.ra=function(){var r=this;return new Pt(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),VC(r))})};function VC(r){var s=new A("timeout");r.a&&r.a.cancel(),r.a=Uo(LC.get()).then(function(){r.b||(r.g=!0,Xi(r,!0,null,s))})}function Hw(){}Hw.prototype.h=function(r,s){if(r){var c=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),gt()):s.Fa(c,h)?jC(r,s):se(new A("invalid-auth-event"))}else se(new A("invalid-auth-event"))};function jC(r,s){var c=r.b,h=r.c;s.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(p){s.na(h,p,null,c)}).o(function(p){s.na(h,null,p,c)})}function zw(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function zd(r,s){this.a=s,ht(this,"verificationId",r)}zd.prototype.confirm=function(r){return r=D0(this.verificationId,r),this.a(r)};function Gd(r,s,c,h){return new Lr(r).gb(s,c).then(function(p){return new zd(p,h)})}function UC(r){var s=y0(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");cn(this,{token:r,expirationTime:yu(1e3*s.exp),authTime:yu(1e3*s.auth_time),issuedAtTime:yu(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function Wd(r,s,c){var h=s&&s[Ww];if(!h)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=me(s),this.g=c,this.c=new _c(null,h),this.b=[];var p=this;J(s[Gw]||[],function(y){(y=jh(y))&&p.b.push(y)}),ht(this,"auth",this.a),ht(this,"session",this.c),ht(this,"hints",this.b)}var Gw="mfaInfo",Ww="mfaPendingCredential";Wd.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var h=me(s.f);return delete h[Gw],delete h[Ww],Ue(h,c),s.g(h)})};function Qd(r,s,c,h){A.call(this,"multi-factor-auth-required",h,s),this.b=new Wd(r,s,c),ht(this,"resolver",this.b)}B(Qd,A);function Qw(r,s,c){if(r&&O(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new Qd(s,r.serverResponse,c,r.message)}catch{}return null}function Yw(){}Yw.prototype.tb=function(r,s,c){return s.type==Iu?BC(this,r,s,c):qC(this,r,s)};function BC(r,s,c,h){return c.Ha().then(function(p){return p={idToken:p},typeof h<"u"&&(p.displayName=h),Ue(p,{phoneVerificationInfo:_u(r.a)}),Mt(s,xk,p)})}function qC(r,s,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},Ue(h,{phoneVerificationInfo:_u(r.a)}),Mt(s,Ok,h)})}function Yd(r){ht(this,"factorId",r.fa),this.a=r}B(Yd,Yw);function Xw(r){if(Yd.call(this,r),this.a.fa!=Lr.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}B(Xw,Yd);function ts(r,s){yn.call(this,r);for(var c in s)this[c]=s[c]}B(ts,yn);function Xd(r,s){this.a=r,this.b=[],this.c=R(this.yc,this),$n(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&J(s.multiFactor.enrolledFactors,function(h){var p=null,y={};if(h){h.uid&&(y[Bh]=h.uid),h.displayName&&(y[r0]=h.displayName),h.enrollmentTime&&(y[Uh]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[qh]=h.phoneNumber);try{p=new wu(y)}catch{}h=p}else h=null;h&&c.push(h)}),Qc(this,c)}function $C(r){var s=[];return J(r.mfaInfo||[],function(c){(c=jh(c))&&s.push(c)}),s}t=Xd.prototype,t.yc=function(r){Qc(this,$C(r.hd))};function Qc(r,s){r.b=s,ht(r,"enrolledFactors",s)}t.Sb=function(){return this.a.I().then(function(r){return new _c(r,null)})},t.fc=function(r,s){var c=this,h=this.a.a;return this.Sb().then(function(p){return r.tb(h,p,s)}).then(function(p){return wr(c.a,p),c.a.reload()})},t.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(p){return Mt(h,Xk,{idToken:p,mfaEnrollmentId:c})}).then(function(p){var y=qt(s.b,function(w){return w.uid!=c});return Qc(s,y),wr(s.a,p),s.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},t.w=function(){return{multiFactor:{enrolledFactors:wt(this.b,function(r){return r.w()})}}};function Jd(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Jd.prototype.start=function(){this.a=this.c,Zd(this,!0)};function KC(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function Zd(r,s){r.stop(),r.b=Uo(KC(r,s)).then(function(){return EN()}).then(function(){return r.h()}).then(function(){Zd(r,!0)}).o(function(c){r.i(c)&&Zd(r,!1)})}Jd.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function tp(r){this.f=r,this.b=this.a=null,this.c=Date.now()}tp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Jw(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function Zw(r,s){r.b=Ec(s[Zn]||""),r.a=s.refreshToken,s=s.expiresIn,Jw(r,typeof s<"u"?Number(s):void 0)}function HC(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function zC(r,s){return pk(r.f,s).then(function(c){return r.b=Ec(c.access_token),r.a=c.refresh_token,Jw(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}tp.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?se(new A("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?zC(this,{grant_type:"refresh_token",refresh_token:this.a}):gt(null):gt({accessToken:this.b.toString(),refreshToken:this.a})};function Yc(r,s){this.a=r||null,this.b=s||null,cn(this,{lastSignInTime:yu(s||null),creationTime:yu(r||null)})}function GC(r){return new Yc(r.a,r.b)}Yc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function WC(r,s,c,h,p,y){cn(this,{uid:r,displayName:h||null,photoURL:p||null,email:c||null,phoneNumber:y||null,providerId:s})}function Dn(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=It.SDK_VERSION?Ko(It.SDK_VERSION):null;this.a=new Jn(this.l,jt(St),h),(this.u=r.emulatorConfig||null)&&Vc(this.a,this.u),this.h=new tp(this.a),up(this,s[Zn]),Zw(this.h,s),ht(this,"refreshToken",this.h.a),eb(this,c||{}),an.call(this),this.P=!1,this.s&&Bi()&&(this.b=Hd(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=QC(this),this.ba=R(this.ib,this);var p=this;this.za=null,this.Pa=function(y){p.xa(y.h)},this.qa=null,this.Ba=function(y){ep(p,y.c)},this.$=null,this.aa=[],this.Oa=function(y){Vu(p,y.f)},this.ja=null,this.S=new Xd(this,c),ht(this,"multiFactor",this.S)}B(Dn,an),Dn.prototype.xa=function(r){this.za=r,Q0(this.a,r)};function ep(r,s){r.u=s,Vc(r.a,s),r.b&&(s=r.b,r.b=Hd(r.s,r.l,r.m,r.u),r.P&&(qd(s,r),zc(r.b,r)))}Dn.prototype.la=function(){return this.za};function np(r,s){r.qa&&On(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&$n(s,"languageCodeChanged",r.Pa)}function rp(r,s){r.$&&On(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&$n(s,"emulatorConfigChanged",r.Ba)}function Vu(r,s){r.aa=s,Y0(r.a,It.SDK_VERSION?Ko(It.SDK_VERSION,r.aa):null)}Dn.prototype.Ga=function(){return ot(this.aa)};function ip(r,s){r.ja&&On(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&$n(s,"frameworkChanged",r.Oa)}Dn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function op(r){try{return It.app(r.m).auth()}catch{throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function QC(r){return new Jd(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function tb(r){r.J||r.D.b||(r.D.start(),On(r,"tokenChanged",r.ba),$n(r,"tokenChanged",r.ba))}function sp(r){On(r,"tokenChanged",r.ba),r.D.stop()}function up(r,s){r.Aa=s,ht(r,"_lat",s)}function YC(r,s){U(r.W,function(c){return c==s})}function Ji(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return yy(s).then(function(){return r})}function ju(r){r.b&&!r.P&&(r.P=!0,zc(r.b,r))}function eb(r,s){cn(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new Yc(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}ht(Dn.prototype,"providerId","firebase");function nb(){}function ap(r){return gt().then(function(){if(r.J)throw new A("app-deleted")})}function cp(r){return wt(r.providerData,function(s){return s.providerId})}function lp(r,s){s&&(rb(r,s.providerId),r.providerData.push(s))}function rb(r,s){U(r.providerData,function(c){return c.providerId==s})}function ri(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&ht(r,s,c)}function Xc(r,s){r!=s&&(cn(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?ht(r,"metadata",GC(s.metadata)):ht(r,"metadata",new Yc),J(s.providerData,function(c){lp(r,c)}),HC(r.h,s.h),ht(r,"refreshToken",r.h.a),Qc(r.S,s.S.b))}t=Dn.prototype,t.reload=function(){var r=this;return Re(this,ap(this).then(function(){return fp(r).then(function(){return Ji(r)}).then(nb)}))};function fp(r){return r.I().then(function(s){var c=r.isAnonymous;return XC(r,s).then(function(){return c||ri(r,"isAnonymous",!1),s})})}t.oc=function(r){return this.I(r).then(function(s){return new UC(s)})},t.I=function(r){var s=this;return Re(this,ap(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new A("internal-error");return c.accessToken!=s.Aa&&(up(s,c.accessToken),s.dispatchEvent(new ts("tokenChanged"))),ri(s,"refreshToken",c.refreshToken),c.accessToken}))};function wr(r,s){s[Zn]&&r.Aa!=s[Zn]&&(Zw(r.h,s),r.dispatchEvent(new ts("tokenChanged")),up(r,s[Zn]),ri(r,"refreshToken",r.h.a))}function XC(r,s){return Mt(r.a,Rk,{idToken:s}).then(R(r.Kc,r))}t.Kc=function(r){if(r=r.users,!r||!r.length)throw new A("internal-error");r=r[0],eb(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=JC(r),c=0;c<s.length;c++)lp(this,s[c]);ri(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ts("userReloaded",{hd:r}))};function JC(r){return(r=r.providerUserInfo)&&r.length?wt(r,function(s){return new WC(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}t.Lc=function(r){return Ph("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},t.ub=function(r){var s=this,c=null;return Re(this,r.c(this.a,this.uid).then(function(h){return wr(s,h),c=Uu(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function Jc(r,s){return fp(r).then(function(){if(D(cp(r),s))return Ji(r).then(function(){throw new A("provider-already-linked")})})}t.Cc=function(r){return Ph("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},t.rb=function(r){var s=this,c=null;return Re(this,Jc(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return c=Uu(s,h,"link"),ib(s,h)}).then(function(){return c}))},t.Dc=function(r,s){var c=this;return Re(this,Jc(this,"phone").then(function(){return Gd(op(c),r,s,R(c.rb,c))}))},t.Mc=function(r,s){var c=this;return Re(this,gt().then(function(){return Gd(op(c),r,s,R(c.ub,c))}),!0)};function Uu(r,s,c){var h=Zh(s);return s=b0(s),vr({user:r,credential:h,additionalUserInfo:s,operationType:c})}function ib(r,s){return wr(r,s),r.reload().then(function(){return r})}t.Cb=function(r){var s=this;return Re(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return wr(s,c),s.reload()}))},t.ed=function(r){var s=this;return Re(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return wr(s,c),s.reload()}))},t.Db=function(r){var s=this;return Re(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return wr(s,c),s.reload()}))},t.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return ap(this);var s=this;return Re(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return wr(s,c),ri(s,"displayName",c.displayName||null),ri(s,"photoURL",c.photoUrl||null),J(s.providerData,function(h){h.providerId==="password"&&(ht(h,"displayName",s.displayName),ht(h,"photoURL",s.photoURL))}),Ji(s)}).then(nb))},t.cd=function(r){var s=this;return Re(this,fp(this).then(function(c){return D(cp(s),r)?Ek(s.a,c,[r]).then(function(h){var p={};return J(h.providerUserInfo||[],function(y){p[y.providerId]=!0}),J(cp(s),function(y){p[y]||rb(s,y)}),p[Lr.PROVIDER_ID]||ht(s,"phoneNumber",null),Ji(s)}):Ji(s).then(function(){throw new A("no-such-provider")})}))},t.delete=function(){var r=this;return Re(this,this.I().then(function(s){return Mt(r.a,Ak,{idToken:s})}).then(function(){r.dispatchEvent(new ts("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");np(r,null),rp(r,null),ip(r,null),r.N=[],r.J=!0,sp(r),ht(r,"refreshToken",null),r.b&&qd(r.b,r)})},t.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},t.na=function(r,s,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?R(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?R(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?R(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?R(this.Mb,this):null},t.Ec=function(r){var s=this;return ob(this,"linkViaPopup",r,function(){return Jc(s,r.providerId).then(function(){return Ji(s)})},!1)},t.Nc=function(r){return ob(this,"reauthViaPopup",r,function(){return gt()},!0)};function ob(r,s,c,h,p){if(!Bi())return se(new A("operation-not-supported-in-this-environment"));if(r.i&&!p)return se(r.i);var y=Gh(c.providerId),w=qi(r.uid+":::"),_=null;(!mu()||xh())&&r.s&&c.isOAuthProvider&&(_=Du(r.s,r.l,r.m,s,c,null,w,It.SDK_VERSION||null,null,null,r.tenantId,r.u));var F=Wy(_,y&&y.va,y&&y.ua);return h=h().then(function(){if(ub(r),!p)return r.I().then(function(){})}).then(function(){return jw(r.b,F,s,c,w,!!_,r.tenantId)}).then(function(){return new Pt(function(K,_t){r.na(s,null,new A("cancelled-popup-request"),r.g||null),r.f=K,r.C=_t,r.g=w,r.c=Bw(r.b,r,s,F,w)})}).then(function(K){return F&&Ui(F),K?vr(K):null}).o(function(K){throw F&&Ui(F),K}),Re(r,h,p)}t.Fc=function(r){var s=this;return sb(this,"linkViaRedirect",r,function(){return Jc(s,r.providerId)},!1)},t.Oc=function(r){return sb(this,"reauthViaRedirect",r,function(){return gt()},!0)};function sb(r,s,c,h,p){if(!Bi())return se(new A("operation-not-supported-in-this-environment"));if(r.i&&!p)return se(r.i);var y=null,w=qi(r.uid+":::");return h=h().then(function(){if(ub(r),!p)return r.I().then(function(){})}).then(function(){return r.ga=w,Ji(r)}).then(function(_){return r.ha&&(_=r.ha,_=_.b.set(hp,r.w(),_.a)),_}).then(function(){return Uw(r.b,s,c,w,r.tenantId)}).o(function(_){if(y=_,r.ha)return cb(r.ha);throw y}).then(function(){if(y)throw y}),Re(r,h,p)}function ub(r){if(!r.b||!r.P)throw r.b&&!r.P?new A("internal-error"):new A("auth-domain-config-required")}t.Lb=function(r,s,c,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(w){return bd(p.a,{requestUri:r,postBody:h,sessionId:s,idToken:w})}).then(function(w){return y=Uu(p,w,"link"),ib(p,w)}).then(function(){return y}),Re(this,c)},t.Mb=function(r,s,c,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var y=null,w=gt().then(function(){return Wo(Ed(p.a,{requestUri:r,sessionId:s,postBody:h,tenantId:c}),p.uid)}).then(function(_){return y=Uu(p,_,"reauthenticate"),wr(p,_),p.i=null,p.reload()}).then(function(){return y});return Re(this,w,!0)},t.vb=function(r){var s=this,c=null;return Re(this,this.I().then(function(h){return c=h,typeof r>"u"||dr(r)?{}:wc(new yc(r))}).then(function(h){return s.a.vb(c,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},t.Fb=function(r,s){var c=this,h=null;return Re(this,this.I().then(function(p){return h=p,typeof s>"u"||dr(s)?{}:wc(new yc(s))}).then(function(p){return c.a.Fb(h,r,p)}).then(function(p){if(c.email!=p)return c.reload()}).then(function(){}))};function Re(r,s,c){var h=ZC(r,s,c);return r.N.push(h),h.oa(function(){j(r.N,h)}),h.o(function(p){var y=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(y=Qw(p.w(),op(r),R(r.jc,r))),y||p})}t.jc=function(r){var s=null,c=this;return r=Wo(gt(r),c.uid).then(function(h){return s=Uu(c,h,"reauthenticate"),wr(c,h),c.i=null,c.reload()}).then(function(){return s}),Re(this,r,!0)};function ZC(r,s,c){return r.i&&!c?(s.cancel(),se(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new ts("userInvalidated")),r.i=h),h})}t.toJSON=function(){return this.w()},t.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Ue(r,this.metadata.w()),J(this.providerData,function(s){r.providerData.push(TN(s))}),Ue(r,this.S.w()),r};function ab(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[Zn]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var p=new Dn(s,c,r);return r.providerData&&J(r.providerData,function(y){y&&lp(p,vr(y))}),r.redirectEventId&&(p.ga=r.redirectEventId),p}function tx(r,s,c,h){var p=new Dn(r,s);return c&&(p.ha=c),h&&Vu(p,h),p.reload().then(function(){return p})}function ex(r,s,c,h){var p=r.h,y={};return y[Zn]=p.b&&p.b.toString(),y.refreshToken=p.a,s=new Dn(s||{apiKey:r.l,authDomain:r.s,appName:r.m},y),c&&(s.ha=c),h&&Vu(s,h),Xc(s,r),s}function nx(r){this.a=r,this.b=Fu()}var hp={name:"redirectUser",F:"session"};function cb(r){return Zo(r.b,hp,r.a)}function rx(r,s){return r.b.get(hp,r.a).then(function(c){return c&&s&&(c.authDomain=s),ab(c||{})})}function dp(r){this.a=r,this.b=Fu(),this.c=null,this.f=ix(this),this.b.addListener(br("local"),this.a,R(this.g,this))}dp.prototype.g=function(){var r=this,s=br("local");es(this,function(){return gt().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return pp(r,"local").then(function(){r.c=s})})})};function pp(r,s){var c=[],h;for(h in Xo)Xo[h]!==s&&c.push(Zo(r.b,br(Xo[h]),r.a));return c.push(Zo(r.b,gp,r.a)),GA(c)}function ix(r){var s=br("local"),c=br("session"),h=br("none");return wC(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(p){return p?c:r.b.get(h,r.a).then(function(y){return y?h:r.b.get(s,r.a).then(function(w){return w?s:r.b.get(gp,r.a).then(function(_){return _?br(_):s})})})}).then(function(p){return r.c=p,pp(r,p.F)}).o(function(){r.c||(r.c=s)})}var gp={name:"persistence",F:"session"};function br(r){return{name:"authUser",F:r}}dp.prototype.yb=function(r){var s=null,c=this;return yC(r),es(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return s=h,pp(c,r)}).then(function(){if(c.c=br(r),s)return c.b.set(c.c,s,c.a)}):gt()})};function ox(r){return es(r,function(){return r.b.set(gp,r.c.F,r.a)})}function lb(r,s){return es(r,function(){return r.b.set(r.c,s.w(),r.a)})}function fb(r){return es(r,function(){return Zo(r.b,r.c,r.a)})}function hb(r,s,c){return es(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&c&&(h.emulatorConfig=c),ab(h||{})})})}function es(r,s){return r.f=r.f.then(s,s),r.f}function tr(r){if(this.l=!1,ht(this,"settings",new zw),ht(this,"app",r),Zt(this).options&&Zt(this).options.apiKey)r=It.SDK_VERSION?Ko(It.SDK_VERSION):null,this.a=new Jn(Zt(this).options&&Zt(this).options.apiKey,jt(St),r);else throw new A("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=It.INTERNAL.createSubscribe(R(this.zc,this)),this.W=void 0,this.ib=It.INTERNAL.createSubscribe(R(this.Ac,this)),ns(this,null),this.i=new dp(Zt(this).options.apiKey+":"+Zt(this).name),this.D=new nx(Zt(this).options.apiKey+":"+Zt(this).name),this.$=ve(this,fx(this)),this.h=ve(this,hx(this)),this.ba=!1,this.ja=R(this.Zc,this),this.Ba=R(this.da,this),this.qa=R(this.mc,this),this.za=R(this.wc,this),this.Aa=R(this.xc,this),this.b=null,ax(this),this.INTERNAL={},this.INTERNAL.delete=R(this.delete,this),this.INTERNAL.logFramework=R(this.Gc,this),this.u=0,an.call(this),ux(this),this.J=[],this.R=null}B(tr,an);function db(r){yn.call(this,"languageCodeChanged"),this.h=r}B(db,yn);function pb(r){yn.call(this,"emulatorConfigChanged"),this.c=r}B(pb,yn);function gb(r){yn.call(this,"frameworkChanged"),this.f=r}B(gb,yn),t=tr.prototype,t.yb=function(r){return r=this.i.yb(r),ve(this,r)},t.xa=function(r){this.aa===r||this.l||(this.aa=r,Q0(this.a,this.aa),this.dispatchEvent(new db(this.la())))},t.la=function(){return this.aa},t.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},t.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,sx(s),this.R={url:r,ec:s},this.settings.jb=!0,Vc(this.a,this.R),this.dispatchEvent(new pb(this.R))}};function sx(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&gc().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}t.Gc=function(r){this.J.push(r),Y0(this.a,It.SDK_VERSION?Ko(It.SDK_VERSION,this.J):null),this.dispatchEvent(new gb(this.J))},t.Ga=function(){return ot(this.J)},t.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},t.T=function(){return this.S};function ux(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=wn(this.R.url);s=vr({protocol:s.c,host:s.a,port:s.g,options:vr({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}t.toJSON=function(){return{apiKey:Zt(this).options.apiKey,authDomain:Zt(this).options.authDomain,appName:Zt(this).name,currentUser:Ct(this)&&Ct(this).w()}};function mp(r){return r.Oa||se(new A("auth-domain-config-required"))}function ax(r){var s=Zt(r).options.authDomain,c=Zt(r).options.apiKey;s&&Bi()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Hd(s,c,Zt(r).name,r.R),zc(r.b,r),Ct(r)&&ju(Ct(r)),r.m){ju(r.m);var h=r.m;h.xa(r.la()),np(h,r),h=r.m,Vu(h,r.J),ip(h,r),h=r.m,ep(h,r.R),rp(h,r),r.m=null}return r.b}}))}t.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},t.na=function(r,s,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?R(this.ic,this):null},t.ic=function(r,s,c,h){var p=this,y={requestUri:r,postBody:h,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),p.$.then(function(){return Zi(p,wd(p.a,y))})},t.Xc=function(r){if(!Bi())return se(new A("operation-not-supported-in-this-environment"));var s=this,c=Gh(r.providerId),h=qi(),p=null;(!mu()||xh())&&Zt(this).options.authDomain&&r.isOAuthProvider&&(p=Du(Zt(this).options.authDomain,Zt(this).options.apiKey,Zt(this).name,"signInViaPopup",r,null,h,It.SDK_VERSION||null,null,null,this.T(),this.R));var y=Wy(p,c&&c.va,c&&c.ua);return c=mp(this).then(function(w){return jw(w,y,"signInViaPopup",r,h,!!p,s.T())}).then(function(){return new Pt(function(w,_){s.na("signInViaPopup",null,new A("cancelled-popup-request"),s.g),s.f=w,s.C=_,s.g=h,s.c=Bw(s.b,s,"signInViaPopup",y,h)})}).then(function(w){return y&&Ui(y),w?vr(w):null}).o(function(w){throw y&&Ui(y),w}),ve(this,c)},t.Yc=function(r){if(!Bi())return se(new A("operation-not-supported-in-this-environment"));var s=this,c=mp(this).then(function(){return ox(s.i)}).then(function(){return Uw(s.b,"signInViaRedirect",r,void 0,s.T())});return ve(this,c)};function mb(r){if(!Bi())return se(new A("operation-not-supported-in-this-environment"));var s=mp(r).then(function(){return r.b.ra()}).then(function(c){return c?vr(c):null});return ve(r,s)}t.ra=function(){var r=this;return mb(this).then(function(s){return r.b&&Wc(r.b.b),s}).o(function(s){throw r.b&&Wc(r.b.b),s})},t.dd=function(r){if(!r)return se(new A("null-user"));if(this.S!=r.tenantId)return se(new A("tenant-id-mismatch"));var s=this,c={};c.apiKey=Zt(this).options.apiKey,c.authDomain=Zt(this).options.authDomain,c.appName=Zt(this).name;var h=ex(r,c,s.D,s.Ga());return ve(this,this.h.then(function(){if(Zt(s).options.apiKey!=r.l)return h.reload()}).then(function(){return Ct(s)&&r.uid==Ct(s).uid?(Xc(Ct(s),r),s.da(r)):(ns(s,h),ju(h),s.da(h))}).then(function(){Bu(s)}))};function cx(r,s){var c={};return c.apiKey=Zt(r).options.apiKey,c.authDomain=Zt(r).options.authDomain,c.appName=Zt(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return tx(c,s,r.D,r.Ga())}).then(function(h){return Ct(r)&&h.uid==Ct(r).uid?(Xc(Ct(r),h),r.da(h)):(ns(r,h),ju(h),r.da(h))}).then(function(){Bu(r)})}function ns(r,s){Ct(r)&&(YC(Ct(r),r.Ba),On(Ct(r),"tokenChanged",r.qa),On(Ct(r),"userDeleted",r.za),On(Ct(r),"userInvalidated",r.Aa),sp(Ct(r))),s&&(s.W.push(r.Ba),$n(s,"tokenChanged",r.qa),$n(s,"userDeleted",r.za),$n(s,"userInvalidated",r.Aa),0<r.u&&tb(s)),ht(r,"currentUser",s),s&&(s.xa(r.la()),np(s,r),Vu(s,r.J),ip(s,r),ep(s,r.R),rp(s,r))}t.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&Wc(r.b.b),Ct(r)?(ns(r,null),fb(r.i).then(function(){Bu(r)})):gt()});return ve(this,s)};function lx(r){var s=rx(r.D,Zt(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),cb(r.D)});return ve(r,s)}function fx(r){var s=Zt(r).options.authDomain,c=lx(r).then(function(){return hb(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return lb(r.i,h).then(function(){return h})}).o(function(p){return p.code=="auth/network-request-failed"?h:fb(r.i)})):null}).then(function(h){ns(r,h||null)});return ve(r,c)}function hx(r){return r.$.then(function(){return mb(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(br("local"),s.a,r.ja)}})}t.Zc=function(){var r=this;return hb(this.i,Zt(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=Ct(r)&&s){c=Ct(r).uid;var h=s.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return Xc(Ct(r),s),Ct(r).I();(Ct(r)||s)&&(ns(r,s),s&&(ju(s),s.ha=r.D),r.b&&zc(r.b,r),Bu(r))}})},t.da=function(r){return lb(this.i,r)},t.mc=function(){Bu(this),this.da(Ct(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function Zi(r,s){var c=null,h=null;return ve(r,s.then(function(p){return c=Zh(p),h=b0(p),cx(r,p)},function(p){var y=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(y=Qw(p.w(),r,R(r.kc,r))),y||p}).then(function(){return vr({user:Ct(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}t.kc=function(r){var s=this;return this.h.then(function(){return Zi(s,gt(r))})},t.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(Ct(s))})},t.Ac=function(r){var s=this;dx(this,function(){r.next(Ct(s))})},t.Ic=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(Ct(h)):typeof r.next=="function"&&r.next(Ct(h))}),this.Pa(r,s,c)},t.Hc=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(Ct(h)):typeof r.next=="function"&&r.next(Ct(h))}),this.ib(r,s,c)},t.nc=function(r){var s=this,c=this.h.then(function(){return Ct(s)?Ct(s).I(r).then(function(h){return{accessToken:h}}):null});return ve(this,c)},t.Tc=function(r){var s=this;return this.h.then(function(){return Zi(s,Mt(s.a,Gk,{token:r}))}).then(function(c){var h=c.user;return ri(h,"isAnonymous",!1),s.da(h),c})},t.Uc=function(r,s){var c=this;return this.h.then(function(){return Zi(c,Mt(c.a,ow,{email:r,password:s}))})},t.dc=function(r,s){var c=this;return this.h.then(function(){return Zi(c,Mt(c.a,Tk,{email:r,password:s}))})},t.ab=function(r){var s=this;return this.h.then(function(){return Zi(s,r.ka(s.a))})},t.Sc=function(r){return Ph("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},t.Ab=function(){var r=this;return this.h.then(function(){var s=Ct(r);if(s&&s.isAnonymous){var c=vr({providerId:null,isNewUser:!1});return vr({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return Zi(r,r.a.Ab()).then(function(h){var p=h.user;return ri(p,"isAnonymous",!0),r.da(p),h})})};function Zt(r){return r.app}function Ct(r){return r.currentUser}t.getUid=function(){return Ct(this)&&Ct(this).uid||null};function Zc(r){return Ct(r)&&Ct(r)._lat||null}function Bu(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](Zc(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](Zc(r))}}t.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&Ct(this)&&tb(Ct(this))},t.Pc=function(r){var s=this;J(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&Ct(this)&&sp(Ct(this)),this.removeAuthTokenListener(r)},t.addAuthTokenListener=function(r){var s=this;this.s.push(r),ve(this,this.h.then(function(){s.l||D(s.s,r)&&r(Zc(s))}))},t.removeAuthTokenListener=function(r){U(this.s,function(s){return s==r})};function dx(r,s){r.N.push(s),ve(r,r.h.then(function(){!r.l&&D(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(Zc(r)))}))}t.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(br("local"),r.a,this.ja)),this.b&&(qd(this.b,this),Wc(this.b.b)),Promise.resolve()};function ve(r,s){return r.P.push(s),s.oa(function(){j(r.P,s)}),s}t.hc=function(r){return ve(this,gk(this.a,r))},t.Bc=function(r){return!!Jh(r)},t.xb=function(r,s){var c=this;return ve(this,gt().then(function(){var h=new yc(s);if(!h.c)throw new A("argument-error",Hh+" must be true when sending sign in link to email");return wc(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},t.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},t.ob=function(r,s){return ve(this,this.a.ob(r,s).then(function(){}))},t.Sa=function(r){return ve(this,this.a.Sa(r).then(function(s){return new AN(s)}))},t.kb=function(r){return ve(this,this.a.kb(r).then(function(){}))},t.wb=function(r,s){var c=this;return ve(this,gt().then(function(){return typeof s>"u"||dr(s)?{}:wc(new yc(s))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},t.Wc=function(r,s){return ve(this,Gd(this,r,s,R(this.ab,this)))},t.Vc=function(r,s){var c=this;return ve(this,gt().then(function(){var h=s||gu(),p=R0(r,h);if(h=Jh(h),!h)throw new A("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new A("tenant-id-mismatch");return c.ab(p)}))};function qu(){}qu.prototype.render=function(){},qu.prototype.reset=function(){},qu.prototype.getResponse=function(){},qu.prototype.execute=function(){};function rs(){this.a={},this.b=1e12}var vp=null;rs.prototype.render=function(r,s){return this.a[this.b.toString()]=new tl(r,s),this.b++},rs.prototype.reset=function(r){var s=yp(this,r);r=vb(r),s&&r&&(s.delete(),delete this.a[r])},rs.prototype.getResponse=function(r){return(r=yp(this,r))?r.getResponse():null},rs.prototype.execute=function(r){(r=yp(this,r))&&r.execute()};function yp(r,s){return(s=vb(s))&&r.a[s]||null}function vb(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function tl(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=au(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():$n(this.f,"click",this.i)}tl.prototype.getResponse=function(){return wp(this),this.b},tl.prototype.execute=function(){wp(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=bN();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},tl.prototype.delete=function(){wp(this),this.g=!0,clearTimeout(this.a),this.a=null,On(this.f,"click",this.i)};function wp(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function bp(){}ht(bp,"FACTOR_ID","phone");function Ep(){}Ep.prototype.g=function(){return vp||(vp=new rs),gt(vp)},Ep.prototype.c=function(){};var Ip=null;function _p(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var px=new pr(nc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),gx=new ti(3e4,6e4);_p.prototype.g=function(r){var s=this;return new Pt(function(c,h){var p=setTimeout(function(){h(new A("network-request-failed"))},gx.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(_,F){return _=w(_,F),s.b++,_},clearTimeout(p),c(f.grecaptcha)}else clearTimeout(p),h(new A("internal-error"));delete f[s.a]};var y=ih(px,{onload:s.a,hl:r||""});gt(hd(y)).o(function(){clearTimeout(p),h(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(p),c(f.grecaptcha)})},_p.prototype.c=function(){this.b--};var Tp=null;function Sp(r,s,c,h,p,y,w){if(ht(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,w?(Ip||(Ip=new Ep),w=Ip):(Tp||(Tp=new _p),w=Tp),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[bb])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[mx]==="invisible",!f.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!au(s)||!this.i&&au(s).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Jn(r,y||null,p||null),this.u=h||function(){return null};var _=this;this.l=[];var F=this.a[yb];this.a[yb]=function(_t){if(Eb(_,_t),typeof F=="function")F(_t);else if(typeof F=="string"){var Xt=ue(F,f);typeof Xt=="function"&&Xt(_t)}};var K=this.a[wb];this.a[wb]=function(){if(Eb(_,null),typeof K=="function")K();else if(typeof K=="string"){var _t=ue(K,f);typeof _t=="function"&&_t()}}}var yb="callback",wb="expired-callback",bb="sitekey",mx="size";function Eb(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function vx(r,s){U(r.l,function(c){return c==s})}function Ap(r,s){return r.h.push(s),s.oa(function(){j(r.h,s)}),s}t=Sp.prototype,t.Ia=function(){var r=this;return this.f?this.f:this.f=Ap(this,gt().then(function(){if(mc()&&!Yn())return gc();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,Mt(r.s,Vk,{})}).then(function(s){r.a[bb]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},t.render=function(){el(this);var r=this;return Ap(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=au(s);s=$A("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},t.verify=function(){el(this);var r=this;return Ap(this,this.render().then(function(s){return new Pt(function(c){var h=r.g.getResponse(s);if(h)c(h);else{var p=function(y){y&&(vx(r,p),c(y))};r.l.push(p),r.i&&r.g.execute(r.c)}})}))},t.reset=function(){el(this),this.c!==null&&this.g.reset(this.c)};function el(r){if(r.J)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){el(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=au(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function Np(r,s,c){var h=!1;try{this.b=c||It.app()}catch{throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new A("invalid-api-key");var p=this,y=null;try{y=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=It.SDK_VERSION?Ko(It.SDK_VERSION,y):null,Sp.call(this,c,r,s,function(){try{var w=p.b.auth().la()}catch{w=null}return w},y,jt(St),h)}B(Np,Sp);function Ib(r,s,c,h){t:{c=Array.prototype.slice.call(c);for(var p=0,y=!1,w=0;w<s.length;w++)if(s[w].optional)y=!0;else{if(y)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");p++}if(y=s.length,c.length<p||y<c.length)h="Expected "+(p==y?p==1?"1 argument":p+" arguments":p+"-"+y+" arguments")+" but got "+c.length+".";else{for(p=0;p<c.length;p++)if(y=s[p].optional&&c[p]===void 0,!s[p].M(c[p])&&!y){if(s=s[p],0>p||p>=_b.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");c=_b[p],h=(h?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break t}h=null}}if(h)throw new A("argument-error",r+" failed: "+h)}var _b="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ft(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function kp(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function Se(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:O}}function is(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function Er(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function yx(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function wx(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof tr)}}}function bx(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof It.app.App)}}}function ii(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function Tb(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function os(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Cp(r,s){return O(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function Sb(r){return O(r)&&typeof r.uid=="string"}function nl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Ie(r,s,c,h){return{name:c||"",K:r.K+" or "+s.K,optional:!!h,M:function(p){return r.M(p)||s.M(p)}}}function de(r,s){for(var c in s){var h=s[c].name;r[h]=Nb(h,r[c],s[c].j)}}function Ab(r,s){for(var c in s){var h=s[c].name;h!==c&&Object.defineProperty(r,h,{get:X(function(p){return this[p]},c),set:X(function(p,y,w,_){Ib(p,[w],[_],!0),this[y]=_},h,c,s[c].lb),enumerable:!0})}}function _e(r,s,c,h){r[s]=Nb(s,c,h)}function Nb(r,s,c){function h(){var w=Array.prototype.slice.call(arguments);return Ib(p,c,w),s.apply(this,w)}if(!c)return s;var p=Ex(r),y;for(y in s)h[y]=s[y];for(y in s.prototype)h.prototype[y]=s.prototype[y];return h}function Ex(r){return r=r.split("."),r[r.length-1]}de(tr.prototype,{kb:{name:"applyActionCode",j:[ft("code")]},Sa:{name:"checkActionCode",j:[ft("code")]},ob:{name:"confirmPasswordReset",j:[ft("code"),ft("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ft("email"),ft("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ft("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ft("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ie(Se(),is(),"nextOrObserver"),is("opt_error",!0),is("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ie(Se(),is(),"nextOrObserver"),is("opt_error",!0),is("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ft("email"),Ie(Se("opt_actionCodeSettings",!0),Er(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ft("email"),Se("actionCodeSettings")]},yb:{name:"setPersistence",j:[ft("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ii()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ii()]},Tc:{name:"signInWithCustomToken",j:[ft("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ft("email"),ft("password")]},Vc:{name:"signInWithEmailLink",j:[ft("email"),ft("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ft("phoneNumber"),nl()]},Xc:{name:"signInWithPopup",j:[os()]},Yc:{name:"signInWithRedirect",j:[os()]},dd:{name:"updateCurrentUser",j:[Ie(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof Dn)}}}(),Er(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ft(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ft("url"),Se("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ft("code")]}}),Ab(tr.prototype,{lc:{name:"languageCode",lb:Ie(ft(),Er(),"languageCode")},ti:{name:"tenantId",lb:Ie(ft(),Er(),"tenantId")}}),tr.Persistence=Xo,tr.Persistence.LOCAL="local",tr.Persistence.SESSION="session",tr.Persistence.NONE="none",de(Dn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[kp("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[kp("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ii()]},rb:{name:"linkWithCredential",j:[ii()]},Dc:{name:"linkWithPhoneNumber",j:[ft("phoneNumber"),nl()]},Ec:{name:"linkWithPopup",j:[os()]},Fc:{name:"linkWithRedirect",j:[os()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ii()]},ub:{name:"reauthenticateWithCredential",j:[ii()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ft("phoneNumber"),nl()]},Nc:{name:"reauthenticateWithPopup",j:[os()]},Oc:{name:"reauthenticateWithRedirect",j:[os()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Ie(Se("opt_actionCodeSettings",!0),Er(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ft(null,!0)]},cd:{name:"unlink",j:[ft("provider")]},Cb:{name:"updateEmail",j:[ft("email")]},Db:{name:"updatePassword",j:[ft("password")]},ed:{name:"updatePhoneNumber",j:[ii("phone")]},Eb:{name:"updateProfile",j:[Se("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ft("email"),Ie(Se("opt_actionCodeSettings",!0),Er(null,!0),"opt_actionCodeSettings",!0)]}}),de(rs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),de(qu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),de(Pt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Ab(zw.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:kp("appVerificationDisabledForTesting")}}),de(zd.prototype,{confirm:{name:"confirm",j:[ft("verificationCode")]}}),_e(Go,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[KN,HN,zN,$N],h=0;h<c.length;h++)if(s=c[h](r))return s;return null},[Ie(ft(),Se(),"json")]),_e(Hn,"credential",function(r,s){return new ei(r,s)},[ft("email"),ft("password")]),de(ei.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),de(Hi.prototype,{Ca:{name:"addScope",j:[ft("scope")]},Ka:{name:"setCustomParameters",j:[Se("customOAuthParameters")]}}),_e(Hi,"credential",k0,[Ie(ft(),Se(),"token")]),_e(Hn,"credentialWithLink",R0,[ft("email"),ft("emailLink")]),de(zi.prototype,{Ca:{name:"addScope",j:[ft("scope")]},Ka:{name:"setCustomParameters",j:[Se("customOAuthParameters")]}}),_e(zi,"credential",C0,[Ie(ft(),Se(),"token")]),de(Gi.prototype,{Ca:{name:"addScope",j:[ft("scope")]},Ka:{name:"setCustomParameters",j:[Se("customOAuthParameters")]}}),_e(Gi,"credential",x0,[Ie(ft(),Ie(Se(),Er()),"idToken"),Ie(ft(),Er(),"accessToken",!0)]),de(Qo.prototype,{Ka:{name:"setCustomParameters",j:[Se("customOAuthParameters")]}}),_e(Qo,"credential",O0,[Ie(ft(),Se(),"token"),ft("secret",!0)]),de(Rn.prototype,{Ca:{name:"addScope",j:[ft("scope")]},credential:{name:"credential",j:[Ie(ft(),Ie(Se(),Er()),"optionsOrIdToken"),Ie(ft(),Er(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Se("customOAuthParameters")]}}),de(Pr.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),de($i.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),_e(Lr,"credential",D0,[ft("verificationId"),ft("verificationCode")]),de(Lr.prototype,{gb:{name:"verifyPhoneNumber",j:[Ie(ft(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?Cp(c.session,Iu)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Cp(c.session,Tc)&&Sb(c.multiFactorHint):c.session&&c.multiFactorUid?Cp(c.session,Tc)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),nl()]}}),de(ni.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),de(A.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),de(Tu.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),de(nd.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),de(Qd.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),de(Wd.prototype,{Rc:{name:"resolveSignIn",j:[Tb()]}}),de(Xd.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Tb(),ft("displayName",!0)]},bd:{name:"unenroll",j:[Ie({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Sb},ft(),"multiFactorInfoIdentifier")]}}),de(Np.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),_e(Kh,"parseLink",l0,[ft("link")]),_e(bp,"assertion",function(r){return new Xw(r)},[ii("phone")]),function(){if(typeof It<"u"&&It.INTERNAL&&It.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:vc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:$h,VERIFY_AND_CHANGE_EMAIL:bu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:tr,AuthCredential:Go,Error:A};_e(r,"EmailAuthProvider",Hn,[]),_e(r,"FacebookAuthProvider",Hi,[]),_e(r,"GithubAuthProvider",zi,[]),_e(r,"GoogleAuthProvider",Gi,[]),_e(r,"TwitterAuthProvider",Qo,[]),_e(r,"OAuthProvider",Rn,[ft("providerId")]),_e(r,"SAMLAuthProvider",N0,[ft("providerId")]),_e(r,"PhoneAuthProvider",Lr,[wx()]),_e(r,"RecaptchaVerifier",Np,[Ie(ft(),yx(),"recaptchaContainer"),Se("recaptchaParameters",!0),bx()]),_e(r,"ActionCodeURL",Kh,[]),_e(r,"PhoneMultiFactorGenerator",bp,[]),It.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new tr(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),It.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:R(s.getUid,s),getToken:R(s.nc,s),addAuthTokenListener:R(s.cc,s),removeAuthTokenListener:R(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),It.registerVersion("@firebase/auth","0.16.8"),It.INTERNAL.extendNamespace({User:Dn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Eg=function(t,e){return Eg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Eg(t,e)};function ZD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Eg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function hT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var tP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lt,xm=xm||{},Tt=tP||self;function Fl(){}function Ig(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function La(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function eP(t){return Object.prototype.hasOwnProperty.call(t,jp)&&t[jp]||(t[jp]=++nP)}var jp="closure_uid_"+(1e9*Math.random()>>>0),nP=0;function rP(t,e,n){return t.call.apply(t.bind,arguments)}function iP(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function ze(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ze=rP:ze=iP,ze.apply(null,arguments)}function ll(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function We(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(i,o,u){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[o].apply(i,a)}}function Ci(){this.s=this.s,this.o=this.o}var oP=0;Ci.prototype.s=!1;Ci.prototype.na=function(){!this.s&&(this.s=!0,this.M(),oP!=0)&&eP(this)};Ci.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var dT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},pT=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=typeof t=="string"?t.split(""):t,u=0;u<i;u++)u in o&&e.call(n,o[u],u,t)};function sP(t){t:{for(var e=XP,n=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function oE(t){return Array.prototype.concat.apply([],arguments)}function Om(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function Vl(t){return/^[\s\xa0]*$/.test(t)}var sE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function hn(t,e){return t.indexOf(e)!=-1}function Up(t,e){return t<e?-1:t>e?1:0}var dn;t:{var uE=Tt.navigator;if(uE){var aE=uE.userAgent;if(aE){dn=aE;break t}}dn=""}function Rm(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function gT(t){var e={};for(var n in t)e[n]=t[n];return e}var cE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mT(t,e){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)t[n]=i[n];for(var u=0;u<cE.length;u++)n=cE[u],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Dm(t){return Dm[" "](t),t}Dm[" "]=Fl;function uP(t){var e=lP;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var aP=hn(dn,"Opera"),ks=hn(dn,"Trident")||hn(dn,"MSIE"),vT=hn(dn,"Edge"),_g=vT||ks,yT=hn(dn,"Gecko")&&!(hn(dn.toLowerCase(),"webkit")&&!hn(dn,"Edge"))&&!(hn(dn,"Trident")||hn(dn,"MSIE"))&&!hn(dn,"Edge"),cP=hn(dn.toLowerCase(),"webkit")&&!hn(dn,"Edge");function wT(){var t=Tt.document;return t?t.documentMode:void 0}var jl;t:{var Bp="",qp=function(){var t=dn;if(yT)return/rv:([^\);]+)(\)|;)/.exec(t);if(vT)return/Edge\/([\d\.]+)/.exec(t);if(ks)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(cP)return/WebKit\/(\S+)/.exec(t);if(aP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(qp&&(Bp=qp?qp[1]:""),ks){var $p=wT();if($p!=null&&$p>parseFloat(Bp)){jl=String($p);break t}}jl=Bp}var lP={};function fP(){return uP(function(){for(var t=0,e=sE(String(jl)).split("."),n=sE("9").split("."),i=Math.max(e.length,n.length),o=0;t==0&&o<i;o++){var u=e[o]||"",a=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u[0].length==0&&a[0].length==0)break;t=Up(u[1].length==0?0:parseInt(u[1],10),a[1].length==0?0:parseInt(a[1],10))||Up(u[2].length==0,a[2].length==0)||Up(u[2],a[2]),u=u[3],a=a[3]}while(t==0)}return 0<=t})}var Tg;if(Tt.document&&ks){var lE=wT();Tg=lE||parseInt(jl,10)||void 0}else Tg=void 0;var hP=Tg,dP=function(){if(!Tt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Tt.addEventListener("test",Fl,e),Tt.removeEventListener("test",Fl,e)}catch{}return t}();function nn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}nn.prototype.h=function(){this.defaultPrevented=!0};function ya(t,e){if(nn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(yT){t:{try{Dm(e.nodeName);var o=!0;break t}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:pP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ya.Z.h.call(this)}}We(ya,nn);var pP={2:"touch",3:"pen",4:"mouse"};ya.prototype.h=function(){ya.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ma="closure_listenable_"+(1e6*Math.random()|0),gP=0;function mP(t,e,n,i,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=o,this.key=++gP,this.ca=this.fa=!1}function Tf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Sf(t){this.src=t,this.g={},this.h=0}Sf.prototype.add=function(t,e,n,i,o){var u=t.toString();t=this.g[u],t||(t=this.g[u]=[],this.h++);var a=Ag(t,e,i,o);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new mP(e,this.src,u,!!i,o),e.fa=n,t.push(e)),e};function Sg(t,e){var n=e.type;if(n in t.g){var i=t.g[n],o=dT(i,e),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(Tf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ag(t,e,n,i){for(var o=0;o<t.length;++o){var u=t[o];if(!u.ca&&u.listener==e&&u.capture==!!n&&u.ia==i)return o}return-1}var Pm="closure_lm_"+(1e6*Math.random()|0),Kp={};function bT(t,e,n,i,o){if(i&&i.once)return IT(t,e,n,i,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)bT(t,e[u],n,i,o);return null}return n=Fm(n),t&&t[Ma]?t.N(e,n,La(i)?!!i.capture:!!i,o):ET(t,e,n,!1,i,o)}function ET(t,e,n,i,o,u){if(!e)throw Error("Invalid event type");var a=La(o)?!!o.capture:!!o,l=Mm(t);if(l||(t[Pm]=l=new Sf(t)),n=l.add(e,n,i,a,u),n.proxy)return n;if(i=vP(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)dP||(o=a),o===void 0&&(o=!1),t.addEventListener(e.toString(),i,o);else if(t.attachEvent)t.attachEvent(TT(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function vP(){function t(n){return e.call(t.src,t.listener,n)}var e=yP;return t}function IT(t,e,n,i,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)IT(t,e[u],n,i,o);return null}return n=Fm(n),t&&t[Ma]?t.O(e,n,La(i)?!!i.capture:!!i,o):ET(t,e,n,!0,i,o)}function _T(t,e,n,i,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)_T(t,e[u],n,i,o);else i=La(i)?!!i.capture:!!i,n=Fm(n),t&&t[Ma]?(t=t.i,e=String(e).toString(),e in t.g&&(u=t.g[e],n=Ag(u,n,i,o),-1<n&&(Tf(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete t.g[e],t.h--)))):t&&(t=Mm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ag(e,n,i,o)),(n=-1<t?e[t]:null)&&Lm(n))}function Lm(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Ma])Sg(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(TT(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Mm(e))?(Sg(n,t),n.h==0&&(n.src=null,e[Pm]=null)):Tf(t)}}}function TT(t){return t in Kp?Kp[t]:Kp[t]="on"+t}function yP(t,e){if(t.ca)t=!0;else{e=new ya(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&Lm(t),t=n.call(i,e)}return t}function Mm(t){return t=t[Pm],t instanceof Sf?t:null}var Hp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fm(t){return typeof t=="function"?t:(t[Hp]||(t[Hp]=function(e){return t.handleEvent(e)}),t[Hp])}function je(){Ci.call(this),this.i=new Sf(this),this.P=this,this.I=null}We(je,Ci);je.prototype[Ma]=!0;je.prototype.removeEventListener=function(t,e,n,i){_T(this,t,e,n,i)};function Ge(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new nn(e,t);else if(e instanceof nn)e.target=e.target||t;else{var o=e;e=new nn(i,t),mT(e,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var a=e.g=n[u];o=fl(a,i,!0,e)&&o}if(a=e.g=t,o=fl(a,i,!0,e)&&o,o=fl(a,i,!1,e)&&o,n)for(u=0;u<n.length;u++)a=e.g=n[u],o=fl(a,i,!1,e)&&o}je.prototype.M=function(){if(je.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Tf(n[i]);delete t.g[e],t.h--}}this.I=null};je.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};je.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function fl(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var a=e[u];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&Sg(t.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Vm=Tt.JSON.stringify;function wP(){var t=AT,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var bP=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var i=ST.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i},t}(),ST=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new EP},function(t){return t.reset()}),EP=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function IP(t){Tt.setTimeout(function(){throw t},0)}function jm(t,e){Ng||_P(),kg||(Ng(),kg=!0),AT.add(t,e)}var Ng;function _P(){var t=Tt.Promise.resolve(void 0);Ng=function(){t.then(TP)}}var kg=!1,AT=new bP;function TP(){for(var t;t=wP();){try{t.h.call(t.g)}catch(n){IP(n)}var e=ST;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}kg=!1}function Af(t,e){je.call(this),this.h=t||1,this.g=e||Tt,this.j=ze(this.kb,this),this.l=Date.now()}We(Af,je);lt=Af.prototype;lt.da=!1;lt.S=null;lt.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ge(this,"tick"),this.da&&(Um(this),this.start()))}};lt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Um(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}lt.M=function(){Af.Z.M.call(this),Um(this),delete this.g};function Bm(t,e,n){if(typeof t=="function")n&&(t=ze(t,n));else if(t&&typeof t.handleEvent=="function")t=ze(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Tt.setTimeout(t,e||0)}function NT(t){t.g=Bm(function(){t.g=null,t.i&&(t.i=!1,NT(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var SP=function(t){ZD(e,t);function e(n,i){var o=t.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:NT(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Ci);function wa(t){Ci.call(this),this.h=t,this.g={}}We(wa,Ci);var fE=[];function kT(t,e,n,i){Array.isArray(n)||(n&&(fE[0]=n.toString()),n=fE);for(var o=0;o<n.length;o++){var u=bT(e,n[o],i||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function CT(t){Rm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Lm(e)},t),t.g={}}wa.prototype.M=function(){wa.Z.M.call(this),CT(this)};wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Nf(){this.g=!0}Nf.prototype.Aa=function(){this.g=!1};function AP(t,e,n,i,o,u){t.info(function(){if(t.g)if(u)for(var a="",l=u.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var g=d[0];d=d[1];var m=g.split("_");a=2<=m.length&&m[1]=="type"?a+(g+"="+d+"&"):a+(g+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+e+`
`+n+`
`+a})}function NP(t,e,n,i,o,u,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+e+`
`+n+`
`+u+" "+a})}function ms(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+CP(t,n)+(i?" "+i:"")})}function kP(t,e){t.info(function(){return"TIMEOUT: "+e})}Nf.prototype.info=function(){};function CP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Vm(n)}catch{return e}}var Co={},hE=null;function kf(){return hE=hE||new je}Co.Ma="serverreachability";function xT(t){nn.call(this,Co.Ma,t)}We(xT,nn);function ba(t){var e=kf();Ge(e,new xT(e))}Co.STAT_EVENT="statevent";function OT(t,e){nn.call(this,Co.STAT_EVENT,t),this.stat=e}We(OT,nn);function pn(t){var e=kf();Ge(e,new OT(e,t))}Co.Na="timingevent";function RT(t,e){nn.call(this,Co.Na,t),this.size=e}We(RT,nn);function Fa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Tt.setTimeout(function(){t()},e)}var Cf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},DT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qm(){}qm.prototype.h=null;function dE(t){return t.h||(t.h=t.i())}function PT(){}var Va={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function $m(){nn.call(this,"d")}We($m,nn);function Km(){nn.call(this,"c")}We(Km,nn);var Cg;function xf(){}We(xf,qm);xf.prototype.g=function(){return new XMLHttpRequest};xf.prototype.i=function(){return{}};Cg=new xf;function ja(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new wa(this),this.P=xP,t=_g?125:void 0,this.W=new Af(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new LT}function LT(){this.i=null,this.g="",this.h=!1}var xP=45e3,xg={},Ul={};lt=ja.prototype;lt.setTimeout=function(t){this.P=t};function Og(t,e,n){t.K=1,t.v=Rf(zr(e)),t.s=n,t.U=!0,MT(t,null)}function MT(t,e){t.F=Date.now(),Ua(t),t.A=zr(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),$T(n.h,"t",i),t.C=0,n=t.l.H,t.h=new LT,t.g=cS(t.l,n?e:null,!t.s),0<t.O&&(t.L=new SP(ze(t.Ia,t,t.g),t.O)),kT(t.V,t.g,"readystatechange",t.gb),e=t.H?gT(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ba(),AP(t.j,t.u,t.A,t.m,t.X,t.s)}lt.gb=function(t){t=t.target;var e=this.L;e&&Ur(t)==3?e.l():this.Ia(t)};lt.Ia=function(t){try{if(t==this.g)t:{var e=Ur(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>e)&&(e!=3||_g||this.g&&(this.h.h||this.g.ga()||vE(this.g)))){this.I||e!=4||n==7||(n==8||0>=i?ba(3):ba(2)),Of(this);var o=this.g.ba();this.N=o;e:if(FT(this)){var u=vE(this.g);t="";var a=u.length,l=Ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ao(this),ta(this);var f="";break e}this.h.i=new Tt.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(u[n],{stream:l&&n==a-1});u.splice(0,a),this.h.g+=t,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,NP(this.j,this.u,this.A,this.m,this.X,e,o),this.i){if(this.$&&!this.J){e:{if(this.g){var d,g=this.g;if((d=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vl(d)){var m=d;break e}}m=null}if(o=m)ms(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Rg(this,o);else{this.i=!1,this.o=3,pn(12),ao(this),ta(this);break t}}this.U?(VT(this,e,f),_g&&this.i&&e==3&&(kT(this.V,this.W,"tick",this.fb),this.W.start())):(ms(this.j,this.m,f,null),Rg(this,f)),e==4&&ao(this),this.i&&!this.I&&(e==4?oS(this.l,this):(this.i=!1,Ua(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,pn(12)):(this.o=0,pn(13)),ao(this),ta(this)}}}catch{}finally{}};function FT(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function VT(t,e,n){for(var i=!0,o;!t.I&&t.C<n.length;)if(o=OP(t,n),o==Ul){e==4&&(t.o=4,pn(14),i=!1),ms(t.j,t.m,null,"[Incomplete Response]");break}else if(o==xg){t.o=4,pn(15),ms(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else ms(t.j,t.m,o,null),Rg(t,o);FT(t)&&o!=Ul&&o!=xg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,pn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zm(e),e.L=!0,pn(11))):(ms(t.j,t.m,n,"[Invalid Chunked Response]"),ao(t),ta(t))}lt.fb=function(){if(this.g){var t=Ur(this.g),e=this.g.ga();this.C<e.length&&(Of(this),VT(this,t,e),this.i&&t!=4&&Ua(this))}};function OP(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Ul:(n=Number(e.substring(n,i)),isNaN(n)?xg:(i+=1,i+n>e.length?Ul:(e=e.substr(i,n),t.C=i+n,e)))}lt.cancel=function(){this.I=!0,ao(this)};function Ua(t){t.Y=Date.now()+t.P,jT(t,t.P)}function jT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Fa(ze(t.eb,t),e)}function Of(t){t.B&&(Tt.clearTimeout(t.B),t.B=null)}lt.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(kP(this.j,this.A),this.K!=2&&(ba(),pn(17)),ao(this),this.o=2,ta(this)):jT(this,this.Y-t)};function ta(t){t.l.G==0||t.I||oS(t.l,t)}function ao(t){Of(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Um(t.W),CT(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Rg(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Dg(n.i,t))){if(n.I=t.N,!t.J&&Dg(n.i,t)&&n.G==3){try{var i=n.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Kl(n),Lf(n);else break t;Jm(n),pn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Fa(ze(n.ab,n),6e3));if(1>=zT(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else co(n,11)}else if((t.J||n.g==t)&&Kl(n),!Vl(e))for(o=n.Ca.g.parse(e),e=0;e<o.length;e++){var u=o[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var a=u[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=u[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=t.g;if(d){var g=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var m=i.i;!m.g&&(hn(g,"spdy")||hn(g,"quic")||hn(g,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(Gm(m,m.h),m.h=null))}if(i.D){var v=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(i.sa=v,ce(i.F,i.D,v))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=t;if(i.oa=aS(i,i.H?i.la:null,i.W),b.J){GT(i.i,b);var I=b,T=i.K;T&&I.setTimeout(T),I.B&&(Of(I),Ua(I)),i.g=b}else rS(i);0<n.l.length&&Mf(n)}else u[0]!="stop"&&u[0]!="close"||co(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?co(n,7):Xm(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}ba(4)}catch{}}function RP(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Ig(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Hm(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ig(t)||typeof t=="string")pT(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Ig(t)||typeof t=="string"){n=[];for(var i=t.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,t)n[i++]=o;i=RP(t),o=i.length;for(var u=0;u<o;u++)e.call(void 0,i[u],n&&n[u],t)}}function Js(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Js)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}lt=Js.prototype;lt.R=function(){zm(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};lt.T=function(){return zm(this),this.g.concat()};function zm(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];Eo(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var o={};for(n=e=0;e<t.g.length;)i=t.g[e],Eo(o,i)||(t.g[n++]=i,o[i]=1),e++;t.g.length=n}}lt.get=function(t,e){return Eo(this.h,t)?this.h[t]:e};lt.set=function(t,e){Eo(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};lt.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);t.call(e,u,o,this)}};function Eo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var UT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function DP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),o=null;if(0<=i){var u=t[n].substring(0,i);o=t[n].substring(i+1)}else u=t[n];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Io(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Io){this.g=e!==void 0?e:t.g,Bl(this,t.j),this.s=t.s,ql(this,t.i),$l(this,t.m),this.l=t.l,e=t.h;var n=new Ea;n.i=e.i,e.g&&(n.g=new Js(e.g),n.h=e.h),pE(this,n),this.o=t.o}else t&&(n=String(t).match(UT))?(this.g=!!e,Bl(this,n[1]||"",!0),this.s=ea(n[2]||""),ql(this,n[3]||"",!0),$l(this,n[4]),this.l=ea(n[5]||"",!0),pE(this,n[6]||"",!0),this.o=ea(n[7]||"")):(this.g=!!e,this.h=new Ea(null,this.g))}Io.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Wu(e,gE,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Wu(e,gE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Wu(n,n.charAt(0)=="/"?VP:FP,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Wu(n,UP)),t.join("")};function zr(t){return new Io(t)}function Bl(t,e,n){t.j=n?ea(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ql(t,e,n){t.i=n?ea(e,!0):e}function $l(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function pE(t,e,n){e instanceof Ea?(t.h=e,BP(t.h,t.g)):(n||(e=Wu(e,jP)),t.h=new Ea(e,t.g))}function ce(t,e,n){t.h.set(e,n)}function Rf(t){return ce(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function PP(t){return t instanceof Io?zr(t):new Io(t,void 0)}function LP(t,e,n,i){var o=new Io(null,void 0);return t&&Bl(o,t),e&&ql(o,e),n&&$l(o,n),i&&(o.l=i),o}function ea(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,MP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function MP(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var gE=/[#\/\?@]/g,FP=/[#\?:]/g,VP=/[#\?]/g,jP=/[#\?@]/g,UP=/#/g;function Ea(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xi(t){t.g||(t.g=new Js,t.h=0,t.i&&DP(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}lt=Ea.prototype;lt.add=function(t,e){xi(this),this.i=null,t=Zs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function BT(t,e){xi(t),e=Zs(t,e),Eo(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Eo(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&zm(t)))}function qT(t,e){return xi(t),e=Zs(t,e),Eo(t.g.h,e)}lt.forEach=function(t,e){xi(this),this.g.forEach(function(n,i){pT(n,function(o){t.call(e,o,i,this)},this)},this)};lt.T=function(){xi(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var o=t[i],u=0;u<o.length;u++)n.push(e[i]);return n};lt.R=function(t){xi(this);var e=[];if(typeof t=="string")qT(this,t)&&(e=oE(e,this.g.get(Zs(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=oE(e,t[n])}return e};lt.set=function(t,e){return xi(this),this.i=null,t=Zs(this,t),qT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};lt.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function $T(t,e,n){BT(t,e),0<n.length&&(t.i=null,t.g.set(Zs(t,e),Om(n)),t.h+=n.length)}lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var a=o;i[u]!==""&&(a+="="+encodeURIComponent(String(i[u]))),t.push(a)}}return this.i=t.join("&")};function Zs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function BP(t,e){e&&!t.j&&(xi(t),t.i=null,t.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(BT(this,i),$T(this,o,n))},t)),t.j=e}var qP=function(){function t(e,n){this.h=e,this.g=n}return t}();function KT(t){this.l=t||$P,Tt.PerformanceNavigationTiming?(t=Tt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Tt.g&&Tt.g.Ea&&Tt.g.Ea()&&Tt.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $P=10;function HT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function zT(t){return t.h?1:t.g?t.g.size:0}function Dg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Gm(t,e){t.g?t.g.add(e):t.h=e}function GT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}KT.prototype.cancel=function(){var t,e;if(this.i=WT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=hT(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){t={error:u}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function WT(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var i=t.i;try{for(var o=hT(t.g.values()),u=o.next();!u.done;u=o.next()){var a=u.value;i=i.concat(a.D)}}catch(l){e={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return Om(t.i)}function Wm(){}Wm.prototype.stringify=function(t){return Tt.JSON.stringify(t,void 0)};Wm.prototype.parse=function(t){return Tt.JSON.parse(t,void 0)};function KP(){this.g=new Wm}function HP(t,e,n){var i=n||"";try{Hm(t,function(o,u){var a=o;La(o)&&(a=Vm(o)),e.push(i+u+"="+encodeURIComponent(a))})}catch(o){throw e.push(i+"type="+encodeURIComponent("_badmap")),o}}function zP(t,e){var n=new Nf;if(Tt.Image){var i=new Image;i.onload=ll(hl,n,i,"TestLoadImage: loaded",!0,e),i.onerror=ll(hl,n,i,"TestLoadImage: error",!1,e),i.onabort=ll(hl,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=ll(hl,n,i,"TestLoadImage: timeout",!1,e),Tt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function hl(t,e,n,i,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(i)}catch{}}function Ba(t){this.l=t.$b||null,this.j=t.ib||!1}We(Ba,qm);Ba.prototype.g=function(){return new Df(this.l,this.j)};Ba.prototype.i=function(t){return function(){return t}}({});function Df(t,e){je.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Qm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}We(Df,je);var Qm=0;lt=Df.prototype;lt.open=function(t,e){if(this.readyState!=Qm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ia(this)};lt.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Tt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qa(this)),this.readyState=Qm};lt.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ia(this)),this.g&&(this.readyState=3,Ia(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Tt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;QT(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function QT(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}lt.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?qa(this):Ia(this),this.readyState==3&&QT(this)}};lt.Ua=function(t){this.g&&(this.response=this.responseText=t,qa(this))};lt.Ta=function(t){this.g&&(this.response=t,qa(this))};lt.ha=function(){this.g&&qa(this)};function qa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ia(t)}lt.setRequestHeader=function(t,e){this.v.append(t,e)};lt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};lt.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ia(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Df.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var GP=Tt.JSON.parse;function Oe(t){je.call(this),this.headers=new Js,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=YT,this.K=this.L=!1}We(Oe,je);var YT="",WP=/^https?$/i,QP=["POST","PUT"];lt=Oe.prototype;lt.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cg.g(),this.C=this.u?dE(this.u):dE(Cg),this.g.onreadystatechange=ze(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(u){mE(this,u);return}t=n||"";var o=new Js(this.headers);i&&Hm(i,function(u,a){o.set(a,u)}),i=sP(o.T()),n=Tt.FormData&&t instanceof Tt.FormData,!(0<=dT(QP,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,a){this.g.setRequestHeader(a,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ZT(this),0<this.B&&((this.K=YP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ze(this.pa,this)):this.A=Bm(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){mE(this,u)}};function YP(t){return ks&&fP()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function XP(t){return t.toLowerCase()=="content-type"}lt.pa=function(){typeof xm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ge(this,"timeout"),this.abort(8))};function mE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,XT(t),Pf(t)}function XT(t){t.D||(t.D=!0,Ge(t,"complete"),Ge(t,"error"))}lt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ge(this,"complete"),Ge(this,"abort"),Pf(this))};lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pf(this,!0)),Oe.Z.M.call(this)};lt.Fa=function(){this.s||(this.F||this.v||this.l?JT(this):this.cb())};lt.cb=function(){JT(this)};function JT(t){if(t.h&&typeof xm<"u"&&(!t.C[1]||Ur(t)!=4||t.ba()!=2)){if(t.v&&Ur(t)==4)Bm(t.Fa,0,t);else if(Ge(t,"readystatechange"),Ur(t)==4){t.h=!1;try{var e=t.ba();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var o;if(o=e===0){var u=String(t.H).match(UT)[1]||null;if(!u&&Tt.self&&Tt.self.location){var a=Tt.self.location.protocol;u=a.substr(0,a.length-1)}o=!WP.test(u?u.toLowerCase():"")}i=o}if(i)Ge(t,"complete"),Ge(t,"success");else{t.m=6;try{var l=2<Ur(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.ba()+"]",XT(t)}}finally{Pf(t)}}}}function Pf(t,e){if(t.g){ZT(t);var n=t.g,i=t.C[0]?Fl:null;t.g=null,t.C=null,e||Ge(t,"ready");try{n.onreadystatechange=i}catch{}}}function ZT(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Tt.clearTimeout(t.A),t.A=null)}function Ur(t){return t.g?t.g.readyState:0}lt.ba=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}};lt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};lt.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),GP(e)}};function vE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case YT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}lt.Da=function(){return this.m};lt.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function JP(t){var e="";return Rm(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function Ym(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=JP(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ce(t,e,n))}function Ku(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function tS(t){this.za=0,this.l=[],this.h=new Nf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ku("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ku("baseRetryDelayMs",5e3,t),this.$a=Ku("retryDelaySeedMs",1e4,t),this.Ya=Ku("forwardChannelMaxRetries",2,t),this.ra=Ku("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new KT(t&&t.concurrentRequestLimit),this.Ca=new KP,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}lt=tS.prototype;lt.ma=8;lt.G=1;function Xm(t){if(eS(t),t.G==3){var e=t.V++,n=zr(t.F);ce(n,"SID",t.J),ce(n,"RID",e),ce(n,"TYPE","terminate"),$a(t,n),e=new ja(t,t.h,e,void 0),e.K=2,e.v=Rf(zr(n)),n=!1,Tt.navigator&&Tt.navigator.sendBeacon&&(n=Tt.navigator.sendBeacon(e.v.toString(),"")),!n&&Tt.Image&&(new Image().src=e.v,n=!0),n||(e.g=cS(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ua(e)}uS(t)}lt.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Lf(t){t.g&&(Zm(t),t.g.cancel(),t.g=null)}function eS(t){Lf(t),t.u&&(Tt.clearTimeout(t.u),t.u=null),Kl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Tt.clearTimeout(t.m),t.m=null)}function zp(t,e){t.l.push(new qP(t.Za++,e)),t.G==3&&Mf(t)}function Mf(t){HT(t.i)||t.m||(t.m=!0,jm(t.Ha,t),t.C=0)}function ZP(t,e){return zT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Fa(ze(t.Ha,t,e),sS(t,t.C)),t.C++,!0)}lt.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new ja(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=gT(n),mT(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)t:{for(var i=0,o=0;o<this.l.length;o++){e:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break e}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break t}if(i===4096||o===this.l.length-1){i=o+1;break t}}i=1e3}else i=1e3;i=nS(this,e,i),o=zr(this.F),ce(o,"RID",t),ce(o,"CVER",22),this.D&&ce(o,"X-HTTP-Session-Id",this.D),$a(this,o),this.o&&n&&Ym(o,this.o,n),Gm(this.i,e),this.Ra&&ce(o,"TYPE","init"),this.ja?(ce(o,"$req",i),ce(o,"SID","null"),e.$=!0,Og(e,o,null)):Og(e,o,i),this.G=2}}else this.G==3&&(t?yE(this,t):this.l.length==0||HT(this.i)||yE(this))};function yE(t,e){var n;e?n=e.m:n=t.V++;var i=zr(t.F);ce(i,"SID",t.J),ce(i,"RID",n),ce(i,"AID",t.U),$a(t,i),t.o&&t.s&&Ym(i,t.o,t.s),n=new ja(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=nS(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Gm(t.i,n),Og(n,i,e)}function $a(t,e){t.j&&Hm({},function(n,i){ce(e,i,n)})}function nS(t,e,n){n=Math.min(t.l.length,n);var i=t.j?ze(t.j.Oa,t.j,t):null;t:for(var o=t.l,u=-1;;){var a=["count="+n];u==-1?0<n?(u=o[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var d=o[f].h,g=o[f].g;if(d-=u,0>d)u=Math.max(0,o[f].h-100),l=!1;else try{HP(g,a,"req"+d+"_")}catch{i&&i(g)}}if(l){i=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,i}function rS(t){t.g||t.u||(t.Y=1,jm(t.Ga,t),t.A=0)}function Jm(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Fa(ze(t.Ga,t),sS(t,t.A)),t.A++,!0)}lt.Ga=function(){if(this.u=null,iS(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Fa(ze(this.bb,this),t)}};lt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pn(10),Lf(this),iS(this))};function Zm(t){t.B!=null&&(Tt.clearTimeout(t.B),t.B=null)}function iS(t){t.g=new ja(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=zr(t.oa);ce(e,"RID","rpc"),ce(e,"SID",t.J),ce(e,"CI",t.N?"0":"1"),ce(e,"AID",t.U),$a(t,e),ce(e,"TYPE","xmlhttp"),t.o&&t.s&&Ym(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Rf(zr(e)),n.s=null,n.U=!0,MT(n,t)}lt.ab=function(){this.v!=null&&(this.v=null,Lf(this),Jm(this),pn(19))};function Kl(t){t.v!=null&&(Tt.clearTimeout(t.v),t.v=null)}function oS(t,e){var n=null;if(t.g==e){Kl(t),Zm(t),t.g=null;var i=2}else if(Dg(t.i,e))n=e.D,GT(t.i,e),i=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var o=t.C;i=kf(),Ge(i,new RT(i,n)),Mf(t)}else rS(t);else if(o=e.o,o==3||o==0&&0<t.I||!(i==1&&ZP(t,e)||i==2&&Jm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:co(t,5);break;case 4:co(t,10);break;case 3:co(t,6);break;default:co(t,2)}}}function sS(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function co(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var i=ze(t.jb,t);n||(n=new Io("//www.google.com/images/cleardot.gif"),Tt.location&&Tt.location.protocol=="http"||Bl(n,"https"),Rf(n)),zP(n.toString(),i)}else pn(2);t.G=0,t.j&&t.j.va(e),uS(t),eS(t)}lt.jb=function(t){t?(this.h.info("Successfully pinged google.com"),pn(2)):(this.h.info("Failed to ping google.com"),pn(1))};function uS(t){t.G=0,t.I=-1,t.j&&((WT(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Om(t.l),t.l.length=0),t.j.ua())}function aS(t,e,n){var i=PP(n);if(i.i!="")e&&ql(i,e+"."+i.i),$l(i,i.m);else{var o=Tt.location;i=LP(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,n)}return t.aa&&Rm(t.aa,function(u,a){ce(i,a,u)}),e=t.D,n=t.sa,e&&n&&ce(i,e,n),ce(i,"VER",t.ma),$a(t,i),i}function cS(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Oe(new Ba({ib:!0})):new Oe(t.qa),e.L=t.H,e}function lS(){}lt=lS.prototype;lt.xa=function(){};lt.wa=function(){};lt.va=function(){};lt.ua=function(){};lt.Oa=function(){};function Hl(){if(ks&&!(10<=Number(hP)))throw Error("Environmental error: no available transport.")}Hl.prototype.g=function(t,e){return new qn(t,e)};function qn(t,e){je.call(this),this.g=new tS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Vl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vl(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new tu(this)}We(qn,je);qn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),jm(ze(t.hb,t,e))),pn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=aS(t,null,t.W),Mf(t)};qn.prototype.close=function(){Xm(this.g)};qn.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,zp(this.g,e)}else this.v?(e={},e.__data__=Vm(t),zp(this.g,e)):zp(this.g,t)};qn.prototype.M=function(){this.g.j=null,delete this.j,Xm(this.g),delete this.g,qn.Z.M.call(this)};function fS(t){$m.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}We(fS,$m);function hS(){Km.call(this),this.status=1}We(hS,Km);function tu(t){this.g=t}We(tu,lS);tu.prototype.xa=function(){Ge(this.g,"a")};tu.prototype.wa=function(t){Ge(this.g,new fS(t))};tu.prototype.va=function(t){Ge(this.g,new hS)};tu.prototype.ua=function(){Ge(this.g,"b")};Hl.prototype.createWebChannel=Hl.prototype.g;qn.prototype.send=qn.prototype.u;qn.prototype.open=qn.prototype.m;qn.prototype.close=qn.prototype.close;Cf.NO_ERROR=0;Cf.TIMEOUT=8;Cf.HTTP_ERROR=6;DT.COMPLETE="complete";PT.EventType=Va;Va.OPEN="a";Va.CLOSE="b";Va.ERROR="c";Va.MESSAGE="d";je.prototype.listen=je.prototype.N;Oe.prototype.listenOnce=Oe.prototype.O;Oe.prototype.getLastError=Oe.prototype.La;Oe.prototype.getLastErrorCode=Oe.prototype.Da;Oe.prototype.getStatus=Oe.prototype.ba;Oe.prototype.getResponseJson=Oe.prototype.Qa;Oe.prototype.getResponseText=Oe.prototype.ga;Oe.prototype.send=Oe.prototype.ea;var tL=function(){return new Hl},eL=function(){return kf()},Gp=Cf,nL=DT,rL=Co,wE={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},iL=Ba,dl=PT,oL=Oe;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn=function(){function t(e,n){var i=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();Vn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=function(t){function e(n,i){var o=this;return(o=t.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return vt(e,t),e}(Error),ar=new aT("@firebase/firestore");function Pg(){return ar.logLevel}function nt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ar.logLevel<=Ht.DEBUG){var i=e.map(tv);ar.debug.apply(ar,we(["Firestore (8.10.1): "+t],i))}}function ke(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ar.logLevel<=Ht.ERROR){var i=e.map(tv);ar.error.apply(ar,we(["Firestore (8.10.1): "+t],i))}}function zl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ar.logLevel<=Ht.WARN){var i=e.map(tv);ar.warn.apply(ar,we(["Firestore (8.10.1): "+t],i))}}function tv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw ke(e),new Error(e)}function Et(t,e){t||dt()}function ut(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dS=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";i.length<20;)for(var o=sL(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%e.length));return i},t}();function Vt(t,e){return t<e?-1:t>e?1:0}function Cs(t,e,n){return t.length===e.length&&t.every(function(i,o){return n(i,e[o])})}function pS(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Dt=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new An(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xo(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gS(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mS=function(){function t(e,n,i){n===void 0?n=0:n>e.length&&dt(),i===void 0?i=e.length-n:i>e.length-n&&dt(),this.segments=e,this.offset=n,this.len=i}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(i){n.push(i)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var i=Math.min(e.length,n.length),o=0;o<i;o++){var u=e.get(o),a=n.get(o);if(u<a)return-1;if(u>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Gt=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return vt(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,a=n;u<a.length;u++){var l=a[u];if(l.indexOf("//")>=0)throw new Y(P.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new e(o)},e.emptyPath=function(){return new e([])},e}(mS),uL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fr=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return vt(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.isValidIdentifier=function(n){return uL.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var i=[],o="",u=0,a=function(){if(o.length===0)throw new Y(P.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new Y(P.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[u+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Y(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(a(),u++)}if(a(),l)throw new Y(P.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(i)},e.emptyPath=function(){return new e([])},e}(mS),xs=function(){function t(e){this.fields=e,e.sort(fr.comparator)}return t.prototype.covers=function(e){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Cs(this.fields,e.fields,function(n,i){return n.isEqual(i)})},t}(),Nn=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return Vt(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Nn.EMPTY_BYTE_STRING=new Nn("");var aL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(t){if(Et(!!t),typeof t=="string"){var e=0,n=aL.exec(t);if(Et(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Os(t){return typeof t=="string"?Nn.fromBase64String(t):Nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vS(t){var e=t.mapValue.fields.__previous_value__;return ev(e)?vS(e):e}function _a(t){var e=Ni(t.mapValue.fields.__local_write_time__.timestampValue);return new An(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t){return t==null}function Gl(t){return t===0&&1/t==-1/0}function yS(t){return typeof t=="number"&&Number.isInteger(t)&&!Gl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(Gt.fromString(e))},t.fromName=function(e){return new t(Gt.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Gt.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return Gt.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new Gt(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ev(t)?4:10:dt()}function Or(t,e){var n=_o(t);if(n!==_o(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _a(t).isEqual(_a(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=Ni(i.timestampValue),a=Ni(o.timestampValue);return u.seconds===a.seconds&&u.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Os(i.bytesValue).isEqual(Os(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=Ne(i.doubleValue),a=Ne(o.doubleValue);return u===a?Gl(u)===Gl(a):isNaN(u)&&isNaN(a)}return!1}(t,e);case 9:return Cs(t.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:return function(i,o){var u=i.mapValue.fields||{},a=o.mapValue.fields||{};if(bE(u)!==bE(a))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(a[l]===void 0||!Or(u[l],a[l])))return!1;return!0}(t,e);default:return dt()}}function Ta(t,e){return(t.values||[]).find(function(n){return Or(n,e)})!==void 0}function Rs(t,e){var n=_o(t),i=_o(e);if(n!==i)return Vt(n,i);switch(n){case 0:return 0;case 1:return Vt(t.booleanValue,e.booleanValue);case 2:return function(o,u){var a=Ne(o.integerValue||o.doubleValue),l=Ne(u.integerValue||u.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return EE(t.timestampValue,e.timestampValue);case 4:return EE(_a(t),_a(e));case 5:return Vt(t.stringValue,e.stringValue);case 6:return function(o,u){var a=Os(o),l=Os(u);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){for(var a=o.split("/"),l=u.split("/"),f=0;f<a.length&&f<l.length;f++){var d=Vt(a[f],l[f]);if(d!==0)return d}return Vt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){var a=Vt(Ne(o.latitude),Ne(u.latitude));return a!==0?a:Vt(Ne(o.longitude),Ne(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,u){for(var a=o.values||[],l=u.values||[],f=0;f<a.length&&f<l.length;++f){var d=Rs(a[f],l[f]);if(d)return d}return Vt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,u){var a=o.fields||{},l=Object.keys(a),f=u.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var g=0;g<l.length&&g<d.length;++g){var m=Vt(l[g],d[g]);if(m!==0)return m;var v=Rs(a[l[g]],f[d[g]]);if(v!==0)return v}return Vt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw dt()}}function EE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Vt(t,e);var n=Ni(t),i=Ni(e),o=Vt(n.seconds,i.seconds);return o!==0?o:Vt(n.nanos,i.nanos)}function nv(t){return Lg(t)}function Lg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){var o=Ni(i);return"time("+o.seconds+","+o.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Os(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,pt.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(i){for(var o="[",u=!0,a=0,l=i.values||[];a<l.length;a++)u?u=!1:o+=",",o+=Lg(l[a]);return o+"]"}(t.arrayValue):"mapValue"in t?function(i){for(var o="{",u=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];u?u=!1:o+=",",o+=f+":"+Lg(i.fields[f])}return o+"}"}(t.mapValue):dt();var e,n}function Wl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Mg(t){return!!t&&"integerValue"in t}function rv(t){return!!t&&"arrayValue"in t}function IE(t){return!!t&&"nullValue"in t}function _E(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sl(t){return!!t&&"mapValue"in t}function na(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return xo(t.mapValue.fields,function(o,u){return e.mapValue.fields[o]=na(u)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=na(t.arrayValue.values[i]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,i=0;i<e.length-1;++i)if(!Sl(n=(n.mapValue.fields||{})[e.get(i)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=na(n)},t.prototype.setAll=function(e){var n=this,i=fr.emptyPath(),o={},u=[];e.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,u),o={},u=[],i=f.popLast()}l?o[f.lastSegment()]=na(l):u.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,u)},t.prototype.delete=function(e){var n=this.field(e.popLast());Sl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Or(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<e.length;++i){var o=n.mapValue.fields[e.get(i)];Sl(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,i){xo(n,function(l,f){return e[l]=f});for(var o=0,u=i;o<u.length;o++){var a=u[o];delete e[a]}},t.prototype.clone=function(){return new t(na(this.value))},t}();function wS(t){var e=[];return xo(t.fields,function(n,i){var o=new fr([n]);if(Sl(i)){var u=wS(i.mapValue).fields;if(u.length===0)e.push(o);else for(var a=0,l=u;a<l.length;a++){var f=l[a];e.push(o.child(f))}}else e.push(o)}),new xs(e)}var rn=function(){function t(e,n,i,o,u){this.key=e,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return t.newInvalidDocument=function(e){return new t(e,0,Dt.min(),Fn.empty(),0)},t.newFoundDocument=function(e,n,i){return new t(e,1,n,i,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Fn.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Fn.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),cL=function(t,e,n,i,o,u,a){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t,e,n,i,o,u,a){return e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),new cL(t,e,n,i,o,u,a)}function Ka(t){var e=ut(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+nv(o.value)}(i)}).join(","),n+="|ob:",n+=e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Oo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Yl(e.startAt)),e.endAt&&(n+="|ub:",n+=Yl(e.endAt)),e.h=n}return e.h}function Ff(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!vL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(o=t.filters[i],u=e.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!Or(o.value,u.value))return!1;var o,u;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AE(t.startAt,e.startAt)&&AE(t.endAt,e.endAt)}function Ql(t){return pt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var jn=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).field=n,u.op=i,u.value=o,u}return vt(e,t),e.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new lL(n,i,o):i==="array-contains"?new dL(n,o):i==="in"?new pL(n,o):i==="not-in"?new gL(n,o):i==="array-contains-any"?new mL(n,o):new e(n,i,o)},e.l=function(n,i,o){return i==="in"?new fL(n,o):new hL(n,o)},e.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(Rs(i,this.value)):i!==null&&_o(this.value)===_o(i)&&this.m(Rs(i,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return dt()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),lL=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,o)||this).key=pt.fromName(o.referenceValue),u}return vt(e,t),e.prototype.matches=function(n){var i=pt.comparator(n.key,this.key);return this.m(i)},e}(jn),fL=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"in",i)||this).keys=bS("in",i),o}return vt(e,t),e.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},e}(jn),hL=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"not-in",i)||this).keys=bS("not-in",i),o}return vt(e,t),e.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},e}(jn);function bS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return pt.fromName(i.referenceValue)})}var dL=function(t){function e(n,i){return t.call(this,n,"array-contains",i)||this}return vt(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return rv(i)&&Ta(i.arrayValue,this.value)},e}(jn),pL=function(t){function e(n,i){return t.call(this,n,"in",i)||this}return vt(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Ta(this.value.arrayValue,i)},e}(jn),gL=function(t){function e(n,i){return t.call(this,n,"not-in",i)||this}return vt(e,t),e.prototype.matches=function(n){if(Ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Ta(this.value.arrayValue,i)},e}(jn),mL=function(t){function e(n,i){return t.call(this,n,"array-contains-any",i)||this}return vt(e,t),e.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!rv(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Ta(i.value.arrayValue,u)})},e}(jn),Sa=function(t,e){this.position=t,this.before=e};function Yl(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return nv(e)}).join(",")}var Is=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function vL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function SE(t,e,n){for(var i=0,o=0;o<t.position.length;o++){var u=e[o],a=t.position[o];if(i=u.field.isKeyField()?pt.comparator(pt.fromName(a.referenceValue),n.key):Rs(a,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return t.before?i<=0:i<0}function AE(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qr=function(t,e,n,i,o,u,a,l){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function ES(t,e,n,i,o,u,a,l){return new Qr(t,e,n,i,o,u,a,l)}function Ha(t){return new Qr(t)}function Al(t){return!Oo(t.limit)&&t.limitType==="F"}function Xl(t){return!Oo(t.limit)&&t.limitType==="L"}function iv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ov(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function sv(t){return t.collectionGroup!==null}function Ds(t){var e=ut(t);if(e.p===null){e.p=[];var n=ov(e),i=iv(e);if(n!==null&&i===null)n.isKeyField()||e.p.push(new Is(n)),e.p.push(new Is(fr.keyField(),"asc"));else{for(var o=!1,u=0,a=e.explicitOrderBy;u<a.length;u++){var l=a[u];e.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Is(fr.keyField(),f))}}}return e.p}function Rr(t){var e=ut(t);if(!e.T)if(e.limitType==="F")e.T=TE(e.path,e.collectionGroup,Ds(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,o=Ds(e);i<o.length;i++){var u=o[i],a=u.dir==="desc"?"asc":"desc";n.push(new Is(u.field,a))}var l=e.endAt?new Sa(e.endAt.position,!e.endAt.before):null,f=e.startAt?new Sa(e.startAt.position,!e.startAt.before):null;e.T=TE(e.path,e.collectionGroup,n,e.filters,e.limit,l,f)}return e.T}function IS(t,e,n){return new Qr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function za(t,e){return Ff(Rr(t),Rr(e))&&t.limitType===e.limitType}function _S(t){return Ka(Rr(t))+"|lt:"+t.limitType}function Fg(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+nv(o.value);var o}).join(", ")+"]"),Oo(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Yl(e.startAt)),e.endAt&&(n+=", endAt: "+Yl(e.endAt)),"Target("+n+")"}(Rr(t))+"; limitType="+t.limitType+")"}function Ga(t,e){return e.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):pt.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var a=u[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!SE(n.startAt,Ds(n),i))&&(!n.endAt||!SE(n.endAt,Ds(n),i))}(t,e)}function TS(t){return function(e,n){for(var i=!1,o=0,u=Ds(t);o<u.length;o++){var a=u[o],l=yL(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function yL(t,e,n){var i=t.field.isKeyField()?pt.comparator(e.key,n.key):function(o,u,a){var l=u.data.field(o),f=a.data.field(o);return l!==null&&f!==null?Rs(l,f):dt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return dt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gl(e)?"-0":e}}function AS(t){return{integerValue:""+t}}function NS(t,e){return yS(e)?AS(e):SS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vf=function(){this._=void 0};function wL(t,e,n){return t instanceof Ps?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,e):t instanceof To?CS(t,e):t instanceof So?xS(t,e):function(i,o){var u=kS(i,o),a=NE(u)+NE(i.A);return Mg(u)&&Mg(i.A)?AS(a):SS(i.R,a)}(t,e)}function bL(t,e,n){return t instanceof To?CS(t,e):t instanceof So?xS(t,e):n}function kS(t,e){return t instanceof Ls?Mg(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}var Ps=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return vt(e,t),e}(Vf),To=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return vt(e,t),e}(Vf);function CS(t,e){for(var n=OS(e),i=function(a){n.some(function(l){return Or(l,a)})||n.push(a)},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var So=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return vt(e,t),e}(Vf);function xS(t,e){for(var n=OS(e),i=function(a){n=n.filter(function(l){return!Or(l,a)})},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Ls=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).R=n,o.A=i,o}return vt(e,t),e}(Vf);function NE(t){return Ne(t.integerValue||t.doubleValue)}function OS(t){return rv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wa=function(t,e){this.field=t,this.transform=e},EL=function(t,e){this.version=t,this.transformResults=e},en=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Nl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var jf=function(){};function IL(t,e,n){t instanceof Qa?function(i,o,u){var a=i.value.clone(),l=xE(i.fieldTransforms,o,u.transformResults);a.setAll(l),o.convertToFoundDocument(u.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oi?function(i,o,u){if(Nl(i.precondition,o)){var a=xE(i.fieldTransforms,o,u.transformResults),l=o.data;l.setAll(RS(i)),l.setAll(a),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(t,e,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Vg(t,e,n){t instanceof Qa?function(i,o,u){if(Nl(i.precondition,o)){var a=i.value.clone(),l=OE(i.fieldTransforms,u,o);a.setAll(l),o.convertToFoundDocument(CE(o),a).setHasLocalMutations()}}(t,e,n):t instanceof Oi?function(i,o,u){if(Nl(i.precondition,o)){var a=OE(i.fieldTransforms,u,o),l=o.data;l.setAll(RS(i)),l.setAll(a),o.convertToFoundDocument(CE(o),l).setHasLocalMutations()}}(t,e,n):function(i,o){Nl(i.precondition,o)&&o.convertToNoDocument(Dt.min())}(t,e)}function _L(t,e){for(var n=null,i=0,o=t.fieldTransforms;i<o.length;i++){var u=o[i],a=e.data.field(u.field),l=kS(u.transform,a||null);l!=null&&(n==null&&(n=Fn.empty()),n.set(u.field,l))}return n||null}function kE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Cs(n,i,function(o,u){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof To&&d instanceof To||f instanceof So&&d instanceof So?Cs(f.elements,d.elements,Or):f instanceof Ls&&d instanceof Ls?Or(f.A,d.A):f instanceof Ps&&d instanceof Ps}(a.transform,l.transform)}(o,u)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function CE(t){return t.isFoundDocument()?t.version:Dt.min()}var Qa=function(t){function e(n,i,o,u){u===void 0&&(u=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=u,a.type=0,a}return vt(e,t),e}(jf),Oi=function(t){function e(n,i,o,u,a){a===void 0&&(a=[]);var l=this;return(l=t.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=u,l.fieldTransforms=a,l.type=1,l}return vt(e,t),e}(jf);function RS(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}}),e}function xE(t,e,n){var i=new Map;Et(t.length===n.length);for(var o=0;o<n.length;o++){var u=t[o],a=u.transform,l=e.data.field(u.field);i.set(u.field,bL(a,l,n[o]))}return i}function OE(t,e,n){for(var i=new Map,o=0,u=t;o<u.length;o++){var a=u[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,wL(l,f,e))}return i}var Ae,Bt,Ya=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return vt(e,t),e}(jf),uv=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return vt(e,t),e}(jf),TL=function(t){this.count=t};function DS(t){switch(t){case P.OK:return dt();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return dt()}}function PS(t){if(t===void 0)return ke("GRPC error has no .code"),P.UNKNOWN;switch(t){case Ae.OK:return P.OK;case Ae.CANCELLED:return P.CANCELLED;case Ae.UNKNOWN:return P.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return P.INTERNAL;case Ae.UNAVAILABLE:return P.UNAVAILABLE;case Ae.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ae.NOT_FOUND:return P.NOT_FOUND;case Ae.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ae.ABORTED:return P.ABORTED;case Ae.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ae.DATA_LOSS:return P.DATA_LOSS;default:return dt()}}(Bt=Ae||(Ae={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on=function(){function t(e,n){this.comparator=e,this.root=n||gi.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gi.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gi.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,i){return e(n,i),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,i){return e.push(n+":"+i),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new pl(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new pl(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new pl(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new pl(this.root,e,this.comparator,!0)},t}(),pl=function(){function t(e,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!e.isEmpty();)if(u=n?i(e.key,n):1,o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),gi=function(){function t(e,n,i,o,u){this.key=e,this.value=n,this.color=i??t.RED,this.left=o??t.EMPTY,this.right=u??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,o,u){return new t(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,i){var o=this,u=i(e,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();var e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)},t}();gi.EMPTY=null,gi.RED=!0,gi.BLACK=!1,gi.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw dt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw dt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw dt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw dt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw dt()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,i,o,u){return this},t.prototype.insert=function(e,n,i){return new gi(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe=function(){function t(e){this.comparator=e,this.data=new on(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var i=this.data.getIteratorFrom(e[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}},t.prototype.forEachWhile=function(e,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new RE(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new RE(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(i){n=n.add(i)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),RE=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),SL=new on(pt.comparator);function cr(){return SL}var AL=new on(pt.comparator);function jg(){return AL}var NL=new on(pt.comparator);function kL(){return NL}var CL=new Pe(pt.comparator);function ee(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=CL,i=0,o=t;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var xL=new Pe(Vt);function Uf(){return xL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var av=function(){function t(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,cv.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Dt.min(),i,Uf(),cr(),ee())},t}(),cv=function(){function t(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Nn.EMPTY_BYTE_STRING,n,ee(),ee(),ee())},t}(),kl=function(t,e,n,i){this.v=t,this.removedTargetIds=e,this.key=n,this.P=i},LS=function(t,e){this.targetId=t,this.V=e},MS=function(t,e,n,i){n===void 0&&(n=Nn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},DE=function(){function t(){this.S=0,this.D=LE(),this.C=Nn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=ee(),n=ee(),i=ee();return this.D.forEach(function(o,u){switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:dt()}}),new cv(this.C,this.N,e,n,i)},t.prototype.L=function(){this.k=!1,this.D=LE()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),OL=function(){function t(e){this.W=e,this.G=new Map,this.H=cr(),this.J=PE(),this.Y=new Pe(Vt)}return t.prototype.X=function(e){for(var n=0,i=e.v;n<i.length;n++){var o=i[n];e.P&&e.P.isFoundDocument()?this.Z(o,e.P):this.tt(o,e.key,e.P)}for(var u=0,a=e.removedTargetIds;u<a.length;u++)o=a[u],this.tt(o,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(i){var o=n.nt(i);switch(e.state){case 0:n.st(i)&&o.O(e.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(e.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(e.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(e.resumeToken));break;default:dt()}})},t.prototype.forEachTarget=function(e,n){var i=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},t.prototype.rt=function(e){var n=e.targetId,i=e.V.count,o=this.ot(n);if(o){var u=o.target;if(Ql(u))if(i===0){var a=new pt(u.path);this.tt(n,a,rn.newNoDocument(a,Dt.min()))}else Et(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Ql(f.target)){var d=new pt(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,rn.newNoDocument(d,e))}a.$&&(i.set(l,a.M()),a.L())}});var o=ee();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var g=n.ot(d);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var u=new av(e,i,this.Y,this.H,o);return this.H=cr(),this.J=PE(),this.Y=new Pe(Vt),u},t.prototype.Z=function(e,n){if(this.st(e)){var i=this.at(e,n.key)?2:0;this.nt(e).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,i){if(this.st(e)){var o=this.nt(e);this.at(e,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),i&&(this.H=this.H.insert(n,i))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new DE,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new Pe(Vt),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new DE),this.W.getRemoteKeysForTarget(e).forEach(function(i){n.tt(e,i,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function PE(){return new on(pt.comparator)}function LE(){return new on(pt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RL={asc:"ASCENDING",desc:"DESCENDING"},DL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PL=function(t,e){this.databaseId=t,this.I=e};function Aa(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function FS(t,e){return t.I?e.toBase64():e.toUint8Array()}function LL(t,e){return Aa(t,e.toTimestamp())}function gn(t){return Et(!!t),Dt.fromTimestamp(function(e){var n=Ni(e);return new An(n.seconds,n.nanos)}(t))}function lv(t,e){return function(n){return new Gt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function VS(t){var e=Gt.fromString(t);return Et(HS(e)),e}function Na(t,e){return lv(t.databaseId,e.path)}function qr(t,e){var n=VS(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pt(US(n))}function Ug(t,e){return lv(t.databaseId,e)}function jS(t){var e=VS(t);return e.length===4?Gt.emptyPath():US(e)}function ka(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function US(t){return Et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ME(t,e,n){return{name:Na(t,e),fields:n.value.mapValue.fields}}function ML(t,e,n){var i=qr(t,e.name),o=gn(e.updateTime),u=new Fn({mapValue:{fields:e.fields}}),a=rn.newFoundDocument(i,o,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Jl(t,e){var n;if(e instanceof Qa)n={update:ME(t,e.key,e.value)};else if(e instanceof Ya)n={delete:Na(t,e.key)};else if(e instanceof Oi)n={update:ME(t,e.key,e.data),updateMask:BL(e.fieldMask)};else{if(!(e instanceof uv))return dt();n={verify:Na(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(i){return function(o,u){var a=u.transform;if(a instanceof Ps)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof To)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof So)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ls)return{fieldPath:u.field.canonicalString(),increment:a.A};throw dt()}(0,i)})),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:LL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:dt()}(t,e.precondition)),n}function FE(t,e){var n=e.currentDocument?function(d){return d.updateTime!==void 0?en.updateTime(gn(d.updateTime)):d.exists!==void 0?en.exists(d.exists):en.none()}(e.currentDocument):en.none(),i=e.updateTransforms?e.updateTransforms.map(function(d){return function(g,m){var v=null;if("setToServerValue"in m)Et(m.setToServerValue==="REQUEST_TIME"),v=new Ps;else if("appendMissingElements"in m){var b=m.appendMissingElements.values||[];v=new To(b)}else if("removeAllFromArray"in m){var I=m.removeAllFromArray.values||[];v=new So(I)}else"increment"in m?v=new Ls(g,m.increment):dt();var T=fr.fromServerFormat(m.fieldPath);return new Wa(T,v)}(t,d)}):[];if(e.update){e.update.name;var o=qr(t,e.update.name),u=new Fn({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(d){var g=d.fieldPaths||[];return new xs(g.map(function(m){return fr.fromServerFormat(m)}))}(e.updateMask);return new Oi(o,u,a,n,i)}return new Qa(o,u,n,i)}if(e.delete){var l=qr(t,e.delete);return new Ya(l,n)}if(e.verify){var f=qr(t,e.verify);return new uv(f,n)}return dt()}function BS(t,e){return{documents:[Ug(t,e.path)]}}function qS(t,e){var n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Ug(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ug(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(g){if(g.op==="=="){if(_E(g.value))return{unaryFilter:{field:us(g.field),op:"IS_NAN"}};if(IE(g.value))return{unaryFilter:{field:us(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(_E(g.value))return{unaryFilter:{field:us(g.field),op:"IS_NOT_NAN"}};if(IE(g.value))return{unaryFilter:{field:us(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(g.field),op:VL(g.op),value:g.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(e.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:us(d.field),direction:FL(d.dir)}}(f)})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);var a=function(l,f){return l.I||Oo(f)?f:{value:f}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=VE(e.startAt)),e.endAt&&(n.structuredQuery.endAt=VE(e.endAt)),n}function $S(t){var e=jS(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Et(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:e=e.child(u.collectionId)}var a=[];n.where&&(a=KS(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(m){return function(v){return new Is(vs(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m)}));var f=null;n.limit&&(f=function(m){var v;return Oo(v=typeof m=="object"?m.value:m)?null:v}(n.limit));var d=null;n.startAt&&(d=jE(n.startAt));var g=null;return n.endAt&&(g=jE(n.endAt)),ES(e,o,l,a,f,"F",d,g)}function KS(t){return t?t.unaryFilter!==void 0?[UL(t)]:t.fieldFilter!==void 0?[jL(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return KS(e)}).reduce(function(e,n){return e.concat(n)}):dt():[]}function VE(t){return{before:t.before,values:t.position}}function jE(t){var e=!!t.before,n=t.values||[];return new Sa(n,e)}function FL(t){return RL[t]}function VL(t){return DL[t]}function us(t){return{fieldPath:t.canonicalString()}}function vs(t){return fr.fromServerFormat(t.fieldPath)}function jL(t){return jn.create(vs(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return dt()}}(t.fieldFilter.op),t.fieldFilter.value)}function UL(t){switch(t.unaryFilter.op){case"IS_NAN":var e=vs(t.unaryFilter.field);return jn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=vs(t.unaryFilter.field);return jn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=vs(t.unaryFilter.field);return jn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=vs(t.unaryFilter.field);return jn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return dt()}}function BL(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function HS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=UE(e)),e=qL(t.get(n),e);return UE(e)}function qL(t,e){for(var n=e,i=t.length,o=0;o<i;o++){var u=t.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function UE(t){return t+""}function Br(t){var e=t.length;if(Et(e>=2),e===2)return Et(t.charAt(0)===""&&t.charAt(1)===""),Gt.emptyPath();for(var n=e-2,i=[],o="",u=0;u<e;){var a=t.indexOf("",u);switch((a<0||a>n)&&dt(),t.charAt(a+1)){case"":var l=t.substring(u,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=t.substring(u,a),o+="\0";break;case"":o+=t.substring(u,a+1);break;default:dt()}u=a+2}return new Gt(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $L=function(t,e){this.seconds=t,this.nanoseconds=e},Ln=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ln.store="owner",Ln.key="owner";var Ti=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ti.store="mutationQueues",Ti.keyPath="userId";var ne=function(t,e,n,i,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};ne.store="mutations",ne.keyPath="batchId",ne.userMutationsIndex="userMutationsIndex",ne.userMutationsKeyPath=["userId","batchId"];var Je=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,lr(n)]},t.key=function(e,n,i){return[e,lr(n),i]},t}();Je.store="documentMutations",Je.PLACEHOLDER=new Je;var KL=function(t,e){this.path=t,this.readTime=e},HL=function(t,e){this.path=t,this.version=e},ye=function(t,e,n,i,o,u){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};ye.store="remoteDocuments",ye.readTimeIndex="readTimeIndex",ye.readTimeIndexPath="readTime",ye.collectionReadTimeIndex="collectionReadTimeIndex",ye.collectionReadTimeIndexPath=["parentPath","readTime"];var Nr=function(t){this.byteSize=t};Nr.store="remoteDocumentGlobal",Nr.key="remoteDocumentGlobalKey";var Tn=function(t,e,n,i,o,u,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=a};Tn.store="targets",Tn.keyPath="targetId",Tn.queryTargetsIndexName="queryTargetsIndex",Tn.queryTargetsKeyPath=["canonicalId","targetId"];var Ke=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ke.store="targetDocuments",Ke.keyPath=["targetId","path"],Ke.documentTargetsIndex="documentTargetsIndex",Ke.documentTargetsKeyPath=["path","targetId"];var Mn=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Mn.key="targetGlobalKey",Mn.store="targetGlobal";var go=function(t,e){this.collectionId=t,this.parent=e};go.store="collectionParents",go.keyPath=["collectionId","parent"];var $r=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};$r.store="clientMetadata",$r.keyPath="clientId";var Ms=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ms.store="bundles",Ms.keyPath="bundleId";var Fs=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Fs.store="namedQueries",Fs.keyPath="name";var zL=we(we([],we(we([],we(we([],we(we([],[Ti.store,ne.store,Je.store,ye.store,Tn.store,Ln.store,Mn.store,Ke.store]),[$r.store])),[Nr.store])),[go.store])),[Ms.store,Fs.store]),zS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",GS=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),kn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Z=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(o,u){i.nextCallback=function(a){i.wrapSuccess(e,a).next(o,u)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,u)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,i){e.next(n,i)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(i){return t.reject(i)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,i){n(e)})},t.reject=function(e){return new t(function(n,i){i(e)})},t.waitFor=function(e){return new t(function(n,i){var o=0,u=0,a=!1;e.forEach(function(l){++o,l.next(function(){++u,a&&u===o&&n()},function(f){return i(f)})}),a=!0,u===o&&n()})},t.or=function(e){for(var n=t.resolve(!1),i=function(a){n=n.next(function(l){return l?t.resolve(l):a()})},o=0,u=e;o<u.length;o++)i(u[o]);return n},t.forEach=function(e,n){var i=this,o=[];return e.forEach(function(u,a){o.push(n.call(i,u,a))}),this.waitFor(o)},t}(),WS=function(){function t(e,n){var i=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new kn,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new ra(e,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=fv(o.target.error);i.ft.reject(new ra(e,u))}}return t.open=function(e,n,i,o){try{return new t(n,e.transaction(o,i))}catch(u){throw new ra(n,u)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(nt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new WL(n)},t}(),Vs=function(){function t(e,n,i){this.name=e,this.version=n,this.wt=i,t._t(bo())===12.2&&ke("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return nt("SimpleDb","Removing database:",e),uo(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB>"u")return!1;if(t.gt())return!0;var e=bo(),n=t._t(e),i=0<n&&n<10,o=t.Et(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||u)},t.gt=function(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},t.prototype.At=function(e){return H(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(nt("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;u(d)},l.onblocked=function(){a(new ra(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new Y(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new ra(e,d))},l.onupgradeneeded=function(f){nt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){nt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,i,o){return H(this,void 0,void 0,function(){var u,a,l,f,d;return $(this,function(g){switch(g.label){case 0:u=n==="readonly",a=0,l=function(){var m,v,b,I,T;return $(this,function(O){switch(O.label){case 0:++a,O.label=1;case 1:return O.trys.push([1,4,,5]),[4,f.At(e)];case 2:return f.db=O.sent(),m=WS.open(f.db,e,u?"readonly":"readwrite",i),v=o(m).catch(function(C){return m.abort(C),Z.reject(C)}).toPromise(),b={},v.catch(function(){}),[4,m.dt];case 3:return[2,(b.value=(O.sent(),v),b)];case 4:return I=O.sent(),T=I.name!=="FirebaseError"&&a<3,nt("SimpleDb","Transaction failed with error:",I.message,"Retrying:",T),f.close(),T?[3,5]:[2,{value:Promise.reject(I)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,l()];case 2:if(typeof(d=g.sent())=="object")return[2,d.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),GL=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return uo(this.Pt.delete())},t}(),ra=function(t){function e(n,i){var o=this;return(o=t.call(this,P.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return vt(e,t),e}(Y);function Ro(t){return t.name==="IndexedDbTransactionError"}var WL=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var i;return n!==void 0?(nt("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(nt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),uo(i)},t.prototype.add=function(e){return nt("SimpleDb","ADD",this.store.name,e,e),uo(this.store.add(e))},t.prototype.get=function(e){var n=this;return uo(this.store.get(e)).next(function(i){return i===void 0&&(i=null),nt("SimpleDb","GET",n.store.name,e,i),i})},t.prototype.delete=function(e){return nt("SimpleDb","DELETE",this.store.name,e),uo(this.store.delete(e))},t.prototype.count=function(){return nt("SimpleDb","COUNT",this.store.name),uo(this.store.count())},t.prototype.Nt=function(e,n){var i=this.cursor(this.options(e,n)),o=[];return this.xt(i,function(u,a){o.push(a)}).next(function(){return o})},t.prototype.kt=function(e,n){nt("SimpleDb","DELETE ALL",this.store.name);var i=this.options(e,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(u,a,l){return l.delete()})},t.prototype.$t=function(e,n){var i;n?i=e:(i={},n=e);var o=this.cursor(i);return this.xt(o,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new Z(function(i,o){n.onerror=function(u){var a=fv(u.target.error);o(a)},n.onsuccess=function(u){var a=u.target.result;a?e(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},t.prototype.xt=function(e,n){var i=[];return new Z(function(o,u){e.onerror=function(a){u(a.target.error)},e.onsuccess=function(a){var l=a.target.result;if(l){var f=new GL(l),d=n(l.primaryKey,l.value,f);if(d instanceof Z){var g=d.catch(function(m){return f.done(),Z.reject(m)});i.push(g)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return Z.waitFor(i)})},t.prototype.options=function(e,n){var i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var i=this.store.index(e.index);return e.Ft?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function uo(t){return new Z(function(e,n){t.onsuccess=function(i){var o=i.target.result;e(o)},t.onerror=function(i){var o=fv(i.target.error);n(o)}})}var BE=!1;function fv(t){var e=Vs._t(bo());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new Y("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return BE||(BE=!0,setTimeout(function(){throw i},0)),i}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qE=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return vt(e,t),e}(GS);function Cn(t,e){var n=ut(t);return Vs.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hv=function(){function t(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return t.prototype.applyToRemoteDocument=function(e,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(e.key)&&IL(u,e,i[o])}},t.prototype.applyToLocalView=function(e){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(e.key)&&Vg(a,e,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var a;(a=u[o]).key.isEqual(e.key)&&Vg(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(i){var o=e.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(Dt.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},ee())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Cs(this.mutations,e.mutations,function(n,i){return kE(n,i)})&&Cs(this.baseMutations,e.baseMutations,function(n,i){return kE(n,i)})},t}(),QL=function(){function t(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return t.from=function(e,n,i){Et(e.mutations.length===i.length);for(var o=kL(),u=e.mutations,a=0;a<u.length;a++)o=o.insert(u[a].key,i[a].version);return new t(e,n,i,o)},t}(),Bf=function(){function t(e,n,i,o,u,a,l){u===void 0&&(u=Dt.min()),a===void 0&&(a=Dt.min()),l===void 0&&(l=Nn.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),QS=function(t){this.Lt=t};function Bg(t,e){if(e.document)return ML(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=pt.fromSegments(e.noDocument.path),i=Us(e.noDocument.readTime),o=rn.newNoDocument(n,i);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){var u=pt.fromSegments(e.unknownDocument.path);return i=Us(e.unknownDocument.version),rn.newUnknownDocument(u,i)}return dt()}function $E(t,e,n){var i=dv(n),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){var u=function(m,v){return{name:Na(m,v.key),fields:v.data.value.mapValue.fields,updateTime:Aa(m,v.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new ye(null,null,u,a,i,o)}if(e.isNoDocument()){var l=e.key.path.toArray(),f=js(e.version);return a=e.hasCommittedMutations,new ye(null,new KL(l,f),null,a,i,o)}if(e.isUnknownDocument()){var d=e.key.path.toArray(),g=js(e.version);return new ye(new HL(d,g),null,null,!0,i,o)}return dt()}function dv(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function YS(t){var e=new An(t[0],t[1]);return Dt.fromTimestamp(e)}function js(t){var e=t.toTimestamp();return new $L(e.seconds,e.nanoseconds)}function Us(t){var e=new An(t.seconds,t.nanoseconds);return Dt.fromTimestamp(e)}function hs(t,e){for(var n=(e.baseMutations||[]).map(function(f){return FE(t.Lt,f)}),i=0;i<e.mutations.length-1;++i){var o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){var u=e.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}var a=e.mutations.map(function(f){return FE(t.Lt,f)}),l=An.fromMillis(e.localWriteTimeMs);return new hv(e.batchId,l,n,a)}function Qu(t){var e,n,i=Us(t.readTime),o=t.lastLimboFreeSnapshotVersion!==void 0?Us(t.lastLimboFreeSnapshotVersion):Dt.min();return t.query.documents!==void 0?(Et((n=t.query).documents.length===1),e=Rr(Ha(jS(n.documents[0])))):e=function(u){return Rr($S(u))}(t.query),new Bf(e,t.targetId,0,t.lastListenSequenceNumber,i,o,Nn.fromBase64String(t.resumeToken))}function XS(t,e){var n,i=js(e.snapshotVersion),o=js(e.lastLimboFreeSnapshotVersion);n=Ql(e.target)?BS(t.Lt,e.target):qS(t.Lt,e.target);var u=e.resumeToken.toBase64();return new Tn(e.targetId,Ka(e.target),i,u,e.sequenceNumber,o,n)}function JS(t){var e=$S({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?IS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YL=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return KE(e).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:Us(o.createTime),version:o.version};var o})},t.prototype.saveBundleMetadata=function(e,n){return KE(e).put({bundleId:(i=n).id,createTime:js(gn(i.createTime)),version:i.version});var i},t.prototype.getNamedQuery=function(e,n){return HE(e).get(n).next(function(i){if(i)return{name:(o=i).name,query:JS(o.bundledQuery),readTime:Us(o.readTime)};var o})},t.prototype.saveNamedQuery=function(e,n){return HE(e).put(function(i){return{name:i.name,readTime:js(gn(i.readTime)),bundledQuery:i.bundledQuery}}(n))},t}();function KE(t){return Cn(t,Ms.store)}function HE(t){return Cn(t,Fs.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XL=function(){function t(){this.Bt=new pv}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),Z.resolve()},t.prototype.getCollectionParents=function(e,n){return Z.resolve(this.Bt.getEntries(n))},t}(),pv=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Pe(Gt.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},t.prototype.has=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)},t.prototype.getEntries=function(e){return(this.index[e]||new Pe(Gt.comparator)).toArray()},t}(),JL=function(){function t(){this.qt=new pv}return t.prototype.addToCollectionParentIndex=function(e,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:lr(u)};return zE(e).put(a)}return Z.resolve()},t.prototype.getCollectionParents=function(e,n){var i=[],o=IDBKeyRange.bound([n,""],[pS(n),""],!1,!0);return zE(e).Nt(o).next(function(u){for(var a=0,l=u;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(Br(f.parent))}return i})},t}();function zE(t){return Cn(t,go.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_r=function(){function t(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t,e,n){var i=t.store(ne.store),o=t.store(Je.store),u=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(I,T,O){return l++,O.delete()});u.push(f.next(function(){Et(l===1)}));for(var d=[],g=0,m=n.mutations;g<m.length;g++){var v=m[g],b=Je.key(e,v.key.path,n.batchId);u.push(o.delete(b)),d.push(v.key)}return Z.waitFor(u).next(function(){return d})}function Zl(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw dt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(41943040,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);var ZL=function(){function t(e,n,i,o){this.userId=e,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return t.Qt=function(e,n,i,o){return Et(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,i,o)},t.prototype.checkEmpty=function(e){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ui(e).$t({index:ne.userMutationsIndex,range:i},function(o,u,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,i,o){var u=this,a=ds(e),l=ui(e);return l.add({}).next(function(f){Et(typeof f=="number");for(var d=new hv(f,n,i,o),g=function(C,V,x){var M=x.baseMutations.map(function(R){return Jl(C.Lt,R)}),W=x.mutations.map(function(R){return Jl(C.Lt,R)});return new ne(V,x.batchId,x.localWriteTime.toMillis(),M,W)}(u.R,u.userId,d),m=[],v=new Pe(function(C,V){return Vt(C.canonicalString(),V.canonicalString())}),b=0,I=o;b<I.length;b++){var T=I[b],O=Je.key(u.userId,T.key.path,f);v=v.add(T.key.path.popLast()),m.push(l.put(g)),m.push(a.put(O,Je.PLACEHOLDER))}return v.forEach(function(C){m.push(u.Ut.addToCollectionParentIndex(e,C))}),e.addOnCommittedListener(function(){u.Kt[f]=d.keys()}),Z.waitFor(m).next(function(){return d})})},t.prototype.lookupMutationBatch=function(e,n){var i=this;return ui(e).get(n).next(function(o){return o?(Et(o.userId===i.userId),hs(i.R,o)):null})},t.prototype.jt=function(e,n){var i=this;return this.Kt[n]?Z.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),a=null;return ui(e).$t({index:ne.userMutationsIndex,range:u},function(l,f,d){f.userId===i.userId&&(Et(f.batchId>=o),a=hs(i.R,f)),d.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return ui(e).$t({index:ne.userMutationsIndex,range:n,reverse:!0},function(o,u,a){i=u.batchId,a.done()}).next(function(){return i})},t.prototype.getAllMutationBatches=function(e){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ui(e).Nt(ne.userMutationsIndex,i).next(function(o){return o.map(function(u){return hs(n.R,u)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=Je.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),a=[];return ds(e).$t({range:u},function(l,f,d){var g=l[0],m=l[1],v=l[2],b=Br(m);if(g===i.userId&&n.path.isEqual(b))return ui(e).get(v).next(function(I){if(!I)throw dt();Et(I.userId===i.userId),a.push(hs(i.R,I))});d.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new Pe(Vt),u=[];return n.forEach(function(a){var l=Je.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=ds(e).$t({range:f},function(g,m,v){var b=g[0],I=g[1],T=g[2],O=Br(I);b===i.userId&&a.path.isEqual(O)?o=o.add(T):v.done()});u.push(d)}),Z.waitFor(u).next(function(){return i.Wt(e,o)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=this,o=n.path,u=o.length+1,a=Je.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Pe(Vt);return ds(e).$t({range:l},function(d,g,m){var v=d[0],b=d[1],I=d[2],T=Br(b);v===i.userId&&o.isPrefixOf(T)?T.length===u&&(f=f.add(I)):m.done()}).next(function(){return i.Wt(e,f)})},t.prototype.Wt=function(e,n){var i=this,o=[],u=[];return n.forEach(function(a){u.push(ui(e).get(a).next(function(l){if(l===null)throw dt();Et(l.userId===i.userId),o.push(hs(i.R,l))}))}),Z.waitFor(u).next(function(){return o})},t.prototype.removeMutationBatch=function(e,n){var i=this;return ZS(e.Mt,this.userId,n).next(function(o){return e.addOnCommittedListener(function(){i.Gt(n.batchId)}),Z.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(e,u)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(i){if(!i)return Z.resolve();var o=IDBKeyRange.lowerBound(Je.prefixForUser(n.userId)),u=[];return ds(e).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=Br(a[1]);u.push(d)}else f.done()}).next(function(){Et(u.length===0)})})},t.prototype.containsKey=function(e,n){return t1(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return e1(e).get(this.userId).next(function(i){return i||new Ti(n.userId,-1,"")})},t}();function t1(t,e,n){var i=Je.prefixForPath(e,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),a=!1;return ds(t).$t({range:u,Ft:!0},function(l,f,d){var g=l[0],m=l[1];l[2],g===e&&m===o&&(a=!0),d.done()}).next(function(){return a})}function ui(t){return Cn(t,ne.store)}function ds(t){return Cn(t,Je.store)}function e1(t){return Cn(t,Ti.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tf=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),tM=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(i){var o=new tf(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(e,i).next(function(){return i.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return Dt.fromTimestamp(new An(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,i){var o=this;return this.Xt(e).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(e,u)})},t.prototype.addTargetData=function(e,n){var i=this;return this.te(e,n).next(function(){return i.Xt(e).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(e,o)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var i=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return as(e).delete(n.targetId)}).next(function(){return i.Xt(e)}).next(function(o){return Et(o.targetCount>0),o.targetCount-=1,i.Zt(e,o)})},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,a=[];return as(e).$t(function(l,f){var d=Qu(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(u++,a.push(o.removeTargetData(e,d)))}).next(function(){return Z.waitFor(a)}).next(function(){return u})},t.prototype.forEachTarget=function(e,n){return as(e).$t(function(i,o){var u=Qu(o);n(u)})},t.prototype.Xt=function(e){return WE(e).get(Mn.key).next(function(n){return Et(n!==null),n})},t.prototype.Zt=function(e,n){return WE(e).put(Mn.key,n)},t.prototype.te=function(e,n){return as(e).put(XS(this.R,n))},t.prototype.ee=function(e,n){var i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var i=Ka(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return as(e).$t({range:o,index:Tn.queryTargetsIndexName},function(a,l,f){var d=Qu(l);Ff(n,d.target)&&(u=d,f.done())}).next(function(){return u})},t.prototype.addMatchingKeys=function(e,n,i){var o=this,u=[],a=mi(e);return n.forEach(function(l){var f=lr(l.path);u.push(a.put(new Ke(i,f))),u.push(o.referenceDelegate.addReference(e,i,l))}),Z.waitFor(u)},t.prototype.removeMatchingKeys=function(e,n,i){var o=this,u=mi(e);return Z.forEach(n,function(a){var l=lr(a.path);return Z.waitFor([u.delete([i,l]),o.referenceDelegate.removeReference(e,i,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var i=mi(e),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=mi(e),u=ee();return o.$t({range:i,Ft:!0},function(a,l,f){var d=Br(a[1]),g=new pt(d);u=u.add(g)}).next(function(){return u})},t.prototype.containsKey=function(e,n){var i=lr(n.path),o=IDBKeyRange.bound([i],[pS(i)],!1,!0),u=0;return mi(e).$t({index:Ke.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(u++,f.done())}).next(function(){return u>0})},t.prototype.lt=function(e,n){return as(e).get(n).next(function(i){return i?Qu(i):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t){return Cn(t,Tn.store)}function WE(t){return Cn(t,Mn.store)}function mi(t){return Cn(t,Ke.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t){return H(this,void 0,void 0,function(){return $(this,function(e){if(t.code!==P.FAILED_PRECONDITION||t.message!==zS)throw t;return nt("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e){var n=t[0],i=t[1],o=e[0],u=e[1],a=Vt(n,o);return a===0?Vt(i,u):a}var eM=function(){function t(e){this.ne=e,this.buffer=new Pe(QE),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();QE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),nM=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,i=this.oe?3e5:6e4;nt("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return H(n,void 0,void 0,function(){var o;return $(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return Ro(o=u.sent())?(nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Do(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return u.sent(),[2]}})})})},t}(),rM=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(i){return Math.floor(n/100*i)})},t.prototype.nthSequenceNumber=function(e,n){var i=this;if(n===0)return Z.resolve(Vn.o);var o=new eM(n);return this.ae.forEachTarget(e,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(e,function(u){return o.re(u)})}).next(function(){return o.maxValue})},t.prototype.removeTargets=function(e,n,i){return this.ae.removeTargets(e,n,i)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(GE)):this.getCacheSize(e).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),GE):i.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var i,o,u,a,l,f,d,g=this,m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(v){return v>g.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+v),o=g.params.maximumSequenceNumbersToCollect):o=v,a=Date.now(),g.nthSequenceNumber(e,o)}).next(function(v){return i=v,l=Date.now(),g.removeTargets(e,i,n)}).next(function(v){return u=v,f=Date.now(),g.removeOrphanedDocuments(e,i)}).next(function(v){return d=Date.now(),Pg()<=Ht.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-m)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+v+" documents in "+(d-f)+`ms
Total Duration: `+(d-m)+"ms"),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:v})})},t}(),iM=function(){function t(e,n){this.db=e,this.garbageCollector=function(i,o){return new rM(i,o)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(i){return n.next(function(o){return i+o})})},t.prototype.de=function(e){var n=0;return this.le(e,function(i){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(i,o){return n(o)})},t.prototype.addReference=function(e,n,i){return gl(e,i)},t.prototype.removeReference=function(e,n,i){return gl(e,i)},t.prototype.removeTargets=function(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)},t.prototype.markPotentiallyOrphaned=function(e,n){return gl(e,n)},t.prototype._e=function(e,n){return function(i,o){var u=!1;return e1(i).Ot(function(a){return t1(i,a,o).next(function(l){return l&&(u=!0),Z.resolve(!l)})}).next(function(){return u})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],a=0;return this.we(e,function(l,f){if(f<=n){var d=i._e(e,l).next(function(g){if(!g)return a++,o.getEntry(e,l).next(function(){return o.removeEntry(l),mi(e).delete([0,lr(l.path)])})});u.push(d)}}).next(function(){return Z.waitFor(u)}).next(function(){return o.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)},t.prototype.updateLimboDocument=function(e,n){return gl(e,n)},t.prototype.we=function(e,n){var i,o=mi(e),u=Vn.o;return o.$t({index:Ke.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,g=l.sequenceNumber;f===0?(u!==Vn.o&&n(new pt(Br(i)),u),u=g,i=d):u=Vn.o}).next(function(){u!==Vn.o&&n(new pt(Br(i)),u)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function gl(t,e){return mi(t).put(function(n,i){return new Ke(0,lr(n.path),i)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eu=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];if(this.equalsFn(l,e))return f}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var i=this.mapKeyFn(e),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n])}else this.inner[i]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},t.prototype.forEach=function(e){xo(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];e(l,f)}})},t.prototype.isEmpty=function(){return gS(this.inner)},t}(),n1=function(){function t(){this.changes=new eu(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:Dt.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:rn.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?Z.resolve(i.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),oM=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,i){return di(e).put(ml(n),i)},t.prototype.removeEntry=function(e,n){var i=di(e),o=ml(n);return i.delete(o)},t.prototype.updateMetadata=function(e,n){var i=this;return this.getMetadata(e).next(function(o){return o.byteSize+=n,i.me(e,o)})},t.prototype.getEntry=function(e,n){var i=this;return di(e).get(ml(n)).next(function(o){return i.ye(n,o)})},t.prototype.ge=function(e,n){var i=this;return di(e).get(ml(n)).next(function(o){return{document:i.ye(n,o),size:Zl(o)}})},t.prototype.getEntries=function(e,n){var i=this,o=cr();return this.pe(e,n,function(u,a){var l=i.ye(u,a);o=o.insert(u,l)}).next(function(){return o})},t.prototype.Ee=function(e,n){var i=this,o=cr(),u=new on(pt.comparator);return this.pe(e,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),u=u.insert(a,Zl(l))}).next(function(){return{documents:o,Te:u}})},t.prototype.pe=function(e,n,i){if(n.isEmpty())return Z.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),a=u.getNext();return di(e).$t({range:o},function(l,f,d){for(var g=pt.fromSegments(l);a&&pt.comparator(a,g)<0;)i(a,null),a=u.getNext();a&&a.isEqual(g)&&(i(a,f),a=u.hasNext()?u.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=u.hasNext()?u.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){var o=this,u=cr(),a=n.path.length+1,l={};if(i.isEqual(Dt.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),g=dv(i);l.range=IDBKeyRange.lowerBound([d,g],!0),l.index=ye.collectionReadTimeIndex}return di(e).$t(l,function(m,v,b){if(m.length===a){var I=Bg(o.R,v);n.path.isPrefixOf(I.key.path)?Ga(n,I)&&(u=u.insert(I.key,I)):b.done()}}).next(function(){return u})},t.prototype.newChangeBuffer=function(e){return new sM(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return YE(e).get(Nr.key).next(function(n){return Et(!!n),n})},t.prototype.me=function(e,n){return YE(e).put(Nr.key,n)},t.prototype.ye=function(e,n){if(n){var i=Bg(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(Dt.min()))return i}return rn.newInvalidDocument(e)},t}(),sM=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new eu(function(u){return u.toString()},function(u,a){return u.isEqual(a)}),o}return vt(e,t),e.prototype.applyChanges=function(n){var i=this,o=[],u=0,a=new Pe(function(l,f){return Vt(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var g=$E(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var m=Zl(g);u+=m-d,o.push(i.Ie.addEntry(n,l,g))}else if(u-=d,i.trackRemovals){var v=$E(i.Ie.R,rn.newNoDocument(l,Dt.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,v))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,u)),Z.waitFor(o)},e.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},e.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var a=u.documents;return u.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},e}(n1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t){return Cn(t,Nr.store)}function di(t){return Cn(t,ye.store)}function ml(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uM=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,i,o){var u=this;Et(i<o&&i>=0&&o<=11);var a=new WS("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(Ln.store)}(e),function(f){f.createObjectStore(Ti.store,{keyPath:Ti.keyPath}),f.createObjectStore(ne.store,{keyPath:ne.keyPath,autoIncrement:!0}).createIndex(ne.userMutationsIndex,ne.userMutationsKeyPath,{unique:!0}),f.createObjectStore(Je.store)}(e),XE(e),function(f){f.createObjectStore(ye.store)}(e));var l=Z.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(Ke.store),f.deleteObjectStore(Tn.store),f.deleteObjectStore(Mn.store)}(e),XE(e)),l=l.next(function(){return function(f){var d=f.store(Mn.store),g=new Mn(0,0,Dt.min().toTimestamp(),0);return d.put(Mn.key,g)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(ne.store).Nt().next(function(g){f.deleteObjectStore(ne.store),f.createObjectStore(ne.store,{keyPath:ne.keyPath,autoIncrement:!0}).createIndex(ne.userMutationsIndex,ne.userMutationsKeyPath,{unique:!0});var m=d.store(ne.store),v=g.map(function(b){return m.put(b)});return Z.waitFor(v)})}(e,a)})),l=l.next(function(){(function(f){f.createObjectStore($r.store,{keyPath:$r.keyPath})})(e)})),i<5&&o>=5&&(l=l.next(function(){return u.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Nr.store)}(e),u.be(a)})),i<7&&o>=7&&(l=l.next(function(){return u.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return u.Pe(e,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e),function(f){var d=f.objectStore(ye.store);d.createIndex(ye.readTimeIndex,ye.readTimeIndexPath,{unique:!1}),d.createIndex(ye.collectionReadTimeIndex,ye.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(Ms.store,{keyPath:Ms.keyPath})})(e),function(f){f.createObjectStore(Fs.store,{keyPath:Fs.keyPath})}(e)})),l},t.prototype.be=function(e){var n=0;return e.store(ye.store).$t(function(i,o){n+=Zl(o)}).next(function(){var i=new Nr(n);return e.store(Nr.store).put(Nr.key,i)})},t.prototype.Re=function(e){var n=this,i=e.store(Ti.store),o=e.store(ne.store);return i.Nt().next(function(u){return Z.forEach(u,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(ne.userMutationsIndex,l).next(function(f){return Z.forEach(f,function(d){Et(d.userId===a.userId);var g=hs(n.R,d);return ZS(e,a.userId,g).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Ke.store),i=e.store(ye.store);return e.store(Mn.store).get(Mn.key).next(function(o){var u=[];return i.$t(function(a,l){var f=new Gt(a),d=function(g){return[0,lr(g)]}(f);u.push(n.get(d).next(function(g){return g?Z.resolve():function(m){return n.put(new Ke(0,lr(m),o.highestListenSequenceNumber))}(f)}))}).next(function(){return Z.waitFor(u)})})},t.prototype.Pe=function(e,n){e.createObjectStore(go.store,{keyPath:go.keyPath});var i=n.store(go.store),o=new pv,u=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:lr(f)})}};return n.store(ye.store).$t({Ft:!0},function(a,l){var f=new Gt(a);return u(f.popLast())}).next(function(){return n.store(Je.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=Br(f);return u(d.popLast())})})},t.prototype.Ve=function(e){var n=this,i=e.store(Tn.store);return i.$t(function(o,u){var a=Qu(u),l=XS(n.R,a);return i.put(l)})},t}();function XE(t){t.createObjectStore(Ke.store,{keyPath:Ke.keyPath}).createIndex(Ke.documentTargetsIndex,Ke.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Tn.store,{keyPath:Tn.keyPath}).createIndex(Tn.queryTargetsIndexName,Tn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Mn.store)}var Wp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",aM=function(){function t(e,n,i,o,u,a,l,f,d,g){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=a,this.document=l,this.De=d,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(m){return Promise.resolve()},!t.yt())throw new Y(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iM(this,o),this.Le=n+"main",this.R=new QS(f),this.Be=new Vs(this.Le,11,new uM(this.R)),this.qe=new tM(this.referenceDelegate,this.R),this.Ut=new JL,this.Ue=function(m,v){return new oM(m,v)}(this.R,this.Ut),this.Ke=new YL,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&ke("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Y(P.FAILED_PRECONDITION,Wp);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new Vn(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(i){return H(n,void 0,void 0,function(){return $(this,function(o){return this.started?[2,e(i)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(i){return H(n,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,e()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return H(n,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return vl(n).put(new $r(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(i){i||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(i){return e.isPrimary&&!i?e.Xe(n).next(function(){return!1}):!!i&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ro(n))return nt("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return Hu(e).get(Ln.key).next(function(i){return Z.resolve(n.tn(i))})},t.prototype.en=function(e){return vl(e).delete(this.clientId)},t.prototype.nn=function(){return H(this,void 0,void 0,function(){var e,n,i,o,u=this;return $(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Cn(l,$r.store);return f.Nt().next(function(d){var g=u.rn(d,18e5),m=d.filter(function(v){return g.indexOf(v)===-1});return Z.forEach(m,function(v){return f.delete(v.clientId)}).next(function(){return m})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(n=0,i=e;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?Z.resolve(!0):Hu(e).get(Ln.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new Y(P.FAILED_PRECONDITION,Wp);return!1}}return!(!n.networkEnabled||!n.inForeground)||vl(e).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var a=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&nt("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},t.prototype.shutdown=function(){return H(this,void 0,void 0,function(){var e=this;return $(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ln.store,$r.store],function(i){var o=new qE(i,Vn.o);return e.Xe(o).next(function(){return e.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var i=this;return e.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return vl(n).Nt().next(function(i){return e.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return ZL.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;nt("IndexedDbPersistence","Starting transaction:",e);var u,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,zL,function(l){return u=new qE(l,o.Ne?o.Ne.next():Vn.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw ke("Failed to obtain primary lease for action '"+e+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new Y(P.FAILED_PRECONDITION,zS);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(l){return u.raiseOnCommittedEvent(),l})},t.prototype.dn=function(e){var n=this;return Hu(e).get(Ln.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new Y(P.FAILED_PRECONDITION,Wp)})},t.prototype.Ze=function(e){var n=new Ln(this.clientId,this.allowTabSynchronization,Date.now());return Hu(e).put(Ln.key,n)},t.yt=function(){return Vs.yt()},t.prototype.Xe=function(e){var n=this,i=Hu(e);return i.get(Ln.key).next(function(o){return n.tn(o)?(nt("IndexedDbPersistence","Releasing primary lease."),i.delete(Ln.key)):Z.resolve()})},t.prototype.sn=function(e,n){var i=Date.now();return!(e<i-n||e>i&&(ke("Detected an update time that is in the future: "+e+" > "+i),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),pD()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return nt("IndexedDbPersistence","Client '"+e+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return ke("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){ke("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Hu(t){return Cn(t,Ln.store)}function vl(t){return Cn(t,$r.store)}function gv(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var r1=function(){function t(e,n,i){this.Ue=e,this._n=n,this.Ut=i}return t.prototype.mn=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(o){return i.yn(e,n,o)})},t.prototype.yn=function(e,n,i){return this.Ue.getEntry(e,n).next(function(o){for(var u=0,a=i;u<a.length;u++)a[u].applyToLocalView(o);return o})},t.prototype.gn=function(e,n){e.forEach(function(i,o){for(var u=0,a=n;u<a.length;u++)a[u].applyToLocalView(o)})},t.prototype.pn=function(e,n){var i=this;return this.Ue.getEntries(e,n).next(function(o){return i.En(e,o).next(function(){return o})})},t.prototype.En=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(o){return i.gn(n,o)})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){return function(o){return pt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(e,n.path):sv(n)?this.In(e,n,i):this.An(e,n,i)},t.prototype.Tn=function(e,n){return this.mn(e,new pt(n)).next(function(i){var o=jg();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},t.prototype.In=function(e,n,i){var o=this,u=n.collectionGroup,a=jg();return this.Ut.getCollectionParents(e,u).next(function(l){return Z.forEach(l,function(f){var d=function(g,m){return new Qr(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(u));return o.An(e,d,i).next(function(g){g.forEach(function(m,v){a=a.insert(m,v)})})}).next(function(){return a})})},t.prototype.An=function(e,n,i){var o,u,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(l){return u=l,a.Rn(e,u,o).next(function(f){o=f;for(var d=0,g=u;d<g.length;d++)for(var m=g[d],v=0,b=m.mutations;v<b.length;v++){var I=b[v],T=I.key,O=o.get(T);O==null&&(O=rn.newInvalidDocument(T),o=o.insert(T,O)),Vg(I,O,m.localWriteTime),O.isFoundDocument()||(o=o.remove(T))}})}).next(function(){return o.forEach(function(l,f){Ga(n,f)||(o=o.remove(l))}),o})},t.prototype.Rn=function(e,n,i){for(var o=ee(),u=0,a=n;u<a.length;u++)for(var l=0,f=a[u].mutations;l<f.length;l++){var d=f[l];d instanceof Oi&&i.get(d.key)===null&&(o=o.add(d.key))}var g=i;return this.Ue.getEntries(e,o).next(function(m){return m.forEach(function(v,b){b.isFoundDocument()&&(g=g.insert(v,b))}),g})},t}(),cM=function(){function t(e,n,i,o){this.targetId=e,this.fromCache=n,this.bn=i,this.vn=o}return t.Pn=function(e,n){for(var i=ee(),o=ee(),u=0,a=n.docChanges;u<a.length;u++){var l=a[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new t(e,n.fromCache,i,o)},t}(),i1=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,i,o){var u=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(Dt.min())?this.Dn(e,n):this.Sn.pn(e,o).next(function(a){var l=u.Cn(n,a);return(Al(n)||Xl(n))&&u.Nn(n.limitType,l,o,i)?u.Dn(e,n):(Pg()<=Ht.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fg(n)),u.Sn.getDocumentsMatchingQuery(e,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},t.prototype.Cn=function(e,n){var i=new Pe(TS(e));return n.forEach(function(o,u){Ga(e,u)&&(i=i.add(u))}),i},t.prototype.Nn=function(e,n,i,o){if(i.size!==n.size)return!0;var u=e==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},t.prototype.Dn=function(e,n){return Pg()<=Ht.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Fg(n)),this.Sn.getDocumentsMatchingQuery(e,n,Dt.min())},t}(),lM=function(){function t(e,n,i,o){this.persistence=e,this.xn=n,this.R=o,this.kn=new on(Vt),this.Fn=new eu(function(u){return Ka(u)},Ff),this.$n=Dt.min(),this._n=e.getMutationQueue(i),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new r1(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return e.collect(i,n.kn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t,e,n,i){return new lM(t,e,n,i)}function s1(t,e){return H(this,void 0,void 0,function(){var n,i,o,u;return $(this,function(a){switch(a.label){case 0:return n=ut(t),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(e),o=new r1(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var g=[],m=[],v=ee(),b=0,I=f;b<I.length;b++){var T=I[b];g.push(T.batchId);for(var O=0,C=T.mutations;O<C.length;O++){var V=C[O];v=v.add(V.key)}}for(var x=0,M=d;x<M.length;x++){var W=M[x];m.push(W.batchId);for(var R=0,X=W.mutations;R<X.length;R++){var B=X[R];v=v.add(B.key)}}return o.pn(l,v).next(function(bt){return{Ln:bt,removedBatchIds:g,addedBatchIds:m}})})})];case 1:return u=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function fM(t,e){var n=ut(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=e.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var g=f.batch,m=g.keys(),v=Z.resolve();return m.forEach(function(b){v=v.next(function(){return d.getEntry(l,b)}).next(function(I){var T=f.docVersions.get(b);Et(T!==null),I.version.compareTo(T)<0&&(g.applyToRemoteDocument(I,f),I.isValidDocument()&&d.addEntry(I,f.commitVersion))})}),v.next(function(){return a._n.removeMutationBatch(l,g)})}(n,i,e,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function u1(t){var e=ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function hM(t,e){var n=ut(t),i=e.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];e.targetChanges.forEach(function(g,m){var v=o.get(m);if(v){l.push(n.qe.removeMatchingKeys(u,g.removedDocuments,m).next(function(){return n.qe.addMatchingKeys(u,g.addedDocuments,m)}));var b=g.resumeToken;if(b.approximateByteSize()>0){var I=v.withResumeToken(b,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(m,I),function(T,O,C){return Et(O.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(v,I,g)&&l.push(n.qe.updateTargetData(u,I))}}});var f=cr();if(e.documentUpdates.forEach(function(g,m){e.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(u,g))}),l.push(dM(u,a,e.documentUpdates,i,void 0).next(function(g){f=g})),!i.isEqual(Dt.min())){var d=n.qe.getLastRemoteSnapshotVersion(u).next(function(g){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});l.push(d)}return Z.waitFor(l).next(function(){return a.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.kn=o,u})}function dM(t,e,n,i,o){var u=ee();return n.forEach(function(a){return u=u.add(a)}),e.getEntries(t,u).next(function(a){var l=cr();return n.forEach(function(f,d){var g=a.get(f),m=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual(Dt.min())?(e.removeEntry(f,m),l=l.insert(f,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d,m),l=l.insert(f,d)):nt("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",d.version)}),l})}function pM(t,e){var n=ut(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(i,e)})}function ef(t,e){var n=ut(t);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,e).next(function(u){return u?(o=u,Z.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Bf(e,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(e,i.targetId)),i})}function Bs(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:i=ut(t),o=i.kn.get(e),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Ro(a=l.sent()))throw a;return nt("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.kn=i.kn.remove(e),i.Fn.delete(o.target),[2]}})})}function nf(t,e,n){var i=ut(t),o=Dt.min(),u=ee();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var g=ut(l),m=g.Fn.get(d);return m!==void 0?Z.resolve(g.kn.get(m)):g.qe.getTargetData(f,d)}(i,a,Rr(e)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,e,n?o:Dt.min(),n?u:ee())}).next(function(l){return{documents:l,Bn:u}})})}function a1(t,e){var n=ut(t),i=ut(n.qe),o=n.kn.get(e);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,e).next(function(a){return a?a.target:null})})}function c1(t){var e=ut(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var a=ut(i),l=cr(),f=dv(u),d=di(o),g=IDBKeyRange.lowerBound(f,!0);return d.$t({index:ye.readTimeIndex,range:g},function(m,v){var b=Bg(a.R,v);l=l.insert(b.key,b),f=v.readTime}).next(function(){return{wn:l,readTime:YS(f)}})}(e.On,n,e.$n)}).then(function(n){var i=n.wn,o=n.readTime;return e.$n=o,i})}function gM(t){return H(this,void 0,void 0,function(){var e;return $(this,function(n){return[2,(e=ut(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=di(o),a=Dt.min();return u.$t({index:ye.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=YS(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){e.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mM=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return Z.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:gn(i.createTime)}),Z.resolve()},t.prototype.getNamedQuery=function(e,n){return Z.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(i){return{name:i.name,query:JS(i.bundledQuery),readTime:gn(i.readTime)}}(n)),Z.resolve()},t}(),mv=function(){function t(){this.Wn=new Pe(Me.Gn),this.zn=new Pe(Me.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var i=new Me(e,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},t.prototype.Jn=function(e,n){var i=this;e.forEach(function(o){return i.addReference(o,n)})},t.prototype.removeReference=function(e,n){this.Yn(new Me(e,n))},t.prototype.Xn=function(e,n){var i=this;e.forEach(function(o){return i.removeReference(o,n)})},t.prototype.Zn=function(e){var n=this,i=new pt(new Gt([])),o=new Me(i,e),u=new Me(i,e+1),a=[];return this.zn.forEachInRange([o,u],function(l){n.Yn(l),a.push(l.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new pt(new Gt([])),i=new Me(n,e),o=new Me(n,e+1),u=ee();return this.zn.forEachInRange([i,o],function(a){u=u.add(a.key)}),u},t.prototype.containsKey=function(e){var n=new Me(e,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)},t}(),Me=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return pt.comparator(e.key,n.key)||Vt(e.ns,n.ns)},t.Hn=function(e,n){return Vt(e.ns,n.ns)||pt.comparator(e.key,n.key)},t}(),vM=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Pe(Me.Gn)}return t.prototype.checkEmpty=function(e){return Z.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new hv(u,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new Me(d.key,u)),this.Ut.addToCollectionParentIndex(e,d.key.path.popLast())}return Z.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return Z.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return Z.resolve(this._n.length>u?this._n[u]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Z.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return Z.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=new Me(n,0),u=new Me(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,u],function(l){var f=i.os(l.ns);a.push(f)}),Z.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new Pe(Vt);return n.forEach(function(u){var a=new Me(u,0),l=new Me(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),Z.resolve(this.us(o))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=n.path,o=i.length+1,u=i;pt.isDocumentKey(u)||(u=u.child(""));var a=new Me(new pt(u),0),l=new Pe(Vt);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),Z.resolve(this.us(l))},t.prototype.us=function(e){var n=this,i=[];return e.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},t.prototype.removeMutationBatch=function(e,n){var i=this;Et(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return Z.forEach(n.mutations,function(u){var a=new Me(u.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(function(){i.rs=o})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var i=new Me(n,0),o=this.rs.firstAfterOrEqual(i);return Z.resolve(n.isEqual(o&&o.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,Z.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),yM=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new on(pt.comparator),this.size=0}return t.prototype.addEntry=function(e,n,i){var o=n.key,u=this.docs.get(o),a=u?u.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(e,o.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var i=this.docs.get(n);return Z.resolve(i?i.document.clone():rn.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var i=this,o=cr();return n.forEach(function(u){var a=i.docs.get(u);o=o.insert(u,a?a.document.clone():rn.newInvalidDocument(u))}),Z.resolve(o)},t.prototype.getDocumentsMatchingQuery=function(e,n,i){for(var o=cr(),u=new pt(n.path.child("")),a=this.docs.getIteratorFrom(u);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,g=d.document,m=d.readTime;if(!n.path.isPrefixOf(f.path))break;m.compareTo(i)<=0||Ga(n,g)&&(o=o.insert(g.key,g.clone()))}return Z.resolve(o)},t.prototype.fs=function(e,n){return Z.forEach(this.docs,function(i){return n(i)})},t.prototype.newChangeBuffer=function(e){return new wM(this)},t.prototype.getSize=function(e){return Z.resolve(this.size)},t}(),wM=function(t){function e(n){var i=this;return(i=t.call(this)||this).Ie=n,i}return vt(e,t),e.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),Z.waitFor(o)},e.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},e.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},e}(n1),bM=function(){function t(e){this.persistence=e,this.ds=new eu(function(n){return Ka(n)},Ff),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.ws=0,this._s=new mv,this.targetCount=0,this.ys=tf.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(i,o){return n(o)}),Z.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return Z.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return Z.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Z.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),Z.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new tf(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,Z.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),Z.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,Z.resolve()},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(e,f.targetId)),u++)}),Z.waitFor(a).next(function(){return u})},t.prototype.getTargetCount=function(e){return Z.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var i=this.ds.get(n)||null;return Z.resolve(i)},t.prototype.addMatchingKeys=function(e,n,i){return this._s.Jn(n,i),Z.resolve()},t.prototype.removeMatchingKeys=function(e,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(a){u.push(o.markPotentiallyOrphaned(e,a))}),Z.waitFor(u)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),Z.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=this._s.es(n);return Z.resolve(i)},t.prototype.containsKey=function(e,n){return Z.resolve(this._s.containsKey(n))},t}(),EM=function(){function t(e,n){var i=this;this.gs={},this.Ne=new Vn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new bM(this),this.Ut=new XL,this.Ue=function(o,u){return new yM(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new QS(n),this.Ke=new mM(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new vM(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;nt("MemoryPersistence","Starting transaction:",e);var u=new IM(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(a){return o.referenceDelegate.Ts(u).next(function(){return a})}).toPromise().then(function(a){return u.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return Z.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(e,n)}}))},t}(),IM=function(t){function e(n){var i=this;return(i=t.call(this)||this).currentSequenceNumber=n,i}return vt(e,t),e}(GS),_M=function(){function t(e){this.persistence=e,this.As=new mv,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw dt()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),Z.resolve()},t.prototype.removeReference=function(e,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),Z.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),Z.resolve()},t.prototype.removeTarget=function(e,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(function(u){u.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.vs,function(o){var u=pt.fromPath(o);return n.Ps(e,u).next(function(a){a||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var i=this;return this.Ps(e,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var i=this;return Z.or([function(){return Z.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(e,n)},function(){return i.persistence.Is(e,n)}])},t}(),$e=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t,e){return"firestore_clients_"+t+"_"+e}function ZE(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function Qp(t,e){return"firestore_targets_"+t+"_"+e}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");var tI=function(){function t(e,n,i,o){this.user=e,this.batchId=n,this.state=i,this.error=o}return t.Vs=function(e,n,i){var o,u=JSON.parse(i),a=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return a&&u.error&&(a=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new Y(u.error.code,u.error.message)),a?new t(e,n,u.state,o):(ke("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),Yp=function(){function t(e,n,i){this.targetId=e,this.state=n,this.error=i}return t.Vs=function(e,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new Y(o.error.code,o.error.message)),u?new t(e,o.state,i):(ke("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),eI=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=Uf(),a=0;o&&a<i.activeTargetIds.length;++a)o=yS(i.activeTargetIds[a]),u=u.add(i.activeTargetIds[a]);return o?new t(e,u):(ke("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),TM=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(ke("SharedClientState","Failed to parse online state: "+e),null)},t}(),qg=function(){function t(){this.activeTargetIds=Uf()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),Xp=function(){function t(e,n,i,o,u){this.window=e,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new on(Vt),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=JE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new qg),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return H(this,void 0,void 0,function(){var e,n,i,o,u,a,l,f,d,g,m,v=this;return $(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=b.sent(),n=0,i=e;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(JE(this.persistenceKey,o)))&&(a=eI.Vs(o,u))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,g=this.$s;d<g.length;d++)m=g[d],this.ks(m);return this.$s=[],this.window.addEventListener("pagehide",function(){return v.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,i){this.zs(e,n,i),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var i=this.storage.getItem(Qp(this.persistenceKey,e));if(i){var o=Yp.Vs(e,i);o&&(n=o.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(Qp(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,i){this.Ys(e,n,i)},t.prototype.handleUserChange=function(e,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=e,i.forEach(function(u){o.addPendingMutation(u)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return nt("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){nt("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){nt("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,i=e;if(i.storageArea===this.storage){if(nt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void ke("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return H(n,void 0,void 0,function(){var o,u,a,l,f,d;return $(this,function(g){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(m){var v=Vn.o;if(m!=null)try{var b=JSON.parse(m);Et(typeof b=="number"),v=b}catch(I){ke("SharedClientState","Failed to read sequence number from WebStorage",I)}return v}(i.newValue))!==Vn.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,i){var o=new tI(this.currentUser,e,n,i),u=ZE(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Ss())},t.prototype.Hs=function(e){var n=ZE(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,i){var o=Qp(this.persistenceKey,e),u=new Yp(e,n,i);this.setItem(o,u.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var i=this.ti(e);return eI.Vs(i,n)},t.prototype.si=function(e,n){var i=this.Bs.exec(e),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return tI.Vs(new $e(u),o,n)},t.prototype.ri=function(e,n){var i=this.qs.exec(e),o=Number(i[1]);return Yp.Vs(o,n)},t.prototype.js=function(e){return TM.Vs(e)},t.prototype.ii=function(e){return H(this,void 0,void 0,function(){return $(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(nt("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var i=this,o=n?this.Fs.insert(e,n):this.Fs.remove(e),u=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){u.has(d)||l.push(d)}),u.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=Uf();return e.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},t}(),l1=function(){function t(){this.li=new qg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,i){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,i){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new qg,Promise.resolve()},t.prototype.handleUserChange=function(e,n,i){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),SM=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),nI=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),AM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},NM=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),kM=function(t){function e(n){var i=this;return(i=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return vt(e,t),e.prototype.Fi=function(n,i,o,u){return new Promise(function(a,l){var f=new oL;f.listenOnce(nL.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Gp.NO_ERROR:var g=f.getResponseJson();nt("Connection","XHR received:",JSON.stringify(g)),a(g);break;case Gp.TIMEOUT:nt("Connection",'RPC "'+n+'" timed out'),l(new Y(P.DEADLINE_EXCEEDED,"Request time out"));break;case Gp.HTTP_ERROR:var m=f.getStatus();if(nt("Connection",'RPC "'+n+'" failed with status:',m,"response text:",f.getResponseText()),m>0){var v=f.getResponseJson().error;if(v&&v.status&&v.message){var b=function(I){var T=I.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(T)>=0?T:P.UNKNOWN}(v.status);l(new Y(b,v.message))}else l(new Y(P.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new Y(P.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{nt("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(u);f.send(i,"POST",d,o,15)})},e.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=tL(),a=eL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new iL({})),this.ki(l.initMessageHeaders,i),uD()||lD()||fD()||hD()||dD()||cD()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");nt("Connection","Creating WebChannel: "+f,l);var d=u.createWebChannel(f,l),g=!1,m=!1,v=new NM({Ei:function(I){m?nt("Connection","Not sending because WebChannel is closed:",I):(g||(nt("Connection","Opening WebChannel transport."),d.open(),g=!0),nt("Connection","WebChannel sending:",I),d.send(I))},Ti:function(){return d.close()}}),b=function(I,T,O){I.listen(T,function(C){try{O(C)}catch(V){setTimeout(function(){throw V},0)}})};return b(d,dl.EventType.OPEN,function(){m||nt("Connection","WebChannel transport opened.")}),b(d,dl.EventType.CLOSE,function(){m||(m=!0,nt("Connection","WebChannel transport closed"),v.Vi())}),b(d,dl.EventType.ERROR,function(I){m||(m=!0,zl("Connection","WebChannel transport errored:",I),v.Vi(new Y(P.UNAVAILABLE,"The operation could not be completed")))}),b(d,dl.EventType.MESSAGE,function(I){var T;if(!m){var O=I.data[0];Et(!!O);var C=O,V=C.error||((T=C[0])===null||T===void 0?void 0:T.error);if(V){nt("Connection","WebChannel received error:",V);var x=V.status,M=function(R){var X=Ae[R];if(X!==void 0)return PS(X)}(x),W=V.message;M===void 0&&(M=P.INTERNAL,W="Unknown error status: "+x+" with message "+V.message),m=!0,v.Vi(new Y(M,W)),d.close()}else nt("Connection","WebChannel received:",O),v.Si(O)}}),b(a,rL.STAT_EVENT,function(I){I.stat===wE.PROXY?nt("Connection","Detected buffering proxy"):I.stat===wE.NOPROXY&&nt("Connection","Detected no buffering proxy")}),setTimeout(function(){v.Pi()},0),v},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,i,o){var u=this.xi(e,n);nt("RestConnection","Sending: ",u,i);var a={};return this.ki(a,o),this.Fi(e,u,a,i).then(function(l){return nt("RestConnection","Received: ",l),l},function(l){throw zl("RestConnection",e+" failed with error: ",l,"url: ",u,"request:",i),l})},t.prototype.$i=function(e,n,i,o){return this.Ni(e,n,i,o)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(e[i]=n.authHeaders[i])},t.prototype.xi=function(e,n){var i=AM[e];return this.Di+"/v1/"+n+":"+i},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){return typeof window<"u"?window:null}function Cl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){return new PL(t,!0)}var vv=function(){function t(e,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=e,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&nt("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),h1=function(){function t(e,n,i,o,u,a){this.Se=e,this.zi=i,this.Hi=o,this.Ji=u,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new vv(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return H(this,void 0,void 0,function(){return $(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return H(this,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(ke(n.toString()),ke("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===P.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){e.Yi===i&&e.lr(o)},function(o){n(function(){var u=new Y(P.UNKNOWN,"Fetching auth token failed: "+o.message);return e.dr(u)})})},t.prototype.lr=function(e){var n=this,i=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return H(e,void 0,void 0,function(){return $(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return nt("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===e?i():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),CM=function(t){function e(n,i,o,u,a){var l=this;return(l=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=u,l}return vt(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,a){var l;if("targetChange"in a){a.targetChange;var f=function(O){return O==="NO_CHANGE"?0:O==="ADD"?1:O==="REMOVE"?2:O==="CURRENT"?3:O==="RESET"?4:dt()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],g=function(O,C){return O.I?(Et(C===void 0||typeof C=="string"),Nn.fromBase64String(C||"")):(Et(C===void 0||C instanceof Uint8Array),Nn.fromUint8Array(C||new Uint8Array))}(u,a.targetChange.resumeToken),m=(v=a.targetChange.cause)&&function(O){var C=O.code===void 0?P.UNKNOWN:PS(O.code);return new Y(C,O.message||"")}(v);l=new MS(f,d,g,m||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=qr(u,f.document.name),g=gn(f.document.updateTime);var v=new Fn({mapValue:{fields:f.document.fields}}),b=(m=rn.newFoundDocument(d,g,v),f.targetIds||[]),I=f.removedTargetIds||[];l=new kl(b,I,m.key,m)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=qr(u,f.document),g=f.readTime?gn(f.readTime):Dt.min(),v=rn.newNoDocument(d,g),m=f.removedTargetIds||[],l=new kl([],m,v.key,v);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=qr(u,f.document),g=f.removedTargetIds||[],l=new kl([],g,d,null);else{if(!("filter"in a))return dt();a.filter;var T=a.filter;T.targetId,f=T.count||0,d=new TL(f),g=T.targetId,l=new LS(g,d)}return l}(this.R,n),o=function(u){if(!("targetChange"in u))return Dt.min();var a=u.targetChange;return a.targetIds&&a.targetIds.length?Dt.min():a.readTime?gn(a.readTime):Dt.min()}(n);return this.listener._r(i,o)},e.prototype.mr=function(n){var i={};i.database=ka(this.R),i.addTarget=function(u,a){var l,f=a.target;return(l=Ql(f)?{documents:BS(u,f)}:{query:qS(u,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=FS(u,a.resumeToken):a.snapshotVersion.compareTo(Dt.min())>0&&(l.readTime=Aa(u,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(u,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},e.prototype.yr=function(n){var i={};i.database=ka(this.R),i.removeTarget=n,this.cr(i)},e}(h1),xM=function(t){function e(n,i,o,u,a){var l=this;return(l=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=u,l.gr=!1,l}return vt(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(Et(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,a){return u&&u.length>0?(Et(a!==void 0),u.map(function(l){return function(f,d){var g=f.updateTime?gn(f.updateTime):gn(d);return g.isEqual(Dt.min())&&(g=gn(d)),new EL(g,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=gn(n.commitTime);return this.listener.Tr(o,i)}return Et(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=ka(this.R),this.cr(n)},e.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return Jl(i.R,u)})};this.cr(o)},e}(h1),OM=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return vt(e,t),e.prototype.br=function(){if(this.Rr)throw new Y(P.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new Y(P.UNKNOWN,a.toString())})},e.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new Y(P.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),RM=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(ke(n),this.Vr=!1):nt("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),DM=function(t,e,n,i,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return H(u,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return Ri(this)?(nt("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return H(this,void 0,void 0,function(){var d;return $(this,function(g){switch(g.label){case 0:return(d=ut(f)).Or.add(4),[4,nu(d)];case 1:return g.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Xa(d)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new RM(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){return H(this,void 0,void 0,function(){var e,n;return $(this,function(i){switch(i.label){case 0:if(!Ri(t))return[3,4];e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function nu(t){return H(this,void 0,void 0,function(){var e,n;return $(this,function(i){switch(i.label){case 0:e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function $f(t,e){var n=ut(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),bv(n)?wv(n):iu(n).er()&&yv(n,e))}function Ca(t,e){var n=ut(t),i=iu(n);n.$r.delete(e),i.er()&&d1(n,e),n.$r.size===0&&(i.er()?i.ir():Ri(n)&&n.Br.set("Unknown"))}function yv(t,e){t.qr.U(e.targetId),iu(t).mr(e)}function d1(t,e){t.qr.U(e),iu(t).yr(e)}function wv(t){t.qr=new OL({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),iu(t).start(),t.Br.Sr()}function bv(t){return Ri(t)&&!iu(t).tr()&&t.$r.size>0}function Ri(t){return ut(t).Or.size===0}function p1(t){t.qr=void 0}function PM(t){return H(this,void 0,void 0,function(){return $(this,function(e){return t.$r.forEach(function(n,i){yv(t,n)}),[2]})})}function LM(t,e){return H(this,void 0,void 0,function(){return $(this,function(n){return p1(t),bv(t)?(t.Br.Nr(e),wv(t)):t.Br.set("Unknown"),[2]})})}function MM(t,e,n){return H(this,void 0,void 0,function(){var i,o,u;return $(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof MS&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return H(this,void 0,void 0,function(){var d,g,m,v;return $(this,function(b){switch(b.label){case 0:d=f.cause,g=0,m=f.targetIds,b.label=1;case 1:return g<m.length?(v=m[g],l.$r.has(v)?[4,l.remoteSyncer.rejectListen(v,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(v),l.qr.removeTarget(v),b.label=3;case 3:b.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,rf(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof kl?t.qr.X(e):e instanceof LS?t.qr.rt(e):t.qr.et(e),n.isEqual(Dt.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,u1(t.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(g,m){if(g.resumeToken.approximateByteSize()>0){var v=l.$r.get(m);v&&l.$r.set(m,v.withResumeToken(g.resumeToken,f))}}),d.targetMismatches.forEach(function(g){var m=l.$r.get(g);if(m){l.$r.set(g,m.withResumeToken(Nn.EMPTY_BYTE_STRING,m.snapshotVersion)),d1(l,g);var v=new Bf(m.target,g,1,m.sequenceNumber);yv(l,v)}}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return nt("RemoteStore","Failed to raise snapshot:",u=a.sent()),[4,rf(t,u)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function rf(t,e,n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:if(!Ro(e))throw e;return t.Or.add(1),[4,nu(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return u1(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return $(this,function(u){switch(u.label){case 0:return nt("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),t.Or.delete(1),[4,Xa(t)];case 2:return u.sent(),[2]}})})}),[2]}})})}function g1(t,e){return e().catch(function(n){return rf(t,n,e)})}function ru(t){return H(this,void 0,void 0,function(){var e,n,i,o,u;return $(this,function(a){switch(a.label){case 0:e=ut(t),n=ki(e),i=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Ri(l)&&l.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,pM(e.localStore,i)];case 3:return(o=a.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=ki(l);d.er()&&d.pr&&d.Er(f.mutations)}(e,o),[3,6]);case 4:return u=a.sent(),[4,rf(e,u)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return m1(e)&&v1(e),[2]}})})}function m1(t){return Ri(t)&&!ki(t).tr()&&t.Fr.length>0}function v1(t){ki(t).start()}function FM(t){return H(this,void 0,void 0,function(){return $(this,function(e){return ki(t).Ar(),[2]})})}function VM(t){return H(this,void 0,void 0,function(){var e,n,i,o;return $(this,function(u){for(e=ki(t),n=0,i=t.Fr;n<i.length;n++)o=i[n],e.Er(o.mutations);return[2]})})}function jM(t,e,n){return H(this,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return i=t.Fr.shift(),o=QL.from(i,e,n),[4,g1(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,ru(t)];case 2:return u.sent(),[2]}})})}function UM(t,e){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return e&&ki(t).pr?[4,function(i,o){return H(this,void 0,void 0,function(){var u,a;return $(this,function(l){switch(l.label){case 0:return DS(a=o.code)&&a!==P.ABORTED?(u=i.Fr.shift(),ki(i).sr(),[4,g1(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,ru(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return m1(t)&&v1(t),[2]}})})}function $g(t,e){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ut(t),e?(n.Or.delete(2),[4,Xa(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,nu(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function iu(t){var e=this;return t.Ur||(t.Ur=function(n,i,o){var u=ut(n);return u.br(),new CM(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:PM.bind(null,t),Ri:LM.bind(null,t),_r:MM.bind(null,t)}),t.Mr.push(function(n){return H(e,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(t.Ur.sr(),bv(t)?wv(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:i.sent(),p1(t),i.label=3;case 3:return[2]}})})})),t.Ur}function ki(t){var e=this;return t.Kr||(t.Kr=function(n,i,o){var u=ut(n);return u.br(),new xM(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:FM.bind(null,t),Ri:UM.bind(null,t),Ir:VM.bind(null,t),Tr:jM.bind(null,t)}),t.Mr.push(function(n){return H(e,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(t.Kr.sr(),[4,ru(t)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:i.sent(),t.Fr.length>0&&(nt("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),i.label=4;case 4:return[2]}})})})),t.Kr}var BM=function(){function t(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,i,o,u){var a=new t(e,n,Date.now()+i,o,u);return a.start(i),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function ou(t,e){if(ke("AsyncQueue",e+": "+t),Ro(t))return new Y(P.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y1=function(){function t(e){this.comparator=e?function(n,i){return e(n,i)||pt.comparator(n.key,i.key)}:function(n,i){return pt.comparator(n.key,i.key)},this.keyedMap=jg(),this.sortedSet=new on(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),rI=function(){function t(){this.Qr=new on(pt.comparator)}return t.prototype.track=function(e){var n=e.doc.key,i=this.Qr.get(n);i?e.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Qr=this.Qr.remove(n):e.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):dt():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,i){e.push(i)}),e},t}(),of=function(){function t(e,n,i,o,u,a,l,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return t.fromInitialDocuments=function(e,n,i,o){var u=[];return n.forEach(function(a){u.push({type:0,doc:a})}),new t(e,n,y1.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&za(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},t}(),qM=function(){this.Wr=void 0,this.listeners=[]},$M=function(){this.queries=new eu(function(t){return _S(t)},za),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f;return $(this,function(d){switch(d.label){case 0:if(n=ut(t),i=e.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new qM),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=u,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=ou(l,"Initialization of query '"+Fg(e.query)+"' failed"),[2,void e.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(e),e.zr(n.onlineState),u.Wr&&e.Hr(u.Wr)&&_v(n),[2]}})})}function Iv(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a;return $(this,function(l){return n=ut(t),i=e.query,o=!1,(u=n.queries.get(i))&&(a=u.listeners.indexOf(e))>=0&&(u.listeners.splice(a,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function KM(t,e){for(var n=ut(t),i=!1,o=0,u=e;o<u.length;o++){var a=u[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,g=f.listeners;d<g.length;d++)g[d].Hr(a)&&(i=!0);f.Wr=a}}i&&_v(n)}function HM(t,e,n){var i=ut(t),o=i.queries.get(e);if(o)for(var u=0,a=o.listeners;u<a.length;u++)a[u].onError(n);i.queries.delete(e)}function _v(t){t.Gr.forEach(function(e){e.next()})}var Tv=function(){function t(e,n,i){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=e.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}e=new of(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=of.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w1=function(t){this.key=t},b1=function(t){this.key=t},E1=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=ee(),this.mutatedKeys=ee(),this.lo=TS(e),this.fo=new y1(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var i=this,o=n?n.mo:new rI,u=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=u,f=!1,d=Al(this.query)&&u.size===this.query.limit?u.last():null,g=Xl(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(function(v,b){var I=u.get(v),T=Ga(i.query,b)?b:null,O=!!I&&i.mutatedKeys.has(I.key),C=!!T&&(T.hasLocalMutations||i.mutatedKeys.has(T.key)&&T.hasCommittedMutations),V=!1;I&&T?I.data.isEqual(T.data)?O!==C&&(o.track({type:3,doc:T}),V=!0):i.yo(I,T)||(o.track({type:2,doc:T}),V=!0,(d&&i.lo(T,d)>0||g&&i.lo(T,g)<0)&&(f=!0)):!I&&T?(o.track({type:0,doc:T}),V=!0):I&&!T&&(o.track({type:1,doc:I}),V=!0,(d||g)&&(f=!0)),V&&(T?(l=l.add(T),a=C?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))}),Al(this.query)||Xl(this.query))for(;l.size>this.query.limit;){var m=Al(this.query)?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),o.track({type:1,doc:m})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,i){var o=this,u=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(g,m){return function(v,b){var I=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return I(v)-I(b)}(g.type,m.type)||o.lo(g.doc,m.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new of(this.query,e.fo,u,a,e.mutatedKeys,f===0,d,!1),To:l}:{To:l}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new rI,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),e.modifiedDocuments.forEach(function(i){}),e.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=ee(),this.fo.forEach(function(o){e.Io(o.key)&&(e.ho=e.ho.add(o.key))});var i=[];return n.forEach(function(o){e.ho.has(o)||i.push(new b1(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new w1(o))}),i},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=ee();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return of.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),zM=function(t,e,n){this.query=t,this.targetId=e,this.view=n},GM=function(t){this.key=t,this.bo=!1},WM=function(){function t(e,n,i,o,u,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new eu(function(l){return _S(l)},za),this.Vo=new Map,this.So=new Set,this.Do=new on(pt.comparator),this.Co=new Map,this.No=new mv,this.xo={},this.ko=new Map,this.Fo=tf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function QM(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a,l;return $(this,function(f){switch(f.label){case 0:return n=Cv(t),(u=n.Po.get(e))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,ef(n.localStore,Rr(e))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,Sv(n,e,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&$f(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function Sv(t,e,n,i){return H(this,void 0,void 0,function(){var o,u,a,l,f,d;return $(this,function(g){switch(g.label){case 0:return t.Oo=function(m,v,b){return function(I,T,O,C){return H(this,void 0,void 0,function(){var V,x,M;return $(this,function(W){switch(W.label){case 0:return V=T.view._o(O),V.Nn?[4,nf(I.localStore,T.query,!1).then(function(R){var X=R.documents;return T.view._o(X,V)})]:[3,2];case 1:V=W.sent(),W.label=2;case 2:return x=C&&C.targetChanges.get(T.targetId),M=T.view.applyChanges(V,I.isPrimaryClient,x),[2,(Kg(I,T.targetId,M.To),M.snapshot)]}})})}(t,m,v,b)},[4,nf(t.localStore,e,!0)];case 1:return o=g.sent(),u=new E1(e,o.Bn),a=u._o(o.documents),l=cv.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline"),f=u.applyChanges(a,t.isPrimaryClient,l),Kg(t,n,f.To),d=new zM(e,n,u),[2,(t.Po.set(e,d),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),f.snapshot)]}})})}function YM(t,e){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:return n=ut(t),i=n.Po.get(e),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!za(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Bs(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Ca(n.remoteStore,i.targetId),qs(n,i.targetId)}).catch(Do)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return qs(n,i.targetId),[4,Bs(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function XM(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:i=xv(t),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var g,m=ut(f),v=An.now(),b=d.reduce(function(I,T){return I.add(T.key)},ee());return m.persistence.runTransaction("Locally write mutations","readwrite",function(I){return m.Mn.pn(I,b).next(function(T){g=T;for(var O=[],C=0,V=d;C<V.length;C++){var x=V[C],M=_L(x,g.get(x.key));M!=null&&O.push(new Oi(x.key,M,wS(M.value.mapValue),en.exists(!0)))}return m._n.addMutationBatch(I,v,O,d)})}).then(function(I){return I.applyToLocalDocumentSet(g),{batchId:I.batchId,changes:g}})}(i.localStore,e)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,g){var m=f.xo[f.currentUser.toKey()];m||(m=new on(Vt)),m=m.insert(d,g),f.xo[f.currentUser.toKey()]=m}(i,o.batchId,n),[4,Di(i,o.changes)];case 3:return l.sent(),[4,ru(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),a=ou(u,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function I1(t,e){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:n=ut(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,hM(n.localStore,e)];case 2:return i=o.sent(),e.targetChanges.forEach(function(u,a){var l=n.Co.get(a);l&&(Et(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.bo=!0:u.modifiedDocuments.size>0?Et(l.bo):u.removedDocuments.size>0&&(Et(l.bo),l.bo=!1))}),[4,Di(n,i,e)];case 3:return o.sent(),[3,6];case 4:return[4,Do(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function iI(t,e,n){var i=ut(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,a){var l=a.view.zr(e);l.snapshot&&o.push(l.snapshot)}),function(u,a){var l=ut(u);l.onlineState=a;var f=!1;l.queries.forEach(function(d,g){for(var m=0,v=g.listeners;m<v.length;m++)v[m].zr(a)&&(f=!0)}),f&&_v(l)}(i.eventManager,e),o.length&&i.vo._r(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function JM(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f;return $(this,function(d){switch(d.label){case 0:return(i=ut(t)).sharedClientState.updateQueryState(e,"rejected",n),o=i.Co.get(e),(u=o&&o.key)?(a=(a=new on(pt.comparator)).insert(u,rn.newNoDocument(u,Dt.min())),l=ee().add(u),f=new av(Dt.min(),new Map,new Pe(Vt),a,l),[4,I1(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(u),i.Co.delete(e),kv(i),[3,4];case 2:return[4,Bs(i.localStore,e,!1).then(function(){return qs(i,e,n)}).catch(Do)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function ZM(t,e){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:n=ut(t),i=e.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,fM(n.localStore,e)];case 2:return o=u.sent(),Nv(n,i,null),Av(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Di(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,Do(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function tF(t,e,n){return H(this,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:i=ut(t),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(a,l){var f=ut(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var g;return f._n.lookupMutationBatch(d,l).next(function(m){return Et(m!==null),g=m.keys(),f._n.removeMutationBatch(d,m)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,g)})})}(i.localStore,e)];case 2:return o=u.sent(),Nv(i,e,n),Av(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,Di(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,Do(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function eF(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a;return $(this,function(l){switch(l.label){case 0:Ri((n=ut(t)).remoteStore)||nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=ut(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return d._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void e.resolve()]:((o=n.ko.get(i)||[]).push(e),n.ko.set(i,o),[3,4]);case 3:return u=l.sent(),a=ou(u,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function Av(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function Nv(t,e,n){var i=ut(t),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.xo[i.currentUser.toKey()]=o}}function qs(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,o=t.Vo.get(e);i<o.length;i++){var u=o[i];t.Po.delete(u),n&&t.vo.Mo(u,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||_1(t,a)})}function _1(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(Ca(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),kv(t))}function Kg(t,e,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof w1?(t.No.addReference(u.key,e),nF(t,u)):u instanceof b1?(nt("SyncEngine","Document no longer in limbo: "+u.key),t.No.removeReference(u.key,e),t.No.containsKey(u.key)||_1(t,u.key)):dt()}}function nF(t,e){var n=e.key,i=n.path.canonicalString();t.Do.get(n)||t.So.has(i)||(nt("SyncEngine","New document in limbo: "+n),t.So.add(i),kv(t))}function kv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new pt(Gt.fromString(e)),i=t.Fo.next();t.Co.set(i,new GM(n)),t.Do=t.Do.insert(n,i),$f(t.remoteStore,new Bf(Rr(Ha(n.path)),i,2,Vn.o))}}function Di(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:return i=ut(t),o=[],u=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,e,n).then(function(g){if(g){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,g.fromCache?"not-current":"current"),o.push(g);var m=cM.Pn(d.targetId,g);u.push(m)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return H(this,void 0,void 0,function(){var g,m,v,b,I,T,O,C,V;return $(this,function(x){switch(x.label){case 0:g=ut(f),x.label=1;case 1:return x.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(M){return Z.forEach(d,function(W){return Z.forEach(W.bn,function(R){return g.persistence.referenceDelegate.addReference(M,W.targetId,R)}).next(function(){return Z.forEach(W.vn,function(R){return g.persistence.referenceDelegate.removeReference(M,W.targetId,R)})})})})];case 2:return x.sent(),[3,4];case 3:if(!Ro(m=x.sent()))throw m;return nt("LocalStore","Failed to update sequence numbers: "+m),[3,4];case 4:for(v=0,b=d;v<b.length;v++)I=b[v],T=I.targetId,I.fromCache||(O=g.kn.get(T),C=O.snapshotVersion,V=O.withLastLimboFreeSnapshotVersion(C),g.kn=g.kn.insert(T,V));return[2]}})})}(i.localStore,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function rF(t,e){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return(n=ut(t)).currentUser.isEqual(e)?[3,3]:(nt("SyncEngine","User change. New user:",e.toKey()),[4,s1(n.localStore,e)]);case 1:return i=o.sent(),n.currentUser=e,function(u,a){u.ko.forEach(function(l){l.forEach(function(f){f.reject(new Y(P.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,Di(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function iF(t,e){var n=ut(t),i=n.Co.get(e);if(i&&i.bo)return ee().add(i.key);var o=ee(),u=n.Vo.get(e);if(!u)return o;for(var a=0,l=u;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function oF(t,e){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:return[4,nf((n=ut(t)).localStore,e.query,!0)];case 1:return i=u.sent(),o=e.view.Ao(i),[2,(n.isPrimaryClient&&Kg(n,e.targetId,o.To),o)]}})})}function sF(t){return H(this,void 0,void 0,function(){var e;return $(this,function(n){return[2,c1((e=ut(t)).localStore).then(function(i){return Di(e,i)})]})})}function uF(t,e,n,i){return H(this,void 0,void 0,function(){var o,u;return $(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=ut(l),g=ut(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(m){return g.jt(m,f).next(function(v){return v?d.Mn.pn(m,v):Z.resolve(null)})})}((o=ut(t)).localStore,e)];case 1:return(u=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,ru(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Nv(o,e,i||null),Av(o,e),function(l,f){ut(ut(l)._n).Gt(f)}(o.localStore,e)):dt(),a.label=4;case 4:return[4,Di(o,u)];case 5:return a.sent(),[3,7];case 6:nt("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function aF(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f,d;return $(this,function(g){switch(g.label){case 0:return Cv(n=ut(t)),xv(n),e!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,oI(n,i.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,$g(n.remoteStore,!0)];case 2:for(g.sent(),u=0,a=o;u<a.length;u++)l=a[u],$f(n.remoteStore,l);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(m,v){n.sharedClientState.isLocalQueryTarget(v)?f.push(v):d=d.then(function(){return qs(n,v),Bs(n.localStore,v,!0)}),Ca(n.remoteStore,v)}),[4,d]);case 4:return g.sent(),[4,oI(n,f)];case 5:return g.sent(),function(m){var v=ut(m);v.Co.forEach(function(b,I){Ca(v.remoteStore,I)}),v.No.ts(),v.Co=new Map,v.Do=new on(pt.comparator)}(n),n.$o=!1,[4,$g(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function oI(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,g,m,v,b,I,T,O;return $(this,function(C){switch(C.label){case 0:i=ut(t),o=[],u=[],a=0,l=e,C.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(g=i.Vo.get(f))&&g.length!==0?[4,ef(i.localStore,Rr(g[0]))]:[3,7]):[3,13];case 2:d=C.sent(),m=0,v=g,C.label=3;case 3:return m<v.length?(b=v[m],I=i.Po.get(b),[4,oF(i,I)]):[3,6];case 4:(T=C.sent()).snapshot&&u.push(T.snapshot),C.label=5;case 5:return m++,[3,3];case 6:return[3,11];case 7:return[4,a1(i.localStore,f)];case 8:return O=C.sent(),[4,ef(i.localStore,O)];case 9:return d=C.sent(),[4,Sv(i,T1(O),f,!1)];case 10:C.sent(),C.label=11;case 11:o.push(d),C.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function T1(t){return ES(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function cF(t){var e=ut(t);return ut(ut(e.localStore).persistence).fn()}function lF(t,e,n,i){return H(this,void 0,void 0,function(){var o,u,a;return $(this,function(l){switch(l.label){case 0:return(o=ut(t)).$o?(nt("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,c1(o.localStore)];case 3:return u=l.sent(),a=av.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,Di(o,u,a)];case 4:return l.sent(),[3,8];case 5:return[4,Bs(o.localStore,e,!0)];case 6:return l.sent(),qs(o,e,i),[3,8];case 7:dt(),l.label=8;case 8:return[2]}})})}function fF(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,g,m,v;return $(this,function(b){switch(b.label){case 0:if(!(i=Cv(t)).$o)return[3,10];o=0,u=e,b.label=1;case 1:return o<u.length?(a=u[o],i.Vo.has(a)?(nt("SyncEngine","Adding an already active target "+a),[3,5]):[4,a1(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,ef(i.localStore,l)];case 3:return f=b.sent(),[4,Sv(i,T1(l),f.targetId,!1)];case 4:b.sent(),$f(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(I){return $(this,function(T){switch(T.label){case 0:return i.Vo.has(I)?[4,Bs(i.localStore,I,!1).then(function(){Ca(i.remoteStore,I),qs(i,I)}).catch(Do)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},g=0,m=n,b.label=7;case 7:return g<m.length?(v=m[g],[5,d(v)]):[3,10];case 8:b.sent(),b.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function Cv(t){var e=ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JM.bind(null,e),e.vo._r=KM.bind(null,e.eventManager),e.vo.Mo=HM.bind(null,e.eventManager),e}function xv(t){var e=ut(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tF.bind(null,e),e}var S1=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return this.R=qf(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return o1(this.persistence,new i1,e.initialUser,this.R)},t.prototype.qo=function(e){return new EM(_M.bs,this.R)},t.prototype.Bo=function(e){return new l1},t.prototype.terminate=function(){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),A1=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return vt(e,t),e.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,gM(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,xv(this.Qo.syncEngine)];case 4:return o.sent(),[4,ru(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},e.prototype.Ko=function(n){return o1(this.persistence,new i1,n.initialUser,this.R)},e.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new nM(i,n.asyncQueue)},e.prototype.qo=function(n){var i=gv(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new aM(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,f1(),Cl(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new l1},e}(S1),hF=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return vt(e,t),e.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i,o=this;return $(this,function(u){switch(u.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof Xp?(this.sharedClientState.syncEngine={ui:uF.bind(null,i),ai:lF.bind(null,i),hi:fF.bind(null,i),fn:cF.bind(null,i),ci:sF.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(a){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return[4,aF(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},e.prototype.Bo=function(n){var i=f1();if(!Xp.yt(i))throw new Y(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=gv(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Xp(i,n.asyncQueue,o,n.clientId,n.initialUser)},e}(A1),Hg=function(){function t(){}return t.prototype.initialize=function(e,n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return iI(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=rF.bind(null,this.syncEngine),[4,$g(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new $M},t.prototype.createDatastore=function(e){var n,i=qf(e.databaseInfo.databaseId),o=(n=e.databaseInfo,new kM(n));return function(u,a,l){return new OM(u,a,l)}(e.credentials,o,i)},t.prototype.createRemoteStore=function(e){var n,i,o,u,a,l=this;return n=this.localStore,i=this.datastore,o=e.asyncQueue,u=function(f){return iI(l.syncEngine,f,0)},a=nI.yt()?new nI:new SM,new DM(n,i,o,u,a)},t.prototype.createSyncEngine=function(e,n){return function(i,o,u,a,l,f,d){var g=new WM(i,o,u,a,l,f);return d&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ut(e),nt("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,nu(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kf=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var i=this;this.muted||setTimeout(function(){i.muted||e(n)},0)},t}(),dF=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return H(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Y(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,a){return H(this,void 0,void 0,function(){var l,f,d,g,m,v;return $(this,function(b){switch(b.label){case 0:return l=ut(u),f=ka(l.R)+"/documents",d={documents:a.map(function(I){return Na(l.R,I)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return g=b.sent(),m=new Map,g.forEach(function(I){var T=function(O,C){return"found"in C?function(V,x){Et(!!x.found),x.found.name,x.found.updateTime;var M=qr(V,x.found.name),W=gn(x.found.updateTime),R=new Fn({mapValue:{fields:x.found.fields}});return rn.newFoundDocument(M,W,R)}(O,C):"missing"in C?function(V,x){Et(!!x.missing),Et(!!x.readTime);var M=qr(V,x.missing),W=gn(x.readTime);return rn.newNoDocument(M,W)}(O,C):dt()}(l.R,I);m.set(T.key.toString(),T)}),v=[],[2,(a.forEach(function(I){var T=m.get(I.toString());Et(!!T),v.push(T)}),v)]}})})}(this.datastore,e)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new Ya(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return H(this,void 0,void 0,function(){var e,n=this;return $(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(o){e.delete(o.key.toString())}),e.forEach(function(o,u){var a=pt.fromPath(u);n.mutations.push(new uv(a,n.precondition(a)))}),[4,function(o,u){return H(this,void 0,void 0,function(){var a,l,f;return $(this,function(d){switch(d.label){case 0:return a=ut(o),l=ka(a.R)+"/documents",f={writes:u.map(function(g){return Jl(a.R,g)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw dt();n=Dt.min()}var i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new Y(P.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?en.updateTime(n):en.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Dt.min()))throw new Y(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return en.updateTime(n)}return en.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),pF=function(){function t(e,n,i,o){this.asyncQueue=e,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new vv(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return H(e,void 0,void 0,function(){var n,i,o=this;return $(this,function(u){return n=new dF(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!Oo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!DS(n)}return!1},t}(),gF=function(){function t(e,n,i){var o=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=$e.UNAUTHENTICATED,this.clientId=dS.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return H(o,void 0,void 0,function(){return $(this,function(a){switch(a.label){case 0:return nt("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return a.sent(),this.user=u,[2]}})})})}return t.prototype.getConfiguration=function(){return H(this,void 0,void 0,function(){return $(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Y(P.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return H(e,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=ou(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t,e){return H(this,void 0,void 0,function(){var n,i,o=this;return $(this,function(u){switch(u.label){case 0:return t.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=u.sent(),[4,e.initialize(n)];case 2:return u.sent(),i=n.initialUser,t.setCredentialChangeListener(function(a){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,s1(e.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function k1(t,e){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Ov(t)];case 1:return n=o.sent(),nt("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.setCredentialChangeListener(function(u){return function(a,l){return H(this,void 0,void 0,function(){var f,d;return $(this,function(g){switch(g.label){case 0:return(f=ut(a)).asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials"),d=Ri(f),f.Or.add(3),[4,nu(f)];case 1:return g.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return g.sent(),f.Or.delete(3),[4,Xa(f)];case 3:return g.sent(),[2]}})})}(e.remoteStore,u)}),t.onlineComponents=e,[2]}})})}function Ov(t){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(nt("FirestoreClient","Using default OfflineComponentProvider"),[4,N1(t,new S1)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Hf(t){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(nt("FirestoreClient","Using default OnlineComponentProvider"),[4,k1(t,new Hg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function sI(t){return Ov(t).then(function(e){return e.persistence})}function C1(t){return Ov(t).then(function(e){return e.localStore})}function uI(t){return Hf(t).then(function(e){return e.remoteStore})}function x1(t){return Hf(t).then(function(e){return e.syncEngine})}function $s(t){return H(this,void 0,void 0,function(){var e,n;return $(this,function(i){switch(i.label){case 0:return[4,Hf(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=QM.bind(null,e.syncEngine),n.onUnlisten=YM.bind(null,e.syncEngine),n)]}})})}function aI(t,e,n){var i=this;n===void 0&&(n={});var o=new kn;return t.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return u=function(l,f,d,g,m){var v=new Kf({next:function(I){f.enqueueAndForget(function(){return Iv(l,b)});var T=I.docs.has(d);!T&&I.fromCache?m.reject(new Y(P.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&I.fromCache&&g&&g.source==="server"?m.reject(new Y(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:function(I){return m.reject(I)}}),b=new Tv(Ha(d.path),v,{includeMetadataChanges:!0,so:!0});return Ev(l,b)},[4,$s(t)];case 1:return[2,u.apply(void 0,[a.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}function cI(t,e,n){var i=this;n===void 0&&(n={});var o=new kn;return t.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return u=function(l,f,d,g,m){var v=new Kf({next:function(I){f.enqueueAndForget(function(){return Iv(l,b)}),I.fromCache&&g.source==="server"?m.reject(new Y(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:function(I){return m.reject(I)}}),b=new Tv(d,v,{includeMetadataChanges:!0,so:!0});return Ev(l,b)},[4,$s(t)];case 1:return[2,u.apply(void 0,[a.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}var mF=function(t,e,n,i,o,u,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=a,this.useFetchStreams=l},sf=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),lI=new Map,O1=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},fI=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n($e.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),vF=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var i=this;this.changeListener=n,e.enqueueRetryable(function(){return n(i.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),yF=function(){function t(e){var n=this;this.currentUser=$e.UNAUTHENTICATED,this.oc=new kn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){nt("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=e.getImmediate({optional:!0});o?i(o):(nt("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return e.cc!==n?(nt("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):o?(Et(typeof o.accessToken=="string"),new O1(o.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var i=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new $e(e)},t}(),wF=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i,this.type="FirstParty",this.user=$e.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),bF=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i}return t.prototype.getToken=function(){return Promise.resolve(new wF(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n($e.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t,e,n){if(!n)throw new Y(P.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Dv(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Y(P.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function R1(t,e,n,i){if(e===!0&&i===!0)throw new Y(P.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function hI(t){if(!pt.isDocumentKey(t))throw new Y(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function dI(t){if(pt.isDocumentKey(t))throw new Y(P.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":dt()}function Qt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zf(t);throw new Y(P.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function pI(t,e){if(e<=0)throw new Y(P.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gI=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,R1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),xa=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gI({}),this._settingsFrozen=!1,e instanceof sf?(this._databaseId=e,this._credentials=new fI):(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Y(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sf(i.options.projectId)}(e),this._credentials=new yF(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Y(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Y(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gI(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new fI;switch(n.type){case"gapi":var i=n.client;return Et(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new bF(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Y(P.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=lI.get(e))&&(nt("ComponentProvider","Removing Datastore"),lI.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),pe=function(){function t(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Si(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Un=function(){function t(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Si=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,Ha(o))||this)._path=o,u.type="collection",u}return vt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new pe(this.firestore,null,new pt(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(Un);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=xe(t),Rv("collection","path",e),t instanceof xa)return dI(n=Gt.fromString.apply(Gt,we([e],i))),new Si(t,null,n);if(!(t instanceof pe||t instanceof Si))throw new Y(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return dI(n=Gt.fromString.apply(Gt,we([t.path],i)).child(Gt.fromString(e))),new Si(t.firestore,null,n)}function xl(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=xe(t),arguments.length===1&&(e=dS.u()),Rv("doc","path",e),t instanceof xa)return hI(n=Gt.fromString.apply(Gt,we([e],i))),new pe(t,null,new pt(n));if(!(t instanceof pe||t instanceof Si))throw new Y(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return hI(n=t._path.child(Gt.fromString.apply(Gt,we([e],i)))),new pe(t.firestore,t instanceof Si?t.converter:null,new pt(n))}function P1(t,e){return t=xe(t),e=xe(e),(t instanceof pe||t instanceof Si)&&(e instanceof pe||e instanceof Si)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function L1(t,e){return t=xe(t),e=xe(e),t instanceof Un&&e instanceof Un&&t.firestore===e.firestore&&za(t._query,e._query)&&t.converter===e.converter}var EF=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new vv(this,"async_queue_retry"),this.Ic=function(){var i=Cl();i&&nt("AsyncQueue","Visibility state changed to "+i.visibilityState),e.Zi.Gi()};var n=Cl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=Cl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new kn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return H(this,void 0,void 0,function(){var e,n=this;return $(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ro(e=i.sent()))throw e;return nt("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,i=this.dc.then(function(){return n.gc=!0,e().catch(function(o){throw n.yc=o,n.gc=!1,ke("INTERNAL UNHANDLED ERROR: ",function(u){var a=u.message||"";return u.stack&&(a=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},t.prototype.enqueueAfterDelay=function(e,n,i){var o=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var u=BM.createAndSchedule(this,e,n,i,function(a){return o.vc(a)});return this.mc.push(u),u},t.prototype.Ac=function(){this.yc&&dt()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return H(this,void 0,void 0,function(){var e;return $(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),e!=="all"&&u.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function Ks(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var i=e,o=0,u=["next","error","complete"];o<u.length;o++){var a=u[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(t)}var IF=-1,De=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).type="firestore",o._queue=new EF,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return vt(e,t),e.prototype._terminate=function(){return this._firestoreClient||M1(this),this._firestoreClient.terminate()},e}(xa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t._firestoreClient||M1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function M1(t){var e,n=t._freezeSettings(),i=function(o,u,a,l){return new mF(o,u,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new gF(t._credentials,t._queue,i)}function mI(t,e,n){var i=this,o=new kn;return t.asyncQueue.enqueue(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,N1(t,n)];case 1:return a.sent(),[4,k1(t,e)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===P.FAILED_PRECONDITION||l.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(u=a.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function vI(t){if(t._initialized||t._terminated)throw new Y(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=0;i<e.length;++i)if(e[i].length===0)throw new Y(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Ao=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Nn.fromBase64String(e))}catch(n){throw new Y(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Nn.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),Po=function(t){this._methodName=t},Gf=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)},t}(),_F=/^__.*__$/,TF=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new Oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qa(e,this.data,n,this.fieldTransforms)},t}(),F1=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return new Oi(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}var j1=function(){function t(e,n,i,o,u,a){this.settings=e,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.$c(e),o},t.prototype.Oc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.Cc(),o},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return uf(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(V1(this.Nc)&&_F.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),SF=function(){function t(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=i||qf(e)}return t.prototype.Uc=function(e,n,i,o){return o===void 0&&(o=!1),new j1({Nc:e,methodName:n,qc:i,path:fr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Lo(t){var e=t._freezeSettings(),n=qf(t._databaseId);return new SF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Wf(t,e,n,i,o,u){u===void 0&&(u={});var a=t.Uc(u.merge||u.mergeFields?2:0,e,n,o);Fv("Data must be an object, but it was:",a,i);var l,f,d=q1(i,a);if(u.merge)l=new xs(a.fieldMask),f=a.fieldTransforms;else if(u.mergeFields){for(var g=[],m=0,v=u.mergeFields;m<v.length;m++){var b=zg(e,v[m],n);if(!a.contains(b))throw new Y(P.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");K1(g,b)||g.push(b)}l=new xs(g),f=a.fieldTransforms.filter(function(I){return l.covers(I.field)})}else l=null,f=a.fieldTransforms;return new TF(new Fn(d),l,f)}var Pv=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return vt(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Po);function U1(t,e,n){return new j1({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var AF=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return vt(e,t),e.prototype._toFieldTransform=function(n){return new Wa(n.path,new Ps)},e.prototype.isEqual=function(n){return n instanceof e},e}(Po),NF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return vt(e,t),e.prototype._toFieldTransform=function(n){var i=U1(this,n,!0),o=this.Kc.map(function(a){return Mo(a,i)}),u=new To(o);return new Wa(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(Po),kF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return vt(e,t),e.prototype._toFieldTransform=function(n){var i=U1(this,n,!0),o=this.Kc.map(function(a){return Mo(a,i)}),u=new So(o);return new Wa(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(Po),CF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Qc=i,o}return vt(e,t),e.prototype._toFieldTransform=function(n){var i=new Ls(n.R,NS(n.R,this.Qc));return new Wa(n.path,i)},e.prototype.isEqual=function(n){return this===n},e}(Po);function Lv(t,e,n,i){var o=t.Uc(1,e,n);Fv("Data must be an object, but it was:",o,i);var u=[],a=Fn.empty();xo(i,function(f,d){var g=Vv(e,f,n);d=xe(d);var m=o.Oc(g);if(d instanceof Pv)u.push(g);else{var v=Mo(d,m);v!=null&&(u.push(g),a.set(g,v))}});var l=new xs(u);return new F1(a,l,o.fieldTransforms)}function Mv(t,e,n,i,o,u){var a=t.Uc(1,e,n),l=[zg(e,i,n)],f=[o];if(u.length%2!=0)throw new Y(P.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<u.length;d+=2)l.push(zg(e,u[d])),f.push(u[d+1]);for(var g=[],m=Fn.empty(),v=l.length-1;v>=0;--v)if(!K1(g,l[v])){var b=l[v],I=f[v];I=xe(I);var T=a.Oc(b);if(I instanceof Pv)g.push(b);else{var O=Mo(I,T);O!=null&&(g.push(b),m.set(b,O))}}var C=new xs(g);return new F1(m,C,a.fieldTransforms)}function B1(t,e,n,i){return i===void 0&&(i=!1),Mo(n,t.Uc(i?4:3,e))}function Mo(t,e){if($1(t=xe(t)))return Fv("Unsupported field value:",e,t),q1(t,e);if(t instanceof Po)return function(n,i){if(!V1(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,a=0,l=n;a<l.length;a++){var f=Mo(l[a],i.Mc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=xe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return NS(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=An.fromDate(n);return{timestampValue:Aa(i.R,o)}}if(n instanceof An)return o=new An(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Aa(i.R,o)};if(n instanceof Gf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ao)return{bytesValue:FS(i.R,n._byteString)};if(n instanceof pe){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:lv(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+zf(n))}(t,e)}function q1(t,e){var n={};return gS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(t,function(i,o){var u=Mo(o,e.kc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function $1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof An||t instanceof Gf||t instanceof Ao||t instanceof pe||t instanceof Po)}function Fv(t,e,n){if(!$1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=zf(n);throw i==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+i)}}function zg(t,e,n){if((e=xe(e))instanceof Cr)return e._internalPath;if(typeof e=="string")return Vv(t,e);throw uf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var xF=new RegExp("[~\\*/\\[\\]]");function Vv(t,e,n){if(e.search(xF)>=0)throw uf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(Cr.bind.apply(Cr,we([void 0],e.split("."))))()._internalPath}catch{throw uf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function uf(t,e,n,i,o){var u=i&&!i.isEmpty(),a=o!==void 0,l="Function "+e+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||a)&&(f+=" (found",u&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new Y(P.INVALID_ARGUMENT,(l+=". ")+t+f)}function K1(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oa=function(){function t(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new pe(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new OF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(af("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),OF=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return vt(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Oa);function af(t,e){return typeof e=="string"?Vv(t,e):e instanceof Cr?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lo=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Kr=function(t){function e(n,i,o,u,a,l){var f=this;return(f=t.call(this,n,i,o,u,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return vt(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new ia(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(af("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},e}(Oa),ia=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return vt(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Kr),vi=function(){function t(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new lo(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var i=this;this._snapshot.docs.forEach(function(o){e.call(n,new ia(i._firestore,i._userDataWriter,o.key,o,new lo(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new ia(i._firestore,i._userDataWriter,l.doc.key,l.doc,new lo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new ia(i._firestore,i._userDataWriter,l.doc.key,l.doc,new lo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,g=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(g=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:RF(l.type),doc:f,oldIndex:d,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function RF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function H1(t,e){return t instanceof Kr&&e instanceof Kr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof vi&&e instanceof vi&&t._firestore===e._firestore&&L1(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t){if(Xl(t)&&t.explicitOrderBy.length===0)throw new Y(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ja=function(){};function ai(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,o=e;i<o.length;i++){var u=o[i];t=u._apply(t)}return t}var DF=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).jc=n,u.Wc=i,u.Gc=o,u.type="where",u}return vt(e,t),e.prototype._apply=function(n){var i=Lo(n.firestore),o=function(u,a,l,f,d,g,m){var v;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Y(P.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){II(m,g);for(var b=[],I=0,T=m;I<T.length;I++){var O=T[I];b.push(EI(f,u,O))}v={arrayValue:{values:b}}}else v=EI(f,u,m)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||II(m,g),v=B1(l,"where",m,g==="in"||g==="not-in");var C=jn.create(d,g,v);return function(V,x){if(x.g()){var M=ov(V);if(M!==null&&!M.isEqual(x.field))throw new Y(P.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+M.toString()+"' and '"+x.field.toString()+"'");var W=iv(V);W!==null&&W1(V,x.field,W)}var R=function(X,B){for(var bt=0,A=X.filters;bt<A.length;bt++){var Lt=A[bt];if(B.indexOf(Lt.op)>=0)return Lt.op}return null}(V,function(X){switch(X){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(x.op));if(R!==null)throw R===x.op?new Y(P.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+x.op.toString()+"' filter."):new Y(P.INVALID_ARGUMENT,"Invalid query. You cannot use '"+x.op.toString()+"' filters with '"+R.toString()+"' filters.")}(u,C),C}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Un(n.firestore,n.converter,function(u,a){var l=u.filters.concat([a]);return new Qr(u.path,u.collectionGroup,u.explicitOrderBy.slice(),l,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},e}(Ja),PF=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return vt(e,t),e.prototype._apply=function(n){var i=function(o,u,a){if(o.startAt!==null)throw new Y(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Y(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Is(u,a);return function(f,d){if(iv(f)===null){var g=ov(f);g!==null&&W1(f,g,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Un(n.firestore,n.converter,function(o,u){var a=o.explicitOrderBy.concat([u]);return new Qr(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(Ja),yI=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Hc=i,u.Jc=o,u}return vt(e,t),e.prototype._apply=function(n){return new Un(n.firestore,n.converter,IS(n._query,this.Hc,this.Jc))},e}(Ja),wI=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return vt(e,t),e.prototype._apply=function(n){var i=G1(n,this.type,this.Yc,this.Xc);return new Un(n.firestore,n.converter,function(o,u){return new Qr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},e}(Ja),bI=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return vt(e,t),e.prototype._apply=function(n){var i=G1(n,this.type,this.Yc,this.Xc);return new Un(n.firestore,n.converter,function(o,u){return new Qr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},e}(Ja);function G1(t,e,n,i){if(n[0]=xe(n[0]),n[0]instanceof Oa)return function(u,a,l,f,d){if(!f)throw new Y(P.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var g=[],m=0,v=Ds(u);m<v.length;m++){var b=v[m];if(b.field.isKeyField())g.push(Wl(a,f.key));else{var I=f.data.field(b.field);if(ev(I))throw new Y(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(I===null){var T=b.field.canonicalString();throw new Y(P.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}g.push(I)}}return new Sa(g,d)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var o=Lo(t.firestore);return function(u,a,l,f,d,g){var m=u.explicitOrderBy;if(d.length>m.length)throw new Y(P.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var v=[],b=0;b<d.length;b++){var I=d[b];if(m[b].field.isKeyField()){if(typeof I!="string")throw new Y(P.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof I);if(!sv(u)&&I.indexOf("/")!==-1)throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+I+"' contains a slash.");var T=u.path.child(Gt.fromString(I));if(!pt.isDocumentKey(T))throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var O=new pt(T);v.push(Wl(a,O))}else{var C=B1(l,f,I);v.push(C)}}return new Sa(v,g)}(t._query,t.firestore._databaseId,o,e,n,i)}function EI(t,e,n){if(typeof(n=xe(n))=="string"){if(n==="")throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!sv(e)&&n.indexOf("/")!==-1)throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(Gt.fromString(n));if(!pt.isDocumentKey(i))throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Wl(t,new pt(i))}if(n instanceof pe)return Wl(t,n._key);throw new Y(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zf(n)+".")}function II(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(P.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Y(P.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function W1(t,e,n){if(!n.isEqual(e))throw new Y(P.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jv=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw dt()}},t.prototype.convertObject=function(e,n){var i=this,o={};return xo(e.fields,function(u,a){o[u]=i.convertValue(a,n)}),o},t.prototype.convertGeoPoint=function(e){return new Gf(Ne(e.latitude),Ne(e.longitude))},t.prototype.convertArray=function(e,n){var i=this;return(e.values||[]).map(function(o){return i.convertValue(o,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var i=vS(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(_a(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=Ni(e);return new An(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var i=Gt.fromString(e);Et(HS(i));var o=new sf(i.get(1),i.get(3)),u=new pt(i.popFirst(5));return o.isEqual(n)||ke("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var LF=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return vt(e,t),e.prototype.convertBytes=function(n){return new Ao(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new pe(this.firestore,null,i)},e}(jv),MF=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Lo(e)}return t.prototype.set=function(e,n,i){this._verifyNotCommitted();var o=yi(e,this._firestore),u=Qf(o.converter,n,i),a=Wf(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,en.none())),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var a,l=yi(e,this._firestore);return a=typeof(n=xe(n))=="string"||n instanceof Cr?Mv(this._dataReader,"WriteBatch.update",l._key,n,i,o):Lv(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,en.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=yi(e,this._firestore);return this._mutations=this._mutations.concat(new Ya(n._key,en.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Y(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,e){if((t=xe(t)).firestore!==e)throw new Y(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mo=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return vt(e,t),e.prototype.convertBytes=function(n){return new Ao(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new pe(this.firestore,null,i)},e}(jv);function _I(t,e,n){t=Qt(t,pe);var i=Qt(t.firestore,De),o=Qf(t.converter,e,n);return Za(i,[Wf(Lo(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,en.none())])}function TI(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];t=Qt(t,pe);var u=Qt(t.firestore,De),a=Lo(u);return Za(u,[(typeof(e=xe(e))=="string"||e instanceof Cr?Mv(a,"updateDoc",t._key,e,n,i):Lv(a,"updateDoc",t._key,e)).toMutation(t._key,en.exists(!0))])}function Q1(t){for(var e,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];t=xe(t);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||Ks(o[l])||(a=o[l],l++);var f,d,g,m={includeMetadataChanges:a.includeMetadataChanges};if(Ks(o[l])){var v=o[l];o[l]=(e=v.next)===null||e===void 0?void 0:e.bind(v),o[l+1]=(n=v.error)===null||n===void 0?void 0:n.bind(v),o[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}if(t instanceof pe)d=Qt(t.firestore,De),g=Ha(t._key.path),f={next:function(T){o[l]&&o[l](Gg(d,t,T))},error:o[l+1],complete:o[l+2]};else{var b=Qt(t,Un);d=Qt(b.firestore,De),g=b._query;var I=new mo(d);f={next:function(T){o[l]&&o[l](new vi(d,I,b,T))},error:o[l+1],complete:o[l+2]},z1(t._query)}return function(T,O,C,V){var x=this,M=new Kf(V),W=new Tv(O,M,C);return T.asyncQueue.enqueueAndForget(function(){return H(x,void 0,void 0,function(){var R;return $(this,function(X){switch(X.label){case 0:return R=Ev,[4,$s(T)];case 1:return[2,R.apply(void 0,[X.sent(),W])]}})})}),function(){M.Wo(),T.asyncQueue.enqueueAndForget(function(){return H(x,void 0,void 0,function(){var R;return $(this,function(X){switch(X.label){case 0:return R=Iv,[4,$s(T)];case 1:return[2,R.apply(void 0,[X.sent(),W])]}})})})}}(Ze(d),g,m,f)}function Za(t,e){return function(n,i){var o=this,u=new kn;return n.asyncQueue.enqueueAndForget(function(){return H(o,void 0,void 0,function(){var a;return $(this,function(l){switch(l.label){case 0:return a=XM,[4,x1(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,u])]}})})}),u.promise}(Ze(t),e)}function Gg(t,e,n){var i=n.docs.get(e._key),o=new mo(t);return new Kr(t,o,e._key,i,new lo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FF=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this)._firestore=n,o}return vt(e,t),e.prototype.get=function(n){var i=this,o=yi(n,this._firestore),u=new mo(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new Kr(i._firestore,u,o._key,a._document,new lo(!1,!1),o.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=Lo(e)}return t.prototype.get=function(e){var n=this,i=yi(e,this._firestore),o=new LF(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return dt();var a=u[0];if(a.isFoundDocument())return new Oa(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new Oa(n._firestore,o,i._key,null,i.converter);throw dt()})},t.prototype.set=function(e,n,i){var o=yi(e,this._firestore),u=Qf(o.converter,n,i),a=Wf(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,a),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var a,l=yi(e,this._firestore);return a=typeof(n=xe(n))=="string"||n instanceof Cr?Mv(this._dataReader,"Transaction.update",l._key,n,i,o):Lv(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},t.prototype.delete=function(e){var n=yi(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(){if(typeof Uint8Array>"u")throw new Y(P.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function AI(){if(typeof atob>"u")throw new Y(P.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Y1=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return AI(),new t(Ao.fromBase64String(e))},t.fromUint8Array=function(e){return SI(),new t(Ao.fromUint8Array(e))},t.prototype.toBase64=function(){return AI(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return SI(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),VF=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(i,o){vI(i=Qt(i,De));var u=Ze(i),a=i._freezeSettings(),l=new Hg;return mI(u,l,new A1(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){vI(n=Qt(n,De));var i=Ze(n),o=n._freezeSettings(),u=new Hg;return mI(i,u,new hF(u,o.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new Y(P.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new kn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return H(this,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return Vs.yt()?(f=l+"main",[4,Vs.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(gv(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return u=a.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(e._delegate)},t}(),X1=function(){function t(e,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},e instanceof sf||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||zl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,i){i===void 0&&(i={}),function(o,u,a,l){var f;l===void 0&&(l={});var d=(o=Qt(o,xa))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==u&&zl("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:u+":"+a,ssl:!1})),l.mockUserToken){var g,m;if(typeof l.mockUserToken=="string")g=l.mockUserToken,m=$e.MOCK_USER;else{g=sD(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var v=l.mockUserToken.sub||l.mockUserToken.user_id;if(!v)throw new Y(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new $e(v)}o._credentials=new vF(new O1(g,m))}}(this._delegate,e,n,i)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return[4,sI(e)];case 1:return i=u.sent(),[4,uI(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=ut(a);return l.Or.delete(0),Xa(l)}(o))]}})})})}(Ze(Qt(this._delegate,De)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return[4,sI(e)];case 1:return i=u.sent(),[4,uI(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(a){return H(this,void 0,void 0,function(){var l;return $(this,function(f){switch(f.label){case 0:return(l=ut(a)).Or.add(0),[4,nu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(Ze(Qt(this._delegate,De)))},t.prototype.enablePersistence=function(e){var n=!1,i=!1;return e&&R1("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",i=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,i=new kn;return e.asyncQueue.enqueueAndForget(function(){return H(n,void 0,void 0,function(){var o;return $(this,function(u){switch(u.label){case 0:return o=eF,[4,x1(e)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(Ze(Qt(this._delegate,De)))},t.prototype.onSnapshotsInSync=function(e){return function(n,i){return function(o,u){var a=this,l=new Kf(u);return o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(g,m){ut(g).Gr.add(m),m.next()},[4,$s(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(g,m){ut(g).Gr.delete(m)},[4,$s(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(Ze(n=Qt(n,De)),Ks(i)?i:{next:i})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Y(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new cf(this,D1(this._delegate,e))}catch(n){throw fn(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new vo(this,xl(this._delegate,e))}catch(n){throw fn(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new Jf(this,function(n,i){if(n=Qt(n,xa),Rv("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Y(P.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Un(n,null,function(o){return new Qr(Gt.emptyPath(),o)}(i))}(this._delegate,e))}catch(n){throw fn(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(i,o){return function(u,a){var l=this,f=new kn;return u.asyncQueue.enqueueAndForget(function(){return H(l,void 0,void 0,function(){var d;return $(this,function(g){switch(g.label){case 0:return[4,function(m){return Hf(m).then(function(v){return v.datastore})}(u)];case 1:return d=g.sent(),new pF(u.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(Ze(i),function(u){return o(new FF(i,u))})}(this._delegate,function(i){return e(new J1(n,i))})},t.prototype.batch=function(){var e=this;return Ze(this._delegate),new Z1(new MF(this._delegate,function(n){return Za(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new Y(P.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new Y(P.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Yf=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return vt(e,t),e.prototype.convertBytes=function(n){return new Y1(new Ao(n))},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return vo.eu(i,this.firestore,null)},e}(jv);function jF(t){var e;e=t,ar.setLogLevel(e)}var J1=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Yf(e)}return t.prototype.get=function(e){var n=this,i=fo(e);return this._delegate.get(i).then(function(o){return new Ra(n._firestore,new Kr(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},t.prototype.set=function(e,n,i){var o=fo(e);return i?(Dv("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=fo(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,we([l,n,i],u)),this},t.prototype.delete=function(e){var n=fo(e);return this._delegate.delete(n),this},t}(),Z1=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,i){var o=fo(e);return i?(Dv("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=fo(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,we([l,n,i],u)),this},t.prototype.delete=function(e){var n=fo(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Xf=function(){function t(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}return t.prototype.fromFirestore=function(e,n){var i=new ia(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Da(this._firestore,i),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var i=t.su,o=i.get(e);o||(o=new WeakMap,i.set(e,o));var u=o.get(n);return u||(u=new t(e,new Yf(e),n),o.set(n,u)),u},t}();Xf.su=new WeakMap;var vo=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Yf(e)}return t.iu=function(e,n,i){if(e.length%2!=0)throw new Y(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new pe(n._delegate,i,new pt(e)))},t.eu=function(e,n,i){return new t(n,new pe(n._delegate,i,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new cf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new cf(this.firestore,D1(this._delegate,e))}catch(n){throw fn(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=xe(e))instanceof pe&&P1(this._delegate,e)},t.prototype.set=function(e,n){n=Dv("DocumentReference.set",n);try{return n?_I(this._delegate,e,n):_I(this._delegate,e)}catch(i){throw fn(i,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?TI(this._delegate,e):TI.apply(void 0,we([this._delegate,e,n],i))}catch(u){throw fn(u,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Za(Qt((e=this._delegate).firestore,De),[new Ya(e._key,en.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=tA(n),u=eA(n,function(a){return new Ra(e.firestore,new Kr(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return Q1(this._delegate,o,u)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=Qt(i,pe);var o=Qt(i.firestore,De),u=Ze(o),a=new mo(o);return function(l,f){var d=this,g=new kn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var m;return $(this,function(v){switch(v.label){case 0:return m=function(b,I,T){return H(this,void 0,void 0,function(){var O,C;return $(this,function(V){switch(V.label){case 0:return V.trys.push([0,2,,3]),[4,function(x,M){var W=ut(x);return W.persistence.runTransaction("read document","readonly",function(R){return W.Mn.mn(R,M)})}(b,I)];case 1:return(C=V.sent()).isFoundDocument()?T.resolve(C):C.isNoDocument()?T.resolve(null):T.reject(new Y(P.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return O=V.sent(),C=ou(O,"Failed to get document '"+I+" from cache"),T.reject(C),[3,3];case 3:return[2]}})})},[4,C1(l)];case 1:return[2,m.apply(void 0,[v.sent(),f,g])]}})})}),g.promise}(u,i._key).then(function(l){return new Kr(o,a,i._key,l,new lo(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=Qt(i,pe);var o=Qt(i.firestore,De);return aI(Ze(o),i._key,{source:"server"}).then(function(u){return Gg(o,i,u)})}(this._delegate):function(i){i=Qt(i,pe);var o=Qt(i.firestore,De);return aI(Ze(o),i._key).then(function(u){return Gg(o,i,u)})}(this._delegate)).then(function(i){return new Ra(n.firestore,new Kr(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Xf.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function fn(t,e,n){return t.message=t.message.replace(e,n),t}function tA(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if(typeof i=="object"&&!Ks(i))return i}return{}}function eA(t,e){var n,i,o;return{next:function(u){o.next&&o.next(e(u))},error:(n=(o=Ks(t[0])?t[0]:Ks(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var Ra=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new vo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return H1(this._delegate,e._delegate)},t}(),Da=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return vt(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(Ra),Jf=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Yf(e)}return t.prototype.where=function(e,n,i){try{return new t(this.firestore,ai(this._delegate,function(o,u,a){var l=u,f=af("where",o);return new DF(f,l,a)}(e,n,i)))}catch(o){throw fn(o,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,ai(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,a=af("orderBy",i);return new PF(a,u)}(e,n)))}catch(i){throw fn(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,ai(this._delegate,function(n){return pI("limit",n),new yI("limit",n,"F")}(e)))}catch(n){throw fn(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,ai(this._delegate,function(n){return pI("limitToLast",n),new yI("limitToLast",n,"L")}(e)))}catch(n){throw fn(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ai(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new wI("startAt",i,!0)}.apply(void 0,e)))}catch(i){throw fn(i,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ai(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new wI("startAfter",i,!1)}.apply(void 0,e)))}catch(i){throw fn(i,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ai(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new bI("endBefore",i,!0)}.apply(void 0,e)))}catch(i){throw fn(i,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ai(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new bI("endAt",i,!1)}.apply(void 0,e)))}catch(i){throw fn(i,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return L1(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=Qt(i,Un);var o=Qt(i.firestore,De),u=Ze(o),a=new mo(o);return function(l,f){var d=this,g=new kn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var m;return $(this,function(v){switch(v.label){case 0:return m=function(b,I,T){return H(this,void 0,void 0,function(){var O,C,V,x,M;return $(this,function(W){switch(W.label){case 0:return W.trys.push([0,2,,3]),[4,nf(b,I,!0)];case 1:return M=W.sent(),O=new E1(I,M.Bn),C=O._o(M.documents),V=O.applyChanges(C,!1),T.resolve(V.snapshot),[3,3];case 2:return x=W.sent(),M=ou(x,"Failed to execute query '"+I+" against cache"),T.reject(M),[3,3];case 3:return[2]}})})},[4,C1(l)];case 1:return[2,m.apply(void 0,[v.sent(),f,g])]}})})}),g.promise}(u,i._query).then(function(l){return new vi(o,a,i,l)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=Qt(i,Un);var o=Qt(i.firestore,De),u=Ze(o),a=new mo(o);return cI(u,i._query,{source:"server"}).then(function(l){return new vi(o,a,i,l)})}(this._delegate):function(i){i=Qt(i,Un);var o=Qt(i.firestore,De),u=Ze(o),a=new mo(o);return z1(i._query),cI(u,i._query).then(function(l){return new vi(o,a,i,l)})}(this._delegate)).then(function(i){return new Wg(n.firestore,new vi(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=tA(n),u=eA(n,function(a){return new Wg(e.firestore,new vi(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return Q1(this._delegate,o,u)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Xf.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),UF=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Da(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Wg=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new Jf(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new Da(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(i){return new UF(n._firestore,i)})},t.prototype.forEach=function(e,n){var i=this;this._delegate.forEach(function(o){e.call(n,new Da(i._firestore,o))})},t.prototype.isEqual=function(e){return H1(this._delegate,e._delegate)},t}(),cf=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).firestore=n,o._delegate=i,o}return vt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new vo(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new vo(this.firestore,n===void 0?xl(this._delegate):xl(this._delegate,n))}catch(i){throw fn(i,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var i=this;return function(o,u){var a=Qt(o.firestore,De),l=xl(o),f=Qf(o.converter,u);return Za(a,[Wf(Lo(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,en.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new vo(i.firestore,o)})},e.prototype.isEqual=function(n){return P1(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(Xf.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(Jf);function fo(t){return Qt(t,pe)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BF=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(Cr.bind.apply(Cr,we([void 0],e)))}return t.documentId=function(){return new t(fr.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=xe(e))instanceof Cr&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),qF=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new AF("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Pv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new NF("arrayUnion",o)}.apply(void 0,e);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new kF("arrayRemove",o)}.apply(void 0,e);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(e){var n=function(i){return new CF("increment",i)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(),$F={Firestore:X1,GeoPoint:Gf,Timestamp:An,Blob:Y1,Transaction:J1,WriteBatch:Z1,DocumentReference:vo,DocumentSnapshot:Ra,Query:Jf,QueryDocumentSnapshot:Da,QuerySnapshot:Wg,CollectionReference:cf,FieldPath:BF,FieldValue:qF,setLogLevel:jF,CACHE_SIZE_UNLIMITED:IF};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(t){(function(e,n){e.INTERNAL.registerComponent(new _f("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},$F)))})(t,function(e,n){return new X1(e,new De(e,n),new VF)}),t.registerVersion("@firebase/firestore","2.4.1")}KF(It);const HF={apiKey:"AIzaSyCmrDsXaXqtJ-_bBhE6mijvEJRXGrQV1-8",authDomain:"music-123a9.firebaseapp.com",projectId:"music-123a9",storageBucket:"music-123a9.appspot.com",messagingSenderId:"353431526100",appId:"1:353431526100:web:2a3e6ba688ef0af5a97941"};It.initializeApp(HF);const oa=It.auth(),zF=It.firestore(),GF=zF.collection("users"),Zf=nT("user",{state:()=>({userLoggedIn:!1}),actions:{async register(t){const e=await oa.createUserWithEmailAndPassword(t.email,t.password);await GF.doc(e.user.uid).set({name:t.name,email:t.email,age:t.age,country:t.country}),await e.user.updateProfile({displayName:t.name}),this.userLoggedIn=!0},async authenticate(t){await oa.signInWithEmailAndPassword(t.email,t.password),this.userLoggedIn=!0},async signOut(){await oa.signOut(),this.userLoggedIn=!1}}}),su=(t,e)=>{const n=t.__vccOpts||t;for(const[i,o]of e)n[i]=o;return n},WF={name:"TheHeader",computed:{...JR(wg,Zf)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen,console.log(this.modalStore.isOpen)}}},QF={id:"header",class:"bg-gray-700"},YF={class:"container mx-auto flex justify-start items-center py-5 px-4"},XF=yt("a",{class:"text-white font-bold uppercase text-2xl mr-4",href:"#"},"Music",-1),JF={class:"flex flex-grow items-center"},ZF={class:"flex flex-row mt-1"},tV={key:0},eV=yt("li",null,[yt("a",{class:"px-2 text-white",href:"#"},"Manage")],-1);function nV(t,e,n,i,o,u){return _n(),or("header",QF,[yt("nav",YF,[XF,yt("div",JF,[yt("ul",ZF,[t.userStore.userLoggedIn?(_n(),or(In,{key:1},[eV,yt("li",null,[yt("a",{class:"px-2 text-white hover:text-red-500 hover:font-bold",href:"#",onClick:e[1]||(e[1]=Ll((...a)=>t.userStore.signOut&&t.userStore.signOut(...a),["prevent"]))},"Logout")])],64)):(_n(),or("li",tV,[yt("a",{class:"px-2 text-white",href:"#",onClick:e[0]||(e[0]=Ll((...a)=>u.toggleAuthModal&&u.toggleAuthModal(...a),["prevent"]))},"Login / Register")]))])])])])}const rV=su(WF,[["render",nV]]),iV={name:"loginForm",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:100"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! You are being logged in."}},methods:{...rT(Zf,["authenticate"]),async login(t){this.login_in_submission=!0,this.login_show_alert=!0,this.login_show_alert="bg-blue-500",this.login_alert_msg="Please wait! You are being logged in.";try{await this.authenticate(t)}catch{this.login_in_submission=!1,this.login_show_alert="bg-red-500",this.login_alert_msg="invalid Login Details";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="You are now logged in.",window.location.reload()}}},oV={class:"mb-3"},sV=yt("label",{class:"inline-block mb-2"},"Email",-1),uV={class:"mb-3"},aV=yt("label",{class:"inline-block mb-2"},"Password",-1),cV=["disabled"];function lV(t,e,n,i,o,u){const a=kr("vee-field"),l=kr("ErrorMessage"),f=kr("vee-form");return _n(),or(In,null,[o.login_show_alert?(_n(),or("div",{key:0,class:bi(["text-white text-center font-bold p-4 mb-4",o.login_alert_variant])},rg(o.login_alert_msg),3)):W_("",!0),Ft(f,{"validation-schema":o.loginSchema,onSubmit:u.login},{default:Yu(()=>[yt("div",oV,[sV,Ft(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ft(l,{class:"text-red-600",name:"email"})]),yt("div",uV,[aV,Ft(a,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),Ft(l,{class:"text-red-600",name:"password"})]),yt("button",{type:"submit",disabled:o.login_in_submission,class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",8,cV)]),_:1},8,["validation-schema","onSubmit"])],64)}const fV=su(iV,[["render",lV]]),hV={name:"registerForm",data(){return{schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:120",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! You account is bring created."}},mounted(){console.log(this.userLoggedIn)},methods:{...rT(Zf,{createUser:"register"}),async register(t){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! You account is bring created.";try{await this.createUser(t)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occured. Please try again later.";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="You account has been created",window.location.reload()}}},dV={class:"mb-3"},pV=yt("label",{class:"inline-block mb-2"},"Name",-1),gV={class:"mb-3"},mV=yt("label",{class:"inline-block mb-2"},"Email",-1),vV={class:"mb-3"},yV=yt("label",{class:"inline-block mb-2"},"Age",-1),wV={class:"mb-3"},bV=yt("label",{class:"inline-block mb-2"},"Password",-1),EV={class:"mb-3"},IV=yt("label",{class:"inline-block mb-2"},"Confirm Password",-1),_V={class:"mb-3"},TV=yt("label",{class:"inline-block mb-2"},"Country",-1),SV=yt("option",{value:"USA"},"USA",-1),AV=yt("option",{value:"Mexico"},"Mexico",-1),NV=yt("option",{value:"Germany"},"Germany",-1),kV={class:"mb-3 pl-6"},CV=yt("label",{class:"inline-block"},"Accept terms of service",-1),xV=yt("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",-1);function OV(t,e,n,i,o,u){const a=kr("vee-field"),l=kr("ErrorMessage"),f=kr("vee-form");return _n(),or(In,null,[o.reg_show_alert?(_n(),or("div",{key:0,class:bi(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},rg(o.reg_alert_msg),3)):W_("",!0),Ft(f,{"validation-schema":o.schema,onSubmit:u.register,"initial-values":o.userData},{default:Yu(()=>[yt("div",dV,[pV,Ft(a,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Ft(l,{class:"text-red-600",name:"name"})]),yt("div",gV,[mV,Ft(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Ft(l,{class:"text-red-600",name:"email"})]),yt("div",vV,[yV,Ft(a,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Ft(l,{class:"text-red-600",name:"age"})]),yt("div",wV,[bV,Ft(a,{name:"password",bails:!1},{default:Yu(({field:d,errors:g})=>[yt("input",Q_({type:"password",placeholder:"Password"},d,{class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),null,16),(_n(!0),or(In,null,BO(g,m=>(_n(),or("div",{class:"text-red-600",key:m},rg(m),1))),128))]),_:1}),Ft(l,{class:"text-red-600",name:"password"})]),yt("div",EV,[IV,Ft(a,{name:"confirm_password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Ft(l,{class:"text-red-600",name:"confirm_password"})]),yt("div",_V,[TV,Ft(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Yu(()=>[SV,AV,NV]),_:1}),Ft(l,{class:"text-red-600",name:"country"})]),yt("div",kV,[Ft(a,{name:"tos",value:"1",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),Ft(l,{class:"text-red-600 block",name:"tos"}),CV]),xV]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const RV=su(hV,[["render",OV]]),DV={name:"TheAuth",components:{LoginForm:fV,RegisterForm:RV},data(){return{tab:"login"}},computed:{...ZR(wg,["hiddenClass"]),...iT(wg,{modalVisibility:"isOpen"})},methods:{}},PV={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},LV=yt("div",{class:"fixed inset-0 transition-opacity"},[yt("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),MV=yt("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1),FV={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},VV={class:"py-4 text-left px-6"},jV={class:"flex justify-between items-center pb-4"},UV=yt("p",{class:"text-2xl font-bold"},"Your Account",-1),BV=yt("i",{class:"fas fa-times"},null,-1),qV=[BV],$V={class:"flex flex-wrap mb-4"},KV={class:"flex-auto text-center"},HV={class:"flex-auto text-center"};function zV(t,e,n,i,o,u){const a=kr("login-form"),l=kr("register-form");return _n(),or("div",{class:bi(["fixed z-10 inset-0 overflow-y-auto",t.hiddenClass]),id:"modal"},[yt("div",PV,[LV,MV,yt("div",FV,[yt("div",VV,[yt("div",jV,[UV,yt("div",{class:"modal-close cursor-pointer z-50",onClick:e[0]||(e[0]=f=>t.modalVisibility=!1)},qV)]),yt("ul",$V,[yt("li",KV,[yt("a",{class:bi(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#",onClick:e[1]||(e[1]=Ll(f=>o.tab="login",["prevent"]))},"Login",2)]),yt("li",HV,[yt("a",{class:bi(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"}]),href:"#",onClick:e[2]||(e[2]=Ll(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(_n(),pg(a,{key:0})):(_n(),pg(l,{key:1}))])])])],2)}const GV=su(DV,[["render",zV]]),WV="/music-player/assets/img/introduction-music.png",QV={name:"App",components:{TheHeader:rV,TheAuth:GV},computed:{...iT(Zf,["userLoggedIn"])},created(){oa.currentUser&&(this.userLoggedIn=!0)}},YV=cR('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Listen to Great Music!</h1><p class="w-full md:w-8/12 mx-auto"> Checkout some cool music here! </p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+WV+'"></section><section class="container mx-auto"><div class="bg-white rounded border border-gray-200 relative flex flex-col"><div class="px-6 pt-6 pb-5 font-bold border-b border-gray-200"><span class="card-title">Songs</span><i class="fa fa-headphones-alt float-right text-green-400 text-xl"></i></div><ol id="playlist"><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li></ol></div></section><div class="fixed bottom-0 left-0 bg-white px-4 py-2 w-full"><div class="text-center"><span class="song-title font-bold">Song Title</span> by <span class="song-artist">Artist</span></div><div class="flex flex-nowrap gap-4 items-center"><button type="button"><i class="fa fa-play text-gray-500 text-xl"></i></button><div class="player-currenttime">00:00</div><div class="w-full h-2 rounded bg-gray-200 relative cursor-pointer"><span class="absolute -top-2.5 -ml-2.5 text-gray-800 text-lg" style="left:50%;"><i class="fas fa-circle"></i></span><span class="block h-2 rounded bg-gradient-to-r from-green-500 to-green-400" style="width:50%;"></span></div><div class="player-duration">03:06</div></div></div>',3);function XV(t,e,n,i,o,u){const a=kr("the-header"),l=kr("the-auth");return _n(),or(In,null,[Ft(a),YV,Ft(l)],64)}const JV=su(QV,[["render",XV]]),ZV="modulepreload",tj=function(t){return"/music-player/"+t},NI={},ej=function(e,n,i){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(u=>{if(u=tj(u),u in NI)return;NI[u]=!0;const a=u.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!i)for(let g=o.length-1;g>=0;g--){const m=o[g];if(m.href===u&&(!a||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${l}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":ZV,a||(d.as="script",d.crossOrigin=""),d.href=u,document.head.appendChild(d),a)return new Promise((g,m)=>{d.addEventListener("load",g),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>e())};/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ps=typeof window<"u";function nj(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Jt=Object.assign;function Jp(t,e){const n={};for(const i in e){const o=e[i];n[i]=hr(o)?o.map(t):t(o)}return n}const sa=()=>{},hr=Array.isArray,rj=/\/$/,ij=t=>t.replace(rj,"");function Zp(t,e,n="/"){let i,o={},u="",a="";const l=e.indexOf("#");let f=e.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=e.slice(0,f),u=e.slice(f+1,l>-1?l:e.length),o=t(u)),l>-1&&(i=i||e.slice(0,l),a=e.slice(l,e.length)),i=aj(i??e,n),{fullPath:i+(u&&"?")+u+a,path:i,query:o,hash:a}}function oj(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function kI(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function sj(t,e,n){const i=e.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&Hs(e.matched[i],n.matched[o])&&nA(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Hs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function nA(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!uj(t[n],e[n]))return!1;return!0}function uj(t,e){return hr(t)?CI(t,e):hr(e)?CI(e,t):t===e}function CI(t,e){return hr(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function aj(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/");let o=n.length-1,u,a;for(u=0;u<i.length;u++)if(a=i[u],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(u-(u===i.length?1:0)).join("/")}var Pa;(function(t){t.pop="pop",t.push="push"})(Pa||(Pa={}));var ua;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ua||(ua={}));function cj(t){if(!t)if(ps){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ij(t)}const lj=/^[^#]+#/;function fj(t,e){return t.replace(lj,"#")+e}function hj(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const th=()=>({left:window.pageXOffset,top:window.pageYOffset});function dj(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=hj(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function xI(t,e){return(history.state?history.state.position-e:-1)+t}const Qg=new Map;function pj(t,e){Qg.set(t,e)}function gj(t){const e=Qg.get(t);return Qg.delete(t),e}let mj=()=>location.protocol+"//"+location.host;function rA(t,e){const{pathname:n,search:i,hash:o}=e,u=t.indexOf("#");if(u>-1){let l=o.includes(t.slice(u))?t.slice(u).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),kI(f,"")}return kI(n,t)+i+o}function vj(t,e,n,i){let o=[],u=[],a=null;const l=({state:v})=>{const b=rA(t,location),I=n.value,T=e.value;let O=0;if(v){if(n.value=b,e.value=v,a&&a===I){a=null;return}O=T?v.position-T.position:0}else i(b);o.forEach(C=>{C(n.value,I,{delta:O,type:Pa.pop,direction:O?O>0?ua.forward:ua.back:ua.unknown})})};function f(){a=n.value}function d(v){o.push(v);const b=()=>{const I=o.indexOf(v);I>-1&&o.splice(I,1)};return u.push(b),b}function g(){const{history:v}=window;v.state&&v.replaceState(Jt({},v.state,{scroll:th()}),"")}function m(){for(const v of u)v();u=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",g),{pauseListeners:f,listen:d,destroy:m}}function OI(t,e,n,i=!1,o=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:o?th():null}}function yj(t){const{history:e,location:n}=window,i={value:rA(t,n)},o={value:e.state};o.value||u(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function u(f,d,g){const m=t.indexOf("#"),v=m>-1?(n.host&&document.querySelector("base")?t:t.slice(m))+f:mj()+t+f;try{e[g?"replaceState":"pushState"](d,"",v),o.value=d}catch(b){console.error(b),n[g?"replace":"assign"](v)}}function a(f,d){const g=Jt({},e.state,OI(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});u(f,g,!0),i.value=f}function l(f,d){const g=Jt({},o.value,e.state,{forward:f,scroll:th()});u(g.current,g,!0);const m=Jt({},OI(i.value,f,null),{position:g.position+1},d);u(f,m,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function wj(t){t=cj(t);const e=yj(t),n=vj(t,e.state,e.location,e.replace);function i(u,a=!0){a||n.pauseListeners(),history.go(u)}const o=Jt({location:"",base:t,go:i,createHref:fj.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function bj(t){return typeof t=="string"||t&&typeof t=="object"}function iA(t){return typeof t=="string"||typeof t=="symbol"}const ci={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},oA=Symbol("");var RI;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(RI||(RI={}));function zs(t,e){return Jt(new Error,{type:t,[oA]:!0},e)}function Vr(t,e){return t instanceof Error&&oA in t&&(e==null||!!(t.type&e))}const DI="[^/]+?",Ej={sensitive:!1,strict:!1,start:!0,end:!0},Ij=/[.+*?^${}()[\]/\\]/g;function _j(t,e){const n=Jt({},Ej,e),i=[];let o=n.start?"^":"";const u=[];for(const d of t){const g=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let m=0;m<d.length;m++){const v=d[m];let b=40+(n.sensitive?.25:0);if(v.type===0)m||(o+="/"),o+=v.value.replace(Ij,"\\$&"),b+=40;else if(v.type===1){const{value:I,repeatable:T,optional:O,regexp:C}=v;u.push({name:I,repeatable:T,optional:O});const V=C||DI;if(V!==DI){b+=10;try{new RegExp(`(${V})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${I}" (${V}): `+M.message)}}let x=T?`((?:${V})(?:/(?:${V}))*)`:`(${V})`;m||(x=O&&d.length<2?`(?:/${x})`:"/"+x),O&&(x+="?"),o+=x,b+=20,O&&(b+=-8),T&&(b+=-20),V===".*"&&(b+=-50)}g.push(b)}i.push(g)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const g=d.match(a),m={};if(!g)return null;for(let v=1;v<g.length;v++){const b=g[v]||"",I=u[v-1];m[I.name]=b&&I.repeatable?b.split("/"):b}return m}function f(d){let g="",m=!1;for(const v of t){(!m||!g.endsWith("/"))&&(g+="/"),m=!1;for(const b of v)if(b.type===0)g+=b.value;else if(b.type===1){const{value:I,repeatable:T,optional:O}=b,C=I in d?d[I]:"";if(hr(C)&&!T)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const V=hr(C)?C.join("/"):C;if(!V)if(O)v.length<2&&(g.endsWith("/")?g=g.slice(0,-1):m=!0);else throw new Error(`Missing required param "${I}"`);g+=V}}return g||"/"}return{re:a,score:i,keys:u,parse:l,stringify:f}}function Tj(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Sj(t,e){let n=0;const i=t.score,o=e.score;for(;n<i.length&&n<o.length;){const u=Tj(i[n],o[n]);if(u)return u;n++}if(Math.abs(o.length-i.length)===1){if(PI(i))return 1;if(PI(o))return-1}return o.length-i.length}function PI(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Aj={type:0,value:""},Nj=/[a-zA-Z0-9_]/;function kj(t){if(!t)return[[]];if(t==="/")return[[Aj]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let u;function a(){u&&o.push(u),u=[]}let l=0,f,d="",g="";function m(){d&&(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(f==="*"||f==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):e("Invalid state to consume buffer"),d="")}function v(){d+=f}for(;l<t.length;){if(f=t[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&m(),a()):f===":"?(m(),n=1):v();break;case 4:v(),n=i;break;case 1:f==="("?n=2:Nj.test(f)?v():(m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,g="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),m(),a(),o}function Cj(t,e,n){const i=_j(kj(t.path),n),o=Jt(i,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function xj(t,e){const n=[],i=new Map;e=FI({strict:!1,end:!0,sensitive:!1},e);function o(g){return i.get(g)}function u(g,m,v){const b=!v,I=Oj(g);I.aliasOf=v&&v.record;const T=FI(e,g),O=[I];if("alias"in g){const x=typeof g.alias=="string"?[g.alias]:g.alias;for(const M of x)O.push(Jt({},I,{components:v?v.record.components:I.components,path:M,aliasOf:v?v.record:I}))}let C,V;for(const x of O){const{path:M}=x;if(m&&M[0]!=="/"){const W=m.record.path,R=W[W.length-1]==="/"?"":"/";x.path=m.record.path+(M&&R+M)}if(C=Cj(x,m,T),v?v.alias.push(C):(V=V||C,V!==C&&V.alias.push(C),b&&g.name&&!MI(C)&&a(g.name)),I.children){const W=I.children;for(let R=0;R<W.length;R++)u(W[R],C,v&&v.children[R])}v=v||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&f(C)}return V?()=>{a(V)}:sa}function a(g){if(iA(g)){const m=i.get(g);m&&(i.delete(g),n.splice(n.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=n.indexOf(g);m>-1&&(n.splice(m,1),g.record.name&&i.delete(g.record.name),g.children.forEach(a),g.alias.forEach(a))}}function l(){return n}function f(g){let m=0;for(;m<n.length&&Sj(g,n[m])>=0&&(g.record.path!==n[m].record.path||!sA(g,n[m]));)m++;n.splice(m,0,g),g.record.name&&!MI(g)&&i.set(g.record.name,g)}function d(g,m){let v,b={},I,T;if("name"in g&&g.name){if(v=i.get(g.name),!v)throw zs(1,{location:g});T=v.record.name,b=Jt(LI(m.params,v.keys.filter(V=>!V.optional).map(V=>V.name)),g.params&&LI(g.params,v.keys.map(V=>V.name))),I=v.stringify(b)}else if("path"in g)I=g.path,v=n.find(V=>V.re.test(I)),v&&(b=v.parse(I),T=v.record.name);else{if(v=m.name?i.get(m.name):n.find(V=>V.re.test(m.path)),!v)throw zs(1,{location:g,currentLocation:m});T=v.record.name,b=Jt({},m.params,g.params),I=v.stringify(b)}const O=[];let C=v;for(;C;)O.unshift(C.record),C=C.parent;return{name:T,path:I,params:b,matched:O,meta:Dj(O)}}return t.forEach(g=>u(g)),{addRoute:u,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function LI(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function Oj(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Rj(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Rj(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="boolean"?n:n[i];return e}function MI(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Dj(t){return t.reduce((e,n)=>Jt(e,n.meta),{})}function FI(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function sA(t,e){return e.children.some(n=>n===t||sA(t,n))}const uA=/#/g,Pj=/&/g,Lj=/\//g,Mj=/=/g,Fj=/\?/g,aA=/\+/g,Vj=/%5B/g,jj=/%5D/g,cA=/%5E/g,Uj=/%60/g,lA=/%7B/g,Bj=/%7C/g,fA=/%7D/g,qj=/%20/g;function Uv(t){return encodeURI(""+t).replace(Bj,"|").replace(Vj,"[").replace(jj,"]")}function $j(t){return Uv(t).replace(lA,"{").replace(fA,"}").replace(cA,"^")}function Yg(t){return Uv(t).replace(aA,"%2B").replace(qj,"+").replace(uA,"%23").replace(Pj,"%26").replace(Uj,"`").replace(lA,"{").replace(fA,"}").replace(cA,"^")}function Kj(t){return Yg(t).replace(Mj,"%3D")}function Hj(t){return Uv(t).replace(uA,"%23").replace(Fj,"%3F")}function zj(t){return t==null?"":Hj(t).replace(Lj,"%2F")}function lf(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Gj(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<i.length;++o){const u=i[o].replace(aA," "),a=u.indexOf("="),l=lf(a<0?u:u.slice(0,a)),f=a<0?null:lf(u.slice(a+1));if(l in e){let d=e[l];hr(d)||(d=e[l]=[d]),d.push(f)}else e[l]=f}return e}function VI(t){let e="";for(let n in t){const i=t[n];if(n=Kj(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(hr(i)?i.map(u=>u&&Yg(u)):[i&&Yg(i)]).forEach(u=>{u!==void 0&&(e+=(e.length?"&":"")+n,u!=null&&(e+="="+u))})}return e}function Wj(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=hr(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return e}const Qj=Symbol(""),jI=Symbol(""),Bv=Symbol(""),hA=Symbol(""),Xg=Symbol("");function zu(){let t=[];function e(i){return t.push(i),()=>{const o=t.indexOf(i);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function pi(t,e,n,i,o){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=m=>{m===!1?l(zs(4,{from:n,to:e})):m instanceof Error?l(m):bj(m)?l(zs(2,{from:e,to:m})):(u&&i.enterCallbacks[o]===u&&typeof m=="function"&&u.push(m),a())},d=t.call(i&&i.instances[o],e,n,f);let g=Promise.resolve(d);t.length<3&&(g=g.then(f)),g.catch(m=>l(m))})}function tg(t,e,n,i){const o=[];for(const u of t)for(const a in u.components){let l=u.components[a];if(!(e!=="beforeRouteEnter"&&!u.instances[a]))if(Yj(l)){const d=(l.__vccOpts||l)[e];d&&o.push(pi(d,n,i,u,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${u.path}"`));const g=nj(d)?d.default:d;u.components[a]=g;const v=(g.__vccOpts||g)[e];return v&&pi(v,n,i,u,a)()}))}}return o}function Yj(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function UI(t){const e=Wn(Bv),n=Wn(hA),i=zt(()=>e.resolve(ct(t.to))),o=zt(()=>{const{matched:f}=i.value,{length:d}=f,g=f[d-1],m=n.matched;if(!g||!m.length)return-1;const v=m.findIndex(Hs.bind(null,g));if(v>-1)return v;const b=BI(f[d-2]);return d>1&&BI(g)===b&&m[m.length-1].path!==b?m.findIndex(Hs.bind(null,f[d-2])):v}),u=zt(()=>o.value>-1&&tU(n.params,i.value.params)),a=zt(()=>o.value>-1&&o.value===n.matched.length-1&&nA(n.params,i.value.params));function l(f={}){return Zj(f)?e[ct(t.replace)?"replace":"push"](ct(t.to)).catch(sa):Promise.resolve()}return{route:i,href:zt(()=>i.value.href),isActive:u,isExactActive:a,navigate:l}}const Xj=Xs({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:UI,setup(t,{slots:e}){const n=Gr(UI(t)),{options:i}=Wn(Bv),o=zt(()=>({[qI(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[qI(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=e.default&&e.default(n);return t.custom?u:As("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),Jj=Xj;function Zj(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function tU(t,e){for(const n in e){const i=e[n],o=t[n];if(typeof i=="string"){if(i!==o)return!1}else if(!hr(o)||o.length!==i.length||i.some((u,a)=>u!==o[a]))return!1}return!0}function BI(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const qI=(t,e,n)=>t??e??n,eU=Xs({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Wn(Xg),o=zt(()=>t.route||i.value),u=Wn(jI,0),a=zt(()=>{let d=ct(u);const{matched:g}=o.value;let m;for(;(m=g[d])&&!m.components;)d++;return d}),l=zt(()=>o.value.matched[a.value]);Es(jI,zt(()=>a.value+1)),Es(Qj,l),Es(Xg,o);const f=Sn();return He(()=>[f.value,l.value,t.name],([d,g,m],[v,b,I])=>{g&&(g.instances[m]=d,b&&b!==g&&d&&d===v&&(g.leaveGuards.size||(g.leaveGuards=b.leaveGuards),g.updateGuards.size||(g.updateGuards=b.updateGuards))),d&&g&&(!b||!Hs(g,b)||!v)&&(g.enterCallbacks[m]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=o.value,g=t.name,m=l.value,v=m&&m.components[g];if(!v)return $I(n.default,{Component:v,route:d});const b=m.props[g],I=b?b===!0?d.params:typeof b=="function"?b(d):b:null,O=As(v,Jt({},I,e,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(m.instances[g]=null)},ref:f}));return $I(n.default,{Component:O,route:d})||O}}});function $I(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const nU=eU;function rU(t){const e=xj(t.routes,t),n=t.parseQuery||Gj,i=t.stringifyQuery||VI,o=t.history,u=zu(),a=zu(),l=zu(),f=lO(ci);let d=ci;ps&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=Jp.bind(null,q=>""+q),m=Jp.bind(null,zj),v=Jp.bind(null,lf);function b(q,L){let z,J;return iA(q)?(z=e.getRecordMatcher(q),J=L):J=q,e.addRoute(J,z)}function I(q){const L=e.getRecordMatcher(q);L&&e.removeRoute(L)}function T(){return e.getRoutes().map(q=>q.record)}function O(q){return!!e.getRecordMatcher(q)}function C(q,L){if(L=Jt({},L||f.value),typeof q=="string"){const E=Zp(n,q,L.path),S=e.resolve({path:E.path},L),D=o.createHref(E.fullPath);return Jt(E,S,{params:v(S.params),hash:lf(E.hash),redirectedFrom:void 0,href:D})}let z;if("path"in q)z=Jt({},q,{path:Zp(n,q.path,L.path).path});else{const E=Jt({},q.params);for(const S in E)E[S]==null&&delete E[S];z=Jt({},q,{params:m(q.params)}),L.params=m(L.params)}const J=e.resolve(z,L),xt=q.hash||"";J.params=g(v(J.params));const qt=oj(i,Jt({},q,{hash:$j(xt),path:J.path})),wt=o.createHref(qt);return Jt({fullPath:qt,hash:xt,query:i===VI?Wj(q.query):q.query||{}},J,{redirectedFrom:void 0,href:wt})}function V(q){return typeof q=="string"?Zp(n,q,f.value.path):Jt({},q)}function x(q,L){if(d!==q)return zs(8,{from:L,to:q})}function M(q){return X(q)}function W(q){return M(Jt(V(q),{replace:!0}))}function R(q){const L=q.matched[q.matched.length-1];if(L&&L.redirect){const{redirect:z}=L;let J=typeof z=="function"?z(q):z;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=V(J):{path:J},J.params={}),Jt({query:q.query,hash:q.hash,params:"path"in J?{}:q.params},J)}}function X(q,L){const z=d=C(q),J=f.value,xt=q.state,qt=q.force,wt=q.replace===!0,E=R(z);if(E)return X(Jt(V(E),{state:typeof E=="object"?Jt({},xt,E.state):xt,force:qt,replace:wt}),L||z);const S=z;S.redirectedFrom=L;let D;return!qt&&sj(i,J,z)&&(D=zs(16,{to:S,from:J}),fe(J,J,!0,!1)),(D?Promise.resolve(D):bt(S,J)).catch(j=>Vr(j)?Vr(j,2)?j:be(j):At(j,S,J)).then(j=>{if(j){if(Vr(j,2))return X(Jt({replace:wt},V(j.to),{state:typeof j.to=="object"?Jt({},xt,j.to.state):xt,force:qt}),L||S)}else j=Lt(S,J,!0,wt,xt);return A(S,J,j),j})}function B(q,L){const z=x(q,L);return z?Promise.reject(z):Promise.resolve()}function bt(q,L){let z;const[J,xt,qt]=iU(q,L);z=tg(J.reverse(),"beforeRouteLeave",q,L);for(const E of J)E.leaveGuards.forEach(S=>{z.push(pi(S,q,L))});const wt=B.bind(null,q,L);return z.push(wt),cs(z).then(()=>{z=[];for(const E of u.list())z.push(pi(E,q,L));return z.push(wt),cs(z)}).then(()=>{z=tg(xt,"beforeRouteUpdate",q,L);for(const E of xt)E.updateGuards.forEach(S=>{z.push(pi(S,q,L))});return z.push(wt),cs(z)}).then(()=>{z=[];for(const E of q.matched)if(E.beforeEnter&&!L.matched.includes(E))if(hr(E.beforeEnter))for(const S of E.beforeEnter)z.push(pi(S,q,L));else z.push(pi(E.beforeEnter,q,L));return z.push(wt),cs(z)}).then(()=>(q.matched.forEach(E=>E.enterCallbacks={}),z=tg(qt,"beforeRouteEnter",q,L),z.push(wt),cs(z))).then(()=>{z=[];for(const E of a.list())z.push(pi(E,q,L));return z.push(wt),cs(z)}).catch(E=>Vr(E,8)?E:Promise.reject(E))}function A(q,L,z){for(const J of l.list())J(q,L,z)}function Lt(q,L,z,J,xt){const qt=x(q,L);if(qt)return qt;const wt=L===ci,E=ps?history.state:{};z&&(J||wt?o.replace(q.fullPath,Jt({scroll:wt&&E&&E.scroll},xt)):o.push(q.fullPath,xt)),f.value=q,fe(q,L,z,wt),be()}let Ut;function te(){Ut||(Ut=o.listen((q,L,z)=>{if(!Qe.listening)return;const J=C(q),xt=R(J);if(xt){X(Jt(xt,{replace:!0}),J).catch(sa);return}d=J;const qt=f.value;ps&&pj(xI(qt.fullPath,z.delta),th()),bt(J,qt).catch(wt=>Vr(wt,12)?wt:Vr(wt,2)?(X(wt.to,J).then(E=>{Vr(E,20)&&!z.delta&&z.type===Pa.pop&&o.go(-1,!1)}).catch(sa),Promise.reject()):(z.delta&&o.go(-z.delta,!1),At(wt,J,qt))).then(wt=>{wt=wt||Lt(J,qt,!1),wt&&(z.delta&&!Vr(wt,8)?o.go(-z.delta,!1):z.type===Pa.pop&&Vr(wt,20)&&o.go(-1,!1)),A(J,qt,wt)}).catch(sa)}))}let Yt=zu(),jt=zu(),St;function At(q,L,z){be(q);const J=jt.list();return J.length?J.forEach(xt=>xt(q,L,z)):console.error(q),Promise.reject(q)}function mt(){return St&&f.value!==ci?Promise.resolve():new Promise((q,L)=>{Yt.add([q,L])})}function be(q){return St||(St=!q,te(),Yt.list().forEach(([L,z])=>q?z(q):L()),Yt.reset()),q}function fe(q,L,z,J){const{scrollBehavior:xt}=t;if(!ps||!xt)return Promise.resolve();const qt=!z&&gj(xI(q.fullPath,0))||(J||!z)&&history.state&&history.state.scroll||null;return wi().then(()=>xt(q,L,qt)).then(wt=>wt&&dj(wt)).catch(wt=>At(wt,q,L))}const he=q=>o.go(q);let oe;const sn=new Set,Qe={currentRoute:f,listening:!0,addRoute:b,removeRoute:I,hasRoute:O,getRoutes:T,resolve:C,options:t,push:M,replace:W,go:he,back:()=>he(-1),forward:()=>he(1),beforeEach:u.add,beforeResolve:a.add,afterEach:l.add,onError:jt.add,isReady:mt,install(q){const L=this;q.component("RouterLink",Jj),q.component("RouterView",nU),q.config.globalProperties.$router=L,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>ct(f)}),ps&&!oe&&f.value===ci&&(oe=!0,M(o.location).catch(xt=>{}));const z={};for(const xt in ci)z[xt]=zt(()=>f.value[xt]);q.provide(Bv,L),q.provide(hA,Gr(z)),q.provide(Xg,f);const J=q.unmount;sn.add(q),q.unmount=function(){sn.delete(q),sn.size<1&&(d=ci,Ut&&Ut(),Ut=null,f.value=ci,oe=!1,St=!1),J()}}};return Qe}function cs(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function iU(t,e){const n=[],i=[],o=[],u=Math.max(e.matched.length,t.matched.length);for(let a=0;a<u;a++){const l=e.matched[a];l&&(t.matched.find(d=>Hs(d,l))?i.push(l):n.push(l));const f=t.matched[a];f&&(e.matched.find(d=>Hs(d,f))||o.push(f))}return[n,i,o]}const oU={};function sU(t,e,n,i,o,u){return null}const uU=su(oU,[["render",sU]]),aU=rU({history:wj("/music-player/"),routes:[{path:"/",name:"home",component:uU},{path:"/about",name:"about",component:()=>ej(()=>import("./About-d789d2c6.js"),["assets/About-d789d2c6.js","assets/About-4d995ba2.css"])}]});/**
  * vee-validate v4.7.3
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */function No(t){return typeof t=="function"}function aa(t){return t==null}const ko=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function dA(t){return Number(t)>=0}function cU(t){const e=parseFloat(t);return isNaN(e)?t:e}const pA={};function er(t,e){fU(t,e),pA[t]=e}function lU(t){return pA[t]}function fU(t,e){if(!No(e))throw new Error(`Extension Error: The validator '${t}' must be a function.`)}const tc=Symbol("vee-validate-form"),hU=Symbol("vee-validate-field-instance"),ff=Symbol("Default empty value"),dU=typeof window<"u";function Jg(t){return No(t)&&!!t.__locatorRef}function ca(t){return!!t&&No(t.validate)}function Gs(t){return t==="checkbox"||t==="radio"}function pU(t){return ko(t)||Array.isArray(t)}function gA(t){return Array.isArray(t)?t.length===0:ko(t)&&Object.keys(t).length===0}function eh(t){return/^\[.+\]$/i.test(t)}function gU(t){return mA(t)&&t.multiple}function mA(t){return t.tagName==="SELECT"}function mU(t,e){const n=![!1,null,void 0,0].includes(e.multiple)&&!Number.isNaN(e.multiple);return t==="select"&&"multiple"in e&&n}function vU(t,e){return!mU(t,e)&&e.type!=="file"&&!Gs(e.type)}function vA(t){return qv(t)&&t.target&&"submit"in t.target}function qv(t){return t?!!(typeof Event<"u"&&No(Event)&&t instanceof Event||t&&t.srcElement):!1}function KI(t,e){return e in t&&t[e]!==ff}function Ve(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!Ve(t[i],e[i]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;for(i of t.entries())if(!Ve(i[1],e.get(i[0])))return!1;return!0}if(HI(t)&&HI(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[i]))return!1;for(i=n;i--!==0;){var u=o[i];if(!Ve(t[u],e[u]))return!1}return!0}return t!==t&&e!==e}function HI(t){return dU?t instanceof File:!1}function zI(t,e,n){typeof n.value=="object"&&(n.value=re(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function re(t){if(typeof t!="object")return t;var e=0,n,i,o,u=Object.prototype.toString.call(t);if(u==="[object Object]"?o=Object.create(t.__proto__||null):u==="[object Array]"?o=Array(t.length):u==="[object Set]"?(o=new Set,t.forEach(function(a){o.add(re(a))})):u==="[object Map]"?(o=new Map,t.forEach(function(a,l){o.set(re(l),re(a))})):u==="[object Date]"?o=new Date(+t):u==="[object RegExp]"?o=new RegExp(t.source,t.flags):u==="[object DataView]"?o=new t.constructor(re(t.buffer)):u==="[object ArrayBuffer]"?o=t.slice(0):u.slice(-6)==="Array]"&&(o=new t.constructor(t)),o){for(i=Object.getOwnPropertySymbols(t);e<i.length;e++)zI(o,i[e],Object.getOwnPropertyDescriptor(t,i[e]));for(e=0,i=Object.getOwnPropertyNames(t);e<i.length;e++)Object.hasOwnProperty.call(o,n=i[e])&&o[n]===t[n]||zI(o,n,Object.getOwnPropertyDescriptor(t,n))}return o||t}function $v(t){return eh(t)?t.replace(/\[|\]/gi,""):t}function Te(t,e,n){return t?eh(e)?t[$v(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,u)=>pU(o)&&u in o?o[u]:n,t):n}function li(t,e,n){if(eh(e)){t[$v(e)]=n;return}const i=e.split(/\.|\[(\d+)\]/).filter(Boolean);let o=t;for(let u=0;u<i.length;u++){if(u===i.length-1){o[i[u]]=n;return}(!(i[u]in o)||aa(o[i[u]]))&&(o[i[u]]=dA(i[u+1])?[]:{}),o=o[i[u]]}}function eg(t,e){if(Array.isArray(t)&&dA(e)){t.splice(Number(e),1);return}ko(t)&&delete t[e]}function yl(t,e){if(eh(e)){delete t[$v(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let i=t;for(let u=0;u<n.length;u++){if(u===n.length-1){eg(i,n[u]);break}if(!(n[u]in i)||aa(i[n[u]]))break;i=i[n[u]]}const o=n.map((u,a)=>Te(t,n.slice(0,a).join(".")));for(let u=o.length-1;u>=0;u--)if(gA(o[u])){if(u===0){eg(t,n[0]);continue}eg(o[u-1],n[u-1])}}function qe(t){return Object.keys(t)}function Kv(t,e=void 0){const n=Sm();return(n==null?void 0:n.provides[t])||Wn(t,e)}function Zg(t,e,n){if(Array.isArray(t)){const i=[...t],o=i.findIndex(u=>Ve(u,e));return o>=0?i.splice(o,1):i.push(e),i}return Ve(t,e)?n:e}function GI(t,e=0){let n=null,i=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const u=t(...o);i.forEach(a=>a(u)),i=[]},e),new Promise(u=>i.push(u))}}function yU(t,e){return ko(e)&&e.number?cU(t):t}function tm(t,e){let n;return async function(...o){const u=t(...o);n=u;const a=await u;return u!==n||(n=void 0,e(a,o)),a}}function wU({get:t,set:e}){const n=Sn(re(t()));return He(t,i=>{Ve(i,n.value)||(n.value=re(i))},{deep:!0}),He(n,i=>{Ve(i,t())||e(re(i))},{deep:!0}),n}const nh=(t,e,n)=>e.slots.default?typeof t=="string"||!t?e.slots.default(n()):{default:()=>{var i,o;return(o=(i=e.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:e.slots.default;function ng(t){if(yA(t))return t._value}function yA(t){return"_value"in t}function Hv(t){if(!qv(t))return t;const e=t.target;if(Gs(e.type)&&yA(e))return ng(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if(gU(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(ng);if(mA(e)){const n=Array.from(e.options).find(i=>i.selected);return n?ng(n):e.value}return e.value}function wA(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?ko(t)&&t._$$isNormalized?t:ko(t)?Object.keys(t).reduce((n,i)=>{const o=bU(t[i]);return t[i]!==!1&&(n[i]=WI(o)),n},e):typeof t!="string"?e:t.split("|").reduce((n,i)=>{const o=EU(i);return o.name&&(n[o.name]=WI(o.params)),n},e):e}function bU(t){return t===!0?[]:Array.isArray(t)||ko(t)?t:[t]}function WI(t){const e=n=>typeof n=="string"&&n[0]==="@"?IU(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,i)=>(n[i]=e(t[i]),n),{})}const EU=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function IU(t){const e=n=>Te(n,t)||n[t];return e.__locatorRef=t,e}function _U(t){return Array.isArray(t)?t.filter(Jg):qe(t).filter(e=>Jg(t[e])).map(e=>t[e])}const TU={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let em=Object.assign({},TU);const zv=()=>em,SU=t=>{em=Object.assign(Object.assign({},em),t)},AU=SU;async function bA(t,e,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:e,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await NU(o,t)).errors;return{errors:a,valid:!a.length}}async function NU(t,e){if(ca(t.rules))return kU(e,t.rules,{bails:t.bails});if(No(t.rules)||Array.isArray(t.rules)){const a={field:t.name,form:t.formData,value:e},l=Array.isArray(t.rules)?t.rules:[t.rules],f=l.length,d=[];for(let g=0;g<f;g++){const m=l[g],v=await m(e,a);if(typeof v!="string"&&v)continue;const I=typeof v=="string"?v:EA(a);if(d.push(I),t.bails)return{errors:d}}return{errors:d}}const n=Object.assign(Object.assign({},t),{rules:wA(t.rules)}),i=[],o=Object.keys(n.rules),u=o.length;for(let a=0;a<u;a++){const l=o[a],f=await CU(n,e,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),t.bails))return{errors:i}}return{errors:i}}async function kU(t,e,n){var i;return{errors:await e.validate(t,{abortEarly:(i=n.bails)!==null&&i!==void 0?i:!0}).then(()=>[]).catch(u=>{if(u.name==="ValidationError")return u.errors;throw u})}}async function CU(t,e,n){const i=lU(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=xU(n.params,t.formData),u={field:t.name,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(e,o,u);return typeof a=="string"?{error:a}:{error:a?void 0:EA(u)}}function EA(t){const e=zv().generateMessage;return e?e(t):"Field is invalid"}function xU(t,e){const n=i=>Jg(i)?i(e):i;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((i,o)=>(i[o]=n(t[o]),i),{})}async function OU(t,e){const n=await t.validate(e,{abortEarly:!1}).then(()=>[]).catch(u=>{if(u.name!=="ValidationError")throw u;return u.inner||[]}),i={},o={};for(const u of n){const a=u.errors;i[u.path]={valid:!a.length,errors:a},a.length&&(o[u.path]=a[0])}return{valid:!n.length,results:i,errors:o}}async function RU(t,e,n){const o=qe(t).map(async d=>{var g,m,v;const b=await bA(Te(e,d),t[d],{name:((g=n==null?void 0:n.names)===null||g===void 0?void 0:g[d])||d,values:e,bails:(v=(m=n==null?void 0:n.bailsMap)===null||m===void 0?void 0:m[d])!==null&&v!==void 0?v:!0});return Object.assign(Object.assign({},b),{path:d})});let u=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(u=!1,f[d.path]=d.errors[0]);return{valid:u,results:l,errors:f}}let QI=0;function DU(t,e){const{value:n,initialValue:i,setInitialValue:o}=IA(t,e.modelValue,e.form),{errorMessage:u,errors:a,setErrors:l}=LU(t,e.form),f=PU(n,i,a),d=QI>=Number.MAX_SAFE_INTEGER?0:++QI;function g(m){var v;"value"in m&&(n.value=m.value),"errors"in m&&l(m.errors),"touched"in m&&(f.touched=(v=m.touched)!==null&&v!==void 0?v:f.touched),"initialValue"in m&&o(m.initialValue)}return{id:d,path:t,value:n,initialValue:i,meta:f,errors:a,errorMessage:u,setState:g}}function IA(t,e,n){const i=Sn(ct(e));function o(){return n?Te(n.meta.value.initialValues,ct(t),ct(i)):ct(i)}function u(d){if(!n){i.value=d;return}n.stageInitialValue(ct(t),d,!0)}const a=zt(o);if(!n)return{value:Sn(o()),initialValue:a,setInitialValue:u};const l=e?ct(e):Te(n.values,ct(t),ct(a));return n.stageInitialValue(ct(t),l,!0),{value:zt({get(){return Te(n.values,ct(t))},set(d){n.setFieldValue(ct(t),d)}}),initialValue:a,setInitialValue:u}}function PU(t,e,n){const i=Gr({touched:!1,pending:!1,valid:!0,validated:!!ct(n).length,initialValue:zt(()=>ct(e)),dirty:zt(()=>!Ve(ct(t),ct(e)))});return He(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function LU(t,e){function n(o){return o?Array.isArray(o)?o:[o]:[]}if(!e){const o=Sn([]);return{errors:o,errorMessage:zt(()=>o.value[0]),setErrors:u=>{o.value=n(u)}}}const i=zt(()=>e.errorBag.value[ct(t)]||[]);return{errors:i,errorMessage:zt(()=>i.value[0]),setErrors:o=>{e.setFieldErrorBag(ct(t),n(o))}}}function MU(t,e,n){return Gs(n==null?void 0:n.type)?jU(t,e,n):_A(t,e,n)}function _A(t,e,n){const{initialValue:i,validateOnMount:o,bails:u,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:g,controlled:m,keepValueOnUnmount:v,modelPropName:b,syncVModel:I,form:T}=FU(ct(t),n),O=m?Kv(tc):void 0,C=T||O;let V=!1;const{id:x,value:M,initialValue:W,meta:R,setState:X,errors:B,errorMessage:bt}=DU(t,{modelValue:i,form:C});I&&UU({value:M,prop:b,handleChange:St});const A=()=>{R.touched=!0},Lt=zt(()=>{let L=ct(e);const z=ct(C==null?void 0:C.schema);return z&&!ca(z)&&(L=VU(z,ct(t))||L),ca(L)||No(L)||Array.isArray(L)?L:wA(L)});async function Ut(L){var z,J;return C!=null&&C.validateSchema?(z=(await C.validateSchema(L)).results[ct(t)])!==null&&z!==void 0?z:{valid:!0,errors:[]}:bA(M.value,Lt.value,{name:ct(f)||ct(t),values:(J=C==null?void 0:C.values)!==null&&J!==void 0?J:{},bails:u})}const te=tm(async()=>(R.pending=!0,R.validated=!0,Ut("validated-only")),L=>(V&&(L.valid=!0,L.errors=[]),X({errors:L.errors}),R.pending=!1,L)),Yt=tm(async()=>Ut("silent"),L=>(V&&(L.valid=!0),R.valid=L.valid,L));function jt(L){return(L==null?void 0:L.mode)==="silent"?Yt():te()}function St(L,z=!0){const J=Hv(L);M.value=J,!d&&z&&te()}ym(()=>{if(o)return te();(!C||!C.validateSchema)&&Yt()});function At(L){R.touched=L}let mt,be=re(M.value);function fe(){mt=He(M,(L,z)=>{if(Ve(L,z)&&Ve(L,be))return;(d?te:Yt)(),be=re(L)},{deep:!0})}fe();function he(L){var z;mt==null||mt();const J=L&&"value"in L?L.value:W.value;X({value:re(J),initialValue:re(J),touched:(z=L==null?void 0:L.touched)!==null&&z!==void 0?z:!1,errors:(L==null?void 0:L.errors)||[]}),R.pending=!1,R.validated=!1,Yt(),wi(()=>{fe()})}function oe(L){M.value=L}function sn(L){X({errors:Array.isArray(L)?L:[L]})}const Qe={id:x,name:t,label:f,value:M,meta:R,errors:B,errorMessage:bt,type:a,checkedValue:l,uncheckedValue:g,bails:u,keepValueOnUnmount:v,resetField:he,handleReset:()=>he(),validate:jt,handleChange:St,handleBlur:A,setState:X,setTouched:At,setErrors:sn,setValue:oe};if(Es(hU,Qe),ie(e)&&typeof ct(e)!="function"&&He(e,(L,z)=>{Ve(L,z)||(R.validated?te():Yt())},{deep:!0}),!C)return Qe;C.register(Qe),wm(()=>{V=!0,C.unregister(Qe)});const q=zt(()=>{const L=Lt.value;return!L||No(L)||ca(L)||Array.isArray(L)?{}:Object.keys(L).reduce((z,J)=>{const xt=_U(L[J]).map(qt=>qt.__locatorRef).reduce((qt,wt)=>{const E=Te(C.values,wt)||C.values[wt];return E!==void 0&&(qt[wt]=E),qt},{});return Object.assign(z,xt),z},{})});return He(q,(L,z)=>{if(!Object.keys(L).length)return;!Ve(L,z)&&(R.validated?te():Yt())}),Qe}function FU(t,e){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:t,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0});if(!e)return n();const i="valueProp"in e?e.valueProp:e.checkedValue,o="standalone"in e?!e.standalone:e.controlled;return Object.assign(Object.assign(Object.assign({},n()),e||{}),{controlled:o??!0,checkedValue:i})}function VU(t,e){if(t)return t[e]}function jU(t,e,n){const i=n!=null&&n.standalone?void 0:Kv(tc),o=n==null?void 0:n.checkedValue,u=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=zt(()=>{const m=ct(l.value),v=ct(o);return Array.isArray(m)?m.findIndex(b=>Ve(b,v))>=0:Ve(v,m)});function g(m,v=!0){var b;if(d.value===((b=m==null?void 0:m.target)===null||b===void 0?void 0:b.checked)){v&&l.validate();return}let I=Hv(m);i||(I=Zg(ct(l.value),ct(o),ct(u))),f(I,v)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:u,handleChange:g})}return a(_A(t,e,n))}function UU({prop:t,value:e,handleChange:n}){const i=Sm();if(!i)return;const o=t||"modelValue",u=`update:${o}`;o in i.props&&(He(e,a=>{Ve(a,YI(i,o))||i.emit(u,a)}),He(()=>YI(i,o),a=>{if(a===ff&&e.value===void 0)return;const l=a===ff?void 0:a;Ve(l,yU(e.value,i.props.modelModifiers))||n(l)}))}function YI(t,e){return t.props[e]}const BU=Xs({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>zv().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:ff},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(t,e){const n=Sr(t,"rules"),i=Sr(t,"name"),o=Sr(t,"label"),u=Sr(t,"uncheckedValue"),a=Sr(t,"keepValue"),{errors:l,value:f,errorMessage:d,validate:g,handleChange:m,handleBlur:v,setTouched:b,resetField:I,handleReset:T,meta:O,checked:C,setErrors:V}=MU(i,n,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:e.attrs.type,initialValue:$U(t,e),checkedValue:e.attrs.value,uncheckedValue:u,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a}),x=function(bt,A=!0){m(bt,A),e.emit("update:modelValue",f.value)},M=B=>{Gs(e.attrs.type)||(f.value=Hv(B))},W=function(bt){M(bt),e.emit("update:modelValue",f.value)},R=zt(()=>{const{validateOnInput:B,validateOnChange:bt,validateOnBlur:A,validateOnModelUpdate:Lt}=qU(t),Ut=[v,e.attrs.onBlur,A?g:void 0].filter(Boolean),te=[At=>x(At,B),e.attrs.onInput].filter(Boolean),Yt=[At=>x(At,bt),e.attrs.onChange].filter(Boolean),jt={name:t.name,onBlur:Ut,onInput:te,onChange:Yt};jt["onUpdate:modelValue"]=At=>x(At,Lt),Gs(e.attrs.type)&&C&&(jt.checked=C.value);const St=XI(t,e);return vU(St,e.attrs)&&(jt.value=f.value),jt});function X(){return{field:R.value,value:f.value,meta:O,errors:l.value,errorMessage:d.value,validate:g,resetField:I,handleChange:x,handleInput:W,handleReset:T,handleBlur:v,setTouched:b,setErrors:V}}return e.expose({setErrors:V,setTouched:b,reset:I,validate:g,handleChange:m}),()=>{const B=Em(XI(t,e)),bt=nh(B,e,X);return B?As(B,Object.assign(Object.assign({},e.attrs),R.value),bt):bt}}});function XI(t,e){let n=t.as||"";return!t.as&&!e.slots.default&&(n="input"),n}function qU(t){var e,n,i,o;const{validateOnInput:u,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=zv();return{validateOnInput:(e=t.validateOnInput)!==null&&e!==void 0?e:u,validateOnChange:(n=t.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=t.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=t.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function $U(t,e){return Gs(e.attrs.type)?KI(t,"modelValue")?t.modelValue:void 0:KI(t,"modelValue")?t.modelValue:e.attrs.value}const KU=BU;let HU=0;function zU(t){var e;const n=HU++,i=new Set;let o=!1;const u=Sn({}),a=Sn(!1),l=Sn(0),f=[],d=Gr(re(ct(t==null?void 0:t.initialValues)||{})),{errorBag:g,setErrorBag:m,setFieldErrorBag:v}=QU(t==null?void 0:t.initialErrors),b=zt(()=>qe(g.value).reduce((N,k)=>{const G=g.value[k];return G&&G.length&&(N[k]=G[0]),N},{}));function I(N){const k=u.value[N];return Array.isArray(k)?k[0]:k}function T(N){return!!u.value[N]}const O=zt(()=>qe(u.value).reduce((N,k)=>{const G=I(k);return G&&(N[k]=ct(G.label||G.name)||""),N},{})),C=zt(()=>qe(u.value).reduce((N,k)=>{var G;const Q=I(k);return Q&&(N[k]=(G=Q.bails)!==null&&G!==void 0?G:!0),N},{})),V=Object.assign({},(t==null?void 0:t.initialErrors)||{}),x=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:M,originalInitialValues:W,setInitialValues:R}=WU(u,d,t==null?void 0:t.initialValues),X=GU(u,d,W,b),B=zt(()=>[...i,...qe(u.value)].reduce((N,k)=>{const G=Te(d,k);return li(N,k,G),N},{})),bt=t==null?void 0:t.validationSchema,A=GI(ot,5),Lt=GI(ot,5),Ut=tm(async N=>await N==="silent"?A():Lt(),(N,[k])=>{const G=St.fieldsByPath.value||{},Q=qe(St.errorBag.value);return[...new Set([...qe(N.results),...qe(G),...Q])].reduce((it,at)=>{const st=G[at],kt=(N.results[at]||{errors:[]}).errors,Rt={errors:kt,valid:!kt.length};if(it.results[at]=Rt,Rt.valid||(it.errors[at]=Rt.errors[0]),!st)return fe(at,kt),it;if(mt(st,un=>un.meta.valid=Rt.valid),k==="silent")return it;const Ye=Array.isArray(st)?st.some(un=>un.meta.validated):st.meta.validated;return k==="validated-only"&&!Ye||mt(st,un=>un.setState({errors:Rt.errors})),it},{valid:N.valid,results:{},errors:{}})});function te(N){return function(G,Q){return function(it){return it instanceof Event&&(it.preventDefault(),it.stopPropagation()),z(qe(u.value).reduce((at,st)=>(at[st]=!0,at),{})),a.value=!0,l.value++,S().then(at=>{const st=re(d);if(at.valid&&typeof G=="function"){const kt=re(B.value);return G(N?kt:st,{evt:it,controlledValues:kt,setErrors:he,setFieldError:fe,setTouched:z,setFieldTouched:L,setValues:sn,setFieldValue:oe,resetForm:J})}!at.valid&&typeof Q=="function"&&Q({values:st,evt:it,errors:at.errors,results:at.results})}).then(at=>(a.value=!1,at),at=>{throw a.value=!1,at})}}}const jt=te(!1);jt.withControlled=te(!0);const St={formId:n,fieldsByPath:u,values:d,controlledValues:B,errorBag:g,errors:b,schema:bt,submitCount:l,meta:X,isSubmitting:a,fieldArrays:f,keepValuesOnUnmount:x,validateSchema:ct(bt)?Ut:void 0,validate:S,register:wt,unregister:E,setFieldErrorBag:v,validateField:D,setFieldValue:oe,setValues:sn,setErrors:he,setFieldError:fe,setFieldTouched:L,setTouched:z,resetForm:J,handleSubmit:jt,stageInitialValue:U,unsetInitialValue:j,setFieldInitialValue:tt,useFieldModel:q};function At(N){return Array.isArray(N)}function mt(N,k){return Array.isArray(N)?N.forEach(k):k(N)}function be(N){Object.values(u.value).forEach(k=>{k&&mt(k,N)})}function fe(N,k){v(N,k)}function he(N){m(N)}function oe(N,k,{force:G}={force:!1}){var Q;const rt=u.value[N],it=re(k);if(!rt){li(d,N,it);return}if(At(rt)&&((Q=rt[0])===null||Q===void 0?void 0:Q.type)==="checkbox"&&!Array.isArray(k)){const st=re(Zg(Te(d,N)||[],k,void 0));li(d,N,st);return}let at=it;!At(rt)&&rt.type==="checkbox"&&!G&&!o&&(at=re(Zg(Te(d,N),k,ct(rt.uncheckedValue)))),li(d,N,at)}function sn(N){qe(d).forEach(k=>{delete d[k]}),qe(N).forEach(k=>{oe(k,N[k])}),f.forEach(k=>k&&k.reset())}function Qe(N){const{value:k}=IA(N,void 0,St);return He(k,()=>{T(ct(N))||S({mode:"validated-only"})},{deep:!0}),i.add(ct(N)),k}function q(N){return Array.isArray(N)?N.map(Qe):Qe(N)}function L(N,k){const G=u.value[N];G&&mt(G,Q=>Q.setTouched(k))}function z(N){qe(N).forEach(k=>{L(k,!!N[k])})}function J(N){o=!0,be(G=>G.resetField());const k=N!=null&&N.values?N.values:W.value;R(k),sn(k),N!=null&&N.touched&&z(N.touched),he((N==null?void 0:N.errors)||{}),l.value=(N==null?void 0:N.submitCount)||0,wi(()=>{o=!1})}function xt(N,k){const G=yo(N),Q=k;if(!u.value[Q]){u.value[Q]=G;return}const rt=u.value[Q];rt&&!Array.isArray(rt)&&(u.value[Q]=[rt]),u.value[Q]=[...u.value[Q],G]}function qt(N,k){const G=k,Q=u.value[G];if(Q){if(!At(Q)&&N.id===Q.id){delete u.value[G];return}if(At(Q)){const rt=Q.findIndex(it=>it.id===N.id);if(rt===-1)return;Q.splice(rt,1),Q.length||delete u.value[G]}}}function wt(N){const k=ct(N.name);xt(N,k),ie(N.name)&&He(N.name,async(Q,rt)=>{await wi(),qt(N,rt),xt(N,Q),(b.value[rt]||b.value[Q])&&(fe(rt,void 0),D(Q)),await wi(),T(rt)||yl(d,rt)});const G=ct(N.errorMessage);G&&(V==null?void 0:V[k])!==G&&D(k),delete V[k]}function E(N){const k=ct(N.name),G=u.value[k],Q=!!G&&At(G);qt(N,k),wi(()=>{var rt;const it=(rt=ct(N.keepValueOnUnmount))!==null&&rt!==void 0?rt:ct(x),at=Te(d,k);if(Q&&(G===u.value[k]||!u.value[k])&&!it)if(Array.isArray(at)){const kt=at.findIndex(Rt=>Ve(Rt,ct(N.checkedValue)));if(kt>-1){const Rt=[...at];Rt.splice(kt,1),oe(k,Rt,{force:!0})}}else at===ct(N.checkedValue)&&yl(d,k);if(!T(k)){if(fe(k,void 0),it||Q&&Array.isArray(at)&&!gA(at))return;yl(d,k)}})}async function S(N){const k=(N==null?void 0:N.mode)||"force";if(k==="force"&&be(it=>it.meta.validated=!0),St.validateSchema)return St.validateSchema(k);const G=await Promise.all(Object.values(u.value).map(it=>{const at=Array.isArray(it)?it[0]:it;return at?at.validate(N).then(st=>({key:ct(at.name),valid:st.valid,errors:st.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),Q={},rt={};for(const it of G)Q[it.key]={valid:it.valid,errors:it.errors},it.errors.length&&(rt[it.key]=it.errors[0]);return{valid:G.every(it=>it.valid),results:Q,errors:rt}}async function D(N){const k=u.value[N];return k?Array.isArray(k)?k.map(G=>G.validate())[0]:k.validate():Promise.resolve({errors:[],valid:!0})}function j(N){yl(M.value,N)}function U(N,k,G=!1){li(d,N,k),tt(N,k),G&&!(t!=null&&t.initialValues)&&li(W.value,N,re(k))}function tt(N,k){li(M.value,N,re(k))}async function ot(){const N=ct(bt);return N?ca(N)?await OU(N,d):await RU(N,d,{names:O.value,bailsMap:C.value}):{valid:!0,results:{},errors:{}}}const et=jt((N,{evt:k})=>{vA(k)&&k.target.submit()});return ym(()=>{if(t!=null&&t.initialErrors&&he(t.initialErrors),t!=null&&t.initialTouched&&z(t.initialTouched),t!=null&&t.validateOnMount){S();return}St.validateSchema&&St.validateSchema("silent")}),ie(bt)&&He(bt,()=>{var N;(N=St.validateSchema)===null||N===void 0||N.call(St,"validated-only")}),Es(tc,St),Object.assign(Object.assign({},St),{handleReset:()=>J(),submitForm:et})}function GU(t,e,n,i){const o={touched:"some",pending:"some",valid:"every"},u=zt(()=>!Ve(e,ct(n)));function a(){const f=Object.values(t.value).flat(1).filter(Boolean);return qe(o).reduce((d,g)=>{const m=o[g];return d[g]=f[m](v=>v.meta[g]),d},{})}const l=Gr(a());return CO(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),zt(()=>Object.assign(Object.assign({initialValues:ct(n)},l),{valid:l.valid&&!qe(i.value).length,dirty:u.value}))}function WU(t,e,n){const i=Sn(re(ct(n))||{}),o=Sn(re(ct(n))||{});function u(a,l=!1){i.value=re(a),o.value=re(a),l&&qe(t.value).forEach(f=>{const d=t.value[f],g=Array.isArray(d)?d.some(v=>v.meta.touched):d==null?void 0:d.meta.touched;if(!d||g)return;const m=Te(i.value,f);li(e,f,re(m))})}return ie(n)&&He(n,a=>{u(a,!0)},{deep:!0}),{initialValues:i,originalInitialValues:o,setInitialValues:u}}function QU(t){const e=Sn({});function n(u){return Array.isArray(u)?u:u?[u]:[]}function i(u,a){if(!a){delete e.value[u];return}e.value[u]=n(a)}function o(u){e.value=qe(u).reduce((a,l)=>{const f=u[l];return f&&(a[l]=n(f)),a},{})}return t&&o(t),{errorBag:e,setErrorBag:o,setFieldErrorBag:i}}const YU=Xs({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(t,e){const n=Sr(t,"initialValues"),i=Sr(t,"validationSchema"),o=Sr(t,"keepValues"),{errors:u,values:a,meta:l,isSubmitting:f,submitCount:d,controlledValues:g,validate:m,validateField:v,handleReset:b,resetForm:I,handleSubmit:T,setErrors:O,setFieldError:C,setFieldValue:V,setValues:x,setFieldTouched:M,setTouched:W}=zU({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount,keepValuesOnUnmount:o}),R=T((Lt,{evt:Ut})=>{vA(Ut)&&Ut.target.submit()},t.onInvalidSubmit),X=t.onSubmit?T(t.onSubmit,t.onInvalidSubmit):R;function B(Lt){qv(Lt)&&Lt.preventDefault(),b(),typeof e.attrs.onReset=="function"&&e.attrs.onReset()}function bt(Lt,Ut){return T(typeof Lt=="function"&&!Ut?Lt:Ut,t.onInvalidSubmit)(Lt)}function A(){return{meta:l.value,errors:u.value,values:a,isSubmitting:f.value,submitCount:d.value,controlledValues:g.value,validate:m,validateField:v,handleSubmit:bt,handleReset:b,submitForm:R,setErrors:O,setFieldError:C,setFieldValue:V,setValues:x,setFieldTouched:M,setTouched:W,resetForm:I}}return e.expose({setFieldError:C,setErrors:O,setFieldValue:V,setValues:x,setFieldTouched:M,setTouched:W,resetForm:I,validate:m,validateField:v}),function(){const Ut=t.as==="form"?t.as:Em(t.as),te=nh(Ut,e,A);if(!t.as)return te;const Yt=t.as==="form"?{novalidate:!0}:{};return As(Ut,Object.assign(Object.assign(Object.assign({},Yt),e.attrs),{onSubmit:X,onReset:B}),te)}}}),XU=YU;function JU(t){const e=Kv(tc,void 0),n=Sn([]),i=()=>{},o={fields:n,remove:i,push:i,swap:i,insert:i,update:i,replace:i,prepend:i,move:i};if(!e||!ct(t))return o;const u=e.fieldArrays.find(x=>ct(x.path)===ct(t));if(u)return u;let a=0;function l(){const x=Te(e==null?void 0:e.values,ct(t),[])||[];n.value=x.map(d),f()}l();function f(){const x=n.value.length;for(let M=0;M<x;M++){const W=n.value[M];W.isFirst=M===0,W.isLast=M===x-1}}function d(x){const M=a++;return{key:M,value:wU({get(){const R=Te(e==null?void 0:e.values,ct(t),[])||[],X=n.value.findIndex(B=>B.key===M);return X===-1?x:R[X]},set(R){const X=n.value.findIndex(B=>B.key===M);X!==-1&&T(X,R)}}),isFirst:!1,isLast:!1}}function g(x){const M=ct(t),W=Te(e==null?void 0:e.values,M);if(!W||!Array.isArray(W))return;const R=[...W];R.splice(x,1),e==null||e.unsetInitialValue(M+`[${x}]`),e==null||e.setFieldValue(M,R),n.value.splice(x,1),f()}function m(x){const M=ct(t),W=Te(e==null?void 0:e.values,M),R=aa(W)?[]:W;if(!Array.isArray(R))return;const X=[...R];X.push(x),e==null||e.stageInitialValue(M+`[${X.length-1}]`,x),e==null||e.setFieldValue(M,X),n.value.push(d(x)),f()}function v(x,M){const W=ct(t),R=Te(e==null?void 0:e.values,W);if(!Array.isArray(R)||!(x in R)||!(M in R))return;const X=[...R],B=[...n.value],bt=X[x];X[x]=X[M],X[M]=bt;const A=B[x];B[x]=B[M],B[M]=A,e==null||e.setFieldValue(W,X),n.value=B,f()}function b(x,M){const W=ct(t),R=Te(e==null?void 0:e.values,W);if(!Array.isArray(R)||R.length<x)return;const X=[...R],B=[...n.value];X.splice(x,0,M),B.splice(x,0,d(M)),e==null||e.setFieldValue(W,X),n.value=B,f()}function I(x){const M=ct(t);e==null||e.setFieldValue(M,x),l()}function T(x,M){const W=ct(t),R=Te(e==null?void 0:e.values,W);!Array.isArray(R)||R.length-1<x||(e==null||e.setFieldValue(`${W}[${x}]`,M),e==null||e.validate({mode:"validated-only"}))}function O(x){const M=ct(t),W=Te(e==null?void 0:e.values,M),R=aa(W)?[]:W;if(!Array.isArray(R))return;const X=[x,...R];e==null||e.stageInitialValue(M+`[${X.length-1}]`,x),e==null||e.setFieldValue(M,X),n.value.unshift(d(x)),f()}function C(x,M){const W=ct(t),R=Te(e==null?void 0:e.values,W),X=aa(R)?[]:[...R];if(!Array.isArray(R)||!(x in R)||!(M in R))return;const B=[...n.value],bt=B[x];B.splice(x,1),B.splice(M,0,bt);const A=X[x];X.splice(x,1),X.splice(M,0,A),e==null||e.setFieldValue(W,X),n.value=B,f()}const V={fields:n,remove:g,push:m,swap:v,insert:b,update:T,replace:I,prepend:O,move:C};return e.fieldArrays.push(Object.assign({path:t,reset:l},V)),wm(()=>{const x=e.fieldArrays.findIndex(M=>ct(M.path)===ct(t));x>=0&&e.fieldArrays.splice(x,1)}),V}Xs({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(t,e){const{push:n,remove:i,swap:o,insert:u,replace:a,update:l,prepend:f,move:d,fields:g}=JU(Sr(t,"name"));function m(){return{fields:g.value,push:n,remove:i,swap:o,insert:u,update:l,replace:a,prepend:f,move:d}}return e.expose({push:n,remove:i,swap:o,insert:u,update:l,replace:a,prepend:f,move:d}),()=>nh(void 0,e,m)}});const ZU=Xs({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,e){const n=Wn(tc,void 0),i=zt(()=>n==null?void 0:n.errors.value[t.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const u=t.as?Em(t.as):t.as,a=nh(u,e,o),l=Object.assign({role:"alert"},e.attrs);return!u&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?As(u||"span",l,i.value):As(u,l,a)}}}),t2=ZU;/**
  * vee-validate v4.7.3
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */const wl={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},e2=t=>{if(t)return Array.isArray(t)?t[0]:t.locale};function ec(t,e){return Array.isArray(t)?t[0]:t[e]}function Pi(t){return!!(t==null||t===""||Array.isArray(t)&&t.length===0)}const TA=(t,e)=>{if(Pi(t))return!0;const n=e2(e);if(Array.isArray(t))return t.every(o=>TA(o,{locale:n}));const i=String(t);return n?(wl[n]||wl.en).test(i):Object.keys(wl).some(o=>wl[o].test(i))},n2=(t,e)=>{const n=ec(e,"target");return String(t)===String(n)},r2=t=>{if(Pi(t))return!0;const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(t)?t.every(n=>e.test(String(n))):e.test(String(t))};function i2(t){return t==null}function o2(t){return Array.isArray(t)&&t.length===0}const SA=(t,e)=>{if(Pi(t))return!0;const n=ec(e,"length");return Array.isArray(t)?t.every(i=>SA(i,{length:n})):String(t).length<=Number(n)},AA=(t,e)=>{if(Pi(t))return!0;const n=ec(e,"max");return Array.isArray(t)?t.length>0&&t.every(i=>AA(i,{max:n})):Number(t)<=Number(n)},NA=(t,e)=>{if(Pi(t))return!0;const n=ec(e,"length");return Array.isArray(t)?t.every(i=>NA(i,{length:n})):String(t).length>=Number(n)},kA=(t,e)=>{if(Pi(t))return!0;const n=ec(e,"min");return Array.isArray(t)?t.length>0&&t.every(i=>kA(i,{min:n})):Number(t)>=Number(n)},CA=(t,e)=>Pi(t)?!0:Array.isArray(t)?t.every(n=>CA(n,e)):Array.from(e).some(n=>n==t),JI=(t,e)=>Pi(t)?!0:!CA(t,e),ZI=t=>i2(t)||o2(t)||t===!1?!1:!!String(t).trim().length,s2={install(t){t.component("VeeForm",XU),t.component("VeeField",KU),t.component("ErrorMessage",t2),er("required",ZI),er("tos",ZI),er("min",NA),er("max",SA),er("alpha_spaces",TA),er("email",r2),er("min_value",kA),er("max_value",AA),er("passwords_mismatch",n2),er("excluded",JI),er("country_excluded",JI),AU({generateMessage:e=>{const n={required:`The field ${e.field} is required.`,min:`The field ${e.field} is too short.`,max:`The field ${e.field} is too long.`,alpha_spaces:`The field ${e.field} may only contain alphabetical characters and spaces.`,email:` The field ${e.field} must be a valid email.`,min_val:`The field ${e.field} is too low.`,max_val:`The field ${e.field} is too high.`,excluded:`You are not allowed to use this value for the field ${e.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",passwords_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service"};return n[e.rule.name]?n[e.rule.name]:`The field ${e.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let ls;oa.onAuthStateChanged(()=>{ls||(ls=$R(JV),ls.use(zR()),ls.use(aU),ls.use(s2),ls.mount("#app"))});export{su as _,yt as a,or as c,_n as o};
