(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function zm(e,t){const n=Object.create(null),i=e.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function Vf(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=Ot(i)?Zx(i):Vf(i);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Ot(e))return e;if(dt(e))return e}}const Qx=/;(?![^(]*\))/g,Yx=/:([^]+)/,Jx=/\/\*.*?\*\//gs;function Zx(e){const t={};return e.replace(Jx,"").split(Qx).forEach(n=>{if(n){const i=n.split(Yx);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Hn(e){let t="";if(Ot(e))t=e;else if(ke(e))for(let n=0;n<e.length;n++){const i=Hn(e[n]);i&&(t+=i+" ")}else if(dt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const eO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tO=zm(eO);function nT(e){return!!e||e===""}const Zr=e=>Ot(e)?e:e==null?"":ke(e)||dt(e)&&(e.toString===sT||!Oe(e.toString))?JSON.stringify(e,rT,2):String(e),rT=(e,t)=>t&&t.__v_isRef?rT(e,t.value):Us(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:iT(t)?{[`Set(${t.size})`]:[...t.values()]}:dt(t)&&!ke(t)&&!uT(t)?String(t):t,ot={},Fs=[],mr=()=>{},nO=()=>!1,rO=/^on[^a-z]/,jf=e=>rO.test(e),Gm=e=>e.startsWith("onUpdate:"),cn=Object.assign,Wm=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},iO=Object.prototype.hasOwnProperty,$e=(e,t)=>iO.call(e,t),ke=Array.isArray,Us=e=>Bf(e)==="[object Map]",iT=e=>Bf(e)==="[object Set]",Oe=e=>typeof e=="function",Ot=e=>typeof e=="string",Xm=e=>typeof e=="symbol",dt=e=>e!==null&&typeof e=="object",oT=e=>dt(e)&&Oe(e.then)&&Oe(e.catch),sT=Object.prototype.toString,Bf=e=>sT.call(e),oO=e=>Bf(e).slice(8,-1),uT=e=>Bf(e)==="[object Object]",Qm=e=>Ot(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Gl=zm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},sO=/-(\w)/g,Br=qf(e=>e.replace(sO,(t,n)=>n?n.toUpperCase():"")),uO=/\B([A-Z])/g,gu=qf(e=>e.replace(uO,"-$1").toLowerCase()),$f=qf(e=>e.charAt(0).toUpperCase()+e.slice(1)),gg=qf(e=>e?`on${$f(e)}`:""),Ra=(e,t)=>!Object.is(e,t),mg=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},of=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},aT=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let b_;const aO=()=>b_||(b_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let jn;class cT{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=jn,!t&&jn&&(this.index=(jn.scopes||(jn.scopes=[])).push(this)-1)}run(t){if(this.active){const n=jn;try{return jn=this,t()}finally{jn=n}}}on(){jn=this}off(){jn=this.parent}stop(t){if(this.active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function lT(e){return new cT(e)}function cO(e,t=jn){t&&t.active&&t.effects.push(e)}function lO(){return jn}function fO(e){jn&&jn.cleanups.push(e)}const Ym=e=>{const t=new Set(e);return t.w=0,t.n=0,t},fT=e=>(e.w&ji)>0,hT=e=>(e.n&ji)>0,hO=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ji},dO=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const o=t[i];fT(o)&&!hT(o)?o.delete(e):t[n++]=o,o.w&=~ji,o.n&=~ji}t.length=n}},Kg=new WeakMap;let pa=0,ji=1;const zg=30;let pr;const xo=Symbol(""),Gg=Symbol("");class Jm{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,cO(this,i)}run(){if(!this.active)return this.fn();let t=pr,n=Pi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=pr,pr=this,Pi=!0,ji=1<<++pa,pa<=zg?hO(this):__(this),this.fn()}finally{pa<=zg&&dO(this),ji=1<<--pa,pr=this.parent,Pi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){pr===this?this.deferStop=!0:this.active&&(__(this),this.onStop&&this.onStop(),this.active=!1)}}function __(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Pi=!0;const dT=[];function mu(){dT.push(Pi),Pi=!1}function vu(){const e=dT.pop();Pi=e===void 0?!0:e}function Xn(e,t,n){if(Pi&&pr){let i=Kg.get(e);i||Kg.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=Ym()),pT(o)}}function pT(e,t){let n=!1;pa<=zg?hT(e)||(e.n|=ji,n=!fT(e)):n=!e.has(pr),n&&(e.add(pr),pr.deps.push(e))}function ii(e,t,n,i,o,s){const a=Kg.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&ke(e)){const f=aT(i);a.forEach((d,p)=>{(p==="length"||p>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":ke(e)?Qm(n)&&l.push(a.get("length")):(l.push(a.get(xo)),Us(e)&&l.push(a.get(Gg)));break;case"delete":ke(e)||(l.push(a.get(xo)),Us(e)&&l.push(a.get(Gg)));break;case"set":Us(e)&&l.push(a.get(xo));break}if(l.length===1)l[0]&&Wg(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);Wg(Ym(f))}}function Wg(e,t){const n=ke(e)?e:[...e];for(const i of n)i.computed&&E_(i);for(const i of n)i.computed||E_(i)}function E_(e,t){(e!==pr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const pO=zm("__proto__,__v_isRef,__isVue"),gT=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Xm)),gO=Zm(),mO=Zm(!1,!0),vO=Zm(!0),I_=yO();function yO(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=ze(this);for(let s=0,a=this.length;s<a;s++)Xn(i,"get",s+"");const o=i[t](...n);return o===-1||o===!1?i[t](...n.map(ze)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){mu();const i=ze(this)[t].apply(this,n);return vu(),i}}),e}function Zm(e=!1,t=!1){return function(i,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?PO:bT:t?wT:yT).get(i))return i;const a=ke(i);if(!e&&a&&$e(I_,o))return Reflect.get(I_,o,s);const l=Reflect.get(i,o,s);return(Xm(o)?gT.has(o):pO(o))||(e||Xn(i,"get",o),t)?l:ut(l)?a&&Qm(o)?l:l.value:dt(l)?e?_T(l):si(l):l}}const wO=mT(),bO=mT(!0);function mT(e=!1){return function(n,i,o,s){let a=n[i];if(Hs(a)&&ut(a)&&!ut(o))return!1;if(!e&&(!sf(o)&&!Hs(o)&&(a=ze(a),o=ze(o)),!ke(n)&&ut(a)&&!ut(o)))return a.value=o,!0;const l=ke(n)&&Qm(i)?Number(i)<n.length:$e(n,i),f=Reflect.set(n,i,o,s);return n===ze(s)&&(l?Ra(o,a)&&ii(n,"set",i,o):ii(n,"add",i,o)),f}}function _O(e,t){const n=$e(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&ii(e,"delete",t,void 0),i}function EO(e,t){const n=Reflect.has(e,t);return(!Xm(t)||!gT.has(t))&&Xn(e,"has",t),n}function IO(e){return Xn(e,"iterate",ke(e)?"length":xo),Reflect.ownKeys(e)}const vT={get:gO,set:wO,deleteProperty:_O,has:EO,ownKeys:IO},TO={get:vO,set(e,t){return!0},deleteProperty(e,t){return!0}},SO=cn({},vT,{get:mO,set:bO}),ev=e=>e,Hf=e=>Reflect.getPrototypeOf(e);function Al(e,t,n=!1,i=!1){e=e.__v_raw;const o=ze(e),s=ze(t);n||(t!==s&&Xn(o,"get",t),Xn(o,"get",s));const{has:a}=Hf(o),l=i?ev:n?rv:xa;if(a.call(o,t))return l(e.get(t));if(a.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function kl(e,t=!1){const n=this.__v_raw,i=ze(n),o=ze(e);return t||(e!==o&&Xn(i,"has",e),Xn(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Cl(e,t=!1){return e=e.__v_raw,!t&&Xn(ze(e),"iterate",xo),Reflect.get(e,"size",e)}function T_(e){e=ze(e);const t=ze(this);return Hf(t).has.call(t,e)||(t.add(e),ii(t,"add",e,e)),this}function S_(e,t){t=ze(t);const n=ze(this),{has:i,get:o}=Hf(n);let s=i.call(n,e);s||(e=ze(e),s=i.call(n,e));const a=o.call(n,e);return n.set(e,t),s?Ra(t,a)&&ii(n,"set",e,t):ii(n,"add",e,t),this}function A_(e){const t=ze(this),{has:n,get:i}=Hf(t);let o=n.call(t,e);o||(e=ze(e),o=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return o&&ii(t,"delete",e,void 0),s}function k_(){const e=ze(this),t=e.size!==0,n=e.clear();return t&&ii(e,"clear",void 0,void 0),n}function Nl(e,t){return function(i,o){const s=this,a=s.__v_raw,l=ze(a),f=t?ev:e?rv:xa;return!e&&Xn(l,"iterate",xo),a.forEach((d,p)=>i.call(o,f(d),f(p),s))}}function Rl(e,t,n){return function(...i){const o=this.__v_raw,s=ze(o),a=Us(s),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,d=o[e](...i),p=n?ev:t?rv:xa;return!t&&Xn(s,"iterate",f?Gg:xo),{next(){const{value:m,done:v}=d.next();return v?{value:m,done:v}:{value:l?[p(m[0]),p(m[1])]:p(m),done:v}},[Symbol.iterator](){return this}}}}function wi(e){return function(...t){return e==="delete"?!1:this}}function AO(){const e={get(s){return Al(this,s)},get size(){return Cl(this)},has:kl,add:T_,set:S_,delete:A_,clear:k_,forEach:Nl(!1,!1)},t={get(s){return Al(this,s,!1,!0)},get size(){return Cl(this)},has:kl,add:T_,set:S_,delete:A_,clear:k_,forEach:Nl(!1,!0)},n={get(s){return Al(this,s,!0)},get size(){return Cl(this,!0)},has(s){return kl.call(this,s,!0)},add:wi("add"),set:wi("set"),delete:wi("delete"),clear:wi("clear"),forEach:Nl(!0,!1)},i={get(s){return Al(this,s,!0,!0)},get size(){return Cl(this,!0)},has(s){return kl.call(this,s,!0)},add:wi("add"),set:wi("set"),delete:wi("delete"),clear:wi("clear"),forEach:Nl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Rl(s,!1,!1),n[s]=Rl(s,!0,!1),t[s]=Rl(s,!1,!0),i[s]=Rl(s,!0,!0)}),[e,n,t,i]}const[kO,CO,NO,RO]=AO();function tv(e,t){const n=t?e?RO:NO:e?CO:kO;return(i,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get($e(n,o)&&o in i?n:i,o,s)}const xO={get:tv(!1,!1)},OO={get:tv(!1,!0)},DO={get:tv(!0,!1)},yT=new WeakMap,wT=new WeakMap,bT=new WeakMap,PO=new WeakMap;function LO(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function MO(e){return e.__v_skip||!Object.isExtensible(e)?0:LO(oO(e))}function si(e){return Hs(e)?e:nv(e,!1,vT,xO,yT)}function FO(e){return nv(e,!1,SO,OO,wT)}function _T(e){return nv(e,!0,TO,DO,bT)}function nv(e,t,n,i,o){if(!dt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=MO(e);if(a===0)return e;const l=new Proxy(e,a===2?i:n);return o.set(e,l),l}function Li(e){return Hs(e)?Li(e.__v_raw):!!(e&&e.__v_isReactive)}function Hs(e){return!!(e&&e.__v_isReadonly)}function sf(e){return!!(e&&e.__v_isShallow)}function ET(e){return Li(e)||Hs(e)}function ze(e){const t=e&&e.__v_raw;return t?ze(t):e}function Uo(e){return of(e,"__v_skip",!0),e}const xa=e=>dt(e)?si(e):e,rv=e=>dt(e)?_T(e):e;function IT(e){Pi&&pr&&(e=ze(e),pT(e.dep||(e.dep=Ym())))}function TT(e,t){e=ze(e),e.dep&&Wg(e.dep)}function ut(e){return!!(e&&e.__v_isRef===!0)}function xn(e){return ST(e,!1)}function UO(e){return ST(e,!0)}function ST(e,t){return ut(e)?e:new VO(e,t)}class VO{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ze(t),this._value=n?t:xa(t)}get value(){return IT(this),this._value}set value(t){const n=this.__v_isShallow||sf(t)||Hs(t);t=n?t:ze(t),Ra(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:xa(t),TT(this))}}function fe(e){return ut(e)?e.value:e}const jO={get:(e,t,n)=>fe(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return ut(o)&&!ut(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function AT(e){return Li(e)?e:new Proxy(e,jO)}function BO(e){const t=ke(e)?new Array(e.length):{};for(const n in e)t[n]=Mr(e,n);return t}class qO{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Mr(e,t,n){const i=e[t];return ut(i)?i:new qO(e,t,n)}var kT;class $O{constructor(t,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[kT]=!1,this._dirty=!0,this.effect=new Jm(t,()=>{this._dirty||(this._dirty=!0,TT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=ze(this);return IT(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}kT="__v_isReadonly";function HO(e,t,n=!1){let i,o;const s=Oe(e);return s?(i=e,o=mr):(i=e.get,o=e.set),new $O(i,o,s||!o,n)}function Mi(e,t,n,i){let o;try{o=i?e(...i):e()}catch(s){Kf(s,t,n)}return o}function ir(e,t,n,i){if(Oe(e)){const s=Mi(e,t,n,i);return s&&oT(s)&&s.catch(a=>{Kf(a,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(ir(e[s],t,n,i));return o}function Kf(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,l=n;for(;s;){const d=s.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,a,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){Mi(f,null,10,[e,a,l]);return}}KO(e,n,o,i)}function KO(e,t,n,i=!0){console.error(e)}let Oa=!1,Xg=!1;const sn=[];let Fr=0;const Vs=[];let Qr=null,Eo=0;const CT=Promise.resolve();let iv=null;function Di(e){const t=iv||CT;return e?t.then(this?e.bind(this):e):t}function zO(e){let t=Fr+1,n=sn.length;for(;t<n;){const i=t+n>>>1;Da(sn[i])<e?t=i+1:n=i}return t}function ov(e){(!sn.length||!sn.includes(e,Oa&&e.allowRecurse?Fr+1:Fr))&&(e.id==null?sn.push(e):sn.splice(zO(e.id),0,e),NT())}function NT(){!Oa&&!Xg&&(Xg=!0,iv=CT.then(xT))}function GO(e){const t=sn.indexOf(e);t>Fr&&sn.splice(t,1)}function WO(e){ke(e)?Vs.push(...e):(!Qr||!Qr.includes(e,e.allowRecurse?Eo+1:Eo))&&Vs.push(e),NT()}function C_(e,t=Oa?Fr+1:0){for(;t<sn.length;t++){const n=sn[t];n&&n.pre&&(sn.splice(t,1),t--,n())}}function RT(e){if(Vs.length){const t=[...new Set(Vs)];if(Vs.length=0,Qr){Qr.push(...t);return}for(Qr=t,Qr.sort((n,i)=>Da(n)-Da(i)),Eo=0;Eo<Qr.length;Eo++)Qr[Eo]();Qr=null,Eo=0}}const Da=e=>e.id==null?1/0:e.id,XO=(e,t)=>{const n=Da(e)-Da(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function xT(e){Xg=!1,Oa=!0,sn.sort(XO);const t=mr;try{for(Fr=0;Fr<sn.length;Fr++){const n=sn[Fr];n&&n.active!==!1&&Mi(n,null,14)}}finally{Fr=0,sn.length=0,RT(),Oa=!1,iv=null,(sn.length||Vs.length)&&xT()}}function QO(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||ot;let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in i){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:m,trim:v}=i[p]||ot;v&&(o=n.map(b=>Ot(b)?b.trim():b)),m&&(o=n.map(aT))}let l,f=i[l=gg(t)]||i[l=gg(Br(t))];!f&&s&&(f=i[l=gg(gu(t))]),f&&ir(f,e,6,o);const d=i[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,ir(d,e,6,o)}}function OT(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const s=e.emits;let a={},l=!1;if(!Oe(e)){const f=d=>{const p=OT(d,t,!0);p&&(l=!0,cn(a,p))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(dt(e)&&i.set(e,null),null):(ke(s)?s.forEach(f=>a[f]=null):cn(a,s),dt(e)&&i.set(e,a),a)}function zf(e,t){return!e||!jf(t)?!1:(t=t.slice(2).replace(/Once$/,""),$e(e,t[0].toLowerCase()+t.slice(1))||$e(e,gu(t))||$e(e,t))}let Kn=null,DT=null;function uf(e){const t=Kn;return Kn=e,DT=e&&e.type.__scopeId||null,t}function ei(e,t=Kn,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&V_(-1);const s=uf(t);let a;try{a=e(...o)}finally{uf(s),i._d&&V_(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function vg(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[a],slots:l,attrs:f,emit:d,render:p,renderCache:m,data:v,setupState:b,ctx:_,inheritAttrs:I}=e;let N,R;const P=uf(e);try{if(n.shapeFlag&4){const L=o||i;N=Lr(p.call(L,L,m,s,b,v,_)),R=f}else{const L=t;N=Lr(L.length>1?L(s,{attrs:f,slots:l,emit:d}):L(s,null)),R=t.props?f:YO(f)}}catch(L){ya.length=0,Kf(L,e,1),N=Te(vr)}let C=N;if(R&&I!==!1){const L=Object.keys(R),{shapeFlag:B}=C;L.length&&B&7&&(a&&L.some(Gm)&&(R=JO(R,a)),C=Bi(C,R))}return n.dirs&&(C=Bi(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),N=C,uf(P),N}const YO=e=>{let t;for(const n in e)(n==="class"||n==="style"||jf(n))&&((t||(t={}))[n]=e[n]);return t},JO=(e,t)=>{const n={};for(const i in e)(!Gm(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function ZO(e,t,n){const{props:i,children:o,component:s}=e,{props:a,children:l,patchFlag:f}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?N_(i,a,d):!!a;if(f&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const v=p[m];if(a[v]!==i[v]&&!zf(d,v))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?N_(i,a,d):!0:!!a;return!1}function N_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const s=i[o];if(t[s]!==e[s]&&!zf(n,s))return!0}return!1}function eD({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const tD=e=>e.__isSuspense;function nD(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):WO(e)}function js(e,t){if(Bt){let n=Bt.provides;const i=Bt.parent&&Bt.parent.provides;i===n&&(n=Bt.provides=Object.create(i)),n[e]=t}}function or(e,t,n=!1){const i=Bt||Kn;if(i){const o=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Oe(t)?t.call(i.proxy):t}}function rD(e,t){return sv(e,null,t)}const xl={};function Qt(e,t,n){return sv(e,t,n)}function sv(e,t,{immediate:n,deep:i,flush:o,onTrack:s,onTrigger:a}=ot){const l=Bt;let f,d=!1,p=!1;if(ut(e)?(f=()=>e.value,d=sf(e)):Li(e)?(f=()=>e,i=!0):ke(e)?(p=!0,d=e.some(C=>Li(C)||sf(C)),f=()=>e.map(C=>{if(ut(C))return C.value;if(Li(C))return Ao(C);if(Oe(C))return Mi(C,l,2)})):Oe(e)?t?f=()=>Mi(e,l,2):f=()=>{if(!(l&&l.isUnmounted))return m&&m(),ir(e,l,3,[v])}:f=mr,t&&i){const C=f;f=()=>Ao(C())}let m,v=C=>{m=R.onStop=()=>{Mi(C,l,4)}},b;if(Ma)if(v=mr,t?n&&ir(t,l,3,[f(),p?[]:void 0,v]):f(),o==="sync"){const C=WD();b=C.__watcherHandles||(C.__watcherHandles=[])}else return mr;let _=p?new Array(e.length).fill(xl):xl;const I=()=>{if(R.active)if(t){const C=R.run();(i||d||(p?C.some((L,B)=>Ra(L,_[B])):Ra(C,_)))&&(m&&m(),ir(t,l,3,[C,_===xl?void 0:p&&_[0]===xl?[]:_,v]),_=C)}else R.run()};I.allowRecurse=!!t;let N;o==="sync"?N=I:o==="post"?N=()=>Cn(I,l&&l.suspense):(I.pre=!0,l&&(I.id=l.uid),N=()=>ov(I));const R=new Jm(f,N);t?n?I():_=R.run():o==="post"?Cn(R.run.bind(R),l&&l.suspense):R.run();const P=()=>{R.stop(),l&&l.scope&&Wm(l.scope.effects,R)};return b&&b.push(P),P}function iD(e,t,n){const i=this.proxy,o=Ot(e)?e.includes(".")?PT(i,e):()=>i[e]:e.bind(i,i);let s;Oe(t)?s=t:(s=t.handler,n=t);const a=Bt;Ks(this);const l=sv(o,s.bind(i),n);return a?Ks(a):Oo(),l}function PT(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function Ao(e,t){if(!dt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ut(e))Ao(e.value,t);else if(ke(e))for(let n=0;n<e.length;n++)Ao(e[n],t);else if(iT(e)||Us(e))e.forEach(n=>{Ao(n,t)});else if(uT(e))for(const n in e)Ao(e[n],t);return e}function oD(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xf(()=>{e.isMounted=!0}),Qf(()=>{e.isUnmounting=!0}),e}const tr=[Function,Array],sD={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:tr,onEnter:tr,onAfterEnter:tr,onEnterCancelled:tr,onBeforeLeave:tr,onLeave:tr,onAfterLeave:tr,onLeaveCancelled:tr,onBeforeAppear:tr,onAppear:tr,onAfterAppear:tr,onAppearCancelled:tr},setup(e,{slots:t}){const n=eh(),i=oD();let o;return()=>{const s=t.default&&MT(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const I of s)if(I.type!==vr){a=I;break}}const l=ze(e),{mode:f}=l;if(i.isLeaving)return yg(a);const d=R_(a);if(!d)return yg(a);const p=Qg(d,l,i,n);Yg(d,p);const m=n.subTree,v=m&&R_(m);let b=!1;const{getTransitionKey:_}=d.type;if(_){const I=_();o===void 0?o=I:I!==o&&(o=I,b=!0)}if(v&&v.type!==vr&&(!Io(d,v)||b)){const I=Qg(v,l,i,n);if(Yg(v,I),f==="out-in")return i.isLeaving=!0,I.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},yg(a);f==="in-out"&&d.type!==vr&&(I.delayLeave=(N,R,P)=>{const C=LT(i,v);C[String(v.key)]=v,N._leaveCb=()=>{R(),N._leaveCb=void 0,delete p.delayedLeave},p.delayedLeave=P})}return a}}},uD=sD;function LT(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function Qg(e,t,n,i){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:m,onLeave:v,onAfterLeave:b,onLeaveCancelled:_,onBeforeAppear:I,onAppear:N,onAfterAppear:R,onAppearCancelled:P}=t,C=String(e.key),L=LT(n,e),B=(D,ue)=>{D&&ir(D,i,9,ue)},O=(D,ue)=>{const S=ue[1];B(D,ue),ke(D)?D.every(Ae=>Ae.length<=1)&&S():D.length<=1&&S()},W={mode:s,persisted:a,beforeEnter(D){let ue=l;if(!n.isMounted)if(o)ue=I||l;else return;D._leaveCb&&D._leaveCb(!0);const S=L[C];S&&Io(e,S)&&S.el._leaveCb&&S.el._leaveCb(),B(ue,[D])},enter(D){let ue=f,S=d,Ae=p;if(!n.isMounted)if(o)ue=N||f,S=R||d,Ae=P||p;else return;let De=!1;const Ge=D._enterCb=We=>{De||(De=!0,We?B(Ae,[D]):B(S,[D]),W.delayedLeave&&W.delayedLeave(),D._enterCb=void 0)};ue?O(ue,[D,Ge]):Ge()},leave(D,ue){const S=String(e.key);if(D._enterCb&&D._enterCb(!0),n.isUnmounting)return ue();B(m,[D]);let Ae=!1;const De=D._leaveCb=Ge=>{Ae||(Ae=!0,ue(),Ge?B(_,[D]):B(b,[D]),D._leaveCb=void 0,L[S]===e&&delete L[S])};L[S]=e,v?O(v,[D,De]):De()},clone(D){return Qg(D,t,n,i)}};return W}function yg(e){if(Gf(e))return e=Bi(e),e.children=null,e}function R_(e){return Gf(e)?e.children?e.children[0]:void 0:e}function Yg(e,t){e.shapeFlag&6&&e.component?Yg(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function MT(e,t=!1,n){let i=[],o=0;for(let s=0;s<e.length;s++){let a=e[s];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Mt?(a.patchFlag&128&&o++,i=i.concat(MT(a.children,t,l))):(t||a.type!==vr)&&i.push(l!=null?Bi(a,{key:l}):a)}if(o>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function yu(e){return Oe(e)?{setup:e,name:e.name}:e}const Wl=e=>!!e.type.__asyncLoader,Gf=e=>e.type.__isKeepAlive;function aD(e,t){FT(e,"a",t)}function cD(e,t){FT(e,"da",t)}function FT(e,t,n=Bt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Wf(t,i,n),n){let o=n.parent;for(;o&&o.parent;)Gf(o.parent.vnode)&&lD(i,t,n,o),o=o.parent}}function lD(e,t,n,i){const o=Wf(t,e,i,!0);UT(()=>{Wm(i[t],o)},n)}function Wf(e,t,n=Bt,i=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;mu(),Ks(n);const l=ir(t,n,e,a);return Oo(),vu(),l});return i?o.unshift(s):o.push(s),s}}const ui=e=>(t,n=Bt)=>(!Ma||e==="sp")&&Wf(e,(...i)=>t(...i),n),fD=ui("bm"),Xf=ui("m"),hD=ui("bu"),dD=ui("u"),Qf=ui("bum"),UT=ui("um"),pD=ui("sp"),gD=ui("rtg"),mD=ui("rtc");function vD(e,t=Bt){Wf("ec",e,t)}function x_(e,t){const n=Kn;if(n===null)return e;const i=th(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,l,f,d=ot]=t[s];a&&(Oe(a)&&(a={mounted:a,updated:a}),a.deep&&Ao(l),o.push({dir:a,instance:i,value:l,oldValue:void 0,arg:f,modifiers:d}))}return e}function vo(e,t,n,i){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let f=l.dir[i];f&&(mu(),ir(f,n,8,[e.el,l,e,t]),vu())}}const uv="components";function $t(e,t){return jT(uv,e,!0,t)||e}const VT=Symbol();function av(e){return Ot(e)?jT(uv,e,!1)||e:e||VT}function jT(e,t,n=!0,i=!1){const o=Kn||Bt;if(o){const s=o.type;if(e===uv){const l=KD(s,!1);if(l&&(l===t||l===Br(t)||l===$f(Br(t))))return s}const a=O_(o[e]||s[e],t)||O_(o.appContext[e],t);return!a&&i?s:a}}function O_(e,t){return e&&(e[t]||e[Br(t)]||e[$f(Br(t))])}function Yf(e,t,n,i){let o;const s=n&&n[i];if(ke(e)||Ot(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,s&&s[a])}else if(dt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=t(e[d],d,l,s&&s[l])}}else o=[];return n&&(n[i]=o),o}const Jg=e=>e?ZT(e)?th(e)||e.proxy:Jg(e.parent):null,va=cn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Jg(e.parent),$root:e=>Jg(e.root),$emit:e=>e.emit,$options:e=>cv(e),$forceUpdate:e=>e.f||(e.f=()=>ov(e.update)),$nextTick:e=>e.n||(e.n=Di.bind(e.proxy)),$watch:e=>iD.bind(e)}),wg=(e,t)=>e!==ot&&!e.__isScriptSetup&&$e(e,t),yD={get({_:e},t){const{ctx:n,setupState:i,data:o,props:s,accessCache:a,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(wg(i,t))return a[t]=1,i[t];if(o!==ot&&$e(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&$e(d,t))return a[t]=3,s[t];if(n!==ot&&$e(n,t))return a[t]=4,n[t];Zg&&(a[t]=0)}}const p=va[t];let m,v;if(p)return t==="$attrs"&&Xn(e,"get",t),p(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==ot&&$e(n,t))return a[t]=4,n[t];if(v=f.config.globalProperties,$e(v,t))return v[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;return wg(o,t)?(o[t]=n,!0):i!==ot&&$e(i,t)?(i[t]=n,!0):$e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==ot&&$e(e,a)||wg(t,a)||(l=s[0])&&$e(l,a)||$e(i,a)||$e(va,a)||$e(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:$e(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Zg=!0;function wD(e){const t=cv(e),n=e.proxy,i=e.ctx;Zg=!1,t.beforeCreate&&D_(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:l,provide:f,inject:d,created:p,beforeMount:m,mounted:v,beforeUpdate:b,updated:_,activated:I,deactivated:N,beforeDestroy:R,beforeUnmount:P,destroyed:C,unmounted:L,render:B,renderTracked:O,renderTriggered:W,errorCaptured:D,serverPrefetch:ue,expose:S,inheritAttrs:Ae,components:De,directives:Ge,filters:We}=t;if(d&&bD(d,i,null,e.appContext.config.unwrapInjectedRef),a)for(const Ne in a){const we=a[Ne];Oe(we)&&(i[Ne]=we.bind(n))}if(o){const Ne=o.call(n,n);dt(Ne)&&(e.data=si(Ne))}if(Zg=!0,s)for(const Ne in s){const we=s[Ne],It=Oe(we)?we.bind(n,n):Oe(we.get)?we.get.bind(n,n):mr,pt=!Oe(we)&&Oe(we.set)?we.set.bind(n):mr,gt=Xe({get:It,set:pt});Object.defineProperty(i,Ne,{enumerable:!0,configurable:!0,get:()=>gt.value,set:at=>gt.value=at})}if(l)for(const Ne in l)BT(l[Ne],i,n,Ne);if(f){const Ne=Oe(f)?f.call(n):f;Reflect.ownKeys(Ne).forEach(we=>{js(we,Ne[we])})}p&&D_(p,e,"c");function Ce(Ne,we){ke(we)?we.forEach(It=>Ne(It.bind(n))):we&&Ne(we.bind(n))}if(Ce(fD,m),Ce(Xf,v),Ce(hD,b),Ce(dD,_),Ce(aD,I),Ce(cD,N),Ce(vD,D),Ce(mD,O),Ce(gD,W),Ce(Qf,P),Ce(UT,L),Ce(pD,ue),ke(S))if(S.length){const Ne=e.exposed||(e.exposed={});S.forEach(we=>{Object.defineProperty(Ne,we,{get:()=>n[we],set:It=>n[we]=It})})}else e.exposed||(e.exposed={});B&&e.render===mr&&(e.render=B),Ae!=null&&(e.inheritAttrs=Ae),De&&(e.components=De),Ge&&(e.directives=Ge)}function bD(e,t,n=mr,i=!1){ke(e)&&(e=em(e));for(const o in e){const s=e[o];let a;dt(s)?"default"in s?a=or(s.from||o,s.default,!0):a=or(s.from||o):a=or(s),ut(a)&&i?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function D_(e,t,n){ir(ke(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function BT(e,t,n,i){const o=i.includes(".")?PT(n,i):()=>n[i];if(Ot(e)){const s=t[e];Oe(s)&&Qt(o,s)}else if(Oe(e))Qt(o,e.bind(n));else if(dt(e))if(ke(e))e.forEach(s=>BT(s,t,n,i));else{const s=Oe(e.handler)?e.handler.bind(n):t[e.handler];Oe(s)&&Qt(o,s,e)}}function cv(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!i?f=t:(f={},o.length&&o.forEach(d=>af(f,d,a,!0)),af(f,t,a)),dt(t)&&s.set(t,f),f}function af(e,t,n,i=!1){const{mixins:o,extends:s}=t;s&&af(e,s,n,!0),o&&o.forEach(a=>af(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const l=_D[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const _D={data:P_,props:bo,emits:bo,methods:bo,computed:bo,beforeCreate:vn,created:vn,beforeMount:vn,mounted:vn,beforeUpdate:vn,updated:vn,beforeDestroy:vn,beforeUnmount:vn,destroyed:vn,unmounted:vn,activated:vn,deactivated:vn,errorCaptured:vn,serverPrefetch:vn,components:bo,directives:bo,watch:ID,provide:P_,inject:ED};function P_(e,t){return t?e?function(){return cn(Oe(e)?e.call(this,this):e,Oe(t)?t.call(this,this):t)}:t:e}function ED(e,t){return bo(em(e),em(t))}function em(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function vn(e,t){return e?[...new Set([].concat(e,t))]:t}function bo(e,t){return e?cn(cn(Object.create(null),e),t):t}function ID(e,t){if(!e)return t;if(!t)return e;const n=cn(Object.create(null),e);for(const i in t)n[i]=vn(e[i],t[i]);return n}function TD(e,t,n,i=!1){const o={},s={};of(s,Zf,1),e.propsDefaults=Object.create(null),qT(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=i?o:FO(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function SD(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,l=ze(o),[f]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let m=0;m<p.length;m++){let v=p[m];if(zf(e.emitsOptions,v))continue;const b=t[v];if(f)if($e(s,v))b!==s[v]&&(s[v]=b,d=!0);else{const _=Br(v);o[_]=tm(f,l,_,b,e,!1)}else b!==s[v]&&(s[v]=b,d=!0)}}}else{qT(e,t,o,s)&&(d=!0);let p;for(const m in l)(!t||!$e(t,m)&&((p=gu(m))===m||!$e(t,p)))&&(f?n&&(n[m]!==void 0||n[p]!==void 0)&&(o[m]=tm(f,l,m,void 0,e,!0)):delete o[m]);if(s!==l)for(const m in s)(!t||!$e(t,m))&&(delete s[m],d=!0)}d&&ii(e,"set","$attrs")}function qT(e,t,n,i){const[o,s]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(Gl(f))continue;const d=t[f];let p;o&&$e(o,p=Br(f))?!s||!s.includes(p)?n[p]=d:(l||(l={}))[p]=d:zf(e.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(s){const f=ze(n),d=l||ot;for(let p=0;p<s.length;p++){const m=s[p];n[m]=tm(o,f,m,d[m],e,!$e(d,m))}}return a}function tm(e,t,n,i,o,s){const a=e[n];if(a!=null){const l=$e(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&Oe(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(Ks(o),i=d[n]=f.call(null,t),Oo())}else i=f}a[0]&&(s&&!l?i=!1:a[1]&&(i===""||i===gu(n))&&(i=!0))}return i}function $T(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const s=e.props,a={},l=[];let f=!1;if(!Oe(e)){const p=m=>{f=!0;const[v,b]=$T(m,t,!0);cn(a,v),b&&l.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!s&&!f)return dt(e)&&i.set(e,Fs),Fs;if(ke(s))for(let p=0;p<s.length;p++){const m=Br(s[p]);L_(m)&&(a[m]=ot)}else if(s)for(const p in s){const m=Br(p);if(L_(m)){const v=s[p],b=a[m]=ke(v)||Oe(v)?{type:v}:Object.assign({},v);if(b){const _=U_(Boolean,b.type),I=U_(String,b.type);b[0]=_>-1,b[1]=I<0||_<I,(_>-1||$e(b,"default"))&&l.push(m)}}}const d=[a,l];return dt(e)&&i.set(e,d),d}function L_(e){return e[0]!=="$"}function M_(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function F_(e,t){return M_(e)===M_(t)}function U_(e,t){return ke(t)?t.findIndex(n=>F_(n,e)):Oe(t)&&F_(t,e)?0:-1}const HT=e=>e[0]==="_"||e==="$stable",lv=e=>ke(e)?e.map(Lr):[Lr(e)],AD=(e,t,n)=>{if(t._n)return t;const i=ei((...o)=>lv(t(...o)),n);return i._c=!1,i},KT=(e,t,n)=>{const i=e._ctx;for(const o in e){if(HT(o))continue;const s=e[o];if(Oe(s))t[o]=AD(o,s,i);else if(s!=null){const a=lv(s);t[o]=()=>a}}},zT=(e,t)=>{const n=lv(t);e.slots.default=()=>n},kD=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ze(t),of(t,"_",n)):KT(t,e.slots={})}else e.slots={},t&&zT(e,t);of(e.slots,Zf,1)},CD=(e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,a=ot;if(i.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(cn(o,t),!n&&l===1&&delete o._):(s=!t.$stable,KT(t,o)),a=t}else t&&(zT(e,t),a={default:1});if(s)for(const l in o)!HT(l)&&!(l in a)&&delete o[l]};function GT(){return{app:null,config:{isNativeTag:nO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ND=0;function RD(e,t){return function(i,o=null){Oe(i)||(i=Object.assign({},i)),o!=null&&!dt(o)&&(o=null);const s=GT(),a=new Set;let l=!1;const f=s.app={_uid:ND++,_component:i,_props:o,_container:null,_context:s,_instance:null,version:XD,get config(){return s.config},set config(d){},use(d,...p){return a.has(d)||(d&&Oe(d.install)?(a.add(d),d.install(f,...p)):Oe(d)&&(a.add(d),d(f,...p))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,p){return p?(s.components[d]=p,f):s.components[d]},directive(d,p){return p?(s.directives[d]=p,f):s.directives[d]},mount(d,p,m){if(!l){const v=Te(i,o);return v.appContext=s,p&&t?t(v,d):e(v,d,m),l=!0,f._container=d,d.__vue_app__=f,th(v.component)||v.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,p){return s.provides[d]=p,f}};return f}}function nm(e,t,n,i,o=!1){if(ke(e)){e.forEach((v,b)=>nm(v,t&&(ke(t)?t[b]:t),n,i,o));return}if(Wl(i)&&!o)return;const s=i.shapeFlag&4?th(i.component)||i.component.proxy:i.el,a=o?null:s,{i:l,r:f}=e,d=t&&t.r,p=l.refs===ot?l.refs={}:l.refs,m=l.setupState;if(d!=null&&d!==f&&(Ot(d)?(p[d]=null,$e(m,d)&&(m[d]=null)):ut(d)&&(d.value=null)),Oe(f))Mi(f,l,12,[a,p]);else{const v=Ot(f),b=ut(f);if(v||b){const _=()=>{if(e.f){const I=v?$e(m,f)?m[f]:p[f]:f.value;o?ke(I)&&Wm(I,s):ke(I)?I.includes(s)||I.push(s):v?(p[f]=[s],$e(m,f)&&(m[f]=p[f])):(f.value=[s],e.k&&(p[e.k]=f.value))}else v?(p[f]=a,$e(m,f)&&(m[f]=a)):b&&(f.value=a,e.k&&(p[e.k]=a))};a?(_.id=-1,Cn(_,n)):_()}}}const Cn=nD;function xD(e){return OD(e)}function OD(e,t){const n=aO();n.__VUE__=!0;const{insert:i,remove:o,patchProp:s,createElement:a,createText:l,createComment:f,setText:d,setElementText:p,parentNode:m,nextSibling:v,setScopeId:b=mr,insertStaticContent:_}=e,I=(E,A,M,j=null,$=null,te=null,se=!1,ne=null,k=!!A.dynamicChildren)=>{if(E===A)return;E&&!Io(E,A)&&(j=G(E),at(E,$,te,!0),E=null),A.patchFlag===-2&&(k=!1,A.dynamicChildren=null);const{type:x,ref:X,shapeFlag:Q}=A;switch(x){case Jf:N(E,A,M,j);break;case vr:R(E,A,M,j);break;case Xl:E==null&&P(A,M,j,se);break;case Mt:De(E,A,M,j,$,te,se,ne,k);break;default:Q&1?B(E,A,M,j,$,te,se,ne,k):Q&6?Ge(E,A,M,j,$,te,se,ne,k):(Q&64||Q&128)&&x.process(E,A,M,j,$,te,se,ne,k,Pe)}X!=null&&$&&nm(X,E&&E.ref,te,A||E,!A)},N=(E,A,M,j)=>{if(E==null)i(A.el=l(A.children),M,j);else{const $=A.el=E.el;A.children!==E.children&&d($,A.children)}},R=(E,A,M,j)=>{E==null?i(A.el=f(A.children||""),M,j):A.el=E.el},P=(E,A,M,j)=>{[E.el,E.anchor]=_(E.children,A,M,j,E.el,E.anchor)},C=({el:E,anchor:A},M,j)=>{let $;for(;E&&E!==A;)$=v(E),i(E,M,j),E=$;i(A,M,j)},L=({el:E,anchor:A})=>{let M;for(;E&&E!==A;)M=v(E),o(E),E=M;o(A)},B=(E,A,M,j,$,te,se,ne,k)=>{se=se||A.type==="svg",E==null?O(A,M,j,$,te,se,ne,k):ue(E,A,$,te,se,ne,k)},O=(E,A,M,j,$,te,se,ne)=>{let k,x;const{type:X,props:Q,shapeFlag:ie,transition:oe,dirs:le}=E;if(k=E.el=a(E.type,te,Q&&Q.is,Q),ie&8?p(k,E.children):ie&16&&D(E.children,k,null,j,$,te&&X!=="foreignObject",se,ne),le&&vo(E,null,j,"created"),Q){for(const Re in Q)Re!=="value"&&!Gl(Re)&&s(k,Re,null,Q[Re],te,E.children,j,$,U);"value"in Q&&s(k,"value",null,Q.value),(x=Q.onVnodeBeforeMount)&&Dr(x,j,E)}W(k,E,E.scopeId,se,j),le&&vo(E,null,j,"beforeMount");const ae=(!$||$&&!$.pendingBranch)&&oe&&!oe.persisted;ae&&oe.beforeEnter(k),i(k,A,M),((x=Q&&Q.onVnodeMounted)||ae||le)&&Cn(()=>{x&&Dr(x,j,E),ae&&oe.enter(k),le&&vo(E,null,j,"mounted")},$)},W=(E,A,M,j,$)=>{if(M&&b(E,M),j)for(let te=0;te<j.length;te++)b(E,j[te]);if($){let te=$.subTree;if(A===te){const se=$.vnode;W(E,se,se.scopeId,se.slotScopeIds,$.parent)}}},D=(E,A,M,j,$,te,se,ne,k=0)=>{for(let x=k;x<E.length;x++){const X=E[x]=ne?Si(E[x]):Lr(E[x]);I(null,X,A,M,j,$,te,se,ne)}},ue=(E,A,M,j,$,te,se)=>{const ne=A.el=E.el;let{patchFlag:k,dynamicChildren:x,dirs:X}=A;k|=E.patchFlag&16;const Q=E.props||ot,ie=A.props||ot;let oe;M&&yo(M,!1),(oe=ie.onVnodeBeforeUpdate)&&Dr(oe,M,A,E),X&&vo(A,E,M,"beforeUpdate"),M&&yo(M,!0);const le=$&&A.type!=="foreignObject";if(x?S(E.dynamicChildren,x,ne,M,j,le,te):se||we(E,A,ne,null,M,j,le,te,!1),k>0){if(k&16)Ae(ne,A,Q,ie,M,j,$);else if(k&2&&Q.class!==ie.class&&s(ne,"class",null,ie.class,$),k&4&&s(ne,"style",Q.style,ie.style,$),k&8){const ae=A.dynamicProps;for(let Re=0;Re<ae.length;Re++){const Le=ae[Re],tn=Q[Le],dn=ie[Le];(dn!==tn||Le==="value")&&s(ne,Le,tn,dn,$,E.children,M,j,U)}}k&1&&E.children!==A.children&&p(ne,A.children)}else!se&&x==null&&Ae(ne,A,Q,ie,M,j,$);((oe=ie.onVnodeUpdated)||X)&&Cn(()=>{oe&&Dr(oe,M,A,E),X&&vo(A,E,M,"updated")},j)},S=(E,A,M,j,$,te,se)=>{for(let ne=0;ne<A.length;ne++){const k=E[ne],x=A[ne],X=k.el&&(k.type===Mt||!Io(k,x)||k.shapeFlag&70)?m(k.el):M;I(k,x,X,null,j,$,te,se,!0)}},Ae=(E,A,M,j,$,te,se)=>{if(M!==j){if(M!==ot)for(const ne in M)!Gl(ne)&&!(ne in j)&&s(E,ne,M[ne],null,se,A.children,$,te,U);for(const ne in j){if(Gl(ne))continue;const k=j[ne],x=M[ne];k!==x&&ne!=="value"&&s(E,ne,x,k,se,A.children,$,te,U)}"value"in j&&s(E,"value",M.value,j.value)}},De=(E,A,M,j,$,te,se,ne,k)=>{const x=A.el=E?E.el:l(""),X=A.anchor=E?E.anchor:l("");let{patchFlag:Q,dynamicChildren:ie,slotScopeIds:oe}=A;oe&&(ne=ne?ne.concat(oe):oe),E==null?(i(x,M,j),i(X,M,j),D(A.children,M,X,$,te,se,ne,k)):Q>0&&Q&64&&ie&&E.dynamicChildren?(S(E.dynamicChildren,ie,M,$,te,se,ne),(A.key!=null||$&&A===$.subTree)&&WT(E,A,!0)):we(E,A,M,X,$,te,se,ne,k)},Ge=(E,A,M,j,$,te,se,ne,k)=>{A.slotScopeIds=ne,E==null?A.shapeFlag&512?$.ctx.activate(A,M,j,se,k):We(A,M,j,$,te,se,k):je(E,A,k)},We=(E,A,M,j,$,te,se)=>{const ne=E.component=jD(E,j,$);if(Gf(E)&&(ne.ctx.renderer=Pe),BD(ne),ne.asyncDep){if($&&$.registerDep(ne,Ce),!E.el){const k=ne.subTree=Te(vr);R(null,k,A,M)}return}Ce(ne,E,A,M,$,te,se)},je=(E,A,M)=>{const j=A.component=E.component;if(ZO(E,A,M))if(j.asyncDep&&!j.asyncResolved){Ne(j,A,M);return}else j.next=A,GO(j.update),j.update();else A.el=E.el,j.vnode=A},Ce=(E,A,M,j,$,te,se)=>{const ne=()=>{if(E.isMounted){let{next:X,bu:Q,u:ie,parent:oe,vnode:le}=E,ae=X,Re;yo(E,!1),X?(X.el=le.el,Ne(E,X,se)):X=le,Q&&mg(Q),(Re=X.props&&X.props.onVnodeBeforeUpdate)&&Dr(Re,oe,X,le),yo(E,!0);const Le=vg(E),tn=E.subTree;E.subTree=Le,I(tn,Le,m(tn.el),G(tn),E,$,te),X.el=Le.el,ae===null&&eD(E,Le.el),ie&&Cn(ie,$),(Re=X.props&&X.props.onVnodeUpdated)&&Cn(()=>Dr(Re,oe,X,le),$)}else{let X;const{el:Q,props:ie}=A,{bm:oe,m:le,parent:ae}=E,Re=Wl(A);if(yo(E,!1),oe&&mg(oe),!Re&&(X=ie&&ie.onVnodeBeforeMount)&&Dr(X,ae,A),yo(E,!0),Q&&_e){const Le=()=>{E.subTree=vg(E),_e(Q,E.subTree,E,$,null)};Re?A.type.__asyncLoader().then(()=>!E.isUnmounted&&Le()):Le()}else{const Le=E.subTree=vg(E);I(null,Le,M,j,E,$,te),A.el=Le.el}if(le&&Cn(le,$),!Re&&(X=ie&&ie.onVnodeMounted)){const Le=A;Cn(()=>Dr(X,ae,Le),$)}(A.shapeFlag&256||ae&&Wl(ae.vnode)&&ae.vnode.shapeFlag&256)&&E.a&&Cn(E.a,$),E.isMounted=!0,A=M=j=null}},k=E.effect=new Jm(ne,()=>ov(x),E.scope),x=E.update=()=>k.run();x.id=E.uid,yo(E,!0),x()},Ne=(E,A,M)=>{A.component=E;const j=E.vnode.props;E.vnode=A,E.next=null,SD(E,A.props,j,M),CD(E,A.children,M),mu(),C_(),vu()},we=(E,A,M,j,$,te,se,ne,k=!1)=>{const x=E&&E.children,X=E?E.shapeFlag:0,Q=A.children,{patchFlag:ie,shapeFlag:oe}=A;if(ie>0){if(ie&128){pt(x,Q,M,j,$,te,se,ne,k);return}else if(ie&256){It(x,Q,M,j,$,te,se,ne,k);return}}oe&8?(X&16&&U(x,$,te),Q!==x&&p(M,Q)):X&16?oe&16?pt(x,Q,M,j,$,te,se,ne,k):U(x,$,te,!0):(X&8&&p(M,""),oe&16&&D(Q,M,j,$,te,se,ne,k))},It=(E,A,M,j,$,te,se,ne,k)=>{E=E||Fs,A=A||Fs;const x=E.length,X=A.length,Q=Math.min(x,X);let ie;for(ie=0;ie<Q;ie++){const oe=A[ie]=k?Si(A[ie]):Lr(A[ie]);I(E[ie],oe,M,null,$,te,se,ne,k)}x>X?U(E,$,te,!0,!1,Q):D(A,M,j,$,te,se,ne,k,Q)},pt=(E,A,M,j,$,te,se,ne,k)=>{let x=0;const X=A.length;let Q=E.length-1,ie=X-1;for(;x<=Q&&x<=ie;){const oe=E[x],le=A[x]=k?Si(A[x]):Lr(A[x]);if(Io(oe,le))I(oe,le,M,null,$,te,se,ne,k);else break;x++}for(;x<=Q&&x<=ie;){const oe=E[Q],le=A[ie]=k?Si(A[ie]):Lr(A[ie]);if(Io(oe,le))I(oe,le,M,null,$,te,se,ne,k);else break;Q--,ie--}if(x>Q){if(x<=ie){const oe=ie+1,le=oe<X?A[oe].el:j;for(;x<=ie;)I(null,A[x]=k?Si(A[x]):Lr(A[x]),M,le,$,te,se,ne,k),x++}}else if(x>ie)for(;x<=Q;)at(E[x],$,te,!0),x++;else{const oe=x,le=x,ae=new Map;for(x=le;x<=ie;x++){const wt=A[x]=k?Si(A[x]):Lr(A[x]);wt.key!=null&&ae.set(wt.key,x)}let Re,Le=0;const tn=ie-le+1;let dn=!1,yt=0;const li=new Array(tn);for(x=0;x<tn;x++)li[x]=0;for(x=oe;x<=Q;x++){const wt=E[x];if(Le>=tn){at(wt,$,te,!0);continue}let Mn;if(wt.key!=null)Mn=ae.get(wt.key);else for(Re=le;Re<=ie;Re++)if(li[Re-le]===0&&Io(wt,A[Re])){Mn=Re;break}Mn===void 0?at(wt,$,te,!0):(li[Mn-le]=x+1,Mn>=yt?yt=Mn:dn=!0,I(wt,A[Mn],M,null,$,te,se,ne,k),Le++)}const Tr=dn?DD(li):Fs;for(Re=Tr.length-1,x=tn-1;x>=0;x--){const wt=le+x,Mn=A[wt],Kt=wt+1<X?A[wt+1].el:j;li[x]===0?I(null,Mn,M,Kt,$,te,se,ne,k):dn&&(Re<0||x!==Tr[Re]?gt(Mn,M,Kt,2):Re--)}}},gt=(E,A,M,j,$=null)=>{const{el:te,type:se,transition:ne,children:k,shapeFlag:x}=E;if(x&6){gt(E.component.subTree,A,M,j);return}if(x&128){E.suspense.move(A,M,j);return}if(x&64){se.move(E,A,M,Pe);return}if(se===Mt){i(te,A,M);for(let Q=0;Q<k.length;Q++)gt(k[Q],A,M,j);i(E.anchor,A,M);return}if(se===Xl){C(E,A,M);return}if(j!==2&&x&1&&ne)if(j===0)ne.beforeEnter(te),i(te,A,M),Cn(()=>ne.enter(te),$);else{const{leave:Q,delayLeave:ie,afterLeave:oe}=ne,le=()=>i(te,A,M),ae=()=>{Q(te,()=>{le(),oe&&oe()})};ie?ie(te,le,ae):ae()}else i(te,A,M)},at=(E,A,M,j=!1,$=!1)=>{const{type:te,props:se,ref:ne,children:k,dynamicChildren:x,shapeFlag:X,patchFlag:Q,dirs:ie}=E;if(ne!=null&&nm(ne,null,M,E,!0),X&256){A.ctx.deactivate(E);return}const oe=X&1&&ie,le=!Wl(E);let ae;if(le&&(ae=se&&se.onVnodeBeforeUnmount)&&Dr(ae,A,E),X&6)K(E.component,M,j);else{if(X&128){E.suspense.unmount(M,j);return}oe&&vo(E,null,A,"beforeUnmount"),X&64?E.type.remove(E,A,M,$,Pe,j):x&&(te!==Mt||Q>0&&Q&64)?U(x,A,M,!1,!0):(te===Mt&&Q&384||!$&&X&16)&&U(k,A,M),j&&hn(E)}(le&&(ae=se&&se.onVnodeUnmounted)||oe)&&Cn(()=>{ae&&Dr(ae,A,E),oe&&vo(E,null,A,"unmounted")},M)},hn=E=>{const{type:A,el:M,anchor:j,transition:$}=E;if(A===Mt){en(M,j);return}if(A===Xl){L(E);return}const te=()=>{o(M),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(E.shapeFlag&1&&$&&!$.persisted){const{leave:se,delayLeave:ne}=$,k=()=>se(M,te);ne?ne(E.el,te,k):k()}else te()},en=(E,A)=>{let M;for(;E!==A;)M=v(E),o(E),E=M;o(A)},K=(E,A,M)=>{const{bum:j,scope:$,update:te,subTree:se,um:ne}=E;j&&mg(j),$.stop(),te&&(te.active=!1,at(se,E,A,M)),ne&&Cn(ne,A),Cn(()=>{E.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},U=(E,A,M,j=!1,$=!1,te=0)=>{for(let se=te;se<E.length;se++)at(E[se],A,M,j,$)},G=E=>E.shapeFlag&6?G(E.component.subTree):E.shapeFlag&128?E.suspense.next():v(E.anchor||E.el),J=(E,A,M)=>{E==null?A._vnode&&at(A._vnode,null,null,!0):I(A._vnode||null,E,A,null,null,null,M),C_(),RT(),A._vnode=E},Pe={p:I,um:at,m:gt,r:hn,mt:We,mc:D,pc:we,pbc:S,n:G,o:e};let qe,_e;return t&&([qe,_e]=t(Pe)),{render:J,hydrate:qe,createApp:RD(J,qe)}}function yo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function WT(e,t,n=!1){const i=e.children,o=t.children;if(ke(i)&&ke(o))for(let s=0;s<i.length;s++){const a=i[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Si(o[s]),l.el=a.el),n||WT(a,l)),l.type===Jf&&(l.el=a.el)}}function DD(e){const t=e.slice(),n=[0];let i,o,s,a,l;const f=e.length;for(i=0;i<f;i++){const d=e[i];if(d!==0){if(o=n[n.length-1],e[o]<d){t[i]=o,n.push(i);continue}for(s=0,a=n.length-1;s<a;)l=s+a>>1,e[n[l]]<d?s=l+1:a=l;d<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const PD=e=>e.__isTeleport,Mt=Symbol(void 0),Jf=Symbol(void 0),vr=Symbol(void 0),Xl=Symbol(void 0),ya=[];let gr=null;function nt(e=!1){ya.push(gr=e?null:[])}function LD(){ya.pop(),gr=ya[ya.length-1]||null}let Pa=1;function V_(e){Pa+=e}function XT(e){return e.dynamicChildren=Pa>0?gr||Fs:null,LD(),Pa>0&&gr&&gr.push(e),e}function Et(e,t,n,i,o,s){return XT(Z(e,t,n,i,o,s,!0))}function La(e,t,n,i,o){return XT(Te(e,t,n,i,o,!0))}function rm(e){return e?e.__v_isVNode===!0:!1}function Io(e,t){return e.type===t.type&&e.key===t.key}const Zf="__vInternal",QT=({key:e})=>e??null,Ql=({ref:e,ref_key:t,ref_for:n})=>e!=null?Ot(e)||ut(e)||Oe(e)?{i:Kn,r:e,k:t,f:!!n}:e:null;function Z(e,t=null,n=null,i=0,o=null,s=e===Mt?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&QT(t),ref:t&&Ql(t),scopeId:DT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Kn};return l?(hv(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Ot(n)?8:16),Pa>0&&!a&&gr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&gr.push(f),f}const Te=MD;function MD(e,t=null,n=null,i=0,o=null,s=!1){if((!e||e===VT)&&(e=vr),rm(e)){const l=Bi(e,t,!0);return n&&hv(l,n),Pa>0&&!s&&gr&&(l.shapeFlag&6?gr[gr.indexOf(e)]=l:gr.push(l)),l.patchFlag|=-2,l}if(zD(e)&&(e=e.__vccOpts),t){t=FD(t);let{class:l,style:f}=t;l&&!Ot(l)&&(t.class=Hn(l)),dt(f)&&(ET(f)&&!ke(f)&&(f=cn({},f)),t.style=Vf(f))}const a=Ot(e)?1:tD(e)?128:PD(e)?64:dt(e)?4:Oe(e)?2:0;return Z(e,t,n,i,o,a,s,!0)}function FD(e){return e?ET(e)||Zf in e?cn({},e):e:null}function Bi(e,t,n=!1){const{props:i,ref:o,patchFlag:s,children:a}=e,l=t?JT(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&QT(l),ref:t&&t.ref?n&&o?ke(o)?o.concat(Ql(t)):[o,Ql(t)]:Ql(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Mt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Bi(e.ssContent),ssFallback:e.ssFallback&&Bi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function Bs(e=" ",t=0){return Te(Jf,null,e,t)}function YT(e,t){const n=Te(Xl,null,e);return n.staticCount=t,n}function fv(e="",t=!1){return t?(nt(),La(vr,null,e)):Te(vr,null,e)}function Lr(e){return e==null||typeof e=="boolean"?Te(vr):ke(e)?Te(Mt,null,e.slice()):typeof e=="object"?Si(e):Te(Jf,null,String(e))}function Si(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Bi(e)}function hv(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ke(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),hv(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Zf in t)?t._ctx=Kn:o===3&&Kn&&(Kn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Oe(t)?(t={default:t,_ctx:Kn},n=32):(t=String(t),i&64?(n=16,t=[Bs(t)]):n=8);e.children=t,e.shapeFlag|=n}function JT(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=Hn([t.class,i.class]));else if(o==="style")t.style=Vf([t.style,i.style]);else if(jf(o)){const s=t[o],a=i[o];a&&s!==a&&!(ke(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=i[o])}return t}function Dr(e,t,n,i=null){ir(e,t,7,[n,i])}const UD=GT();let VD=0;function jD(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||UD,s={uid:VD++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new cT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$T(i,o),emitsOptions:OT(i,o),emit:null,emitted:null,propsDefaults:ot,inheritAttrs:i.inheritAttrs,ctx:ot,data:ot,props:ot,attrs:ot,slots:ot,refs:ot,setupState:ot,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=QO.bind(null,s),e.ce&&e.ce(s),s}let Bt=null;const eh=()=>Bt||Kn,Ks=e=>{Bt=e,e.scope.on()},Oo=()=>{Bt&&Bt.scope.off(),Bt=null};function ZT(e){return e.vnode.shapeFlag&4}let Ma=!1;function BD(e,t=!1){Ma=t;const{props:n,children:i}=e.vnode,o=ZT(e);TD(e,n,o,t),kD(e,i);const s=o?qD(e,t):void 0;return Ma=!1,s}function qD(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Uo(new Proxy(e.ctx,yD));const{setup:i}=n;if(i){const o=e.setupContext=i.length>1?HD(e):null;Ks(e),mu();const s=Mi(i,e,0,[e.props,o]);if(vu(),Oo(),oT(s)){if(s.then(Oo,Oo),t)return s.then(a=>{j_(e,a,t)}).catch(a=>{Kf(a,e,0)});e.asyncDep=s}else j_(e,s,t)}else eS(e,t)}function j_(e,t,n){Oe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:dt(t)&&(e.setupState=AT(t)),eS(e,n)}let B_;function eS(e,t,n){const i=e.type;if(!e.render){if(!t&&B_&&!i.render){const o=i.template||cv(e).template;if(o){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=i,d=cn(cn({isCustomElement:s,delimiters:l},a),f);i.render=B_(o,d)}}e.render=i.render||mr}Ks(e),mu(),wD(e),vu(),Oo()}function $D(e){return new Proxy(e.attrs,{get(t,n){return Xn(e,"get","$attrs"),t[n]}})}function HD(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=$D(e))},slots:e.slots,emit:e.emit,expose:t}}function th(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(AT(Uo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in va)return va[n](e)},has(t,n){return n in t||n in va}}))}function KD(e,t=!0){return Oe(e)?e.displayName||e.name:e.name||t&&e.__name}function zD(e){return Oe(e)&&"__vccOpts"in e}const Xe=(e,t)=>HO(e,t,Ma);function zs(e,t,n){const i=arguments.length;return i===2?dt(t)&&!ke(t)?rm(t)?Te(e,null,[t]):Te(e,t):Te(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&rm(n)&&(n=[n]),Te(e,t,n))}const GD=Symbol(""),WD=()=>or(GD),XD="3.2.45",QD="http://www.w3.org/2000/svg",To=typeof document<"u"?document:null,q_=To&&To.createElement("template"),YD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t?To.createElementNS(QD,e):To.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>To.createTextNode(e),createComment:e=>To.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>To.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,s){const a=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{q_.innerHTML=i?`<svg>${e}</svg>`:e;const l=q_.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function JD(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function ZD(e,t,n){const i=e.style,o=Ot(n);if(n&&!o){for(const s in n)im(i,s,n[s]);if(t&&!Ot(t))for(const s in t)n[s]==null&&im(i,s,"")}else{const s=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=s)}}const $_=/\s*!important$/;function im(e,t,n){if(ke(n))n.forEach(i=>im(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=eP(e,t);$_.test(n)?e.setProperty(gu(i),n.replace($_,""),"important"):e[i]=n}}const H_=["Webkit","Moz","ms"],bg={};function eP(e,t){const n=bg[t];if(n)return n;let i=Br(t);if(i!=="filter"&&i in e)return bg[t]=i;i=$f(i);for(let o=0;o<H_.length;o++){const s=H_[o]+i;if(s in e)return bg[t]=s}return t}const K_="http://www.w3.org/1999/xlink";function tP(e,t,n,i,o){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(K_,t.slice(6,t.length)):e.setAttributeNS(K_,t,n);else{const s=tO(t);n==null||s&&!nT(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function nP(e,t,n,i,o,s,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,o,s),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const f=n??"";(e.value!==f||e.tagName==="OPTION")&&(e.value=f),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=nT(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function rP(e,t,n,i){e.addEventListener(t,n,i)}function iP(e,t,n,i){e.removeEventListener(t,n,i)}function oP(e,t,n,i,o=null){const s=e._vei||(e._vei={}),a=s[t];if(i&&a)a.value=i;else{const[l,f]=sP(t);if(i){const d=s[t]=cP(i,o);rP(e,l,d,f)}else a&&(iP(e,l,a,f),s[t]=void 0)}}const z_=/(?:Once|Passive|Capture)$/;function sP(e){let t;if(z_.test(e)){t={};let i;for(;i=e.match(z_);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):gu(e.slice(2)),t]}let _g=0;const uP=Promise.resolve(),aP=()=>_g||(uP.then(()=>_g=0),_g=Date.now());function cP(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;ir(lP(i,n.value),t,5,[i])};return n.value=e,n.attached=aP(),n}function lP(e,t){if(ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const G_=/^on[a-z]/,fP=(e,t,n,i,o=!1,s,a,l,f)=>{t==="class"?JD(e,i,o):t==="style"?ZD(e,n,i):jf(t)?Gm(t)||oP(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):hP(e,t,i,o))?nP(e,t,i,s,a,l,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),tP(e,t,i,o))};function hP(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&G_.test(t)&&Oe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||G_.test(t)&&Ot(n)?!1:t in e}const dP={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};uD.props;const pP=["ctrl","shift","alt","meta"],gP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>pP.some(n=>e[`${n}Key`]&&!t.includes(n))},Nn=(e,t)=>(n,...i)=>{for(let o=0;o<t.length;o++){const s=gP[t[o]];if(s&&s(n,t))return}return e(n,...i)},W_={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):la(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),la(e,!0),i.enter(e)):i.leave(e,()=>{la(e,!1)}):la(e,t))},beforeUnmount(e,{value:t}){la(e,t)}};function la(e,t){e.style.display=t?e._vod:"none"}const mP=cn({patchProp:fP},YD);let X_;function vP(){return X_||(X_=xD(mP))}const yP=(...e)=>{const t=vP().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=wP(i);if(!o)return;const s=t._component;!Oe(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function wP(e){return Ot(e)?document.querySelector(e):e}var bP=!1;/*!
  * pinia v2.0.30
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let tS;const nh=e=>tS=e,nS=Symbol();function om(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var wa;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(wa||(wa={}));function _P(){const e=lT(!0),t=e.run(()=>xn({}));let n=[],i=[];const o=Uo({install(s){nh(o),o._a=s,s.provide(nS,o),s.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(s){return!this._a&&!bP?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const rS=()=>{};function Q_(e,t,n,i=rS){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&lO()&&fO(o),o}function Ss(e,...t){e.slice().forEach(n=>{n(...t)})}function sm(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];om(o)&&om(i)&&e.hasOwnProperty(n)&&!ut(i)&&!Li(i)?e[n]=sm(o,i):e[n]=i}return e}const EP=Symbol();function IP(e){return!om(e)||!e.hasOwnProperty(EP)}const{assign:Ai}=Object;function TP(e){return!!(ut(e)&&e.effect)}function SP(e,t,n,i){const{state:o,actions:s,getters:a}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const p=BO(n.state.value[e]);return Ai(p,s,Object.keys(a||{}).reduce((m,v)=>(m[v]=Uo(Xe(()=>{nh(n);const b=n._s.get(e);return a[v].call(b,b)})),m),{}))}return f=iS(e,d,t,n,i,!0),f.$reset=function(){const m=o?o():{};this.$patch(v=>{Ai(v,m)})},f}function iS(e,t,n={},i,o,s){let a;const l=Ai({actions:{}},n),f={deep:!0};let d,p,m=Uo([]),v=Uo([]),b;const _=i.state.value[e];!s&&!_&&(i.state.value[e]={}),xn({});let I;function N(W){let D;d=p=!1,typeof W=="function"?(W(i.state.value[e]),D={type:wa.patchFunction,storeId:e,events:b}):(sm(i.state.value[e],W),D={type:wa.patchObject,payload:W,storeId:e,events:b});const ue=I=Symbol();Di().then(()=>{I===ue&&(d=!0)}),p=!0,Ss(m,D,i.state.value[e])}const R=rS;function P(){a.stop(),m=[],v=[],i._s.delete(e)}function C(W,D){return function(){nh(i);const ue=Array.from(arguments),S=[],Ae=[];function De(je){S.push(je)}function Ge(je){Ae.push(je)}Ss(v,{args:ue,name:W,store:B,after:De,onError:Ge});let We;try{We=D.apply(this&&this.$id===e?this:B,ue)}catch(je){throw Ss(Ae,je),je}return We instanceof Promise?We.then(je=>(Ss(S,je),je)).catch(je=>(Ss(Ae,je),Promise.reject(je))):(Ss(S,We),We)}}const L={_p:i,$id:e,$onAction:Q_.bind(null,v),$patch:N,$reset:R,$subscribe(W,D={}){const ue=Q_(m,W,D.detached,()=>S()),S=a.run(()=>Qt(()=>i.state.value[e],Ae=>{(D.flush==="sync"?p:d)&&W({storeId:e,type:wa.direct,events:b},Ae)},Ai({},f,D)));return ue},$dispose:P},B=si(L);i._s.set(e,B);const O=i._e.run(()=>(a=lT(),a.run(()=>t())));for(const W in O){const D=O[W];if(ut(D)&&!TP(D)||Li(D))s||(_&&IP(D)&&(ut(D)?D.value=_[W]:sm(D,_[W])),i.state.value[e][W]=D);else if(typeof D=="function"){const ue=C(W,D);O[W]=ue,l.actions[W]=D}}return Ai(B,O),Ai(ze(B),O),Object.defineProperty(B,"$state",{get:()=>i.state.value[e],set:W=>{N(D=>{Ai(D,W)})}}),i._p.forEach(W=>{Ai(B,a.run(()=>W({store:B,app:i._a,pinia:i,options:l})))}),_&&s&&n.hydrate&&n.hydrate(B.$state,_),d=!0,p=!0,B}function oS(e,t,n){let i,o;const s=typeof t=="function";typeof e=="string"?(i=e,o=s?n:t):(o=e,i=e.id);function a(l,f){const d=eh();return l=l||d&&or(nS,null),l&&nh(l),l=tS,l._s.has(i)||(s?iS(i,t,o,l):SP(i,o,l)),l._s.get(i)}return a.$id=i,a}let AP="Store";function kP(...e){return e.reduce((t,n)=>(t[n.$id+AP]=function(){return n(this.$pinia)},t),{})}function CP(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(){return e(this.$pinia)[i]},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(){const o=e(this.$pinia),s=t[i];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function sS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[i](...o)},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[t[i]](...o)},n),{})}function uS(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[i]},set(o){return e(this.$pinia)[i]=o}},n),{}):Object.keys(t).reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[t[i]]},set(o){return e(this.$pinia)[t[i]]=o}},n),{})}const um=oS("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var am=function(e,t){return am=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},am(e,t)};function ye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");am(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Gs=function(){return Gs=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Gs.apply(this,arguments)};function H(e,t,n,i){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{d(i.next(p))}catch(m){a(m)}}function f(p){try{d(i.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):o(p.value).then(l,f)}d((i=i.apply(e,t||[])).next())})}function q(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(p){return f([d,p])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],o=0}finally{i=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Eg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ol(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return s}function ft(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,s;i<o;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aS=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},NP=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[i++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},RP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var s=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,p=s>>2,m=(s&3)<<4|l>>4,v=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(v=64)),i.push(n[p],n[m],n[v],n[b])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(aS(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):NP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var s=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var p=o<e.length,m=p?n[e.charAt(o)]:64;if(++o,s==null||l==null||d==null||m==null)throw Error();var v=s<<2|l>>4;if(i.push(v),d!==64){var b=l<<4&240|d>>2;if(i.push(b),m!==64){var _=d<<6&192|m;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},xP=function(e){var t=aS(e);return RP.encodeByteArray(t,!0)},Y_=function(e){return xP(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(e){return Fa(void 0,e)}function Fa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!DP(i)||(e[i]=Fa(e[i],t[i]));return e}function DP(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PP=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Gs({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Y_(JSON.stringify(n)),Y_(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vo())}function lS(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MP(){return typeof self=="object"&&self.self===self}function FP(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function UP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VP(){return Vo().indexOf("Electron/")>=0}function jP(){var e=Vo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function BP(){return Vo().indexOf("MSAppHost/")>=0}function qP(){return!lS()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $P="FirebaseError",fS=function(e){ye(t,e);function t(n,i,o){var s=e.call(this,i)||this;return s.code=n,s.customData=o,s.name=$P,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,dv.prototype.create),s}return t}(Error),dv=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?HP(a,o):"Error",f=this.serviceName+": "+l+" ("+s+").",d=new fS(s,f,o);return d},e}();function HP(e,t){return e.replace(KP,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var KP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function zP(e,t){var n=new GP(e,t);return n.subscribe.bind(n)}var GP=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");WP(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Ig),s.error===void 0&&(s.error=Ig),s.complete===void 0&&(s.complete=Ig);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function WP(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Ig(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(e){return e&&e._delegate?e._delegate:e}var nc=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XP=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new PP;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(YP(t))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}try{for(var o=Eg(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var a=Ol(s.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:d});f.resolve(p)}catch{}}}catch(m){n={error:m}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=_o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ft(ft([],Ol(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),Ol(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=_o),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=_o),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var f=Eg(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var p=Ol(d.value,2),m=p[0],v=p[1],b=this.normalizeInstanceIdentifier(m);a===b&&v.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(o,s);var a=this.instances.get(o);return a&&t(a,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,s=this.onInitCallbacks.get(n);if(s)try{for(var a=Eg(s),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QP(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=_o),this.component?this.component.multipleInstances?t:_o:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function QP(e){return e===_o?void 0:e}function YP(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JP=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new XP(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function dr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)i[o]=s[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wo,pv=[],Ke;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ke||(Ke={}));var hS={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},ZP=Ke.INFO,eL=(wo={},wo[Ke.DEBUG]="log",wo[Ke.VERBOSE]="log",wo[Ke.INFO]="info",wo[Ke.WARN]="warn",wo[Ke.ERROR]="error",wo),tL=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=eL[t];if(s)console[s].apply(console,dr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},dS=function(){function e(t){this.name=t,this._logLevel=ZP,this._logHandler=tL,this._userLogHandler=null,pv.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Ke))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?hS[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,dr([this,Ke.DEBUG],t)),this._logHandler.apply(this,dr([this,Ke.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,dr([this,Ke.VERBOSE],t)),this._logHandler.apply(this,dr([this,Ke.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,dr([this,Ke.INFO],t)),this._logHandler.apply(this,dr([this,Ke.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,dr([this,Ke.WARN],t)),this._logHandler.apply(this,dr([this,Ke.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,dr([this,Ke.ERROR],t)),this._logHandler.apply(this,dr([this,Ke.ERROR],t))},e}();function nL(e){pv.forEach(function(t){t.setLogLevel(e)})}function rL(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=hS[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var p=[],m=2;m<arguments.length;m++)p[m-2]=arguments[m];var v=p.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&e({level:Ke[d].toLowerCase(),message:v,args:p,type:f.name})}},i=0,o=pv;i<o.length;i++){var s=o[i];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bi,iL=(bi={},bi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",bi["bad-app-name"]="Illegal App name: '{$appName}",bi["duplicate-app"]="Firebase App named '{$appName}' already exists",bi["app-deleted"]="Firebase App named '{$appName}' already deleted",bi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",bi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",bi),xs=new dv("app","Firebase",iL),pS="@firebase/app",oL="0.6.30",sL="@firebase/analytics",uL="@firebase/app-check",aL="@firebase/auth",cL="@firebase/database",lL="@firebase/functions",fL="@firebase/installations",hL="@firebase/messaging",dL="@firebase/performance",pL="@firebase/remote-config",gL="@firebase/storage",mL="@firebase/firestore",vL="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,cf="[DEFAULT]",yL=(nn={},nn[pS]="fire-core",nn[sL]="fire-analytics",nn[uL]="fire-app-check",nn[aL]="fire-auth",nn[cL]="fire-rtdb",nn[lL]="fire-fn",nn[fL]="fire-iid",nn[hL]="fire-fcm",nn[dL]="fire-perf",nn[pL]="fire-rc",nn[gL]="fire-gcs",nn[mL]="fire-fst",nn["fire-js"]="fire-js",nn[vL]="fire-js-all",nn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ws=new dS("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yl=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=OP(t),this.container=new JP(n.name),this._addComponent(new nc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=cf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=cf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Ws.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw xs.create("app-deleted",{appName:this.name_})},e}();Yl.prototype.name&&Yl.prototype.options||Yl.prototype.delete||console.log("dc");var wL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(e){var t={},n=new Map,i={__esModule:!0,initializeApp:a,app:s,registerVersion:d,setLogLevel:nL,onLog:p,apps:null,SDK_VERSION:wL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:m}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(v){delete t[v]}function s(v){if(v=v||cf,!J_(t,v))throw xs.create("no-app",{appName:v});return t[v]}s.App=e;function a(v,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var _=b;b={name:_}}var I=b;I.name===void 0&&(I.name=cf);var N=I.name;if(typeof N!="string"||!N)throw xs.create("bad-app-name",{appName:String(N)});if(J_(t,N))throw xs.create("duplicate-app",{appName:N});var R=new e(v,I,i);return t[N]=R,R}function l(){return Object.keys(t).map(function(v){return t[v]})}function f(v){var b=v.name;if(n.has(b))return Ws.debug("There were multiple attempts to register component "+b+"."),v.type==="PUBLIC"?i[b]:null;if(n.set(b,v),v.type==="PUBLIC"){var _=function(P){if(P===void 0&&(P=s()),typeof P[b]!="function")throw xs.create("invalid-app-argument",{appName:b});return P[b]()};v.serviceProps!==void 0&&Fa(_,v.serviceProps),i[b]=_,e.prototype[b]=function(){for(var P=[],C=0;C<arguments.length;C++)P[C]=arguments[C];var L=this._getService.bind(this,b);return L.apply(this,v.multipleInstances?P:[])}}for(var I=0,N=Object.keys(t);I<N.length;I++){var R=N[I];t[R]._addComponent(v)}return v.type==="PUBLIC"?i[b]:null}function d(v,b,_){var I,N=(I=yL[v])!==null&&I!==void 0?I:v;_&&(N+="-"+_);var R=N.match(/\s|\//),P=b.match(/\s|\//);if(R||P){var C=['Unable to register library "'+N+'" with version "'+b+'":'];R&&C.push('library name "'+N+'" contains illegal characters (whitespace or "/")'),R&&P&&C.push("and"),P&&C.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),Ws.warn(C.join(" "));return}f(new nc(N+"-version",function(){return{library:N,version:b}},"VERSION"))}function p(v,b){if(v!==null&&typeof v!="function")throw xs.create("invalid-log-argument");rL(v,b)}function m(v,b){if(b==="serverAuth")return null;var _=b;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){var e=bL(Yl);e.INTERNAL=Gs(Gs({},e.INTERNAL),{createFirebaseNamespace:gS,extendNamespace:t,createSubscribe:zP,ErrorFactory:dv,deepExtend:Fa});function t(n){Fa(e,n)}return e}var gv=gS();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _L=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(EL(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function EL(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(e,t){e.INTERNAL.registerComponent(new nc("platform-logger",function(n){return new _L(n)},"PRIVATE")),e.registerVersion(pS,oL,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(MP()&&self.firebase!==void 0){Ws.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var Z_=self.firebase.SDK_VERSION;Z_&&Z_.indexOf("LITE")>=0&&Ws.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var TL=gv.initializeApp;gv.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return lS()&&Ws.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),TL.apply(void 0,e)};var be=gv;IL(be);var SL="firebase",mS="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */be.registerVersion(SL,mS,"app");be.SDK_VERSION=mS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,u,c){r!=Array.prototype&&r!=Object.prototype&&(r[u]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var u=0;u<r.length;++u){var c=r[u];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,u){if(u){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var g=r[h];g in c||(c[g]={}),c=c[g]}r=r[r.length-1],h=c[r],u=u(h),u!=h&&u!=null&&t(c,r,{configurable:!0,writable:!0,value:u})}}function s(r){var u=0;return function(){return u<r.length?{done:!1,value:r[u++]}:{done:!0}}}function a(r){var u=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return u?u.call(r):{next:s(r)}}o("Promise",function(r){function u(w){this.b=0,this.c=void 0,this.a=[];var T=this.f();try{w(T.resolve,T.reject)}catch(V){T.reject(V)}}function c(){this.a=null}function h(w){return w instanceof u?w:new u(function(T){T(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var T=this;this.c(function(){T.g()})}this.a.push(w)};var g=i.setTimeout;c.prototype.c=function(w){g(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var T=0;T<w.length;++T){var V=w[T];w[T]=null;try{V()}catch(z){this.f(z)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},u.prototype.f=function(){function w(z){return function(Ie){V||(V=!0,z.call(T,Ie))}}var T=this,V=!1;return{resolve:w(this.m),reject:w(this.g)}},u.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof u)this.s(w);else{e:switch(typeof w){case"object":var T=w!=null;break e;case"function":T=!0;break e;default:T=!1}T?this.v(w):this.h(w)}},u.prototype.v=function(w){var T=void 0;try{T=w.then}catch(V){this.g(V);return}typeof T=="function"?this.u(T,w):this.h(w)},u.prototype.g=function(w){this.i(2,w)},u.prototype.h=function(w){this.i(1,w)},u.prototype.i=function(w,T){if(this.b!=0)throw Error("Cannot settle("+w+", "+T+"): Promise already settled in state"+this.b);this.b=w,this.c=T,this.l()},u.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)y.b(this.a[w]);this.a=null}};var y=new c;return u.prototype.s=function(w){var T=this.f();w.Ra(T.resolve,T.reject)},u.prototype.u=function(w,T){var V=this.f();try{w.call(T,V.resolve,V.reject)}catch(z){V.reject(z)}},u.prototype.then=function(w,T){function V(He,Vt){return typeof He=="function"?function(Wr){try{z(He(Wr))}catch(pg){Ie(pg)}}:Vt}var z,Ie,Je=new u(function(He,Vt){z=He,Ie=Vt});return this.Ra(V(w,z),V(T,Ie)),Je},u.prototype.catch=function(w){return this.then(void 0,w)},u.prototype.Ra=function(w,T){function V(){switch(z.b){case 1:w(z.c);break;case 2:T(z.c);break;default:throw Error("Unexpected state: "+z.b)}}var z=this;this.a==null?y.b(V):this.a.push(V)},u.resolve=h,u.reject=function(w){return new u(function(T,V){V(w)})},u.race=function(w){return new u(function(T,V){for(var z=a(w),Ie=z.next();!Ie.done;Ie=z.next())h(Ie.value).Ra(T,V)})},u.all=function(w){var T=a(w),V=T.next();return V.done?h([]):new u(function(z,Ie){function Je(Wr){return function(pg){He[Wr]=pg,Vt--,Vt==0&&z(He)}}var He=[],Vt=0;do He.push(void 0),Vt++,h(V.value).Ra(Je(He.length-1),Ie),V=T.next();while(!V.done)})},u});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,p=null;function m(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function v(){}function b(r){var u=typeof r;return u!="object"?u:r?Array.isArray(r)?"array":u:"null"}function _(r){var u=b(r);return u=="array"||u=="object"&&typeof r.length=="number"}function I(r){return b(r)=="function"}function N(r){var u=typeof r;return u=="object"&&r!=null||u=="function"}function R(r){return Object.prototype.hasOwnProperty.call(r,P)&&r[P]||(r[P]=++C)}var P="closure_uid_"+(1e9*Math.random()>>>0),C=0;function L(r,u,c){return r.call.apply(r.bind,arguments)}function B(r,u,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,h),r.apply(u,g)}}return function(){return r.apply(u,arguments)}}function O(r,u,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=L:O=B,O.apply(null,arguments)}function W(r,u){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function D(r,u){function c(){}c.prototype=u.prototype,r.bb=u.prototype,r.prototype=new c,r.prototype.constructor=r}function ue(r){return r}function S(r,u,c){this.code=De+r,this.message=u||Ge[r]||"",this.a=c||null}D(S,Error),S.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},S.prototype.toJSON=function(){return this.w()};function Ae(r){var u=r&&r.code;return u?new S(u.substring(De.length),r.message,r.serverResponse):null}var De="auth/",Ge={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},We={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function je(r){for(var u in We)if(We[u].id===r)return r=We[u],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var Ce;Ce=je("__EID__")?"__EID__":void 0;function Ne(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function we(r){if(Error.captureStackTrace)Error.captureStackTrace(this,we);else{var u=Error().stack;u&&(this.stack=u)}r&&(this.message=String(r))}D(we,Error),we.prototype.name="CustomError";function It(r,u){r=r.split("%s");for(var c="",h=r.length-1,g=0;g<h;g++)c+=r[g]+(g<u.length?u[g]:"%s");we.call(this,c+r[h])}D(It,we),It.prototype.name="AssertionError";function pt(r,u){throw new It("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function gt(r,u){this.c=r,this.f=u,this.b=0,this.a=null}gt.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function at(r,u){r.f(u),100>r.b&&(r.b++,u.next=r.a,r.a=u)}function hn(){this.b=this.a=null}var en=new gt(function(){return new U},function(r){r.reset()});hn.prototype.add=function(r,u){var c=en.get();c.set(r,u),this.b?this.b.next=c:this.a=c,this.b=c};function K(){var r=ow,u=null;return r.a&&(u=r.a,r.a=r.a.next,r.a||(r.b=null),u.next=null),u}function U(){this.next=this.b=this.a=null}U.prototype.set=function(r,u){this.a=r,this.b=u,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var G=Array.prototype.indexOf?function(r,u){return Array.prototype.indexOf.call(r,u,void 0)}:function(r,u){if(typeof r=="string")return typeof u!="string"||u.length!=1?-1:r.indexOf(u,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===u)return c;return-1},J=Array.prototype.forEach?function(r,u,c){Array.prototype.forEach.call(r,u,c)}:function(r,u,c){for(var h=r.length,g=typeof r=="string"?r.split(""):r,y=0;y<h;y++)y in g&&u.call(c,g[y],y,r)};function Pe(r,u){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&u.call(void 0,c[h],h,r)}var qe=Array.prototype.filter?function(r,u){return Array.prototype.filter.call(r,u,void 0)}:function(r,u){for(var c=r.length,h=[],g=0,y=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in y){var T=y[w];u.call(void 0,T,w,r)&&(h[g++]=T)}return h},_e=Array.prototype.map?function(r,u){return Array.prototype.map.call(r,u,void 0)}:function(r,u){for(var c=r.length,h=Array(c),g=typeof r=="string"?r.split(""):r,y=0;y<c;y++)y in g&&(h[y]=u.call(void 0,g[y],y,r));return h},E=Array.prototype.some?function(r,u){return Array.prototype.some.call(r,u,void 0)}:function(r,u){for(var c=r.length,h=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in h&&u.call(void 0,h[g],g,r))return!0;return!1};function A(r){e:{for(var u=NN,c=r.length,h=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in h&&u.call(void 0,h[g],g,r)){u=g;break e}u=-1}return 0>u?null:typeof r=="string"?r.charAt(u):r[u]}function M(r,u){return 0<=G(r,u)}function j(r,u){u=G(r,u);var c;return(c=0<=u)&&Array.prototype.splice.call(r,u,1),c}function $(r,u){var c=0;Pe(r,function(h,g){u.call(void 0,h,g,r)&&Array.prototype.splice.call(r,g,1).length==1&&c++})}function te(r){return Array.prototype.concat.apply([],arguments)}function se(r){var u=r.length;if(0<u){for(var c=Array(u),h=0;h<u;h++)c[h]=r[h];return c}return[]}var ne=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},k=/&/g,x=/</g,X=/>/g,Q=/"/g,ie=/'/g,oe=/\x00/g,le=/[\x00&<>"']/;function ae(r,u){return r.indexOf(u)!=-1}function Re(r,u){return r<u?-1:r>u?1:0}var Le;e:{var tn=f.navigator;if(tn){var dn=tn.userAgent;if(dn){Le=dn;break e}}Le=""}function yt(r){return ae(Le,r)}function li(r,u){for(var c in r)u.call(void 0,r[c],c,r)}function Tr(r){for(var u in r)return!1;return!0}function wt(r){var u={},c;for(c in r)u[c]=r[c];return u}var Mn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kt(r,u){for(var c,h,g=1;g<arguments.length;g++){h=arguments[g];for(c in h)r[c]=h[c];for(var y=0;y<Mn.length;y++)c=Mn[y],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function Vy(r,u){e:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var g=h;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!r||!(r instanceof g[u])&&(r instanceof g.Location||r instanceof g.Element))){if(N(r))try{var y=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{y="<object could not be stringified>"}else y=r===void 0?"undefined":r===null?"null":typeof r;pt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,y)}}function Sr(r,u){this.a=r===Sc&&u||"",this.b=jy}Sr.prototype.ta=!0,Sr.prototype.sa=function(){return this.a},Sr.prototype.toString=function(){return"Const{"+this.a+"}"};function Bh(r){return r instanceof Sr&&r.constructor===Sr&&r.b===jy?r.a:(pt("expected object of type Const, got '"+r+"'"),"type_error:Const")}var jy={},Sc={},Ac;function By(){if(Ac===void 0){var r=null,u=f.trustedTypes;if(u&&u.createPolicy){try{r=u.createPolicy("goog#html",{createHTML:ue,createScript:ue,createScriptURL:ue})}catch(c){f.console&&f.console.error(c.message)}Ac=r}else Ac=r}return Ac}function ns(r,u){this.a=u===$y?r:""}ns.prototype.ta=!0,ns.prototype.sa=function(){return this.a.toString()},ns.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function qy(r){return r instanceof ns&&r.constructor===ns?r.a:(pt("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function qh(r,u){var c=Bh(r);if(!oC.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(iC,function(h,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(u));return h=u[g],h instanceof Sr?Bh(h):encodeURIComponent(String(h))}),sC(r)}var iC=/%{(\w+)}/g,oC=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,$y={};function sC(r){var u=By();return r=u?u.createScriptURL(r):r,new ns(r,$y)}function Tn(r,u){this.a=u===Cu?r:""}Tn.prototype.ta=!0,Tn.prototype.sa=function(){return this.a.toString()},Tn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function kc(r){return r instanceof Tn&&r.constructor===Tn?r.a:(pt("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var uC=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,aC=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Hy=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ky(r){if(r instanceof Tn)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),Hy.test(r))r=new Tn(r,Cu);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var u=r.match(aC);r=u&&uC.test(u[1])?new Tn(r,Cu):null}return r}function zy(r){return r instanceof Tn?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),Hy.test(r)||(r="about:invalid#zClosurez"),new Tn(r,Cu))}var Cu={},Gy=new Tn("about:invalid#zClosurez",Cu);function rs(r,u,c){this.a=c===Wy?r:""}rs.prototype.ta=!0,rs.prototype.sa=function(){return this.a.toString()},rs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function cC(r){return r instanceof rs&&r.constructor===rs?r.a:(pt("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var Wy={};function lC(r,u){Vy(r,"HTMLScriptElement"),r.src=qy(u),(u=r.ownerDocument&&r.ownerDocument.defaultView)&&u!=f?u=m(u.document):(p===null&&(p=m(f.document)),u=p),u&&r.setAttribute("nonce",u)}function Xy(r,u,c,h){return r=r instanceof Tn?r:zy(r),u=u||f,c=c instanceof Sr?Bh(c):c||"",u.open(kc(r),c,h,void 0)}function Qy(r,u){for(var c=r.split("%s"),h="",g=Array.prototype.slice.call(arguments,1);g.length&&1<c.length;)h+=c.shift()+g.shift();return h+c.join("%s")}function $h(r){return le.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(k,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(x,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(X,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(Q,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(ie,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(oe,"&#0;"))),r}function Hh(r){return Hh[" "](r),r}Hh[" "]=v;function fC(r,u){var c=gC;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=u(r)}var hC=yt("Opera"),sr=yt("Trident")||yt("MSIE"),Yy=yt("Edge"),dC=Yy||sr,Jy=yt("Gecko")&&!(ae(Le.toLowerCase(),"webkit")&&!yt("Edge"))&&!(yt("Trident")||yt("MSIE"))&&!yt("Edge"),pC=ae(Le.toLowerCase(),"webkit")&&!yt("Edge");function Zy(){var r=f.document;return r?r.documentMode:void 0}var Cc;e:{var Kh="",zh=function(){var r=Le;if(Jy)return/rv:([^\);]+)(\)|;)/.exec(r);if(Yy)return/Edge\/([\d\.]+)/.exec(r);if(sr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(pC)return/WebKit\/(\S+)/.exec(r);if(hC)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(zh&&(Kh=zh?zh[1]:""),sr){var Gh=Zy();if(Gh!=null&&Gh>parseFloat(Kh)){Cc=String(Gh);break e}}Cc=Kh}var gC={};function ew(r){return fC(r,function(){for(var u=0,c=ne(String(Cc)).split("."),h=ne(String(r)).split("."),g=Math.max(c.length,h.length),y=0;u==0&&y<g;y++){var w=c[y]||"",T=h[y]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],T=/(\d*)(\D*)(.*)/.exec(T)||["","","",""],w[0].length==0&&T[0].length==0)break;u=Re(w[1].length==0?0:parseInt(w[1],10),T[1].length==0?0:parseInt(T[1],10))||Re(w[2].length==0,T[2].length==0)||Re(w[2],T[2]),w=w[3],T=T[3]}while(u==0)}return 0<=u})}var Wh;if(f.document&&sr){var tw=Zy();Wh=tw||parseInt(Cc,10)||void 0}else Wh=void 0;var fi=Wh;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var mC=!sr||9<=Number(fi);function Nu(r){var u=document;return typeof r=="string"?u.getElementById(r):r}function nw(r,u){li(u,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:rw.hasOwnProperty(h)?r.setAttribute(rw[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var rw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function vC(r,u,c){var h=arguments,g=document,y=String(h[0]),w=h[1];if(!mC&&w&&(w.name||w.type)){if(y=["<",y],w.name&&y.push(' name="',$h(w.name),'"'),w.type){y.push(' type="',$h(w.type),'"');var T={};Kt(T,w),delete T.type,w=T}y.push(">"),y=y.join("")}return y=Nc(g,y),w&&(typeof w=="string"?y.className=w:Array.isArray(w)?y.className=w.join(" "):nw(y,w)),2<h.length&&yC(g,y,h),y}function yC(r,u,c){function h(T){T&&u.appendChild(typeof T=="string"?r.createTextNode(T):T)}for(var g=2;g<c.length;g++){var y=c[g];if(!_(y)||N(y)&&0<y.nodeType)h(y);else{e:{if(y&&typeof y.length=="number"){if(N(y)){var w=typeof y.item=="function"||typeof y.item=="string";break e}if(I(y)){w=typeof y.item=="function";break e}}w=!1}J(w?se(y):y,h)}}}function Nc(r,u){return u=String(u),r.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),r.createElement(u)}function iw(r){f.setTimeout(function(){throw r},0)}var Xh;function wC(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!yt("Presto")&&(r=function(){var g=Nc(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var y=g.contentWindow;g=y.document,g.open(),g.close();var w="callImmediate"+Math.random(),T=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;g=O(function(V){(T=="*"||V.origin==T)&&V.data==w&&this.port1.onmessage()},this),y.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(w,T)}}}),typeof r<"u"&&!yt("Trident")&&!yt("MSIE")){var u=new r,c={},h=c;return u.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var g=c.Hb;c.Hb=null,g()}},function(g){h.next={Hb:g},h=h.next,u.port2.postMessage(0)}}return function(g){f.setTimeout(g,0)}}function Rc(r,u){xc||bC(),Qh||(xc(),Qh=!0),ow.add(r,u)}var xc;function bC(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);xc=function(){r.then(sw)}}else xc=function(){var u=sw;!I(f.setImmediate)||f.Window&&f.Window.prototype&&!yt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Xh||(Xh=wC()),Xh(u)):f.setImmediate(u)}}var Qh=!1,ow=new hn;function sw(){for(var r;r=K();){try{r.a.call(r.b)}catch(u){iw(u)}at(en,r)}Qh=!1}function Fe(r,u){if(this.a=Yi,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=v)try{var c=this;r.call(u,function(h){Ji(c,Ru,h)},function(h){if(!(h instanceof is))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Ji(c,Hr,h)})}catch(h){Ji(this,Hr,h)}}var Yi=0,Ru=2,Hr=3;function uw(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}uw.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var aw=new gt(function(){return new uw},function(r){r.reset()});function Yh(r,u,c){var h=aw.get();return h.g=r,h.b=u,h.f=c,h}function ve(r){if(r instanceof Fe)return r;var u=new Fe(v);return Ji(u,Ru,r),u}function ct(r){return new Fe(function(u,c){c(r)})}function cw(r,u,c){dw(r,u,c,null)||Rc(W(u,r))}function _C(r){return new Fe(function(u,c){var h=r.length,g=[];if(h)for(var y=function(z,Ie){h--,g[z]=Ie,h==0&&u(g)},w=function(z){c(z)},T=0,V;T<r.length;T++)V=r[T],cw(V,W(y,T),w);else u(g)})}function lw(r){return new Fe(function(u){var c=r.length,h=[];if(c)for(var g=function(T,V,z){c--,h[T]=V?{Qb:!0,value:z}:{Qb:!1,reason:z},c==0&&u(h)},y=0,w;y<r.length;y++)w=r[y],cw(w,W(g,y,!0),W(g,y,!1));else u(h)})}Fe.prototype.then=function(r,u,c){return hw(this,I(r)?r:null,I(u)?u:null,c)},Fe.prototype.$goog_Thenable=!0,e=Fe.prototype,e.oa=function(r,u){return r=Yh(r,r,u),r.c=!0,Jh(this,r),this},e.o=function(r,u){return hw(this,null,r,u)},e.cancel=function(r){if(this.a==Yi){var u=new is(r);Rc(function(){fw(this,u)},this)}};function fw(r,u){if(r.a==Yi)if(r.c){var c=r.c;if(c.b){for(var h=0,g=null,y=null,w=c.b;w&&(w.c||(h++,w.a==r&&(g=w),!(g&&1<h)));w=w.next)g||(y=w);g&&(c.a==Yi&&h==1?fw(c,u):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):gw(c),mw(c,g,Hr,u)))}r.c=null}else Ji(r,Hr,u)}function Jh(r,u){r.b||r.a!=Ru&&r.a!=Hr||pw(r),r.f?r.f.next=u:r.b=u,r.f=u}function hw(r,u,c,h){var g=Yh(null,null,null);return g.a=new Fe(function(y,w){g.g=u?function(T){try{var V=u.call(h,T);y(V)}catch(z){w(z)}}:y,g.b=c?function(T){try{var V=c.call(h,T);V===void 0&&T instanceof is?w(T):y(V)}catch(z){w(z)}}:w}),g.a.c=r,Jh(r,g),g.a}e.$c=function(r){this.a=Yi,Ji(this,Ru,r)},e.ad=function(r){this.a=Yi,Ji(this,Hr,r)};function Ji(r,u,c){r.a==Yi&&(r===c&&(u=Hr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,dw(c,r.$c,r.ad,r)||(r.i=c,r.a=u,r.c=null,pw(r),u!=Hr||c instanceof is||IC(r,c)))}function dw(r,u,c,h){if(r instanceof Fe)return Jh(r,Yh(u||v,c||null,h)),!0;if(Ne(r))return r.then(u,c,h),!0;if(N(r))try{var g=r.then;if(I(g))return EC(r,g,u,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function EC(r,u,c,h,g){function y(V){T||(T=!0,h.call(g,V))}function w(V){T||(T=!0,c.call(g,V))}var T=!1;try{u.call(r,w,y)}catch(V){y(V)}}function pw(r){r.h||(r.h=!0,Rc(r.gc,r))}function gw(r){var u=null;return r.b&&(u=r.b,r.b=u.next,u.next=null),r.b||(r.f=null),u}e.gc=function(){for(var r;r=gw(this);)mw(this,r,this.a,this.i);this.h=!1};function mw(r,u,c,h){if(c==Hr&&u.b&&!u.c)for(;r&&r.g;r=r.c)r.g=!1;if(u.a)u.a.c=null,vw(u,c,h);else try{u.c?u.g.call(u.f):vw(u,c,h)}catch(g){yw.call(null,g)}at(aw,u)}function vw(r,u,c){u==Ru?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function IC(r,u){r.g=!0,Rc(function(){r.g&&yw.call(null,u)})}var yw=iw;function is(r){we.call(this,r)}D(is,we),is.prototype.name="cancel";function Oc(){this.ya=this.ya,this.pa=this.pa}var TC=0;Oc.prototype.ya=!1;function ww(r){!r.ya&&(r.ya=!0,r.Da(),TC!=0)&&R(r)}Oc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var SC=Object.freeze||function(r){return r},bw=!sr||9<=Number(fi),AC=sr&&!ew("9"),kC=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,u=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",v,u),f.removeEventListener("test",v,u)}catch{}return r}();function Sn(r,u){this.type=r,this.b=this.target=u,this.defaultPrevented=!1}Sn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Zi(r,u){if(Sn.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=u,u=r.relatedTarget){if(Jy){e:{try{Hh(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else c=="mouseover"?u=r.fromElement:c=="mouseout"&&(u=r.toElement);this.relatedTarget=u,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:CC[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}D(Zi,Sn);var CC=SC({2:"touch",3:"pen",4:"mouse"});Zi.prototype.preventDefault=function(){Zi.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,AC)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},Zi.prototype.g=function(){return this.a};var xu="closure_listenable_"+(1e6*Math.random()|0),NC=0;function RC(r,u,c,h,g){this.listener=r,this.proxy=null,this.src=u,this.type=c,this.capture=!!h,this.Wa=g,this.key=++NC,this.wa=this.Qa=!1}function Dc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function Pc(r){this.src=r,this.a={},this.b=0}Pc.prototype.add=function(r,u,c,h,g){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.b++);var w=ed(r,u,h,g);return-1<w?(u=r[w],c||(u.Qa=!1)):(u=new RC(u,this.src,y,!!h,g),u.Qa=c,r.push(u)),u};function Zh(r,u){var c=u.type;c in r.a&&j(r.a[c],u)&&(Dc(u),r.a[c].length==0&&(delete r.a[c],r.b--))}function ed(r,u,c,h){for(var g=0;g<r.length;++g){var y=r[g];if(!y.wa&&y.listener==u&&y.capture==!!c&&y.Wa==h)return g}return-1}var td="closure_lm_"+(1e6*Math.random()|0),nd={};function Yn(r,u,c,h,g){if(h&&h.once)rd(r,u,c,h,g);else if(Array.isArray(u))for(var y=0;y<u.length;y++)Yn(r,u[y],c,h,g);else c=od(c),r&&r[xu]?Aw(r,u,c,N(h)?!!h.capture:!!h,g):_w(r,u,c,!1,h,g)}function _w(r,u,c,h,g,y){if(!u)throw Error("Invalid event type");var w=N(g)?!!g.capture:!!g,T=Lc(r);if(T||(r[td]=T=new Pc(r)),c=T.add(u,c,h,w,y),!c.proxy)if(h=xC(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)kC||(g=w),g===void 0&&(g=!1),r.addEventListener(u.toString(),h,g);else if(r.attachEvent)r.attachEvent(Iw(u.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function xC(){var r=OC,u=bw?function(c){return r.call(u.src,u.listener,c)}:function(c){if(c=r.call(u.src,u.listener,c),!c)return c};return u}function rd(r,u,c,h,g){if(Array.isArray(u))for(var y=0;y<u.length;y++)rd(r,u[y],c,h,g);else c=od(c),r&&r[xu]?sd(r,u,c,N(h)?!!h.capture:!!h,g):_w(r,u,c,!0,h,g)}function Fn(r,u,c,h,g){if(Array.isArray(u))for(var y=0;y<u.length;y++)Fn(r,u[y],c,h,g);else h=N(h)?!!h.capture:!!h,c=od(c),r&&r[xu]?(r=r.v,u=String(u).toString(),u in r.a&&(y=r.a[u],c=ed(y,c,h,g),-1<c&&(Dc(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete r.a[u],r.b--)))):r&&(r=Lc(r))&&(u=r.a[u.toString()],r=-1,u&&(r=ed(u,c,h,g)),(c=-1<r?u[r]:null)&&Ew(c))}function Ew(r){if(typeof r!="number"&&r&&!r.wa){var u=r.src;if(u&&u[xu])Zh(u.v,r);else{var c=r.type,h=r.proxy;u.removeEventListener?u.removeEventListener(c,h,r.capture):u.detachEvent?u.detachEvent(Iw(c),h):u.addListener&&u.removeListener&&u.removeListener(h),(c=Lc(u))?(Zh(c,r),c.b==0&&(c.src=null,u[td]=null)):Dc(r)}}}function Iw(r){return r in nd?nd[r]:nd[r]="on"+r}function Tw(r,u,c,h){var g=!0;if((r=Lc(r))&&(u=r.a[u.toString()]))for(u=u.concat(),r=0;r<u.length;r++){var y=u[r];y&&y.capture==c&&!y.wa&&(y=Sw(y,h),g=g&&y!==!1)}return g}function Sw(r,u){var c=r.listener,h=r.Wa||r.src;return r.Qa&&Ew(r),c.call(h,u)}function OC(r,u){if(r.wa)return!0;if(!bw){if(!u)e:{u=["window","event"];for(var c=f,h=0;h<u.length;h++)if(c=c[u[h]],c==null){u=null;break e}u=c}if(h=u,u=new Zi(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var g=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{g=!0}(g||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],g=u.b;g;g=g.parentNode)h.push(g);for(r=r.type,g=h.length-1;0<=g;g--){u.b=h[g];var y=Tw(h[g],r,!0,u);c=c&&y}for(g=0;g<h.length;g++)u.b=h[g],y=Tw(h[g],r,!1,u),c=c&&y}return c}return Sw(r,new Zi(u,this))}function Lc(r){return r=r[td],r instanceof Pc?r:null}var id="__closure_events_fn_"+(1e9*Math.random()>>>0);function od(r){return I(r)?r:(r[id]||(r[id]=function(u){return r.handleEvent(u)}),r[id])}function pn(){Oc.call(this),this.v=new Pc(this),this.bc=this,this.hb=null}D(pn,Oc),pn.prototype[xu]=!0,pn.prototype.addEventListener=function(r,u,c,h){Yn(this,r,u,c,h)},pn.prototype.removeEventListener=function(r,u,c,h){Fn(this,r,u,c,h)},pn.prototype.dispatchEvent=function(r){var u,c=this.hb;if(c)for(u=[];c;c=c.hb)u.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new Sn(r,c);else if(r instanceof Sn)r.target=r.target||c;else{var g=r;r=new Sn(h,c),Kt(r,g)}if(g=!0,u)for(var y=u.length-1;0<=y;y--){var w=r.b=u[y];g=Mc(w,h,!0,r)&&g}if(w=r.b=c,g=Mc(w,h,!0,r)&&g,g=Mc(w,h,!1,r)&&g,u)for(y=0;y<u.length;y++)w=r.b=u[y],g=Mc(w,h,!1,r)&&g;return g},pn.prototype.Da=function(){if(pn.bb.Da.call(this),this.v){var r=this.v,u;for(u in r.a){for(var c=r.a[u],h=0;h<c.length;h++)Dc(c[h]);delete r.a[u],r.b--}}this.hb=null};function Aw(r,u,c,h,g){r.v.add(String(u),c,!1,h,g)}function sd(r,u,c,h,g){r.v.add(String(u),c,!0,h,g)}function Mc(r,u,c,h){if(u=r.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,y=0;y<u.length;++y){var w=u[y];if(w&&!w.wa&&w.capture==c){var T=w.listener,V=w.Wa||w.src;w.Qa&&Zh(r.v,w),g=T.call(V,h)!==!1&&g}}return g&&!h.defaultPrevented}function ud(r,u,c){if(I(r))c&&(r=O(r,c));else if(r&&typeof r.handleEvent=="function")r=O(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:f.setTimeout(r,u||0)}function os(r){var u=null;return new Fe(function(c,h){u=ud(function(){c(void 0)},r),u==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(u),c})}function kw(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var u=[],c=r.length,h=0;h<c;h++)u.push(r[h]);return u}u=[],c=0;for(h in r)u[c++]=r[h];return u}function Cw(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var u=[];r=r.length;for(var c=0;c<r;c++)u.push(c);return u}u=[],c=0;for(var h in r)u[c++]=h;return u}}function DC(r,u){if(r.forEach&&typeof r.forEach=="function")r.forEach(u,void 0);else if(_(r)||typeof r=="string")J(r,u,void 0);else for(var c=Cw(r),h=kw(r),g=h.length,y=0;y<g;y++)u.call(void 0,h[y],c&&c[y],r)}function ss(r,u){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof ss)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}e=ss.prototype,e.X=function(){ad(this);for(var r=[],u=0;u<this.a.length;u++)r.push(this.b[this.a[u]]);return r},e.Y=function(){return ad(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function ad(r){if(r.c!=r.a.length){for(var u=0,c=0;u<r.a.length;){var h=r.a[u];eo(r.b,h)&&(r.a[c++]=h),u++}r.a.length=c}if(r.c!=r.a.length){var g={};for(c=u=0;u<r.a.length;)h=r.a[u],eo(g,h)||(r.a[c++]=h,g[h]=1),u++;r.a.length=c}}e.get=function(r,u){return eo(this.b,r)?this.b[r]:u},e.set=function(r,u){eo(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=u},e.forEach=function(r,u){for(var c=this.Y(),h=0;h<c.length;h++){var g=c[h],y=this.get(g);r.call(u,y,g,this)}};function eo(r,u){return Object.prototype.hasOwnProperty.call(r,u)}var Nw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function PC(r,u){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),g=null;if(0<=h){var y=r[c].substring(0,h);g=r[c].substring(h+1)}else y=r[c];u(y,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function hi(r,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof hi?(this.i=u!==void 0?u:r.i,Ou(this,r.c),this.l=r.l,this.a=r.a,Du(this,r.g),this.f=r.f,cd(this,Dw(r.b)),this.h=r.h):r&&(c=String(r).match(Nw))?(this.i=!!u,Ou(this,c[1]||"",!0),this.l=Pu(c[2]||""),this.a=Pu(c[3]||"",!0),Du(this,c[4]),this.f=Pu(c[5]||"",!0),cd(this,c[6]||"",!0),this.h=Pu(c[7]||"")):(this.i=!!u,this.b=new to(null,this.i))}hi.prototype.toString=function(){var r=[],u=this.c;u&&r.push(Lu(u,Rw,!0),":");var c=this.a;return(c||u=="file")&&(r.push("//"),(u=this.l)&&r.push(Lu(u,Rw,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(Lu(c,c.charAt(0)=="/"?FC:MC,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",Lu(c,VC)),r.join("")},hi.prototype.resolve=function(r){var u=new hi(this),c=!!r.c;c?Ou(u,r.c):c=!!r.l,c?u.l=r.l:c=!!r.a,c?u.a=r.a:c=r.g!=null;var h=r.f;if(c)Du(u,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var g=u.f.lastIndexOf("/");g!=-1&&(h=u.f.substr(0,g+1)+h)}if(g=h,g==".."||g==".")h="";else if(ae(g,"./")||ae(g,"/.")){h=g.lastIndexOf("/",0)==0,g=g.split("/");for(var y=[],w=0;w<g.length;){var T=g[w++];T=="."?h&&w==g.length&&y.push(""):T==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&w==g.length&&y.push("")):(y.push(T),h=!0)}h=y.join("/")}else h=g}return c?u.f=h:c=r.b.toString()!=="",c?cd(u,Dw(r.b)):c=!!r.h,c&&(u.h=r.h),u};function Ou(r,u,c){r.c=c?Pu(u,!0):u,r.c&&(r.c=r.c.replace(/:$/,""))}function Du(r,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);r.g=u}else r.g=null}function cd(r,u,c){u instanceof to?(r.b=u,jC(r.b,r.i)):(c||(u=Lu(u,UC)),r.b=new to(u,r.i))}function Tt(r,u,c){r.b.set(u,c)}function Jn(r,u){return r.b.get(u)}function An(r){return r instanceof hi?new hi(r):new hi(r,void 0)}function Fc(r,u,c,h){var g=new hi(null,void 0);return r&&Ou(g,r),u&&(g.a=u),c&&Du(g,c),h&&(g.f=h),g}function Pu(r,u){return r?u?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Lu(r,u,c){return typeof r=="string"?(r=encodeURI(r).replace(u,LC),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function LC(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Rw=/[#\/\?@]/g,MC=/[#\?:]/g,FC=/[#\?]/g,UC=/[#\?@]/g,VC=/#/g;function to(r,u){this.b=this.a=null,this.c=r||null,this.f=!!u}function di(r){r.a||(r.a=new ss,r.b=0,r.c&&PC(r.c,function(u,c){r.add(decodeURIComponent(u.replace(/\+/g," ")),c)}))}function xw(r){var u=Cw(r);if(typeof u>"u")throw Error("Keys are undefined");var c=new to(null,void 0);r=kw(r);for(var h=0;h<u.length;h++){var g=u[h],y=r[h];Array.isArray(y)?Ow(c,g,y):c.add(g,y)}return c}e=to.prototype,e.add=function(r,u){di(this),this.c=null,r=us(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(u),this.b+=1,this};function Ar(r,u){di(r),u=us(r,u),eo(r.a.b,u)&&(r.c=null,r.b-=r.a.get(u).length,r=r.a,eo(r.b,u)&&(delete r.b[u],r.c--,r.a.length>2*r.c&&ad(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function ld(r,u){return di(r),u=us(r,u),eo(r.a.b,u)}e.forEach=function(r,u){di(this),this.a.forEach(function(c,h){J(c,function(g){r.call(u,g,h,this)},this)},this)},e.Y=function(){di(this);for(var r=this.a.X(),u=this.a.Y(),c=[],h=0;h<u.length;h++)for(var g=r[h],y=0;y<g.length;y++)c.push(u[h]);return c},e.X=function(r){di(this);var u=[];if(typeof r=="string")ld(this,r)&&(u=te(u,this.a.get(us(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)u=te(u,r[c])}return u},e.set=function(r,u){return di(this),this.c=null,r=us(this,r),ld(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[u]),this.b+=1,this},e.get=function(r,u){return r?(r=this.X(r),0<r.length?String(r[0]):u):u};function Ow(r,u,c){Ar(r,u),0<c.length&&(r.c=null,r.a.set(us(r,u),se(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],u=this.a.Y(),c=0;c<u.length;c++){var h=u[c],g=encodeURIComponent(String(h));h=this.X(h);for(var y=0;y<h.length;y++){var w=g;h[y]!==""&&(w+="="+encodeURIComponent(String(h[y]))),r.push(w)}}return this.c=r.join("&")};function Dw(r){var u=new to;return u.c=r.c,r.a&&(u.a=new ss(r.a),u.b=r.b),u}function us(r,u){return u=String(u),r.f&&(u=u.toLowerCase()),u}function jC(r,u){u&&!r.f&&(di(r),r.c=null,r.a.forEach(function(c,h){var g=h.toLowerCase();h!=g&&(Ar(this,h),Ow(this,g,c))},r)),r.f=u}function Pw(r){var u=[];return fd(new BC,r,u),u.join("")}function BC(){}function fd(r,u,c){if(u==null)c.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var h=u;u=h.length,c.push("[");for(var g="",y=0;y<u;y++)c.push(g),fd(r,h[y],c),g=",";c.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{c.push("{"),g="";for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&(y=u[h],typeof y!="function"&&(c.push(g),Mw(h,c),c.push(":"),fd(r,y,c),g=","));c.push("}");return}}switch(typeof u){case"string":Mw(u,c);break;case"number":c.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":c.push(String(u));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var Lw={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},qC=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Mw(r,u){u.push('"',r.replace(qC,function(c){var h=Lw[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),Lw[c]=h),h}),'"')}function hd(){var r=zt();return sr&&!!fi&&fi==11||/Edge\/\d+/.test(r)}function Mu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Fw(r,u){u=u||f.window;var c="about:blank";r&&(c=kc(Ky(r)||Gy)),u.location.href=c}function Uw(r,u){var c=[],h;for(h in r)h in u?typeof r[h]!=typeof u[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&u[h]!=null?0<Uw(r[h],u[h]).length&&c.push(h):r[h]!==u[h]&&c.push(h):c.push(h);for(h in u)h in r||c.push(h);return c}function $C(){var r=zt();return r=as(r)!=qw?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!sr||!fi||9<fi}function Vw(r){return r=(r||zt()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function no(r){r=r||f.window;try{r.close()}catch{}}function jw(r,u,c){var h=Math.floor(1e9*Math.random()).toString();u=u||500,c=c||600;var g=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-u)/2;u={width:u,height:c,top:0<g?g:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=zt().toLowerCase(),h&&(u.target=h,ae(c,"crios/")&&(u.target="_blank")),as(zt())==gd&&(r=r||"http://localhost",u.scrollbars=!0),c=r||"",(r=u)||(r={}),h=window,u=c instanceof Tn?c:Ky(typeof c.href<"u"?c.href:String(c))||Gy,c=r.target||c.target,g=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":g.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(w+"="+(r[w]?1:0))}var w=g.join(",");if((yt("iPhone")&&!yt("iPod")&&!yt("iPad")||yt("iPad")||yt("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=Nc(document,"A"),Vy(w,"HTMLAnchorElement"),u=u instanceof Tn?u:zy(u),w.href=kc(u),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=Xy("",h,c,w),r=kc(u),w&&(dC&&ae(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+$h(r)+'">',r=(h=By())?h.createHTML(r):r,r=new rs(r,null,Wy),h=w.document)&&(h.write(cC(r)),h.close())):(w=Xy(u,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function HC(r){return new Fe(function(u){function c(){os(2e3).then(function(){if(!r||r.closed)u();else return c()})}return c()})}var KC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zC=/^[^@]+@[^@]+$/;function Uc(){var r=null;return new Fe(function(u){f.document.readyState=="complete"?u():(r=function(){u()},rd(window,"load",r))}).o(function(u){throw Fn(window,"load",r),u})}function GC(){return dd(void 0)?Uc().then(function(){return new Fe(function(r,u){var c=f.document,h=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):ct(Error("Cordova must run in an Android or iOS file scheme."))}function dd(r){return r=r||zt(),!(ls()!=="file:"&&ls()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function pd(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function ur(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function kr(){return be.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":be.INTERNAL.hasOwnProperty("node")?"Node":ur()?"Worker":"Browser"}function Bw(){var r=kr();return r==="ReactNative"||r==="Node"}function WC(){for(var r=50,u=[];0<r;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return u.join("")}var gd="Firefox",qw="Chrome";function as(r){var u=r.toLowerCase();if(ae(u,"opera/")||ae(u,"opr/")||ae(u,"opios/"))return"Opera";if(ae(u,"iemobile"))return"IEMobile";if(ae(u,"msie")||ae(u,"trident/"))return"IE";if(ae(u,"edge/"))return"Edge";if(ae(u,"firefox/"))return gd;if(ae(u,"silk/"))return"Silk";if(ae(u,"blackberry"))return"Blackberry";if(ae(u,"webos"))return"Webos";if(!ae(u,"safari/")||ae(u,"chrome/")||ae(u,"crios/")||ae(u,"android"))if(!ae(u,"chrome/")&&!ae(u,"crios/")||ae(u,"edge/")){if(ae(u,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return qw;else return"Safari";return"Other"}var $w={md:"FirebaseCore-web",od:"FirebaseUI-web"};function cs(r,u){u=u||[];var c=[],h={},g;for(g in $w)h[$w[g]]=!0;for(g=0;g<u.length;g++)typeof h[u[g]]<"u"&&(delete h[u[g]],c.push(u[g]));return c.sort(),u=c,u.length||(u=["FirebaseCore-web"]),c=kr(),c==="Browser"?(h=zt(),c=as(h)):c==="Worker"&&(h=zt(),c=as(h)+"-"+c),c+"/JsCore/"+r+"/"+u.join(",")}function zt(){return f.navigator&&f.navigator.userAgent||""}function lt(r,u){r=r.split("."),u=u||f;for(var c=0;c<r.length&&typeof u=="object"&&u!=null;c++)u=u[r[c]];return c!=r.length&&(u=void 0),u}function md(){try{var r=f.localStorage,u=io();if(r)return r.setItem(u,"1"),r.removeItem(u),hd()?!!f.indexedDB:!0}catch{return ur()&&!!f.indexedDB}return!1}function ro(){return(Vc()||ls()==="chrome-extension:"||dd())&&!Bw()&&md()&&!ur()}function Vc(){return ls()==="http:"||ls()==="https:"}function ls(){return f.location&&f.location.protocol||null}function Fu(r){return r=r||zt(),!(Vw(r)||as(r)==gd)}function Uu(r){return typeof r>"u"?null:Pw(r)}function Hw(r){var u={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(u[c]=r[c]);return u}function fs(r){if(r!==null)return JSON.parse(r)}function io(r){return r||Math.floor(1e9*Math.random()).toString()}function Kw(r){return r=r||zt(),!(as(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function zw(){var r=f.___jsl;if(r&&r.H){for(var u in r.H)if(r.H[u].r=r.H[u].r||[],r.H[u].L=r.H[u].L||[],r.H[u].r=r.H[u].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function pi(r,u){if(r>u)throw Error("Short delay should be less than long delay!");this.a=r,this.c=u,r=zt(),u=kr(),this.b=Vw(r)||u==="ReactNative"}pi.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Vc()||ls()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function vd(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function XC(){var r=f.document,u=null;return vd()||!r?ve():new Fe(function(c){u=function(){vd()&&(r.removeEventListener("visibilitychange",u,!1),c())},r.addEventListener("visibilitychange",u,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",u,!1),c})}function Vu(r){try{var u=new Date(parseInt(r,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(r))return u.toUTCString()}catch{}return null}function Gw(){return!(!lt("fireauth.oauthhelper",f)&&!lt("fireauth.iframe",f))}function QC(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function YC(){var r=f.navigator;return r&&r.serviceWorker?ve().then(function(){return r.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):ve(null)}var Ww={};function yd(r){Ww[r]||(Ww[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var wd;try{var bd={};Object.defineProperty(bd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(bd,"abcd",{configurable:!0,enumerable:!0,value:2}),wd=bd.abcd==2}catch{wd=!1}function pe(r,u,c){wd?Object.defineProperty(r,u,{configurable:!0,enumerable:!0,value:c}):r[u]=c}function gn(r,u){if(u)for(var c in u)u.hasOwnProperty(c)&&pe(r,c,u[c])}function Cr(r){var u={};return gn(u,r),u}function JC(r){var u={},c;for(c in r)r.hasOwnProperty(c)&&(u[c]=r[c]);return u}function ZC(r,u){if(!u||!u.length)return!0;if(!r)return!1;for(var c=0;c<u.length;c++){var h=r[u[c]];if(h==null||h==="")return!1}return!0}function _d(r){var u=r;if(typeof r=="object"&&r!=null){u="length"in r?[]:{};for(var c in r)pe(u,c,_d(r[c]))}return u}function Ed(r){var u=r&&(r[Ad]?"phone":null);if(u&&r&&r[Sd]){pe(this,"uid",r[Sd]),pe(this,"displayName",r[Xw]||null);var c=null;r[Td]&&(c=new Date(r[Td]).toUTCString()),pe(this,"enrollmentTime",c),pe(this,"factorId",u)}else throw new S("internal-error","Internal assert: invalid MultiFactorInfo object")}Ed.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Id(r){try{var u=new ju(r)}catch{u=null}return u}var Xw="displayName",Td="enrolledAt",Sd="mfaEnrollmentId",Ad="phoneInfo";function ju(r){Ed.call(this,r),pe(this,"phoneNumber",r[Ad])}D(ju,Ed),ju.prototype.w=function(){var r=ju.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function eN(r){var u={},c=r[tN],h=r[rN],g=r[iN];if(r=Id(r[nN]),!g||g!=jc&&g!=Bu&&!c||g==Bu&&!h||g==kd&&!r)throw Error("Invalid checkActionCode response!");g==Bu?(u[Yw]=c||null,u[Jw]=c||null,u[Qw]=h):(u[Yw]=h||null,u[Jw]=h||null,u[Qw]=c||null),u[oN]=r||null,pe(this,uN,g),pe(this,sN,_d(u))}var kd="REVERT_SECOND_FACTOR_ADDITION",jc="EMAIL_SIGNIN",Bu="VERIFY_AND_CHANGE_EMAIL",tN="email",nN="mfaInfo",rN="newEmail",iN="requestType",Qw="email",Yw="fromEmail",oN="multiFactorInfo",Jw="previousEmail",sN="data",uN="operation";function Cd(r){r=An(r);var u=Jn(r,Zw)||null,c=Jn(r,e0)||null,h=Jn(r,t0)||null;if(h=h&&fN[h]||null,!u||!c||!h)throw new S("argument-error",Zw+", "+e0+"and "+t0+" are required in a valid action code URL.");gn(this,{apiKey:u,operation:h,code:c,continueUrl:Jn(r,aN)||null,languageCode:Jn(r,cN)||null,tenantId:Jn(r,lN)||null})}var Zw="apiKey",e0="oobCode",aN="continueUrl",cN="languageCode",t0="mode",lN="tenantId",fN={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:kd,signIn:jc,verifyAndChangeEmail:Bu,verifyEmail:"VERIFY_EMAIL"};function n0(r){try{return new Cd(r)}catch{return null}}function Bc(r){var u=r[hN];if(typeof u>"u")throw new S("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new S("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var c=r[r0];if(c&&typeof c=="object"){u=c[a0];var h=c[s0];if(c=c[u0],typeof u=="string"&&u.length){if(this.a=u,typeof h<"u"&&typeof h!="boolean")throw new S("argument-error",s0+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new S("argument-error",u0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof u<"u")throw new S("argument-error",a0+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new S("missing-android-pkg-name")}}else if(typeof c<"u")throw new S("argument-error",r0+" property must be a non null object when specified.");if(this.f=null,(u=r[o0])&&typeof u=="object"){if(u=u[c0],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new S("argument-error",c0+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new S("argument-error",o0+" property must be a non null object when specified.");if(u=r[Nd],typeof u<"u"&&typeof u!="boolean")throw new S("argument-error",Nd+" property must be a boolean when specified.");if(this.c=!!u,r=r[i0],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new S("argument-error",i0+" property must be a non empty string when specified.");this.i=r||null}var r0="android",i0="dynamicLinkDomain",Nd="handleCodeInApp",o0="iOS",hN="url",s0="installApp",u0="minimumVersion",a0="packageName",c0="bundleId";function qc(r){var u={};u.continueUrl=r.h,u.canHandleCodeInApp=r.c,(u.androidPackageName=r.a)&&(u.androidMinimumVersion=r.b,u.androidInstallApp=r.g),u.iOSBundleId=r.f,u.dynamicLinkDomain=r.i;for(var c in u)u[c]===null&&delete u[c];return u}function dN(r){return _e(r,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var qu=null;function pN(r){var u=[];return gN(r,function(c){u.push(c)}),u}function gN(r,u){function c(V){for(;h<r.length;){var z=r.charAt(h++),Ie=qu[z];if(Ie!=null)return Ie;if(!/^[\s\xa0]*$/.test(z))throw Error("Unknown base64 encoding at char: "+z)}return V}mN();for(var h=0;;){var g=c(-1),y=c(0),w=c(64),T=c(64);if(T===64&&g===-1)break;u(g<<2|y>>4),w!=64&&(u(y<<4&240|w>>2),T!=64&&u(w<<6&192|T))}}function mN(){if(!qu){qu={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(u[c].split("")),g=0;g<h.length;g++){var y=h[g];qu[y]===void 0&&(qu[y]=g)}}}function $c(r){var u=l0(r);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=r,this.a=u.exp,this.i=u.sub,r=Date.now()/1e3,this.g=u.iat||(r>this.a?this.a:r),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}$c.prototype.T=function(){return this.f},$c.prototype.l=function(){return this.c},$c.prototype.toString=function(){return this.h};function Hc(r){try{return new $c(r)}catch{return null}}function l0(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var u=(4-r.length%4)%4,c=0;c<u;c++)r+=".";try{var h=pN(r);for(r=[],c=u=0;u<h.length;){var g=h[u++];if(128>g)r[c++]=String.fromCharCode(g);else if(191<g&&224>g){var y=h[u++];r[c++]=String.fromCharCode((g&31)<<6|y&63)}else if(239<g&&365>g){y=h[u++];var w=h[u++],T=h[u++],V=((g&7)<<18|(y&63)<<12|(w&63)<<6|T&63)-65536;r[c++]=String.fromCharCode(55296+(V>>10)),r[c++]=String.fromCharCode(56320+(V&1023))}else y=h[u++],w=h[u++],r[c++]=String.fromCharCode((g&15)<<12|(y&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var f0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Kc=["client_id","response_type","scope","redirect_uri","state"],Rd={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Kc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Kc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Kc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:f0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function xd(r){for(var u in Rd)if(Rd[u].fa==r)return Rd[u];return null}function h0(r){var u={};u["facebook.com"]=p0,u["google.com"]=m0,u["github.com"]=g0,u["twitter.com"]=v0;var c=r&&r[d0];try{if(c)return u[c]?new u[c](r):new Nr(r);if(typeof r[Od]<"u")return new Dd(r)}catch{}return null}var Od="idToken",d0="providerId";function Dd(r){var u=r[d0];if(!u&&r[Od]){var c=Hc(r[Od]);c&&c.b&&(u=c.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),pe(this,"providerId",u),pe(this,"isNewUser",c)}function Nr(r){Dd.call(this,r),r=fs(r.rawUserInfo||"{}"),pe(this,"profile",_d(r||{}))}D(Nr,Dd);function p0(r){if(Nr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}D(p0,Nr);function g0(r){if(Nr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");pe(this,"username",this.profile&&this.profile.login||null)}D(g0,Nr);function m0(r){if(Nr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}D(m0,Nr);function v0(r){if(Nr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");pe(this,"username",r.screenName||null)}D(v0,Nr);function y0(r){var u=An(r),c=Jn(u,"link"),h=Jn(An(c),"link");return u=Jn(u,"deep_link_id"),Jn(An(u),"link")||u||h||c||r}function zc(r,u){if(!r&&!u)throw new S("internal-error","Internal assert: no raw session string available");if(r&&u)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=u||null,this.type=this.a?$u:Gc}var $u="enroll",Gc="signin";zc.prototype.Ha=function(){return this.a?ve(this.a):ve(this.b)},zc.prototype.w=function(){return this.type==$u?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function hs(){}hs.prototype.ka=function(){},hs.prototype.b=function(){},hs.prototype.c=function(){},hs.prototype.w=function(){};function ds(r,u){return r.then(function(c){if(c[lr]){var h=Hc(c[lr]);if(!h||u!=h.i)throw new S("user-mismatch");return c}throw new S("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==De+"user-not-found"?new S("user-mismatch"):c})}function oo(r,u){if(u)this.a=u;else throw new S("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",r)}oo.prototype.ka=function(r){return rp(r,Pd(this))},oo.prototype.b=function(r,u){var c=Pd(this);return c.idToken=u,ip(r,c)},oo.prototype.c=function(r,u){return ds(op(r,Pd(this)),u)};function Pd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}oo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function vN(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new oo(r.providerId,r.pendingToken)}catch{}return null}function Kr(r,u,c){if(this.a=null,u.idToken||u.accessToken)u.idToken&&pe(this,"idToken",u.idToken),u.accessToken&&pe(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&pe(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)pe(this,"accessToken",u.oauthToken),pe(this,"secret",u.oauthTokenSecret);else throw new S("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",c)}Kr.prototype.ka=function(r){return rp(r,Ld(this))},Kr.prototype.b=function(r,u){var c=Ld(this);return c.idToken=u,ip(r,c)},Kr.prototype.c=function(r,u){var c=Ld(this);return ds(op(r,c),u)};function Ld(r){var u={};return r.idToken&&(u.id_token=r.idToken),r.accessToken&&(u.access_token=r.accessToken),r.secret&&(u.oauth_token_secret=r.secret),u.providerId=r.providerId,r.nonce&&!r.a&&(u.nonce=r.nonce),u={postBody:xw(u).toString(),requestUri:"http://localhost"},r.a&&(delete u.postBody,u.pendingToken=r.a),u}Kr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function yN(r){if(r&&r.providerId&&r.signInMethod){var u={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Kr(r.providerId,u,r.signInMethod)}catch{}}return null}function so(r,u){this.Qc=u||[],gn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(xd(r)||{}).Ja||null,this.pb=null}so.prototype.Ka=function(r){return this.Jb=wt(r),this};function w0(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');so.call(this,r,[])}D(w0,so);function Un(r){so.call(this,r,Kc),this.a=[]}D(Un,so),Un.prototype.Ca=function(r){return M(this.a,r)||this.a.push(r),this},Un.prototype.Rb=function(){return se(this.a)},Un.prototype.credential=function(r,u){var c;if(N(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:u||null},!c.idToken&&!c.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new Kr(this.providerId,c,this.providerId)};function uo(){Un.call(this,"facebook.com")}D(uo,Un),pe(uo,"PROVIDER_ID","facebook.com"),pe(uo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function b0(r){if(!r)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=r;return N(r)&&(u=r.accessToken),new uo().credential({accessToken:u})}function ao(){Un.call(this,"github.com")}D(ao,Un),pe(ao,"PROVIDER_ID","github.com"),pe(ao,"GITHUB_SIGN_IN_METHOD","github.com");function _0(r){if(!r)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=r;return N(r)&&(u=r.accessToken),new ao().credential({accessToken:u})}function co(){Un.call(this,"google.com"),this.Ca("profile")}D(co,Un),pe(co,"PROVIDER_ID","google.com"),pe(co,"GOOGLE_SIGN_IN_METHOD","google.com");function E0(r,u){var c=r;return N(r)&&(c=r.idToken,u=r.accessToken),new co().credential({idToken:c,accessToken:u})}function ps(){so.call(this,"twitter.com",f0)}D(ps,so),pe(ps,"PROVIDER_ID","twitter.com"),pe(ps,"TWITTER_SIGN_IN_METHOD","twitter.com");function I0(r,u){var c=r;if(N(c)||(c={oauthToken:r,oauthTokenSecret:u}),!c.oauthToken||!c.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Kr("twitter.com",c,"twitter.com")}function gi(r,u,c){this.a=r,this.f=u,pe(this,"providerId","password"),pe(this,"signInMethod",c===Zn.EMAIL_LINK_SIGN_IN_METHOD?Zn.EMAIL_LINK_SIGN_IN_METHOD:Zn.EMAIL_PASSWORD_SIGN_IN_METHOD)}gi.prototype.ka=function(r){return this.signInMethod==Zn.EMAIL_LINK_SIGN_IN_METHOD?Ue(r,nR,{email:this.a,oobCode:this.f}):Ue(r,Y0,{email:this.a,password:this.f})},gi.prototype.b=function(r,u){return this.signInMethod==Zn.EMAIL_LINK_SIGN_IN_METHOD?Ue(r,rR,{idToken:u,email:this.a,oobCode:this.f}):Ue(r,Q0,{idToken:u,email:this.a,password:this.f})},gi.prototype.c=function(r,u){return ds(this.ka(r),u)},gi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function wN(r){return r&&r.email&&r.password?new gi(r.email,r.password,r.signInMethod):null}function Zn(){gn(this,{providerId:"password",isOAuthProvider:!1})}function T0(r,u){if(u=Md(u),!u)throw new S("argument-error","Invalid email link!");return new gi(r,u.code,Zn.EMAIL_LINK_SIGN_IN_METHOD)}function Md(r){return r=y0(r),(r=n0(r))&&r.operation===jc?r:null}gn(Zn,{PROVIDER_ID:"password"}),gn(Zn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),gn(Zn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function mi(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new S("internal-error");this.a=r,pe(this,"providerId","phone"),this.fa="phone",pe(this,"signInMethod","phone")}mi.prototype.ka=function(r){return r.gb(Hu(this))},mi.prototype.b=function(r,u){var c=Hu(this);return c.idToken=u,Ue(r,IR,c)},mi.prototype.c=function(r,u){var c=Hu(this);return c.operation="REAUTH",r=Ue(r,TR,c),ds(r,u)},mi.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function bN(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var u={};return J(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(u[c]=r[c])}),new mi(u)}return null}function Hu(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function zr(r){try{this.a=r||be.auth()}catch{throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}gn(this,{providerId:"phone",isOAuthProvider:!1})}zr.prototype.gb=function(r,u){var c=this.a.a;return ve(u.verify()).then(function(h){if(typeof h!="string")throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=N(r)?r.session:null,y=N(r)?r.phoneNumber:r,w;return g&&g.type==$u?w=g.Ha().then(function(T){return GN(c,{idToken:T,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):g&&g.type==Gc?w=g.Ha().then(function(T){return WN(c,{mfaPendingCredential:T,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=zN(c,{phoneNumber:y,recaptchaToken:h}),w.then(function(T){return typeof u.reset=="function"&&u.reset(),T},function(T){throw typeof u.reset=="function"&&u.reset(),T});default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function S0(r,u){if(!r)throw new S("missing-verification-id");if(!u)throw new S("missing-verification-code");return new mi({fb:r,eb:u})}gn(zr,{PROVIDER_ID:"phone"}),gn(zr,{PHONE_SIGN_IN_METHOD:"phone"});function Fd(r){if(r.temporaryProof&&r.phoneNumber)return new mi({La:r.temporaryProof,ea:r.phoneNumber});var u=r&&r.providerId;if(!u||u==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,g=r&&r.nonce,y=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(u){case"google.com":return E0(y,c);case"facebook.com":return b0(c);case"github.com":return _0(c);case"twitter.com":return I0(c,h);default:return c||h||y||w?w?u.indexOf("saml.")==0?new oo(u,w):new Kr(u,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},u):new Un(u).credential({idToken:y,accessToken:c,rawNonce:g}):null}}catch{return null}}function Ud(r){if(!r.isOAuthProvider)throw new S("invalid-oauth-provider")}function ar(r,u,c,h,g,y,w){if(this.c=r,this.b=u||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=w||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}else throw new S("invalid-auth-event")}ar.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},ar.prototype.T=function(){return this.h},ar.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function A0(r){return r=r||{},r.type?new ar(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Ae(r.error),r.postBody,r.tenantId):null}function _N(){this.b=null,this.a=[]}var Vd=null;function EN(r){var u=Vd;u.a.push(r),u.b||(u.b=function(c){for(var h=0;h<u.a.length;h++)u.a[h](c)},r=lt("universalLinks.subscribe",f),typeof r=="function"&&r(null,u.b))}function jd(r){var u="unauthorized-domain",c=void 0,h=An(r);r=h.a,h=h.c,h=="chrome-extension"?c=Qy("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=Qy("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):u="operation-not-supported-in-this-environment",S.call(this,u,c)}D(jd,S);function Ku(r,u,c){S.call(this,r,c),r=u||{},r.Kb&&pe(this,"email",r.Kb),r.ea&&pe(this,"phoneNumber",r.ea),r.credential&&pe(this,"credential",r.credential),r.$b&&pe(this,"tenantId",r.$b)}D(Ku,S),Ku.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Kt(r,u),r},Ku.prototype.toJSON=function(){return this.w()};function Wc(r){if(r.code){var u=r.code||"";u.indexOf(De)==0&&(u=u.substring(De.length));var c={credential:Fd(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new S(u,r.message||void 0);return new Ku(u,c,r.message)}return null}function zu(){}zu.prototype.c=null;function k0(r){return r.c||(r.c=r.b())}var Bd;function Xc(){}D(Xc,zu),Xc.prototype.a=function(){var r=C0(this);return r?new ActiveXObject(r):new XMLHttpRequest},Xc.prototype.b=function(){var r={};return C0(this)&&(r[0]=!0,r[1]=!0),r};function C0(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<u.length;c++){var h=u[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}Bd=new Xc;function Qc(){}D(Qc,zu),Qc.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new N0;throw Error("Unsupported browser")},Qc.prototype.b=function(){return{}};function N0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Tb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=N0.prototype,e.open=function(r,u,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,u)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,qd(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",qd(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,qd(this,1)};function qd(r,u){r.readyState=u,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function $d(r,u,c){this.reset(r,u,c,void 0,void 0)}$d.prototype.a=null,$d.prototype.reset=function(r,u,c,h,g){delete this.a};function Hd(r){this.f=r,this.b=this.c=this.a=null}function Gu(r,u){this.name=r,this.value=u}Gu.prototype.toString=function(){return this.name};var R0=new Gu("SEVERE",1e3),Kd=new Gu("WARNING",900),IN=new Gu("CONFIG",700),TN=new Gu("FINE",500);function x0(r){return r.c?r.c:r.a?x0(r.a):(pt("Root logger has no level set."),null)}Hd.prototype.log=function(r,u,c){if(r.value>=x0(this).value)for(I(u)&&(u=u()),r=new $d(r,String(u),this.f),c&&(r.a=c),c=this;c;)c=c.a};var zd={},Yc=null;function Gd(r){Yc||(Yc=new Hd(""),zd[""]=Yc,Yc.c=IN);var u;if(!(u=zd[r])){u=new Hd(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=Gd(r.substr(0,c)),c.b||(c.b={}),c.b[h]=u,u.a=c,zd[r]=u}return u}function er(r,u){r&&r.log(TN,u,void 0)}function Jc(r){this.f=r}D(Jc,zu),Jc.prototype.a=function(){return new Zc(this.f)},Jc.prototype.b=function(r){return function(){return r}}({});function Zc(r){pn.call(this),this.u=r,this.h=void 0,this.readyState=Wd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Gd("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}D(Zc,pn);var Wd=0;e=Zc.prototype,e.open=function(r,u){if(this.readyState!=Wd)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=u,this.readyState=1,Xu(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(u.body=r),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Wu(this)),this.readyState=Wd},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Xu(this)),this.a&&(this.readyState=3,Xu(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,O0(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function O0(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var u=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});u&&(this.response=this.responseText+=u),r.done?Wu(this):Xu(this),this.readyState==3&&O0(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,Wu(this))},e.sc=function(r){this.a&&(this.response=r,Wu(this))},e.Va=function(r){var u=this.i;u&&u.log(Kd,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Wu(this)};function Wu(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Xu(r)}e.setRequestHeader=function(r,u){this.l.append(r,u)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(Kd,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(Kd,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var u=this.b.entries(),c=u.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=u.next();return r.join(`\r
`)};function Xu(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(Zc.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Qu(r){pn.call(this),this.headers=new ss,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=D0,this.u=this.S=!1}D(Qu,pn);var D0="";Qu.prototype.b=Gd("goog.net.XhrIo");var SN=/^https?$/i,AN=["POST","PUT"];function kN(r,u,c,h,g){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+u);c=c?c.toUpperCase():"GET",r.l=u,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():Bd.a(),r.C=r.D?k0(r.D):k0(Bd),r.a.onreadystatechange=O(r.Wb,r);try{er(r.b,Gr(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(u),!0),r.N=!1}catch(w){er(r.b,Gr(r,"Error opening Xhr: "+w.message)),P0(r,w);return}u=h||"";var y=new ss(r.headers);g&&DC(g,function(w,T){y.set(T,w)}),g=A(y.Y()),h=f.FormData&&u instanceof f.FormData,!M(AN,c)||g||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(w,T){this.a.setRequestHeader(T,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{F0(r),0<r.g&&(r.u=CN(r.a),er(r.b,Gr(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=O(r.Ma,r)):r.s=ud(r.Ma,r.g,r)),er(r.b,Gr(r,"Sending request")),r.i=!0,r.a.send(u),r.i=!1}catch(w){er(r.b,Gr(r,"Send error: "+w.message)),P0(r,w)}}function CN(r){return sr&&ew(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function NN(r){return r.toLowerCase()=="content-type"}e=Qu.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",er(this.b,Gr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function P0(r,u){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=u,L0(r),el(r)}function L0(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(er(this.b,Gr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),el(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),el(this,!0)),Qu.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?M0(this):this.Jc())},e.Jc=function(){M0(this)};function M0(r){if(r.c&&typeof l<"u"){if(r.C[1]&&Yu(r)==4&&tl(r)==2)er(r.b,Gr(r,"Local request error detected and ignored"));else if(r.i&&Yu(r)==4)ud(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),Yu(r)==4){er(r.b,Gr(r,"Request complete")),r.c=!1;try{var u=tl(r);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var h;if(!(h=c)){var g;if(g=u===0){var y=String(r.l).match(Nw)[1]||null;if(!y&&f.self&&f.self.location){var w=f.self.location.protocol;y=w.substr(0,w.length-1)}g=!SN.test(y?y.toLowerCase():"")}h=g}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var T=2<Yu(r)?r.a.statusText:""}catch(V){er(r.b,"Can not get status: "+V.message),T=""}r.h=T+" ["+tl(r)+"]",L0(r)}}finally{el(r)}}}}function el(r,u){if(r.a){F0(r);var c=r.a,h=r.C[0]?v:null;r.a=null,r.C=null,u||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(g){(r=r.b)&&r.log(R0,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function F0(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function Yu(r){return r.a?r.a.readyState:0}function tl(r){try{return 2<Yu(r)?r.a.status:-1}catch{return-1}}function RN(r){try{return r.a?r.a.responseText:""}catch(u){return er(r.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case D0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(R0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return er(this.b,"Can not get response: "+u.message),null}};function Gr(r,u){return u+" ["+r.P+" "+r.l+" "+tl(r)+"]"}function lo(r){var u=DN;this.g=[],this.u=u,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}lo.prototype.cancel=function(r){if(this.a)this.c instanceof lo&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,r?u.cancel(r):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new Zu,nl(this),Ju(this,!1,r))}},lo.prototype.m=function(r,u){this.i=!1,Ju(this,r,u)};function Ju(r,u,c){r.a=!0,r.c=c,r.f=!u,V0(r)}function nl(r){if(r.a){if(!r.v)throw new rl;r.v=!1}}function xN(r,u){Xd(r,null,u,void 0)}function Xd(r,u,c,h){r.g.push([u,c,h]),r.a&&V0(r)}lo.prototype.then=function(r,u,c){var h,g,y=new Fe(function(w,T){h=w,g=T});return Xd(this,h,function(w){w instanceof Zu?y.cancel():g(w)}),y.then(r,u,c)},lo.prototype.$goog_Thenable=!0;function U0(r){return E(r.g,function(u){return I(u[1])})}function V0(r){if(r.h&&r.a&&U0(r)){var u=r.h,c=il[u];c&&(f.clearTimeout(c.a),delete il[u]),r.h=0}r.b&&(r.b.l--,delete r.b),u=r.c;for(var h=c=!1;r.g.length&&!r.i;){var g=r.g.shift(),y=g[0],w=g[1];if(g=g[2],y=r.f?w:y)try{var T=y.call(g||r.s,u);T!==void 0&&(r.f=r.f&&(T==u||T instanceof Error),r.c=u=T),(Ne(u)||typeof f.Promise=="function"&&u instanceof f.Promise)&&(h=!0,r.i=!0)}catch(V){u=V,r.f=!0,U0(r)||(c=!0)}}r.c=u,h&&(T=O(r.m,r,!0),h=O(r.m,r,!1),u instanceof lo?(Xd(u,T,h),u.C=!0):u.then(T,h)),c&&(u=new j0(u),il[u.a]=u,r.h=u.a)}function rl(){we.call(this)}D(rl,we),rl.prototype.message="Deferred has already fired",rl.prototype.name="AlreadyCalledError";function Zu(){we.call(this)}D(Zu,we),Zu.prototype.message="Deferred was canceled",Zu.prototype.name="CanceledError";function j0(r){this.a=f.setTimeout(O(this.c,this),0),this.b=r}j0.prototype.c=function(){throw delete il[this.a],this.b};var il={};function Qd(r){var u={},c=u.document||document,h=qy(r).toString(),g=Nc(document,"SCRIPT"),y={Xb:g,Ma:void 0},w=new lo(y),T=null,V=u.timeout!=null?u.timeout:5e3;return 0<V&&(T=window.setTimeout(function(){ol(g,!0);var z=new Yd(LN,"Timeout reached for loading script "+h);nl(w),Ju(w,!1,z)},V),y.Ma=T),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(ol(g,u.xd||!1,T),nl(w),Ju(w,!0,null))},g.onerror=function(){ol(g,!0,T);var z=new Yd(PN,"Error while loading script "+h);nl(w),Ju(w,!1,z)},y=u.attributes||{},Kt(y,{type:"text/javascript",charset:"UTF-8"}),nw(g,y),lC(g,r),ON(c).appendChild(g),w}function ON(r){var u;return(u=(r||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:r.documentElement}function DN(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&ol(r,!0,this.Ma)}}function ol(r,u,c){c!=null&&f.clearTimeout(c),r.onload=v,r.onerror=v,r.onreadystatechange=v,u&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var PN=0,LN=1;function Yd(r,u){var c="Jsloader error (code #"+r+")";u&&(c+=": "+u),we.call(this,c),this.code=r}D(Yd,we);function sl(r){this.f=r}D(sl,zu),sl.prototype.a=function(){return new this.f},sl.prototype.b=function(){return{}};function cr(r,u,c){if(this.c=r,r=u||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||MN,this.g=wt(r.secureTokenHeaders||FN),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||UN,this.a=wt(r.firebaseHeaders||VN),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=kr()=="Node",c=f.XMLHttpRequest||c&&be.INTERNAL.node&&be.INTERNAL.node.XMLHttpRequest,!c&&!ur())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ur()?this.f=new Jc(self):Bw()?this.f=new sl(c):this.f=new Qc,this.b=null}var Jd,lr="idToken",MN=new pi(3e4,6e4),FN={"Content-Type":"application/x-www-form-urlencoded"},UN=new pi(3e4,6e4),VN={"Content-Type":"application/json"};function B0(r,u){u?r.a["X-Firebase-Locale"]=u:delete r.a["X-Firebase-Locale"]}function ul(r,u){u&&(r.l=Zd("https://securetoken.googleapis.com/v1/token",u),r.h=Zd("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),r.i=Zd("https://identitytoolkit.googleapis.com/v2/",u))}function Zd(r,u){return r=An(r),u=An(u.url),r.f=r.a+r.f,Ou(r,u.c),r.a=u.a,Du(r,u.g),r.toString()}function q0(r,u){u?(r.a["X-Client-Version"]=u,r.g["X-Client-Version"]=u):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}cr.prototype.T=function(){return this.b};function $0(r,u,c,h,g,y,w){$C()||ur()?r=O(r.u,r):(Jd||(Jd=new Fe(function(T,V){BN(T,V)})),r=O(r.s,r)),r(u,c,h,g,y,w)}cr.prototype.u=function(r,u,c,h,g,y){if(ur()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Qu(this.f);if(y){w.g=Math.max(0,y);var T=setTimeout(function(){w.dispatchEvent("timeout")},y)}Aw(w,"complete",function(){T&&clearTimeout(T);var V=null;try{V=JSON.parse(RN(this))||null}catch{V=null}u&&u(V)}),sd(w,"ready",function(){T&&clearTimeout(T),ww(this)}),sd(w,"timeout",function(){T&&clearTimeout(T),ww(this),u&&u(null)}),kN(w,r,c,h,g)};var jN=new Sr(Sc,"https://apis.google.com/js/client.js?onload=%{onload}"),H0="__fcb"+Math.floor(1e6*Math.random()).toString();function BN(r,u){if(((window.gapi||{}).client||{}).request)r();else{f[H0]=function(){((window.gapi||{}).client||{}).request?r():u(Error("CORS_UNSUPPORTED"))};var c=qh(jN,{onload:H0});xN(Qd(c),function(){u(Error("CORS_UNSUPPORTED"))})}}cr.prototype.s=function(r,u,c,h,g){var y=this;Jd.then(function(){window.gapi.client.setApiKey(y.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:g,authType:"none",callback:function(T){window.gapi.auth.setToken(w),u&&u(T)}})}).o(function(w){u&&u({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function qN(r,u){return new Fe(function(c,h){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?$0(r,r.l+"?key="+encodeURIComponent(r.c),function(g){g?g.error?h(up(g)):g.access_token&&g.refresh_token?c(g):h(new S("internal-error")):h(new S("network-request-failed"))},"POST",xw(u).toString(),r.g,r.m.get()):h(new S("internal-error"))})}function K0(r,u,c,h,g,y,w){var T=An(u+c);Tt(T,"key",r.c),w&&Tt(T,"cb",Date.now().toString());var V=h=="GET";if(V)for(var z in g)g.hasOwnProperty(z)&&Tt(T,z,g[z]);return new Fe(function(Ie,Je){$0(r,T.toString(),function(He){He?He.error?Je(up(He,y||{})):Ie(He):Je(new S("network-request-failed"))},h,V?void 0:Pw(Hw(g)),r.a,r.v.get())})}function fo(r){if(r=r.email,typeof r!="string"||!zC.test(r))throw new S("invalid-email")}function z0(r){"email"in r&&fo(r)}function $N(r,u){return Ue(r,ZN,{identifier:u,continueUri:Vc()?Mu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function HN(r){return Ue(r,fR,{}).then(function(u){return u.authorizedDomains||[]})}function kn(r){if(!r[lr])throw r.mfaPendingCredential?new S("multi-factor-auth-required",null,wt(r)):new S("internal-error")}function ep(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new S("internal-error")}else{if(!r.sessionInfo)throw new S("missing-verification-id");if(!r.code)throw new S("missing-verification-code")}}cr.prototype.Ab=function(){return Ue(this,gR,{})},cr.prototype.Cb=function(r,u){return Ue(this,X0,{idToken:r,email:u})},cr.prototype.Db=function(r,u){return Ue(this,Q0,{idToken:r,password:u})};var KN={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=cr.prototype,e.Eb=function(r,u){var c={idToken:r},h=[];return li(KN,function(g,y){var w=u[y];w===null?h.push(g):y in u&&(c[y]=w)}),h.length&&(c.deleteAttribute=h),Ue(this,X0,c)},e.wb=function(r,u){return r={requestType:"PASSWORD_RESET",email:r},Kt(r,u),Ue(this,lR,r)},e.xb=function(r,u){return r={requestType:"EMAIL_SIGNIN",email:r},Kt(r,u),Ue(this,uR,r)},e.vb=function(r,u){return r={requestType:"VERIFY_EMAIL",idToken:r},Kt(r,u),Ue(this,aR,r)},e.Fb=function(r,u,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:u},Kt(r,c),Ue(this,cR,r)};function zN(r,u){return Ue(r,pR,u)}e.gb=function(r){return Ue(this,ER,r)};function GN(r,u){return Ue(r,mR,u).then(function(c){return c.phoneSessionInfo.sessionInfo})}function G0(r){if(!r.phoneVerificationInfo)throw new S("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new S("missing-verification-code")}function WN(r,u){return Ue(r,vR,u).then(function(c){return c.phoneResponseInfo.sessionInfo})}function XN(r,u,c){return Ue(r,tR,{idToken:u,deleteProvider:c})}function tp(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new S("internal-error")}function np(r,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(r.sessionId?u.nonce=r.sessionId:r.postBody&&(r=new to(r.postBody),ld(r,"nonce")&&(u.nonce=r.get("nonce")))),u}function W0(r){var u=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",u=Wc(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",u=Wc(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",u=Wc(r)):r.errorMessage&&(u=J0(r.errorMessage)),u)throw u;kn(r)}function rp(r,u){return u.returnIdpCredential=!0,Ue(r,yR,u)}function ip(r,u){return u.returnIdpCredential=!0,Ue(r,bR,u)}function op(r,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Ue(r,wR,u)}function sp(r){if(!r.oobCode)throw new S("invalid-action-code")}e.ob=function(r,u){return Ue(this,dR,{oobCode:r,newPassword:u})},e.Sa=function(r){return Ue(this,YN,{oobCode:r})},e.kb=function(r){return Ue(this,QN,{oobCode:r})};var QN={endpoint:"setAccountInfo",A:sp,Z:"email",B:!0},YN={endpoint:"resetPassword",A:sp,G:function(r){var u=r.requestType;if(!u||!r.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new S("internal-error")},B:!0},JN={endpoint:"signupNewUser",A:function(r){if(fo(r),!r.password)throw new S("weak-password")},G:kn,V:!0,B:!0},ZN={endpoint:"createAuthUri",B:!0},eR={endpoint:"deleteAccount",O:["idToken"]},tR={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new S("internal-error")}},nR={endpoint:"emailLinkSignin",O:["email","oobCode"],A:fo,G:kn,V:!0,B:!0},rR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:fo,G:kn,V:!0},iR={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:G0,G:kn,B:!0,Na:!0},oR={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:G0,G:kn,B:!0,Na:!0},sR={endpoint:"getAccountInfo"},uR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new S("internal-error");fo(r)},Z:"email",B:!0},aR={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new S("internal-error")},Z:"email",B:!0},cR={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new S("internal-error")},Z:"email",B:!0},lR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new S("internal-error");fo(r)},Z:"email",B:!0},fR={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},hR={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new S("internal-error")}},dR={endpoint:"resetPassword",A:sp,Z:"email",B:!0},pR={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},X0={endpoint:"setAccountInfo",O:["idToken"],A:z0,V:!0},Q0={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(z0(r),!r.password)throw new S("weak-password")},G:kn,V:!0},gR={endpoint:"signupNewUser",G:kn,V:!0,B:!0},mR={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new S("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},vR={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},yR={endpoint:"verifyAssertion",A:tp,Za:np,G:W0,V:!0,B:!0},wR={endpoint:"verifyAssertion",A:tp,Za:np,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new S("user-not-found");if(r.errorMessage)throw J0(r.errorMessage);kn(r)},V:!0,B:!0},bR={endpoint:"verifyAssertion",A:function(r){if(tp(r),!r.idToken)throw new S("internal-error")},Za:np,G:W0,V:!0},_R={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new S("invalid-custom-token")},G:kn,V:!0,B:!0},Y0={endpoint:"verifyPassword",A:function(r){if(fo(r),!r.password)throw new S("wrong-password")},G:kn,V:!0,B:!0},ER={endpoint:"verifyPhoneNumber",A:ep,G:kn,B:!0},IR={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new S("internal-error");ep(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",Wc(r);kn(r)}},TR={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ep,G:kn,B:!0},SR={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[lr]^!!r.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function Ue(r,u,c){if(!ZC(c,u.O))return ct(new S("internal-error"));var h=!!u.Na,g=u.Vb||"POST",y;return ve(c).then(u.A).then(function(){return u.V&&(c.returnSecureToken=!0),u.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?K0(r,r.i,u.endpoint,g,c,u.Ib,u.mb||!1):K0(r,r.h,u.endpoint,g,c,u.Ib,u.mb||!1)}).then(function(w){return y=w,u.Za?u.Za(c,y):y}).then(u.G).then(function(){if(!u.Z)return y;if(!(u.Z in y))throw new S("internal-error");return y[u.Z]})}function J0(r){return up({error:{errors:[{message:r}],code:400,message:r}})}function up(r,u){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new S(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Kt(h,u||{}),u=(u=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in h)if(c.indexOf(g)===0)return new S(h[g],u);return!u&&r&&(u=Uu(r)),new S("internal-error",u)}function AR(r){this.b=r,this.a=null,this.sb=kR(this)}function kR(r){return DR().then(function(){return new Fe(function(u,c){lt("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:lt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function g(){clearTimeout(y),u()}r.a=h,r.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},OR.get());h.ping(g).then(g,function(){c(Error("Network Error"))})})})})}function CR(r,u){return r.sb.then(function(){return new Fe(function(c){r.a.send(u.type,u,c,lt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function NR(r,u){r.sb.then(function(){r.a.register("authEvent",u,lt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var RR=new Sr(Sc,"https://apis.google.com/js/api.js?onload=%{onload}"),xR=new pi(3e4,6e4),OR=new pi(5e3,15e3),al=null;function DR(){return al||(al=new Fe(function(r,u){function c(){zw(),lt("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){zw(),u(Error("Network Error"))},timeout:xR.get()})}if(lt("gapi.iframes.Iframe"))r();else if(lt("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){lt("gapi.load")?c():u(Error("Network Error"))},h=qh(RR,{onload:h}),ve(Qd(h)).o(function(){u(Error("Network Error"))})}}).o(function(r){throw al=null,r}))}function Z0(r,u,c,h){this.l=r,this.h=u,this.i=c,this.g=h,this.f=null,this.g?(r=An(this.g.url),r=Fc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Fc("https",this.l,null,"/__/auth/iframe"),this.a=r,Tt(this.a,"apiKey",this.h),Tt(this.a,"appName",this.i),this.b=null,this.c=[]}Z0.prototype.toString=function(){return this.f?Tt(this.a,"v",this.f):Ar(this.a.b,"v"),this.b?Tt(this.a,"eid",this.b):Ar(this.a.b,"eid"),this.c.length?Tt(this.a,"fw",this.c.join(",")):Ar(this.a.b,"fw"),this.a.toString()};function ap(r,u,c,h,g,y){this.u=r,this.s=u,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}ap.prototype.zb=function(r){return this.h=r,this},ap.prototype.toString=function(){if(this.v){var r=An(this.v.url);r=Fc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Fc("https",this.u,null,"/__/auth/handler");if(Tt(r,"apiKey",this.s),Tt(r,"appName",this.c),Tt(r,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var c=be.app(this.c).auth().la()}catch{c=null}u.pb=c,Tt(r,"providerId",this.a.providerId),c=this.a,u=Hw(c.Jb);for(var h in u)u[h]=u[h].toString();h=c.Qc,u=wt(u);for(var g=0;g<h.length;g++){var y=h[g];y in u&&delete u[y]}c.qb&&c.pb&&!u[c.qb]&&(u[c.qb]=c.pb),Tr(u)||Tt(r,"customParameters",Uu(u))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Tt(r,"scopes",c.join(","))),this.l?Tt(r,"redirectUrl",this.l):Ar(r.b,"redirectUrl"),this.g?Tt(r,"eventId",this.g):Ar(r.b,"eventId"),this.i?Tt(r,"v",this.i):Ar(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Jn(r,w)&&Tt(r,w,this.b[w]);return this.h?Tt(r,"tid",this.h):Ar(r.b,"tid"),this.f?Tt(r,"eid",this.f):Ar(r.b,"eid"),w=cp(this.c),w.length&&Tt(r,"fw",w.join(",")),r.toString()};function cp(r){try{return be.app(r).auth().Ga()}catch{return[]}}function eb(r,u,c,h,g,y){this.s=r,this.g=u,this.b=c,this.f=y,this.c=h||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function tb(r){var u=Mu();return HN(r).then(function(c){e:{var h=An(u),g=h.c;h=h.a;for(var y=0;y<c.length;y++){var w=c[y],T=h,V=g;if(w.indexOf("chrome-extension://")==0?T=An(w).a==T&&V=="chrome-extension":V!="http"&&V!="https"?T=!1:KC.test(w)?T=T==w:(w=w.split(".").join("\\."),T=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(T)),T){c=!0;break e}}c=!1}if(!c)throw new jd(Mu())})}function nb(r){return r.m||(r.m=Uc().then(function(){if(!r.u){var u=r.c,c=r.i,h=cp(r.b),g=new Z0(r.s,r.g,r.b,r.f);g.f=u,g.b=c,g.c=se(h||[]),r.u=g.toString()}r.v=new AR(r.u),PR(r)})),r.m}e=eb.prototype,e.Pb=function(r,u,c){var h=new S("popup-closed-by-user"),g=new S("web-storage-unsupported"),y=this,w=!1;return this.ma().then(function(){LR(y).then(function(T){T||(r&&no(r),u(g),w=!0)})}).o(function(){}).then(function(){if(!w)return HC(r)}).then(function(){if(!w)return os(c).then(function(){u(h)})})},e.Yb=function(){var r=zt();return!Fu(r)&&!Kw(r)},e.Ub=function(){return!1},e.Nb=function(r,u,c,h,g,y,w,T){if(!r)return ct(new S("popup-blocked"));if(w&&!Fu())return this.ma().o(function(z){no(r),g(z)}),h(),ve();this.a||(this.a=tb(rb(this)));var V=this;return this.a.then(function(){var z=V.ma().o(function(Ie){throw no(r),g(Ie),Ie});return h(),z}).then(function(){if(Ud(c),!w){var z=ea(V.s,V.g,V.b,u,c,null,y,V.c,void 0,V.i,T,V.f);Fw(z,r)}}).o(function(z){throw z.code=="auth/network-request-failed"&&(V.a=null),z})};function rb(r){return r.l||(r.C=r.c?cs(r.c,cp(r.b)):null,r.l=new cr(r.g,je(r.i),r.C),r.f&&ul(r.l,r.f)),r.l}e.Ob=function(r,u,c,h){this.a||(this.a=tb(rb(this)));var g=this;return this.a.then(function(){Ud(u);var y=ea(g.s,g.g,g.b,r,u,Mu(),c,g.c,void 0,g.i,h,g.f);Fw(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(g.a=null),y})},e.ma=function(){var r=this;return nb(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new S("network-request-failed")})},e.ac=function(){return!0};function ea(r,u,c,h,g,y,w,T,V,z,Ie,Je){return r=new ap(r,u,c,h,g,Je),r.l=y,r.g=w,r.i=T,r.b=wt(V||null),r.f=z,r.zb(Ie).toString()}function PR(r){if(!r.v)throw Error("IfcHandler must be initialized!");NR(r.v,function(u){var c={};if(u&&u.authEvent){var h=!1;for(u=A0(u.authEvent),c=0;c<r.h.length;c++)h=r.h[c](u)||h;return c={},c.status=h?"ACK":"ERROR",ve(c)}return c.status="ERROR",ve(c)})}function LR(r){var u={type:"webStorageSupport"};return nb(r).then(function(){return CR(r.v,u)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){$(this.h,function(u){return u==r})};function ib(r){if(this.a=r||be.INTERNAL.reactNative&&be.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=ib.prototype,e.get=function(r){return ve(this.a.getItem(r)).then(function(u){return u&&fs(u)})},e.set=function(r,u){return ve(this.a.setItem(r,Uu(u)))},e.U=function(r){return ve(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function ob(r){this.b=r,this.a={},this.f=O(this.c,this)}var sb=[];function MR(){var r=ur()?self:null;if(J(sb,function(c){c.b==r&&(u=c)}),!u){var u=new ob(r);sb.push(u)}return u}ob.prototype.c=function(r){var u=r.data.eventType,c=r.data.eventId,h=this.a[u];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:u,response:null});var g=[];J(h,function(y){g.push(ve().then(function(){return y(r.origin,r.data.data)}))}),lw(g).then(function(y){var w=[];J(y,function(T){w.push({fulfilled:T.Qb,value:T.value,reason:T.reason?T.reason.message:void 0})}),J(w,function(T){for(var V in T)typeof T[V]>"u"&&delete T[V]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:u,response:w})})}};function ub(r,u,c){Tr(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[u]>"u"&&(r.a[u]=[]),r.a[u].push(c)}function ab(r){this.a=r}ab.prototype.postMessage=function(r,u){this.a.postMessage(r,u)};function cb(r){this.c=r,this.b=!1,this.a=[]}function lb(r,u,c,h){var g,y=c||{},w,T,V,z=null;if(r.b)return ct(Error("connection_unavailable"));var Ie=h?800:50,Je=typeof MessageChannel<"u"?new MessageChannel:null;return new Fe(function(He,Vt){Je?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),Je.port1.start(),T=setTimeout(function(){Vt(Error("unsupported_event"))},Ie),w=function(Wr){Wr.data.eventId===g&&(Wr.data.status==="ack"?(clearTimeout(T),V=setTimeout(function(){Vt(Error("timeout"))},3e3)):Wr.data.status==="done"?(clearTimeout(V),typeof Wr.data.response<"u"?He(Wr.data.response):Vt(Error("unknown_error"))):(clearTimeout(T),clearTimeout(V),Vt(Error("invalid_response"))))},z={messageChannel:Je,onMessage:w},r.a.push(z),Je.port1.addEventListener("message",w),r.c.postMessage({eventType:u,eventId:g,data:y},[Je.port2])):Vt(Error("connection_unavailable"))}).then(function(He){return lp(r,z),He}).o(function(He){throw lp(r,z),He})}function lp(r,u){if(u){var c=u.messageChannel,h=u.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),$(r.a,function(g){return g==u})}}cb.prototype.close=function(){for(;0<this.a.length;)lp(this,this.a[0]);this.b=!0};function fb(){if(!dp())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;ur()&&self?(this.v=MR(),ub(this.v,"keyChanged",function(u,c){return pb(r).then(function(h){return 0<h.length&&J(r.a,function(g){g(h)}),{keyProcessed:M(h,c.key)}})}),ub(this.v,"ping",function(){return ve(["keyChanged"])})):YC().then(function(u){(r.h=u)&&(r.g=new cb(new ab(u)),lb(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&M(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var fp;function FR(r){return new Fe(function(u,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){u()},h.onerror=function(g){c(Error(g.target.error))}})}function hb(r){return new Fe(function(u,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(g){try{g.preventDefault()}catch{}c(Error(g.target.error))},h.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):FR(r).then(function(){return hb(r)}).then(function(y){u(y)}).o(function(y){c(y)})}})}function hp(r){return r.i||(r.i=hb(r)),r.i}function cl(r,u){function c(g,y){hp(r).then(u).then(g).o(function(w){if(3<++h)y(w);else return hp(r).then(function(T){return T.close(),r.i=void 0,c(g,y)}).o(function(T){y(T)})})}var h=0;return new Fe(c)}function dp(){try{return!!f.indexedDB}catch{return!1}}function ta(r){return r.objectStore("firebaseLocalStorage")}function na(r,u){return r.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function gs(r){return new Fe(function(u,c){r.onsuccess=function(h){h&&h.target?u(h.target.result):u()},r.onerror=function(h){c(h.target.error)}})}e=fb.prototype,e.set=function(r,u){var c=this,h=!1;return cl(this,function(g){return g=ta(na(g,!0)),gs(g.get(r))}).then(function(g){return cl(c,function(y){if(y=ta(na(y,!0)),g)return g.value=u,gs(y.put(g));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=u,gs(y.add(w))})}).then(function(){return c.c[r]=u,db(c,r)}).oa(function(){h&&c.b--})};function db(r,u){return r.g&&r.h&&QC()===r.h?lb(r.g,"keyChanged",{key:u},r.s).then(function(){}).o(function(){}):ve()}e.get=function(r){return cl(this,function(u){return gs(ta(na(u,!1)).get(r))}).then(function(u){return u&&u.value})},e.U=function(r){var u=this,c=!1;return cl(this,function(h){return c=!0,u.b++,gs(ta(na(h,!0)).delete(r))}).then(function(){return delete u.c[r],db(u,r)}).oa(function(){c&&u.b--})};function pb(r){return hp(r).then(function(u){var c=ta(na(u,!1));return c.getAll?gs(c.getAll()):new Fe(function(h,g){var y=[],w=c.openCursor();w.onsuccess=function(T){(T=T.target.result)?(y.push(T.value),T.continue()):h(y)},w.onerror=function(T){g(T.target.error)}})}).then(function(u){var c={},h=[];if(r.b==0){for(h=0;h<u.length;h++)c[u[h].fbase_key]=u[h].value;h=Uw(r.c,c),r.c=c}return h})}e.ca=function(r){this.a.length==0&&UR(this),this.a.push(r)},e.ia=function(r){$(this.a,function(u){return u==r}),this.a.length==0&&gb(this)};function UR(r){function u(){r.f=setTimeout(function(){r.l=pb(r).then(function(c){0<c.length&&J(r.a,function(h){h(c)})}).then(function(){u()}).o(function(c){c.message!="STOP_EVENT"&&u()})},800)}gb(r),u()}function gb(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function mb(r){var u=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=ve().then(function(){if(dp()){var h=io(),g="__sak"+h;return fp||(fp=new fb),c=fp,c.set(g,h).then(function(){return c.get(g)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(g)}).then(function(){return c}).o(function(){return u.c})}return u.c}).then(function(h){return u.type=h.type,h.ca(function(g){J(u.a,function(y){y(g)})}),h})}e=mb.prototype,e.get=function(r){return this.b.then(function(u){return u.get(r)})},e.set=function(r,u){return this.b.then(function(c){return c.set(r,u)})},e.U=function(r){return this.b.then(function(u){return u.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){$(this.a,function(u){return u==r})};function ra(){this.a={},this.type="inMemory"}e=ra.prototype,e.get=function(r){return ve(this.a[r])},e.set=function(r,u){return this.a[r]=u,ve()},e.U=function(r){return delete this.a[r],ve()},e.ca=function(){},e.ia=function(){};function ll(){if(!VR())throw kr()=="Node"?new S("internal-error","The LocalStorage compatibility library was not found."):new S("web-storage-unsupported");this.a=vb()||be.INTERNAL.node.localStorage,this.type="localStorage"}function vb(){try{var r=f.localStorage,u=io();return r&&(r.setItem(u,"1"),r.removeItem(u)),r}catch{return null}}function VR(){var r=kr()=="Node";if(r=vb()||r&&be.INTERNAL.node&&be.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=ll.prototype,e.get=function(r){var u=this;return ve().then(function(){var c=u.a.getItem(r);return fs(c)})},e.set=function(r,u){var c=this;return ve().then(function(){var h=Uu(u);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var u=this;return ve().then(function(){u.a.removeItem(r)})},e.ca=function(r){f.window&&Yn(f.window,"storage",r)},e.ia=function(r){f.window&&Fn(f.window,"storage",r)};function pp(){this.type="nullStorage"}e=pp.prototype,e.get=function(){return ve(null)},e.set=function(){return ve()},e.U=function(){return ve()},e.ca=function(){},e.ia=function(){};function gp(){if(!jR())throw kr()=="Node"?new S("internal-error","The SessionStorage compatibility library was not found."):new S("web-storage-unsupported");this.a=yb()||be.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function yb(){try{var r=f.sessionStorage,u=io();return r&&(r.setItem(u,"1"),r.removeItem(u)),r}catch{return null}}function jR(){var r=kr()=="Node";if(r=yb()||r&&be.INTERNAL.node&&be.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=gp.prototype,e.get=function(r){var u=this;return ve().then(function(){var c=u.a.getItem(r);return fs(c)})},e.set=function(r,u){var c=this;return ve().then(function(){var h=Uu(u);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var u=this;return ve().then(function(){u.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function BR(){var r={};r.Browser=qR,r.Node=$R,r.ReactNative=HR,r.Worker=KR,this.a=r[kr()]}var mp,qR={F:ll,cb:gp},$R={F:ll,cb:gp},HR={F:ib,cb:pp},KR={F:ll,cb:pp},ms={rd:"local",NONE:"none",td:"session"};function zR(r){var u=new S("invalid-persistence-type"),c=new S("unsupported-persistence-type");e:{for(h in ms)if(ms[h]==r){var h=!0;break e}h=!1}if(!h||typeof r!="string")throw u;switch(kr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!dp()&&r!=="none")throw c;break;default:if(!md()&&r!=="none")throw c}}function wb(){var r=!!(!Kw(zt())&&pd()),u=Fu(),c=md();this.m=r,this.h=u,this.l=c,this.a={},mp||(mp=new BR),r=mp;try{this.g=!hd()&&Gw()||!f.indexedDB?new r.a.F:new mb(ur()?new ra:new r.a.F)}catch{this.g=new ra,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new ra}this.v=new ra,this.f=O(this.Zb,this),this.b={}}var vp;function ia(){return vp||(vp=new wb),vp}function ho(r,u){switch(u){case"session":return r.i;case"none":return r.v;default:return r.g}}function vs(r,u){return"firebase:"+r.name+(u?":"+u:"")}function GR(r,u,c){var h=vs(u,c),g=ho(r,u.F);return r.get(u,c).then(function(y){var w=null;try{w=fs(f.localStorage.getItem(h))}catch{}if(w&&!y)return f.localStorage.removeItem(h),r.set(u,w,c);w&&y&&g.type!="localStorage"&&f.localStorage.removeItem(h)})}e=wb.prototype,e.get=function(r,u){return ho(this,r.F).get(vs(r,u))};function ys(r,u,c){return c=vs(u,c),u.F=="local"&&(r.b[c]=null),ho(r,u.F).U(c)}e.set=function(r,u,c){var h=vs(r,c),g=this,y=ho(this,r.F);return y.set(h,u).then(function(){return y.get(h)}).then(function(w){r.F=="local"&&(g.b[h]=w)})},e.addListener=function(r,u,c){r=vs(r,u),this.l&&(this.b[r]=f.localStorage.getItem(r)),Tr(this.a)&&(ho(this,"local").ca(this.f),this.h||(hd()||!Gw())&&f.indexedDB||!this.l||WR(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,u,c){r=vs(r,u),this.a[r]&&($(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),Tr(this.a)&&(ho(this,"local").ia(this.f),yp(this))};function WR(r){yp(r),r.c=setInterval(function(){for(var u in r.a){var c=f.localStorage.getItem(u),h=r.b[u];c!=h&&(r.b[u]=c,c=new Zi({type:"storage",key:u,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function yp(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var u=r.a.key;if(u==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var g=f.localStorage.getItem(c);g!==h&&(this.b[c]=g,this.nb(c))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof r.a.a<"u"?ho(this,"local").ia(this.f):yp(this),this.m){if(c=f.localStorage.getItem(u),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(u,h):f.localStorage.removeItem(u);else if(this.b[u]===h&&typeof r.a.a>"u")return}var y=this;c=function(){(typeof r.a.a<"u"||y.b[u]!==f.localStorage.getItem(u))&&(y.b[u]=f.localStorage.getItem(u),y.nb(u))},sr&&fi&&fi==10&&f.localStorage.getItem(u)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else J(r,O(this.nb,this))},e.nb=function(r){this.a[r]&&J(this.a[r],function(u){u()})};function XR(r){this.a=r,this.b=ia()}var wp={name:"authEvent",F:"local"};function QR(r){return r.b.get(wp,r.a).then(function(u){return A0(u)})}function YR(){this.a=ia()}function JR(){this.b=-1}function fl(r,u){this.b=bb,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=u,this.l=f.Int32Array?new Int32Array(64):Array(64),hl===void 0&&(f.Int32Array?hl=new Int32Array(Ib):hl=Ib),this.reset()}var hl;D(fl,JR);for(var bb=64,ZR=bb-1,_b=[],bp=0;bp<ZR;bp++)_b[bp]=0;var Eb=te(128,_b);fl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):se(this.h)};function _p(r){for(var u=r.f,c=r.l,h=0,g=0;g<u.length;)c[h++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*h;for(u=16;64>u;u++){g=c[u-15]|0,h=c[u-2]|0;var y=(c[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,w=(c[u-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[u]=y+w|0}h=r.a[0]|0,g=r.a[1]|0;var T=r.a[2]|0,V=r.a[3]|0,z=r.a[4]|0,Ie=r.a[5]|0,Je=r.a[6]|0;for(y=r.a[7]|0,u=0;64>u;u++){var He=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&g^h&T^g&T)|0;w=z&Ie^~z&Je,y=y+((z>>>6|z<<26)^(z>>>11|z<<21)^(z>>>25|z<<7))|0,w=w+(hl[u]|0)|0,w=y+(w+(c[u]|0)|0)|0,y=Je,Je=Ie,Ie=z,z=V+w|0,V=T,T=g,g=h,h=w+He|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+g|0,r.a[2]=r.a[2]+T|0,r.a[3]=r.a[3]+V|0,r.a[4]=r.a[4]+z|0,r.a[5]=r.a[5]+Ie|0,r.a[6]=r.a[6]+Je|0,r.a[7]=r.a[7]+y|0}function Ep(r,u,c){c===void 0&&(c=u.length);var h=0,g=r.c;if(typeof u=="string")for(;h<c;)r.f[g++]=u.charCodeAt(h++),g==r.b&&(_p(r),g=0);else if(_(u))for(;h<c;){var y=u[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");r.f[g++]=y,g==r.b&&(_p(r),g=0)}else throw Error("message must be string or array");r.c=g,r.g+=c}var Ib=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tb(){fl.call(this,8,ex)}D(Tb,fl);var ex=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Sb(r,u,c,h,g,y){this.v=r,this.i=u,this.l=c,this.m=h||null,this.u=g||null,this.s=y,this.h=u+":"+c,this.C=new YR,this.g=new XR(this.h),this.f=null,this.b=[],this.a=this.c=null}function dl(r){return new S("invalid-cordova-configuration",r)}e=Sb.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=GC().then(function(){if(typeof lt("universalLinks.subscribe",f)!="function")throw dl("cordova-universal-links-plugin-fix is not installed");if(typeof lt("BuildInfo.packageName",f)>"u")throw dl("cordova-plugin-buildinfo is not installed");if(typeof lt("cordova.plugins.browsertab.openUrl",f)!="function")throw dl("cordova-plugin-browsertab is not installed");if(typeof lt("cordova.InAppBrowser.open",f)!="function")throw dl("cordova-plugin-inappbrowser is not installed")},function(){throw new S("cordova-not-ready")})};function tx(){for(var r=20,u=[];0<r;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return u.join("")}function nx(r){var u=new Tb;Ep(u,r),r=[];var c=8*u.g;56>u.c?Ep(u,Eb,56-u.c):Ep(u,Eb,u.b-(u.c-56));for(var h=63;56<=h;h--)u.f[h]=c&255,c/=256;for(_p(u),h=c=0;h<u.i;h++)for(var g=24;0<=g;g-=8)r[c++]=u.a[h]>>g&255;return dN(r)}e.Pb=function(r,u){return u(new S("operation-not-supported-in-this-environment")),ve()},e.Nb=function(){return ct(new S("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,u,c,h){if(this.c)return ct(new S("redirect-operation-pending"));var g=this,y=f.document,w=null,T=null,V=null,z=null;return this.c=ve().then(function(){return Ud(u),kb(g)}).then(function(){return rx(g,r,u,c,h)}).then(function(){return new Fe(function(Ie,Je){T=function(){var He=lt("cordova.plugins.browsertab.close",f);return Ie(),typeof He=="function"&&He(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(T),V=function(){w||(w=os(2e3).then(function(){Je(new S("redirect-cancelled-by-user"))}))},z=function(){vd()&&V()},y.addEventListener("resume",V,!1),zt().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",z,!1)}).o(function(Ie){return Ip(g).then(function(){throw Ie})})}).oa(function(){V&&y.removeEventListener("resume",V,!1),z&&y.removeEventListener("visibilitychange",z,!1),w&&w.cancel(),T&&g.Ta(T),g.c=null})};function rx(r,u,c,h,g){var y=tx(),w=new ar(u,h,null,y,new S("no-auth-event"),null,g),T=lt("BuildInfo.packageName",f);if(typeof T!="string")throw new S("invalid-cordova-configuration");var V=lt("BuildInfo.displayName",f),z={};if(zt().toLowerCase().match(/iphone|ipad|ipod/))z.ibi=T;else if(zt().toLowerCase().match(/android/))z.apn=T;else return ct(new S("operation-not-supported-in-this-environment"));V&&(z.appDisplayName=V),y=nx(y),z.sessionId=y;var Ie=ea(r.v,r.i,r.l,u,c,null,h,r.m,z,r.u,g,r.s);return r.ma().then(function(){var Je=r.h;return r.C.a.set(wp,w.w(),Je)}).then(function(){var Je=lt("cordova.plugins.browsertab.isAvailable",f);if(typeof Je!="function")throw new S("invalid-cordova-configuration");var He=null;Je(function(Vt){if(Vt){if(He=lt("cordova.plugins.browsertab.openUrl",f),typeof He!="function")throw new S("invalid-cordova-configuration");He(Ie)}else{if(He=lt("cordova.InAppBrowser.open",f),typeof He!="function")throw new S("invalid-cordova-configuration");Vt=zt(),r.a=He(Ie,Vt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Vt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Ab(r,u){for(var c=0;c<r.b.length;c++)try{r.b[c](u)}catch{}}function kb(r){return r.f||(r.f=r.ma().then(function(){return new Fe(function(u){function c(h){return u(h),r.Ta(c),!1}r.Ea(c),ix(r)})})),r.f}function Ip(r){var u=null;return QR(r.g).then(function(c){return u=c,c=r.g,ys(c.b,wp,c.a)}).then(function(){return u})}function ix(r){function u(w){h=!0,g&&g.cancel(),Ip(r).then(function(T){var V=c;if(T&&w&&w.url){var z=null;V=y0(w.url),V.indexOf("/__/auth/callback")!=-1&&(z=An(V),z=fs(Jn(z,"firebaseError")||null),z=(z=typeof z=="object"?Ae(z):null)?new ar(T.c,T.b,null,null,z,null,T.T()):new ar(T.c,T.b,V,T.f,null,null,T.T())),V=z||c}Ab(r,V)})}var c=new ar("unknown",null,null,null,new S("no-auth-event")),h=!1,g=os(500).then(function(){return Ip(r).then(function(){h||Ab(r,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(lt("BuildInfo.packageName",f).toLowerCase()+"://")==0&&u({url:w}),typeof y=="function")try{y(w)}catch(T){console.error(T)}},Vd||(Vd=new _N),EN(u)}e.Ea=function(r){this.b.push(r),kb(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new ar("unknown",null,null,null,new S("no-auth-event")),r(u))})},e.Ta=function(r){$(this.b,function(u){return u==r})};function ox(r){this.a=r,this.b=ia()}var Tp={name:"pendingRedirect",F:"session"};function sx(r){return r.b.set(Tp,"pending",r.a)}function Sp(r){return ys(r.b,Tp,r.a)}function ux(r){return r.b.get(Tp,r.a).then(function(u){return u=="pending"})}function pl(r,u,c,h){this.i={},this.u=0,this.D=r,this.v=u,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new ml,this.C=new Fb,this.g=new ox(Pb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Cb(this.D,this.v,this.m,Ce,this.J)}function Cb(r,u,c,h,g){var y=be.SDK_VERSION||null;return dd()?new Sb(r,u,c,y,h,g):new eb(r,u,c,y,h,g)}pl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Cb(this.D,this.v,this.m,null,this.J),this.i={}};function Nb(r){r.f||(r.f=!0,r.a.Ea(r.l));var u=r.a;return r.a.ma().o(function(c){throw r.a==u&&r.reset(),c})}function Rb(r){r.a.Yb()&&Nb(r).o(function(u){var c=new ar("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));kp(u)&&r.s(c)}),r.a.Ub()||Lb(r.b)}function gl(r,u){M(r.h,u)||r.h.push(u),r.f||ux(r.g).then(function(c){c?Sp(r.g).then(function(){Nb(r).o(function(h){var g=new ar("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));kp(h)&&r.s(g)})}):Rb(r)}).o(function(){Rb(r)})}function Ap(r,u){$(r.h,function(c){return c==u})}pl.prototype.s=function(r){if(!r)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var u=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(u=this.c[r.c])&&(u.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),u=!0;break}}return Lb(this.b),u};var ax=new pi(2e3,1e4),cx=new pi(3e4,6e4);pl.prototype.ra=function(){return this.b.ra()};function xb(r,u,c,h,g,y,w){return r.a.Nb(u,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},g,y,w)}function kp(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Ob(r,u,c,h,g){var y;return sx(r.g).then(function(){return r.a.Ob(u,c,h,g).o(function(w){if(kp(w))throw new S("operation-not-supported-in-this-environment");return y=w,Sp(r.g).then(function(){throw y})}).then(function(){return r.a.ac()?new Fe(function(){}):Sp(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Db(r,u,c,h,g){return r.a.Pb(h,function(y){u.na(c,null,y,g)},ax.get())}var Cp={};function Pb(r,u,c){return r=r+":"+u,c&&(r=r+":"+c.url),r}function Np(r,u,c,h){var g=Pb(u,c,h);return Cp[g]||(Cp[g]=new pl(r,u,c,h)),Cp[g]}function ml(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}ml.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ml.prototype.h=function(r,u){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,g=r.a&&r.a.code=="auth/web-storage-unsupported",y=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!y),c!="unknown"||g||y?r.a?(po(this,!0,null,r.a),ve()):u.Fa(c,h)?lx(this,r,u):ct(new S("invalid-auth-event")):(po(this,!1,null,null),ve())}else ct(new S("invalid-auth-event"))};function Lb(r){r.g||(r.g=!0,po(r,!1,null,null))}function vl(r){r.g&&!r.i&&po(r,!1,null,null)}function lx(r,u,c){c=c.Fa(u.c,u.b);var h=u.g,g=u.f,y=u.i,w=u.T(),T=!!u.c.match(/Redirect$/);c(h,g,w,y).then(function(V){po(r,T,V,null)}).o(function(V){po(r,T,null,V)})}function fx(r,u){if(r.b=function(){return ct(u)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](u)}function Mb(r,u){if(r.b=function(){return ve(u)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](u)}function po(r,u,c,h){u?h?fx(r,h):Mb(r,c):Mb(r,{user:null}),r.f=[],r.c=[]}ml.prototype.ra=function(){var r=this;return new Fe(function(u,c){r.b?r.b().then(u,c):(r.f.push(u),r.c.push(c),hx(r))})};function hx(r){var u=new S("timeout");r.a&&r.a.cancel(),r.a=os(cx.get()).then(function(){r.b||(r.g=!0,po(r,!0,null,u))})}function Fb(){}Fb.prototype.h=function(r,u){if(r){var c=r.c,h=r.b;r.a?(u.na(r.c,null,r.a,r.b),ve()):u.Fa(c,h)?dx(r,u):ct(new S("invalid-auth-event"))}else ct(new S("invalid-auth-event"))};function dx(r,u){var c=r.b,h=r.c;u.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(g){u.na(h,g,null,c)}).o(function(g){u.na(h,null,g,c)})}function Ub(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Rp(r,u){this.a=u,pe(this,"verificationId",r)}Rp.prototype.confirm=function(r){return r=S0(this.verificationId,r),this.a(r)};function xp(r,u,c,h){return new zr(r).gb(u,c).then(function(g){return new Rp(g,h)})}function px(r){var u=l0(r);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");gn(this,{token:r,expirationTime:Vu(1e3*u.exp),authTime:Vu(1e3*u.auth_time),issuedAtTime:Vu(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function Op(r,u,c){var h=u&&u[jb];if(!h)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=wt(u),this.g=c,this.c=new zc(null,h),this.b=[];var g=this;J(u[Vb]||[],function(y){(y=Id(y))&&g.b.push(y)}),pe(this,"auth",this.a),pe(this,"session",this.c),pe(this,"hints",this.b)}var Vb="mfaInfo",jb="mfaPendingCredential";Op.prototype.Rc=function(r){var u=this;return r.tb(this.a.a,this.c).then(function(c){var h=wt(u.f);return delete h[Vb],delete h[jb],Kt(h,c),u.g(h)})};function Dp(r,u,c,h){S.call(this,"multi-factor-auth-required",h,u),this.b=new Op(r,u,c),pe(this,"resolver",this.b)}D(Dp,S);function Bb(r,u,c){if(r&&N(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new Dp(u,r.serverResponse,c,r.message)}catch{}return null}function qb(){}qb.prototype.tb=function(r,u,c){return u.type==$u?gx(this,r,u,c):mx(this,r,u)};function gx(r,u,c,h){return c.Ha().then(function(g){return g={idToken:g},typeof h<"u"&&(g.displayName=h),Kt(g,{phoneVerificationInfo:Hu(r.a)}),Ue(u,iR,g)})}function mx(r,u,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},Kt(h,{phoneVerificationInfo:Hu(r.a)}),Ue(u,oR,h)})}function Pp(r){pe(this,"factorId",r.fa),this.a=r}D(Pp,qb);function $b(r){if(Pp.call(this,r),this.a.fa!=zr.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}D($b,Pp);function ws(r,u){Sn.call(this,r);for(var c in u)this[c]=u[c]}D(ws,Sn);function Lp(r,u){this.a=r,this.b=[],this.c=O(this.yc,this),Yn(this.a,"userReloaded",this.c);var c=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&J(u.multiFactor.enrolledFactors,function(h){var g=null,y={};if(h){h.uid&&(y[Sd]=h.uid),h.displayName&&(y[Xw]=h.displayName),h.enrollmentTime&&(y[Td]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[Ad]=h.phoneNumber);try{g=new ju(y)}catch{}h=g}else h=null;h&&c.push(h)}),yl(this,c)}function vx(r){var u=[];return J(r.mfaInfo||[],function(c){(c=Id(c))&&u.push(c)}),u}e=Lp.prototype,e.yc=function(r){yl(this,vx(r.hd))};function yl(r,u){r.b=u,pe(r,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(r){return new zc(r,null)})},e.fc=function(r,u){var c=this,h=this.a.a;return this.Sb().then(function(g){return r.tb(h,g,u)}).then(function(g){return Rr(c.a,g),c.a.reload()})},e.bd=function(r){var u=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(g){return Ue(h,SR,{idToken:g,mfaEnrollmentId:c})}).then(function(g){var y=qe(u.b,function(w){return w.uid!=c});return yl(u,y),Rr(u.a,g),u.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:_e(this.b,function(r){return r.w()})}}};function Mp(r,u,c){if(this.h=r,this.i=u,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Mp.prototype.start=function(){this.a=this.c,Fp(this,!0)};function yx(r,u){return u?(r.a=r.c,r.g()):(u=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),u)}function Fp(r,u){r.stop(),r.b=os(yx(r,u)).then(function(){return XC()}).then(function(){return r.h()}).then(function(){Fp(r,!0)}).o(function(c){r.i(c)&&Fp(r,!1)})}Mp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Up(r){this.f=r,this.b=this.a=null,this.c=Date.now()}Up.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Hb(r,u){typeof u>"u"&&(r.b?(u=r.b,u=u.a-u.g):u=0),r.c=Date.now()+1e3*u}function Kb(r,u){r.b=Hc(u[lr]||""),r.a=u.refreshToken,u=u.expiresIn,Hb(r,typeof u<"u"?Number(u):void 0)}function wx(r,u){r.b=u.b,r.a=u.a,r.c=u.c}function bx(r,u){return qN(r.f,u).then(function(c){return r.b=Hc(c.access_token),r.a=c.refresh_token,Hb(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}Up.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?ct(new S("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?bx(this,{grant_type:"refresh_token",refresh_token:this.a}):ve(null):ve({accessToken:this.b.toString(),refreshToken:this.a})};function wl(r,u){this.a=r||null,this.b=u||null,gn(this,{lastSignInTime:Vu(u||null),creationTime:Vu(r||null)})}function _x(r){return new wl(r.a,r.b)}wl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function Ex(r,u,c,h,g,y){gn(this,{uid:r,displayName:h||null,photoURL:g||null,email:c||null,phoneNumber:y||null,providerId:u})}function Vn(r,u,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=be.SDK_VERSION?cs(be.SDK_VERSION):null;this.a=new cr(this.l,je(Ce),h),(this.u=r.emulatorConfig||null)&&ul(this.a,this.u),this.h=new Up(this.a),Kp(this,u[lr]),Kb(this.h,u),pe(this,"refreshToken",this.h.a),Gb(this,c||{}),pn.call(this),this.P=!1,this.s&&ro()&&(this.b=Np(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=Ix(this),this.ba=O(this.ib,this);var g=this;this.za=null,this.Pa=function(y){g.xa(y.h)},this.qa=null,this.Ba=function(y){Vp(g,y.c)},this.$=null,this.aa=[],this.Oa=function(y){oa(g,y.f)},this.ja=null,this.S=new Lp(this,c),pe(this,"multiFactor",this.S)}D(Vn,pn),Vn.prototype.xa=function(r){this.za=r,B0(this.a,r)};function Vp(r,u){r.u=u,ul(r.a,u),r.b&&(u=r.b,r.b=Np(r.s,r.l,r.m,r.u),r.P&&(Ap(u,r),gl(r.b,r)))}Vn.prototype.la=function(){return this.za};function jp(r,u){r.qa&&Fn(r.qa,"languageCodeChanged",r.Pa),(r.qa=u)&&Yn(u,"languageCodeChanged",r.Pa)}function Bp(r,u){r.$&&Fn(r.$,"emulatorConfigChanged",r.Ba),(r.$=u)&&Yn(u,"emulatorConfigChanged",r.Ba)}function oa(r,u){r.aa=u,q0(r.a,be.SDK_VERSION?cs(be.SDK_VERSION,r.aa):null)}Vn.prototype.Ga=function(){return se(this.aa)};function qp(r,u){r.ja&&Fn(r.ja,"frameworkChanged",r.Oa),(r.ja=u)&&Yn(u,"frameworkChanged",r.Oa)}Vn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function $p(r){try{return be.app(r.m).auth()}catch{throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function Ix(r){return new Mp(function(){return r.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=r.h.c-Date.now()-3e5;return 0<u?u:0})}function zb(r){r.J||r.D.b||(r.D.start(),Fn(r,"tokenChanged",r.ba),Yn(r,"tokenChanged",r.ba))}function Hp(r){Fn(r,"tokenChanged",r.ba),r.D.stop()}function Kp(r,u){r.Aa=u,pe(r,"_lat",u)}function Tx(r,u){$(r.W,function(c){return c==u})}function go(r){for(var u=[],c=0;c<r.W.length;c++)u.push(r.W[c](r));return lw(u).then(function(){return r})}function sa(r){r.b&&!r.P&&(r.P=!0,gl(r.b,r))}function Gb(r,u){gn(r,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new wl(u.createdAt,u.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}pe(Vn.prototype,"providerId","firebase");function Wb(){}function zp(r){return ve().then(function(){if(r.J)throw new S("app-deleted")})}function Gp(r){return _e(r.providerData,function(u){return u.providerId})}function Wp(r,u){u&&(Xb(r,u.providerId),r.providerData.push(u))}function Xb(r,u){$(r.providerData,function(c){return c.providerId==u})}function vi(r,u,c){(u!="uid"||c)&&r.hasOwnProperty(u)&&pe(r,u,c)}function bl(r,u){r!=u&&(gn(r,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?pe(r,"metadata",_x(u.metadata)):pe(r,"metadata",new wl),J(u.providerData,function(c){Wp(r,c)}),wx(r.h,u.h),pe(r,"refreshToken",r.h.a),yl(r.S,u.S.b))}e=Vn.prototype,e.reload=function(){var r=this;return Lt(this,zp(this).then(function(){return Xp(r).then(function(){return go(r)}).then(Wb)}))};function Xp(r){return r.I().then(function(u){var c=r.isAnonymous;return Sx(r,u).then(function(){return c||vi(r,"isAnonymous",!1),u})})}e.oc=function(r){return this.I(r).then(function(u){return new px(u)})},e.I=function(r){var u=this;return Lt(this,zp(this).then(function(){return u.h.getToken(r)}).then(function(c){if(!c)throw new S("internal-error");return c.accessToken!=u.Aa&&(Kp(u,c.accessToken),u.dispatchEvent(new ws("tokenChanged"))),vi(u,"refreshToken",c.refreshToken),c.accessToken}))};function Rr(r,u){u[lr]&&r.Aa!=u[lr]&&(Kb(r.h,u),r.dispatchEvent(new ws("tokenChanged")),Kp(r,u[lr]),vi(r,"refreshToken",r.h.a))}function Sx(r,u){return Ue(r.a,sR,{idToken:u}).then(O(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new S("internal-error");r=r[0],Gb(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var u=Ax(r),c=0;c<u.length;c++)Wp(this,u[c]);vi(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ws("userReloaded",{hd:r}))};function Ax(r){return(r=r.providerUserInfo)&&r.length?_e(r,function(u){return new Ex(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(r){return yd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var u=this,c=null;return Lt(this,r.c(this.a,this.uid).then(function(h){return Rr(u,h),c=ua(u,h,"reauthenticate"),u.i=null,u.reload()}).then(function(){return c}),!0)};function _l(r,u){return Xp(r).then(function(){if(M(Gp(r),u))return go(r).then(function(){throw new S("provider-already-linked")})})}e.Cc=function(r){return yd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var u=this,c=null;return Lt(this,_l(this,r.providerId).then(function(){return u.I()}).then(function(h){return r.b(u.a,h)}).then(function(h){return c=ua(u,h,"link"),Qb(u,h)}).then(function(){return c}))},e.Dc=function(r,u){var c=this;return Lt(this,_l(this,"phone").then(function(){return xp($p(c),r,u,O(c.rb,c))}))},e.Mc=function(r,u){var c=this;return Lt(this,ve().then(function(){return xp($p(c),r,u,O(c.ub,c))}),!0)};function ua(r,u,c){var h=Fd(u);return u=h0(u),Cr({user:r,credential:h,additionalUserInfo:u,operationType:c})}function Qb(r,u){return Rr(r,u),r.reload().then(function(){return r})}e.Cb=function(r){var u=this;return Lt(this,this.I().then(function(c){return u.a.Cb(c,r)}).then(function(c){return Rr(u,c),u.reload()}))},e.ed=function(r){var u=this;return Lt(this,this.I().then(function(c){return r.b(u.a,c)}).then(function(c){return Rr(u,c),u.reload()}))},e.Db=function(r){var u=this;return Lt(this,this.I().then(function(c){return u.a.Db(c,r)}).then(function(c){return Rr(u,c),u.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return zp(this);var u=this;return Lt(this,this.I().then(function(c){return u.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Rr(u,c),vi(u,"displayName",c.displayName||null),vi(u,"photoURL",c.photoUrl||null),J(u.providerData,function(h){h.providerId==="password"&&(pe(h,"displayName",u.displayName),pe(h,"photoURL",u.photoURL))}),go(u)}).then(Wb))},e.cd=function(r){var u=this;return Lt(this,Xp(this).then(function(c){return M(Gp(u),r)?XN(u.a,c,[r]).then(function(h){var g={};return J(h.providerUserInfo||[],function(y){g[y.providerId]=!0}),J(Gp(u),function(y){g[y]||Xb(u,y)}),g[zr.PROVIDER_ID]||pe(u,"phoneNumber",null),go(u)}):go(u).then(function(){throw new S("no-such-provider")})}))},e.delete=function(){var r=this;return Lt(this,this.I().then(function(u){return Ue(r.a,eR,{idToken:u})}).then(function(){r.dispatchEvent(new ws("userDeleted"))})).then(function(){for(var u=0;u<r.N.length;u++)r.N[u].cancel("app-deleted");jp(r,null),Bp(r,null),qp(r,null),r.N=[],r.J=!0,Hp(r),pe(r,"refreshToken",null),r.b&&Ap(r.b,r)})},e.Gb=function(r,u){return!!(r=="linkViaPopup"&&(this.g||null)==u&&this.f||r=="reauthViaPopup"&&(this.g||null)==u&&this.f||r=="linkViaRedirect"&&(this.ga||null)==u||r=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(r,u,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,u){return r=="linkViaPopup"&&u==(this.g||null)?O(this.Lb,this):r=="reauthViaPopup"&&u==(this.g||null)?O(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==u?O(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==u?O(this.Mb,this):null},e.Ec=function(r){var u=this;return Yb(this,"linkViaPopup",r,function(){return _l(u,r.providerId).then(function(){return go(u)})},!1)},e.Nc=function(r){return Yb(this,"reauthViaPopup",r,function(){return ve()},!0)};function Yb(r,u,c,h,g){if(!ro())return ct(new S("operation-not-supported-in-this-environment"));if(r.i&&!g)return ct(r.i);var y=xd(c.providerId),w=io(r.uid+":::"),T=null;(!Fu()||pd())&&r.s&&c.isOAuthProvider&&(T=ea(r.s,r.l,r.m,u,c,null,w,be.SDK_VERSION||null,null,null,r.tenantId,r.u));var V=jw(T,y&&y.va,y&&y.ua);return h=h().then(function(){if(Zb(r),!g)return r.I().then(function(){})}).then(function(){return xb(r.b,V,u,c,w,!!T,r.tenantId)}).then(function(){return new Fe(function(z,Ie){r.na(u,null,new S("cancelled-popup-request"),r.g||null),r.f=z,r.C=Ie,r.g=w,r.c=Db(r.b,r,u,V,w)})}).then(function(z){return V&&no(V),z?Cr(z):null}).o(function(z){throw V&&no(V),z}),Lt(r,h,g)}e.Fc=function(r){var u=this;return Jb(this,"linkViaRedirect",r,function(){return _l(u,r.providerId)},!1)},e.Oc=function(r){return Jb(this,"reauthViaRedirect",r,function(){return ve()},!0)};function Jb(r,u,c,h,g){if(!ro())return ct(new S("operation-not-supported-in-this-environment"));if(r.i&&!g)return ct(r.i);var y=null,w=io(r.uid+":::");return h=h().then(function(){if(Zb(r),!g)return r.I().then(function(){})}).then(function(){return r.ga=w,go(r)}).then(function(T){return r.ha&&(T=r.ha,T=T.b.set(Qp,r.w(),T.a)),T}).then(function(){return Ob(r.b,u,c,w,r.tenantId)}).o(function(T){if(y=T,r.ha)return t_(r.ha);throw y}).then(function(){if(y)throw y}),Lt(r,h,g)}function Zb(r){if(!r.b||!r.P)throw r.b&&!r.P?new S("internal-error"):new S("auth-domain-config-required")}e.Lb=function(r,u,c,h){var g=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(w){return ip(g.a,{requestUri:r,postBody:h,sessionId:u,idToken:w})}).then(function(w){return y=ua(g,w,"link"),Qb(g,w)}).then(function(){return y}),Lt(this,c)},e.Mb=function(r,u,c,h){var g=this;this.c&&(this.c.cancel(),this.c=null);var y=null,w=ve().then(function(){return ds(op(g.a,{requestUri:r,sessionId:u,postBody:h,tenantId:c}),g.uid)}).then(function(T){return y=ua(g,T,"reauthenticate"),Rr(g,T),g.i=null,g.reload()}).then(function(){return y});return Lt(this,w,!0)},e.vb=function(r){var u=this,c=null;return Lt(this,this.I().then(function(h){return c=h,typeof r>"u"||Tr(r)?{}:qc(new Bc(r))}).then(function(h){return u.a.vb(c,h)}).then(function(h){if(u.email!=h)return u.reload()}).then(function(){}))},e.Fb=function(r,u){var c=this,h=null;return Lt(this,this.I().then(function(g){return h=g,typeof u>"u"||Tr(u)?{}:qc(new Bc(u))}).then(function(g){return c.a.Fb(h,r,g)}).then(function(g){if(c.email!=g)return c.reload()}).then(function(){}))};function Lt(r,u,c){var h=kx(r,u,c);return r.N.push(h),h.oa(function(){j(r.N,h)}),h.o(function(g){var y=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(y=Bb(g.w(),$p(r),O(r.jc,r))),y||g})}e.jc=function(r){var u=null,c=this;return r=ds(ve(r),c.uid).then(function(h){return u=ua(c,h,"reauthenticate"),Rr(c,h),c.i=null,c.reload()}).then(function(){return u}),Lt(this,r,!0)};function kx(r,u,c){return r.i&&!c?(u.cancel(),ct(r.i)):u.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new ws("userInvalidated")),r.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Kt(r,this.metadata.w()),J(this.providerData,function(u){r.providerData.push(JC(u))}),Kt(r,this.S.w()),r};function e_(r){if(!r.apiKey)return null;var u={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[lr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var g=new Vn(u,c,r);return r.providerData&&J(r.providerData,function(y){y&&Wp(g,Cr(y))}),r.redirectEventId&&(g.ga=r.redirectEventId),g}function Cx(r,u,c,h){var g=new Vn(r,u);return c&&(g.ha=c),h&&oa(g,h),g.reload().then(function(){return g})}function Nx(r,u,c,h){var g=r.h,y={};return y[lr]=g.b&&g.b.toString(),y.refreshToken=g.a,u=new Vn(u||{apiKey:r.l,authDomain:r.s,appName:r.m},y),c&&(u.ha=c),h&&oa(u,h),bl(u,r),u}function Rx(r){this.a=r,this.b=ia()}var Qp={name:"redirectUser",F:"session"};function t_(r){return ys(r.b,Qp,r.a)}function xx(r,u){return r.b.get(Qp,r.a).then(function(c){return c&&u&&(c.authDomain=u),e_(c||{})})}function Yp(r){this.a=r,this.b=ia(),this.c=null,this.f=Ox(this),this.b.addListener(xr("local"),this.a,O(this.g,this))}Yp.prototype.g=function(){var r=this,u=xr("local");bs(this,function(){return ve().then(function(){return r.c&&r.c.F!="local"?r.b.get(u,r.a):null}).then(function(c){if(c)return Jp(r,"local").then(function(){r.c=u})})})};function Jp(r,u){var c=[],h;for(h in ms)ms[h]!==u&&c.push(ys(r.b,xr(ms[h]),r.a));return c.push(ys(r.b,Zp,r.a)),_C(c)}function Ox(r){var u=xr("local"),c=xr("session"),h=xr("none");return GR(r.b,u,r.a).then(function(){return r.b.get(c,r.a)}).then(function(g){return g?c:r.b.get(h,r.a).then(function(y){return y?h:r.b.get(u,r.a).then(function(w){return w?u:r.b.get(Zp,r.a).then(function(T){return T?xr(T):u})})})}).then(function(g){return r.c=g,Jp(r,g.F)}).o(function(){r.c||(r.c=u)})}var Zp={name:"persistence",F:"session"};function xr(r){return{name:"authUser",F:r}}Yp.prototype.yb=function(r){var u=null,c=this;return zR(r),bs(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return u=h,Jp(c,r)}).then(function(){if(c.c=xr(r),u)return c.b.set(c.c,u,c.a)}):ve()})};function Dx(r){return bs(r,function(){return r.b.set(Zp,r.c.F,r.a)})}function n_(r,u){return bs(r,function(){return r.b.set(r.c,u.w(),r.a)})}function r_(r){return bs(r,function(){return ys(r.b,r.c,r.a)})}function i_(r,u,c){return bs(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&u&&(h.authDomain=u),h&&c&&(h.emulatorConfig=c),e_(h||{})})})}function bs(r,u){return r.f=r.f.then(u,u),r.f}function fr(r){if(this.l=!1,pe(this,"settings",new Ub),pe(this,"app",r),et(this).options&&et(this).options.apiKey)r=be.SDK_VERSION?cs(be.SDK_VERSION):null,this.a=new cr(et(this).options&&et(this).options.apiKey,je(Ce),r);else throw new S("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=be.INTERNAL.createSubscribe(O(this.zc,this)),this.W=void 0,this.ib=be.INTERNAL.createSubscribe(O(this.Ac,this)),_s(this,null),this.i=new Yp(et(this).options.apiKey+":"+et(this).name),this.D=new Rx(et(this).options.apiKey+":"+et(this).name),this.$=bt(this,Vx(this)),this.h=bt(this,jx(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.qa=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,Mx(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,pn.call(this),Lx(this),this.J=[],this.R=null}D(fr,pn);function o_(r){Sn.call(this,"languageCodeChanged"),this.h=r}D(o_,Sn);function s_(r){Sn.call(this,"emulatorConfigChanged"),this.c=r}D(s_,Sn);function u_(r){Sn.call(this,"frameworkChanged"),this.f=r}D(u_,Sn),e=fr.prototype,e.yb=function(r){return r=this.i.yb(r),bt(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,B0(this.a,this.aa),this.dispatchEvent(new o_(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,u){if(!this.R){if(!/^https?:\/\//.test(r))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,Px(u),this.R={url:r,ec:u},this.settings.jb=!0,ul(this.a,this.R),this.dispatchEvent(new s_(this.R))}};function Px(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Uc().then(function(){var u=f.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),f.document.body.appendChild(u)})}e.Gc=function(r){this.J.push(r),q0(this.a,be.SDK_VERSION?cs(be.SDK_VERSION,this.J):null),this.dispatchEvent(new u_(this.J))},e.Ga=function(){return se(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function Lx(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var u=An(this.R.url);u=Cr({protocol:u.c,host:u.a,port:u.g,options:Cr({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:et(this).options.apiKey,authDomain:et(this).options.authDomain,appName:et(this).name,currentUser:xe(this)&&xe(this).w()}};function eg(r){return r.Oa||ct(new S("auth-domain-config-required"))}function Mx(r){var u=et(r).options.authDomain,c=et(r).options.apiKey;u&&ro()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Np(u,c,et(r).name,r.R),gl(r.b,r),xe(r)&&sa(xe(r)),r.m){sa(r.m);var h=r.m;h.xa(r.la()),jp(h,r),h=r.m,oa(h,r.J),qp(h,r),h=r.m,Vp(h,r.R),Bp(h,r),r.m=null}return r.b}}))}e.Gb=function(r,u){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(r,u,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,u){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==u&&this.f?O(this.ic,this):null},e.ic=function(r,u,c,h){var g=this,y={requestUri:r,postBody:h,sessionId:u,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return mo(g,rp(g.a,y))})},e.Xc=function(r){if(!ro())return ct(new S("operation-not-supported-in-this-environment"));var u=this,c=xd(r.providerId),h=io(),g=null;(!Fu()||pd())&&et(this).options.authDomain&&r.isOAuthProvider&&(g=ea(et(this).options.authDomain,et(this).options.apiKey,et(this).name,"signInViaPopup",r,null,h,be.SDK_VERSION||null,null,null,this.T(),this.R));var y=jw(g,c&&c.va,c&&c.ua);return c=eg(this).then(function(w){return xb(w,y,"signInViaPopup",r,h,!!g,u.T())}).then(function(){return new Fe(function(w,T){u.na("signInViaPopup",null,new S("cancelled-popup-request"),u.g),u.f=w,u.C=T,u.g=h,u.c=Db(u.b,u,"signInViaPopup",y,h)})}).then(function(w){return y&&no(y),w?Cr(w):null}).o(function(w){throw y&&no(y),w}),bt(this,c)},e.Yc=function(r){if(!ro())return ct(new S("operation-not-supported-in-this-environment"));var u=this,c=eg(this).then(function(){return Dx(u.i)}).then(function(){return Ob(u.b,"signInViaRedirect",r,void 0,u.T())});return bt(this,c)};function a_(r){if(!ro())return ct(new S("operation-not-supported-in-this-environment"));var u=eg(r).then(function(){return r.b.ra()}).then(function(c){return c?Cr(c):null});return bt(r,u)}e.ra=function(){var r=this;return a_(this).then(function(u){return r.b&&vl(r.b.b),u}).o(function(u){throw r.b&&vl(r.b.b),u})},e.dd=function(r){if(!r)return ct(new S("null-user"));if(this.S!=r.tenantId)return ct(new S("tenant-id-mismatch"));var u=this,c={};c.apiKey=et(this).options.apiKey,c.authDomain=et(this).options.authDomain,c.appName=et(this).name;var h=Nx(r,c,u.D,u.Ga());return bt(this,this.h.then(function(){if(et(u).options.apiKey!=r.l)return h.reload()}).then(function(){return xe(u)&&r.uid==xe(u).uid?(bl(xe(u),r),u.da(r)):(_s(u,h),sa(h),u.da(h))}).then(function(){aa(u)}))};function Fx(r,u){var c={};return c.apiKey=et(r).options.apiKey,c.authDomain=et(r).options.authDomain,c.appName=et(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return Cx(c,u,r.D,r.Ga())}).then(function(h){return xe(r)&&h.uid==xe(r).uid?(bl(xe(r),h),r.da(h)):(_s(r,h),sa(h),r.da(h))}).then(function(){aa(r)})}function _s(r,u){xe(r)&&(Tx(xe(r),r.Ba),Fn(xe(r),"tokenChanged",r.qa),Fn(xe(r),"userDeleted",r.za),Fn(xe(r),"userInvalidated",r.Aa),Hp(xe(r))),u&&(u.W.push(r.Ba),Yn(u,"tokenChanged",r.qa),Yn(u,"userDeleted",r.za),Yn(u,"userInvalidated",r.Aa),0<r.u&&zb(u)),pe(r,"currentUser",u),u&&(u.xa(r.la()),jp(u,r),oa(u,r.J),qp(u,r),Vp(u,r.R),Bp(u,r))}e.Bb=function(){var r=this,u=this.h.then(function(){return r.b&&vl(r.b.b),xe(r)?(_s(r,null),r_(r.i).then(function(){aa(r)})):ve()});return bt(this,u)};function Ux(r){var u=xx(r.D,et(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),t_(r.D)});return bt(r,u)}function Vx(r){var u=et(r).options.authDomain,c=Ux(r).then(function(){return i_(r.i,u,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return n_(r.i,h).then(function(){return h})}).o(function(g){return g.code=="auth/network-request-failed"?h:r_(r.i)})):null}).then(function(h){_s(r,h||null)});return bt(r,c)}function jx(r){return r.$.then(function(){return a_(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var u=r.i;u.b.addListener(xr("local"),u.a,r.ja)}})}e.Zc=function(){var r=this;return i_(this.i,et(this).options.authDomain).then(function(u){if(!r.l){var c;if(c=xe(r)&&u){c=xe(r).uid;var h=u.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return bl(xe(r),u),xe(r).I();(xe(r)||u)&&(_s(r,u),u&&(sa(u),u.ha=r.D),r.b&&gl(r.b,r),aa(r))}})},e.da=function(r){return n_(this.i,r)},e.mc=function(){aa(this),this.da(xe(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function mo(r,u){var c=null,h=null;return bt(r,u.then(function(g){return c=Fd(g),h=h0(g),Fx(r,g)},function(g){var y=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(y=Bb(g.w(),r,O(r.kc,r))),y||g}).then(function(){return Cr({user:xe(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(r){var u=this;return this.h.then(function(){return mo(u,ve(r))})},e.zc=function(r){var u=this;this.addAuthTokenListener(function(){r.next(xe(u))})},e.Ac=function(r){var u=this;Bx(this,function(){r.next(xe(u))})},e.Ic=function(r,u,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(xe(h)):typeof r.next=="function"&&r.next(xe(h))}),this.Pa(r,u,c)},e.Hc=function(r,u,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(xe(h)):typeof r.next=="function"&&r.next(xe(h))}),this.ib(r,u,c)},e.nc=function(r){var u=this,c=this.h.then(function(){return xe(u)?xe(u).I(r).then(function(h){return{accessToken:h}}):null});return bt(this,c)},e.Tc=function(r){var u=this;return this.h.then(function(){return mo(u,Ue(u.a,_R,{token:r}))}).then(function(c){var h=c.user;return vi(h,"isAnonymous",!1),u.da(h),c})},e.Uc=function(r,u){var c=this;return this.h.then(function(){return mo(c,Ue(c.a,Y0,{email:r,password:u}))})},e.dc=function(r,u){var c=this;return this.h.then(function(){return mo(c,Ue(c.a,JN,{email:r,password:u}))})},e.ab=function(r){var u=this;return this.h.then(function(){return mo(u,r.ka(u.a))})},e.Sc=function(r){return yd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var u=xe(r);if(u&&u.isAnonymous){var c=Cr({providerId:null,isNewUser:!1});return Cr({user:u,credential:null,additionalUserInfo:c,operationType:"signIn"})}return mo(r,r.a.Ab()).then(function(h){var g=h.user;return vi(g,"isAnonymous",!0),r.da(g),h})})};function et(r){return r.app}function xe(r){return r.currentUser}e.getUid=function(){return xe(this)&&xe(this).uid||null};function El(r){return xe(r)&&xe(r)._lat||null}function aa(r){if(r.ba){for(var u=0;u<r.s.length;u++)r.s[u]&&r.s[u](El(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),u=0;u<r.N.length;u++)r.N[u]&&r.N[u](El(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&xe(this)&&zb(xe(this))},e.Pc=function(r){var u=this;J(this.s,function(c){c==r&&u.u--}),0>this.u&&(this.u=0),this.u==0&&xe(this)&&Hp(xe(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var u=this;this.s.push(r),bt(this,this.h.then(function(){u.l||M(u.s,r)&&r(El(u))}))},e.removeAuthTokenListener=function(r){$(this.s,function(u){return u==r})};function Bx(r,u){r.N.push(u),bt(r,r.h.then(function(){!r.l&&M(r.N,u)&&r.W!==r.getUid()&&(r.W=r.getUid(),u(El(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(xr("local"),r.a,this.ja)),this.b&&(Ap(this.b,this),vl(this.b.b)),Promise.resolve()};function bt(r,u){return r.P.push(u),u.oa(function(){j(r.P,u)}),u}e.hc=function(r){return bt(this,$N(this.a,r))},e.Bc=function(r){return!!Md(r)},e.xb=function(r,u){var c=this;return bt(this,ve().then(function(){var h=new Bc(u);if(!h.c)throw new S("argument-error",Nd+" must be true when sending sign in link to email");return qc(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(u){return u.data.email})},e.ob=function(r,u){return bt(this,this.a.ob(r,u).then(function(){}))},e.Sa=function(r){return bt(this,this.a.Sa(r).then(function(u){return new eN(u)}))},e.kb=function(r){return bt(this,this.a.kb(r).then(function(){}))},e.wb=function(r,u){var c=this;return bt(this,ve().then(function(){return typeof u>"u"||Tr(u)?{}:qc(new Bc(u))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},e.Wc=function(r,u){return bt(this,xp(this,r,u,O(this.ab,this)))},e.Vc=function(r,u){var c=this;return bt(this,ve().then(function(){var h=u||Mu(),g=T0(r,h);if(h=Md(h),!h)throw new S("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new S("tenant-id-mismatch");return c.ab(g)}))};function ca(){}ca.prototype.render=function(){},ca.prototype.reset=function(){},ca.prototype.getResponse=function(){},ca.prototype.execute=function(){};function Es(){this.a={},this.b=1e12}var tg=null;Es.prototype.render=function(r,u){return this.a[this.b.toString()]=new Il(r,u),this.b++},Es.prototype.reset=function(r){var u=ng(this,r);r=c_(r),u&&r&&(u.delete(),delete this.a[r])},Es.prototype.getResponse=function(r){return(r=ng(this,r))?r.getResponse():null},Es.prototype.execute=function(r){(r=ng(this,r))&&r.execute()};function ng(r,u){return(u=c_(u))&&r.a[u]||null}function c_(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function Il(r,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Nu(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():Yn(this.f,"click",this.i)}Il.prototype.getResponse=function(){return rg(this),this.b},Il.prototype.execute=function(){rg(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=WC();var u=r.c.callback,c=r.c["expired-callback"];if(u)try{u(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},Il.prototype.delete=function(){rg(this),this.g=!0,clearTimeout(this.a),this.a=null,Fn(this.f,"click",this.i)};function rg(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function ig(){}pe(ig,"FACTOR_ID","phone");function og(){}og.prototype.g=function(){return tg||(tg=new Es),ve(tg)},og.prototype.c=function(){};var sg=null;function ug(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var qx=new Sr(Sc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),$x=new pi(3e4,6e4);ug.prototype.g=function(r){var u=this;return new Fe(function(c,h){var g=setTimeout(function(){h(new S("network-request-failed"))},$x.get());if(!f.grecaptcha||r!==u.f&&!u.b){f[u.a]=function(){if(f.grecaptcha){u.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(T,V){return T=w(T,V),u.b++,T},clearTimeout(g),c(f.grecaptcha)}else clearTimeout(g),h(new S("internal-error"));delete f[u.a]};var y=qh(qx,{onload:u.a,hl:r||""});ve(Qd(y)).o(function(){clearTimeout(g),h(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),c(f.grecaptcha)})},ug.prototype.c=function(){this.b--};var ag=null;function cg(r,u,c,h,g,y,w){if(pe(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,w?(sg||(sg=new og),w=sg):(ag||(ag=new ug),w=ag),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[h_])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[Hx]==="invisible",!f.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Nu(u)||!this.i&&Nu(u).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new cr(r,y||null,g||null),this.u=h||function(){return null};var T=this;this.l=[];var V=this.a[l_];this.a[l_]=function(Ie){if(d_(T,Ie),typeof V=="function")V(Ie);else if(typeof V=="string"){var Je=lt(V,f);typeof Je=="function"&&Je(Ie)}};var z=this.a[f_];this.a[f_]=function(){if(d_(T,null),typeof z=="function")z();else if(typeof z=="string"){var Ie=lt(z,f);typeof Ie=="function"&&Ie()}}}var l_="callback",f_="expired-callback",h_="sitekey",Hx="size";function d_(r,u){for(var c=0;c<r.l.length;c++)try{r.l[c](u)}catch{}}function Kx(r,u){$(r.l,function(c){return c==u})}function lg(r,u){return r.h.push(u),u.oa(function(){j(r.h,u)}),u}e=cg.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=lg(this,ve().then(function(){if(Vc()&&!ur())return Uc();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(u){return r.g=u,Ue(r.s,hR,{})}).then(function(u){r.a[h_]=u.recaptchaSiteKey}).o(function(u){throw r.f=null,u}))},e.render=function(){Tl(this);var r=this;return lg(this,this.Ia().then(function(){if(r.c===null){var u=r.v;if(!r.i){var c=Nu(u);u=vC("DIV"),c.appendChild(u)}r.c=r.g.render(u,r.a)}return r.c}))},e.verify=function(){Tl(this);var r=this;return lg(this,this.render().then(function(u){return new Fe(function(c){var h=r.g.getResponse(u);if(h)c(h);else{var g=function(y){y&&(Kx(r,g),c(y))};r.l.push(g),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){Tl(this),this.c!==null&&this.g.reset(this.c)};function Tl(r){if(r.J)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Tl(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=Nu(this.v);for(var u;u=r.firstChild;)r.removeChild(u)}};function fg(r,u,c){var h=!1;try{this.b=c||be.app()}catch{throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new S("invalid-api-key");var g=this,y=null;try{y=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=be.SDK_VERSION?cs(be.SDK_VERSION,y):null,cg.call(this,c,r,u,function(){try{var w=g.b.auth().la()}catch{w=null}return w},y,je(Ce),h)}D(fg,cg);function p_(r,u,c,h){e:{c=Array.prototype.slice.call(c);for(var g=0,y=!1,w=0;w<u.length;w++)if(u[w].optional)y=!0;else{if(y)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(y=u.length,c.length<g||y<c.length)h="Expected "+(g==y?g==1?"1 argument":g+" arguments":g+"-"+y+" arguments")+" but got "+c.length+".";else{for(g=0;g<c.length;g++)if(y=u[g].optional&&c[g]===void 0,!u[g].M(c[g])&&!y){if(u=u[g],0>g||g>=g_.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");c=g_[g],h=(h?"":c+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}h=null}}if(h)throw new S("argument-error",r+" failed: "+h)}var g_="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function de(r,u){return{name:r||"",K:"a valid string",optional:!!u,M:function(c){return typeof c=="string"}}}function hg(r,u){return{name:r||"",K:"a boolean",optional:!!u,M:function(c){return typeof c=="boolean"}}}function Ct(r,u){return{name:r||"",K:"a valid object",optional:!!u,M:N}}function Is(r,u){return{name:r||"",K:"a function",optional:!!u,M:function(c){return typeof c=="function"}}}function Or(r,u){return{name:r||"",K:"null",optional:!!u,M:function(c){return c===null}}}function zx(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function Gx(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof fr)}}}function Wx(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof be.app.App)}}}function yi(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var c=!r||u.providerId===r;return!(!u.ka||!c)}}}function m_(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function Ts(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function dg(r,u){return N(r)&&typeof r.type=="string"&&r.type===u&&typeof r.Ha=="function"}function v_(r){return N(r)&&typeof r.uid=="string"}function Sl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function St(r,u,c,h){return{name:c||"",K:r.K+" or "+u.K,optional:!!h,M:function(g){return r.M(g)||u.M(g)}}}function mt(r,u){for(var c in u){var h=u[c].name;r[h]=w_(h,r[c],u[c].j)}}function y_(r,u){for(var c in u){var h=u[c].name;h!==c&&Object.defineProperty(r,h,{get:W(function(g){return this[g]},c),set:W(function(g,y,w,T){p_(g,[w],[T],!0),this[y]=T},h,c,u[c].lb),enumerable:!0})}}function At(r,u,c,h){r[u]=w_(u,c,h)}function w_(r,u,c){function h(){var w=Array.prototype.slice.call(arguments);return p_(g,c,w),u.apply(this,w)}if(!c)return u;var g=Xx(r),y;for(y in u)h[y]=u[y];for(y in u.prototype)h.prototype[y]=u.prototype[y];return h}function Xx(r){return r=r.split("."),r[r.length-1]}mt(fr.prototype,{kb:{name:"applyActionCode",j:[de("code")]},Sa:{name:"checkActionCode",j:[de("code")]},ob:{name:"confirmPasswordReset",j:[de("code"),de("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[de("email"),de("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[de("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[de("emailLink")]},Hc:{name:"onAuthStateChanged",j:[St(Ct(),Is(),"nextOrObserver"),Is("opt_error",!0),Is("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[St(Ct(),Is(),"nextOrObserver"),Is("opt_error",!0),Is("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[de("email"),St(Ct("opt_actionCodeSettings",!0),Or(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[de("email"),Ct("actionCodeSettings")]},yb:{name:"setPersistence",j:[de("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[yi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[yi()]},Tc:{name:"signInWithCustomToken",j:[de("token")]},Uc:{name:"signInWithEmailAndPassword",j:[de("email"),de("password")]},Vc:{name:"signInWithEmailLink",j:[de("email"),de("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[de("phoneNumber"),Sl()]},Xc:{name:"signInWithPopup",j:[Ts()]},Yc:{name:"signInWithRedirect",j:[Ts()]},dd:{name:"updateCurrentUser",j:[St(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(u){return!!(u&&u instanceof Vn)}}}(),Or(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[de(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[de("url"),Ct("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[de("code")]}}),y_(fr.prototype,{lc:{name:"languageCode",lb:St(de(),Or(),"languageCode")},ti:{name:"tenantId",lb:St(de(),Or(),"tenantId")}}),fr.Persistence=ms,fr.Persistence.LOCAL="local",fr.Persistence.SESSION="session",fr.Persistence.NONE="none",mt(Vn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[hg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[hg("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[yi()]},rb:{name:"linkWithCredential",j:[yi()]},Dc:{name:"linkWithPhoneNumber",j:[de("phoneNumber"),Sl()]},Ec:{name:"linkWithPopup",j:[Ts()]},Fc:{name:"linkWithRedirect",j:[Ts()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[yi()]},ub:{name:"reauthenticateWithCredential",j:[yi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[de("phoneNumber"),Sl()]},Nc:{name:"reauthenticateWithPopup",j:[Ts()]},Oc:{name:"reauthenticateWithRedirect",j:[Ts()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[St(Ct("opt_actionCodeSettings",!0),Or(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[de(null,!0)]},cd:{name:"unlink",j:[de("provider")]},Cb:{name:"updateEmail",j:[de("email")]},Db:{name:"updatePassword",j:[de("password")]},ed:{name:"updatePhoneNumber",j:[yi("phone")]},Eb:{name:"updateProfile",j:[Ct("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[de("email"),St(Ct("opt_actionCodeSettings",!0),Or(null,!0),"opt_actionCodeSettings",!0)]}}),mt(Es.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),mt(ca.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),mt(Fe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),y_(Ub.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:hg("appVerificationDisabledForTesting")}}),mt(Rp.prototype,{confirm:{name:"confirm",j:[de("verificationCode")]}}),At(hs,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var u,c=[yN,wN,bN,vN],h=0;h<c.length;h++)if(u=c[h](r))return u;return null},[St(de(),Ct(),"json")]),At(Zn,"credential",function(r,u){return new gi(r,u)},[de("email"),de("password")]),mt(gi.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),mt(uo.prototype,{Ca:{name:"addScope",j:[de("scope")]},Ka:{name:"setCustomParameters",j:[Ct("customOAuthParameters")]}}),At(uo,"credential",b0,[St(de(),Ct(),"token")]),At(Zn,"credentialWithLink",T0,[de("email"),de("emailLink")]),mt(ao.prototype,{Ca:{name:"addScope",j:[de("scope")]},Ka:{name:"setCustomParameters",j:[Ct("customOAuthParameters")]}}),At(ao,"credential",_0,[St(de(),Ct(),"token")]),mt(co.prototype,{Ca:{name:"addScope",j:[de("scope")]},Ka:{name:"setCustomParameters",j:[Ct("customOAuthParameters")]}}),At(co,"credential",E0,[St(de(),St(Ct(),Or()),"idToken"),St(de(),Or(),"accessToken",!0)]),mt(ps.prototype,{Ka:{name:"setCustomParameters",j:[Ct("customOAuthParameters")]}}),At(ps,"credential",I0,[St(de(),Ct(),"token"),de("secret",!0)]),mt(Un.prototype,{Ca:{name:"addScope",j:[de("scope")]},credential:{name:"credential",j:[St(de(),St(Ct(),Or()),"optionsOrIdToken"),St(de(),Or(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ct("customOAuthParameters")]}}),mt(Kr.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),mt(oo.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),At(zr,"credential",S0,[de("verificationId"),de("verificationCode")]),mt(zr.prototype,{gb:{name:"verifyPhoneNumber",j:[St(de(),function(r,u){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(c){return c?c.session&&c.phoneNumber?dg(c.session,$u)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?dg(c.session,Gc)&&v_(c.multiFactorHint):c.session&&c.multiFactorUid?dg(c.session,Gc)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Sl()]}}),mt(mi.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),mt(S.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),mt(Ku.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),mt(jd.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),mt(Dp.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),mt(Op.prototype,{Rc:{name:"resolveSignIn",j:[m_()]}}),mt(Lp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[m_(),de("displayName",!0)]},bd:{name:"unenroll",j:[St({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:v_},de(),"multiFactorInfoIdentifier")]}}),mt(fg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),At(Cd,"parseLink",n0,[de("link")]),At(ig,"assertion",function(r){return new $b(r)},[yi("phone")]),function(){if(typeof be<"u"&&be.INTERNAL&&be.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:jc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:kd,VERIFY_AND_CHANGE_EMAIL:Bu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:fr,AuthCredential:hs,Error:S};At(r,"EmailAuthProvider",Zn,[]),At(r,"FacebookAuthProvider",uo,[]),At(r,"GithubAuthProvider",ao,[]),At(r,"GoogleAuthProvider",co,[]),At(r,"TwitterAuthProvider",ps,[]),At(r,"OAuthProvider",Un,[de("providerId")]),At(r,"SAMLAuthProvider",w0,[de("providerId")]),At(r,"PhoneAuthProvider",zr,[Gx()]),At(r,"RecaptchaVerifier",fg,[St(de(),zx(),"recaptchaContainer"),Ct("recaptchaParameters",!0),Wx()]),At(r,"ActionCodeURL",Cd,[]),At(r,"PhoneMultiFactorGenerator",ig,[]),be.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new fr(u)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),be.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:O(u.getUid,u),getToken:O(u.nc,u),addAuthTokenListener:O(u.cc,u),removeAuthTokenListener:O(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),be.registerVersion("@firebase/auth","0.16.8"),be.INTERNAL.extendNamespace({User:Vn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cm=function(e,t){return cm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},cm(e,t)};function AL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");cm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function vS(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var kL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he,mv=mv||{},Se=kL||self;function lf(){}function lm(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function rc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function CL(e){return Object.prototype.hasOwnProperty.call(e,Tg)&&e[Tg]||(e[Tg]=++NL)}var Tg="closure_uid_"+(1e9*Math.random()>>>0),NL=0;function RL(e,t,n){return e.call.apply(e.bind,arguments)}function xL(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function Yt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yt=RL:Yt=xL,Yt.apply(null,arguments)}function Dl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function Zt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(i,a)}}function Hi(){this.s=this.s,this.o=this.o}var OL=0;Hi.prototype.s=!1;Hi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),OL!=0)&&CL(this)};Hi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var yS=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},wS=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<i;s++)s in o&&t.call(n,o[s],s,e)};function DL(e){e:{for(var t=TM,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function eE(e){return Array.prototype.concat.apply([],arguments)}function vv(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function ff(e){return/^[\s\xa0]*$/.test(e)}var tE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function bn(e,t){return e.indexOf(t)!=-1}function Sg(e,t){return e<t?-1:e>t?1:0}var _n;e:{var nE=Se.navigator;if(nE){var rE=nE.userAgent;if(rE){_n=rE;break e}}_n=""}function yv(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function bS(e){var t={};for(var n in e)t[n]=e[n];return t}var iE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _S(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var s=0;s<iE.length;s++)n=iE[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function wv(e){return wv[" "](e),e}wv[" "]=lf;function PL(e){var t=FL;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var LL=bn(_n,"Opera"),Xs=bn(_n,"Trident")||bn(_n,"MSIE"),ES=bn(_n,"Edge"),fm=ES||Xs,IS=bn(_n,"Gecko")&&!(bn(_n.toLowerCase(),"webkit")&&!bn(_n,"Edge"))&&!(bn(_n,"Trident")||bn(_n,"MSIE"))&&!bn(_n,"Edge"),ML=bn(_n.toLowerCase(),"webkit")&&!bn(_n,"Edge");function TS(){var e=Se.document;return e?e.documentMode:void 0}var hf;e:{var Ag="",kg=function(){var e=_n;if(IS)return/rv:([^\);]+)(\)|;)/.exec(e);if(ES)return/Edge\/([\d\.]+)/.exec(e);if(Xs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(ML)return/WebKit\/(\S+)/.exec(e);if(LL)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(kg&&(Ag=kg?kg[1]:""),Xs){var Cg=TS();if(Cg!=null&&Cg>parseFloat(Ag)){hf=String(Cg);break e}}hf=Ag}var FL={};function UL(){return PL(function(){for(var e=0,t=tE(String(hf)).split("."),n=tE("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var s=t[o]||"",a=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=Sg(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||Sg(s[2].length==0,a[2].length==0)||Sg(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var hm;if(Se.document&&Xs){var oE=TS();hm=oE||parseInt(hf,10)||void 0}else hm=void 0;var VL=hm,jL=function(){if(!Se.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Se.addEventListener("test",lf,t),Se.removeEventListener("test",lf,t)}catch{}return e}();function an(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}an.prototype.h=function(){this.defaultPrevented=!0};function Ua(e,t){if(an.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(IS){e:{try{wv(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:BL[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ua.Z.h.call(this)}}Zt(Ua,an);var BL={2:"touch",3:"pen",4:"mouse"};Ua.prototype.h=function(){Ua.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ic="closure_listenable_"+(1e6*Math.random()|0),qL=0;function $L(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++qL,this.ca=this.fa=!1}function rh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ih(e){this.src=e,this.g={},this.h=0}ih.prototype.add=function(e,t,n,i,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=pm(e,t,i,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new $L(t,this.src,s,!!i,o),t.fa=n,e.push(t)),t};function dm(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=yS(i,t),s;(s=0<=o)&&Array.prototype.splice.call(i,o,1),s&&(rh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function pm(e,t,n,i){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return o}return-1}var bv="closure_lm_"+(1e6*Math.random()|0),Ng={};function SS(e,t,n,i,o){if(i&&i.once)return kS(e,t,n,i,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)SS(e,t[s],n,i,o);return null}return n=Iv(n),e&&e[ic]?e.N(t,n,rc(i)?!!i.capture:!!i,o):AS(e,t,n,!1,i,o)}function AS(e,t,n,i,o,s){if(!t)throw Error("Invalid event type");var a=rc(o)?!!o.capture:!!o,l=Ev(e);if(l||(e[bv]=l=new ih(e)),n=l.add(t,n,i,a,s),n.proxy)return n;if(i=HL(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)jL||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(NS(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function HL(){function e(n){return t.call(e.src,e.listener,n)}var t=KL;return e}function kS(e,t,n,i,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)kS(e,t[s],n,i,o);return null}return n=Iv(n),e&&e[ic]?e.O(t,n,rc(i)?!!i.capture:!!i,o):AS(e,t,n,!0,i,o)}function CS(e,t,n,i,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)CS(e,t[s],n,i,o);else i=rc(i)?!!i.capture:!!i,n=Iv(n),e&&e[ic]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=pm(s,n,i,o),-1<n&&(rh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Ev(e))&&(t=e.g[t.toString()],e=-1,t&&(e=pm(t,n,i,o)),(n=-1<e?t[e]:null)&&_v(n))}function _v(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[ic])dm(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(NS(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Ev(t))?(dm(n,e),n.h==0&&(n.src=null,t[bv]=null)):rh(e)}}}function NS(e){return e in Ng?Ng[e]:Ng[e]="on"+e}function KL(e,t){if(e.ca)e=!0;else{t=new Ua(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&_v(e),e=n.call(i,t)}return e}function Ev(e){return e=e[bv],e instanceof ih?e:null}var Rg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iv(e){return typeof e=="function"?e:(e[Rg]||(e[Rg]=function(t){return e.handleEvent(t)}),e[Rg])}function Ht(){Hi.call(this),this.i=new ih(this),this.P=this,this.I=null}Zt(Ht,Hi);Ht.prototype[ic]=!0;Ht.prototype.removeEventListener=function(e,t,n,i){CS(this,e,t,n,i)};function Jt(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new an(t,e);else if(t instanceof an)t.target=t.target||e;else{var o=t;t=new an(i,e),_S(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];o=Pl(a,i,!0,t)&&o}if(a=t.g=e,o=Pl(a,i,!0,t)&&o,o=Pl(a,i,!1,t)&&o,n)for(s=0;s<n.length;s++)a=t.g=n[s],o=Pl(a,i,!1,t)&&o}Ht.prototype.M=function(){if(Ht.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)rh(n[i]);delete e.g[t],e.h--}}this.I=null};Ht.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Ht.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Pl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&dm(e.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Tv=Se.JSON.stringify;function zL(){var e=xS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var GL=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=RS.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),RS=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new WL},function(e){return e.reset()}),WL=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function XL(e){Se.setTimeout(function(){throw e},0)}function Sv(e,t){gm||QL(),mm||(gm(),mm=!0),xS.add(e,t)}var gm;function QL(){var e=Se.Promise.resolve(void 0);gm=function(){e.then(YL)}}var mm=!1,xS=new GL;function YL(){for(var e;e=zL();){try{e.h.call(e.g)}catch(n){XL(n)}var t=RS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}mm=!1}function oh(e,t){Ht.call(this),this.h=e||1,this.g=t||Se,this.j=Yt(this.kb,this),this.l=Date.now()}Zt(oh,Ht);he=oh.prototype;he.da=!1;he.S=null;he.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Jt(this,"tick"),this.da&&(Av(this),this.start()))}};he.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Av(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}he.M=function(){oh.Z.M.call(this),Av(this),delete this.g};function kv(e,t,n){if(typeof e=="function")n&&(e=Yt(e,n));else if(e&&typeof e.handleEvent=="function")e=Yt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Se.setTimeout(e,t||0)}function OS(e){e.g=kv(function(){e.g=null,e.i&&(e.i=!1,OS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var JL=function(e){AL(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:OS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Hi);function Va(e){Hi.call(this),this.h=e,this.g={}}Zt(Va,Hi);var sE=[];function DS(e,t,n,i){Array.isArray(n)||(n&&(sE[0]=n.toString()),n=sE);for(var o=0;o<n.length;o++){var s=SS(t,n[o],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function PS(e){yv(e.g,function(t,n){this.g.hasOwnProperty(n)&&_v(t)},e),e.g={}}Va.prototype.M=function(){Va.Z.M.call(this),PS(this)};Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function sh(){this.g=!0}sh.prototype.Aa=function(){this.g=!1};function ZL(e,t,n,i,o,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var p=d[0];d=d[1];var m=p.split("_");a=2<=m.length&&m[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function eM(e,t,n,i,o,s,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+a})}function Ls(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+nM(e,n)+(i?" "+i:"")})}function tM(e,t){e.info(function(){return"TIMEOUT: "+t})}sh.prototype.info=function(){};function nM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Tv(n)}catch{return t}}var Wo={},uE=null;function uh(){return uE=uE||new Ht}Wo.Ma="serverreachability";function LS(e){an.call(this,Wo.Ma,e)}Zt(LS,an);function ja(e){var t=uh();Jt(t,new LS(t))}Wo.STAT_EVENT="statevent";function MS(e,t){an.call(this,Wo.STAT_EVENT,e),this.stat=t}Zt(MS,an);function En(e){var t=uh();Jt(t,new MS(t,e))}Wo.Na="timingevent";function FS(e,t){an.call(this,Wo.Na,e),this.size=t}Zt(FS,an);function oc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Se.setTimeout(function(){e()},t)}var ah={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},US={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Cv(){}Cv.prototype.h=null;function aE(e){return e.h||(e.h=e.i())}function VS(){}var sc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Nv(){an.call(this,"d")}Zt(Nv,an);function Rv(){an.call(this,"c")}Zt(Rv,an);var vm;function ch(){}Zt(ch,Cv);ch.prototype.g=function(){return new XMLHttpRequest};ch.prototype.i=function(){return{}};vm=new ch;function uc(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new Va(this),this.P=rM,e=fm?125:void 0,this.W=new oh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new jS}function jS(){this.i=null,this.g="",this.h=!1}var rM=45e3,ym={},df={};he=uc.prototype;he.setTimeout=function(e){this.P=e};function wm(e,t,n){e.K=1,e.v=fh(oi(t)),e.s=n,e.U=!0,BS(e,null)}function BS(e,t){e.F=Date.now(),ac(e),e.A=oi(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),WS(n.h,"t",i),e.C=0,n=e.l.H,e.h=new jS,e.g=p1(e.l,n?t:null,!e.s),0<e.O&&(e.L=new JL(Yt(e.Ia,e,e.g),e.O)),DS(e.V,e.g,"readystatechange",e.gb),t=e.H?bS(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ja(),ZL(e.j,e.u,e.A,e.m,e.X,e.s)}he.gb=function(e){e=e.target;var t=this.L;t&&Yr(e)==3?t.l():this.Ia(e)};he.Ia=function(e){try{if(e==this.g)e:{var t=Yr(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||fm||this.g&&(this.h.h||this.g.ga()||hE(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?ja(3):ja(2)),lh(this);var o=this.g.ba();this.N=o;t:if(qS(this)){var s=hE(this.g);e="";var a=s.length,l=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ko(this),ba(this);var f="";break t}this.h.i=new Se.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,eM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ff(d)){var m=d;break t}}m=null}if(o=m)Ls(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bm(this,o);else{this.i=!1,this.o=3,En(12),ko(this),ba(this);break e}}this.U?($S(this,t,f),fm&&this.i&&t==3&&(DS(this.V,this.W,"tick",this.fb),this.W.start())):(Ls(this.j,this.m,f,null),bm(this,f)),t==4&&ko(this),this.i&&!this.I&&(t==4?l1(this.l,this):(this.i=!1,ac(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,En(12)):(this.o=0,En(13)),ko(this),ba(this)}}}catch{}finally{}};function qS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function $S(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=iM(e,n),o==df){t==4&&(e.o=4,En(14),i=!1),Ls(e.j,e.m,null,"[Incomplete Response]");break}else if(o==ym){e.o=4,En(15),Ls(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Ls(e.j,e.m,o,null),bm(e,o);qS(e)&&o!=df&&o!=ym&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,En(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vv(t),t.L=!0,En(11))):(Ls(e.j,e.m,n,"[Invalid Chunked Response]"),ko(e),ba(e))}he.fb=function(){if(this.g){var e=Yr(this.g),t=this.g.ga();this.C<t.length&&(lh(this),$S(this,e,t),this.i&&e!=4&&ac(this))}};function iM(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?df:(n=Number(t.substring(n,i)),isNaN(n)?ym:(i+=1,i+n>t.length?df:(t=t.substr(i,n),e.C=i+n,t)))}he.cancel=function(){this.I=!0,ko(this)};function ac(e){e.Y=Date.now()+e.P,HS(e,e.P)}function HS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=oc(Yt(e.eb,e),t)}function lh(e){e.B&&(Se.clearTimeout(e.B),e.B=null)}he.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(tM(this.j,this.A),this.K!=2&&(ja(),En(17)),ko(this),this.o=2,ba(this)):HS(this,this.Y-e)};function ba(e){e.l.G==0||e.I||l1(e.l,e)}function ko(e){lh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Av(e.W),PS(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function bm(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||_m(n.i,e))){if(n.I=e.N,!e.J&&_m(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)vf(n),ph(n);else break e;Uv(n),En(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=oc(Yt(n.ab,n),6e3));if(1>=YS(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Co(n,11)}else if((e.J||n.g==e)&&vf(n),!ff(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=e.g;if(d){var p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var m=i.i;!m.g&&(bn(p,"spdy")||bn(p,"quic")||bn(p,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(Dv(m,m.h),m.h=null))}if(i.D){var v=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(i.sa=v,ht(i.F,i.D,v))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=e;if(i.oa=d1(i,i.H?i.la:null,i.W),b.J){JS(i.i,b);var _=b,I=i.K;I&&_.setTimeout(I),_.B&&(lh(_),ac(_)),i.g=b}else a1(i);0<n.l.length&&gh(n)}else s[0]!="stop"&&s[0]!="close"||Co(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Co(n,7):Fv(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}ja(4)}catch{}}function oM(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(lm(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function xv(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(lm(e)||typeof e=="string")wS(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(lm(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=oM(e),o=i.length;for(var s=0;s<o;s++)t.call(void 0,i[s],n&&n[s],e)}}function wu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof wu)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}he=wu.prototype;he.R=function(){Ov(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};he.T=function(){return Ov(this),this.g.concat()};function Ov(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];jo(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],jo(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}he.get=function(e,t){return jo(this.h,e)?this.h[e]:t};he.set=function(e,t){jo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};he.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],s=this.get(o);e.call(t,s,o,this)}};function jo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var KS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var s=e[n].substring(0,i);o=e[n].substring(i+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Bo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Bo){this.g=t!==void 0?t:e.g,pf(this,e.j),this.s=e.s,gf(this,e.i),mf(this,e.m),this.l=e.l,t=e.h;var n=new Ba;n.i=t.i,t.g&&(n.g=new wu(t.g),n.h=t.h),cE(this,n),this.o=e.o}else e&&(n=String(e).match(KS))?(this.g=!!t,pf(this,n[1]||"",!0),this.s=_a(n[2]||""),gf(this,n[3]||"",!0),mf(this,n[4]),this.l=_a(n[5]||"",!0),cE(this,n[6]||"",!0),this.o=_a(n[7]||"")):(this.g=!!t,this.h=new Ba(null,this.g))}Bo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ga(t,lE,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ga(t,lE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(ga(n,n.charAt(0)=="/"?fM:lM,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ga(n,dM)),e.join("")};function oi(e){return new Bo(e)}function pf(e,t,n){e.j=n?_a(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function gf(e,t,n){e.i=n?_a(t,!0):t}function mf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function cE(e,t,n){t instanceof Ba?(e.h=t,pM(e.h,e.g)):(n||(t=ga(t,hM)),e.h=new Ba(t,e.g))}function ht(e,t,n){e.h.set(t,n)}function fh(e){return ht(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function uM(e){return e instanceof Bo?oi(e):new Bo(e,void 0)}function aM(e,t,n,i){var o=new Bo(null,void 0);return e&&pf(o,e),t&&gf(o,t),n&&mf(o,n),i&&(o.l=i),o}function _a(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ga(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,cM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var lE=/[#\/\?@]/g,lM=/[#\?:]/g,fM=/[#\?]/g,hM=/[#\?@]/g,dM=/#/g;function Ba(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ki(e){e.g||(e.g=new wu,e.h=0,e.i&&sM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}he=Ba.prototype;he.add=function(e,t){Ki(this),this.i=null,e=bu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function zS(e,t){Ki(e),t=bu(e,t),jo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,jo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ov(e)))}function GS(e,t){return Ki(e),t=bu(e,t),jo(e.g.h,t)}he.forEach=function(e,t){Ki(this),this.g.forEach(function(n,i){wS(n,function(o){e.call(t,o,i,this)},this)},this)};he.T=function(){Ki(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],s=0;s<o.length;s++)n.push(t[i]);return n};he.R=function(e){Ki(this);var t=[];if(typeof e=="string")GS(this,e)&&(t=eE(t,this.g.get(bu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=eE(t,e[n])}return t};he.set=function(e,t){return Ki(this),this.i=null,e=bu(this,e),GS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};he.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function WS(e,t,n){zS(e,t),0<n.length&&(e.i=null,e.g.set(bu(e,t),vv(n)),e.h+=n.length)}he.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var a=o;i[s]!==""&&(a+="="+encodeURIComponent(String(i[s]))),e.push(a)}}return this.i=e.join("&")};function bu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function pM(e,t){t&&!e.j&&(Ki(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(zS(this,i),WS(this,o,n))},e)),e.j=t}var gM=function(){function e(t,n){this.h=t,this.g=n}return e}();function XS(e){this.l=e||mM,Se.PerformanceNavigationTiming?(e=Se.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Se.g&&Se.g.Ea&&Se.g.Ea()&&Se.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mM=10;function QS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function YS(e){return e.h?1:e.g?e.g.size:0}function _m(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Dv(e,t){e.g?e.g.add(t):e.h=t}function JS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}XS.prototype.cancel=function(){var e,t;if(this.i=ZS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=vS(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function ZS(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=vS(e.g.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return vv(e.i)}function Pv(){}Pv.prototype.stringify=function(e){return Se.JSON.stringify(e,void 0)};Pv.prototype.parse=function(e){return Se.JSON.parse(e,void 0)};function vM(){this.g=new Pv}function yM(e,t,n){var i=n||"";try{xv(e,function(o,s){var a=o;rc(o)&&(a=Tv(o)),t.push(i+s+"="+encodeURIComponent(a))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function wM(e,t){var n=new sh;if(Se.Image){var i=new Image;i.onload=Dl(Ll,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Dl(Ll,n,i,"TestLoadImage: error",!1,t),i.onabort=Dl(Ll,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Dl(Ll,n,i,"TestLoadImage: timeout",!1,t),Se.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Ll(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function cc(e){this.l=e.$b||null,this.j=e.ib||!1}Zt(cc,Cv);cc.prototype.g=function(){return new hh(this.l,this.j)};cc.prototype.i=function(e){return function(){return e}}({});function hh(e,t){Ht.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Lv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zt(hh,Ht);var Lv=0;he=hh.prototype;he.open=function(e,t){if(this.readyState!=Lv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qa(this)};he.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Se).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lc(this)),this.readyState=Lv};he.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Se.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;e1(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function e1(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}he.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?lc(this):qa(this),this.readyState==3&&e1(this)}};he.Ua=function(e){this.g&&(this.response=this.responseText=e,lc(this))};he.Ta=function(e){this.g&&(this.response=e,lc(this))};he.ha=function(){this.g&&lc(this)};function lc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qa(e)}he.setRequestHeader=function(e,t){this.v.append(e,t)};he.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};he.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function qa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(hh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var bM=Se.JSON.parse;function Dt(e){Ht.call(this),this.headers=new wu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=t1,this.K=this.L=!1}Zt(Dt,Ht);var t1="",_M=/^https?$/i,EM=["POST","PUT"];he=Dt.prototype;he.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vm.g(),this.C=this.u?aE(this.u):aE(vm),this.g.onreadystatechange=Yt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){fE(this,s);return}e=n||"";var o=new wu(this.headers);i&&xv(i,function(s,a){o.set(a,s)}),i=DL(o.T()),n=Se.FormData&&e instanceof Se.FormData,!(0<=yS(EM,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{i1(this),0<this.B&&((this.K=IM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.pa,this)):this.A=kv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){fE(this,s)}};function IM(e){return Xs&&UL()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function TM(e){return e.toLowerCase()=="content-type"}he.pa=function(){typeof mv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))};function fE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,n1(e),dh(e)}function n1(e){e.D||(e.D=!0,Jt(e,"complete"),Jt(e,"error"))}he.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Jt(this,"complete"),Jt(this,"abort"),dh(this))};he.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dh(this,!0)),Dt.Z.M.call(this)};he.Fa=function(){this.s||(this.F||this.v||this.l?r1(this):this.cb())};he.cb=function(){r1(this)};function r1(e){if(e.h&&typeof mv<"u"&&(!e.C[1]||Yr(e)!=4||e.ba()!=2)){if(e.v&&Yr(e)==4)kv(e.Fa,0,e);else if(Jt(e,"readystatechange"),Yr(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var s=String(e.H).match(KS)[1]||null;if(!s&&Se.self&&Se.self.location){var a=Se.self.location.protocol;s=a.substr(0,a.length-1)}o=!_M.test(s?s.toLowerCase():"")}i=o}if(i)Jt(e,"complete"),Jt(e,"success");else{e.m=6;try{var l=2<Yr(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",n1(e)}}finally{dh(e)}}}}function dh(e,t){if(e.g){i1(e);var n=e.g,i=e.C[0]?lf:null;e.g=null,e.C=null,t||Jt(e,"ready");try{n.onreadystatechange=i}catch{}}}function i1(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Se.clearTimeout(e.A),e.A=null)}function Yr(e){return e.g?e.g.readyState:0}he.ba=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}};he.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};he.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),bM(t)}};function hE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case t1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}he.Da=function(){return this.m};he.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function SM(e){var t="";return yv(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Mv(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=SM(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ht(e,t,n))}function fa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function o1(e){this.za=0,this.l=[],this.h=new sh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fa("baseRetryDelayMs",5e3,e),this.$a=fa("retryDelaySeedMs",1e4,e),this.Ya=fa("forwardChannelMaxRetries",2,e),this.ra=fa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new XS(e&&e.concurrentRequestLimit),this.Ca=new vM,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}he=o1.prototype;he.ma=8;he.G=1;function Fv(e){if(s1(e),e.G==3){var t=e.V++,n=oi(e.F);ht(n,"SID",e.J),ht(n,"RID",t),ht(n,"TYPE","terminate"),fc(e,n),t=new uc(e,e.h,t,void 0),t.K=2,t.v=fh(oi(n)),n=!1,Se.navigator&&Se.navigator.sendBeacon&&(n=Se.navigator.sendBeacon(t.v.toString(),"")),!n&&Se.Image&&(new Image().src=t.v,n=!0),n||(t.g=p1(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ac(t)}h1(e)}he.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function ph(e){e.g&&(Vv(e),e.g.cancel(),e.g=null)}function s1(e){ph(e),e.u&&(Se.clearTimeout(e.u),e.u=null),vf(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Se.clearTimeout(e.m),e.m=null)}function xg(e,t){e.l.push(new gM(e.Za++,t)),e.G==3&&gh(e)}function gh(e){QS(e.i)||e.m||(e.m=!0,Sv(e.Ha,e),e.C=0)}function AM(e,t){return YS(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=oc(Yt(e.Ha,e,t),f1(e,e.C)),e.C++,!0)}he.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new uc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=bS(n),_S(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(i+=s,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=u1(this,t,i),o=oi(this.F),ht(o,"RID",e),ht(o,"CVER",22),this.D&&ht(o,"X-HTTP-Session-Id",this.D),fc(this,o),this.o&&n&&Mv(o,this.o,n),Dv(this.i,t),this.Ra&&ht(o,"TYPE","init"),this.ja?(ht(o,"$req",i),ht(o,"SID","null"),t.$=!0,wm(t,o,null)):wm(t,o,i),this.G=2}}else this.G==3&&(e?dE(this,e):this.l.length==0||QS(this.i)||dE(this))};function dE(e,t){var n;t?n=t.m:n=e.V++;var i=oi(e.F);ht(i,"SID",e.J),ht(i,"RID",n),ht(i,"AID",e.U),fc(e,i),e.o&&e.s&&Mv(i,e.o,e.s),n=new uc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=u1(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Dv(e.i,n),wm(n,i,t)}function fc(e,t){e.j&&xv({},function(n,i){ht(t,i,n)})}function u1(e,t,n){n=Math.min(e.l.length,n);var i=e.j?Yt(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=o[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var d=o[f].h,p=o[f].g;if(d-=s,0>d)s=Math.max(0,o[f].h-100),l=!1;else try{yM(p,a,"req"+d+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function a1(e){e.g||e.u||(e.Y=1,Sv(e.Ga,e),e.A=0)}function Uv(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=oc(Yt(e.Ga,e),f1(e,e.A)),e.A++,!0)}he.Ga=function(){if(this.u=null,c1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=oc(Yt(this.bb,this),e)}};he.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,En(10),ph(this),c1(this))};function Vv(e){e.B!=null&&(Se.clearTimeout(e.B),e.B=null)}function c1(e){e.g=new uc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=oi(e.oa);ht(t,"RID","rpc"),ht(t,"SID",e.J),ht(t,"CI",e.N?"0":"1"),ht(t,"AID",e.U),fc(e,t),ht(t,"TYPE","xmlhttp"),e.o&&e.s&&Mv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=fh(oi(t)),n.s=null,n.U=!0,BS(n,e)}he.ab=function(){this.v!=null&&(this.v=null,ph(this),Uv(this),En(19))};function vf(e){e.v!=null&&(Se.clearTimeout(e.v),e.v=null)}function l1(e,t){var n=null;if(e.g==t){vf(e),Vv(e),e.g=null;var i=2}else if(_m(e.i,t))n=t.D,JS(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=uh(),Jt(i,new FS(i,n)),gh(e)}else a1(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&AM(e,t)||i==2&&Uv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Co(e,5);break;case 4:Co(e,10);break;case 3:Co(e,6);break;default:Co(e,2)}}}function f1(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Co(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=Yt(e.jb,e);n||(n=new Bo("//www.google.com/images/cleardot.gif"),Se.location&&Se.location.protocol=="http"||pf(n,"https"),fh(n)),wM(n.toString(),i)}else En(2);e.G=0,e.j&&e.j.va(t),h1(e),s1(e)}he.jb=function(e){e?(this.h.info("Successfully pinged google.com"),En(2)):(this.h.info("Failed to ping google.com"),En(1))};function h1(e){e.G=0,e.I=-1,e.j&&((ZS(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,vv(e.l),e.l.length=0),e.j.ua())}function d1(e,t,n){var i=uM(n);if(i.i!="")t&&gf(i,t+"."+i.i),mf(i,i.m);else{var o=Se.location;i=aM(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&yv(e.aa,function(s,a){ht(i,a,s)}),t=e.D,n=e.sa,t&&n&&ht(i,t,n),ht(i,"VER",e.ma),fc(e,i),i}function p1(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Dt(new cc({ib:!0})):new Dt(e.qa),t.L=e.H,t}function g1(){}he=g1.prototype;he.xa=function(){};he.wa=function(){};he.va=function(){};he.ua=function(){};he.Oa=function(){};function yf(){if(Xs&&!(10<=Number(VL)))throw Error("Environmental error: no available transport.")}yf.prototype.g=function(e,t){return new Qn(e,t)};function Qn(e,t){Ht.call(this),this.g=new o1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ff(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ff(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new _u(this)}Zt(Qn,Ht);Qn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Sv(Yt(e.hb,e,t))),En(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=d1(e,null,e.W),gh(e)};Qn.prototype.close=function(){Fv(this.g)};Qn.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,xg(this.g,t)}else this.v?(t={},t.__data__=Tv(e),xg(this.g,t)):xg(this.g,e)};Qn.prototype.M=function(){this.g.j=null,delete this.j,Fv(this.g),delete this.g,Qn.Z.M.call(this)};function m1(e){Nv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Zt(m1,Nv);function v1(){Rv.call(this),this.status=1}Zt(v1,Rv);function _u(e){this.g=e}Zt(_u,g1);_u.prototype.xa=function(){Jt(this.g,"a")};_u.prototype.wa=function(e){Jt(this.g,new m1(e))};_u.prototype.va=function(e){Jt(this.g,new v1)};_u.prototype.ua=function(){Jt(this.g,"b")};yf.prototype.createWebChannel=yf.prototype.g;Qn.prototype.send=Qn.prototype.u;Qn.prototype.open=Qn.prototype.m;Qn.prototype.close=Qn.prototype.close;ah.NO_ERROR=0;ah.TIMEOUT=8;ah.HTTP_ERROR=6;US.COMPLETE="complete";VS.EventType=sc;sc.OPEN="a";sc.CLOSE="b";sc.ERROR="c";sc.MESSAGE="d";Ht.prototype.listen=Ht.prototype.N;Dt.prototype.listenOnce=Dt.prototype.O;Dt.prototype.getLastError=Dt.prototype.La;Dt.prototype.getLastErrorCode=Dt.prototype.Da;Dt.prototype.getStatus=Dt.prototype.ba;Dt.prototype.getResponseJson=Dt.prototype.Qa;Dt.prototype.getResponseText=Dt.prototype.ga;Dt.prototype.send=Dt.prototype.ea;var kM=function(){return new yf},CM=function(){return uh()},Og=ah,NM=US,RM=Wo,pE={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},xM=cc,Ml=VS,OM=Dt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();zn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return ye(t,e),t}(Error),yr=new dS("@firebase/firestore");function Em(){return yr.logLevel}function re(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(yr.logLevel<=Ke.DEBUG){var i=t.map(jv);yr.debug.apply(yr,ft(["Firestore (8.10.1): "+e],i))}}function xt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(yr.logLevel<=Ke.ERROR){var i=t.map(jv);yr.error.apply(yr,ft(["Firestore (8.10.1): "+e],i))}}function wf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(yr.logLevel<=Ke.WARN){var i=t.map(jv);yr.warn.apply(yr,ft(["Firestore (8.10.1): "+e],i))}}function jv(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw xt(t),new Error(t)}function Ee(e,t){e||ge()}function ce(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y1=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=DM(40),s=0;s<o.length;++s)i.length<20&&o[s]<n&&(i+=t.charAt(o[s]%t.length));return i},e}();function Ve(e,t){return e<t?-1:e>t?1:0}function Qs(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function w1(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ve(this.nanoseconds,t.nanoseconds):Ve(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Me=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new On(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function b1(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _1=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&ge(),i===void 0?i=t.length-n:i>t.length-n&&ge(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var s=t.get(o),a=n.get(o);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Qe=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(_1),PM=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_r=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return PM.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",s=0,a=function(){if(o.length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(a(),s++)}if(a(),l)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(_1),Ys=function(){function e(t){this.fields=t,t.sort(_r.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Qs(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),Dn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ve(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Dn.EMPTY_BYTE_STRING=new Dn("");var LM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(e){if(Ee(!!e),typeof e=="string"){var t=0,n=LM.exec(e);if(Ee(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Rt(e.seconds),nanos:Rt(e.nanos)}}function Rt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Js(e){return typeof e=="string"?Dn.fromBase64String(e):Dn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function E1(e){var t=e.mapValue.fields.__previous_value__;return Bv(t)?E1(t):t}function $a(e){var t=qi(e.mapValue.fields.__local_write_time__.timestampValue);return new On(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){return e==null}function bf(e){return e===0&&1/e==-1/0}function I1(e){return typeof e=="number"&&Number.isInteger(e)&&!bf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Qe.fromString(t))},e.fromName=function(t){return new e(Qe.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Qe.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Qe.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Qe(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bv(e)?4:10:ge()}function qr(e,t){var n=qo(e);if(n!==qo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $a(e).isEqual($a(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var s=qi(i.timestampValue),a=qi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Js(i.bytesValue).isEqual(Js(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Rt(i.geoPointValue.latitude)===Rt(o.geoPointValue.latitude)&&Rt(i.geoPointValue.longitude)===Rt(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Rt(i.integerValue)===Rt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var s=Rt(i.doubleValue),a=Rt(o.doubleValue);return s===a?bf(s)===bf(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Qs(e.arrayValue.values||[],t.arrayValue.values||[],qr);case 10:return function(i,o){var s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(gE(s)!==gE(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!qr(s[l],a[l])))return!1;return!0}(e,t);default:return ge()}}function Ha(e,t){return(e.values||[]).find(function(n){return qr(n,t)})!==void 0}function Zs(e,t){var n=qo(e),i=qo(t);if(n!==i)return Ve(n,i);switch(n){case 0:return 0;case 1:return Ve(e.booleanValue,t.booleanValue);case 2:return function(o,s){var a=Rt(o.integerValue||o.doubleValue),l=Rt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return mE(e.timestampValue,t.timestampValue);case 4:return mE($a(e),$a(t));case 5:return Ve(e.stringValue,t.stringValue);case 6:return function(o,s){var a=Js(o),l=Js(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var a=o.split("/"),l=s.split("/"),f=0;f<a.length&&f<l.length;f++){var d=Ve(a[f],l[f]);if(d!==0)return d}return Ve(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var a=Ve(Rt(o.latitude),Rt(s.latitude));return a!==0?a:Ve(Rt(o.longitude),Rt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var a=o.values||[],l=s.values||[],f=0;f<a.length&&f<l.length;++f){var d=Zs(a[f],l[f]);if(d)return d}return Ve(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a=o.fields||{},l=Object.keys(a),f=s.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var p=0;p<l.length&&p<d.length;++p){var m=Ve(l[p],d[p]);if(m!==0)return m;var v=Zs(a[l[p]],f[d[p]]);if(v!==0)return v}return Ve(l.length,d.length)}(e.mapValue,t.mapValue);default:throw ge()}}function mE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ve(e,t);var n=qi(e),i=qi(t),o=Ve(n.seconds,i.seconds);return o!==0?o:Ve(n.nanos,i.nanos)}function qv(e){return Im(e)}function Im(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=qi(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Js(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,me.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",s=!0,a=0,l=i.values||[];a<l.length;a++)s?s=!1:o+=",",o+=Im(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",s=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];s?s=!1:o+=",",o+=f+":"+Im(i.fields[f])}return o+"}"}(e.mapValue):ge();var t,n}function _f(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Tm(e){return!!e&&"integerValue"in e}function $v(e){return!!e&&"arrayValue"in e}function vE(e){return!!e&&"nullValue"in e}function yE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jl(e){return!!e&&"mapValue"in e}function Ea(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Xo(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Ea(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Ea(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!Jl(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ea(n)},e.prototype.setAll=function(t){var n=this,i=_r.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,s),o={},s=[],i=f.popLast()}l?o[f.lastSegment()]=Ea(l):s.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Jl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return qr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];Jl(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){Xo(n,function(l,f){return t[l]=f});for(var o=0,s=i;o<s.length;o++){var a=s[o];delete t[a]}},e.prototype.clone=function(){return new e(Ea(this.value))},e}();function T1(e){var t=[];return Xo(e.fields,function(n,i){var o=new _r([n]);if(Jl(i)){var s=T1(i.mapValue).fields;if(s.length===0)t.push(o);else for(var a=0,l=s;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new Ys(t)}var ln=function(){function e(t,n,i,o,s){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Me.min(),$n.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,$n.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,$n.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=$n.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=$n.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),MM=function(e,t,n,i,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(e,t,n,i,o,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),new MM(e,t,n,i,o,s,a)}function hc(e){var t=ce(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+qv(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Qo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=If(t.startAt)),t.endAt&&(n+="|ub:",n+=If(t.endAt)),t.h=n}return t.h}function mh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!HM(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],s=t.filters[i],o.op!==s.op||!o.field.isEqual(s.field)||!qr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_E(e.startAt,t.startAt)&&_E(e.endAt,t.endAt)}function Ef(e){return me.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Gn=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).field=n,s.op=i,s.value=o,s}return ye(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new FM(n,i,o):i==="array-contains"?new jM(n,o):i==="in"?new BM(n,o):i==="not-in"?new qM(n,o):i==="array-contains-any"?new $M(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new UM(n,o):new VM(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(Zs(i,this.value)):i!==null&&qo(this.value)===qo(i)&&this.m(Zs(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ge()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),FM=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,o)||this).key=me.fromName(o.referenceValue),s}return ye(t,e),t.prototype.matches=function(n){var i=me.comparator(n.key,this.key);return this.m(i)},t}(Gn),UM=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=S1("in",i),o}return ye(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(Gn),VM=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=S1("not-in",i),o}return ye(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(Gn);function S1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return me.fromName(i.referenceValue)})}var jM=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return ye(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return $v(i)&&Ha(i.arrayValue,this.value)},t}(Gn),BM=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return ye(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Ha(this.value.arrayValue,i)},t}(Gn),qM=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return ye(t,e),t.prototype.matches=function(n){if(Ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Ha(this.value.arrayValue,i)},t}(Gn),$M=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return ye(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!$v(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return Ha(i.value.arrayValue,s)})},t}(Gn),Ka=function(e,t){this.position=e,this.before=t};function If(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return qv(t)}).join(",")}var qs=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function HM(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function bE(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var s=t[o],a=e.position[o];if(i=s.field.isKeyField()?me.comparator(me.fromName(a.referenceValue),n.key):Zs(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function _E(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!qr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ai=function(e,t,n,i,o,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function A1(e,t,n,i,o,s,a,l){return new ai(e,t,n,i,o,s,a,l)}function dc(e){return new ai(e)}function Zl(e){return!Qo(e.limit)&&e.limitType==="F"}function Tf(e){return!Qo(e.limit)&&e.limitType==="L"}function Hv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Kv(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function zv(e){return e.collectionGroup!==null}function eu(e){var t=ce(e);if(t.p===null){t.p=[];var n=Kv(t),i=Hv(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new qs(n)),t.p.push(new qs(_r.keyField(),"asc"));else{for(var o=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new qs(_r.keyField(),f))}}}return t.p}function $r(e){var t=ce(e);if(!t.T)if(t.limitType==="F")t.T=wE(t.path,t.collectionGroup,eu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=eu(t);i<o.length;i++){var s=o[i],a=s.dir==="desc"?"asc":"desc";n.push(new qs(s.field,a))}var l=t.endAt?new Ka(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Ka(t.startAt.position,!t.startAt.before):null;t.T=wE(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function k1(e,t,n){return new ai(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pc(e,t){return mh($r(e),$r(t))&&e.limitType===t.limitType}function C1(e){return hc($r(e))+"|lt:"+e.limitType}function Sm(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+qv(o.value);var o}).join(", ")+"]"),Qo(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+If(t.startAt)),t.endAt&&(n+=", endAt: "+If(t.endAt)),"Target("+n+")"}($r(e))+"; limitType="+e.limitType+")"}function gc(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):me.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var a=s[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!bE(n.startAt,eu(n),i))&&(!n.endAt||!bE(n.endAt,eu(n),i))}(e,t)}function N1(e){return function(t,n){for(var i=!1,o=0,s=eu(e);o<s.length;o++){var a=s[o],l=KM(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function KM(e,t,n){var i=e.field.isKeyField()?me.comparator(t.key,n.key):function(o,s,a){var l=s.data.field(o),f=a.data.field(o);return l!==null&&f!==null?Zs(l,f):ge()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(t)?"-0":t}}function x1(e){return{integerValue:""+e}}function O1(e,t){return I1(t)?x1(t):R1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vh=function(){this._=void 0};function zM(e,t,n){return e instanceof tu?function(i,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof $o?P1(e,t):e instanceof Ho?L1(e,t):function(i,o){var s=D1(i,o),a=EE(s)+EE(i.A);return Tm(s)&&Tm(i.A)?x1(a):R1(i.R,a)}(e,t)}function GM(e,t,n){return e instanceof $o?P1(e,t):e instanceof Ho?L1(e,t):n}function D1(e,t){return e instanceof nu?Tm(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var tu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t}(vh),$o=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return ye(t,e),t}(vh);function P1(e,t){for(var n=M1(t),i=function(a){n.some(function(l){return qr(l,a)})||n.push(a)},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var Ho=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return ye(t,e),t}(vh);function L1(e,t){for(var n=M1(t),i=function(a){n=n.filter(function(l){return!qr(l,a)})},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var nu=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return ye(t,e),t}(vh);function EE(e){return Rt(e.integerValue||e.doubleValue)}function M1(e){return $v(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mc=function(e,t){this.field=e,this.transform=t},WM=function(e,t){this.version=e,this.transformResults=t},un=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function ef(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var yh=function(){};function XM(e,t,n){e instanceof vc?function(i,o,s){var a=i.value.clone(),l=SE(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof zi?function(i,o,s){if(ef(i.precondition,o)){var a=SE(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(F1(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Am(e,t,n){e instanceof vc?function(i,o,s){if(ef(i.precondition,o)){var a=i.value.clone(),l=AE(i.fieldTransforms,s,o);a.setAll(l),o.convertToFoundDocument(TE(o),a).setHasLocalMutations()}}(e,t,n):e instanceof zi?function(i,o,s){if(ef(i.precondition,o)){var a=AE(i.fieldTransforms,s,o),l=o.data;l.setAll(F1(i)),l.setAll(a),o.convertToFoundDocument(TE(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){ef(i.precondition,o)&&o.convertToNoDocument(Me.min())}(e,t)}function QM(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var s=o[i],a=t.data.field(s.field),l=D1(s.transform,a||null);l!=null&&(n==null&&(n=$n.empty()),n.set(s.field,l))}return n||null}function IE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Qs(n,i,function(o,s){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof $o&&d instanceof $o||f instanceof Ho&&d instanceof Ho?Qs(f.elements,d.elements,qr):f instanceof nu&&d instanceof nu?qr(f.A,d.A):f instanceof tu&&d instanceof tu}(a.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function TE(e){return e.isFoundDocument()?e.version:Me.min()}var vc=function(e){function t(n,i,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=s,a.type=0,a}return ye(t,e),t}(yh),zi=function(e){function t(n,i,o,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return ye(t,e),t}(yh);function F1(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function SE(e,t,n){var i=new Map;Ee(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],a=s.transform,l=t.data.field(s.field);i.set(s.field,GM(a,l,n[o]))}return i}function AE(e,t,n){for(var i=new Map,o=0,s=e;o<s.length;o++){var a=s[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,zM(l,f,t))}return i}var Nt,Be,yc=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return ye(t,e),t}(yh),Gv=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return ye(t,e),t}(yh),YM=function(e){this.count=e};function U1(e){switch(e){case F.OK:return ge();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ge()}}function V1(e){if(e===void 0)return xt("GRPC error has no .code"),F.UNKNOWN;switch(e){case Nt.OK:return F.OK;case Nt.CANCELLED:return F.CANCELLED;case Nt.UNKNOWN:return F.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return F.INTERNAL;case Nt.UNAVAILABLE:return F.UNAVAILABLE;case Nt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Nt.NOT_FOUND:return F.NOT_FOUND;case Nt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Nt.ABORTED:return F.ABORTED;case Nt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Nt.DATA_LOSS:return F.DATA_LOSS;default:return ge()}}(Be=Nt||(Nt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn=function(){function e(t,n){this.comparator=t,this.root=n||Ni.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ni.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ni.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Fl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Fl(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Fl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Fl(this.root,t,this.comparator,!0)},e}(),Fl=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?i(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Ni=function(){function e(t,n,i,o,s){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,s){return new e(t??this.key,n??this.value,i??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,s=i(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,i),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();var t=this.left.check();if(t!==this.right.check())throw ge();return t+(this.isRed()?0:1)},e}();Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1,Ni.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ge()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ge()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,s){return this},e.prototype.insert=function(t,n,i){return new Ni(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut=function(){function e(t){this.comparator=t,this.data=new fn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new kE(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new kE(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),kE=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),JM=new fn(me.comparator);function wr(){return JM}var ZM=new fn(me.comparator);function km(){return ZM}var eF=new fn(me.comparator);function tF(){return eF}var nF=new Ut(me.comparator);function rt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=nF,i=0,o=e;i<o.length;i++){var s=o[i];n=n.add(s)}return n}var rF=new Ut(Ve);function wh(){return rF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wv=function(){function e(t,n,i,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,Xv.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Me.min(),i,wh(),wr(),rt())},e}(),Xv=function(){function e(t,n,i,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Dn.EMPTY_BYTE_STRING,n,rt(),rt(),rt())},e}(),tf=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},j1=function(e,t){this.targetId=e,this.V=t},B1=function(e,t,n,i){n===void 0&&(n=Dn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},CE=function(){function e(){this.S=0,this.D=RE(),this.C=Dn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=rt(),n=rt(),i=rt();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ge()}}),new Xv(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=RE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),iF=function(){function e(t){this.W=t,this.G=new Map,this.H=wr(),this.J=NE(),this.Y=new Ut(Ve)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)o=a[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:ge()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){i.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var s=o.target;if(Ef(s))if(i===0){var a=new me(s.path);this.tt(n,a,ln.newNoDocument(a,Me.min()))}else Ee(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Ef(f.target)){var d=new me(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,ln.newNoDocument(d,t))}a.$&&(i.set(l,a.M()),a.L())}});var o=rt();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var p=n.ot(d);return!p||p.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var s=new Wv(t,i,this.Y,this.H,o);return this.H=wr(),this.J=NE(),this.Y=new Ut(Ve),s},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new CE,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Ut(Ve),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||re("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new CE),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function NE(){return new fn(me.comparator)}function RE(){return new fn(me.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oF={asc:"ASCENDING",desc:"DESCENDING"},sF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uF=function(e,t){this.databaseId=e,this.I=t};function za(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function q1(e,t){return e.I?t.toBase64():t.toUint8Array()}function aF(e,t){return za(e,t.toTimestamp())}function In(e){return Ee(!!e),Me.fromTimestamp(function(t){var n=qi(t);return new On(n.seconds,n.nanos)}(e))}function Qv(e,t){return function(n){return new Qe(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function $1(e){var t=Qe.fromString(e);return Ee(Q1(t)),t}function Ga(e,t){return Qv(e.databaseId,t.path)}function ti(e,t){var n=$1(t);if(n.get(1)!==e.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new me(K1(n))}function Cm(e,t){return Qv(e.databaseId,t)}function H1(e){var t=$1(e);return t.length===4?Qe.emptyPath():K1(t)}function Wa(e){return new Qe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function K1(e){return Ee(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function xE(e,t,n){return{name:Ga(e,t),fields:n.value.mapValue.fields}}function cF(e,t,n){var i=ti(e,t.name),o=In(t.updateTime),s=new $n({mapValue:{fields:t.fields}}),a=ln.newFoundDocument(i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Sf(e,t){var n;if(t instanceof vc)n={update:xE(e,t.key,t.value)};else if(t instanceof yc)n={delete:Ga(e,t.key)};else if(t instanceof zi)n={update:xE(e,t.key,t.data),updateMask:pF(t.fieldMask)};else{if(!(t instanceof Gv))return ge();n={verify:Ga(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,s){var a=s.transform;if(a instanceof tu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $o)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ho)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nu)return{fieldPath:s.field.canonicalString(),increment:a.A};throw ge()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:aF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge()}(e,t.precondition)),n}function OE(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?un.updateTime(In(d.updateTime)):d.exists!==void 0?un.exists(d.exists):un.none()}(t.currentDocument):un.none(),i=t.updateTransforms?t.updateTransforms.map(function(d){return function(p,m){var v=null;if("setToServerValue"in m)Ee(m.setToServerValue==="REQUEST_TIME"),v=new tu;else if("appendMissingElements"in m){var b=m.appendMissingElements.values||[];v=new $o(b)}else if("removeAllFromArray"in m){var _=m.removeAllFromArray.values||[];v=new Ho(_)}else"increment"in m?v=new nu(p,m.increment):ge();var I=_r.fromServerFormat(m.fieldPath);return new mc(I,v)}(e,d)}):[];if(t.update){t.update.name;var o=ti(e,t.update.name),s=new $n({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var p=d.fieldPaths||[];return new Ys(p.map(function(m){return _r.fromServerFormat(m)}))}(t.updateMask);return new zi(o,s,a,n,i)}return new vc(o,s,n,i)}if(t.delete){var l=ti(e,t.delete);return new yc(l,n)}if(t.verify){var f=ti(e,t.verify);return new Gv(f,n)}return ge()}function z1(e,t){return{documents:[Cm(e,t.path)]}}function G1(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Cm(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Cm(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(p){if(p.op==="=="){if(yE(p.value))return{unaryFilter:{field:As(p.field),op:"IS_NAN"}};if(vE(p.value))return{unaryFilter:{field:As(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(yE(p.value))return{unaryFilter:{field:As(p.field),op:"IS_NOT_NAN"}};if(vE(p.value))return{unaryFilter:{field:As(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(p.field),op:fF(p.op),value:p.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:As(d.field),direction:lF(d.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,f){return l.I||Qo(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=DE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=DE(t.endAt)),n}function W1(e){var t=H1(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Ee(i===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=X1(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(m){return function(v){return new qs(Ms(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m)}));var f=null;n.limit&&(f=function(m){var v;return Qo(v=typeof m=="object"?m.value:m)?null:v}(n.limit));var d=null;n.startAt&&(d=PE(n.startAt));var p=null;return n.endAt&&(p=PE(n.endAt)),A1(t,o,l,a,f,"F",d,p)}function X1(e){return e?e.unaryFilter!==void 0?[dF(e)]:e.fieldFilter!==void 0?[hF(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return X1(t)}).reduce(function(t,n){return t.concat(n)}):ge():[]}function DE(e){return{before:e.before,values:e.position}}function PE(e){var t=!!e.before,n=e.values||[];return new Ka(n,t)}function lF(e){return oF[e]}function fF(e){return sF[e]}function As(e){return{fieldPath:e.canonicalString()}}function Ms(e){return _r.fromServerFormat(e.fieldPath)}function hF(e){return Gn.create(Ms(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ge()}}(e.fieldFilter.op),e.fieldFilter.value)}function dF(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ms(e.unaryFilter.field);return Gn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ms(e.unaryFilter.field);return Gn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Ms(e.unaryFilter.field);return Gn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Ms(e.unaryFilter.field);return Gn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ge()}}function pF(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function Q1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=LE(t)),t=gF(e.get(n),t);return LE(t)}function gF(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function LE(e){return e+""}function Jr(e){var t=e.length;if(Ee(t>=2),t===2)return Ee(e.charAt(0)===""&&e.charAt(1)===""),Qe.emptyPath();for(var n=t-2,i=[],o="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&ge(),e.charAt(a+1)){case"":var l=e.substring(s,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(s,a),o+="\0";break;case"":o+=e.substring(s,a+1);break;default:ge()}s=a+2}return new Qe(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mF=function(e,t){this.seconds=e,this.nanoseconds=t},Bn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Bn.store="owner",Bn.key="owner";var Fi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Fi.store="mutationQueues",Fi.keyPath="userId";var it=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};it.store="mutations",it.keyPath="batchId",it.userMutationsIndex="userMutationsIndex",it.userMutationsKeyPath=["userId","batchId"];var rn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,br(n)]},e.key=function(t,n,i){return[t,br(n),i]},e}();rn.store="documentMutations",rn.PLACEHOLDER=new rn;var vF=function(e,t){this.path=e,this.readTime=t},yF=function(e,t){this.path=e,this.version=t},_t=function(e,t,n,i,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=s};_t.store="remoteDocuments",_t.readTimeIndex="readTimeIndex",_t.readTimeIndexPath="readTime",_t.collectionReadTimeIndex="collectionReadTimeIndex",_t.collectionReadTimeIndexPath=["parentPath","readTime"];var Ur=function(e){this.byteSize=e};Ur.store="remoteDocumentGlobal",Ur.key="remoteDocumentGlobalKey";var Rn=function(e,t,n,i,o,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=a};Rn.store="targets",Rn.keyPath="targetId",Rn.queryTargetsIndexName="queryTargetsIndex",Rn.queryTargetsKeyPath=["canonicalId","targetId"];var Xt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Xt.store="targetDocuments",Xt.keyPath=["targetId","path"],Xt.documentTargetsIndex="documentTargetsIndex",Xt.documentTargetsKeyPath=["path","targetId"];var qn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};qn.key="targetGlobalKey",qn.store="targetGlobal";var Do=function(e,t){this.collectionId=e,this.parent=t};Do.store="collectionParents",Do.keyPath=["collectionId","parent"];var ni=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};ni.store="clientMetadata",ni.keyPath="clientId";var ru=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};ru.store="bundles",ru.keyPath="bundleId";var iu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};iu.store="namedQueries",iu.keyPath="name";var wF=ft(ft([],ft(ft([],ft(ft([],ft(ft([],[Fi.store,it.store,rn.store,_t.store,Rn.store,Bn.store,qn.store,Xt.store]),[ni.store])),[Ur.store])),[Do.store])),[ru.store,iu.store]),Y1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",J1=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Pn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},ee=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){i.nextCallback=function(a){i.wrapSuccess(t,a).next(o,s)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,s=0,a=!1;t.forEach(function(l){++o,l.next(function(){++s,a&&s===o&&n()},function(f){return i(f)})}),a=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,s=t;o<s.length;o++)i(s[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(s,a){o.push(n.call(i,s,a))}),this.waitFor(o)},e}(),Z1=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Pn,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new Ia(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var s=Yv(o.target.error);i.ft.reject(new Ia(t,s))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(s){throw new Ia(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(re("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new _F(n)},e}(),ou=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(Vo())===12.2&&xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return re("SimpleDb","Removing database:",t),So(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Vo(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return H(this,void 0,void 0,function(){var n,i=this;return q(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(re("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;s(d)},l.onblocked=function(){a(new Ia(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new Y(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Ia(t,d))},l.onupgradeneeded=function(f){re("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){re("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return i.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return H(this,void 0,void 0,function(){var s,a,l,f,d;return q(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var m,v,b,_,I;return q(this,function(N){switch(N.label){case 0:++a,N.label=1;case 1:return N.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=N.sent(),m=Z1.open(f.db,t,s?"readonly":"readwrite",i),v=o(m).catch(function(R){return m.abort(R),ee.reject(R)}).toPromise(),b={},v.catch(function(){}),[4,m.dt];case 3:return[2,(b.value=(N.sent(),v),b)];case 4:return _=N.sent(),I=_.name!=="FirebaseError"&&a<3,re("SimpleDb","Transaction failed with error:",_.message,"Retrying:",I),f.close(),I?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(d=p.sent())=="object")return[2,d.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),bF=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return So(this.Pt.delete())},e}(),Ia=function(e){function t(n,i){var o=this;return(o=e.call(this,F.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return ye(t,e),t}(Y);function Yo(e){return e.name==="IndexedDbTransactionError"}var _F=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(re("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),So(i)},e.prototype.add=function(t){return re("SimpleDb","ADD",this.store.name,t,t),So(this.store.add(t))},e.prototype.get=function(t){var n=this;return So(this.store.get(t)).next(function(i){return i===void 0&&(i=null),re("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return re("SimpleDb","DELETE",this.store.name,t),So(this.store.delete(t))},e.prototype.count=function(){return re("SimpleDb","COUNT",this.store.name),So(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(s,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){re("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new ee(function(i,o){n.onerror=function(s){var a=Yv(s.target.error);o(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new ee(function(o,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new bF(l),d=n(l.primaryKey,l.value,f);if(d instanceof ee){var p=d.catch(function(m){return f.done(),ee.reject(m)});i.push(p)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return ee.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function So(e){return new ee(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=Yv(i.target.error);n(o)}})}var ME=!1;function Yv(e){var t=ou._t(Vo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new Y("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ME||(ME=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FE=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return ye(t,e),t}(J1);function Ln(e,t){var n=ce(e);return ou.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jv=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&XM(s,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t.key)&&Am(a,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t.key)&&Am(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(Me.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},rt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Qs(this.mutations,t.mutations,function(n,i){return IE(n,i)})&&Qs(this.baseMutations,t.baseMutations,function(n,i){return IE(n,i)})},e}(),EF=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){Ee(t.mutations.length===i.length);for(var o=tF(),s=t.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,i[a].version);return new e(t,n,i,o)},e}(),bh=function(){function e(t,n,i,o,s,a,l){s===void 0&&(s=Me.min()),a===void 0&&(a=Me.min()),l===void 0&&(l=Dn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),eA=function(e){this.Lt=e};function Nm(e,t){if(t.document)return cF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=me.fromSegments(t.noDocument.path),i=uu(t.noDocument.readTime),o=ln.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=me.fromSegments(t.unknownDocument.path);return i=uu(t.unknownDocument.version),ln.newUnknownDocument(s,i)}return ge()}function UE(e,t,n){var i=Zv(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(m,v){return{name:Ga(m,v.key),fields:v.data.value.mapValue.fields,updateTime:za(m,v.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new _t(null,null,s,a,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=su(t.version);return a=t.hasCommittedMutations,new _t(null,new vF(l,f),null,a,i,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),p=su(t.version);return new _t(new yF(d,p),null,null,!0,i,o)}return ge()}function Zv(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function tA(e){var t=new On(e[0],e[1]);return Me.fromTimestamp(t)}function su(e){var t=e.toTimestamp();return new mF(t.seconds,t.nanoseconds)}function uu(e){var t=new On(e.seconds,e.nanoseconds);return Me.fromTimestamp(t)}function Os(e,t){for(var n=(t.baseMutations||[]).map(function(f){return OE(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var s=t.mutations[i+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var a=t.mutations.map(function(f){return OE(e.Lt,f)}),l=On.fromMillis(t.localWriteTimeMs);return new Jv(t.batchId,l,n,a)}function ma(e){var t,n,i=uu(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?uu(e.lastLimboFreeSnapshotVersion):Me.min();return e.query.documents!==void 0?(Ee((n=e.query).documents.length===1),t=$r(dc(H1(n.documents[0])))):t=function(s){return $r(W1(s))}(e.query),new bh(t,e.targetId,0,e.lastListenSequenceNumber,i,o,Dn.fromBase64String(e.resumeToken))}function nA(e,t){var n,i=su(t.snapshotVersion),o=su(t.lastLimboFreeSnapshotVersion);n=Ef(t.target)?z1(e.Lt,t.target):G1(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Rn(t.targetId,hc(t.target),i,s,t.sequenceNumber,o,n)}function rA(e){var t=W1({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?k1(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IF=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return VE(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:uu(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return VE(t).put({bundleId:(i=n).id,createTime:su(In(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return jE(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:rA(o.bundledQuery),readTime:uu(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return jE(t).put(function(i){return{name:i.name,readTime:su(In(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function VE(e){return Ln(e,ru.store)}function jE(e){return Ln(e,iu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TF=function(){function e(){this.Bt=new ey}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),ee.resolve()},e.prototype.getCollectionParents=function(t,n){return ee.resolve(this.Bt.getEntries(n))},e}(),ey=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Ut(Qe.comparator),s=!o.has(i);return this.index[n]=o.add(i),s},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Ut(Qe.comparator)).toArray()},e}(),SF=function(){function e(){this.qt=new ey}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:br(s)};return BE(t).put(a)}return ee.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[w1(n),""],!1,!0);return BE(t).Nt(o).next(function(s){for(var a=0,l=s;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(Jr(f.parent))}return i})},e}();function BE(e){return Ln(e,Do.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pr=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(e,t,n){var i=e.store(it.store),o=e.store(rn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,I,N){return l++,N.delete()});s.push(f.next(function(){Ee(l===1)}));for(var d=[],p=0,m=n.mutations;p<m.length;p++){var v=m[p],b=rn.key(t,v.key.path,n.batchId);s.push(o.delete(b)),d.push(v.key)}return ee.waitFor(s).next(function(){return d})}function Af(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ge();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(41943040,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);var AF=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return Ee(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _i(t).$t({index:it.userMutationsIndex,range:i},function(o,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var s=this,a=Ds(t),l=_i(t);return l.add({}).next(function(f){Ee(typeof f=="number");for(var d=new Jv(f,n,i,o),p=function(R,P,C){var L=C.baseMutations.map(function(O){return Sf(R.Lt,O)}),B=C.mutations.map(function(O){return Sf(R.Lt,O)});return new it(P,C.batchId,C.localWriteTime.toMillis(),L,B)}(s.R,s.userId,d),m=[],v=new Ut(function(R,P){return Ve(R.canonicalString(),P.canonicalString())}),b=0,_=o;b<_.length;b++){var I=_[b],N=rn.key(s.userId,I.key.path,f);v=v.add(I.key.path.popLast()),m.push(l.put(p)),m.push(a.put(N,rn.PLACEHOLDER))}return v.forEach(function(R){m.push(s.Ut.addToCollectionParentIndex(t,R))}),t.addOnCommittedListener(function(){s.Kt[f]=d.keys()}),ee.waitFor(m).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return _i(t).get(n).next(function(o){return o?(Ee(o.userId===i.userId),Os(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?ee.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return i.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),a=null;return _i(t).$t({index:it.userMutationsIndex,range:s},function(l,f,d){f.userId===i.userId&&(Ee(f.batchId>=o),a=Os(i.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return _i(t).$t({index:it.userMutationsIndex,range:n,reverse:!0},function(o,s,a){i=s.batchId,a.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _i(t).Nt(it.userMutationsIndex,i).next(function(o){return o.map(function(s){return Os(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=rn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),a=[];return Ds(t).$t({range:s},function(l,f,d){var p=l[0],m=l[1],v=l[2],b=Jr(m);if(p===i.userId&&n.path.isEqual(b))return _i(t).get(v).next(function(_){if(!_)throw ge();Ee(_.userId===i.userId),a.push(Os(i.R,_))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Ut(Ve),s=[];return n.forEach(function(a){var l=rn.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=Ds(t).$t({range:f},function(p,m,v){var b=p[0],_=p[1],I=p[2],N=Jr(_);b===i.userId&&a.path.isEqual(N)?o=o.add(I):v.done()});s.push(d)}),ee.waitFor(s).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,s=o.length+1,a=rn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Ut(Ve);return Ds(t).$t({range:l},function(d,p,m){var v=d[0],b=d[1],_=d[2],I=Jr(b);v===i.userId&&o.isPrefixOf(I)?I.length===s&&(f=f.add(_)):m.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],s=[];return n.forEach(function(a){s.push(_i(t).get(a).next(function(l){if(l===null)throw ge();Ee(l.userId===i.userId),o.push(Os(i.R,l))}))}),ee.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return iA(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),ee.forEach(o,function(s){return i.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return ee.resolve();var o=IDBKeyRange.lowerBound(rn.prefixForUser(n.userId)),s=[];return Ds(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=Jr(a[1]);s.push(d)}else f.done()}).next(function(){Ee(s.length===0)})})},e.prototype.containsKey=function(t,n){return oA(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return sA(t).get(this.userId).next(function(i){return i||new Fi(n.userId,-1,"")})},e}();function oA(e,t,n){var i=rn.prefixForPath(t,n.path),o=i[1],s=IDBKeyRange.lowerBound(i),a=!1;return Ds(e).$t({range:s,Ft:!0},function(l,f,d){var p=l[0],m=l[1];l[2],p===t&&m===o&&(a=!0),d.done()}).next(function(){return a})}function _i(e){return Ln(e,it.store)}function Ds(e){return Ln(e,rn.store)}function sA(e){return Ln(e,Fi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),kF=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new kf(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Me.fromTimestamp(new On(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return ks(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return Ee(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,a=[];return ks(t).$t(function(l,f){var d=ma(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(s++,a.push(o.removeTargetData(t,d)))}).next(function(){return ee.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return ks(t).$t(function(i,o){var s=ma(o);n(s)})},e.prototype.Xt=function(t){return $E(t).get(qn.key).next(function(n){return Ee(n!==null),n})},e.prototype.Zt=function(t,n){return $E(t).put(qn.key,n)},e.prototype.te=function(t,n){return ks(t).put(nA(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=hc(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return ks(t).$t({range:o,index:Rn.queryTargetsIndexName},function(a,l,f){var d=ma(l);mh(n,d.target)&&(s=d,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,s=[],a=Ri(t);return n.forEach(function(l){var f=br(l.path);s.push(a.put(new Xt(i,f))),s.push(o.referenceDelegate.addReference(t,i,l))}),ee.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,s=Ri(t);return ee.forEach(n,function(a){var l=br(a.path);return ee.waitFor([s.delete([i,l]),o.referenceDelegate.removeReference(t,i,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Ri(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Ri(t),s=rt();return o.$t({range:i,Ft:!0},function(a,l,f){var d=Jr(a[1]),p=new me(d);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var i=br(n.path),o=IDBKeyRange.bound([i],[w1(i)],!1,!0),s=0;return Ri(t).$t({index:Xt.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return ks(t).get(n).next(function(i){return i?ma(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(e){return Ln(e,Rn.store)}function $E(e){return Ln(e,qn.store)}function Ri(e){return Ln(e,Xt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(e){return H(this,void 0,void 0,function(){return q(this,function(t){if(e.code!==F.FAILED_PRECONDITION||e.message!==Y1)throw e;return re("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(e,t){var n=e[0],i=e[1],o=t[0],s=t[1],a=Ve(n,o);return a===0?Ve(i,s):a}var CF=function(){function e(t){this.ne=t,this.buffer=new Ut(HE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();HE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),NF=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;re("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return H(n,void 0,void 0,function(){var o;return q(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Yo(o=s.sent())?(re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Jo(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),RF=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return ee.resolve(zn.o);var o=new CF(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return i.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(qE)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),qE):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,s,a,l,f,d,p=this,m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(v){return v>p.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+v),o=p.params.maximumSequenceNumbersToCollect):o=v,a=Date.now(),p.nthSequenceNumber(t,o)}).next(function(v){return i=v,l=Date.now(),p.removeTargets(t,i,n)}).next(function(v){return s=v,f=Date.now(),p.removeOrphanedDocuments(t,i)}).next(function(v){return d=Date.now(),Em()<=Ke.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-m)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+v+" documents in "+(d-f)+`ms
Total Duration: `+(d-m)+"ms"),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:v})})},e}(),xF=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new RF(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return Ul(t,i)},e.prototype.removeReference=function(t,n,i){return Ul(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return Ul(t,n)},e.prototype._e=function(t,n){return function(i,o){var s=!1;return sA(i).Ot(function(a){return oA(i,a,o).next(function(l){return l&&(s=!0),ee.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,f){if(f<=n){var d=i._e(t,l).next(function(p){if(!p)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Ri(t).delete([0,br(l.path)])})});s.push(d)}}).next(function(){return ee.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return Ul(t,n)},e.prototype.we=function(t,n){var i,o=Ri(t),s=zn.o;return o.$t({index:Xt.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,p=l.sequenceNumber;f===0?(s!==zn.o&&n(new me(Jr(i)),s),s=p,i=d):s=zn.o}).next(function(){s!==zn.o&&n(new me(Jr(i)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Ul(e,t){return Ri(e).put(function(n,i){return new Xt(0,br(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,s=i;o<s.length;o++){var a=s[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Xo(this.inner,function(n,i){for(var o=0,s=i;o<s.length;o++){var a=s[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return b1(this.inner)},e}(),uA=function(){function e(){this.changes=new Eu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Me.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:ln.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?ee.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),OF=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return ki(t).put(Vl(n),i)},e.prototype.removeEntry=function(t,n){var i=ki(t),o=Vl(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return ki(t).get(Vl(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return ki(t).get(Vl(n)).next(function(o){return{document:i.ye(n,o),size:Af(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=wr();return this.pe(t,n,function(s,a){var l=i.ye(s,a);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=wr(),s=new fn(me.comparator);return this.pe(t,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),s=s.insert(a,Af(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return ee.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return ki(t).$t({range:o},function(l,f,d){for(var p=me.fromSegments(l);a&&me.comparator(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,f),a=s.hasNext()?s.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,s=wr(),a=n.path.length+1,l={};if(i.isEqual(Me.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),p=Zv(i);l.range=IDBKeyRange.lowerBound([d,p],!0),l.index=_t.collectionReadTimeIndex}return ki(t).$t(l,function(m,v,b){if(m.length===a){var _=Nm(o.R,v);n.path.isPrefixOf(_.key.path)?gc(n,_)&&(s=s.insert(_.key,_)):b.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new DF(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return KE(t).get(Ur.key).next(function(n){return Ee(!!n),n})},e.prototype.me=function(t,n){return KE(t).put(Ur.key,n)},e.prototype.ye=function(t,n){if(n){var i=Nm(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(Me.min()))return i}return ln.newInvalidDocument(t)},e}(),DF=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new Eu(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),o}return ye(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],s=0,a=new Ut(function(l,f){return Ve(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var p=UE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var m=Af(p);s+=m-d,o.push(i.Ie.addEntry(n,l,p))}else if(s-=d,i.trackRemovals){var v=UE(i.Ie.R,ln.newNoDocument(l,Me.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,v))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),ee.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(s){return o.Ae.set(i,s.size),s.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(s){var a=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(uA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(e){return Ln(e,Ur.store)}function ki(e){return Ln(e,_t.store)}function Vl(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PF=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var s=this;Ee(i<o&&i>=0&&o<=11);var a=new Z1("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(Bn.store)}(t),function(f){f.createObjectStore(Fi.store,{keyPath:Fi.keyPath}),f.createObjectStore(it.store,{keyPath:it.keyPath,autoIncrement:!0}).createIndex(it.userMutationsIndex,it.userMutationsKeyPath,{unique:!0}),f.createObjectStore(rn.store)}(t),zE(t),function(f){f.createObjectStore(_t.store)}(t));var l=ee.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(Xt.store),f.deleteObjectStore(Rn.store),f.deleteObjectStore(qn.store)}(t),zE(t)),l=l.next(function(){return function(f){var d=f.store(qn.store),p=new qn(0,0,Me.min().toTimestamp(),0);return d.put(qn.key,p)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(it.store).Nt().next(function(p){f.deleteObjectStore(it.store),f.createObjectStore(it.store,{keyPath:it.keyPath,autoIncrement:!0}).createIndex(it.userMutationsIndex,it.userMutationsKeyPath,{unique:!0});var m=d.store(it.store),v=p.map(function(b){return m.put(b)});return ee.waitFor(v)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(ni.store,{keyPath:ni.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return s.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Ur.store)}(t),s.be(a)})),i<7&&o>=7&&(l=l.next(function(){return s.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return s.Pe(t,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(_t.store);d.createIndex(_t.readTimeIndex,_t.readTimeIndexPath,{unique:!1}),d.createIndex(_t.collectionReadTimeIndex,_t.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return s.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(ru.store,{keyPath:ru.keyPath})})(t),function(f){f.createObjectStore(iu.store,{keyPath:iu.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(_t.store).$t(function(i,o){n+=Af(o)}).next(function(){var i=new Ur(n);return t.store(Ur.store).put(Ur.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(Fi.store),o=t.store(it.store);return i.Nt().next(function(s){return ee.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(it.userMutationsIndex,l).next(function(f){return ee.forEach(f,function(d){Ee(d.userId===a.userId);var p=Os(n.R,d);return iA(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Xt.store),i=t.store(_t.store);return t.store(qn.store).get(qn.key).next(function(o){var s=[];return i.$t(function(a,l){var f=new Qe(a),d=function(p){return[0,br(p)]}(f);s.push(n.get(d).next(function(p){return p?ee.resolve():function(m){return n.put(new Xt(0,br(m),o.highestListenSequenceNumber))}(f)}))}).next(function(){return ee.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Do.store,{keyPath:Do.keyPath});var i=n.store(Do.store),o=new ey,s=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:br(f)})}};return n.store(_t.store).$t({Ft:!0},function(a,l){var f=new Qe(a);return s(f.popLast())}).next(function(){return n.store(rn.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=Jr(f);return s(d.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(Rn.store);return i.$t(function(o,s){var a=ma(s),l=nA(n.R,a);return i.put(l)})},e}();function zE(e){e.createObjectStore(Xt.store,{keyPath:Xt.keyPath}).createIndex(Xt.documentTargetsIndex,Xt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Rn.store,{keyPath:Rn.keyPath}).createIndex(Rn.queryTargetsIndexName,Rn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(qn.store)}var Dg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",LF=function(){function e(t,n,i,o,s,a,l,f,d,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=s,this.window=a,this.document=l,this.De=d,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(m){return Promise.resolve()},!e.yt())throw new Y(F.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xF(this,o),this.Le=n+"main",this.R=new eA(f),this.Be=new ou(this.Le,11,new PF(this.R)),this.qe=new kF(this.referenceDelegate,this.R),this.Ut=new SF,this.Ue=function(m,v){return new OF(m,v)}(this.R,this.Ut),this.Ke=new IF,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&xt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Y(F.FAILED_PRECONDITION,Dg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new zn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return H(n,void 0,void 0,function(){return q(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return H(n,void 0,void 0,function(){return q(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return H(n,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return jl(n).put(new ni(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Yo(n))return re("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return ha(t).get(Bn.key).next(function(i){return ee.resolve(n.tn(i))})},e.prototype.en=function(t){return jl(t).delete(this.clientId)},e.prototype.nn=function(){return H(this,void 0,void 0,function(){var t,n,i,o,s=this;return q(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Ln(l,ni.store);return f.Nt().next(function(d){var p=s.rn(d,18e5),m=d.filter(function(v){return p.indexOf(v)===-1});return ee.forEach(m,function(v){return f.delete(v.clientId)}).next(function(){return m})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?ee.resolve(!0):ha(t).get(Bn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new Y(F.FAILED_PRECONDITION,Dg);return!1}}return!(!n.networkEnabled||!n.inForeground)||jl(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&re("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return H(this,void 0,void 0,function(){var t=this;return q(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Bn.store,ni.store],function(i){var o=new FE(i,zn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return jl(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return AF.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;re("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,wF,function(l){return s=new FE(l,o.Ne?o.Ne.next():zn.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw xt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new Y(F.FAILED_PRECONDITION,Y1);return i(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return i(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return ha(t).get(Bn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new Y(F.FAILED_PRECONDITION,Dg)})},e.prototype.Ze=function(t){var n=new Bn(this.clientId,this.allowTabSynchronization,Date.now());return ha(t).put(Bn.key,n)},e.yt=function(){return ou.yt()},e.prototype.Xe=function(t){var n=this,i=ha(t);return i.get(Bn.key).next(function(o){return n.tn(o)?(re("IndexedDbPersistence","Releasing primary lease."),i.delete(Bn.key)):ee.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(xt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),qP()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return re("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return xt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){xt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function ha(e){return Ln(e,Bn.store)}function jl(e){return Ln(e,ni.store)}function ty(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var aA=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,a=i;s<a.length;s++)a[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):zv(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new me(n)).next(function(i){var o=km();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,s=n.collectionGroup,a=km();return this.Ut.getCollectionParents(t,s).next(function(l){return ee.forEach(l,function(f){var d=function(p,m){return new ai(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,f.child(s));return o.An(t,d,i).next(function(p){p.forEach(function(m,v){a=a.insert(m,v)})})}).next(function(){return a})})},e.prototype.An=function(t,n,i){var o,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,o).next(function(f){o=f;for(var d=0,p=s;d<p.length;d++)for(var m=p[d],v=0,b=m.mutations;v<b.length;v++){var _=b[v],I=_.key,N=o.get(I);N==null&&(N=ln.newInvalidDocument(I),o=o.insert(I,N)),Am(_,N,m.localWriteTime),N.isFoundDocument()||(o=o.remove(I))}})}).next(function(){return o.forEach(function(l,f){gc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=rt(),s=0,a=n;s<a.length;s++)for(var l=0,f=a[s].mutations;l<f.length;l++){var d=f[l];d instanceof zi&&i.get(d.key)===null&&(o=o.add(d.key))}var p=i;return this.Ue.getEntries(t,o).next(function(m){return m.forEach(function(v,b){b.isFoundDocument()&&(p=p.insert(v,b))}),p})},e}(),MF=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=rt(),o=rt(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),cA=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(Me.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=s.Cn(n,a);return(Zl(n)||Tf(n))&&s.Nn(n.limitType,l,o,i)?s.Dn(t,n):(Em()<=Ke.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sm(n)),s.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var i=new Ut(N1(t));return n.forEach(function(o,s){gc(t,s)&&(i=i.add(s))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Em()<=Ke.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Sm(n)),this.Sn.getDocumentsMatchingQuery(t,n,Me.min())},e}(),FF=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new fn(Ve),this.Fn=new Eu(function(s){return hc(s)},mh),this.$n=Me.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new aA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(e,t,n,i){return new FF(e,t,n,i)}function fA(e,t){return H(this,void 0,void 0,function(){var n,i,o,s;return q(this,function(a){switch(a.label){case 0:return n=ce(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(t),o=new aA(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var p=[],m=[],v=rt(),b=0,_=f;b<_.length;b++){var I=_[b];p.push(I.batchId);for(var N=0,R=I.mutations;N<R.length;N++){var P=R[N];v=v.add(P.key)}}for(var C=0,L=d;C<L.length;C++){var B=L[C];m.push(B.batchId);for(var O=0,W=B.mutations;O<W.length;O++){var D=W[O];v=v.add(D.key)}}return o.pn(l,v).next(function(ue){return{Ln:ue,removedBatchIds:p,addedBatchIds:m}})})})];case 1:return s=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function UF(e,t){var n=ce(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var p=f.batch,m=p.keys(),v=ee.resolve();return m.forEach(function(b){v=v.next(function(){return d.getEntry(l,b)}).next(function(_){var I=f.docVersions.get(b);Ee(I!==null),_.version.compareTo(I)<0&&(p.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),v.next(function(){return a._n.removeMutationBatch(l,p)})}(n,i,t,s).next(function(){return s.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function hA(e){var t=ce(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function VF(e,t){var n=ce(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(p,m){var v=o.get(m);if(v){l.push(n.qe.removeMatchingKeys(s,p.removedDocuments,m).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,m)}));var b=p.resumeToken;if(b.approximateByteSize()>0){var _=v.withResumeToken(b,i).withSequenceNumber(s.currentSequenceNumber);o=o.insert(m,_),function(I,N,R){return Ee(N.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(v,_,p)&&l.push(n.qe.updateTargetData(s,_))}}});var f=wr();if(t.documentUpdates.forEach(function(p,m){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(jF(s,a,t.documentUpdates,i,void 0).next(function(p){f=p})),!i.isEqual(Me.min())){var d=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,i)});l.push(d)}return ee.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function jF(e,t,n,i,o){var s=rt();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=wr();return n.forEach(function(f,d){var p=a.get(f),m=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual(Me.min())?(t.removeEntry(f,m),l=l.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d,m),l=l.insert(f,d)):re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),l})}function BF(e,t){var n=ce(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function Cf(e,t){var n=ce(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(s){return s?(o=s,ee.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new bh(t,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function au(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a;return q(this,function(l){switch(l.label){case 0:i=ce(e),o=i.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Yo(a=l.sent()))throw a;return re("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function Nf(e,t,n){var i=ce(e),o=Me.min(),s=rt();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var p=ce(l),m=p.Fn.get(d);return m!==void 0?ee.resolve(p.kn.get(m)):p.qe.getTargetData(f,d)}(i,a,$r(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){s=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,t,n?o:Me.min(),n?s:rt())}).next(function(l){return{documents:l,Bn:s}})})}function dA(e,t){var n=ce(e),i=ce(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return i.lt(s,t).next(function(a){return a?a.target:null})})}function pA(e){var t=ce(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,s){var a=ce(i),l=wr(),f=Zv(s),d=ki(o),p=IDBKeyRange.lowerBound(f,!0);return d.$t({index:_t.readTimeIndex,range:p},function(m,v){var b=Nm(a.R,v);l=l.insert(b.key,b),f=v.readTime}).next(function(){return{wn:l,readTime:tA(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function qF(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){return[2,(t=ce(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var s=ki(o),a=Me.min();return s.$t({index:_t.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=tA(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $F=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return ee.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:In(i.createTime)}),ee.resolve()},e.prototype.getNamedQuery=function(t,n){return ee.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:rA(i.bundledQuery),readTime:In(i.readTime)}}(n)),ee.resolve()},e}(),ny=function(){function e(){this.Wn=new Ut(jt.Gn),this.zn=new Ut(jt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new jt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new jt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new me(new Qe([])),o=new jt(i,t),s=new jt(i,t+1),a=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new me(new Qe([])),i=new jt(n,t),o=new jt(n,t+1),s=rt();return this.zn.forEachInRange([i,o],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new jt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),jt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return me.comparator(t.key,n.key)||Ve(t.ns,n.ns)},e.Hn=function(t,n){return Ve(t.ns,n.ns)||me.comparator(t.key,n.key)},e}(),HF=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Ut(jt.Gn)}return e.prototype.checkEmpty=function(t){return ee.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Jv(s,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new jt(d.key,s)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return ee.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return ee.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),s=o<0?0:o;return ee.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ee.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return ee.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new jt(n,0),s=new jt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,s],function(l){var f=i.os(l.ns);a.push(f)}),ee.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Ut(Ve);return n.forEach(function(s){var a=new jt(s,0),l=new jt(s,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),ee.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,s=i;me.isDocumentKey(s)||(s=s.child(""));var a=new jt(new me(s),0),l=new Ut(Ve);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),ee.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var s=n.os(o);s!==null&&i.push(s)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;Ee(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return ee.forEach(n.mutations,function(s){var a=new jt(s.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new jt(n,0),o=this.rs.firstAfterOrEqual(i);return ee.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,ee.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),KF=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new fn(me.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,s=this.docs.get(o),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return ee.resolve(i?i.document.clone():ln.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=wr();return n.forEach(function(s){var a=i.docs.get(s);o=o.insert(s,a?a.document.clone():ln.newInvalidDocument(s))}),ee.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=wr(),s=new me(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,p=d.document,m=d.readTime;if(!n.path.isPrefixOf(f.path))break;m.compareTo(i)<=0||gc(n,p)&&(o=o.insert(p.key,p.clone()))}return ee.resolve(o)},e.prototype.fs=function(t,n){return ee.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new zF(this)},e.prototype.getSize=function(t){return ee.resolve(this.size)},e}(),zF=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return ye(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(s))):i.Ie.removeEntry(s)}),ee.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(uA),GF=function(){function e(t){this.persistence=t,this.ds=new Eu(function(n){return hc(n)},mh),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.ws=0,this._s=new ny,this.targetCount=0,this.ys=kf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),ee.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return ee.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return ee.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ee.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),ee.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new kf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,ee.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),ee.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ee.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),ee.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return ee.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return ee.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),ee.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(a){s.push(o.markPotentiallyOrphaned(t,a))}),ee.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),ee.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return ee.resolve(i)},e.prototype.containsKey=function(t,n){return ee.resolve(this._s.containsKey(n))},e}(),WF=function(){function e(t,n){var i=this;this.gs={},this.Ne=new zn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new GF(this),this.Ut=new TF,this.Ue=function(o,s){return new KF(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new eA(n),this.Ke=new $F(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new HF(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;re("MemoryPersistence","Starting transaction:",t);var s=new XF(this.Ne.next());return this.referenceDelegate.Es(),i(s).next(function(a){return o.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return ee.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),XF=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return ye(t,e),t}(J1),QF=function(){function e(t){this.persistence=t,this.As=new ny,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ge()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),ee.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),ee.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),ee.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(s){return i.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.vs,function(o){var s=me.fromPath(o);return n.Ps(t,s).next(function(a){a||i.removeEntry(s)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return ee.or([function(){return ee.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),Wt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(e,t){return"firestore_clients_"+e+"_"+t}function WE(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function Pg(e,t){return"firestore_targets_"+e+"_"+t}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");var XE=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,s=JSON.parse(i),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new Y(s.error.code,s.error.message)),a?new e(t,n,s.state,o):(xt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Lg=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new Y(o.error.code,o.error.message)),s?new e(t,o.state,i):(xt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),QE=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,s=wh(),a=0;o&&a<i.activeTargetIds.length;++a)o=I1(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return o?new e(t,s):(xt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),YF=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(xt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Rm=function(){function e(){this.activeTargetIds=wh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Mg=function(){function e(t,n,i,o,s){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new fn(Ve),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=GE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Rm),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return H(this,void 0,void 0,function(){var t,n,i,o,s,a,l,f,d,p,m,v=this;return q(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=b.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(s=this.getItem(GE(this.persistenceKey,o)))&&(a=QE.Vs(o,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,p=this.$s;d<p.length;d++)m=p[d],this.ks(m);return this.$s=[],this.window.addEventListener("pagehide",function(){return v.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(Pg(this.persistenceKey,t));if(i){var o=Lg.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Pg(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,i.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return re("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){re("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){re("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(re("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return H(n,void 0,void 0,function(){var o,s,a,l,f,d;return q(this,function(p){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(s=this.ni(i.key,i.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(m){var v=zn.o;if(m!=null)try{var b=JSON.parse(m);Ee(typeof b=="number"),v=b}catch(_){xt("SharedClientState","Failed to read sequence number from WebStorage",_)}return v}(i.newValue))!==zn.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new XE(this.currentUser,t,n,i),s=WE(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=WE(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=Pg(this.persistenceKey,t),s=new Lg(t,n,i);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return QE.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),s=i[2]!==void 0?i[2]:null;return XE.Vs(new Wt(s),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return Lg.Vs(o,n)},e.prototype.js=function(t){return YF.Vs(t)},e.prototype.ii=function(t){return H(this,void 0,void 0,function(){return q(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(re("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){s.has(d)||l.push(d)}),s.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=wh();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),gA=function(){function e(){this.li=new Rm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Rm,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),JF=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),YE=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),ZF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},eU=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),tU=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return ye(t,e),t.prototype.Fi=function(n,i,o,s){return new Promise(function(a,l){var f=new OM;f.listenOnce(NM.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Og.NO_ERROR:var p=f.getResponseJson();re("Connection","XHR received:",JSON.stringify(p)),a(p);break;case Og.TIMEOUT:re("Connection",'RPC "'+n+'" timed out'),l(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case Og.HTTP_ERROR:var m=f.getStatus();if(re("Connection",'RPC "'+n+'" failed with status:',m,"response text:",f.getResponseText()),m>0){var v=f.getResponseJson().error;if(v&&v.status&&v.message){var b=function(_){var I=_.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(I)>=0?I:F.UNKNOWN}(v.status);l(new Y(b,v.message))}else l(new Y(F.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new Y(F.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{re("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);f.send(i,"POST",d,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=kM(),a=CM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new xM({})),this.ki(l.initMessageHeaders,i),LP()||UP()||VP()||jP()||BP()||FP()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");re("Connection","Creating WebChannel: "+f,l);var d=s.createWebChannel(f,l),p=!1,m=!1,v=new eU({Ei:function(_){m?re("Connection","Not sending because WebChannel is closed:",_):(p||(re("Connection","Opening WebChannel transport."),d.open(),p=!0),re("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),b=function(_,I,N){_.listen(I,function(R){try{N(R)}catch(P){setTimeout(function(){throw P},0)}})};return b(d,Ml.EventType.OPEN,function(){m||re("Connection","WebChannel transport opened.")}),b(d,Ml.EventType.CLOSE,function(){m||(m=!0,re("Connection","WebChannel transport closed"),v.Vi())}),b(d,Ml.EventType.ERROR,function(_){m||(m=!0,wf("Connection","WebChannel transport errored:",_),v.Vi(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),b(d,Ml.EventType.MESSAGE,function(_){var I;if(!m){var N=_.data[0];Ee(!!N);var R=N,P=R.error||((I=R[0])===null||I===void 0?void 0:I.error);if(P){re("Connection","WebChannel received error:",P);var C=P.status,L=function(O){var W=Nt[O];if(W!==void 0)return V1(W)}(C),B=P.message;L===void 0&&(L=F.INTERNAL,B="Unknown error status: "+C+" with message "+P.message),m=!0,v.Vi(new Y(L,B)),d.close()}else re("Connection","WebChannel received:",N),v.Si(N)}}),b(a,RM.STAT_EVENT,function(_){_.stat===pE.PROXY?re("Connection","Detected buffering proxy"):_.stat===pE.NOPROXY&&re("Connection","Detected no buffering proxy")}),setTimeout(function(){v.Pi()},0),v},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var s=this.xi(t,n);re("RestConnection","Sending: ",s,i);var a={};return this.ki(a,o),this.Fi(t,s,a,i).then(function(l){return re("RestConnection","Received: ",l),l},function(l){throw wf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=ZF[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){return typeof window<"u"?window:null}function nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(e){return new uF(e,!0)}var ry=function(){function e(t,n,i,o,s){i===void 0&&(i=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,i-o);s>0&&re("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),vA=function(){function e(t,n,i,o,s,a){this.Se=t,this.zi=i,this.Hi=o,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ry(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return H(this,void 0,void 0,function(){return q(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return H(this,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(xt(n.toString()),xt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===F.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var s=new Y(F.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return H(t,void 0,void 0,function(){return q(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return re("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),nU=function(e){function t(n,i,o,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=s,l}return ye(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(s,a){var l;if("targetChange"in a){a.targetChange;var f=function(N){return N==="NO_CHANGE"?0:N==="ADD"?1:N==="REMOVE"?2:N==="CURRENT"?3:N==="RESET"?4:ge()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],p=function(N,R){return N.I?(Ee(R===void 0||typeof R=="string"),Dn.fromBase64String(R||"")):(Ee(R===void 0||R instanceof Uint8Array),Dn.fromUint8Array(R||new Uint8Array))}(s,a.targetChange.resumeToken),m=(v=a.targetChange.cause)&&function(N){var R=N.code===void 0?F.UNKNOWN:V1(N.code);return new Y(R,N.message||"")}(v);l=new B1(f,d,p,m||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=ti(s,f.document.name),p=In(f.document.updateTime);var v=new $n({mapValue:{fields:f.document.fields}}),b=(m=ln.newFoundDocument(d,p,v),f.targetIds||[]),_=f.removedTargetIds||[];l=new tf(b,_,m.key,m)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=ti(s,f.document),p=f.readTime?In(f.readTime):Me.min(),v=ln.newNoDocument(d,p),m=f.removedTargetIds||[],l=new tf([],m,v.key,v);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=ti(s,f.document),p=f.removedTargetIds||[],l=new tf([],p,d,null);else{if(!("filter"in a))return ge();a.filter;var I=a.filter;I.targetId,f=I.count||0,d=new YM(f),p=I.targetId,l=new j1(p,d)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return Me.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Me.min():a.readTime?In(a.readTime):Me.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=Wa(this.R),i.addTarget=function(s,a){var l,f=a.target;return(l=Ef(f)?{documents:z1(s,f)}:{query:G1(s,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=q1(s,a.resumeToken):a.snapshotVersion.compareTo(Me.min())>0&&(l.readTime=za(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ge()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=Wa(this.R),i.removeTarget=n,this.cr(i)},t}(vA),rU=function(e){function t(n,i,o,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=s,l.gr=!1,l}return ye(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Ee(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(s,a){return s&&s.length>0?(Ee(a!==void 0),s.map(function(l){return function(f,d){var p=f.updateTime?In(f.updateTime):In(d);return p.isEqual(Me.min())&&(p=In(d)),new WM(p,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=In(n.commitTime);return this.listener.Tr(o,i)}return Ee(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Wa(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return Sf(i.R,s)})};this.cr(o)},t}(vA),iU=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=i,s.R=o,s.Rr=!1,s}return ye(t,e),t.prototype.br=function(){if(this.Rr)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new Y(F.UNKNOWN,a.toString())})},t.prototype.$i=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new Y(F.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),oU=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(xt(n),this.Vr=!1):re("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),sU=function(e,t,n,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return H(s,void 0,void 0,function(){return q(this,function(l){switch(l.label){case 0:return Gi(this)?(re("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return H(this,void 0,void 0,function(){var d;return q(this,function(p){switch(p.label){case 0:return(d=ce(f)).Or.add(4),[4,Iu(d)];case 1:return p.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,wc(d)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new oU(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(e){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:if(!Gi(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Iu(e){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Eh(e,t){var n=ce(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),sy(n)?oy(n):Su(n).er()&&iy(n,t))}function Xa(e,t){var n=ce(e),i=Su(n);n.$r.delete(t),i.er()&&yA(n,t),n.$r.size===0&&(i.er()?i.ir():Gi(n)&&n.Br.set("Unknown"))}function iy(e,t){e.qr.U(t.targetId),Su(e).mr(t)}function yA(e,t){e.qr.U(t),Su(e).yr(t)}function oy(e){e.qr=new iF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Su(e).start(),e.Br.Sr()}function sy(e){return Gi(e)&&!Su(e).tr()&&e.$r.size>0}function Gi(e){return ce(e).Or.size===0}function wA(e){e.qr=void 0}function uU(e){return H(this,void 0,void 0,function(){return q(this,function(t){return e.$r.forEach(function(n,i){iy(e,n)}),[2]})})}function aU(e,t){return H(this,void 0,void 0,function(){return q(this,function(n){return wA(e),sy(e)?(e.Br.Nr(t),oy(e)):e.Br.set("Unknown"),[2]})})}function cU(e,t,n){return H(this,void 0,void 0,function(){var i,o,s;return q(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof B1&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return H(this,void 0,void 0,function(){var d,p,m,v;return q(this,function(b){switch(b.label){case 0:d=f.cause,p=0,m=f.targetIds,b.label=1;case 1:return p<m.length?(v=m[p],l.$r.has(v)?[4,l.remoteSyncer.rejectListen(v,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(v),l.qr.removeTarget(v),b.label=3;case 3:b.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Rf(e,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof tf?e.qr.X(t):t instanceof j1?e.qr.rt(t):e.qr.et(t),n.isEqual(Me.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,hA(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(p,m){if(p.resumeToken.approximateByteSize()>0){var v=l.$r.get(m);v&&l.$r.set(m,v.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach(function(p){var m=l.$r.get(p);if(m){l.$r.set(p,m.withResumeToken(Dn.EMPTY_BYTE_STRING,m.snapshotVersion)),yA(l,p);var v=new bh(m.target,p,1,m.sequenceNumber);iy(l,v)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return re("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Rf(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Rf(e,t,n){return H(this,void 0,void 0,function(){var i=this;return q(this,function(o){switch(o.label){case 0:if(!Yo(t))throw t;return e.Or.add(1),[4,Iu(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return hA(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return q(this,function(s){switch(s.label){case 0:return re("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,wc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function bA(e,t){return t().catch(function(n){return Rf(e,n,t)})}function Tu(e){return H(this,void 0,void 0,function(){var t,n,i,o,s;return q(this,function(a){switch(a.label){case 0:t=ce(e),n=$i(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Gi(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,BF(t.localStore,i)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=$i(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return s=a.sent(),[4,Rf(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return _A(t)&&EA(t),[2]}})})}function _A(e){return Gi(e)&&!$i(e).tr()&&e.Fr.length>0}function EA(e){$i(e).start()}function lU(e){return H(this,void 0,void 0,function(){return q(this,function(t){return $i(e).Ar(),[2]})})}function fU(e){return H(this,void 0,void 0,function(){var t,n,i,o;return q(this,function(s){for(t=$i(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function hU(e,t,n){return H(this,void 0,void 0,function(){var i,o;return q(this,function(s){switch(s.label){case 0:return i=e.Fr.shift(),o=EF.from(i,t,n),[4,bA(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Tu(e)];case 2:return s.sent(),[2]}})})}function dU(e,t){return H(this,void 0,void 0,function(){return q(this,function(n){switch(n.label){case 0:return t&&$i(e).pr?[4,function(i,o){return H(this,void 0,void 0,function(){var s,a;return q(this,function(l){switch(l.label){case 0:return U1(a=o.code)&&a!==F.ABORTED?(s=i.Fr.shift(),$i(i).sr(),[4,bA(i,function(){return i.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Tu(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return _A(e)&&EA(e),[2]}})})}function xm(e,t){return H(this,void 0,void 0,function(){var n;return q(this,function(i){switch(i.label){case 0:return n=ce(e),t?(n.Or.delete(2),[4,wc(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Iu(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Su(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var s=ce(n);return s.br(),new nU(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:uU.bind(null,e),Ri:aU.bind(null,e),_r:cU.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),sy(e)?oy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),wA(e),i.label=3;case 3:return[2]}})})})),e.Ur}function $i(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var s=ce(n);return s.br(),new rU(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:lU.bind(null,e),Ri:dU.bind(null,e),Ir:fU.bind(null,e),Tr:hU.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Tu(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(re("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var pU=function(){function e(t,n,i,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,i,o,s){var a=new e(t,n,Date.now()+i,o,s);return a.start(i),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Au(e,t){if(xt("AsyncQueue",t+": "+e),Yo(e))return new Y(F.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IA=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||me.comparator(n.key,i.key)}:function(n,i){return me.comparator(n.key,i.key)},this.keyedMap=km(),this.sortedSet=new fn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),JE=function(){function e(){this.Qr=new fn(me.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ge():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),xf=function(){function e(t,n,i,o,s,a,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,IA.emptySet(n),s,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),gU=function(){this.Wr=void 0,this.listeners=[]},mU=function(){this.queries=new Eu(function(e){return C1(e)},pc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,a,l,f;return q(this,function(d){switch(d.label){case 0:if(n=ce(e),i=t.query,o=!1,(s=n.queries.get(i))||(o=!0,s=new gU),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=s,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=Au(l,"Initialization of query '"+Sm(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&cy(n),[2]}})})}function ay(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,a;return q(this,function(l){return n=ce(e),i=t.query,o=!1,(s=n.queries.get(i))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),o=s.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function vU(e,t){for(var n=ce(e),i=!1,o=0,s=t;o<s.length;o++){var a=s[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,p=f.listeners;d<p.length;d++)p[d].Hr(a)&&(i=!0);f.Wr=a}}i&&cy(n)}function yU(e,t,n){var i=ce(e),o=i.queries.get(t);if(o)for(var s=0,a=o.listeners;s<a.length;s++)a[s].onError(n);i.queries.delete(t)}function cy(e){e.Gr.forEach(function(t){t.next()})}var ly=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var s=o[i];s.type!==3&&n.push(s)}t=new xf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=xf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TA=function(e){this.key=e},SA=function(e){this.key=e},AA=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=rt(),this.mutatedKeys=rt(),this.lo=N1(t),this.fo=new IA(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new JE,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,d=Zl(this.query)&&s.size===this.query.limit?s.last():null,p=Tf(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(v,b){var _=s.get(v),I=gc(i.query,b)?b:null,N=!!_&&i.mutatedKeys.has(_.key),R=!!I&&(I.hasLocalMutations||i.mutatedKeys.has(I.key)&&I.hasCommittedMutations),P=!1;_&&I?_.data.isEqual(I.data)?N!==R&&(o.track({type:3,doc:I}),P=!0):i.yo(_,I)||(o.track({type:2,doc:I}),P=!0,(d&&i.lo(I,d)>0||p&&i.lo(I,p)<0)&&(f=!0)):!_&&I?(o.track({type:0,doc:I}),P=!0):_&&!I&&(o.track({type:1,doc:_}),P=!0,(d||p)&&(f=!0)),P&&(I?(l=l.add(I),a=R?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))}),Zl(this.query)||Tf(this.query))for(;l.size>this.query.limit;){var m=Zl(this.query)?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),o.track({type:1,doc:m})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,m){return function(v,b){var _=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return _(v)-_(b)}(p.type,m.type)||o.lo(p.doc,m.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new xf(this.query,t.fo,s,a,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new JE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=rt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new SA(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new TA(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=rt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return xf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),wU=function(e,t,n){this.query=e,this.targetId=t,this.view=n},bU=function(e){this.key=e,this.bo=!1},_U=function(){function e(t,n,i,o,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Eu(function(l){return C1(l)},pc),this.Vo=new Map,this.So=new Set,this.Do=new fn(me.comparator),this.Co=new Map,this.No=new ny,this.xo={},this.ko=new Map,this.Fo=kf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function EU(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,a,l;return q(this,function(f){switch(f.label){case 0:return n=gy(e),(s=n.Po.get(t))?(i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Cf(n.localStore,$r(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,fy(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Eh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function fy(e,t,n,i){return H(this,void 0,void 0,function(){var o,s,a,l,f,d;return q(this,function(p){switch(p.label){case 0:return e.Oo=function(m,v,b){return function(_,I,N,R){return H(this,void 0,void 0,function(){var P,C,L;return q(this,function(B){switch(B.label){case 0:return P=I.view._o(N),P.Nn?[4,Nf(_.localStore,I.query,!1).then(function(O){var W=O.documents;return I.view._o(W,P)})]:[3,2];case 1:P=B.sent(),B.label=2;case 2:return C=R&&R.targetChanges.get(I.targetId),L=I.view.applyChanges(P,_.isPrimaryClient,C),[2,(Om(_,I.targetId,L.To),L.snapshot)]}})})}(e,m,v,b)},[4,Nf(e.localStore,t,!0)];case 1:return o=p.sent(),s=new AA(t,o.Bn),a=s._o(o.documents),l=Xv.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=s.applyChanges(a,e.isPrimaryClient,l),Om(e,n,f.To),d=new wU(t,n,s),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function IU(e,t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(s){switch(s.label){case 0:return n=ce(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!pc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,au(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Xa(n.remoteStore,i.targetId),cu(n,i.targetId)}).catch(Jo)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return cu(n,i.targetId),[4,au(n.localStore,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function TU(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a;return q(this,function(l){switch(l.label){case 0:i=my(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var p,m=ce(f),v=On.now(),b=d.reduce(function(_,I){return _.add(I.key)},rt());return m.persistence.runTransaction("Locally write mutations","readwrite",function(_){return m.Mn.pn(_,b).next(function(I){p=I;for(var N=[],R=0,P=d;R<P.length;R++){var C=P[R],L=QM(C,p.get(C.key));L!=null&&N.push(new zi(C.key,L,T1(L.value.mapValue),un.exists(!0)))}return m._n.addMutationBatch(_,v,N,d)})}).then(function(_){return _.applyToLocalDocumentSet(p),{batchId:_.batchId,changes:p}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,p){var m=f.xo[f.currentUser.toKey()];m||(m=new fn(Ve)),m=m.insert(d,p),f.xo[f.currentUser.toKey()]=m}(i,o.batchId,n),[4,Wi(i,o.changes)];case 3:return l.sent(),[4,Tu(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Au(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function kA(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:n=ce(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,VF(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(Ee(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?Ee(l.bo):s.removedDocuments.size>0&&(Ee(l.bo),l.bo=!1))}),[4,Wi(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,Jo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ZE(e,t,n){var i=ce(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,a){var l=ce(s);l.onlineState=a;var f=!1;l.queries.forEach(function(d,p){for(var m=0,v=p.listeners;m<v.length;m++)v[m].zr(a)&&(f=!0)}),f&&cy(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function SU(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a,l,f;return q(this,function(d){switch(d.label){case 0:return(i=ce(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(s=o&&o.key)?(a=(a=new fn(me.comparator)).insert(s,ln.newNoDocument(s,Me.min())),l=rt().add(s),f=new Wv(Me.min(),new Map,new Ut(Ve),a,l),[4,kA(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(s),i.Co.delete(t),py(i),[3,4];case 2:return[4,au(i.localStore,t,!1).then(function(){return cu(i,t,n)}).catch(Jo)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function AU(e,t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(s){switch(s.label){case 0:n=ce(e),i=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,UF(n.localStore,t)];case 2:return o=s.sent(),dy(n,i,null),hy(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Wi(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,Jo(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function kU(e,t,n){return H(this,void 0,void 0,function(){var i,o;return q(this,function(s){switch(s.label){case 0:i=ce(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var f=ce(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var p;return f._n.lookupMutationBatch(d,l).next(function(m){return Ee(m!==null),p=m.keys(),f._n.removeMutationBatch(d,m)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,p)})})}(i.localStore,t)];case 2:return o=s.sent(),dy(i,t,n),hy(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Wi(i,o)];case 3:return s.sent(),[3,6];case 4:return[4,Jo(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function CU(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,a;return q(this,function(l){switch(l.label){case 0:Gi((n=ce(e)).remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=ce(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return d._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return s=l.sent(),a=Au(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function hy(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function dy(e,t,n){var i=ce(e),o=i.xo[i.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function cu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var s=o[i];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||CA(e,a)})}function CA(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Xa(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),py(e))}function Om(e,t,n){for(var i=0,o=n;i<o.length;i++){var s=o[i];s instanceof TA?(e.No.addReference(s.key,t),NU(e,s)):s instanceof SA?(re("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||CA(e,s.key)):ge()}}function NU(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(re("SyncEngine","New document in limbo: "+n),e.So.add(i),py(e))}function py(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new me(Qe.fromString(t)),i=e.Fo.next();e.Co.set(i,new bU(n)),e.Do=e.Do.insert(n,i),Eh(e.remoteStore,new bh($r(dc(n.path)),i,2,zn.o))}}function Wi(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a;return q(this,function(l){switch(l.label){case 0:return i=ce(e),o=[],s=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,t,n).then(function(p){if(p){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,p.fromCache?"not-current":"current"),o.push(p);var m=MF.Pn(d.targetId,p);s.push(m)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return H(this,void 0,void 0,function(){var p,m,v,b,_,I,N,R,P;return q(this,function(C){switch(C.label){case 0:p=ce(f),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(L){return ee.forEach(d,function(B){return ee.forEach(B.bn,function(O){return p.persistence.referenceDelegate.addReference(L,B.targetId,O)}).next(function(){return ee.forEach(B.vn,function(O){return p.persistence.referenceDelegate.removeReference(L,B.targetId,O)})})})})];case 2:return C.sent(),[3,4];case 3:if(!Yo(m=C.sent()))throw m;return re("LocalStore","Failed to update sequence numbers: "+m),[3,4];case 4:for(v=0,b=d;v<b.length;v++)_=b[v],I=_.targetId,_.fromCache||(N=p.kn.get(I),R=N.snapshotVersion,P=N.withLastLimboFreeSnapshotVersion(R),p.kn=p.kn.insert(I,P));return[2]}})})}(i.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function RU(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:return(n=ce(e)).currentUser.isEqual(t)?[3,3]:(re("SyncEngine","User change. New user:",t.toKey()),[4,fA(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new Y(F.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Wi(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function xU(e,t){var n=ce(e),i=n.Co.get(t);if(i&&i.bo)return rt().add(i.key);var o=rt(),s=n.Vo.get(t);if(!s)return o;for(var a=0,l=s;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function OU(e,t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(s){switch(s.label){case 0:return[4,Nf((n=ce(e)).localStore,t.query,!0)];case 1:return i=s.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Om(n,t.targetId,o.To),o)]}})})}function DU(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){return[2,pA((t=ce(e)).localStore).then(function(i){return Wi(t,i)})]})})}function PU(e,t,n,i){return H(this,void 0,void 0,function(){var o,s;return q(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=ce(l),p=ce(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(m){return p.jt(m,f).next(function(v){return v?d.Mn.pn(m,v):ee.resolve(null)})})}((o=ce(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Tu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(dy(o,t,i||null),hy(o,t),function(l,f){ce(ce(l)._n).Gt(f)}(o.localStore,t)):ge(),a.label=4;case 4:return[4,Wi(o,s)];case 5:return a.sent(),[3,7];case 6:re("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function LU(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,a,l,f,d;return q(this,function(p){switch(p.label){case 0:return gy(n=ce(e)),my(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,eI(n,i.toArray())]);case 1:return o=p.sent(),n.$o=!0,[4,xm(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=o;s<a.length;s++)l=a[s],Eh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(m,v){n.sharedClientState.isLocalQueryTarget(v)?f.push(v):d=d.then(function(){return cu(n,v),au(n.localStore,v,!0)}),Xa(n.remoteStore,v)}),[4,d]);case 4:return p.sent(),[4,eI(n,f)];case 5:return p.sent(),function(m){var v=ce(m);v.Co.forEach(function(b,_){Xa(v.remoteStore,_)}),v.No.ts(),v.Co=new Map,v.Do=new fn(me.comparator)}(n),n.$o=!1,[4,xm(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function eI(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a,l,f,d,p,m,v,b,_,I,N;return q(this,function(R){switch(R.label){case 0:i=ce(e),o=[],s=[],a=0,l=t,R.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(p=i.Vo.get(f))&&p.length!==0?[4,Cf(i.localStore,$r(p[0]))]:[3,7]):[3,13];case 2:d=R.sent(),m=0,v=p,R.label=3;case 3:return m<v.length?(b=v[m],_=i.Po.get(b),[4,OU(i,_)]):[3,6];case 4:(I=R.sent()).snapshot&&s.push(I.snapshot),R.label=5;case 5:return m++,[3,3];case 6:return[3,11];case 7:return[4,dA(i.localStore,f)];case 8:return N=R.sent(),[4,Cf(i.localStore,N)];case 9:return d=R.sent(),[4,fy(i,NA(N),f,!1)];case 10:R.sent(),R.label=11;case 11:o.push(d),R.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(s),o)]}})})}function NA(e){return A1(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function MU(e){var t=ce(e);return ce(ce(t.localStore).persistence).fn()}function FU(e,t,n,i){return H(this,void 0,void 0,function(){var o,s,a;return q(this,function(l){switch(l.label){case 0:return(o=ce(e)).$o?(re("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,pA(o.localStore)];case 3:return s=l.sent(),a=Wv.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Wi(o,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,au(o.localStore,t,!0)];case 6:return l.sent(),cu(o,t,i),[3,8];case 7:ge(),l.label=8;case 8:return[2]}})})}function UU(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a,l,f,d,p,m,v;return q(this,function(b){switch(b.label){case 0:if(!(i=gy(e)).$o)return[3,10];o=0,s=t,b.label=1;case 1:return o<s.length?(a=s[o],i.Vo.has(a)?(re("SyncEngine","Adding an already active target "+a),[3,5]):[4,dA(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,Cf(i.localStore,l)];case 3:return f=b.sent(),[4,fy(i,NA(l),f.targetId,!1)];case 4:b.sent(),Eh(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(_){return q(this,function(I){switch(I.label){case 0:return i.Vo.has(_)?[4,au(i.localStore,_,!1).then(function(){Xa(i.remoteStore,_),cu(i,_)}).catch(Jo)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},p=0,m=n,b.label=7;case 7:return p<m.length?(v=m[p],[5,d(v)]):[3,10];case 8:b.sent(),b.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function gy(e){var t=ce(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=kA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=SU.bind(null,t),t.vo._r=vU.bind(null,t.eventManager),t.vo.Mo=yU.bind(null,t.eventManager),t}function my(e){var t=ce(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kU.bind(null,t),t}var RA=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return H(this,void 0,void 0,function(){return q(this,function(n){switch(n.label){case 0:return this.R=_h(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return lA(this.persistence,new cA,t.initialUser,this.R)},e.prototype.qo=function(t){return new WF(QF.bs,this.R)},e.prototype.Bo=function(t){return new gA},e.prototype.terminate=function(){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),xA=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=i,s.forceOwnership=o,s.synchronizeTabs=!1,s}return ye(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i=this;return q(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,qF(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,my(this.Qo.syncEngine)];case 4:return o.sent(),[4,Tu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return lA(this.persistence,new cA,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new NF(i,n.asyncQueue)},t.prototype.qo=function(n){var i=ty(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Pr.withCacheSize(this.cacheSizeBytes):Pr.DEFAULT;return new LF(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,mA(),nf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new gA},t}(RA),VU=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return ye(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i,o=this;return q(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof Mg?(this.sharedClientState.syncEngine={ui:PU.bind(null,i),ai:FU.bind(null,i),hi:UU.bind(null,i),fn:MU.bind(null,i),ci:DU.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return H(o,void 0,void 0,function(){return q(this,function(l){switch(l.label){case 0:return[4,LU(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var i=mA();if(!Mg.yt(i))throw new Y(F.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=ty(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Mg(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(xA),Dm=function(){function e(){}return e.prototype.initialize=function(t,n){return H(this,void 0,void 0,function(){var i=this;return q(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return ZE(i.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=RU.bind(null,this.syncEngine),[4,xm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new mU},e.prototype.createDatastore=function(t){var n,i=_h(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new tU(n));return function(s,a,l){return new iU(s,a,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,s,a,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,s=function(f){return ZE(l.syncEngine,f,0)},a=YE.yt()?new YE:new JF,new sU(n,i,o,s,a)},e.prototype.createSyncEngine=function(t,n){return function(i,o,s,a,l,f,d){var p=new _U(i,o,s,a,l,f);return d&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return H(this,void 0,void 0,function(){var n;return q(this,function(i){switch(i.label){case 0:return n=ce(t),re("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Iu(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ih=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),jU=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return H(this,void 0,void 0,function(){var n,i=this;return q(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Y(F.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return H(this,void 0,void 0,function(){var l,f,d,p,m,v;return q(this,function(b){switch(b.label){case 0:return l=ce(s),f=Wa(l.R)+"/documents",d={documents:a.map(function(_){return Ga(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return p=b.sent(),m=new Map,p.forEach(function(_){var I=function(N,R){return"found"in R?function(P,C){Ee(!!C.found),C.found.name,C.found.updateTime;var L=ti(P,C.found.name),B=In(C.found.updateTime),O=new $n({mapValue:{fields:C.found.fields}});return ln.newFoundDocument(L,B,O)}(N,R):"missing"in R?function(P,C){Ee(!!C.missing),Ee(!!C.readTime);var L=ti(P,C.missing),B=In(C.readTime);return ln.newNoDocument(L,B)}(N,R):ge()}(l.R,_);m.set(I.key.toString(),I)}),v=[],[2,(a.forEach(function(_){var I=m.get(_.toString());Ee(!!I),v.push(I)}),v)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return i.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new yc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return H(this,void 0,void 0,function(){var t,n=this;return q(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var a=me.fromPath(s);n.mutations.push(new Gv(a,n.precondition(a)))}),[4,function(o,s){return H(this,void 0,void 0,function(){var a,l,f;return q(this,function(d){switch(d.label){case 0:return a=ce(o),l=Wa(a.R)+"/documents",f={writes:s.map(function(p){return Sf(a.R,p)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ge();n=Me.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new Y(F.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?un.updateTime(n):un.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Me.min()))throw new Y(F.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return un.updateTime(n)}return un.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),BU=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new ry(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return H(t,void 0,void 0,function(){var n,i,o=this;return q(this,function(s){return n=new jU(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Qo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!U1(n)}return!1},e}(),qU=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Wt.UNAUTHENTICATED,this.clientId=y1.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return H(o,void 0,void 0,function(){return q(this,function(a){switch(a.label){case 0:return re("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return H(this,void 0,void 0,function(){return q(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return H(t,void 0,void 0,function(){var i,o;return q(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=s.sent(),o=Au(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(e,t){return H(this,void 0,void 0,function(){var n,i,o=this;return q(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),i=n.initialUser,e.setCredentialChangeListener(function(a){return H(o,void 0,void 0,function(){return q(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,fA(t.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function DA(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,vy(e)];case 1:return n=o.sent(),re("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return H(this,void 0,void 0,function(){var f,d;return q(this,function(p){switch(p.label){case 0:return(f=ce(a)).asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials"),d=Gi(f),f.Or.add(3),[4,Iu(f)];case 1:return p.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),f.Or.delete(3),[4,wc(f)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function vy(e){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(re("FirestoreClient","Using default OfflineComponentProvider"),[4,OA(e,new RA)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Th(e){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(re("FirestoreClient","Using default OnlineComponentProvider"),[4,DA(e,new Dm)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function tI(e){return vy(e).then(function(t){return t.persistence})}function PA(e){return vy(e).then(function(t){return t.localStore})}function nI(e){return Th(e).then(function(t){return t.remoteStore})}function LA(e){return Th(e).then(function(t){return t.syncEngine})}function lu(e){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:return[4,Th(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=EU.bind(null,t.syncEngine),n.onUnlisten=IU.bind(null,t.syncEngine),n)]}})})}function rI(e,t,n){var i=this;n===void 0&&(n={});var o=new Pn;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var s;return q(this,function(a){switch(a.label){case 0:return s=function(l,f,d,p,m){var v=new Ih({next:function(_){f.enqueueAndForget(function(){return ay(l,b)});var I=_.docs.has(d);!I&&_.fromCache?m.reject(new Y(F.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&p&&p.source==="server"?m.reject(new Y(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:function(_){return m.reject(_)}}),b=new ly(dc(d.path),v,{includeMetadataChanges:!0,so:!0});return uy(l,b)},[4,lu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function iI(e,t,n){var i=this;n===void 0&&(n={});var o=new Pn;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var s;return q(this,function(a){switch(a.label){case 0:return s=function(l,f,d,p,m){var v=new Ih({next:function(_){f.enqueueAndForget(function(){return ay(l,b)}),_.fromCache&&p.source==="server"?m.reject(new Y(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:function(_){return m.reject(_)}}),b=new ly(d,v,{includeMetadataChanges:!0,so:!0});return uy(l,b)},[4,lu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var $U=function(e,t,n,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},Of=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),oI=new Map,MA=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},sI=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Wt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),HU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),KU=function(){function e(t){var n=this;this.currentUser=Wt.UNAUTHENTICATED,this.oc=new Pn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){re("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(re("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(re("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Ee(typeof o.accessToken=="string"),new MA(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return q(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Ee(t===null||typeof t=="string"),new Wt(t)},e}(),zU=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),GU=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new zU(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Wt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(e,t,n){if(!n)throw new Y(F.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function wy(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new Y(F.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function FA(e,t,n,i){if(t===!0&&i===!0)throw new Y(F.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function uI(e){if(!me.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function aI(e){if(me.isDocumentKey(e))throw new Y(F.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Sh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ge()}function Ye(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Sh(e);throw new Y(F.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function cI(e,t){if(t<=0)throw new Y(F.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lI=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,FA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Qa=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lI({}),this._settingsFrozen=!1,t instanceof Of?(this._databaseId=t,this._credentials=new sI):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Of(i.options.projectId)}(t),this._credentials=new KU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lI(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new sI;switch(n.type){case"gapi":var i=n.client;return Ee(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new GU(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Y(F.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=oI.get(t))&&(re("ComponentProvider","Removing Datastore"),oI.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),vt=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ui(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Wn=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ui=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,dc(o))||this)._path=o,s.type="collection",s}return ye(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new vt(this.firestore,null,new me(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Wn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=tt(e),yy("collection","path",t),e instanceof Qa)return aI(n=Qe.fromString.apply(Qe,ft([t],i))),new Ui(e,null,n);if(!(e instanceof vt||e instanceof Ui))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return aI(n=Qe.fromString.apply(Qe,ft([e.path],i)).child(Qe.fromString(t))),new Ui(e.firestore,null,n)}function rf(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=tt(e),arguments.length===1&&(t=y1.u()),yy("doc","path",t),e instanceof Qa)return uI(n=Qe.fromString.apply(Qe,ft([t],i))),new vt(e,null,new me(n));if(!(e instanceof vt||e instanceof Ui))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return uI(n=e._path.child(Qe.fromString.apply(Qe,ft([t],i)))),new vt(e.firestore,e instanceof Ui?e.converter:null,new me(n))}function VA(e,t){return e=tt(e),t=tt(t),(e instanceof vt||e instanceof Ui)&&(t instanceof vt||t instanceof Ui)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function jA(e,t){return e=tt(e),t=tt(t),e instanceof Wn&&t instanceof Wn&&e.firestore===t.firestore&&pc(e._query,t._query)&&e.converter===t.converter}var WU=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ry(this,"async_queue_retry"),this.Ic=function(){var i=nf();i&&re("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=nf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=nf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Pn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return H(this,void 0,void 0,function(){var t,n=this;return q(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Yo(t=i.sent()))throw t;return re("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,xt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=pU.createAndSchedule(this,t,n,i,function(a){return o.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&ge()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var s=o[i];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function fu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,s=["next","error","complete"];o<s.length;o++){var a=s[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(e)}var XU=-1,Ft=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new WU,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return ye(t,e),t.prototype._terminate=function(){return this._firestoreClient||BA(this),this._firestoreClient.terminate()},t}(Qa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(e){return e._firestoreClient||BA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function BA(e){var t,n=e._freezeSettings(),i=function(o,s,a,l){return new $U(o,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new qU(e._credentials,e._queue,i)}function fI(e,t,n){var i=this,o=new Pn;return e.asyncQueue.enqueue(function(){return H(i,void 0,void 0,function(){var s;return q(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,OA(e,n)];case 1:return a.sent(),[4,DA(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===F.FAILED_PRECONDITION||l.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function hI(e){if(e._initialized||e._terminated)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Ko=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Dn.fromBase64String(t))}catch(n){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Dn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Zo=function(e){this._methodName=e},Ah=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ve(this._lat,t._lat)||Ve(this._long,t._long)},e}(),QU=/^__.*__$/,YU=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new zi(t,this.data,this.fieldMask,n,this.fieldTransforms):new vc(t,this.data,n,this.fieldTransforms)},e}(),qA=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new zi(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}var HA=function(){function e(t,n,i,o,s,a){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Df(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if($A(this.Nc)&&QU.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),JU=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||_h(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new HA({Nc:t,methodName:n,qc:i,path:_r.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function es(e){var t=e._freezeSettings(),n=_h(e._databaseId);return new JU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kh(e,t,n,i,o,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);Iy("Data must be an object, but it was:",a,i);var l,f,d=GA(i,a);if(s.merge)l=new Ys(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){for(var p=[],m=0,v=s.mergeFields;m<v.length;m++){var b=Pm(t,v[m],n);if(!a.contains(b))throw new Y(F.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");XA(p,b)||p.push(b)}l=new Ys(p),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new YU(new $n(d),l,f)}var by=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Zo);function KA(e,t,n){return new HA({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var ZU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype._toFieldTransform=function(n){return new mc(n.path,new tu)},t.prototype.isEqual=function(n){return n instanceof t},t}(Zo),eV=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return ye(t,e),t.prototype._toFieldTransform=function(n){var i=KA(this,n,!0),o=this.Kc.map(function(a){return ts(a,i)}),s=new $o(o);return new mc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Zo),tV=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return ye(t,e),t.prototype._toFieldTransform=function(n){var i=KA(this,n,!0),o=this.Kc.map(function(a){return ts(a,i)}),s=new Ho(o);return new mc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Zo),nV=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return ye(t,e),t.prototype._toFieldTransform=function(n){var i=new nu(n.R,O1(n.R,this.Qc));return new mc(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(Zo);function _y(e,t,n,i){var o=e.Uc(1,t,n);Iy("Data must be an object, but it was:",o,i);var s=[],a=$n.empty();Xo(i,function(f,d){var p=Ty(t,f,n);d=tt(d);var m=o.Oc(p);if(d instanceof by)s.push(p);else{var v=ts(d,m);v!=null&&(s.push(p),a.set(p,v))}});var l=new Ys(s);return new qA(a,l,o.fieldTransforms)}function Ey(e,t,n,i,o,s){var a=e.Uc(1,t,n),l=[Pm(t,i,n)],f=[o];if(s.length%2!=0)throw new Y(F.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)l.push(Pm(t,s[d])),f.push(s[d+1]);for(var p=[],m=$n.empty(),v=l.length-1;v>=0;--v)if(!XA(p,l[v])){var b=l[v],_=f[v];_=tt(_);var I=a.Oc(b);if(_ instanceof by)p.push(b);else{var N=ts(_,I);N!=null&&(p.push(b),m.set(b,N))}}var R=new Ys(p);return new qA(m,R,a.fieldTransforms)}function zA(e,t,n,i){return i===void 0&&(i=!1),ts(n,e.Uc(i?4:3,t))}function ts(e,t){if(WA(e=tt(e)))return Iy("Unsupported field value:",t,e),GA(e,t);if(e instanceof Zo)return function(n,i){if(!$A(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],s=0,a=0,l=n;a<l.length;a++){var f=ts(l[a],i.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=tt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return O1(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=On.fromDate(n);return{timestampValue:za(i.R,o)}}if(n instanceof On)return o=new On(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:za(i.R,o)};if(n instanceof Ah)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ko)return{bytesValue:q1(i.R,n._byteString)};if(n instanceof vt){o=i.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw i.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:Qv(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+Sh(n))}(e,t)}function GA(e,t){var n={};return b1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xo(e,function(i,o){var s=ts(o,t.kc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function WA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof On||e instanceof Ah||e instanceof Ko||e instanceof vt||e instanceof Zo)}function Iy(e,t,n){if(!WA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=Sh(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function Pm(e,t,n){if((t=tt(t))instanceof Vr)return t._internalPath;if(typeof t=="string")return Ty(e,t);throw Df("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var rV=new RegExp("[~\\*/\\[\\]]");function Ty(e,t,n){if(t.search(rV)>=0)throw Df("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Vr.bind.apply(Vr,ft([void 0],t.split("."))))()._internalPath}catch{throw Df("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Df(e,t,n,i,o){var s=i&&!i.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||a)&&(f+=" (found",s&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new Y(F.INVALID_ARGUMENT,(l+=". ")+e+f)}function XA(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ya=function(){function e(t,n,i,o,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new vt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new iV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Pf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),iV=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Ya);function Pf(e,t){return typeof t=="string"?Ty(e,t):t instanceof Vr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ri=function(e){function t(n,i,o,s,a,l){var f=this;return(f=e.call(this,n,i,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return ye(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Ta(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(Pf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(Ya),Ta=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ri),xi=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new No(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Ta(i._firestore,i._userDataWriter,o.key,o,new No(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var s=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Ta(i._firestore,i._userDataWriter,l.doc.key,l.doc,new No(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Ta(i._firestore,i._userDataWriter,l.doc.key,l.doc,new No(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:oV(l.type),doc:f,oldIndex:d,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function oV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}function QA(e,t){return e instanceof ri&&t instanceof ri?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof xi&&t instanceof xi&&e._firestore===t._firestore&&jA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(e){if(Tf(e)&&e.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bc=function(){};function Ei(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var s=o[i];e=s._apply(e)}return e}var sV=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=i,s.Gc=o,s.type="where",s}return ye(t,e),t.prototype._apply=function(n){var i=es(n.firestore),o=function(s,a,l,f,d,p,m){var v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Y(F.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){vI(m,p);for(var b=[],_=0,I=m;_<I.length;_++){var N=I[_];b.push(mI(f,s,N))}v={arrayValue:{values:b}}}else v=mI(f,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||vI(m,p),v=zA(l,"where",m,p==="in"||p==="not-in");var R=Gn.create(d,p,v);return function(P,C){if(C.g()){var L=Kv(P);if(L!==null&&!L.isEqual(C.field))throw new Y(F.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+L.toString()+"' and '"+C.field.toString()+"'");var B=Hv(P);B!==null&&ZA(P,C.field,B)}var O=function(W,D){for(var ue=0,S=W.filters;ue<S.length;ue++){var Ae=S[ue];if(D.indexOf(Ae.op)>=0)return Ae.op}return null}(P,function(W){switch(W){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(C.op));if(O!==null)throw O===C.op?new Y(F.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+C.op.toString()+"' filter."):new Y(F.INVALID_ARGUMENT,"Invalid query. You cannot use '"+C.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,R),R}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Wn(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new ai(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(bc),uV=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return ye(t,e),t.prototype._apply=function(n){var i=function(o,s,a){if(o.startAt!==null)throw new Y(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Y(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new qs(s,a);return function(f,d){if(Hv(f)===null){var p=Kv(f);p!==null&&ZA(f,p,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Wn(n.firestore,n.converter,function(o,s){var a=o.explicitOrderBy.concat([s]);return new ai(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(bc),dI=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=i,s.Jc=o,s}return ye(t,e),t.prototype._apply=function(n){return new Wn(n.firestore,n.converter,k1(n._query,this.Hc,this.Jc))},t}(bc),pI=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return ye(t,e),t.prototype._apply=function(n){var i=JA(n,this.type,this.Yc,this.Xc);return new Wn(n.firestore,n.converter,function(o,s){return new ai(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,i))},t}(bc),gI=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return ye(t,e),t.prototype._apply=function(n){var i=JA(n,this.type,this.Yc,this.Xc);return new Wn(n.firestore,n.converter,function(o,s){return new ai(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,i))},t}(bc);function JA(e,t,n,i){if(n[0]=tt(n[0]),n[0]instanceof Ya)return function(s,a,l,f,d){if(!f)throw new Y(F.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],m=0,v=eu(s);m<v.length;m++){var b=v[m];if(b.field.isKeyField())p.push(_f(a,f.key));else{var _=f.data.field(b.field);if(Bv(_))throw new Y(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var I=b.field.canonicalString();throw new Y(F.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}p.push(_)}}return new Ka(p,d)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=es(e.firestore);return function(s,a,l,f,d,p){var m=s.explicitOrderBy;if(d.length>m.length)throw new Y(F.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var v=[],b=0;b<d.length;b++){var _=d[b];if(m[b].field.isKeyField()){if(typeof _!="string")throw new Y(F.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!zv(s)&&_.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var I=s.path.child(Qe.fromString(_));if(!me.isDocumentKey(I))throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var N=new me(I);v.push(_f(a,N))}else{var R=zA(l,f,_);v.push(R)}}return new Ka(v,p)}(e._query,e.firestore._databaseId,o,t,n,i)}function mI(e,t,n){if(typeof(n=tt(n))=="string"){if(n==="")throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!zv(t)&&n.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(Qe.fromString(n));if(!me.isDocumentKey(i))throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return _f(e,new me(i))}if(n instanceof vt)return _f(e,n._key);throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Sh(n)+".")}function vI(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Y(F.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function ZA(e,t,n){if(!n.isEqual(t))throw new Y(F.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sy=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),qo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Rt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Js(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ge()}},e.prototype.convertObject=function(t,n){var i=this,o={};return Xo(t.fields,function(s,a){o[s]=i.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new Ah(Rt(t.latitude),Rt(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=E1(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp($a(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=qi(t);return new On(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=Qe.fromString(t);Ee(Q1(i));var o=new Of(i.get(1),i.get(3)),s=new me(i.popFirst(5));return o.isEqual(n)||xt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var aV=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return ye(t,e),t.prototype.convertBytes=function(n){return new Ko(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new vt(this.firestore,null,i)},t}(Sy),cV=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=es(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=Oi(t,this._firestore),s=Ch(o.converter,n,i),a=kh(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,un.none())),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var a,l=Oi(t,this._firestore);return a=typeof(n=tt(n))=="string"||n instanceof Vr?Ey(this._dataReader,"WriteBatch.update",l._key,n,i,o):_y(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,un.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Oi(t,this._firestore);return this._mutations=this._mutations.concat(new yc(n._key,un.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Y(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(e,t){if((e=tt(e)).firestore!==t)throw new Y(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Po=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return ye(t,e),t.prototype.convertBytes=function(n){return new Ko(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new vt(this.firestore,null,i)},t}(Sy);function yI(e,t,n){e=Ye(e,vt);var i=Ye(e.firestore,Ft),o=Ch(e.converter,t,n);return _c(i,[kh(es(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,un.none())])}function wI(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=Ye(e,vt);var s=Ye(e.firestore,Ft),a=es(s);return _c(s,[(typeof(t=tt(t))=="string"||t instanceof Vr?Ey(a,"updateDoc",e._key,t,n,i):_y(a,"updateDoc",e._key,t)).toMutation(e._key,un.exists(!0))])}function ek(e){for(var t,n,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=tt(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||fu(o[l])||(a=o[l],l++);var f,d,p,m={includeMetadataChanges:a.includeMetadataChanges};if(fu(o[l])){var v=o[l];o[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),o[l+1]=(n=v.error)===null||n===void 0?void 0:n.bind(v),o[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}if(e instanceof vt)d=Ye(e.firestore,Ft),p=dc(e._key.path),f={next:function(I){o[l]&&o[l](Lm(d,e,I))},error:o[l+1],complete:o[l+2]};else{var b=Ye(e,Wn);d=Ye(b.firestore,Ft),p=b._query;var _=new Po(d);f={next:function(I){o[l]&&o[l](new xi(d,_,b,I))},error:o[l+1],complete:o[l+2]},YA(e._query)}return function(I,N,R,P){var C=this,L=new Ih(P),B=new ly(N,L,R);return I.asyncQueue.enqueueAndForget(function(){return H(C,void 0,void 0,function(){var O;return q(this,function(W){switch(W.label){case 0:return O=uy,[4,lu(I)];case 1:return[2,O.apply(void 0,[W.sent(),B])]}})})}),function(){L.Wo(),I.asyncQueue.enqueueAndForget(function(){return H(C,void 0,void 0,function(){var O;return q(this,function(W){switch(W.label){case 0:return O=ay,[4,lu(I)];case 1:return[2,O.apply(void 0,[W.sent(),B])]}})})})}}(on(d),p,m,f)}function _c(e,t){return function(n,i){var o=this,s=new Pn;return n.asyncQueue.enqueueAndForget(function(){return H(o,void 0,void 0,function(){var a;return q(this,function(l){switch(l.label){case 0:return a=TU,[4,LA(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,s])]}})})}),s.promise}(on(e),t)}function Lm(e,t,n){var i=n.docs.get(t._key),o=new Po(e);return new ri(e,o,t._key,i,new No(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lV=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return ye(t,e),t.prototype.get=function(n){var i=this,o=Oi(n,this._firestore),s=new Po(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new ri(i._firestore,s,o._key,a._document,new No(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=es(t)}return e.prototype.get=function(t){var n=this,i=Oi(t,this._firestore),o=new aV(this._firestore);return this._transaction.lookup([i._key]).then(function(s){if(!s||s.length!==1)return ge();var a=s[0];if(a.isFoundDocument())return new Ya(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new Ya(n._firestore,o,i._key,null,i.converter);throw ge()})},e.prototype.set=function(t,n,i){var o=Oi(t,this._firestore),s=Ch(o.converter,n,i),a=kh(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a,l=Oi(t,this._firestore);return a=typeof(n=tt(n))=="string"||n instanceof Vr?Ey(this._dataReader,"Transaction.update",l._key,n,i,o):_y(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Oi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(){if(typeof Uint8Array>"u")throw new Y(F.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function _I(){if(typeof atob>"u")throw new Y(F.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var tk=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return _I(),new e(Ko.fromBase64String(t))},e.fromUint8Array=function(t){return bI(),new e(Ko.fromUint8Array(t))},e.prototype.toBase64=function(){return _I(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return bI(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),fV=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){hI(i=Ye(i,Ft));var s=on(i),a=i._freezeSettings(),l=new Dm;return fI(s,l,new xA(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){hI(n=Ye(n,Ft));var i=on(n),o=n._freezeSettings(),s=new Dm;return fI(i,s,new VU(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new Y(F.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Pn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return H(i,void 0,void 0,function(){var s;return q(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return H(this,void 0,void 0,function(){var f;return q(this,function(d){switch(d.label){case 0:return ou.yt()?(f=l+"main",[4,ou.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(ty(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return s=a.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),nk=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Of||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||wf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,s,a,l){var f;l===void 0&&(l={});var d=(o=Ye(o,Qa))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==s&&wf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:s+":"+a,ssl:!1})),l.mockUserToken){var p,m;if(typeof l.mockUserToken=="string")p=l.mockUserToken,m=Wt.MOCK_USER;else{p=cS(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var v=l.mockUserToken.sub||l.mockUserToken.user_id;if(!v)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Wt(v)}o._credentials=new HU(new MA(p,m))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return q(this,function(s){switch(s.label){case 0:return[4,tI(t)];case 1:return i=s.sent(),[4,nI(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=ce(a);return l.Or.delete(0),wc(l)}(o))]}})})})}(on(Ye(this._delegate,Ft)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return q(this,function(s){switch(s.label){case 0:return[4,tI(t)];case 1:return i=s.sent(),[4,nI(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!1),function(a){return H(this,void 0,void 0,function(){var l;return q(this,function(f){switch(f.label){case 0:return(l=ce(a)).Or.add(0),[4,Iu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(on(Ye(this._delegate,Ft)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&FA("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new Pn;return t.asyncQueue.enqueueAndForget(function(){return H(n,void 0,void 0,function(){var o;return q(this,function(s){switch(s.label){case 0:return o=CU,[4,LA(t)];case 1:return[2,o.apply(void 0,[s.sent(),i])]}})})}),i.promise}(on(Ye(this._delegate,Ft)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,s){var a=this,l=new Ih(s);return o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return q(this,function(d){switch(d.label){case 0:return f=function(p,m){ce(p).Gr.add(m),m.next()},[4,lu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return q(this,function(d){switch(d.label){case 0:return f=function(p,m){ce(p).Gr.delete(m)},[4,lu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(on(n=Ye(n,Ft)),fu(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Lf(this,UA(this._delegate,t))}catch(n){throw yn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Lo(this,rf(this._delegate,t))}catch(n){throw yn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new xh(this,function(n,i){if(n=Ye(n,Qa),yy("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Y(F.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Wn(n,null,function(o){return new ai(Qe.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw yn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(s,a){var l=this,f=new Pn;return s.asyncQueue.enqueueAndForget(function(){return H(l,void 0,void 0,function(){var d;return q(this,function(p){switch(p.label){case 0:return[4,function(m){return Th(m).then(function(v){return v.datastore})}(s)];case 1:return d=p.sent(),new BU(s.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(on(i),function(s){return o(new lV(i,s))})}(this._delegate,function(i){return t(new rk(n,i))})},e.prototype.batch=function(){var t=this;return on(this._delegate),new ik(new cV(this._delegate,function(n){return _c(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new Y(F.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Y(F.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Nh=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return ye(t,e),t.prototype.convertBytes=function(n){return new tk(new Ko(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Lo.eu(i,this.firestore,null)},t}(Sy);function hV(e){var t;t=e,yr.setLogLevel(t)}var rk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Nh(t)}return e.prototype.get=function(t){var n=this,i=Ro(t);return this._delegate.get(i).then(function(o){return new Ja(n._firestore,new ri(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=Ro(t);return i?(wy("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Ro(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,ft([l,n,i],s)),this},e.prototype.delete=function(t){var n=Ro(t);return this._delegate.delete(n),this},e}(),ik=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=Ro(t);return i?(wy("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Ro(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,ft([l,n,i],s)),this},e.prototype.delete=function(t){var n=Ro(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Rh=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Ta(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Za(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var s=o.get(n);return s||(s=new e(t,new Nh(t),n),o.set(n,s)),s},e}();Rh.su=new WeakMap;var Lo=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Nh(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new Y(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new vt(n._delegate,i,new me(t)))},e.eu=function(t,n,i){return new e(n,new vt(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Lf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Lf(this.firestore,UA(this._delegate,t))}catch(n){throw yn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=tt(t))instanceof vt&&VA(this._delegate,t)},e.prototype.set=function(t,n){n=wy("DocumentReference.set",n);try{return n?yI(this._delegate,t,n):yI(this._delegate,t)}catch(i){throw yn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?wI(this._delegate,t):wI.apply(void 0,ft([this._delegate,t,n],i))}catch(s){throw yn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return _c(Ye((t=this._delegate).firestore,Ft),[new yc(t._key,un.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=ok(n),s=sk(n,function(a){return new Ja(t.firestore,new ri(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return ek(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=Ye(i,vt);var o=Ye(i.firestore,Ft),s=on(o),a=new Po(o);return function(l,f){var d=this,p=new Pn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var m;return q(this,function(v){switch(v.label){case 0:return m=function(b,_,I){return H(this,void 0,void 0,function(){var N,R;return q(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,function(C,L){var B=ce(C);return B.persistence.runTransaction("read document","readonly",function(O){return B.Mn.mn(O,L)})}(b,_)];case 1:return(R=P.sent()).isFoundDocument()?I.resolve(R):R.isNoDocument()?I.resolve(null):I.reject(new Y(F.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return N=P.sent(),R=Au(N,"Failed to get document '"+_+" from cache"),I.reject(R),[3,3];case 3:return[2]}})})},[4,PA(l)];case 1:return[2,m.apply(void 0,[v.sent(),f,p])]}})})}),p.promise}(s,i._key).then(function(l){return new ri(o,a,i._key,l,new No(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=Ye(i,vt);var o=Ye(i.firestore,Ft);return rI(on(o),i._key,{source:"server"}).then(function(s){return Lm(o,i,s)})}(this._delegate):function(i){i=Ye(i,vt);var o=Ye(i.firestore,Ft);return rI(on(o),i._key).then(function(s){return Lm(o,i,s)})}(this._delegate)).then(function(i){return new Ja(n.firestore,new ri(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Rh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function yn(e,t,n){return e.message=e.message.replace(t,n),e}function ok(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!fu(i))return i}return{}}function sk(e,t){var n,i,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=fu(e[0])?e[0]:fu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var Ja=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Lo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return QA(this._delegate,t._delegate)},e}(),Za=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ye(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Ja),xh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Nh(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,Ei(this._delegate,function(o,s,a){var l=s,f=Pf("where",o);return new sV(f,l,a)}(t,n,i)))}catch(o){throw yn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ei(this._delegate,function(i,o){o===void 0&&(o="asc");var s=o,a=Pf("orderBy",i);return new uV(a,s)}(t,n)))}catch(i){throw yn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ei(this._delegate,function(n){return cI("limit",n),new dI("limit",n,"F")}(t)))}catch(n){throw yn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ei(this._delegate,function(n){return cI("limitToLast",n),new dI("limitToLast",n,"L")}(t)))}catch(n){throw yn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ei(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new pI("startAt",i,!0)}.apply(void 0,t)))}catch(i){throw yn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ei(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new pI("startAfter",i,!1)}.apply(void 0,t)))}catch(i){throw yn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ei(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new gI("endBefore",i,!0)}.apply(void 0,t)))}catch(i){throw yn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ei(this._delegate,function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new gI("endAt",i,!1)}.apply(void 0,t)))}catch(i){throw yn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return jA(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=Ye(i,Wn);var o=Ye(i.firestore,Ft),s=on(o),a=new Po(o);return function(l,f){var d=this,p=new Pn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var m;return q(this,function(v){switch(v.label){case 0:return m=function(b,_,I){return H(this,void 0,void 0,function(){var N,R,P,C,L;return q(this,function(B){switch(B.label){case 0:return B.trys.push([0,2,,3]),[4,Nf(b,_,!0)];case 1:return L=B.sent(),N=new AA(_,L.Bn),R=N._o(L.documents),P=N.applyChanges(R,!1),I.resolve(P.snapshot),[3,3];case 2:return C=B.sent(),L=Au(C,"Failed to execute query '"+_+" against cache"),I.reject(L),[3,3];case 3:return[2]}})})},[4,PA(l)];case 1:return[2,m.apply(void 0,[v.sent(),f,p])]}})})}),p.promise}(s,i._query).then(function(l){return new xi(o,a,i,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=Ye(i,Wn);var o=Ye(i.firestore,Ft),s=on(o),a=new Po(o);return iI(s,i._query,{source:"server"}).then(function(l){return new xi(o,a,i,l)})}(this._delegate):function(i){i=Ye(i,Wn);var o=Ye(i.firestore,Ft),s=on(o),a=new Po(o);return YA(i._query),iI(s,i._query).then(function(l){return new xi(o,a,i,l)})}(this._delegate)).then(function(i){return new Mm(n.firestore,new xi(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=ok(n),s=sk(n,function(a){return new Mm(t.firestore,new xi(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return ek(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Rh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),dV=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Za(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Mm=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new xh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Za(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new dV(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new Za(i._firestore,o))})},e.prototype.isEqual=function(t){return QA(this._delegate,t._delegate)},e}(),Lf=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return ye(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Lo(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Lo(this.firestore,n===void 0?rf(this._delegate):rf(this._delegate,n))}catch(i){throw yn(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,s){var a=Ye(o.firestore,Ft),l=rf(o),f=Ch(o.converter,s);return _c(a,[kh(es(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,un.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Lo(i.firestore,o)})},t.prototype.isEqual=function(n){return VA(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Rh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(xh);function Ro(e){return Ye(e,vt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pV=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Vr.bind.apply(Vr,ft([void 0],t)))}return e.documentId=function(){return new e(_r.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=tt(t))instanceof Vr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),gV=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new ZU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new by("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new eV("arrayUnion",o)}.apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new tV("arrayRemove",o)}.apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new nV("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),mV={Firestore:nk,GeoPoint:Ah,Timestamp:On,Blob:tk,Transaction:rk,WriteBatch:ik,DocumentReference:Lo,DocumentSnapshot:Ja,Query:xh,QueryDocumentSnapshot:Za,QuerySnapshot:Mm,CollectionReference:Lf,FieldPath:pV,FieldValue:gV,setLogLevel:hV,CACHE_SIZE_UNLIMITED:XU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(e){(function(t,n){t.INTERNAL.registerComponent(new nc("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},mV)))})(e,function(t,n){return new nk(t,new Ft(t,n),new fV)}),e.registerVersion("@firebase/firestore","2.4.1")}vV(be);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uk="firebasestorage.googleapis.com",ak="storageBucket",yV=2*60*1e3,wV=10*60*1e3,Pt=function(e){ye(t,e);function t(n,i){var o=e.call(this,Fg(n),"Firebase Storage: "+i+" ("+Fg(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Fg(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(fS);function Fg(e){return"storage/"+e}function Ay(){var e="An unknown error occurred, please check the error payload for server response.";return new Pt("unknown",e)}function bV(e){return new Pt("object-not-found","Object '"+e+"' does not exist.")}function _V(e){return new Pt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function EV(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pt("unauthenticated",e)}function IV(){return new Pt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function TV(e){return new Pt("unauthorized","User does not have permission to access '"+e+"'.")}function SV(){return new Pt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function ck(){return new Pt("canceled","User canceled the upload/download.")}function AV(e){return new Pt("invalid-url","Invalid URL '"+e+"'.")}function kV(e){return new Pt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function CV(){return new Pt("no-default-bucket","No default bucket found. Did you set the '"+ak+"' property when initializing the app?")}function lk(){return new Pt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function NV(){return new Pt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function RV(){return new Pt("no-download-url","The given file does not have any download URLs.")}function $s(e){return new Pt("invalid-argument",e)}function fk(){return new Pt("app-deleted","The Firebase app was deleted.")}function hk(e){return new Pt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sa(e,t){return new Pt("invalid-format","String does not match format '"+e+"': "+t)}function Bl(e){throw new Pt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ug=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function dk(e,t){switch(e){case nr.RAW:return new Ug(pk(t));case nr.BASE64:case nr.BASE64URL:return new Ug(gk(e,t));case nr.DATA_URL:return new Ug(DV(t),PV(t))}throw Ay()}function pk(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=i,a=e.charCodeAt(++n);i=65536|(s&1023)<<10|a&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function OV(e){var t;try{t=decodeURIComponent(e)}catch{throw Sa(nr.DATA_URL,"Malformed data URL.")}return pk(t)}function gk(e,t){switch(e){case nr.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var o=n?"-":"_";throw Sa(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case nr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var o=s?"+":"/";throw Sa(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=xV(t)}catch{throw Sa(e,"Invalid character found")}for(var f=new Uint8Array(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);return f}var mk=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Sa(nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=LV(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();function DV(e){var t=new mk(e);return t.base64?gk(nr.BASE64,t.rest):OV(t.rest)}function PV(e){var t=new mk(e);return t.contentType}function LV(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MV={STATE_CHANGED:"state_changed"},wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Vg(e){switch(e){case"running":case"pausing":case"canceling":return wn.RUNNING;case"paused":return wn.PAUSED;case"success":return wn.SUCCESS;case"canceled":return wn.CANCELED;case"error":return wn.ERROR;default:return wn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Mo||(Mo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FV=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Mo.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Mo.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Mo.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,o){if(this.sent_)throw Bl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Bl("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Bl("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function UV(){return new FV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VV=function(){function e(){}return e.prototype.createConnection=function(){return UV()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw kV(t)},e.makeFromUrl=function(t,n){var i=null,o="([A-Za-z0-9.\\-_]+)";function s(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function d(ue){ue.path_=decodeURIComponent(ue.path)}for(var p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp("^https?://"+m+"/"+p+"/b/"+o+"/o"+v,"i"),_={bucket:1,path:3},I=n===uk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",R=new RegExp("^https?://"+I+"/"+o+"/"+N,"i"),P={bucket:1,path:2},C=[{regex:l,indices:f,postModify:s},{regex:b,indices:_,postModify:d},{regex:R,indices:P,postModify:d}],L=0;L<C.length;L++){var B=C[L],O=B.regex.exec(t);if(O){var W=O[B.indices.bucket],D=O[B.indices.path];D||(D=""),i=new e(W,D),B.postModify(i);break}}if(i==null)throw AV(t);return i},e}(),jV=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(e,t,n){var i=1,o=null,s=!1,a=0;function l(){return a===2}var f=!1;function d(){for(var _=[],I=0;I<arguments.length;I++)_[I]=arguments[I];f||(f=!0,t.apply(null,_))}function p(_){o=setTimeout(function(){o=null,e(m,l())},_)}function m(_){for(var I=[],N=1;N<arguments.length;N++)I[N-1]=arguments[N];if(!f){if(_){d.call.apply(d,ft([null,_],I));return}var R=l()||s;if(R){d.call.apply(d,ft([null,_],I));return}i<64&&(i*=2);var P;a===1?(a=2,P=0):P=(i+Math.random())*1e3,p(P)}}var v=!1;function b(_){v||(v=!0,!f&&(o!==null?(_||(a=2),clearTimeout(o),p(0)):_||(a=1)))}return p(0),setTimeout(function(){s=!0,b(!0)},n),b}function qV(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(e){return e!==void 0}function HV(e){return typeof e=="function"}function KV(e){return typeof e=="object"&&!Array.isArray(e)}function Oh(e){return typeof e=="string"||e instanceof String}function EI(e){return ky()&&e instanceof Blob}function ky(){return typeof Blob<"u"}function Fm(e,t,n,i){if(i<t)throw $s("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw $s("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n==null?void 0:n[1],o=t;return i==null&&(o="https://"+t),o+"/v0"+e}function vk(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var o=t(i)+"="+t(e[i]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zV=function(){function e(t,n,i,o,s,a,l,f,d,p,m){var v=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=p,this.timeout_=d,this.pool_=m,this.promise_=new Promise(function(b,_){v.resolve_=b,v.reject_=_,v.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new ql(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(f){var d=f.loaded,p=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var f=a.getErrorCode()===Mo.NO_ERROR,d=a.getStatus();if(!f||t.isRetryStatusCode_(d)){var p=a.getErrorCode()===Mo.ABORT;o(!1,new ql(!1,null,p));return}var m=t.successCodes_.indexOf(d)!==-1;o(!0,new ql(m,a))})}function i(o,s){var a=t.resolve_,l=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());$V(d)?a(d):a()}catch(m){l(m)}else if(f!==null){var p=Ay();p.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,p)):l(p)}else if(s.canceled){var p=t.appDelete_?fk():ck();l(p)}else{var p=SV();l(p)}}this.canceled_?i(!1,new ql(!1,null,!0)):this.backoffId_=BV(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&qV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],o=i.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),ql=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();function GV(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function WV(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function XV(e,t){t&&(e["X-Firebase-GMPID"]=t)}function QV(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function YV(e,t,n,i,o,s){var a=vk(e.urlParams),l=e.url+a,f=Object.assign({},e.headers);return XV(f,t),GV(f,n),WV(f,s),QV(f,i),new zV(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ZV(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=JV();if(n!==void 0){for(var i=new n,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}else{if(ky())return new Blob(e);throw new Pt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function ej(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cy=function(){function e(t,n){var i=0,o="";EI(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(EI(this.data_)){var i=this.data_,o=ej(i,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(ky()){var i=t.map(function(f){return f instanceof e?f.data_:f});return new e(ZV.apply(null,i))}else{var o=t.map(function(f){return Oh(f)?dk(nr.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var a=new Uint8Array(s),l=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)a[l++]=f[d]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(e){var t;try{t=JSON.parse(e)}catch{return null}return KV(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function nj(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function yk(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(e,t){return t}var mn=function(){function e(t,n,i,o){this.server=t,this.local=n||t,this.writable=!!i,this.xform=o||rj}return e}(),$l=null;function ij(e){return!Oh(e)||e.length<2?e:yk(e)}function Dh(){if($l)return $l;var e=[];e.push(new mn("bucket")),e.push(new mn("generation")),e.push(new mn("metageneration")),e.push(new mn("name","fullPath",!0));function t(s,a){return ij(a)}var n=new mn("name");n.xform=t,e.push(n);function i(s,a){return a!==void 0?Number(a):a}var o=new mn("size");return o.xform=i,e.push(o),e.push(new mn("timeCreated")),e.push(new mn("updated")),e.push(new mn("md5Hash",null,!0)),e.push(new mn("cacheControl",null,!0)),e.push(new mn("contentDisposition",null,!0)),e.push(new mn("contentEncoding",null,!0)),e.push(new mn("contentLanguage",null,!0)),e.push(new mn("contentType",null,!0)),e.push(new mn("metadata","customMetadata",!0)),$l=e,$l}function oj(e,t){function n(){var i=e.bucket,o=e.fullPath,s=new rr(i,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function sj(e,t,n){var i={};i.type="file";for(var o=n.length,s=0;s<o;s++){var a=n[s];i[a.local]=a.xform(i,t[a.server])}return oj(i,e),i}function wk(e,t,n){var i=Ny(t);if(i===null)return null;var o=i;return sj(e,o,n)}function uj(e,t,n){var i=Ny(t);if(i===null||!Oh(i.downloadTokens))return null;var o=i.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,a=o.split(","),l=a.map(function(f){var d=e.bucket,p=e.fullPath,m="/b/"+s(d)+"/o/"+s(p),v=Xi(m,n),b=vk({alt:"media",token:f});return v+b});return l[0]}function Ry(e,t){for(var n={},i=t.length,o=0;o<i;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var II="prefixes",TI="items";function aj(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[II])for(var o=0,s=n[II];o<s.length;o++){var a=s[o],l=a.replace(/\/$/,""),f=e._makeStorageReference(new rr(t,l));i.prefixes.push(f)}if(n[TI])for(var d=0,p=n[TI];d<p.length;d++){var m=p[d],f=e._makeStorageReference(new rr(t,m.name));i.items.push(f)}return i}function cj(e,t,n){var i=Ny(n);if(i===null)return null;var o=i;return aj(e,t,o)}var ci=function(){function e(t,n,i,o){this.url=t,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(e){if(!e)throw Ay()}function Ph(e,t){function n(i,o){var s=wk(e,o,t);return jr(s!==null),s}return n}function lj(e,t){function n(i,o){var s=cj(e,t,o);return jr(s!==null),s}return n}function fj(e,t){function n(i,o){var s=wk(e,o,t);return jr(s!==null),uj(s,o,e.host)}return n}function ku(e){function t(n,i){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=IV():o=EV():n.getStatus()===402?o=_V(e.bucket):n.getStatus()===403?o=TV(e.path):o=i,o.serverResponse=i.serverResponse,o}return t}function Lh(e){var t=ku(e);function n(i,o){var s=t(i,o);return i.getStatus()===404&&(s=bV(e.path)),s.serverResponse=o.serverResponse,s}return n}function bk(e,t,n){var i=t.fullServerUrl(),o=Xi(i,e.host),s="GET",a=e.maxOperationRetryTime,l=new ci(o,s,Ph(e,n),a);return l.errorHandler=Lh(t),l}function hj(e,t,n,i,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),o&&(s.maxResults=o);var a=t.bucketOnlyServerUrl(),l=Xi(a,e.host),f="GET",d=e.maxOperationRetryTime,p=new ci(l,f,lj(e,t.bucket),d);return p.urlParams=s,p.errorHandler=ku(t),p}function dj(e,t,n){var i=t.fullServerUrl(),o=Xi(i,e.host),s="GET",a=e.maxOperationRetryTime,l=new ci(o,s,fj(e,n),a);return l.errorHandler=Lh(t),l}function pj(e,t,n,i){var o=t.fullServerUrl(),s=Xi(o,e.host),a="PATCH",l=Ry(n,i),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,p=new ci(s,a,Ph(e,i),d);return p.headers=f,p.body=l,p.errorHandler=Lh(t),p}function gj(e,t){var n=t.fullServerUrl(),i=Xi(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function a(f,d){}var l=new ci(i,o,a,s);return l.successCodes=[200,204],l.errorHandler=Lh(t),l}function mj(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function _k(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=mj(null,t)),i}function vj(e,t,n,i,o){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var C="",L=0;L<2;L++)C=C+Math.random().toString().slice(2);return C}var f=l();a["Content-Type"]="multipart/related; boundary="+f;var d=_k(t,i,o),p=Ry(d,n),m="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,v=`\r
--`+f+"--",b=Cy.getBlob(m,i,v);if(b===null)throw lk();var _={name:d.fullPath},I=Xi(s,e.host),N="POST",R=e.maxUploadRetryTime,P=new ci(I,N,Ph(e,n),R);return P.urlParams=_,P.headers=a,P.body=b.uploadData(),P.errorHandler=ku(t),P}var Mf=function(){function e(t,n,i,o){this.current=t,this.total=n,this.finalized=!!i,this.metadata=o||null}return e}();function xy(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{jr(!1)}var i=t||["active"];return jr(!!n&&i.indexOf(n)!==-1),n}function yj(e,t,n,i,o){var s=t.bucketOnlyServerUrl(),a=_k(t,i,o),l={name:a.fullPath},f=Xi(s,e.host),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},m=Ry(a,n),v=e.maxUploadRetryTime;function b(I){xy(I);var N;try{N=I.getResponseHeader("X-Goog-Upload-URL")}catch{jr(!1)}return jr(Oh(N)),N}var _=new ci(f,d,b,v);return _.urlParams=l,_.headers=p,_.body=m,_.errorHandler=ku(t),_}function wj(e,t,n,i){var o={"X-Goog-Upload-Command":"query"};function s(d){var p=xy(d,["active","final"]),m=null;try{m=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{jr(!1)}m||jr(!1);var v=Number(m);return jr(!isNaN(v)),new Mf(v,i.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,f=new ci(n,a,s,l);return f.headers=o,f.errorHandler=ku(t),f}var SI=256*1024;function bj(e,t,n,i,o,s,a,l){var f=new Mf(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw NV();var d=f.total-f.current,p=d;o>0&&(p=Math.min(p,o));var m=f.current,v=m+p,b=p===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":""+f.current},I=i.slice(m,v);if(I===null)throw lk();function N(L,B){var O=xy(L,["active","final"]),W=f.current+p,D=i.size(),ue;return O==="final"?ue=Ph(t,s)(L,B):ue=null,new Mf(W,D,O==="final",ue)}var R="POST",P=t.maxUploadRetryTime,C=new ci(n,R,N,P);return C.headers=_,C.body=I.uploadData(),C.progressCallback=l||null,C.errorHandler=ku(e),C}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _j=function(){function e(t,n,i){var o=HV(t)||n!=null||i!=null;if(o)this.next=t,this.error=n,this.complete=i;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ek=function(){function e(t,n,i){var o=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Dh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,a){o._resolve=s,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var o=i[0],s=i[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var o=yj(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,o){var s=wj(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=SI*this._chunkMultiplier,i=new Mf(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=bj(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(l,s,a);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=SI*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var o=bk(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var o=vj(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=ck(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Vg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,o){var s=this,a=new _j(n,i,o);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Vg(this._state)){case wn.SUCCESS:Cs(this._resolve.bind(null,this.snapshot))();break;case wn.CANCELED:case wn.ERROR:var n=this._reject;Cs(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Vg(this._state);switch(n){case wn.RUNNING:case wn.PAUSED:t.next&&Cs(t.next.bind(t,this.snapshot))();break;case wn.SUCCESS:t.complete&&Cs(t.complete.bind(t))();break;case wn.CANCELED:case wn.ERROR:t.error&&Cs(t.error.bind(t,this._error))();break;default:t.error&&Cs(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mh=function(){function e(t,n){this._service=t,n instanceof rr?this._location=n:this._location=rr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new rr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return yk(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=tj(this._location.path);if(t===null)return null;var n=new rr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw hk(t)},e}();function Ej(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Ek(e,new Cy(t),n)}function Ij(e){var t={prefixes:[],items:[]};return Ik(e,t).then(function(){return t})}function Ik(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,a;return q(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,Tk(e,i)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,Ik(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Tk(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Fm("options.maxResults",1,1e3,t.maxResults),n=t||{},i=hj(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}function Tj(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=bk(e.storage,e._location,Dh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Sj(e,t){return H(this,void 0,void 0,function(){var n;return q(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=pj(e.storage,e._location,t,Dh()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function Aj(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=dj(e.storage,e._location,Dh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw RV();return i})]}})})}function kj(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=gj(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Sk(e,t){var n=nj(e._location.path,t),i=new rr(e._location.bucket,n);return new Mh(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(e){return/^[A-Za-z]+:\/\//.test(e)}function Cj(e,t){return new Mh(e,t)}function Ak(e,t){if(e instanceof Fh){var n=e;if(n._bucket==null)throw CV();var i=new Mh(n,n._bucket);return t!=null?Ak(i,t):i}else return t!==void 0?Sk(e,t):e}function Nj(e,t){if(t&&Um(t)){if(e instanceof Fh)return Cj(e,t);throw $s("To use ref(service, url), the first argument must be a Storage instance.")}else return Ak(e,t)}function AI(e,t){var n=t==null?void 0:t[ak];return n==null?null:rr.makeFromBucketSpec(n,e)}function Rj(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var o=i.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:cS(o,e.app.options.projectId))}var Fh=function(){function e(t,n,i,o,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=o,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=uk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yV,this._maxUploadRetryTime=wV,this._requests=new Set,s!=null?this._bucket=rr.makeFromBucketSpec(s,this._host):this._bucket=AI(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,t):this._bucket=AI(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Fm("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Fm("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Mh(this,t)},e.prototype._makeRequest=function(t,n,i){var o=this;if(this._deleted)return new jV(fk());var s=YV(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),i=n[0],o=n[1],[2,this._makeRequest(t,i,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(e,t,n){return e=tt(e),Ej(e,t,n)}function Oj(e){return e=tt(e),Tj(e)}function Dj(e,t){return e=tt(e),Sj(e,t)}function Pj(e,t){return e=tt(e),Tk(e,t)}function Lj(e){return e=tt(e),Ij(e)}function Mj(e){return e=tt(e),Aj(e)}function Fj(e){return e=tt(e),kj(e)}function kI(e,t){return e=tt(e),Nj(e,t)}function Uj(e,t){return Sk(e,t)}function Vj(e,t,n,i){i===void 0&&(i={}),Rj(e,t,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hl=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CI=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Hl(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(o){if(t)return t(new Hl(o,i,i._ref))},n)},e.prototype.on=function(t,n,i,o){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Hl(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new Hl(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,i||void 0,o||void 0)},e}(),NI=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new ec(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new ec(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ec=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=Uj(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new CI(xj(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=nr.RAW),this._throwIfRoot("putString");var o=dk(n,t),s=Gs({},i);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new CI(new Ek(this._delegate,new Cy(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return Lj(this._delegate).then(function(n){return new NI(n,t.storage)})},e.prototype.list=function(t){var n=this;return Pj(this._delegate,t||void 0).then(function(i){return new NI(i,n.storage)})},e.prototype.getMetadata=function(){return Oj(this._delegate)},e.prototype.updateMetadata=function(t){return Dj(this._delegate,t)},e.prototype.getDownloadURL=function(){return Mj(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),Fj(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw hk(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jj=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Um(t))throw $s("ref() expected a child path but got a URL, use refFromURL instead.");return new ec(kI(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Um(t))throw $s("refFromURL() expected a full URL but got a child path, use ref() instead.");try{rr.makeFromUrl(t,this._delegate.host)}catch{throw $s("refFromUrl() expected a valid full URL but got an invalid one.")}return new ec(kI(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),Vj(this._delegate,t,n,i)},e}(),Bj="@firebase/storage",qj="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $j="storage";function Hj(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new jj(i,new Fh(i,o,s,new VV,n,be.SDK_VERSION));return a}function Kj(e){var t={TaskState:wn,TaskEvent:MV,StringFormat:nr,Storage:Fh,Reference:ec};e.INTERNAL.registerComponent(new nc($j,Hj,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(Bj,qj)}Kj(be);const zj={apiKey:"AIzaSyCmrDsXaXqtJ-_bBhE6mijvEJRXGrQV1-8",authDomain:"music-123a9.firebaseapp.com",projectId:"music-123a9",storageBucket:"music-123a9.appspot.com",messagingSenderId:"353431526100",appId:"1:353431526100:web:2a3e6ba688ef0af5a97941"};be.initializeApp(zj);const Vi=be.auth(),kk=be.firestore(),Ck=be.storage(),Gj=kk.collection("users"),Fo=kk.collection("songs"),Ec=oS("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await Vi.createUserWithEmailAndPassword(e.email,e.password);await Gj.doc(t.user.uid).set({name:e.name,email:e.email,age:e.age,country:e.country}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await Vi.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await Vi.signOut(),this.userLoggedIn=!1}}}),Ir=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},Wj={name:"TheHeader",computed:{...kP(um,Ec)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen,console.log(this.modalStore.isOpen)},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},Xj={id:"header",class:"bg-gray-700"},Qj={class:"container mx-auto flex justify-start items-center py-5 px-4"},Yj={class:"flex flex-grow items-center"},Jj={class:"flex flex-row mt-1"},Zj={key:0};function e2(e,t,n,i,o,s){const a=$t("router-link");return nt(),Et("header",Xj,[Z("nav",Qj,[Te(a,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:ei(()=>[Bs("Music")]),_:1}),Z("div",Yj,[Z("ul",Jj,[Z("li",null,[Te(a,{class:"px-2 text-white",to:"/about"},{default:ei(()=>[Bs("About")]),_:1})]),e.userStore.userLoggedIn?(nt(),Et(Mt,{key:1},[Z("li",null,[Te(a,{class:"px-2 text-white",to:"manage"},{default:ei(()=>[Bs("Manage")]),_:1})]),Z("li",null,[Z("a",{class:"px-2 text-white hover:text-red-500 hover:font-bold",href:"#",onClick:t[1]||(t[1]=Nn((...l)=>s.signOut&&s.signOut(...l),["prevent"]))},"Logout")])],64)):(nt(),Et("li",Zj,[Z("a",{class:"px-2 text-white",href:"#",onClick:t[0]||(t[0]=Nn((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},"Login / Register")]))])])])])}const t2=Ir(Wj,[["render",e2]]),n2={name:"loginForm",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:100"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! You are being logged in."}},methods:{...sS(Ec,["authenticate"]),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_show_alert="bg-blue-500",this.login_alert_msg="Please wait! You are being logged in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_show_alert="bg-red-500",this.login_alert_msg="invalid Login Details";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="You are now logged in.",window.location.reload()}}},r2={class:"mb-3"},i2=Z("label",{class:"inline-block mb-2"},"Email",-1),o2={class:"mb-3"},s2=Z("label",{class:"inline-block mb-2"},"Password",-1),u2=["disabled"];function a2(e,t,n,i,o,s){const a=$t("vee-field"),l=$t("ErrorMessage"),f=$t("vee-form");return nt(),Et(Mt,null,[o.login_show_alert?(nt(),Et("div",{key:0,class:Hn(["text-white text-center font-bold p-4 mb-4",o.login_alert_variant])},Zr(o.login_alert_msg),3)):fv("",!0),Te(f,{"validation-schema":o.loginSchema,onSubmit:s.login},{default:ei(()=>[Z("div",r2,[i2,Te(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Te(l,{class:"text-red-600",name:"email"})]),Z("div",o2,[s2,Te(a,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),Te(l,{class:"text-red-600",name:"password"})]),Z("button",{type:"submit",disabled:o.login_in_submission,class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",8,u2)]),_:1},8,["validation-schema","onSubmit"])],64)}const c2=Ir(n2,[["render",a2]]),l2={name:"registerForm",data(){return{schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:120",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! You account is bring created."}},mounted(){console.log(this.userLoggedIn)},methods:{...sS(Ec,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! You account is bring created.";try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occured. Please try again later.";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="You account has been created",window.location.reload()}}},f2={class:"mb-3"},h2=Z("label",{class:"inline-block mb-2"},"Name",-1),d2={class:"mb-3"},p2=Z("label",{class:"inline-block mb-2"},"Email",-1),g2={class:"mb-3"},m2=Z("label",{class:"inline-block mb-2"},"Age",-1),v2={class:"mb-3"},y2=Z("label",{class:"inline-block mb-2"},"Password",-1),w2={class:"mb-3"},b2=Z("label",{class:"inline-block mb-2"},"Confirm Password",-1),_2={class:"mb-3"},E2=Z("label",{class:"inline-block mb-2"},"Country",-1),I2=Z("option",{value:"USA"},"USA",-1),T2=Z("option",{value:"Mexico"},"Mexico",-1),S2=Z("option",{value:"Germany"},"Germany",-1),A2={class:"mb-3 pl-6"},k2=Z("label",{class:"inline-block"},"Accept terms of service",-1),C2=Z("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",-1);function N2(e,t,n,i,o,s){const a=$t("vee-field"),l=$t("ErrorMessage"),f=$t("vee-form");return nt(),Et(Mt,null,[o.reg_show_alert?(nt(),Et("div",{key:0,class:Hn(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},Zr(o.reg_alert_msg),3)):fv("",!0),Te(f,{"validation-schema":o.schema,onSubmit:s.register,"initial-values":o.userData},{default:ei(()=>[Z("div",f2,[h2,Te(a,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Te(l,{class:"text-red-600",name:"name"})]),Z("div",d2,[p2,Te(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Te(l,{class:"text-red-600",name:"email"})]),Z("div",g2,[m2,Te(a,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Te(l,{class:"text-red-600",name:"age"})]),Z("div",v2,[y2,Te(a,{name:"password",bails:!1},{default:ei(({field:d,errors:p})=>[Z("input",JT({type:"password",placeholder:"Password"},d,{class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),null,16),(nt(!0),Et(Mt,null,Yf(p,m=>(nt(),Et("div",{class:"text-red-600",key:m},Zr(m),1))),128))]),_:1}),Te(l,{class:"text-red-600",name:"password"})]),Z("div",w2,[b2,Te(a,{name:"confirm_password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Te(l,{class:"text-red-600",name:"confirm_password"})]),Z("div",_2,[E2,Te(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:ei(()=>[I2,T2,S2]),_:1}),Te(l,{class:"text-red-600",name:"country"})]),Z("div",A2,[Te(a,{name:"tos",value:"1",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),Te(l,{class:"text-red-600 block",name:"tos"}),k2]),C2]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const R2=Ir(l2,[["render",N2]]),x2={name:"TheAuth",components:{LoginForm:c2,RegisterForm:R2},data(){return{tab:"login"}},computed:{...CP(um,["hiddenClass"]),...uS(um,{modalVisibility:"isOpen"})},methods:{}},O2={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},D2=Z("div",{class:"fixed inset-0 transition-opacity"},[Z("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),P2=Z("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1),L2={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},M2={class:"py-4 text-left px-6"},F2={class:"flex justify-between items-center pb-4"},U2=Z("p",{class:"text-2xl font-bold"},"Your Account",-1),V2=Z("i",{class:"fas fa-times"},null,-1),j2=[V2],B2={class:"flex flex-wrap mb-4"},q2={class:"flex-auto text-center"},$2={class:"flex-auto text-center"};function H2(e,t,n,i,o,s){const a=$t("login-form"),l=$t("register-form");return nt(),Et("div",{class:Hn(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[Z("div",O2,[D2,P2,Z("div",L2,[Z("div",M2,[Z("div",F2,[U2,Z("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.modalVisibility=!1)},j2)]),Z("ul",B2,[Z("li",q2,[Z("a",{class:Hn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=Nn(f=>o.tab="login",["prevent"]))},"Login",2)]),Z("li",$2,[Z("a",{class:Hn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=Nn(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(nt(),La(a,{key:0})):(nt(),La(l,{key:1}))])])])],2)}const K2=Ir(x2,[["render",H2]]),z2={name:"App",components:{TheHeader:t2,TheAuth:K2},computed:{...uS(Ec,["userLoggedIn"])},created(){Vi.currentUser&&(this.userLoggedIn=!0)}},G2=YT('<div class="fixed bottom-0 left-0 bg-white px-4 py-2 w-full"><div class="text-center"><span class="song-title font-bold">Song Title</span> by <span class="song-artist">Artist</span></div><div class="flex flex-nowrap gap-4 items-center"><button type="button"><i class="fa fa-play text-gray-500 text-xl"></i></button><div class="player-currenttime">00:00</div><div class="w-full h-2 rounded bg-gray-200 relative cursor-pointer"><span class="absolute -top-2.5 -ml-2.5 text-gray-800 text-lg" style="left:50%;"><i class="fas fa-circle"></i></span><span class="block h-2 rounded bg-gradient-to-r from-green-500 to-green-400" style="width:50%;"></span></div><div class="player-duration">03:06</div></div></div>',1);function W2(e,t,n,i,o,s){const a=$t("the-header"),l=$t("router-view"),f=$t("the-auth");return nt(),Et(Mt,null,[Te(a),Te(l),G2,Te(f)],64)}const X2=Ir(z2,[["render",W2]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Ps=typeof window<"u";function Q2(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ze=Object.assign;function jg(e,t){const n={};for(const i in t){const o=t[i];n[i]=Er(o)?o.map(e):e(o)}return n}const Aa=()=>{},Er=Array.isArray,Y2=/\/$/,J2=e=>e.replace(Y2,"");function Bg(e,t,n="/"){let i,o={},s="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=nB(i??t,n),{fullPath:i+(s&&"?")+s+a,path:i,query:o,hash:a}}function Z2(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function RI(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function eB(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&hu(t.matched[i],n.matched[o])&&Nk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function hu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Nk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!tB(e[n],t[n]))return!1;return!0}function tB(e,t){return Er(e)?xI(e,t):Er(t)?xI(t,e):e===t}function xI(e,t){return Er(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function nB(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let o=n.length-1,s,a;for(s=0;s<i.length;s++)if(a=i[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(s-(s===i.length?1:0)).join("/")}var tc;(function(e){e.pop="pop",e.push="push"})(tc||(tc={}));var ka;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ka||(ka={}));function rB(e){if(!e)if(Ps){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),J2(e)}const iB=/^[^#]+#/;function oB(e,t){return e.replace(iB,"#")+t}function sB(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Uh=()=>({left:window.pageXOffset,top:window.pageYOffset});function uB(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=sB(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function OI(e,t){return(history.state?history.state.position-t:-1)+e}const Vm=new Map;function aB(e,t){Vm.set(e,t)}function cB(e){const t=Vm.get(e);return Vm.delete(e),t}let lB=()=>location.protocol+"//"+location.host;function Rk(e,t){const{pathname:n,search:i,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),RI(f,"")}return RI(n,e)+i+o}function fB(e,t,n,i){let o=[],s=[],a=null;const l=({state:v})=>{const b=Rk(e,location),_=n.value,I=t.value;let N=0;if(v){if(n.value=b,t.value=v,a&&a===_){a=null;return}N=I?v.position-I.position:0}else i(b);o.forEach(R=>{R(n.value,_,{delta:N,type:tc.pop,direction:N?N>0?ka.forward:ka.back:ka.unknown})})};function f(){a=n.value}function d(v){o.push(v);const b=()=>{const _=o.indexOf(v);_>-1&&o.splice(_,1)};return s.push(b),b}function p(){const{history:v}=window;v.state&&v.replaceState(Ze({},v.state,{scroll:Uh()}),"")}function m(){for(const v of s)v();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p),{pauseListeners:f,listen:d,destroy:m}}function DI(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?Uh():null}}function hB(e){const{history:t,location:n}=window,i={value:Rk(e,n)},o={value:t.state};o.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,d,p){const m=e.indexOf("#"),v=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+f:lB()+e+f;try{t[p?"replaceState":"pushState"](d,"",v),o.value=d}catch(b){console.error(b),n[p?"replace":"assign"](v)}}function a(f,d){const p=Ze({},t.state,DI(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});s(f,p,!0),i.value=f}function l(f,d){const p=Ze({},o.value,t.state,{forward:f,scroll:Uh()});s(p.current,p,!0);const m=Ze({},DI(i.value,f,null),{position:p.position+1},d);s(f,m,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function dB(e){e=rB(e);const t=hB(e),n=fB(e,t.state,t.location,t.replace);function i(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=Ze({location:"",base:e,go:i,createHref:oB.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function pB(e){return typeof e=="string"||e&&typeof e=="object"}function xk(e){return typeof e=="string"||typeof e=="symbol"}const Ii={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ok=Symbol("");var PI;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(PI||(PI={}));function du(e,t){return Ze(new Error,{type:e,[Ok]:!0},t)}function Xr(e,t){return e instanceof Error&&Ok in e&&(t==null||!!(e.type&t))}const LI="[^/]+?",gB={sensitive:!1,strict:!1,start:!0,end:!0},mB=/[.+*?^${}()[\]/\\]/g;function vB(e,t){const n=Ze({},gB,t),i=[];let o=n.start?"^":"";const s=[];for(const d of e){const p=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let m=0;m<d.length;m++){const v=d[m];let b=40+(n.sensitive?.25:0);if(v.type===0)m||(o+="/"),o+=v.value.replace(mB,"\\$&"),b+=40;else if(v.type===1){const{value:_,repeatable:I,optional:N,regexp:R}=v;s.push({name:_,repeatable:I,optional:N});const P=R||LI;if(P!==LI){b+=10;try{new RegExp(`(${P})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${_}" (${P}): `+L.message)}}let C=I?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;m||(C=N&&d.length<2?`(?:/${C})`:"/"+C),N&&(C+="?"),o+=C,b+=20,N&&(b+=-8),I&&(b+=-20),P===".*"&&(b+=-50)}p.push(b)}i.push(p)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const p=d.match(a),m={};if(!p)return null;for(let v=1;v<p.length;v++){const b=p[v]||"",_=s[v-1];m[_.name]=b&&_.repeatable?b.split("/"):b}return m}function f(d){let p="",m=!1;for(const v of e){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const b of v)if(b.type===0)p+=b.value;else if(b.type===1){const{value:_,repeatable:I,optional:N}=b,R=_ in d?d[_]:"";if(Er(R)&&!I)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const P=Er(R)?R.join("/"):R;if(!P)if(N)v.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${_}"`);p+=P}}return p||"/"}return{re:a,score:i,keys:s,parse:l,stringify:f}}function yB(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function wB(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const s=yB(i[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-i.length)===1){if(MI(i))return 1;if(MI(o))return-1}return o.length-i.length}function MI(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const bB={type:0,value:""},_B=/[a-zA-Z0-9_]/;function EB(e){if(!e)return[[]];if(e==="/")return[[bB]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let l=0,f,d="",p="";function m(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:p,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function v(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&m(),a()):f===":"?(m(),n=1):v();break;case 4:v(),n=i;break;case 1:f==="("?n=2:_B.test(f)?v():(m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+f:n=3:p+=f;break;case 3:m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),m(),a(),o}function IB(e,t,n){const i=vB(EB(e.path),n),o=Ze(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function TB(e,t){const n=[],i=new Map;t=VI({strict:!1,end:!0,sensitive:!1},t);function o(p){return i.get(p)}function s(p,m,v){const b=!v,_=SB(p);_.aliasOf=v&&v.record;const I=VI(t,p),N=[_];if("alias"in p){const C=typeof p.alias=="string"?[p.alias]:p.alias;for(const L of C)N.push(Ze({},_,{components:v?v.record.components:_.components,path:L,aliasOf:v?v.record:_}))}let R,P;for(const C of N){const{path:L}=C;if(m&&L[0]!=="/"){const B=m.record.path,O=B[B.length-1]==="/"?"":"/";C.path=m.record.path+(L&&O+L)}if(R=IB(C,m,I),v?v.alias.push(R):(P=P||R,P!==R&&P.alias.push(R),b&&p.name&&!UI(R)&&a(p.name)),_.children){const B=_.children;for(let O=0;O<B.length;O++)s(B[O],R,v&&v.children[O])}v=v||R,(R.record.components&&Object.keys(R.record.components).length||R.record.name||R.record.redirect)&&f(R)}return P?()=>{a(P)}:Aa}function a(p){if(xk(p)){const m=i.get(p);m&&(i.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&i.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function f(p){let m=0;for(;m<n.length&&wB(p,n[m])>=0&&(p.record.path!==n[m].record.path||!Dk(p,n[m]));)m++;n.splice(m,0,p),p.record.name&&!UI(p)&&i.set(p.record.name,p)}function d(p,m){let v,b={},_,I;if("name"in p&&p.name){if(v=i.get(p.name),!v)throw du(1,{location:p});I=v.record.name,b=Ze(FI(m.params,v.keys.filter(P=>!P.optional).map(P=>P.name)),p.params&&FI(p.params,v.keys.map(P=>P.name))),_=v.stringify(b)}else if("path"in p)_=p.path,v=n.find(P=>P.re.test(_)),v&&(b=v.parse(_),I=v.record.name);else{if(v=m.name?i.get(m.name):n.find(P=>P.re.test(m.path)),!v)throw du(1,{location:p,currentLocation:m});I=v.record.name,b=Ze({},m.params,p.params),_=v.stringify(b)}const N=[];let R=v;for(;R;)N.unshift(R.record),R=R.parent;return{name:I,path:_,params:b,matched:N,meta:kB(N)}}return e.forEach(p=>s(p)),{addRoute:s,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function FI(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function SB(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:AB(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function AB(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function UI(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function kB(e){return e.reduce((t,n)=>Ze(t,n.meta),{})}function VI(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function Dk(e,t){return t.children.some(n=>n===e||Dk(e,n))}const Pk=/#/g,CB=/&/g,NB=/\//g,RB=/=/g,xB=/\?/g,Lk=/\+/g,OB=/%5B/g,DB=/%5D/g,Mk=/%5E/g,PB=/%60/g,Fk=/%7B/g,LB=/%7C/g,Uk=/%7D/g,MB=/%20/g;function Oy(e){return encodeURI(""+e).replace(LB,"|").replace(OB,"[").replace(DB,"]")}function FB(e){return Oy(e).replace(Fk,"{").replace(Uk,"}").replace(Mk,"^")}function jm(e){return Oy(e).replace(Lk,"%2B").replace(MB,"+").replace(Pk,"%23").replace(CB,"%26").replace(PB,"`").replace(Fk,"{").replace(Uk,"}").replace(Mk,"^")}function UB(e){return jm(e).replace(RB,"%3D")}function VB(e){return Oy(e).replace(Pk,"%23").replace(xB,"%3F")}function jB(e){return e==null?"":VB(e).replace(NB,"%2F")}function Ff(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function BB(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const s=i[o].replace(Lk," "),a=s.indexOf("="),l=Ff(a<0?s:s.slice(0,a)),f=a<0?null:Ff(s.slice(a+1));if(l in t){let d=t[l];Er(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function jI(e){let t="";for(let n in e){const i=e[n];if(n=UB(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Er(i)?i.map(s=>s&&jm(s)):[i&&jm(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function qB(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Er(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const $B=Symbol(""),BI=Symbol(""),Dy=Symbol(""),Vk=Symbol(""),Bm=Symbol("");function da(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Ci(e,t,n,i,o){const s=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=m=>{m===!1?l(du(4,{from:n,to:t})):m instanceof Error?l(m):pB(m)?l(du(2,{from:t,to:m})):(s&&i.enterCallbacks[o]===s&&typeof m=="function"&&s.push(m),a())},d=e.call(i&&i.instances[o],t,n,f);let p=Promise.resolve(d);e.length<3&&(p=p.then(f)),p.catch(m=>l(m))})}function qg(e,t,n,i){const o=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(HB(l)){const d=(l.__vccOpts||l)[t];d&&o.push(Ci(d,n,i,s,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const p=Q2(d)?d.default:d;s.components[a]=p;const v=(p.__vccOpts||p)[t];return v&&Ci(v,n,i,s,a)()}))}}return o}function HB(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function qI(e){const t=or(Dy),n=or(Vk),i=Xe(()=>t.resolve(fe(e.to))),o=Xe(()=>{const{matched:f}=i.value,{length:d}=f,p=f[d-1],m=n.matched;if(!p||!m.length)return-1;const v=m.findIndex(hu.bind(null,p));if(v>-1)return v;const b=$I(f[d-2]);return d>1&&$I(p)===b&&m[m.length-1].path!==b?m.findIndex(hu.bind(null,f[d-2])):v}),s=Xe(()=>o.value>-1&&WB(n.params,i.value.params)),a=Xe(()=>o.value>-1&&o.value===n.matched.length-1&&Nk(n.params,i.value.params));function l(f={}){return GB(f)?t[fe(e.replace)?"replace":"push"](fe(e.to)).catch(Aa):Promise.resolve()}return{route:i,href:Xe(()=>i.value.href),isActive:s,isExactActive:a,navigate:l}}const KB=yu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qI,setup(e,{slots:t}){const n=si(qI(e)),{options:i}=or(Dy),o=Xe(()=>({[HI(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[HI(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:zs("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),zB=KB;function GB(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function WB(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Er(o)||o.length!==i.length||i.some((s,a)=>s!==o[a]))return!1}return!0}function $I(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const HI=(e,t,n)=>e??t??n,XB=yu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=or(Bm),o=Xe(()=>e.route||i.value),s=or(BI,0),a=Xe(()=>{let d=fe(s);const{matched:p}=o.value;let m;for(;(m=p[d])&&!m.components;)d++;return d}),l=Xe(()=>o.value.matched[a.value]);js(BI,Xe(()=>a.value+1)),js($B,l),js(Bm,o);const f=xn();return Qt(()=>[f.value,l.value,e.name],([d,p,m],[v,b,_])=>{p&&(p.instances[m]=d,b&&b!==p&&d&&d===v&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),d&&p&&(!b||!hu(p,b)||!v)&&(p.enterCallbacks[m]||[]).forEach(I=>I(d))},{flush:"post"}),()=>{const d=o.value,p=e.name,m=l.value,v=m&&m.components[p];if(!v)return KI(n.default,{Component:v,route:d});const b=m.props[p],_=b?b===!0?d.params:typeof b=="function"?b(d):b:null,N=zs(v,Ze({},_,t,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(m.instances[p]=null)},ref:f}));return KI(n.default,{Component:N,route:d})||N}}});function KI(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const QB=XB;function YB(e){const t=TB(e.routes,e),n=e.parseQuery||BB,i=e.stringifyQuery||jI,o=e.history,s=da(),a=da(),l=da(),f=UO(Ii);let d=Ii;Ps&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=jg.bind(null,K=>""+K),m=jg.bind(null,jB),v=jg.bind(null,Ff);function b(K,U){let G,J;return xk(K)?(G=t.getRecordMatcher(K),J=U):J=K,t.addRoute(J,G)}function _(K){const U=t.getRecordMatcher(K);U&&t.removeRoute(U)}function I(){return t.getRoutes().map(K=>K.record)}function N(K){return!!t.getRecordMatcher(K)}function R(K,U){if(U=Ze({},U||f.value),typeof K=="string"){const E=Bg(n,K,U.path),A=t.resolve({path:E.path},U),M=o.createHref(E.fullPath);return Ze(E,A,{params:v(A.params),hash:Ff(E.hash),redirectedFrom:void 0,href:M})}let G;if("path"in K)G=Ze({},K,{path:Bg(n,K.path,U.path).path});else{const E=Ze({},K.params);for(const A in E)E[A]==null&&delete E[A];G=Ze({},K,{params:m(K.params)}),U.params=m(U.params)}const J=t.resolve(G,U),Pe=K.hash||"";J.params=p(v(J.params));const qe=Z2(i,Ze({},K,{hash:FB(Pe),path:J.path})),_e=o.createHref(qe);return Ze({fullPath:qe,hash:Pe,query:i===jI?qB(K.query):K.query||{}},J,{redirectedFrom:void 0,href:_e})}function P(K){return typeof K=="string"?Bg(n,K,f.value.path):Ze({},K)}function C(K,U){if(d!==K)return du(8,{from:U,to:K})}function L(K){return W(K)}function B(K){return L(Ze(P(K),{replace:!0}))}function O(K){const U=K.matched[K.matched.length-1];if(U&&U.redirect){const{redirect:G}=U;let J=typeof G=="function"?G(K):G;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=P(J):{path:J},J.params={}),Ze({query:K.query,hash:K.hash,params:"path"in J?{}:K.params},J)}}function W(K,U){const G=d=R(K),J=f.value,Pe=K.state,qe=K.force,_e=K.replace===!0,E=O(G);if(E)return W(Ze(P(E),{state:typeof E=="object"?Ze({},Pe,E.state):Pe,force:qe,replace:_e}),U||G);const A=G;A.redirectedFrom=U;let M;return!qe&&eB(i,J,G)&&(M=du(16,{to:A,from:J}),pt(J,J,!0,!1)),(M?Promise.resolve(M):ue(A,J)).catch(j=>Xr(j)?Xr(j,2)?j:It(j):Ne(j,A,J)).then(j=>{if(j){if(Xr(j,2))return W(Ze({replace:_e},P(j.to),{state:typeof j.to=="object"?Ze({},Pe,j.to.state):Pe,force:qe}),U||A)}else j=Ae(A,J,!0,_e,Pe);return S(A,J,j),j})}function D(K,U){const G=C(K,U);return G?Promise.reject(G):Promise.resolve()}function ue(K,U){let G;const[J,Pe,qe]=JB(K,U);G=qg(J.reverse(),"beforeRouteLeave",K,U);for(const E of J)E.leaveGuards.forEach(A=>{G.push(Ci(A,K,U))});const _e=D.bind(null,K,U);return G.push(_e),Ns(G).then(()=>{G=[];for(const E of s.list())G.push(Ci(E,K,U));return G.push(_e),Ns(G)}).then(()=>{G=qg(Pe,"beforeRouteUpdate",K,U);for(const E of Pe)E.updateGuards.forEach(A=>{G.push(Ci(A,K,U))});return G.push(_e),Ns(G)}).then(()=>{G=[];for(const E of K.matched)if(E.beforeEnter&&!U.matched.includes(E))if(Er(E.beforeEnter))for(const A of E.beforeEnter)G.push(Ci(A,K,U));else G.push(Ci(E.beforeEnter,K,U));return G.push(_e),Ns(G)}).then(()=>(K.matched.forEach(E=>E.enterCallbacks={}),G=qg(qe,"beforeRouteEnter",K,U),G.push(_e),Ns(G))).then(()=>{G=[];for(const E of a.list())G.push(Ci(E,K,U));return G.push(_e),Ns(G)}).catch(E=>Xr(E,8)?E:Promise.reject(E))}function S(K,U,G){for(const J of l.list())J(K,U,G)}function Ae(K,U,G,J,Pe){const qe=C(K,U);if(qe)return qe;const _e=U===Ii,E=Ps?history.state:{};G&&(J||_e?o.replace(K.fullPath,Ze({scroll:_e&&E&&E.scroll},Pe)):o.push(K.fullPath,Pe)),f.value=K,pt(K,U,G,_e),It()}let De;function Ge(){De||(De=o.listen((K,U,G)=>{if(!en.listening)return;const J=R(K),Pe=O(J);if(Pe){W(Ze(Pe,{replace:!0}),J).catch(Aa);return}d=J;const qe=f.value;Ps&&aB(OI(qe.fullPath,G.delta),Uh()),ue(J,qe).catch(_e=>Xr(_e,12)?_e:Xr(_e,2)?(W(_e.to,J).then(E=>{Xr(E,20)&&!G.delta&&G.type===tc.pop&&o.go(-1,!1)}).catch(Aa),Promise.reject()):(G.delta&&o.go(-G.delta,!1),Ne(_e,J,qe))).then(_e=>{_e=_e||Ae(J,qe,!1),_e&&(G.delta&&!Xr(_e,8)?o.go(-G.delta,!1):G.type===tc.pop&&Xr(_e,20)&&o.go(-1,!1)),S(J,qe,_e)}).catch(Aa)}))}let We=da(),je=da(),Ce;function Ne(K,U,G){It(K);const J=je.list();return J.length?J.forEach(Pe=>Pe(K,U,G)):console.error(K),Promise.reject(K)}function we(){return Ce&&f.value!==Ii?Promise.resolve():new Promise((K,U)=>{We.add([K,U])})}function It(K){return Ce||(Ce=!K,Ge(),We.list().forEach(([U,G])=>K?G(K):U()),We.reset()),K}function pt(K,U,G,J){const{scrollBehavior:Pe}=e;if(!Ps||!Pe)return Promise.resolve();const qe=!G&&cB(OI(K.fullPath,0))||(J||!G)&&history.state&&history.state.scroll||null;return Di().then(()=>Pe(K,U,qe)).then(_e=>_e&&uB(_e)).catch(_e=>Ne(_e,K,U))}const gt=K=>o.go(K);let at;const hn=new Set,en={currentRoute:f,listening:!0,addRoute:b,removeRoute:_,hasRoute:N,getRoutes:I,resolve:R,options:e,push:L,replace:B,go:gt,back:()=>gt(-1),forward:()=>gt(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:je.add,isReady:we,install(K){const U=this;K.component("RouterLink",zB),K.component("RouterView",QB),K.config.globalProperties.$router=U,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>fe(f)}),Ps&&!at&&f.value===Ii&&(at=!0,L(o.location).catch(Pe=>{}));const G={};for(const Pe in Ii)G[Pe]=Xe(()=>f.value[Pe]);K.provide(Dy,U),K.provide(Vk,si(G)),K.provide(Bm,f);const J=K.unmount;hn.add(K),K.unmount=function(){hn.delete(K),hn.size<1&&(d=Ii,De&&De(),De=null,f.value=Ii,at=!1,Ce=!1),J()}}};return en}function Ns(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function JB(e,t){const n=[],i=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const l=t.matched[a];l&&(e.matched.find(d=>hu(d,l))?i.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(d=>hu(d,f))||o.push(f))}return[n,i,o]}const ZB={name:"SongItem",props:["song"]},eq={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},tq={href:"#",class:"font-bold block text-gray-600"},nq={class:"text-gray-500 text-sm"},rq={class:"text-gray-600 text-lg"},iq={class:"comments"},oq=Z("i",{class:"fa fa-comments text-gray-600"},null,-1);function sq(e,t,n,i,o,s){return nt(),Et("li",eq,[Z("div",null,[Z("a",tq,Zr(n.song.modified_name),1),Z("span",nq,Zr(n.song.name),1)]),Z("div",rq,[Z("span",iq,[oq,Bs(" "+Zr(n.song.comment_count),1)])])])}const uq=Ir(ZB,[["render",sq]]),aq="/music-player/assets/img/introduction-music.png",cq={name:"Home",components:{AppSongItem:uq},data(){return{songs:[],maxPerPage:25,pendingRequest:!1}},async created(){this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.round(e)+n>t-100&&console.log("Bottom of window")},async getSongs(){if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const t=await Fo.doc(this.songs[this.songs.length-1].docID).get();e=await Fo.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get()}else e=await Fo.orderBy("modified_name").limit(this.maxPerPage).get();e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})}),this.pendingRequest=!1}}},lq=YT('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Listen to Great Music!</h1><p class="w-full md:w-8/12 mx-auto">Checkout some cool music here!</p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+aq+'"></section>',1),fq={class:"container mx-auto"},hq={class:"bg-white rounded border border-gray-200 relative flex flex-col"},dq=Z("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[Z("span",{class:"card-title"},"Songs"),Z("i",{class:"fa fa-headphones-alt float-right text-green-400 text-xl"})],-1),pq={id:"playlist"};function gq(e,t,n,i,o,s){const a=$t("app-song-item");return nt(),Et(Mt,null,[lq,Z("section",fq,[Z("div",hq,[dq,Z("ol",pq,[(nt(!0),Et(Mt,null,Yf(o.songs,l=>(nt(),La(a,{key:l.docID,song:l},null,8,["song"]))),128))])])])],64)}const mq=Ir(cq,[["render",gq]]);const vq={},yq={class:"about"},wq=Z("h1",null,"This is an about page",-1),bq=[wq];function _q(e,t){return nt(),Et("div",yq,bq)}const Eq=Ir(vq,[["render",_q]]),Iq={name:"Upload",data(){return{is_dragover:!1,uploads:[]}},props:["addSong"],methods:{upload(e){this.is_dragover=!1;const t=e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files];t.forEach(n=>{if(n.type!=="audio/mpeg")return;const s=Ck.ref().child(`songs/${n.name}`).put(n),a=this.uploads.push({task:s,current_progress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;s.on("state_changed",l=>{const f=l.bytesTransferred/l.totalBytes*100;this.uploads[a].current_progress=f},l=>{this.uploads[a].variant="bg-red-400",this.uploads[a].icon="fas fa-times",this.uploads[a].text_class="text-red-400",console.log(l)},async()=>{const l={uid:Vi.currentUser.uid,display_name:Vi.currentUser.displayName,original_name:s.snapshot.ref.name,modified_name:s.snapshot.ref.name,genre:"",comment_count:0};l.url=await s.snapshot.ref.getDownloadURL();const d=await(await Fo.add(l)).get();this.addSong(d),this.uploads[a].variant="bg-green-400",this.uploads[a].icon="fas fa-check",this.uploads[a].text_class="text-green-400"})}),console.log(t)},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})}},beforeUnmount(){this.uploads.forEach(e=>{e.task.cancel()})}},Tq={class:"bg-white rounded border border-gray-200 relative flex flex-col"},Sq=Z("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[Z("span",{class:"card-title"},"Upload"),Z("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),Aq={class:"p-6"},kq=Z("h5",null,"Drop your files here",-1),Cq=[kq],Nq=Z("hr",{class:"my-6"},null,-1),Rq={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function xq(e,t,n,i,o,s){return nt(),Et("div",Tq,[Sq,Z("div",Aq,[Z("div",{class:Hn(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=Nn(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Nn(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Nn(a=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Nn(a=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Nn(a=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Nn(a=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Nn(a=>s.upload(a),["prevent","stop"]))},Cq,34),Z("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=a=>s.upload(a))},null,32),Nq,(nt(!0),Et(Mt,null,Yf(o.uploads,a=>(nt(),Et("div",{class:"mb-4",key:a.name},[Z("div",{class:Hn(["font-bold text-sm",a.text_class])},[Z("i",{class:Hn(a.icon)},null,2),Bs(Zr(a.name),1)],2),Z("div",Rq,[Z("div",{class:Hn(["transition-all progress-bar",a.variant]),style:Vf({width:a.current_progress+"%"})},null,6)])]))),128))])])}const Oq=Ir(Iq,[["render",xq]]),Dq={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number,required:!0},removeSong:{type:Function,required:!0},updateUnsavedFlag:{type:Function}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_message:"Please Wait! Updating Song Info"}},methods:{async edit(e){this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_message="Please Wait! Updating Song Info";try{await Fo.doc(this.song.docID).update(e)}catch{this.in_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Try again later";return}this.updateSong(this.index,e),this.updateUnsavedFlag(!1),this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Success!"},async deleteSong(){await Ck.ref().child(`songs/${this.song.original_name}`).delete(),await Fo.doc(this.song.docID).delete(),this.removeSong(this.index)}}},Pq={class:"border border-gray-200 p-3 mb-4 rounded"},Lq={class:"inline-block text-2xl font-bold"},Mq=Z("i",{class:"fa fa-times"},null,-1),Fq=[Mq],Uq=Z("i",{class:"fa fa-pencil-alt"},null,-1),Vq=[Uq],jq={class:"mb-3"},Bq=Z("label",{class:"inline-block mb-2"},"Song Title",-1),qq={class:"mb-3"},$q=Z("label",{class:"inline-block mb-2"},"Genre",-1),Hq=["disabled"],Kq=["disabled"];function zq(e,t,n,i,o,s){const a=$t("vee-field"),l=$t("ErrorMessage"),f=$t("vee-form");return nt(),Et("div",Pq,[x_(Z("div",null,[Z("h4",Lq,Zr(n.song.modified_name),1),Z("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right",onClick:t[0]||(t[0]=Nn((...d)=>s.deleteSong&&s.deleteSong(...d),["prevent"]))},Fq),Z("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right",onClick:t[1]||(t[1]=Nn(d=>o.showForm=!o.showForm,["prevent"]))},Vq)],512),[[W_,!o.showForm]]),x_(Z("div",null,[o.show_alert?(nt(),Et("div",{key:0,class:Hn(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},Zr(o.alert_message),3)):fv("",!0),Te(f,{"validation-schema":o.schema,"initial-values":n.song,onSubmit:s.edit},{default:ei(()=>[Z("div",jq,[Bq,Te(a,{name:"modified_name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateUnsavedFlag(!0))}),Te(l,{class:"text-red-600",name:"modified_name"})]),Z("div",qq,[$q,Te(a,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=d=>n.updateUnsavedFlag(!0))}),Te(l,{class:"text-red-600",name:"genre"})]),Z("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600",disabled:o.in_submission}," Submit ",8,Hq),Z("button",{type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.in_submission,onClick:t[4]||(t[4]=Nn(d=>o.showForm=!1,["prevent"]))}," Go Back ",8,Kq)]),_:1},8,["validation-schema","initial-values","onSubmit"])],512),[[W_,o.showForm]])])}const Gq=Ir(Dq,[["render",zq]]),Wq={name:"manage",components:{AppUpload:Oq,CompositionItem:Gq},data(){return{songs:[],unsavedFlag:!1}},async created(){(await Fo.where("uid","==",Vi.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsavedFlag(e){this.unsavedFlag=e}},beforeRouteLeave(e,t,n){if(!this.unsavedFlag)n();else{const i=confirm("You have unsaved changes. Are you sure you want to leave?");n(i)}}},Xq={class:"container mx-auto mt-6"},Qq={class:"md:grid md:grid-cols-3 md:gap-4"},Yq={class:"col-span-1"},Jq={class:"col-span-2"},Zq={class:"bg-white rounded border border-gray-200 relative flex flex-col"},e3=Z("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[Z("span",{class:"card-title"},"My Songs"),Z("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),t3={class:"p-6"};function n3(e,t,n,i,o,s){const a=$t("app-upload"),l=$t("composition-item");return nt(),Et("section",Xq,[Z("div",Qq,[Z("div",Yq,[Te(a,{ref:"upload",addSong:s.addSong},null,8,["addSong"])]),Z("div",Jq,[Z("div",Zq,[e3,Z("div",t3,[(nt(!0),Et(Mt,null,Yf(o.songs,(f,d)=>(nt(),La(l,{key:f.docID,song:f,updateSong:s.updateSong,index:d,removeSong:s.removeSong,updateUnsavedFlag:s.updateUnsavedFlag},null,8,["song","updateSong","index","removeSong","updateUnsavedFlag"]))),128))])])])])])}const r3=Ir(Wq,[["render",n3]]),i3=[{name:"home",path:"/",component:mq},{home:"about",path:"/about",component:Eq},{name:"manage",path:"/manage-music",component:r3,beforeEnter:(e,t,n)=>{console.log("Manage Route Guard"),n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{path:"/:catchAll(.*)",redirect:{name:"home"}}],jk=YB({history:dB("/music-player/"),routes:i3,linkExactActiveClass:"text-yellow-500"});jk.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}Ec().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.7.3
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */function zo(e){return typeof e=="function"}function Ca(e){return e==null}const Go=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Bk(e){return Number(e)>=0}function o3(e){const t=parseFloat(e);return isNaN(t)?e:t}const qk={};function hr(e,t){u3(e,t),qk[e]=t}function s3(e){return qk[e]}function u3(e,t){if(!zo(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const Ic=Symbol("vee-validate-form"),a3=Symbol("vee-validate-field-instance"),Uf=Symbol("Default empty value"),c3=typeof window<"u";function qm(e){return zo(e)&&!!e.__locatorRef}function Na(e){return!!e&&zo(e.validate)}function pu(e){return e==="checkbox"||e==="radio"}function l3(e){return Go(e)||Array.isArray(e)}function $k(e){return Array.isArray(e)?e.length===0:Go(e)&&Object.keys(e).length===0}function Vh(e){return/^\[.+\]$/i.test(e)}function f3(e){return Hk(e)&&e.multiple}function Hk(e){return e.tagName==="SELECT"}function h3(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function d3(e,t){return!h3(e,t)&&t.type!=="file"&&!pu(t.type)}function Kk(e){return Py(e)&&e.target&&"submit"in e.target}function Py(e){return e?!!(typeof Event<"u"&&zo(Event)&&e instanceof Event||e&&e.srcElement):!1}function zI(e,t){return t in e&&e[t]!==Uf}function qt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!qt(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!qt(i[1],t.get(i[0])))return!1;return!0}if(GI(e)&&GI(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!qt(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function GI(e){return c3?e instanceof File:!1}function WI(e,t,n){typeof n.value=="object"&&(n.value=st(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function st(e){if(typeof e!="object")return e;var t=0,n,i,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(st(a))})):s==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(st(l),st(a))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(st(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)WI(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||WI(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function Ly(e){return Vh(e)?e.replace(/\[|\]/gi,""):e}function kt(e,t,n){return e?Vh(t)?e[Ly(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>l3(o)&&s in o?o[s]:n,e):n}function Ti(e,t,n){if(Vh(t)){e[Ly(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<i.length;s++){if(s===i.length-1){o[i[s]]=n;return}(!(i[s]in o)||Ca(o[i[s]]))&&(o[i[s]]=Bk(i[s+1])?[]:{}),o=o[i[s]]}}function $g(e,t){if(Array.isArray(e)&&Bk(t)){e.splice(Number(t),1);return}Go(e)&&delete e[t]}function Kl(e,t){if(Vh(t)){delete e[Ly(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<n.length;s++){if(s===n.length-1){$g(i,n[s]);break}if(!(n[s]in i)||Ca(i[n[s]]))break;i=i[n[s]]}const o=n.map((s,a)=>kt(e,n.slice(0,a).join(".")));for(let s=o.length-1;s>=0;s--)if($k(o[s])){if(s===0){$g(e,n[0]);continue}$g(o[s-1],n[s-1])}}function Gt(e){return Object.keys(e)}function My(e,t=void 0){const n=eh();return(n==null?void 0:n.provides[e])||or(e,t)}function $m(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(s=>qt(s,t));return o>=0?i.splice(o,1):i.push(t),i}return qt(e,t)?n:t}function XI(e,t=0){let n=null,i=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...o);i.forEach(a=>a(s)),i=[]},t),new Promise(s=>i.push(s))}}function p3(e,t){return Go(t)&&t.number?o3(e):e}function Hm(e,t){let n;return async function(...o){const s=e(...o);n=s;const a=await s;return s!==n||(n=void 0,t(a,o)),a}}function g3({get:e,set:t}){const n=xn(st(e()));return Qt(e,i=>{qt(i,n.value)||(n.value=st(i))},{deep:!0}),Qt(n,i=>{qt(i,e())||t(st(i))},{deep:!0}),n}const jh=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default;function Hg(e){if(zk(e))return e._value}function zk(e){return"_value"in e}function Fy(e){if(!Py(e))return e;const t=e.target;if(pu(t.type)&&zk(t))return Hg(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(f3(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Hg);if(Hk(t)){const n=Array.from(t.options).find(i=>i.selected);return n?Hg(n):t.value}return t.value}function Gk(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Go(e)&&e._$$isNormalized?e:Go(e)?Object.keys(e).reduce((n,i)=>{const o=m3(e[i]);return e[i]!==!1&&(n[i]=QI(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=v3(i);return o.name&&(n[o.name]=QI(o.params)),n},t):t}function m3(e){return e===!0?[]:Array.isArray(e)||Go(e)?e:[e]}function QI(e){const t=n=>typeof n=="string"&&n[0]==="@"?y3(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const v3=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function y3(e){const t=n=>kt(n,e)||n[e];return t.__locatorRef=e,t}function w3(e){return Array.isArray(e)?e.filter(qm):Gt(e).filter(t=>qm(e[t])).map(t=>e[t])}const b3={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Km=Object.assign({},b3);const Uy=()=>Km,_3=e=>{Km=Object.assign(Object.assign({},Km),e)},E3=_3;async function Wk(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await I3(o,e)).errors;return{errors:a,valid:!a.length}}async function I3(e,t){if(Na(e.rules))return T3(t,e.rules,{bails:e.bails});if(zo(e.rules)||Array.isArray(e.rules)){const a={field:e.name,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let p=0;p<f;p++){const m=l[p],v=await m(t,a);if(typeof v!="string"&&v)continue;const _=typeof v=="string"?v:Xk(a);if(d.push(_),e.bails)return{errors:d}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:Gk(e.rules)}),i=[],o=Object.keys(n.rules),s=o.length;for(let a=0;a<s;a++){const l=o[a],f=await S3(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}async function T3(e,t,n){var i;return{errors:await t.validate(e,{abortEarly:(i=n.bails)!==null&&i!==void 0?i:!0}).then(()=>[]).catch(s=>{if(s.name==="ValidationError")return s.errors;throw s})}}async function S3(e,t,n){const i=s3(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=A3(n.params,e.formData),s={field:e.name,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(t,o,s);return typeof a=="string"?{error:a}:{error:a?void 0:Xk(s)}}function Xk(e){const t=Uy().generateMessage;return t?t(e):"Field is invalid"}function A3(e,t){const n=i=>qm(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function k3(e,t){const n=await e.validate(t,{abortEarly:!1}).then(()=>[]).catch(s=>{if(s.name!=="ValidationError")throw s;return s.inner||[]}),i={},o={};for(const s of n){const a=s.errors;i[s.path]={valid:!a.length,errors:a},a.length&&(o[s.path]=a[0])}return{valid:!n.length,results:i,errors:o}}async function C3(e,t,n){const o=Gt(e).map(async d=>{var p,m,v;const b=await Wk(kt(t,d),e[d],{name:((p=n==null?void 0:n.names)===null||p===void 0?void 0:p[d])||d,values:t,bails:(v=(m=n==null?void 0:n.bailsMap)===null||m===void 0?void 0:m[d])!==null&&v!==void 0?v:!0});return Object.assign(Object.assign({},b),{path:d})});let s=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:l,errors:f}}let YI=0;function N3(e,t){const{value:n,initialValue:i,setInitialValue:o}=Qk(e,t.modelValue,t.form),{errorMessage:s,errors:a,setErrors:l}=x3(e,t.form),f=R3(n,i,a),d=YI>=Number.MAX_SAFE_INTEGER?0:++YI;function p(m){var v;"value"in m&&(n.value=m.value),"errors"in m&&l(m.errors),"touched"in m&&(f.touched=(v=m.touched)!==null&&v!==void 0?v:f.touched),"initialValue"in m&&o(m.initialValue)}return{id:d,path:e,value:n,initialValue:i,meta:f,errors:a,errorMessage:s,setState:p}}function Qk(e,t,n){const i=xn(fe(t));function o(){return n?kt(n.meta.value.initialValues,fe(e),fe(i)):fe(i)}function s(d){if(!n){i.value=d;return}n.stageInitialValue(fe(e),d,!0)}const a=Xe(o);if(!n)return{value:xn(o()),initialValue:a,setInitialValue:s};const l=t?fe(t):kt(n.values,fe(e),fe(a));return n.stageInitialValue(fe(e),l,!0),{value:Xe({get(){return kt(n.values,fe(e))},set(d){n.setFieldValue(fe(e),d)}}),initialValue:a,setInitialValue:s}}function R3(e,t,n){const i=si({touched:!1,pending:!1,valid:!0,validated:!!fe(n).length,initialValue:Xe(()=>fe(t)),dirty:Xe(()=>!qt(fe(e),fe(t)))});return Qt(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function x3(e,t){function n(o){return o?Array.isArray(o)?o:[o]:[]}if(!t){const o=xn([]);return{errors:o,errorMessage:Xe(()=>o.value[0]),setErrors:s=>{o.value=n(s)}}}const i=Xe(()=>t.errorBag.value[fe(e)]||[]);return{errors:i,errorMessage:Xe(()=>i.value[0]),setErrors:o=>{t.setFieldErrorBag(fe(e),n(o))}}}function O3(e,t,n){return pu(n==null?void 0:n.type)?L3(e,t,n):Yk(e,t,n)}function Yk(e,t,n){const{initialValue:i,validateOnMount:o,bails:s,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:p,controlled:m,keepValueOnUnmount:v,modelPropName:b,syncVModel:_,form:I}=D3(fe(e),n),N=m?My(Ic):void 0,R=I||N;let P=!1;const{id:C,value:L,initialValue:B,meta:O,setState:W,errors:D,errorMessage:ue}=N3(e,{modelValue:i,form:R});_&&M3({value:L,prop:b,handleChange:Ce});const S=()=>{O.touched=!0},Ae=Xe(()=>{let U=fe(t);const G=fe(R==null?void 0:R.schema);return G&&!Na(G)&&(U=P3(G,fe(e))||U),Na(U)||zo(U)||Array.isArray(U)?U:Gk(U)});async function De(U){var G,J;return R!=null&&R.validateSchema?(G=(await R.validateSchema(U)).results[fe(e)])!==null&&G!==void 0?G:{valid:!0,errors:[]}:Wk(L.value,Ae.value,{name:fe(f)||fe(e),values:(J=R==null?void 0:R.values)!==null&&J!==void 0?J:{},bails:s})}const Ge=Hm(async()=>(O.pending=!0,O.validated=!0,De("validated-only")),U=>(P&&(U.valid=!0,U.errors=[]),W({errors:U.errors}),O.pending=!1,U)),We=Hm(async()=>De("silent"),U=>(P&&(U.valid=!0),O.valid=U.valid,U));function je(U){return(U==null?void 0:U.mode)==="silent"?We():Ge()}function Ce(U,G=!0){const J=Fy(U);L.value=J,!d&&G&&Ge()}Xf(()=>{if(o)return Ge();(!R||!R.validateSchema)&&We()});function Ne(U){O.touched=U}let we,It=st(L.value);function pt(){we=Qt(L,(U,G)=>{if(qt(U,G)&&qt(U,It))return;(d?Ge:We)(),It=st(U)},{deep:!0})}pt();function gt(U){var G;we==null||we();const J=U&&"value"in U?U.value:B.value;W({value:st(J),initialValue:st(J),touched:(G=U==null?void 0:U.touched)!==null&&G!==void 0?G:!1,errors:(U==null?void 0:U.errors)||[]}),O.pending=!1,O.validated=!1,We(),Di(()=>{pt()})}function at(U){L.value=U}function hn(U){W({errors:Array.isArray(U)?U:[U]})}const en={id:C,name:e,label:f,value:L,meta:O,errors:D,errorMessage:ue,type:a,checkedValue:l,uncheckedValue:p,bails:s,keepValueOnUnmount:v,resetField:gt,handleReset:()=>gt(),validate:je,handleChange:Ce,handleBlur:S,setState:W,setTouched:Ne,setErrors:hn,setValue:at};if(js(a3,en),ut(t)&&typeof fe(t)!="function"&&Qt(t,(U,G)=>{qt(U,G)||(O.validated?Ge():We())},{deep:!0}),!R)return en;R.register(en),Qf(()=>{P=!0,R.unregister(en)});const K=Xe(()=>{const U=Ae.value;return!U||zo(U)||Na(U)||Array.isArray(U)?{}:Object.keys(U).reduce((G,J)=>{const Pe=w3(U[J]).map(qe=>qe.__locatorRef).reduce((qe,_e)=>{const E=kt(R.values,_e)||R.values[_e];return E!==void 0&&(qe[_e]=E),qe},{});return Object.assign(G,Pe),G},{})});return Qt(K,(U,G)=>{if(!Object.keys(U).length)return;!qt(U,G)&&(O.validated?Ge():We())}),en}function D3(e,t){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:e,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0});if(!t)return n();const i="valueProp"in t?t.valueProp:t.checkedValue,o="standalone"in t?!t.standalone:t.controlled;return Object.assign(Object.assign(Object.assign({},n()),t||{}),{controlled:o??!0,checkedValue:i})}function P3(e,t){if(e)return e[t]}function L3(e,t,n){const i=n!=null&&n.standalone?void 0:My(Ic),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=Xe(()=>{const m=fe(l.value),v=fe(o);return Array.isArray(m)?m.findIndex(b=>qt(b,v))>=0:qt(v,m)});function p(m,v=!0){var b;if(d.value===((b=m==null?void 0:m.target)===null||b===void 0?void 0:b.checked)){v&&l.validate();return}let _=Fy(m);i||(_=$m(fe(l.value),fe(o),fe(s))),f(_,v)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:p})}return a(Yk(e,t,n))}function M3({prop:e,value:t,handleChange:n}){const i=eh();if(!i)return;const o=e||"modelValue",s=`update:${o}`;o in i.props&&(Qt(t,a=>{qt(a,JI(i,o))||i.emit(s,a)}),Qt(()=>JI(i,o),a=>{if(a===Uf&&t.value===void 0)return;const l=a===Uf?void 0:a;qt(l,p3(t.value,i.props.modelModifiers))||n(l)}))}function JI(e,t){return e.props[t]}const F3=yu({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Uy().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Uf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Mr(e,"rules"),i=Mr(e,"name"),o=Mr(e,"label"),s=Mr(e,"uncheckedValue"),a=Mr(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:p,handleChange:m,handleBlur:v,setTouched:b,resetField:_,handleReset:I,meta:N,checked:R,setErrors:P}=O3(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:V3(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a}),C=function(ue,S=!0){m(ue,S),t.emit("update:modelValue",f.value)},L=D=>{pu(t.attrs.type)||(f.value=Fy(D))},B=function(ue){L(ue),t.emit("update:modelValue",f.value)},O=Xe(()=>{const{validateOnInput:D,validateOnChange:ue,validateOnBlur:S,validateOnModelUpdate:Ae}=U3(e),De=[v,t.attrs.onBlur,S?p:void 0].filter(Boolean),Ge=[Ne=>C(Ne,D),t.attrs.onInput].filter(Boolean),We=[Ne=>C(Ne,ue),t.attrs.onChange].filter(Boolean),je={name:e.name,onBlur:De,onInput:Ge,onChange:We};je["onUpdate:modelValue"]=Ne=>C(Ne,Ae),pu(t.attrs.type)&&R&&(je.checked=R.value);const Ce=ZI(e,t);return d3(Ce,t.attrs)&&(je.value=f.value),je});function W(){return{field:O.value,value:f.value,meta:N,errors:l.value,errorMessage:d.value,validate:p,resetField:_,handleChange:C,handleInput:B,handleReset:I,handleBlur:v,setTouched:b,setErrors:P}}return t.expose({setErrors:P,setTouched:b,reset:_,validate:p,handleChange:m}),()=>{const D=av(ZI(e,t)),ue=jh(D,t,W);return D?zs(D,Object.assign(Object.assign({},t.attrs),O.value),ue):ue}}});function ZI(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function U3(e){var t,n,i,o;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Uy();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function V3(e,t){return pu(t.attrs.type)?zI(e,"modelValue")?e.modelValue:void 0:zI(e,"modelValue")?e.modelValue:t.attrs.value}const j3=F3;let B3=0;function q3(e){var t;const n=B3++,i=new Set;let o=!1;const s=xn({}),a=xn(!1),l=xn(0),f=[],d=si(st(fe(e==null?void 0:e.initialValues)||{})),{errorBag:p,setErrorBag:m,setFieldErrorBag:v}=K3(e==null?void 0:e.initialErrors),b=Xe(()=>Gt(p.value).reduce((k,x)=>{const X=p.value[x];return X&&X.length&&(k[x]=X[0]),k},{}));function _(k){const x=s.value[k];return Array.isArray(x)?x[0]:x}function I(k){return!!s.value[k]}const N=Xe(()=>Gt(s.value).reduce((k,x)=>{const X=_(x);return X&&(k[x]=fe(X.label||X.name)||""),k},{})),R=Xe(()=>Gt(s.value).reduce((k,x)=>{var X;const Q=_(x);return Q&&(k[x]=(X=Q.bails)!==null&&X!==void 0?X:!0),k},{})),P=Object.assign({},(e==null?void 0:e.initialErrors)||{}),C=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:L,originalInitialValues:B,setInitialValues:O}=H3(s,d,e==null?void 0:e.initialValues),W=$3(s,d,B,b),D=Xe(()=>[...i,...Gt(s.value)].reduce((k,x)=>{const X=kt(d,x);return Ti(k,x,X),k},{})),ue=e==null?void 0:e.validationSchema,S=XI(se,5),Ae=XI(se,5),De=Hm(async k=>await k==="silent"?S():Ae(),(k,[x])=>{const X=Ce.fieldsByPath.value||{},Q=Gt(Ce.errorBag.value);return[...new Set([...Gt(k.results),...Gt(X),...Q])].reduce((oe,le)=>{const ae=X[le],Re=(k.results[le]||{errors:[]}).errors,Le={errors:Re,valid:!Re.length};if(oe.results[le]=Le,Le.valid||(oe.errors[le]=Le.errors[0]),!ae)return pt(le,Re),oe;if(we(ae,dn=>dn.meta.valid=Le.valid),x==="silent")return oe;const tn=Array.isArray(ae)?ae.some(dn=>dn.meta.validated):ae.meta.validated;return x==="validated-only"&&!tn||we(ae,dn=>dn.setState({errors:Le.errors})),oe},{valid:k.valid,results:{},errors:{}})});function Ge(k){return function(X,Q){return function(oe){return oe instanceof Event&&(oe.preventDefault(),oe.stopPropagation()),G(Gt(s.value).reduce((le,ae)=>(le[ae]=!0,le),{})),a.value=!0,l.value++,A().then(le=>{const ae=st(d);if(le.valid&&typeof X=="function"){const Re=st(D.value);return X(k?Re:ae,{evt:oe,controlledValues:Re,setErrors:gt,setFieldError:pt,setTouched:G,setFieldTouched:U,setValues:hn,setFieldValue:at,resetForm:J})}!le.valid&&typeof Q=="function"&&Q({values:ae,evt:oe,errors:le.errors,results:le.results})}).then(le=>(a.value=!1,le),le=>{throw a.value=!1,le})}}}const je=Ge(!1);je.withControlled=Ge(!0);const Ce={formId:n,fieldsByPath:s,values:d,controlledValues:D,errorBag:p,errors:b,schema:ue,submitCount:l,meta:W,isSubmitting:a,fieldArrays:f,keepValuesOnUnmount:C,validateSchema:fe(ue)?De:void 0,validate:A,register:_e,unregister:E,setFieldErrorBag:v,validateField:M,setFieldValue:at,setValues:hn,setErrors:gt,setFieldError:pt,setFieldTouched:U,setTouched:G,resetForm:J,handleSubmit:je,stageInitialValue:$,unsetInitialValue:j,setFieldInitialValue:te,useFieldModel:K};function Ne(k){return Array.isArray(k)}function we(k,x){return Array.isArray(k)?k.forEach(x):x(k)}function It(k){Object.values(s.value).forEach(x=>{x&&we(x,k)})}function pt(k,x){v(k,x)}function gt(k){m(k)}function at(k,x,{force:X}={force:!1}){var Q;const ie=s.value[k],oe=st(x);if(!ie){Ti(d,k,oe);return}if(Ne(ie)&&((Q=ie[0])===null||Q===void 0?void 0:Q.type)==="checkbox"&&!Array.isArray(x)){const ae=st($m(kt(d,k)||[],x,void 0));Ti(d,k,ae);return}let le=oe;!Ne(ie)&&ie.type==="checkbox"&&!X&&!o&&(le=st($m(kt(d,k),x,fe(ie.uncheckedValue)))),Ti(d,k,le)}function hn(k){Gt(d).forEach(x=>{delete d[x]}),Gt(k).forEach(x=>{at(x,k[x])}),f.forEach(x=>x&&x.reset())}function en(k){const{value:x}=Qk(k,void 0,Ce);return Qt(x,()=>{I(fe(k))||A({mode:"validated-only"})},{deep:!0}),i.add(fe(k)),x}function K(k){return Array.isArray(k)?k.map(en):en(k)}function U(k,x){const X=s.value[k];X&&we(X,Q=>Q.setTouched(x))}function G(k){Gt(k).forEach(x=>{U(x,!!k[x])})}function J(k){o=!0,It(X=>X.resetField());const x=k!=null&&k.values?k.values:B.value;O(x),hn(x),k!=null&&k.touched&&G(k.touched),gt((k==null?void 0:k.errors)||{}),l.value=(k==null?void 0:k.submitCount)||0,Di(()=>{o=!1})}function Pe(k,x){const X=Uo(k),Q=x;if(!s.value[Q]){s.value[Q]=X;return}const ie=s.value[Q];ie&&!Array.isArray(ie)&&(s.value[Q]=[ie]),s.value[Q]=[...s.value[Q],X]}function qe(k,x){const X=x,Q=s.value[X];if(Q){if(!Ne(Q)&&k.id===Q.id){delete s.value[X];return}if(Ne(Q)){const ie=Q.findIndex(oe=>oe.id===k.id);if(ie===-1)return;Q.splice(ie,1),Q.length||delete s.value[X]}}}function _e(k){const x=fe(k.name);Pe(k,x),ut(k.name)&&Qt(k.name,async(Q,ie)=>{await Di(),qe(k,ie),Pe(k,Q),(b.value[ie]||b.value[Q])&&(pt(ie,void 0),M(Q)),await Di(),I(ie)||Kl(d,ie)});const X=fe(k.errorMessage);X&&(P==null?void 0:P[x])!==X&&M(x),delete P[x]}function E(k){const x=fe(k.name),X=s.value[x],Q=!!X&&Ne(X);qe(k,x),Di(()=>{var ie;const oe=(ie=fe(k.keepValueOnUnmount))!==null&&ie!==void 0?ie:fe(C),le=kt(d,x);if(Q&&(X===s.value[x]||!s.value[x])&&!oe)if(Array.isArray(le)){const Re=le.findIndex(Le=>qt(Le,fe(k.checkedValue)));if(Re>-1){const Le=[...le];Le.splice(Re,1),at(x,Le,{force:!0})}}else le===fe(k.checkedValue)&&Kl(d,x);if(!I(x)){if(pt(x,void 0),oe||Q&&Array.isArray(le)&&!$k(le))return;Kl(d,x)}})}async function A(k){const x=(k==null?void 0:k.mode)||"force";if(x==="force"&&It(oe=>oe.meta.validated=!0),Ce.validateSchema)return Ce.validateSchema(x);const X=await Promise.all(Object.values(s.value).map(oe=>{const le=Array.isArray(oe)?oe[0]:oe;return le?le.validate(k).then(ae=>({key:fe(le.name),valid:ae.valid,errors:ae.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),Q={},ie={};for(const oe of X)Q[oe.key]={valid:oe.valid,errors:oe.errors},oe.errors.length&&(ie[oe.key]=oe.errors[0]);return{valid:X.every(oe=>oe.valid),results:Q,errors:ie}}async function M(k){const x=s.value[k];return x?Array.isArray(x)?x.map(X=>X.validate())[0]:x.validate():Promise.resolve({errors:[],valid:!0})}function j(k){Kl(L.value,k)}function $(k,x,X=!1){Ti(d,k,x),te(k,x),X&&!(e!=null&&e.initialValues)&&Ti(B.value,k,st(x))}function te(k,x){Ti(L.value,k,st(x))}async function se(){const k=fe(ue);return k?Na(k)?await k3(k,d):await C3(k,d,{names:N.value,bailsMap:R.value}):{valid:!0,results:{},errors:{}}}const ne=je((k,{evt:x})=>{Kk(x)&&x.target.submit()});return Xf(()=>{if(e!=null&&e.initialErrors&&gt(e.initialErrors),e!=null&&e.initialTouched&&G(e.initialTouched),e!=null&&e.validateOnMount){A();return}Ce.validateSchema&&Ce.validateSchema("silent")}),ut(ue)&&Qt(ue,()=>{var k;(k=Ce.validateSchema)===null||k===void 0||k.call(Ce,"validated-only")}),js(Ic,Ce),Object.assign(Object.assign({},Ce),{handleReset:()=>J(),submitForm:ne})}function $3(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},s=Xe(()=>!qt(t,fe(n)));function a(){const f=Object.values(e.value).flat(1).filter(Boolean);return Gt(o).reduce((d,p)=>{const m=o[p];return d[p]=f[m](v=>v.meta[p]),d},{})}const l=si(a());return rD(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Xe(()=>Object.assign(Object.assign({initialValues:fe(n)},l),{valid:l.valid&&!Gt(i.value).length,dirty:s.value}))}function H3(e,t,n){const i=xn(st(fe(n))||{}),o=xn(st(fe(n))||{});function s(a,l=!1){i.value=st(a),o.value=st(a),l&&Gt(e.value).forEach(f=>{const d=e.value[f],p=Array.isArray(d)?d.some(v=>v.meta.touched):d==null?void 0:d.meta.touched;if(!d||p)return;const m=kt(i.value,f);Ti(t,f,st(m))})}return ut(n)&&Qt(n,a=>{s(a,!0)},{deep:!0}),{initialValues:i,originalInitialValues:o,setInitialValues:s}}function K3(e){const t=xn({});function n(s){return Array.isArray(s)?s:s?[s]:[]}function i(s,a){if(!a){delete t.value[s];return}t.value[s]=n(a)}function o(s){t.value=Gt(s).reduce((a,l)=>{const f=s[l];return f&&(a[l]=n(f)),a},{})}return e&&o(e),{errorBag:t,setErrorBag:o,setFieldErrorBag:i}}const z3=yu({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Mr(e,"initialValues"),i=Mr(e,"validationSchema"),o=Mr(e,"keepValues"),{errors:s,values:a,meta:l,isSubmitting:f,submitCount:d,controlledValues:p,validate:m,validateField:v,handleReset:b,resetForm:_,handleSubmit:I,setErrors:N,setFieldError:R,setFieldValue:P,setValues:C,setFieldTouched:L,setTouched:B}=q3({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),O=I((Ae,{evt:De})=>{Kk(De)&&De.target.submit()},e.onInvalidSubmit),W=e.onSubmit?I(e.onSubmit,e.onInvalidSubmit):O;function D(Ae){Py(Ae)&&Ae.preventDefault(),b(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function ue(Ae,De){return I(typeof Ae=="function"&&!De?Ae:De,e.onInvalidSubmit)(Ae)}function S(){return{meta:l.value,errors:s.value,values:a,isSubmitting:f.value,submitCount:d.value,controlledValues:p.value,validate:m,validateField:v,handleSubmit:ue,handleReset:b,submitForm:O,setErrors:N,setFieldError:R,setFieldValue:P,setValues:C,setFieldTouched:L,setTouched:B,resetForm:_}}return t.expose({setFieldError:R,setErrors:N,setFieldValue:P,setValues:C,setFieldTouched:L,setTouched:B,resetForm:_,validate:m,validateField:v}),function(){const De=e.as==="form"?e.as:av(e.as),Ge=jh(De,t,S);if(!e.as)return Ge;const We=e.as==="form"?{novalidate:!0}:{};return zs(De,Object.assign(Object.assign(Object.assign({},We),t.attrs),{onSubmit:W,onReset:D}),Ge)}}}),G3=z3;function W3(e){const t=My(Ic,void 0),n=xn([]),i=()=>{},o={fields:n,remove:i,push:i,swap:i,insert:i,update:i,replace:i,prepend:i,move:i};if(!t||!fe(e))return o;const s=t.fieldArrays.find(C=>fe(C.path)===fe(e));if(s)return s;let a=0;function l(){const C=kt(t==null?void 0:t.values,fe(e),[])||[];n.value=C.map(d),f()}l();function f(){const C=n.value.length;for(let L=0;L<C;L++){const B=n.value[L];B.isFirst=L===0,B.isLast=L===C-1}}function d(C){const L=a++;return{key:L,value:g3({get(){const O=kt(t==null?void 0:t.values,fe(e),[])||[],W=n.value.findIndex(D=>D.key===L);return W===-1?C:O[W]},set(O){const W=n.value.findIndex(D=>D.key===L);W!==-1&&I(W,O)}}),isFirst:!1,isLast:!1}}function p(C){const L=fe(e),B=kt(t==null?void 0:t.values,L);if(!B||!Array.isArray(B))return;const O=[...B];O.splice(C,1),t==null||t.unsetInitialValue(L+`[${C}]`),t==null||t.setFieldValue(L,O),n.value.splice(C,1),f()}function m(C){const L=fe(e),B=kt(t==null?void 0:t.values,L),O=Ca(B)?[]:B;if(!Array.isArray(O))return;const W=[...O];W.push(C),t==null||t.stageInitialValue(L+`[${W.length-1}]`,C),t==null||t.setFieldValue(L,W),n.value.push(d(C)),f()}function v(C,L){const B=fe(e),O=kt(t==null?void 0:t.values,B);if(!Array.isArray(O)||!(C in O)||!(L in O))return;const W=[...O],D=[...n.value],ue=W[C];W[C]=W[L],W[L]=ue;const S=D[C];D[C]=D[L],D[L]=S,t==null||t.setFieldValue(B,W),n.value=D,f()}function b(C,L){const B=fe(e),O=kt(t==null?void 0:t.values,B);if(!Array.isArray(O)||O.length<C)return;const W=[...O],D=[...n.value];W.splice(C,0,L),D.splice(C,0,d(L)),t==null||t.setFieldValue(B,W),n.value=D,f()}function _(C){const L=fe(e);t==null||t.setFieldValue(L,C),l()}function I(C,L){const B=fe(e),O=kt(t==null?void 0:t.values,B);!Array.isArray(O)||O.length-1<C||(t==null||t.setFieldValue(`${B}[${C}]`,L),t==null||t.validate({mode:"validated-only"}))}function N(C){const L=fe(e),B=kt(t==null?void 0:t.values,L),O=Ca(B)?[]:B;if(!Array.isArray(O))return;const W=[C,...O];t==null||t.stageInitialValue(L+`[${W.length-1}]`,C),t==null||t.setFieldValue(L,W),n.value.unshift(d(C)),f()}function R(C,L){const B=fe(e),O=kt(t==null?void 0:t.values,B),W=Ca(O)?[]:[...O];if(!Array.isArray(O)||!(C in O)||!(L in O))return;const D=[...n.value],ue=D[C];D.splice(C,1),D.splice(L,0,ue);const S=W[C];W.splice(C,1),W.splice(L,0,S),t==null||t.setFieldValue(B,W),n.value=D,f()}const P={fields:n,remove:p,push:m,swap:v,insert:b,update:I,replace:_,prepend:N,move:R};return t.fieldArrays.push(Object.assign({path:e,reset:l},P)),Qf(()=>{const C=t.fieldArrays.findIndex(L=>fe(L.path)===fe(e));C>=0&&t.fieldArrays.splice(C,1)}),P}yu({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:i,swap:o,insert:s,replace:a,update:l,prepend:f,move:d,fields:p}=W3(Mr(e,"name"));function m(){return{fields:p.value,push:n,remove:i,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}}return t.expose({push:n,remove:i,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}),()=>jh(void 0,t,m)}});const X3=yu({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=or(Ic,void 0),i=Xe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const s=e.as?av(e.as):e.as,a=jh(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?zs(s||"span",l,i.value):zs(s,l,a)}}}),Q3=X3;/**
  * vee-validate v4.7.3
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */const zl={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},Y3=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Tc(e,t){return Array.isArray(e)?e[0]:e[t]}function Qi(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const Jk=(e,t)=>{if(Qi(e))return!0;const n=Y3(t);if(Array.isArray(e))return e.every(o=>Jk(o,{locale:n}));const i=String(e);return n?(zl[n]||zl.en).test(i):Object.keys(zl).some(o=>zl[o].test(i))},J3=(e,t)=>{const n=Tc(t,"target");return String(e)===String(n)},Z3=e=>{if(Qi(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function e4(e){return e==null}function t4(e){return Array.isArray(e)&&e.length===0}const Zk=(e,t)=>{if(Qi(e))return!0;const n=Tc(t,"length");return Array.isArray(e)?e.every(i=>Zk(i,{length:n})):String(e).length<=Number(n)},eC=(e,t)=>{if(Qi(e))return!0;const n=Tc(t,"max");return Array.isArray(e)?e.length>0&&e.every(i=>eC(i,{max:n})):Number(e)<=Number(n)},tC=(e,t)=>{if(Qi(e))return!0;const n=Tc(t,"length");return Array.isArray(e)?e.every(i=>tC(i,{length:n})):String(e).length>=Number(n)},nC=(e,t)=>{if(Qi(e))return!0;const n=Tc(t,"min");return Array.isArray(e)?e.length>0&&e.every(i=>nC(i,{min:n})):Number(e)>=Number(n)},rC=(e,t)=>Qi(e)?!0:Array.isArray(e)?e.every(n=>rC(n,t)):Array.from(t).some(n=>n==e),eT=(e,t)=>Qi(e)?!0:!rC(e,t),tT=e=>e4(e)||t4(e)||e===!1?!1:!!String(e).trim().length,n4={install(e){e.component("VeeForm",G3),e.component("VeeField",j3),e.component("ErrorMessage",Q3),hr("required",tT),hr("tos",tT),hr("min",tC),hr("max",Zk),hr("alpha_spaces",Jk),hr("email",Z3),hr("min_value",nC),hr("max_value",eC),hr("passwords_mismatch",J3),hr("excluded",eT),hr("country_excluded",eT),E3({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too long.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces.`,email:` The field ${t.field} must be a valid email.`,min_val:`The field ${t.field} is too low.`,max_val:`The field ${t.field} is too high.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",passwords_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service"};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let Rs;Vi.onAuthStateChanged(()=>{Rs||(Rs=yP(X2),Rs.use(_P()),Rs.use(jk),Rs.use(n4),Rs.mount("#app"))});
